{"map":"{\"version\":3,\"sources\":[\"webpack/bootstrap\",\"/media/illia/Новый том/Mark-up/test3D/src/index.js\",\"/media/illia/Новый том/Mark-up/test3D/src/OrbitControls.js\",\"/media/illia/Новый том/Mark-up/test3D/src/three.js\"],\"names\":[\"installedModules\",\"__webpack_require__\",\"moduleId\",\"exports\",\"module\",\"i\",\"l\",\"modules\",\"call\",\"m\",\"c\",\"d\",\"name\",\"getter\",\"o\",\"Object\",\"defineProperty\",\"enumerable\",\"get\",\"r\",\"Symbol\",\"toStringTag\",\"value\",\"t\",\"mode\",\"__esModule\",\"ns\",\"create\",\"key\",\"bind\",\"n\",\"object\",\"property\",\"prototype\",\"hasOwnProperty\",\"p\",\"s\",\"camera\",\"controls\",\"scene\",\"renderer\",\"onWindowResize\",\"aspect\",\"window\",\"innerWidth\",\"innerHeight\",\"updateProjectionMatrix\",\"setSize\",\"WEBGL\",\"isWebGLAvailable\",\"document\",\"body\",\"appendChild\",\"getWebGLErrorMessage\",\"THREE\",\"Scene\",\"background\",\"Color\",\"fog\",\"FogExp2\",\"WebGLRenderer\",\"antialias\",\"setPixelRatio\",\"devicePixelRatio\",\"domElement\",\"PerspectiveCamera\",\"position\",\"set\",\"OrbitControls\",\"enableDamping\",\"dampingFactor\",\"screenSpacePanning\",\"minDistance\",\"maxDistance\",\"maxPolarAngle\",\"Math\",\"PI\",\"geometryCylinder\",\"CylinderBufferGeometry\",\"geometrySphere\",\"SphereGeometry\",\"random\",\"geometryCube\",\"CubeGeometry\",\"material\",\"MeshPhongMaterial\",\"color\",\"flatShading\",\"createBtn\",\"querySelector\",\"selectInput\",\"selectOptions\",\"cube\",\"sphere\",\"pyramid\",\"scaleInput\",\"idList\",\"listItems\",\"querySelectorAll\",\"addEventListener\",\"e\",\"mesh\",\"preventDefault\",\"scale\",\"Mesh\",\"x\",\"y\",\"z\",\"updateMatrix\",\"matrixAutoUpdate\",\"add\",\"listItem\",\"createElement\",\"setAttribute\",\"uuid\",\"innerHTML\",\"length\",\"this\",\"parentElement\",\"remove\",\"light\",\"DirectionalLight\",\"AmbientLight\",\"init\",\"animate\",\"requestAnimationFrame\",\"update\",\"render\",\"undefined\",\"enabled\",\"target\",\"Vector3\",\"Infinity\",\"minZoom\",\"maxZoom\",\"minPolarAngle\",\"minAzimuthAngle\",\"maxAzimuthAngle\",\"enableZoom\",\"zoomSpeed\",\"enableRotate\",\"rotateSpeed\",\"enablePan\",\"panSpeed\",\"keyPanSpeed\",\"autoRotate\",\"autoRotateSpeed\",\"enableKeys\",\"keys\",\"LEFT\",\"UP\",\"RIGHT\",\"BOTTOM\",\"mouseButtons\",\"MOUSE\",\"MIDDLE\",\"target0\",\"clone\",\"position0\",\"zoom0\",\"zoom\",\"getPolarAngle\",\"spherical\",\"phi\",\"getAzimuthalAngle\",\"theta\",\"saveState\",\"scope\",\"copy\",\"reset\",\"dispatchEvent\",\"changeEvent\",\"state\",\"STATE\",\"NONE\",\"offset\",\"quat\",\"Quaternion\",\"setFromUnitVectors\",\"up\",\"quatInverse\",\"inverse\",\"lastPosition\",\"lastQuaternion\",\"sub\",\"applyQuaternion\",\"setFromVector3\",\"rotateLeft\",\"sphericalDelta\",\"max\",\"min\",\"makeSafe\",\"radius\",\"panOffset\",\"setFromSpherical\",\"lookAt\",\"multiplyScalar\",\"zoomChanged\",\"distanceToSquared\",\"EPS\",\"dot\",\"quaternion\",\"dispose\",\"removeEventListener\",\"onContextMenu\",\"onMouseDown\",\"onMouseWheel\",\"onTouchStart\",\"onTouchEnd\",\"onTouchMove\",\"onMouseMove\",\"onMouseUp\",\"onKeyDown\",\"type\",\"startEvent\",\"endEvent\",\"ROTATE\",\"DOLLY\",\"PAN\",\"TOUCH_ROTATE\",\"TOUCH_DOLLY_PAN\",\"Spherical\",\"rotateStart\",\"Vector2\",\"rotateEnd\",\"rotateDelta\",\"panStart\",\"panEnd\",\"panDelta\",\"dollyStart\",\"dollyEnd\",\"dollyDelta\",\"getZoomScale\",\"pow\",\"angle\",\"rotateUp\",\"panLeft\",\"v\",\"distance\",\"objectMatrix\",\"setFromMatrixColumn\",\"panUp\",\"crossVectors\",\"pan\",\"deltaX\",\"deltaY\",\"element\",\"isPerspectiveCamera\",\"targetDistance\",\"tan\",\"fov\",\"clientHeight\",\"matrix\",\"isOrthographicCamera\",\"right\",\"left\",\"clientWidth\",\"top\",\"bottom\",\"console\",\"warn\",\"dollyIn\",\"dollyScale\",\"dollyOut\",\"handleMouseDownPan\",\"event\",\"clientX\",\"clientY\",\"button\",\"ctrlKey\",\"metaKey\",\"handleMouseDownRotate\",\"handleMouseDownDolly\",\"subVectors\",\"handleMouseMoveRotate\",\"handleMouseMoveDolly\",\"handleMouseMovePan\",\"stopPropagation\",\"handleMouseWheel\",\"keyCode\",\"handleKeyDown\",\"touches\",\"pageX\",\"pageY\",\"handleTouchStartRotate\",\"dx\",\"dy\",\"sqrt\",\"handleTouchStartDollyPan\",\"handleTouchMoveRotate\",\"handleTouchMoveDollyPan\",\"EventDispatcher\",\"constructor\",\"defineProperties\",\"center\",\"noZoom\",\"noRotate\",\"noPan\",\"noKeys\",\"staticMoving\",\"dynamicDampingFactor\",\"global\",\"factory\",\"_typeof\",\"define\",\"__WEBPACK_AMD_DEFINE_RESULT__\",\"__WEBPACK_AMD_DEFINE_FACTORY__\",\"apply\",\"__WEBPACK_AMD_DEFINE_ARRAY__\",\"Number\",\"EPSILON\",\"isInteger\",\"isFinite\",\"floor\",\"sign\",\"Function\",\"toString\",\"match\",\"assign\",\"TypeError\",\"output\",\"index\",\"arguments\",\"source\",\"nextKey\",\"listener\",\"_listeners\",\"listeners\",\"indexOf\",\"push\",\"hasEventListener\",\"listenerArray\",\"splice\",\"array\",\"slice\",\"REVISION\",\"CullFaceNone\",\"CullFaceBack\",\"CullFaceFront\",\"PCFShadowMap\",\"PCFSoftShadowMap\",\"FrontSide\",\"BackSide\",\"DoubleSide\",\"NoColors\",\"FaceColors\",\"VertexColors\",\"NoBlending\",\"NormalBlending\",\"AdditiveBlending\",\"SubtractiveBlending\",\"MultiplyBlending\",\"CustomBlending\",\"AddEquation\",\"SubtractEquation\",\"ReverseSubtractEquation\",\"MinEquation\",\"MaxEquation\",\"ZeroFactor\",\"OneFactor\",\"SrcColorFactor\",\"OneMinusSrcColorFactor\",\"SrcAlphaFactor\",\"OneMinusSrcAlphaFactor\",\"DstAlphaFactor\",\"OneMinusDstAlphaFactor\",\"DstColorFactor\",\"OneMinusDstColorFactor\",\"SrcAlphaSaturateFactor\",\"NeverDepth\",\"AlwaysDepth\",\"LessDepth\",\"LessEqualDepth\",\"EqualDepth\",\"GreaterEqualDepth\",\"GreaterDepth\",\"NotEqualDepth\",\"MultiplyOperation\",\"MixOperation\",\"AddOperation\",\"NoToneMapping\",\"LinearToneMapping\",\"ReinhardToneMapping\",\"Uncharted2ToneMapping\",\"CineonToneMapping\",\"CubeReflectionMapping\",\"CubeRefractionMapping\",\"EquirectangularReflectionMapping\",\"EquirectangularRefractionMapping\",\"SphericalReflectionMapping\",\"CubeUVReflectionMapping\",\"CubeUVRefractionMapping\",\"RepeatWrapping\",\"ClampToEdgeWrapping\",\"MirroredRepeatWrapping\",\"NearestFilter\",\"NearestMipMapNearestFilter\",\"NearestMipMapLinearFilter\",\"LinearFilter\",\"LinearMipMapNearestFilter\",\"LinearMipMapLinearFilter\",\"UnsignedByteType\",\"ByteType\",\"ShortType\",\"UnsignedShortType\",\"IntType\",\"UnsignedIntType\",\"FloatType\",\"HalfFloatType\",\"UnsignedShort4444Type\",\"UnsignedShort5551Type\",\"UnsignedShort565Type\",\"UnsignedInt248Type\",\"AlphaFormat\",\"RGBFormat\",\"RGBAFormat\",\"LuminanceFormat\",\"LuminanceAlphaFormat\",\"RGBEFormat\",\"DepthFormat\",\"DepthStencilFormat\",\"RedFormat\",\"RGB_S3TC_DXT1_Format\",\"RGBA_S3TC_DXT1_Format\",\"RGBA_S3TC_DXT3_Format\",\"RGBA_S3TC_DXT5_Format\",\"RGB_PVRTC_4BPPV1_Format\",\"RGB_PVRTC_2BPPV1_Format\",\"RGBA_PVRTC_4BPPV1_Format\",\"RGBA_PVRTC_2BPPV1_Format\",\"RGB_ETC1_Format\",\"RGBA_ASTC_4x4_Format\",\"RGBA_ASTC_5x4_Format\",\"RGBA_ASTC_5x5_Format\",\"RGBA_ASTC_6x5_Format\",\"RGBA_ASTC_6x6_Format\",\"RGBA_ASTC_8x5_Format\",\"RGBA_ASTC_8x6_Format\",\"RGBA_ASTC_8x8_Format\",\"RGBA_ASTC_10x5_Format\",\"RGBA_ASTC_10x6_Format\",\"RGBA_ASTC_10x8_Format\",\"RGBA_ASTC_10x10_Format\",\"RGBA_ASTC_12x10_Format\",\"RGBA_ASTC_12x12_Format\",\"LoopRepeat\",\"ZeroCurvatureEnding\",\"TrianglesDrawMode\",\"TriangleStripDrawMode\",\"TriangleFanDrawMode\",\"LinearEncoding\",\"sRGBEncoding\",\"GammaEncoding\",\"RGBEEncoding\",\"RGBM7Encoding\",\"RGBM16Encoding\",\"RGBDEncoding\",\"BasicDepthPacking\",\"RGBADepthPacking\",\"TangentSpaceNormalMap\",\"ObjectSpaceNormalMap\",\"_Math\",\"DEG2RAD\",\"RAD2DEG\",\"generateUUID\",\"lut\",\"d0\",\"d1\",\"d2\",\"d3\",\"toUpperCase\",\"clamp\",\"euclideanModulo\",\"mapLinear\",\"a1\",\"a2\",\"b1\",\"b2\",\"lerp\",\"smoothstep\",\"smootherstep\",\"randInt\",\"low\",\"high\",\"randFloat\",\"randFloatSpread\",\"range\",\"degToRad\",\"degrees\",\"radToDeg\",\"radians\",\"isPowerOfTwo\",\"ceilPowerOfTwo\",\"ceil\",\"log\",\"LN2\",\"floorPowerOfTwo\",\"Matrix4\",\"elements\",\"error\",\"w\",\"_x\",\"_y\",\"_z\",\"_w\",\"Matrix3\",\"width\",\"height\",\"isVector2\",\"setScalar\",\"scalar\",\"setX\",\"setY\",\"setComponent\",\"Error\",\"getComponent\",\"addVectors\",\"addScalar\",\"a\",\"b\",\"addScaledVector\",\"subScalar\",\"multiply\",\"divide\",\"divideScalar\",\"applyMatrix3\",\"clampScalar\",\"minVal\",\"maxVal\",\"clampLength\",\"round\",\"roundToZero\",\"negate\",\"cross\",\"lengthSq\",\"manhattanLength\",\"abs\",\"normalize\",\"atan2\",\"distanceTo\",\"manhattanDistanceTo\",\"setLength\",\"alpha\",\"lerpVectors\",\"v1\",\"v2\",\"equals\",\"fromArray\",\"toArray\",\"fromBufferAttribute\",\"attribute\",\"getX\",\"getY\",\"rotateAround\",\"cos\",\"sin\",\"isMatrix4\",\"n11\",\"n12\",\"n13\",\"n14\",\"n21\",\"n22\",\"n23\",\"n24\",\"n31\",\"n32\",\"n33\",\"n34\",\"n41\",\"n42\",\"n43\",\"n44\",\"te\",\"identity\",\"me\",\"copyPosition\",\"extractBasis\",\"xAxis\",\"yAxis\",\"zAxis\",\"makeBasis\",\"extractRotation\",\"scaleX\",\"scaleY\",\"scaleZ\",\"makeRotationFromEuler\",\"euler\",\"isEuler\",\"f\",\"order\",\"ae\",\"af\",\"be\",\"bf\",\"ce\",\"cf\",\"de\",\"df\",\"ac\",\"ad\",\"bc\",\"bd\",\"makeRotationFromQuaternion\",\"zero\",\"one\",\"q\",\"compose\",\"eye\",\"multiplyMatrices\",\"premultiply\",\"a11\",\"a12\",\"a13\",\"a14\",\"a21\",\"a22\",\"a23\",\"a24\",\"a31\",\"a32\",\"a33\",\"a34\",\"a41\",\"a42\",\"a43\",\"a44\",\"b11\",\"b12\",\"b13\",\"b14\",\"b21\",\"b22\",\"b23\",\"b24\",\"b31\",\"b32\",\"b33\",\"b34\",\"b41\",\"b42\",\"b43\",\"b44\",\"applyToBufferAttribute\",\"count\",\"getZ\",\"applyMatrix4\",\"setXYZ\",\"determinant\",\"transpose\",\"tmp\",\"setPosition\",\"getInverse\",\"throwOnDegenerate\",\"t11\",\"t12\",\"t13\",\"t14\",\"det\",\"msg\",\"detInv\",\"getMaxScaleOnAxis\",\"scaleXSq\",\"scaleYSq\",\"scaleZSq\",\"makeTranslation\",\"makeRotationX\",\"makeRotationY\",\"makeRotationZ\",\"makeRotationAxis\",\"axis\",\"tx\",\"ty\",\"makeScale\",\"makeShear\",\"x2\",\"y2\",\"z2\",\"xx\",\"xy\",\"xz\",\"yy\",\"yz\",\"zz\",\"wx\",\"wy\",\"wz\",\"sx\",\"sy\",\"sz\",\"decompose\",\"vector\",\"invSX\",\"invSY\",\"invSZ\",\"setFromRotationMatrix\",\"makePerspective\",\"near\",\"far\",\"makeOrthographic\",\"h\",\"slerp\",\"qa\",\"qb\",\"qm\",\"slerpFlat\",\"dst\",\"dstOffset\",\"src0\",\"srcOffset0\",\"src1\",\"srcOffset1\",\"x0\",\"y0\",\"z0\",\"w0\",\"x1\",\"y1\",\"z1\",\"w1\",\"dir\",\"sqrSin\",\"len\",\"tDir\",\"onChangeCallback\",\"isQuaternion\",\"setFromEuler\",\"c1\",\"c2\",\"c3\",\"s1\",\"s2\",\"s3\",\"setFromAxisAngle\",\"halfAngle\",\"m11\",\"m12\",\"m13\",\"m21\",\"m22\",\"m23\",\"m31\",\"m32\",\"m33\",\"trace\",\"vFrom\",\"vTo\",\"angleTo\",\"acos\",\"rotateTowards\",\"step\",\"conjugate\",\"multiplyQuaternions\",\"qax\",\"qay\",\"qaz\",\"qaw\",\"qbx\",\"qby\",\"qbz\",\"qbw\",\"cosHalfTheta\",\"sqrSinHalfTheta\",\"sinHalfTheta\",\"halfTheta\",\"ratioA\",\"ratioB\",\"onChange\",\"callback\",\"isVector3\",\"setZ\",\"multiplyVectors\",\"applyEuler\",\"applyAxisAngle\",\"qx\",\"qy\",\"qz\",\"qw\",\"ix\",\"iy\",\"iz\",\"iw\",\"project\",\"matrixWorldInverse\",\"projectionMatrix\",\"unproject\",\"matrixWorld\",\"transformDirection\",\"ax\",\"ay\",\"az\",\"bx\",\"by\",\"bz\",\"projectOnVector\",\"projectOnPlane\",\"planeNormal\",\"reflect\",\"normal\",\"dz\",\"setFromSphericalCoords\",\"sinPhiRadius\",\"setFromCylindrical\",\"setFromCylindricalCoords\",\"setFromMatrixPosition\",\"setFromMatrixScale\",\"isMatrix3\",\"setFromMatrix4\",\"g\",\"getNormalMatrix\",\"matrix4\",\"transposeIntoArray\",\"setUvTransform\",\"rotation\",\"cx\",\"cy\",\"rotate\",\"translate\",\"ImageUtils\",\"getDataURL\",\"image\",\"canvas\",\"HTMLCanvasElement\",\"createElementNS\",\"context\",\"getContext\",\"ImageData\",\"putImageData\",\"drawImage\",\"toDataURL\",\"textureId\",\"Texture\",\"mapping\",\"wrapS\",\"wrapT\",\"magFilter\",\"minFilter\",\"format\",\"anisotropy\",\"encoding\",\"DEFAULT_IMAGE\",\"mipmaps\",\"DEFAULT_MAPPING\",\"repeat\",\"generateMipmaps\",\"premultiplyAlpha\",\"flipY\",\"unpackAlignment\",\"version\",\"onUpdate\",\"Vector4\",\"WebGLRenderTarget\",\"options\",\"scissor\",\"scissorTest\",\"viewport\",\"texture\",\"depthBuffer\",\"stencilBuffer\",\"depthTexture\",\"WebGLRenderTargetCube\",\"activeCubeFace\",\"activeMipMapLevel\",\"DataTexture\",\"data\",\"Box3\",\"Sphere\",\"Plane\",\"constant\",\"Frustum\",\"p0\",\"p1\",\"p2\",\"p3\",\"p4\",\"p5\",\"planes\",\"isTexture\",\"toJSON\",\"meta\",\"isRootObject\",\"textures\",\"metadata\",\"generator\",\"wrap\",\"images\",\"url\",\"Array\",\"isArray\",\"transformUv\",\"uv\",\"isVector4\",\"setW\",\"setAxisAngleFromQuaternion\",\"setAxisAngleFromRotationMatrix\",\"getW\",\"isWebGLRenderTarget\",\"isWebGLRenderTargetCube\",\"isDataTexture\",\"isBox3\",\"setFromArray\",\"minX\",\"minY\",\"minZ\",\"maxX\",\"maxY\",\"maxZ\",\"setFromBufferAttribute\",\"setFromPoints\",\"points\",\"makeEmpty\",\"il\",\"expandByPoint\",\"setFromCenterAndSize\",\"size\",\"halfSize\",\"setFromObject\",\"expandByObject\",\"box\",\"isEmpty\",\"getCenter\",\"getSize\",\"point\",\"expandByVector\",\"expandByScalar\",\"traverse\",\"node\",\"geometry\",\"isGeometry\",\"vertices\",\"isBufferGeometry\",\"attributes\",\"updateMatrixWorld\",\"containsPoint\",\"containsBox\",\"getParameter\",\"intersectsBox\",\"intersectsSphere\",\"closestPoint\",\"clampPoint\",\"intersectsPlane\",\"plane\",\"intersectsTriangle\",\"v0\",\"f0\",\"f1\",\"f2\",\"testAxis\",\"extents\",\"triangleNormal\",\"satForAxes\",\"axes\",\"j\",\"triangle\",\"distanceToPoint\",\"getBoundingSphere\",\"intersect\",\"union\",\"optionalCenter\",\"maxRadiusSq\",\"empty\",\"radiusSum\",\"deltaLengthSq\",\"getBoundingBox\",\"setComponents\",\"setFromNormalAndCoplanarPoint\",\"setFromCoplanarPoints\",\"inverseNormalLength\",\"distanceToSphere\",\"projectPoint\",\"intersectLine\",\"line\",\"direction\",\"delta\",\"denominator\",\"start\",\"intersectsLine\",\"startSign\",\"endSign\",\"end\",\"coplanarPoint\",\"m1\",\"optionalNormalMatrix\",\"normalMatrix\",\"referencePoint\",\"frustum\",\"setFromMatrix\",\"me0\",\"me1\",\"me2\",\"me3\",\"me4\",\"me5\",\"me6\",\"me7\",\"me8\",\"me9\",\"me10\",\"me11\",\"me12\",\"me13\",\"me14\",\"me15\",\"intersectsObject\",\"boundingSphere\",\"computeBoundingSphere\",\"intersectsSprite\",\"sprite\",\"negRadius\",\"ShaderChunk\",\"alphamap_fragment\",\"alphamap_pars_fragment\",\"alphatest_fragment\",\"aomap_fragment\",\"aomap_pars_fragment\",\"begin_vertex\",\"beginnormal_vertex\",\"bsdfs\",\"bumpmap_pars_fragment\",\"clipping_planes_fragment\",\"clipping_planes_pars_fragment\",\"clipping_planes_pars_vertex\",\"clipping_planes_vertex\",\"color_fragment\",\"color_pars_fragment\",\"color_pars_vertex\",\"color_vertex\",\"common\",\"cube_uv_reflection_fragment\",\"defaultnormal_vertex\",\"displacementmap_pars_vertex\",\"displacementmap_vertex\",\"emissivemap_fragment\",\"emissivemap_pars_fragment\",\"encodings_fragment\",\"encodings_pars_fragment\",\"envmap_fragment\",\"envmap_pars_fragment\",\"envmap_pars_vertex\",\"envmap_physical_pars_fragment\",\"envmap_vertex\",\"fog_vertex\",\"fog_pars_vertex\",\"fog_fragment\",\"fog_pars_fragment\",\"gradientmap_pars_fragment\",\"lightmap_fragment\",\"lightmap_pars_fragment\",\"lights_lambert_vertex\",\"lights_pars_begin\",\"lights_phong_fragment\",\"lights_phong_pars_fragment\",\"lights_physical_fragment\",\"lights_physical_pars_fragment\",\"lights_fragment_begin\",\"lights_fragment_maps\",\"lights_fragment_end\",\"logdepthbuf_fragment\",\"logdepthbuf_pars_fragment\",\"logdepthbuf_pars_vertex\",\"logdepthbuf_vertex\",\"map_fragment\",\"map_pars_fragment\",\"map_particle_fragment\",\"map_particle_pars_fragment\",\"metalnessmap_fragment\",\"metalnessmap_pars_fragment\",\"morphnormal_vertex\",\"morphtarget_pars_vertex\",\"morphtarget_vertex\",\"normal_fragment_begin\",\"normal_fragment_maps\",\"normalmap_pars_fragment\",\"packing\",\"premultiplied_alpha_fragment\",\"project_vertex\",\"dithering_fragment\",\"dithering_pars_fragment\",\"roughnessmap_fragment\",\"roughnessmap_pars_fragment\",\"shadowmap_pars_fragment\",\"shadowmap_pars_vertex\",\"shadowmap_vertex\",\"shadowmask_pars_fragment\",\"skinbase_vertex\",\"skinning_pars_vertex\",\"skinning_vertex\",\"skinnormal_vertex\",\"specularmap_fragment\",\"specularmap_pars_fragment\",\"tonemapping_fragment\",\"tonemapping_pars_fragment\",\"uv_pars_fragment\",\"uv_pars_vertex\",\"uv_vertex\",\"uv2_pars_fragment\",\"uv2_pars_vertex\",\"uv2_vertex\",\"worldpos_vertex\",\"background_frag\",\"background_vert\",\"cube_frag\",\"cube_vert\",\"depth_frag\",\"depth_vert\",\"distanceRGBA_frag\",\"distanceRGBA_vert\",\"equirect_frag\",\"equirect_vert\",\"linedashed_frag\",\"linedashed_vert\",\"meshbasic_frag\",\"meshbasic_vert\",\"meshlambert_frag\",\"meshlambert_vert\",\"meshmatcap_frag\",\"meshmatcap_vert\",\"meshphong_frag\",\"meshphong_vert\",\"meshphysical_frag\",\"meshphysical_vert\",\"normal_frag\",\"normal_vert\",\"points_frag\",\"points_vert\",\"shadow_frag\",\"shadow_vert\",\"sprite_frag\",\"sprite_vert\",\"UniformsUtils\",\"merge\",\"uniforms\",\"merged\",\"u\",\"uniforms_src\",\"uniforms_dst\",\"parameter_src\",\"isColor\",\"ColorKeywords\",\"aliceblue\",\"antiquewhite\",\"aqua\",\"aquamarine\",\"azure\",\"beige\",\"bisque\",\"black\",\"blanchedalmond\",\"blue\",\"blueviolet\",\"brown\",\"burlywood\",\"cadetblue\",\"chartreuse\",\"chocolate\",\"coral\",\"cornflowerblue\",\"cornsilk\",\"crimson\",\"cyan\",\"darkblue\",\"darkcyan\",\"darkgoldenrod\",\"darkgray\",\"darkgreen\",\"darkgrey\",\"darkkhaki\",\"darkmagenta\",\"darkolivegreen\",\"darkorange\",\"darkorchid\",\"darkred\",\"darksalmon\",\"darkseagreen\",\"darkslateblue\",\"darkslategray\",\"darkslategrey\",\"darkturquoise\",\"darkviolet\",\"deeppink\",\"deepskyblue\",\"dimgray\",\"dimgrey\",\"dodgerblue\",\"firebrick\",\"floralwhite\",\"forestgreen\",\"fuchsia\",\"gainsboro\",\"ghostwhite\",\"gold\",\"goldenrod\",\"gray\",\"green\",\"greenyellow\",\"grey\",\"honeydew\",\"hotpink\",\"indianred\",\"indigo\",\"ivory\",\"khaki\",\"lavender\",\"lavenderblush\",\"lawngreen\",\"lemonchiffon\",\"lightblue\",\"lightcoral\",\"lightcyan\",\"lightgoldenrodyellow\",\"lightgray\",\"lightgreen\",\"lightgrey\",\"lightpink\",\"lightsalmon\",\"lightseagreen\",\"lightskyblue\",\"lightslategray\",\"lightslategrey\",\"lightsteelblue\",\"lightyellow\",\"lime\",\"limegreen\",\"linen\",\"magenta\",\"maroon\",\"mediumaquamarine\",\"mediumblue\",\"mediumorchid\",\"mediumpurple\",\"mediumseagreen\",\"mediumslateblue\",\"mediumspringgreen\",\"mediumturquoise\",\"mediumvioletred\",\"midnightblue\",\"mintcream\",\"mistyrose\",\"moccasin\",\"navajowhite\",\"navy\",\"oldlace\",\"olive\",\"olivedrab\",\"orange\",\"orangered\",\"orchid\",\"palegoldenrod\",\"palegreen\",\"paleturquoise\",\"palevioletred\",\"papayawhip\",\"peachpuff\",\"peru\",\"pink\",\"plum\",\"powderblue\",\"purple\",\"rebeccapurple\",\"red\",\"rosybrown\",\"royalblue\",\"saddlebrown\",\"salmon\",\"sandybrown\",\"seagreen\",\"seashell\",\"sienna\",\"silver\",\"skyblue\",\"slateblue\",\"slategray\",\"slategrey\",\"snow\",\"springgreen\",\"steelblue\",\"teal\",\"thistle\",\"tomato\",\"turquoise\",\"violet\",\"wheat\",\"white\",\"whitesmoke\",\"yellow\",\"yellowgreen\",\"setRGB\",\"setHex\",\"setStyle\",\"hex\",\"setHSL\",\"hue2rgb\",\"style\",\"handleAlpha\",\"string\",\"parseFloat\",\"exec\",\"components\",\"parseInt\",\"charAt\",\"copyGammaToLinear\",\"gammaFactor\",\"copyLinearToGamma\",\"safeInverse\",\"convertGammaToLinear\",\"convertLinearToGamma\",\"copySRGBToLinear\",\"SRGBToLinear\",\"copyLinearToSRGB\",\"LinearToSRGB\",\"convertSRGBToLinear\",\"convertLinearToSRGB\",\"getHex\",\"getHexString\",\"getHSL\",\"hue\",\"saturation\",\"lightness\",\"getStyle\",\"offsetHSL\",\"hsl\",\"addColors\",\"color1\",\"color2\",\"lerpHSL\",\"hslA\",\"hslB\",\"UniformsLib\",\"diffuse\",\"opacity\",\"map\",\"uvTransform\",\"alphaMap\",\"specularmap\",\"specularMap\",\"envmap\",\"envMap\",\"flipEnvMap\",\"reflectivity\",\"refractionRatio\",\"maxMipLevel\",\"aomap\",\"aoMap\",\"aoMapIntensity\",\"lightmap\",\"lightMap\",\"lightMapIntensity\",\"emissivemap\",\"emissiveMap\",\"bumpmap\",\"bumpMap\",\"bumpScale\",\"normalmap\",\"normalMap\",\"normalScale\",\"displacementmap\",\"displacementMap\",\"displacementScale\",\"displacementBias\",\"roughnessmap\",\"roughnessMap\",\"metalnessmap\",\"metalnessMap\",\"gradientmap\",\"gradientMap\",\"fogDensity\",\"fogNear\",\"fogFar\",\"fogColor\",\"lights\",\"ambientLightColor\",\"directionalLights\",\"properties\",\"shadow\",\"shadowBias\",\"shadowRadius\",\"shadowMapSize\",\"directionalShadowMap\",\"directionalShadowMatrix\",\"spotLights\",\"coneCos\",\"penumbraCos\",\"decay\",\"spotShadowMap\",\"spotShadowMatrix\",\"pointLights\",\"shadowCameraNear\",\"shadowCameraFar\",\"pointShadowMap\",\"pointShadowMatrix\",\"hemisphereLights\",\"skyColor\",\"groundColor\",\"rectAreaLights\",\"ShaderLib\",\"basic\",\"vertexShader\",\"fragmentShader\",\"lambert\",\"emissive\",\"phong\",\"specular\",\"shininess\",\"standard\",\"roughness\",\"metalness\",\"envMapIntensity\",\"matcap\",\"dashed\",\"dashSize\",\"totalSize\",\"depth\",\"t2D\",\"tCube\",\"tFlip\",\"equirect\",\"tEquirect\",\"distanceRGBA\",\"referencePosition\",\"nearDistance\",\"farDistance\",\"WebGLAnimation\",\"isAnimating\",\"animationLoop\",\"onAnimationFrame\",\"time\",\"frame\",\"stop\",\"setAnimationLoop\",\"setContext\",\"WebGLAttributes\",\"gl\",\"buffers\",\"WeakMap\",\"isInterleavedBufferAttribute\",\"deleteBuffer\",\"buffer\",\"delete\",\"bufferType\",\"usage\",\"dynamic\",\"DYNAMIC_DRAW\",\"STATIC_DRAW\",\"createBuffer\",\"bindBuffer\",\"bufferData\",\"onUploadCallback\",\"FLOAT\",\"Float32Array\",\"Float64Array\",\"Uint16Array\",\"UNSIGNED_SHORT\",\"Int16Array\",\"SHORT\",\"Uint32Array\",\"UNSIGNED_INT\",\"Int32Array\",\"INT\",\"Int8Array\",\"BYTE\",\"Uint8Array\",\"UNSIGNED_BYTE\",\"bytesPerElement\",\"BYTES_PER_ELEMENT\",\"updateRange\",\"bufferSubData\",\"subarray\",\"updateBuffer\",\"Face3\",\"materialIndex\",\"vertexNormals\",\"vertexColors\",\"Euler\",\"_order\",\"DefaultOrder\",\"Layers\",\"mask\",\"physical\",\"clearCoat\",\"clearCoatRoughness\",\"RotationOrders\",\"asin\",\"setFromQuaternion\",\"reorder\",\"newOrder\",\"toVector3\",\"optionalResult\",\"channel\",\"enable\",\"toggle\",\"disable\",\"test\",\"layers\",\"object3DId\",\"Object3D\",\"parent\",\"children\",\"DefaultUp\",\"modelViewMatrix\",\"DefaultMatrixAutoUpdate\",\"matrixWorldNeedsUpdate\",\"visible\",\"castShadow\",\"receiveShadow\",\"frustumCulled\",\"renderOrder\",\"userData\",\"isObject3D\",\"onBeforeRender\",\"onAfterRender\",\"applyMatrix\",\"setRotationFromAxisAngle\",\"setRotationFromEuler\",\"setRotationFromMatrix\",\"setRotationFromQuaternion\",\"rotateOnAxis\",\"q1\",\"rotateOnWorldAxis\",\"rotateX\",\"rotateY\",\"rotateZ\",\"translateOnAxis\",\"translateX\",\"translateY\",\"translateZ\",\"localToWorld\",\"worldToLocal\",\"updateWorldMatrix\",\"isCamera\",\"getObjectById\",\"id\",\"getObjectByProperty\",\"getObjectByName\",\"getWorldPosition\",\"getWorldQuaternion\",\"getWorldScale\",\"getWorldDirection\",\"raycast\",\"traverseVisible\",\"traverseAncestors\",\"force\",\"updateParents\",\"updateChildren\",\"geometries\",\"materials\",\"shapes\",\"serialize\",\"library\",\"JSON\",\"stringify\",\"isMesh\",\"isLine\",\"isPoints\",\"parameters\",\"shape\",\"uuids\",\"extractFromCache\",\"cache\",\"values\",\"recursive\",\"parse\",\"child\",\"geometryId\",\"Geometry\",\"colors\",\"faces\",\"faceVertexUvs\",\"morphTargets\",\"morphNormals\",\"skinWeights\",\"skinIndices\",\"lineDistances\",\"boundingBox\",\"elementsNeedUpdate\",\"verticesNeedUpdate\",\"uvsNeedUpdate\",\"normalsNeedUpdate\",\"colorsNeedUpdate\",\"lineDistancesNeedUpdate\",\"groupsNeedUpdate\",\"BufferAttribute\",\"itemSize\",\"normalized\",\"Int8BufferAttribute\",\"Uint8BufferAttribute\",\"Uint8ClampedBufferAttribute\",\"Uint8ClampedArray\",\"Int16BufferAttribute\",\"Uint16BufferAttribute\",\"Int32BufferAttribute\",\"Uint32BufferAttribute\",\"Float32BufferAttribute\",\"Float64BufferAttribute\",\"DirectGeometry\",\"normals\",\"uvs\",\"uvs2\",\"groups\",\"arrayMax\",\"face\",\"jl\",\"computeBoundingBox\",\"obj\",\"fromBufferGeometry\",\"indices\",\"positions\",\"uv2\",\"tempNormals\",\"tempUVs\",\"tempUVs2\",\"addFace\",\"group\",\"computeFaceNormals\",\"cb\",\"ab\",\"fl\",\"vA\",\"vB\",\"vC\",\"computeVertexNormals\",\"areaWeighted\",\"vl\",\"computeFlatVertexNormals\",\"computeMorphNormals\",\"__originalFaceNormal\",\"__originalVertexNormals\",\"tmpGeo\",\"faceNormals\",\"dstNormalsFace\",\"dstNormalsVertex\",\"faceNormal\",\"materialIndexOffset\",\"vertexOffset\",\"vertices1\",\"vertices2\",\"faces1\",\"faces2\",\"uvs1\",\"colors1\",\"colors2\",\"vertexCopy\",\"faceCopy\",\"faceVertexNormals\",\"faceVertexColors\",\"uvCopy\",\"mergeMesh\",\"mergeVertices\",\"verticesMap\",\"unique\",\"changes\",\"precision\",\"faceIndicesToRemove\",\"idx\",\"diff\",\"sortFacesByMaterialIndex\",\"_id\",\"sort\",\"newUvs1\",\"newUvs2\",\"vertex\",\"normalsHash\",\"colorsHash\",\"uvsHash\",\"hasFaceVertexUv\",\"hasFaceNormal\",\"hasFaceVertexNormal\",\"hasFaceColor\",\"hasFaceVertexColor\",\"faceType\",\"setBit\",\"getUvIndex\",\"getNormalIndex\",\"getColorIndex\",\"hash\",\"k\",\"kl\",\"uvsCopy\",\"morphTarget\",\"morphNormal\",\"srcVertexNormal\",\"destVertexNormal\",\"isBufferAttribute\",\"setArray\",\"setDynamic\",\"copyAt\",\"index1\",\"index2\",\"copyArray\",\"copyColorsArray\",\"copyVector2sArray\",\"vectors\",\"copyVector3sArray\",\"copyVector4sArray\",\"setXY\",\"setXYZW\",\"onUpload\",\"computeGroups\",\"fromGeometry\",\"morphTargetsPosition\",\"hasFaceVertexUv2\",\"morphTargetsLength\",\"morphTargetsNormal\",\"morphNormalsLength\",\"hasSkinIndices\",\"hasSkinWeights\",\"vertexUvs\",\"bufferGeometryId\",\"BufferGeometry\",\"morphAttributes\",\"drawRange\",\"BoxGeometry\",\"widthSegments\",\"heightSegments\",\"depthSegments\",\"BoxBufferGeometry\",\"numberOfVertices\",\"groupStart\",\"buildPlane\",\"udir\",\"vdir\",\"gridX\",\"gridY\",\"segmentWidth\",\"segmentHeight\",\"widthHalf\",\"heightHalf\",\"depthHalf\",\"gridX1\",\"gridY1\",\"vertexCounter\",\"groupCount\",\"addGroup\",\"setIndex\",\"addAttribute\",\"PlaneGeometry\",\"PlaneBufferGeometry\",\"width_half\",\"height_half\",\"segment_width\",\"segment_height\",\"getIndex\",\"getAttribute\",\"removeAttribute\",\"clearGroups\",\"setDrawRange\",\"needsUpdate\",\"updateFromObject\",\"direct\",\"__directGeometry\",\"lineDistance\",\"fromDirectGeometry\",\"isNaN\",\"pA\",\"pB\",\"pC\",\"normalizeNormals\",\"attributeArray1\",\"attribute2\",\"attributeArray2\",\"toNonIndexed\",\"geometry2\",\"array2\",\"morphAttribute\",\"materialId\",\"Material\",\"blending\",\"side\",\"transparent\",\"blendSrc\",\"blendDst\",\"blendEquation\",\"blendSrcAlpha\",\"blendDstAlpha\",\"blendEquationAlpha\",\"depthFunc\",\"depthTest\",\"depthWrite\",\"clippingPlanes\",\"clipIntersection\",\"clipShadows\",\"shadowSide\",\"colorWrite\",\"polygonOffset\",\"polygonOffsetFactor\",\"polygonOffsetUnits\",\"dithering\",\"alphaTest\",\"premultipliedAlpha\",\"overdraw\",\"ShaderMaterial\",\"defines\",\"linewidth\",\"wireframe\",\"wireframeLinewidth\",\"clipping\",\"skinning\",\"extensions\",\"derivatives\",\"fragDepth\",\"drawBuffers\",\"shaderTextureLOD\",\"defaultAttributeValues\",\"index0AttributeName\",\"uniformsNeedUpdate\",\"setValues\",\"Ray\",\"origin\",\"Triangle\",\"MeshBasicMaterial\",\"combine\",\"wireframeLinecap\",\"wireframeLinejoin\",\"drawMode\",\"updateMorphTargets\",\"absNumericalSort\",\"CubeTexture\",\"DataTexture3D\",\"isMaterial\",\"onBeforeCompile\",\"newValue\",\"currentValue\",\"isRoot\",\"emissiveIntensity\",\"normalMapType\",\"sizeAttenuation\",\"gapSize\",\"srcPlanes\",\"dstPlanes\",\"isShaderMaterial\",\"ray\",\"at\",\"recast\",\"closestPointToPoint\",\"directionDistance\",\"distanceSqToPoint\",\"distanceSqToSegment\",\"segCenter\",\"segDir\",\"optionalPointOnRay\",\"optionalPointOnSegment\",\"s0\",\"sqrDist\",\"extDet\",\"segExtent\",\"a01\",\"b0\",\"invDet\",\"intersectSphere\",\"tca\",\"radius2\",\"thc\",\"t0\",\"t1\",\"distanceToPlane\",\"intersectPlane\",\"distToPoint\",\"intersectBox\",\"tmin\",\"tmax\",\"tymin\",\"tymax\",\"tzmin\",\"tzmax\",\"invdirx\",\"invdiry\",\"invdirz\",\"intersectTriangle\",\"edge1\",\"edge2\",\"backfaceCulling\",\"DdN\",\"DdQxE2\",\"DdE1xQ\",\"QdN\",\"getNormal\",\"targetLengthSq\",\"getBarycoord\",\"dot00\",\"dot01\",\"dot02\",\"dot11\",\"dot12\",\"denom\",\"invDenom\",\"getUV\",\"barycoord\",\"uv1\",\"uv3\",\"setFromPointsAndIndices\",\"i0\",\"i1\",\"i2\",\"getArea\",\"getMidpoint\",\"getPlane\",\"result\",\"vab\",\"vac\",\"vbc\",\"vap\",\"vbp\",\"vcp\",\"d4\",\"vc\",\"d5\",\"d6\",\"vb\",\"va\",\"isMeshBasicMaterial\",\"setDrawMode\",\"morphTargetInfluences\",\"morphTargetDictionary\",\"ml\",\"String\",\"inverseMatrix\",\"tempA\",\"tempB\",\"tempC\",\"uvA\",\"uvB\",\"uvC\",\"intersectionPoint\",\"intersectionPointWorld\",\"checkIntersection\",\"raycaster\",\"checkBufferGeometryIntersection\",\"intersection\",\"intersects\",\"groupMaterial\",\"faceIndex\",\"fvA\",\"fvB\",\"fvC\",\"isMultiMaterial\",\"faceMaterial\",\"morphInfluences\",\"tl\",\"influence\",\"targets\",\"uvs_f\",\"isCubeTexture\",\"isDataTexture3D\",\"emptyTexture\",\"emptyTexture3d\",\"emptyCubeTexture\",\"UniformContainer\",\"seq\",\"arrayCacheF32\",\"arrayCacheI32\",\"mat4array\",\"mat3array\",\"mat2array\",\"flatten\",\"nBlocks\",\"blockSize\",\"firstElem\",\"arraysEqual\",\"allocTexUnits\",\"allocTextureUnit\",\"setValue1f\",\"uniform1f\",\"addr\",\"setValue1i\",\"uniform1i\",\"setValue2fv\",\"uniform2f\",\"uniform2fv\",\"setValue3fv\",\"uniform3f\",\"uniform3fv\",\"setValue4fv\",\"uniform4f\",\"uniform4fv\",\"setValue2fm\",\"uniformMatrix2fv\",\"setValue3fm\",\"uniformMatrix3fv\",\"setValue4fm\",\"uniformMatrix4fv\",\"setValueT1\",\"unit\",\"setTexture2D\",\"setValueT3D1\",\"setTexture3D\",\"setValueT6\",\"setTextureCube\",\"setValue2iv\",\"uniform2iv\",\"setValue3iv\",\"uniform3iv\",\"setValue4iv\",\"uniform4iv\",\"setValue1fv\",\"uniform1fv\",\"setValue1iv\",\"uniform1iv\",\"setValueV2a\",\"updateCache\",\"setValueV3a\",\"setValueV4a\",\"setValueM2a\",\"setValueM3a\",\"setValueM4a\",\"setValueT1a\",\"units\",\"setValueT6a\",\"SingleUniform\",\"activeInfo\",\"setValue\",\"getSingularSetter\",\"PureArrayUniform\",\"getPureArraySetter\",\"StructuredUniform\",\"RePathPart\",\"addUniform\",\"container\",\"uniformObject\",\"parseUniform\",\"path\",\"pathLength\",\"lastIndex\",\"matchEnd\",\"idIsIndex\",\"subscript\",\"next\",\"WebGLUniforms\",\"program\",\"getProgramParameter\",\"ACTIVE_UNIFORMS\",\"info\",\"getActiveUniform\",\"getUniformLocation\",\"WebGLShader\",\"shader\",\"createShader\",\"shaderSource\",\"compileShader\",\"getShaderParameter\",\"COMPILE_STATUS\",\"getShaderInfoLog\",\"VERTEX_SHADER\",\"lines\",\"split\",\"join\",\"addLineNumbers\",\"setOptional\",\"upload\",\"seqWithValue\",\"programIdCount\",\"getEncodingComponents\",\"getTexelDecodingFunction\",\"functionName\",\"filterEmptyLine\",\"replaceLightNums\",\"replace\",\"numDirLights\",\"numSpotLights\",\"numRectAreaLights\",\"numPointLights\",\"numHemiLights\",\"replaceClippingPlaneNums\",\"numClippingPlanes\",\"numClipIntersection\",\"parseIncludes\",\"include\",\"unrollLoops\",\"snippet\",\"unroll\",\"WebGLProgram\",\"code\",\"capabilities\",\"shadowMapTypeDefine\",\"shadowMapType\",\"envMapTypeDefine\",\"envMapModeDefine\",\"envMapBlendingDefine\",\"prefixVertex\",\"prefixFragment\",\"gammaFactorDefine\",\"customExtensions\",\"isWebGL2\",\"rendererExtensions\",\"envMapCubeUV\",\"objectSpaceNormalMap\",\"logarithmicDepthBuffer\",\"filter\",\"generateExtensions\",\"customDefines\",\"chunks\",\"generateDefines\",\"createProgram\",\"isRawShaderMaterial\",\"supportsVertexTextures\",\"maxBones\",\"useFog\",\"fogExp\",\"useVertexTexture\",\"doubleSided\",\"flipSided\",\"shadowMapEnabled\",\"physicallyCorrectLights\",\"toneMapping\",\"toneMappingName\",\"getToneMappingFunction\",\"outputEncoding\",\"mapEncoding\",\"matcapEncoding\",\"envMapEncoding\",\"emissiveMapEncoding\",\"getTexelEncodingFunction\",\"depthPacking\",\"isGLSL3ShaderMaterial\",\"versionRegex\",\"vertexGlsl\",\"fragmentGlsl\",\"glVertexShader\",\"glFragmentShader\",\"FRAGMENT_SHADER\",\"attachShader\",\"bindAttribLocation\",\"linkProgram\",\"cachedUniforms\",\"cachedAttributes\",\"programLog\",\"getProgramInfoLog\",\"trim\",\"vertexLog\",\"fragmentLog\",\"runnable\",\"haveDiagnostics\",\"LINK_STATUS\",\"getError\",\"VALIDATE_STATUS\",\"diagnostics\",\"prefix\",\"deleteShader\",\"getUniforms\",\"getAttributes\",\"ACTIVE_ATTRIBUTES\",\"getActiveAttrib\",\"getAttribLocation\",\"fetchAttributeLocations\",\"destroy\",\"deleteProgram\",\"usedTimes\",\"WebGLPrograms\",\"programs\",\"shaderIDs\",\"MeshDepthMaterial\",\"MeshDistanceMaterial\",\"MeshNormalMaterial\",\"MeshLambertMaterial\",\"MeshToonMaterial\",\"MeshStandardMaterial\",\"MeshPhysicalMaterial\",\"MeshMatcapMaterial\",\"LineBasicMaterial\",\"LineDashedMaterial\",\"PointsMaterial\",\"ShadowMaterial\",\"SpriteMaterial\",\"parameterNames\",\"getTextureEncodingFromMap\",\"gammaOverrideLinear\",\"getParameters\",\"shadows\",\"nClipPlanes\",\"nClipIntersection\",\"shaderID\",\"isSkinnedMesh\",\"bones\",\"skeleton\",\"floatVertexTextures\",\"nVertexUniforms\",\"maxVertexUniforms\",\"nVertexMatrices\",\"allocateBones\",\"getMaxPrecision\",\"currentRenderTarget\",\"getRenderTarget\",\"vertexTextures\",\"gammaOutput\",\"gammaInput\",\"envMapMode\",\"isFogExp2\",\"maxMorphTargets\",\"maxMorphNormals\",\"directional\",\"spot\",\"rectArea\",\"hemi\",\"shadowMap\",\"getProgramCode\",\"acquireProgram\",\"pl\",\"programInfo\",\"releaseProgram\",\"pop\",\"painterSortStable\",\"reversePainterSortStable\",\"WebGLRenderLists\",\"lists\",\"list\",\"renderItems\",\"renderItemsIndex\",\"opaque\",\"renderItem\",\"WebGLLights\",\"halfWidth\",\"halfHeight\",\"stateID\",\"directionalLength\",\"pointLength\",\"spotLength\",\"rectAreaLength\",\"hemiLength\",\"shadowsLength\",\"ambient\",\"vector3\",\"matrix42\",\"setup\",\"viewMatrix\",\"intensity\",\"isAmbientLight\",\"isDirectionalLight\",\"bias\",\"mapSize\",\"isSpotLight\",\"penumbra\",\"isRectAreaLight\",\"isPointLight\",\"isHemisphereLight\",\"WebGLRenderState\",\"lightsArray\",\"shadowsArray\",\"setupLights\",\"pushLight\",\"pushShadow\",\"shadowLight\",\"WebGLShadowMap\",\"_renderer\",\"_objects\",\"maxTextureSize\",\"_frustum\",\"_projScreenMatrix\",\"_shadowMapSize\",\"_maxShadowMapSize\",\"_lookTarget\",\"_lightPositionWorld\",\"_MorphingFlag\",\"_SkinningFlag\",\"_NumberOfMaterialVariants\",\"_depthMaterials\",\"_distanceMaterials\",\"_materialCache\",\"0\",\"1\",\"2\",\"cubeDirections\",\"cubeUps\",\"cube2DViewPorts\",\"useMorphing\",\"useSkinning\",\"depthMaterial\",\"distanceMaterial\",\"getDepthMaterial\",\"lightPositionWorld\",\"materialVariants\",\"customMaterial\",\"customDepthMaterial\",\"customDistanceMaterial\",\"variantIndex\",\"localClippingEnabled\",\"keyA\",\"keyB\",\"materialsForVariant\",\"cachedMaterial\",\"isMeshDistanceMaterial\",\"renderObject\",\"shadowCamera\",\"renderBufferDirect\",\"autoUpdate\",\"faceCount\",\"_gl\",\"_state\",\"BLEND\",\"setClear\",\"setTest\",\"setScissorTest\",\"vpWidth\",\"vpHeight\",\"pars\",\"isSpotLightShadow\",\"shadowMatrix\",\"setRenderTarget\",\"clear\",\"vpDimensions\",\"WebGLTextures\",\"utils\",\"_canvas\",\"_videoTextures\",\"clampToMaxSize\",\"maxSize\",\"textureNeedsGenerateMipmaps\",\"generateMipmap\",\"__maxMipLevel\",\"LOG2E\",\"getInternalFormat\",\"glFormat\",\"glType\",\"RED\",\"R32F\",\"HALF_FLOAT\",\"R16F\",\"R8\",\"RGB\",\"RGB32F\",\"RGB16F\",\"RGB8\",\"RGBA\",\"RGBA32F\",\"RGBA16F\",\"RGBA8\",\"filterFallback\",\"NEAREST\",\"LINEAR\",\"onTextureDispose\",\"textureProperties\",\"__image__webglTextureCube\",\"deleteTexture\",\"__webglInit\",\"__webglTexture\",\"deallocateTexture\",\"isVideoTexture\",\"memory\",\"onRenderTargetDispose\",\"renderTarget\",\"renderTargetProperties\",\"deleteFramebuffer\",\"__webglFramebuffer\",\"__webglDepthbuffer\",\"deleteRenderbuffer\",\"deallocateRenderTarget\",\"slot\",\"updateVideoTexture\",\"__version\",\"complete\",\"uploadTexture\",\"activeTexture\",\"TEXTURE0\",\"bindTexture\",\"TEXTURE_2D\",\"setTextureParameters\",\"textureType\",\"isPowerOfTwoImage\",\"extension\",\"texParameteri\",\"TEXTURE_WRAP_S\",\"convert\",\"TEXTURE_WRAP_T\",\"TEXTURE_MAG_FILTER\",\"TEXTURE_MIN_FILTER\",\"CLAMP_TO_EDGE\",\"__currentAnisotropy\",\"texParameterf\",\"TEXTURE_MAX_ANISOTROPY_EXT\",\"getMaxAnisotropy\",\"TEXTURE_3D\",\"createTexture\",\"pixelStorei\",\"UNPACK_FLIP_Y_WEBGL\",\"UNPACK_PREMULTIPLY_ALPHA_WEBGL\",\"UNPACK_ALIGNMENT\",\"textureNeedsPowerOfTwo\",\"HTMLImageElement\",\"ImageBitmap\",\"makePowerOfTwo\",\"glInternalFormat\",\"mipmap\",\"isDepthTexture\",\"DEPTH_COMPONENT\",\"DEPTH_COMPONENT32F\",\"DEPTH_COMPONENT16\",\"DEPTH_STENCIL\",\"texImage2D\",\"isCompressedTexture\",\"getCompressedTextureFormats\",\"compressedTexImage2D\",\"texImage3D\",\"setupFrameBufferTexture\",\"framebuffer\",\"attachment\",\"textureTarget\",\"bindFramebuffer\",\"FRAMEBUFFER\",\"framebufferTexture2D\",\"setupRenderBufferStorage\",\"renderbuffer\",\"bindRenderbuffer\",\"RENDERBUFFER\",\"renderbufferStorage\",\"framebufferRenderbuffer\",\"DEPTH_ATTACHMENT\",\"DEPTH_STENCIL_ATTACHMENT\",\"RGBA4\",\"setupDepthRenderbuffer\",\"isCube\",\"webglDepthTexture\",\"setupDepthTexture\",\"createRenderbuffer\",\"TEXTURE_CUBE_MAP\",\"isCompressed\",\"cubeImage\",\"maxCubemapSize\",\"TEXTURE_CUBE_MAP_POSITIVE_X\",\"setTextureCubeDynamic\",\"setupRenderTarget\",\"isTargetPowerOfTwo\",\"createFramebuffer\",\"COLOR_ATTACHMENT0\",\"updateRenderTargetMipmap\",\"webglTexture\",\"WebGLUtils\",\"REPEAT\",\"MIRRORED_REPEAT\",\"NEAREST_MIPMAP_NEAREST\",\"NEAREST_MIPMAP_LINEAR\",\"LINEAR_MIPMAP_NEAREST\",\"LINEAR_MIPMAP_LINEAR\",\"UNSIGNED_SHORT_4_4_4_4\",\"UNSIGNED_SHORT_5_5_5_1\",\"UNSIGNED_SHORT_5_6_5\",\"HALF_FLOAT_OES\",\"ALPHA\",\"LUMINANCE\",\"LUMINANCE_ALPHA\",\"FUNC_ADD\",\"FUNC_SUBTRACT\",\"FUNC_REVERSE_SUBTRACT\",\"ZERO\",\"ONE\",\"SRC_COLOR\",\"ONE_MINUS_SRC_COLOR\",\"SRC_ALPHA\",\"ONE_MINUS_SRC_ALPHA\",\"DST_ALPHA\",\"ONE_MINUS_DST_ALPHA\",\"DST_COLOR\",\"ONE_MINUS_DST_COLOR\",\"SRC_ALPHA_SATURATE\",\"COMPRESSED_RGB_S3TC_DXT1_EXT\",\"COMPRESSED_RGBA_S3TC_DXT1_EXT\",\"COMPRESSED_RGBA_S3TC_DXT3_EXT\",\"COMPRESSED_RGBA_S3TC_DXT5_EXT\",\"COMPRESSED_RGB_PVRTC_4BPPV1_IMG\",\"COMPRESSED_RGB_PVRTC_2BPPV1_IMG\",\"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG\",\"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG\",\"COMPRESSED_RGB_ETC1_WEBGL\",\"MIN\",\"MAX\",\"MIN_EXT\",\"MAX_EXT\",\"UNSIGNED_INT_24_8\",\"UNSIGNED_INT_24_8_WEBGL\",\"Group\",\"Camera\",\"projectionMatrixInverse\",\"focus\",\"view\",\"filmGauge\",\"filmOffset\",\"ArrayCamera\",\"cameras\",\"WebVRManager\",\"device\",\"frameData\",\"poseTarget\",\"controllers\",\"standingMatrix\",\"standingMatrixInverse\",\"frameOfReferenceType\",\"VRFrameData\",\"onVRDisplayPresentChange\",\"tempQuaternion\",\"tempPosition\",\"cameraL\",\"bounds\",\"cameraR\",\"currentSize\",\"currentPixelRatio\",\"cameraVR\",\"isPresenting\",\"eyeParameters\",\"getEyeParameters\",\"renderWidth\",\"renderHeight\",\"getPixelRatio\",\"setDrawingBufferSize\",\"animation\",\"triggers\",\"findGamepad\",\"gamepads\",\"navigator\",\"getGamepads\",\"gamepad\",\"startsWith\",\"getController\",\"controller\",\"getDevice\",\"setDevice\",\"setFrameOfReferenceType\",\"setPoseTarget\",\"getCamera\",\"userHeight\",\"depthNear\",\"depthFar\",\"getFrameData\",\"stageParameters\",\"sittingToStandingTransform\",\"pose\",\"poseObject\",\"orientation\",\"leftViewMatrix\",\"rightViewMatrix\",\"leftProjectionMatrix\",\"rightProjectionMatrix\",\"getLayers\",\"layer\",\"leftBounds\",\"rightBounds\",\"hasPosition\",\"buttonId\",\"buttons\",\"pressed\",\"updateControllers\",\"getStandingMatrix\",\"submitFrame\",\"_context\",\"_alpha\",\"_depth\",\"_stencil\",\"stencil\",\"_antialias\",\"_premultipliedAlpha\",\"_preserveDrawingBuffer\",\"preserveDrawingBuffer\",\"_powerPreference\",\"powerPreference\",\"currentRenderList\",\"currentRenderState\",\"autoClear\",\"autoClearColor\",\"autoClearDepth\",\"autoClearStencil\",\"sortObjects\",\"toneMappingExposure\",\"toneMappingWhitePoint\",\"objects\",\"programCache\",\"renderLists\",\"renderStates\",\"morphtargets\",\"bufferRenderer\",\"indexedBufferRenderer\",\"_this\",\"_isContextLost\",\"_framebuffer\",\"_currentRenderTarget\",\"_currentFramebuffer\",\"_currentMaterialId\",\"_currentGeometryProgram\",\"_currentCamera\",\"_currentArrayCamera\",\"_currentViewport\",\"_currentScissor\",\"_currentScissorTest\",\"_usedTextureUnits\",\"_width\",\"_height\",\"_pixelRatio\",\"_viewport\",\"_scissor\",\"_scissorTest\",\"_clipping\",\"globalState\",\"numGlobalPlanes\",\"renderingShadows\",\"viewNormalMatrix\",\"uniform\",\"resetGlobalState\",\"numPlanes\",\"numIntersection\",\"projectPlanes\",\"skipTransform\",\"nPlanes\",\"dstArray\",\"flatSize\",\"i4\",\"enableLocalClipping\",\"beginShadows\",\"endShadows\",\"setState\",\"fromCache\",\"nGlobal\",\"lGlobal\",\"clippingState\",\"_clippingEnabled\",\"_localClippingEnabled\",\"_vector3\",\"getTargetPixelRatio\",\"contextAttributes\",\"onContextLost\",\"onContextRestore\",\"getShaderPrecisionFormat\",\"rangeMin\",\"rangeMax\",\"message\",\"initGLContext\",\"getExtension\",\"maxAnisotropy\",\"HIGH_FLOAT\",\"MEDIUM_FLOAT\",\"WebGL2RenderingContext\",\"maxPrecision\",\"maxTextures\",\"MAX_TEXTURE_IMAGE_UNITS\",\"maxVertexTextures\",\"MAX_VERTEX_TEXTURE_IMAGE_UNITS\",\"MAX_TEXTURE_SIZE\",\"MAX_CUBE_MAP_TEXTURE_SIZE\",\"maxAttributes\",\"MAX_VERTEX_ATTRIBS\",\"MAX_VERTEX_UNIFORM_VECTORS\",\"maxVaryings\",\"MAX_VARYING_VECTORS\",\"maxFragmentUniforms\",\"MAX_FRAGMENT_UNIFORM_VECTORS\",\"floatFragmentTextures\",\"MAX_TEXTURE_MAX_ANISOTROPY_EXT\",\"colorBuffer\",\"locked\",\"currentColorMask\",\"currentColorClear\",\"setMask\",\"colorMask\",\"setLocked\",\"lock\",\"clearColor\",\"currentDepthMask\",\"currentDepthFunc\",\"currentDepthClear\",\"DEPTH_TEST\",\"depthMask\",\"setFunc\",\"NEVER\",\"ALWAYS\",\"LESS\",\"LEQUAL\",\"EQUAL\",\"GEQUAL\",\"GREATER\",\"NOTEQUAL\",\"clearDepth\",\"currentStencilMask\",\"currentStencilFunc\",\"currentStencilRef\",\"currentStencilFuncMask\",\"currentStencilFail\",\"currentStencilZFail\",\"currentStencilZPass\",\"currentStencilClear\",\"stencilTest\",\"STENCIL_TEST\",\"stencilMask\",\"stencilFunc\",\"stencilRef\",\"setOp\",\"stencilFail\",\"stencilZFail\",\"stencilZPass\",\"stencilOp\",\"clearStencil\",\"maxVertexAttributes\",\"newAttributes\",\"enabledAttributes\",\"attributeDivisors\",\"enabledCapabilities\",\"compressedTextureFormats\",\"currentProgram\",\"currentBlendingEnabled\",\"currentBlending\",\"currentBlendEquation\",\"currentBlendSrc\",\"currentBlendDst\",\"currentBlendEquationAlpha\",\"currentBlendSrcAlpha\",\"currentBlendDstAlpha\",\"currentPremultipledAlpha\",\"currentFlipSided\",\"currentCullFace\",\"currentLineWidth\",\"currentPolygonOffsetFactor\",\"currentPolygonOffsetUnits\",\"MAX_COMBINED_TEXTURE_IMAGE_UNITS\",\"lineWidthAvailable\",\"glVersion\",\"VERSION\",\"currentTextureSlot\",\"currentBoundTextures\",\"currentScissor\",\"currentViewport\",\"emptyTextures\",\"enableAttributeAndDivisor\",\"meshPerAttribute\",\"enableVertexAttribArray\",\"setBlending\",\"blendEquationSeparate\",\"blendFuncSeparate\",\"blendFunc\",\"setFlipSided\",\"frontFace\",\"CW\",\"CCW\",\"setCullFace\",\"cullFace\",\"CULL_FACE\",\"BACK\",\"FRONT\",\"FRONT_AND_BACK\",\"setPolygonOffset\",\"factor\",\"POLYGON_OFFSET_FILL\",\"webglSlot\",\"initAttributes\",\"enableAttribute\",\"disableUnusedAttributes\",\"disableVertexAttribArray\",\"formats\",\"COMPRESSED_TEXTURE_FORMATS\",\"useProgram\",\"setMaterial\",\"frontFaceCW\",\"setLineWidth\",\"lineWidth\",\"SCISSOR_TEST\",\"webglType\",\"boundTexture\",\"calls\",\"triangles\",\"autoReset\",\"instanceCount\",\"TRIANGLES\",\"TRIANGLE_STRIP\",\"TRIANGLE_FAN\",\"LINES\",\"LINE_STRIP\",\"LINE_LOOP\",\"POINTS\",\"wireframeAttributes\",\"onGeometryDispose\",\"buffergeometry\",\"_bufferGeometry\",\"geometryAttributes\",\"ELEMENT_ARRAY_BUFFER\",\"ARRAY_BUFFER\",\"getWireframeAttribute\",\"geometryIndex\",\"updateList\",\"influencesList\",\"objectInfluences\",\"influences\",\"renderState\",\"planeMesh\",\"boxMesh\",\"clearAlpha\",\"getClearColor\",\"setClearColor\",\"getClearAlpha\",\"setClearAlpha\",\"renderList\",\"forceClear\",\"setMode\",\"drawArrays\",\"renderInstances\",\"maxInstancedCount\",\"drawElements\",\"vr\",\"session\",\"frameOfReference\",\"inputSources\",\"onSessionEvent\",\"inputSource\",\"onSessionEnd\",\"setFramebuffer\",\"updateCamera\",\"XRDevice\",\"setCompatibleXRDevice\",\"setSession\",\"baseLayer\",\"XRWebGLLayer\",\"requestFrameOfReference\",\"then\",\"getInputSources\",\"onAnimationFrameCallback\",\"getDevicePose\",\"views\",\"getViewport\",\"getViewMatrix\",\"inputPose\",\"getInputPose\",\"targetRay\",\"transformMatrix\",\"pointerMatrix\",\"onMaterialDispose\",\"releaseMaterialProgramReference\",\"deallocateMaterial\",\"getContextAttributes\",\"forceContextLoss\",\"loseContext\",\"forceContextRestore\",\"restoreContext\",\"updateStyle\",\"setViewport\",\"getDrawingBufferSize\",\"pixelRatio\",\"getCurrentViewport\",\"setScissor\",\"boolean\",\"bits\",\"COLOR_BUFFER_BIT\",\"DEPTH_BUFFER_BIT\",\"STENCIL_BUFFER_BIT\",\"renderBufferImmediate\",\"hasPositions\",\"hasNormals\",\"hasUvs\",\"hasColors\",\"programAttributes\",\"positionArray\",\"vertexAttribPointer\",\"normalArray\",\"uvArray\",\"colorArray\",\"setProgram\",\"updateBuffers\",\"rangeFactor\",\"isInstancedBufferGeometry\",\"materialDefaultAttributeValues\",\"programAttribute\",\"geometryAttribute\",\"stride\",\"isInstancedInterleavedBuffer\",\"isInstancedBufferAttribute\",\"vertexAttrib2fv\",\"vertexAttrib3fv\",\"vertexAttrib4fv\",\"vertexAttrib1fv\",\"setupVertexAttributes\",\"dataCount\",\"rangeStart\",\"rangeCount\",\"drawStart\",\"drawEnd\",\"drawCount\",\"isLineSegments\",\"isLineLoop\",\"isSprite\",\"compile\",\"isLight\",\"initMaterial\",\"renderObjects\",\"overrideMaterial\",\"isArrayCamera\",\"camera2\",\"isImmediateRenderObject\",\"renderObjectImmediate\",\"materialProperties\",\"lightsHash\",\"lightsStateHash\",\"programChange\",\"numSupportedMorphTargets\",\"numSupportedMorphNormals\",\"progUniforms\",\"uniformsList\",\"useCache\",\"refreshProgram\",\"refreshMaterial\",\"refreshLights\",\"p_uniforms\",\"m_uniforms\",\"isMeshPhongMaterial\",\"isMeshStandardMaterial\",\"uCamPos\",\"cameraPosition\",\"isMeshLambertMaterial\",\"boneTexture\",\"boneMatrices\",\"boneTextureSize\",\"markUniformsLightsNeedsUpdate\",\"isFog\",\"density\",\"refreshUniformsFog\",\"refreshUniformsCommon\",\"refreshUniformsLambert\",\"isMeshToonMaterial\",\"refreshUniformsPhong\",\"refreshUniformsToon\",\"isMeshPhysicalMaterial\",\"refreshUniformsStandard\",\"refreshUniformsPhysical\",\"isMeshMatcapMaterial\",\"refreshUniformsMatcap\",\"isMeshDepthMaterial\",\"refreshUniformsDepth\",\"refreshUniformsDistance\",\"isMeshNormalMaterial\",\"refreshUniformsNormal\",\"isLineBasicMaterial\",\"refreshUniformsLine\",\"isLineDashedMaterial\",\"refreshUniformsDash\",\"isPointsMaterial\",\"refreshUniformsPoints\",\"isSpriteMaterial\",\"refreshUniformsSprites\",\"isShadowMaterial\",\"ltc_1\",\"LTC_1\",\"ltc_2\",\"LTC_2\",\"uvScaleMap\",\"projectObject\",\"opaqueObjects\",\"transparentObjects\",\"textureUnit\",\"warned\",\"setTexture\",\"readRenderTargetPixels\",\"restore\",\"textureFormat\",\"IMPLEMENTATION_COLOR_READ_FORMAT\",\"IMPLEMENTATION_COLOR_READ_TYPE\",\"checkFramebufferStatus\",\"FRAMEBUFFER_COMPLETE\",\"readPixels\",\"copyFramebufferToTexture\",\"level\",\"copyTexImage2D\",\"copyTextureToTexture\",\"srcTexture\",\"dstTexture\",\"texSubImage2D\",\"Fog\",\"InterleavedBuffer\",\"InterleavedBufferAttribute\",\"interleavedBuffer\",\"Sprite\",\"LOD\",\"levels\",\"Skeleton\",\"boneInverses\",\"calculateInverses\",\"Bone\",\"SkinnedMesh\",\"bindMode\",\"bindMatrix\",\"bindMatrixInverse\",\"initBones\",\"normalizeSkinWeights\",\"linecap\",\"linejoin\",\"Line\",\"LineSegments\",\"LineLoop\",\"Points\",\"VideoTexture\",\"video\",\"CompressedTexture\",\"CanvasTexture\",\"DepthTexture\",\"WireframeGeometry\",\"ol\",\"edge\",\"edges\",\"ParametricGeometry\",\"func\",\"slices\",\"stacks\",\"ParametricBufferGeometry\",\"pu\",\"pv\",\"sliceCount\",\"PolyhedronGeometry\",\"detail\",\"PolyhedronBufferGeometry\",\"vertexBuffer\",\"uvBuffer\",\"subdivideFace\",\"cols\",\"aj\",\"bj\",\"rows\",\"pushVertex\",\"getVertexByIndex\",\"correctUV\",\"azimuth\",\"inclination\",\"subdivide\",\"appplyRadius\",\"centroid\",\"azi\",\"correctUVs\",\"correctSeam\",\"generateUVs\",\"TetrahedronGeometry\",\"TetrahedronBufferGeometry\",\"OctahedronGeometry\",\"OctahedronBufferGeometry\",\"IcosahedronGeometry\",\"IcosahedronBufferGeometry\",\"DodecahedronGeometry\",\"DodecahedronBufferGeometry\",\"TubeGeometry\",\"tubularSegments\",\"radialSegments\",\"closed\",\"taper\",\"bufferGeometry\",\"TubeBufferGeometry\",\"tangents\",\"binormals\",\"frames\",\"computeFrenetFrames\",\"P\",\"generateSegment\",\"getPointAt\",\"N\",\"B\",\"generateIndices\",\"generateBufferData\",\"TorusKnotGeometry\",\"tube\",\"heightScale\",\"TorusKnotBufferGeometry\",\"P1\",\"P2\",\"T\",\"calculatePositionOnCurve\",\"cu\",\"su\",\"quOverP\",\"cs\",\"TorusGeometry\",\"arc\",\"TorusBufferGeometry\",\"isGroup\",\"setFocalLength\",\"focalLength\",\"vExtentSlope\",\"getFilmHeight\",\"atan\",\"getFocalLength\",\"getEffectiveFOV\",\"getFilmWidth\",\"setViewOffset\",\"fullWidth\",\"fullHeight\",\"offsetX\",\"offsetY\",\"clearViewOffset\",\"skew\",\"isInterleavedBuffer\",\"intersectPoint\",\"worldScale\",\"mvPosition\",\"alignedPosition\",\"rotatedPosition\",\"viewWorldMatrix\",\"transformVertex\",\"vertexPosition\",\"addLevel\",\"getObjectForDistance\",\"matrixPosition\",\"bone\",\"isBone\",\"offsetMatrix\",\"identityMatrix\",\"getBoneByName\",\"gbone\",\"pos\",\"rotq\",\"scl\",\"sw\",\"vec\",\"skinWeight\",\"computeLineDistances\",\"positionAttribute\",\"linePrecision\",\"localPrecision\",\"localPrecisionSq\",\"vStart\",\"vEnd\",\"interSegment\",\"interRay\",\"nbVertices\",\"threshold\",\"params\",\"localThreshold\",\"localThresholdSq\",\"testPoint\",\"rayPointDistanceSq\",\"distanceToRay\",\"readyState\",\"HAVE_CURRENT_DATA\",\"isCanvasTexture\",\"Earcut\",\"holeIndices\",\"dim\",\"invSize\",\"hasHoles\",\"outerLen\",\"outerNode\",\"linkedList\",\"queue\",\"steiner\",\"getLeftmost\",\"compareX\",\"eliminateHole\",\"filterPoints\",\"eliminateHoles\",\"earcutLinked\",\"clockwise\",\"last\",\"sum\",\"signedArea\",\"insertNode\",\"removeNode\",\"again\",\"area\",\"prev\",\"ear\",\"pass\",\"zOrder\",\"prevZ\",\"nextZ\",\"tail\",\"numMerges\",\"pSize\",\"qSize\",\"inSize\",\"sortLinked\",\"indexCurve\",\"isEarHashed\",\"isEar\",\"cureLocalIntersections\",\"splitEarcut\",\"pointInTriangle\",\"minTX\",\"minTY\",\"maxTX\",\"maxTY\",\"locallyInside\",\"isValidDiagonal\",\"splitPolygon\",\"hole\",\"hx\",\"hy\",\"mx\",\"my\",\"tanMin\",\"findHoleBridge\",\"leftmost\",\"px\",\"py\",\"intersectsPolygon\",\"inside\",\"middleInside\",\"q2\",\"Node\",\"an\",\"bp\",\"ShapeUtils\",\"contour\",\"isClockWise\",\"pts\",\"triangulateShape\",\"holes\",\"removeDupEndPts\",\"addContour\",\"holeIndex\",\"forEach\",\"ExtrudeGeometry\",\"ExtrudeBufferGeometry\",\"verticesArray\",\"addShape\",\"placeholder\",\"curveSegments\",\"steps\",\"bevelEnabled\",\"bevelThickness\",\"bevelSize\",\"bevelSegments\",\"extrudePath\",\"uvgen\",\"UVGenerator\",\"WorldUVGenerator\",\"amount\",\"extrudePts\",\"splineTube\",\"binormal\",\"position2\",\"ahole\",\"hl\",\"extrudeByPath\",\"getSpacedPoints\",\"shapePoints\",\"extractPoints\",\"reverse\",\"concat\",\"scalePt2\",\"pt\",\"bs\",\"vert\",\"vlen\",\"flen\",\"getBevelVec\",\"inPt\",\"inPrev\",\"inNext\",\"v_trans_x\",\"v_trans_y\",\"shrink_by\",\"v_prev_x\",\"v_prev_y\",\"v_next_x\",\"v_next_y\",\"v_prev_lensq\",\"collinear0\",\"v_prev_len\",\"v_next_len\",\"ptPrevShift_x\",\"ptPrevShift_y\",\"sf\",\"v_trans_lensq\",\"direction_eq\",\"contourMovements\",\"oneHoleMovements\",\"holesMovements\",\"verticesMovements\",\"sidewalls\",\"layeroffset\",\"sl\",\"slen1\",\"slen2\",\"f4\",\"f3\",\"addVertex\",\"nextIndex\",\"generateTopUV\",\"addUV\",\"generateSideWallUV\",\"vector2\",\"buildLidFaces\",\"buildSideFaces\",\"indexA\",\"indexB\",\"indexC\",\"a_x\",\"a_y\",\"b_x\",\"b_y\",\"c_x\",\"c_y\",\"indexD\",\"a_z\",\"b_z\",\"c_z\",\"d_x\",\"d_y\",\"d_z\",\"TextGeometry\",\"text\",\"TextBufferGeometry\",\"font\",\"isFont\",\"generateShapes\",\"phiStart\",\"phiLength\",\"thetaStart\",\"thetaLength\",\"SphereBufferGeometry\",\"thetaEnd\",\"grid\",\"verticesRow\",\"RingGeometry\",\"innerRadius\",\"outerRadius\",\"thetaSegments\",\"phiSegments\",\"RingBufferGeometry\",\"segment\",\"radiusStep\",\"thetaSegmentLevel\",\"LatheGeometry\",\"segments\",\"LatheBufferGeometry\",\"base\",\"inverseSegments\",\"n1\",\"n2\",\"ShapeGeometry\",\"ShapeBufferGeometry\",\"shapeHole\",\"indexOffset\",\"shapeVertices\",\"shapeHoles\",\"toJSON$1\",\"EdgesGeometry\",\"thresholdAngle\",\"thresholdDot\",\"sourceVertices\",\"face1\",\"face2\",\"CylinderGeometry\",\"radiusTop\",\"radiusBottom\",\"openEnded\",\"indexArray\",\"generateCap\",\"centerIndexStart\",\"centerIndexEnd\",\"cosTheta\",\"sinTheta\",\"slope\",\"indexRow\",\"generateTorso\",\"ConeGeometry\",\"ConeBufferGeometry\",\"CircleGeometry\",\"CircleBufferGeometry\",\"Geometries\",\"freeze\",\"RawShaderMaterial\",\"STANDARD\",\"PHYSICAL\",\"TOON\",\"MATCAP\",\"fillStyle\",\"fillRect\",\"Materials\",\"Cache\",\"files\",\"file\",\"LoadingManager\",\"onLoad\",\"onProgress\",\"onError\",\"isLoading\",\"itemsLoaded\",\"itemsTotal\",\"urlModifier\",\"onStart\",\"itemStart\",\"itemEnd\",\"itemError\",\"resolveURL\",\"setURLModifier\",\"transform\",\"DefaultLoadingManager\",\"loading\",\"FileLoader\",\"manager\",\"CompressedTextureLoader\",\"_parser\",\"DataTextureLoader\",\"ImageLoader\",\"CubeTextureLoader\",\"TextureLoader\",\"Curve\",\"arcLengthDivisions\",\"EllipseCurve\",\"aX\",\"aY\",\"xRadius\",\"yRadius\",\"aStartAngle\",\"aEndAngle\",\"aClockwise\",\"aRotation\",\"ArcCurve\",\"aRadius\",\"CubicPoly\",\"c0\",\"initCatmullRom\",\"x3\",\"tension\",\"initNonuniformCatmullRom\",\"dt0\",\"dt1\",\"dt2\",\"t2\",\"calc\",\"load\",\"cached\",\"setTimeout\",\"dataUriRegexResult\",\"mimeType\",\"isBase64\",\"decodeURIComponent\",\"atob\",\"response\",\"responseType\",\"toLowerCase\",\"charCodeAt\",\"Blob\",\"parser\",\"DOMParser\",\"parseFromString\",\"request\",\"XMLHttpRequest\",\"header\",\"open\",\"callbacks\",\"status\",\"withCredentials\",\"overrideMimeType\",\"requestHeader\",\"setRequestHeader\",\"send\",\"setPath\",\"setResponseType\",\"setWithCredentials\",\"setMimeType\",\"loader\",\"loadTexture\",\"texDatas\",\"loaded\",\"mipmapCount\",\"isCubemap\",\"texData\",\"crossOrigin\",\"onImageLoad\",\"onImageError\",\"substr\",\"src\",\"setCrossOrigin\",\"urls\",\"isJPEG\",\"search\",\"getPoint\",\"optionalTarget\",\"getUtoTmapping\",\"getPoints\",\"divisions\",\"getLength\",\"lengths\",\"getLengths\",\"cacheArcLengths\",\"current\",\"updateArcLengths\",\"targetArcLength\",\"arcLengths\",\"comparison\",\"lengthBefore\",\"getTangent\",\"pt1\",\"getTangentAt\",\"mat\",\"MAX_VALUE\",\"tz\",\"fromJSON\",\"json\",\"isEllipseCurve\",\"twoPi\",\"deltaAngle\",\"samePoints\",\"isArcCurve\",\"pz\",\"CatmullRomCurve3\",\"curveType\",\"CatmullRom\",\"QuadraticBezier\",\"QuadraticBezierP0\",\"QuadraticBezierP1\",\"QuadraticBezierP2\",\"CubicBezier\",\"CubicBezierP0\",\"CubicBezierP1\",\"CubicBezierP2\",\"CubicBezierP3\",\"CubicBezierCurve\",\"v3\",\"CubicBezierCurve3\",\"LineCurve\",\"LineCurve3\",\"QuadraticBezierCurve\",\"QuadraticBezierCurve3\",\"SplineCurve\",\"isCatmullRomCurve3\",\"intPoint\",\"weight\",\"isCubicBezierCurve\",\"isCubicBezierCurve3\",\"isLineCurve\",\"isLineCurve3\",\"isQuadraticBezierCurve\",\"isQuadraticBezierCurve3\",\"isSplineCurve\",\"Curves\",\"CurvePath\",\"curves\",\"autoClose\",\"Path\",\"currentPoint\",\"Shape\",\"Light\",\"HemisphereLight\",\"LightShadow\",\"SpotLightShadow\",\"SpotLight\",\"power\",\"PointLight\",\"OrthographicCamera\",\"DirectionalLightShadow\",\"RectAreaLight\",\"curve\",\"closePath\",\"startPoint\",\"endPoint\",\"curveLengths\",\"getCurveLengths\",\"segmentLength\",\"lens\",\"cacheLengths\",\"sums\",\"resolution\",\"moveTo\",\"lineTo\",\"quadraticCurveTo\",\"aCPx\",\"aCPy\",\"bezierCurveTo\",\"aCP1x\",\"aCP1y\",\"aCP2x\",\"aCP2y\",\"splineThru\",\"absarc\",\"absellipse\",\"ellipse\",\"firstPoint\",\"lastPoint\",\"getPointsHoles\",\"holesPts\",\"zoomW\",\"zoomH\",\"scaleW\",\"scaleH\",\"AnimationUtils\",\"arraySlice\",\"from\",\"to\",\"isTypedArray\",\"convertArray\",\"forceClone\",\"ArrayBuffer\",\"isView\",\"DataView\",\"getKeyframeOrder\",\"times\",\"sortedArray\",\"nValues\",\"srcOffset\",\"flattenJSON\",\"jsonKeys\",\"valuePropertyName\",\"Interpolant\",\"parameterPositions\",\"sampleValues\",\"sampleSize\",\"resultBuffer\",\"_cachedIndex\",\"valueSize\",\"CubicInterpolant\",\"_weightPrev\",\"_offsetPrev\",\"_weightNext\",\"_offsetNext\",\"LinearInterpolant\",\"DiscreteInterpolant\",\"KeyframeTrack\",\"interpolation\",\"TimeBufferType\",\"ValueBufferType\",\"setInterpolation\",\"DefaultInterpolation\",\"BooleanKeyframeTrack\",\"ColorKeyframeTrack\",\"NumberKeyframeTrack\",\"QuaternionLinearInterpolant\",\"QuaternionKeyframeTrack\",\"StringKeyframeTrack\",\"VectorKeyframeTrack\",\"AnimationClip\",\"duration\",\"tracks\",\"resetDuration\",\"parseKeyframeTrack\",\"trackType\",\"typeName\",\"getTrackTypeForValueTypeName\",\"MaterialLoader\",\"BufferGeometryLoader\",\"evaluate\",\"pp\",\"validate_interval\",\"seek\",\"linear_scan\",\"forward_scan\",\"giveUpAt\",\"afterEnd_\",\"t1global\",\"beforeStart_\",\"mid\",\"intervalChanged_\",\"interpolate_\",\"settings\",\"DefaultSettings_\",\"getSettings_\",\"copySampleValue_\",\"endingStart\",\"endingEnd\",\"iPrev\",\"iNext\",\"tPrev\",\"tNext\",\"halfDt\",\"o1\",\"o0\",\"oP\",\"oN\",\"wP\",\"wN\",\"ppp\",\"sP\",\"sN\",\"offset1\",\"offset0\",\"weight1\",\"weight0\",\"track\",\"getInterpolation\",\"ValueTypeName\",\"InterpolantFactoryMethodDiscrete\",\"getValueSize\",\"InterpolantFactoryMethodLinear\",\"InterpolantFactoryMethodSmooth\",\"factoryMethod\",\"createInterpolant\",\"shift\",\"timeOffset\",\"timeScale\",\"startTime\",\"endTime\",\"nKeys\",\"validate\",\"valid\",\"prevTime\",\"currTime\",\"optimize\",\"smoothInterpolation\",\"writeIndex\",\"keep\",\"offsetP\",\"offsetN\",\"readOffset\",\"writeOffset\",\"jsonTracks\",\"frameTime\",\"fps\",\"clip\",\"clipTracks\",\"CreateFromMorphTargetSequence\",\"morphTargetSequence\",\"noLoop\",\"numMorphTargets\",\"findByName\",\"objectOrClipArray\",\"clipArray\",\"animations\",\"CreateClipsFromMorphTargetSequences\",\"animationToMorphTargets\",\"pattern\",\"parts\",\"animationMorphTargets\",\"clips\",\"parseAnimation\",\"addNonemptyTrack\",\"trackName\",\"animationKeys\",\"propertyName\",\"destTracks\",\"clipName\",\"hierarchyTracks\",\"hierarchy\",\"morphTargetNames\",\"morphTargetName\",\"animationKey\",\"boneName\",\"setTextures\",\"getTexture\",\"shading\",\"typedArray\",\"TYPED_ARRAYS\",\"drawcalls\",\"offsets\",\"Loader\",\"Handlers\",\"handlers\",\"regex\",\"onLoadStart\",\"onLoadProgress\",\"onLoadComplete\",\"initMaterials\",\"texturePath\",\"createMaterial\",\"BlendingMode\",\"textureLoader\",\"materialLoader\",\"fullPath\",\"mapDiffuseRepeat\",\"mapDiffuseOffset\",\"mapDiffuseWrap\",\"mapDiffuseAnisotropy\",\"mapEmissiveRepeat\",\"mapEmissiveOffset\",\"mapEmissiveWrap\",\"mapEmissiveAnisotropy\",\"mapLightRepeat\",\"mapLightOffset\",\"mapLightWrap\",\"mapLightAnisotropy\",\"mapAORepeat\",\"mapAOOffset\",\"mapAOWrap\",\"mapAOAnisotropy\",\"mapBumpRepeat\",\"mapBumpOffset\",\"mapBumpWrap\",\"mapBumpAnisotropy\",\"mapNormalRepeat\",\"mapNormalOffset\",\"mapNormalWrap\",\"mapNormalAnisotropy\",\"mapSpecularRepeat\",\"mapSpecularOffset\",\"mapSpecularWrap\",\"mapSpecularAnisotropy\",\"mapMetalnessRepeat\",\"mapMetalnessOffset\",\"mapMetalnessWrap\",\"mapMetalnessAnisotropy\",\"mapRoughnessRepeat\",\"mapRoughnessOffset\",\"mapRoughnessWrap\",\"mapRoughnessAnisotropy\",\"mapAlphaRepeat\",\"mapAlphaOffset\",\"mapAlphaWrap\",\"mapAlphaAnisotropy\",\"LoaderUtils\",\"decodeText\",\"TextDecoder\",\"decode\",\"fromCharCode\",\"escape\",\"extractUrlBase\",\"lastIndexOf\",\"JSONLoader\",\"ObjectLoader\",\"setResourcePath\",\"resourcePath\",\"isBitSet\",\"fi\",\"zLength\",\"colorIndex\",\"normalIndex\",\"uvIndex\",\"isQuad\",\"hasMaterial\",\"faceA\",\"faceB\",\"uvLayer\",\"nUvLayers\",\"parseModel\",\"influencesPerVertex\",\"parseSkin\",\"dstVertices\",\"srcVertices\",\"morphColors\",\"parseMorphing\",\"outputAnimations\",\"morphAnimationClips\",\"parseAnimations\",\"substring\",\"setTexturePath\",\"parseShape\",\"parseGeometries\",\"parseImages\",\"parseTextures\",\"parseMaterials\",\"parseObject\",\"geometryLoader\",\"bufferGeometryLoader\",\"details\",\"geometryShapes\",\"loadImage\",\"currentUrl\",\"parseConstant\",\"TEXTURE_MAPPING\",\"TEXTURE_WRAPPING\",\"TEXTURE_FILTER\",\"getGeometry\",\"getMaterial\",\"UVMapping\",\"ImageBitmapLoader\",\"createImageBitmap\",\"fetch\",\"ShapePath\",\"subPaths\",\"currentPath\",\"Font\",\"createPath\",\"char\",\"glyph\",\"glyphs\",\"cpx\",\"cpy\",\"cpx1\",\"cpy1\",\"cpx2\",\"cpy2\",\"outline\",\"_cachedOutline\",\"ha\",\"FontLoader\",\"setOptions\",\"res\",\"blob\",\"imageBitmap\",\"catch\",\"toShapes\",\"isCCW\",\"noHoles\",\"toShapesNoHoles\",\"inSubpaths\",\"tmpPath\",\"tmpShape\",\"isPointInsidePolygon\",\"inPolygon\",\"polyLen\",\"edgeLowPt\",\"edgeHighPt\",\"edgeDx\",\"edgeDy\",\"perpEdge\",\"solid\",\"holesFirst\",\"tmpPoints\",\"tmpHoles\",\"betterShapeHoles\",\"newShapes\",\"newShapeHoles\",\"mainIdx\",\"ambiguous\",\"toChange\",\"sIdx\",\"sLen\",\"sho\",\"hIdx\",\"ho\",\"hole_unassigned\",\"s2Idx\",\"froms\",\"tos\",\"paths\",\"chars\",\"line_height\",\"yMax\",\"yMin\",\"underlineThickness\",\"ret\",\"createPaths\",\"AudioContext\",\"webkitAudioContext\",\"AudioLoader\",\"StereoCamera\",\"eyeSep\",\"CubeCamera\",\"cubeResolution\",\"cameraPX\",\"cameraNX\",\"cameraPY\",\"cameraNY\",\"cameraPZ\",\"cameraNZ\",\"AudioListener\",\"gain\",\"createGain\",\"connect\",\"destination\",\"Audio\",\"getInput\",\"autoplay\",\"loop\",\"playbackRate\",\"isPlaying\",\"hasPlaybackControl\",\"sourceType\",\"filters\",\"PositionalAudio\",\"panner\",\"createPanner\",\"AudioAnalyser\",\"audio\",\"fftSize\",\"analyser\",\"createAnalyser\",\"frequencyBinCount\",\"getOutput\",\"PropertyMixer\",\"binding\",\"mixFunction\",\"_slerp\",\"_select\",\"_lerp\",\"_mixBufferRegion\",\"cumulativeWeight\",\"useCount\",\"referenceCount\",\"bufferCopy\",\"decodeAudioData\",\"audioBuffer\",\"instance\",\"eyeRight\",\"eyeLeft\",\"xmin\",\"xmax\",\"eyeSepOnProjection\",\"ymax\",\"removeFilter\",\"disconnect\",\"getFilter\",\"setFilter\",\"getMasterVolume\",\"setMasterVolume\",\"setTargetAtTime\",\"currentTime\",\"positionX\",\"setValueAtTime\",\"positionY\",\"positionZ\",\"forwardX\",\"forwardY\",\"forwardZ\",\"upX\",\"upY\",\"upZ\",\"setOrientation\",\"setNodeSource\",\"audioNode\",\"setMediaElementSource\",\"mediaElement\",\"createMediaElementSource\",\"setBuffer\",\"play\",\"createBufferSource\",\"onended\",\"onEnded\",\"pause\",\"getFilters\",\"setFilters\",\"setPlaybackRate\",\"getPlaybackRate\",\"getLoop\",\"setLoop\",\"getVolume\",\"setVolume\",\"getRefDistance\",\"refDistance\",\"setRefDistance\",\"getRolloffFactor\",\"rolloffFactor\",\"setRolloffFactor\",\"getDistanceModel\",\"distanceModel\",\"setDistanceModel\",\"getMaxDistance\",\"setMaxDistance\",\"setDirectionalCone\",\"coneInnerAngle\",\"coneOuterAngle\",\"coneOuterGain\",\"getFrequencyData\",\"getByteFrequencyData\",\"getAverageFrequency\",\"accumulate\",\"accuIndex\",\"currentWeight\",\"mix\",\"originalValueOffset\",\"saveOriginalState\",\"getValue\",\"restoreOriginalState\",\"lineGeometry\",\"coneGeometry\",\"Composite\",\"targetGroup\",\"optionalParsedPath\",\"parsedPath\",\"PropertyBinding\",\"parseTrackName\",\"_targetGroup\",\"_bindings\",\"subscribe_\",\"rootNode\",\"findNode\",\"nodeName\",\"AnimationObjectGroup\",\"nCachedObjects_\",\"_indicesByUUID\",\"_paths\",\"_parsedPaths\",\"_bindingsIndicesByPath\",\"stats\",\"total\",\"inUse\",\"bindingsPerObject\",\"AnimationAction\",\"mixer\",\"localRoot\",\"_mixer\",\"_clip\",\"_localRoot\",\"nTracks\",\"interpolants\",\"interpolantSettings\",\"interpolant\",\"_interpolantSettings\",\"_interpolants\",\"_propertyBindings\",\"_cacheIndex\",\"_byClipCacheIndex\",\"_timeScaleInterpolant\",\"_weightInterpolant\",\"_loopCount\",\"_startTime\",\"_effectiveTimeScale\",\"_effectiveWeight\",\"repetitions\",\"paused\",\"clampWhenFinished\",\"zeroSlopeAtStart\",\"zeroSlopeAtEnd\",\"AnimationMixer\",\"root\",\"_root\",\"_initMemoryManager\",\"_accuIndex\",\"Uniform\",\"InstancedBufferGeometry\",\"InstancedInterleavedBuffer\",\"InstancedBufferAttribute\",\"Raycaster\",\"PointCloud\",\"ascSort\",\"intersectObject\",\"Clock\",\"autoStart\",\"oldTime\",\"elapsedTime\",\"running\",\"Cylindrical\",\"Box2\",\"Line3\",\"ImmediateRenderObject\",\"VertexNormalsHelper\",\"nNormals\",\"objGeometry\",\"SpotLightHelper\",\"cone\",\"SkeletonHelper\",\"getBoneList\",\"boneList\",\"PointLightHelper\",\"sphereSize\",\"RectAreaLightHelper\",\"HemisphereLightHelper\",\"GridHelper\",\"PolarGridHelper\",\"radials\",\"circles\",\"FaceNormalsHelper\",\"DirectionalLightHelper\",\"lightPlane\",\"targetLine\",\"CameraHelper\",\"pointMap\",\"colorFrustum\",\"colorCone\",\"colorUp\",\"colorTarget\",\"colorCross\",\"addLine\",\"addPoint\",\"BoxHelper\",\"Box3Helper\",\"PlaneHelper\",\"ArrowHelper\",\"headLength\",\"headWidth\",\"setDirection\",\"AxesHelper\",\"firstValidIndex\",\"bindings\",\"unbind\",\"isAnimationObjectGroup\",\"sanitizeNodeName\",\"reservedRe\",\"RegExp\",\"wordChar\",\"wordCharOrDot\",\"directoryRe\",\"nodeRe\",\"objectRe\",\"propertyRe\",\"trackRe\",\"supportedObjectNames\",\"matches\",\"results\",\"objectName\",\"objectIndex\",\"propertyIndex\",\"lastDot\",\"subTreeNode\",\"searchNodeSubtree\",\"childNode\",\"_getValue_unavailable\",\"_setValue_unavailable\",\"BindingType\",\"Direct\",\"EntireArray\",\"ArrayElement\",\"HasFromToArray\",\"Versioning\",\"None\",\"NeedsUpdate\",\"MatrixWorldNeedsUpdate\",\"GetterByBindingType\",\"resolvedProperty\",\"SetterByBindingTypeAndVersioning\",\"targetObject\",\"dest\",\"targetArray\",\"sourceArray\",\"nodeProperty\",\"versioning\",\"bindingType\",\"_getValue_unbound\",\"_setValue_unbound\",\"nObjects\",\"nCachedObjects\",\"indicesByUUID\",\"parsedPaths\",\"nBindings\",\"knownObject\",\"firstActiveIndex\",\"lastCachedObject\",\"bindingsForPath\",\"lastCached\",\"lastCachedIndex\",\"firstActiveObject\",\"firstActive\",\"uncache\",\"lastObject\",\"indicesByPath\",\"unsubscribe_\",\"lastBindingsIndex\",\"lastBindings\",\"_activateAction\",\"_deactivateAction\",\"stopFading\",\"stopWarping\",\"isRunning\",\"_isActiveAction\",\"isScheduled\",\"startAt\",\"setEffectiveWeight\",\"getEffectiveWeight\",\"fadeIn\",\"_scheduleFading\",\"fadeOut\",\"crossFadeFrom\",\"fadeOutAction\",\"warp\",\"fadeInDuration\",\"fadeOutDuration\",\"startEndRatio\",\"endStartRatio\",\"crossFadeTo\",\"fadeInAction\",\"weightInterpolant\",\"_takeBackControlInterpolant\",\"setEffectiveTimeScale\",\"getEffectiveTimeScale\",\"setDuration\",\"syncWith\",\"action\",\"halt\",\"startTimeScale\",\"endTimeScale\",\"now\",\"_lendControlInterpolant\",\"timeScaleInterpolant\",\"getMixer\",\"getClip\",\"getRoot\",\"_update\",\"deltaTime\",\"timeDirection\",\"timeRunning\",\"_updateTimeScale\",\"clipTime\",\"_updateTime\",\"_updateWeight\",\"propertyMixers\",\"interpolantValue\",\"loopCount\",\"pingPong\",\"_setEndings\",\"handle_stop\",\"loopDelta\",\"pending\",\"atStart\",\"atEnd\",\"weightNow\",\"weightThen\",\"_bindAction\",\"prototypeAction\",\"rootUuid\",\"bindingsByRoot\",\"_bindingsByRootAndName\",\"bindingsByName\",\"_addInactiveBinding\",\"clipUuid\",\"actionsForClip\",\"_actionsByClip\",\"knownActions\",\"_addInactiveAction\",\"_lendBinding\",\"_lendAction\",\"_takeBackBinding\",\"_takeBackAction\",\"_actions\",\"_nActiveActions\",\"_nActiveBindings\",\"_controlInterpolants\",\"_nActiveControlInterpolants\",\"actions\",\"controlInterpolants\",\"actionsByClip\",\"actionByRoot\",\"_removeInactiveAction\",\"lastInactiveAction\",\"cacheIndex\",\"knownActionsForClip\",\"lastKnownAction\",\"byClipCacheIndex\",\"_removeInactiveBindingsForAction\",\"_removeInactiveBinding\",\"prevIndex\",\"lastActiveIndex\",\"firstInactiveAction\",\"firstInactiveIndex\",\"lastActiveAction\",\"bindingByName\",\"propBinding\",\"lastInactiveBinding\",\"remove_empty_map\",\"_\",\"firstInactiveBinding\",\"lastActiveBinding\",\"_controlInterpolantsResultBuffer\",\"__cacheIndex\",\"lastActiveInterpolant\",\"clipAction\",\"optionalRoot\",\"clipObject\",\"existingAction\",\"newAction\",\"stopAllAction\",\"nActions\",\"uncacheClip\",\"actionsToRemove\",\"uncacheRoot\",\"uncacheAction\",\"setFromCamera\",\"coords\",\"intersectObjects\",\"performance\",\"Date\",\"getElapsedTime\",\"getDelta\",\"newTime\",\"other\",\"setFromCartesianCoords\",\"distanceSq\",\"closestPointToPointParameter\",\"startP\",\"startEnd\",\"clampToLine\",\"startEnd2\",\"objPos\",\"objNorm\",\"coneLength\",\"coneWidth\",\"boneMatrix\",\"matrixWorldInv\",\"setPoint\",\"setColor\",\"ClosedSplineCurve3\",\"SplineCurve3\",\"Spline\",\"construct\",\"createPointsGeometry\",\"createGeometry\",\"createSpacedPointsGeometry\",\"fromPoints\",\"initFromArray\",\"getControlPointsArray\",\"reparametrizeByArcLength\",\"setColors\",\"isIntersectionBox\",\"isIntersectionSphere\",\"random16\",\"nearestPowerOfTwo\",\"nextPowerOfTwo\",\"flattenToArrayOffset\",\"multiplyVector3\",\"multiplyVector3Array\",\"applyToBuffer\",\"applyToVector3Array\",\"extractPosition\",\"getPosition\",\"multiplyToArray\",\"multiplyVector4\",\"rotateAxis\",\"crossVector\",\"rotateByAxis\",\"makeFrustum\",\"isIntersectionLine\",\"isIntersectionPlane\",\"barycoordFromPoint\",\"midpoint\",\"extractAllPoints\",\"extrude\",\"makeGeometry\",\"fromAttribute\",\"distanceToManhattan\",\"lengthManhattan\",\"setEulerFromRotationMatrix\",\"setEulerFromQuaternion\",\"getPositionFromMatrix\",\"getScaleFromMatrix\",\"getColumnFromMatrix\",\"applyProjection\",\"computeTangents\",\"getChildByName\",\"renderDepth\",\"getWorldRotation\",\"eulerOrder\",\"useQuaternion\",\"setLens\",\"onlyShadow\",\"shadowCameraFov\",\"shadowCameraLeft\",\"shadowCameraRight\",\"shadowCameraTop\",\"shadowCameraBottom\",\"shadowCameraVisible\",\"shadowDarkness\",\"shadowMapWidth\",\"shadowMapHeight\",\"copyIndicesArray\",\"addIndex\",\"addDrawCall\",\"clearDrawCalls\",\"computeOffsets\",\"getArrays\",\"addShapeList\",\"wrapAround\",\"wrapRGB\",\"metal\",\"clearTarget\",\"getCurrentRenderTarget\",\"getPrecision\",\"resetGLState\",\"supportsFloatTextures\",\"supportsHalfFloatTextures\",\"supportsStandardDerivatives\",\"supportsCompressedTextureS3TC\",\"supportsCompressedTexturePVRTC\",\"supportsBlendMinMax\",\"supportsInstancedArrays\",\"enableScissorTest\",\"addPrePlugin\",\"addPostPlugin\",\"updateShadowMap\",\"setFaceCulling\",\"shadowMapCullFace\",\"renderReverseSided\",\"renderSingleSided\",\"standing\",\"getData\",\"updateCubeMap\",\"GeometryUtils\",\"geometry1\",\"loadTextureCube\",\"loadCompressedTexture\",\"loadCompressedTextureCube\",\"SceneUtils\",\"createMultiMaterialObject\",\"detach\",\"attach\",\"CullFaceFrontBack\",\"FrontFaceDirectionCW\",\"FrontFaceDirectionCCW\",\"BasicShadowMap\",\"FlatShading\",\"SmoothShading\",\"LoopOnce\",\"LoopPingPong\",\"InterpolateDiscrete\",\"InterpolateLinear\",\"InterpolateSmooth\",\"ZeroSlopeEnding\",\"WrapAroundEnding\",\"LogLuvEncoding\",\"Face4\",\"LineStrip\",\"LinePieces\",\"MeshFaceMaterial\",\"MultiMaterial\",\"Particle\",\"ParticleSystem\",\"PointCloudMaterial\",\"ParticleBasicMaterial\",\"ParticleSystemMaterial\",\"Vertex\",\"DynamicBufferAttribute\",\"Int8Attribute\",\"Uint8Attribute\",\"Uint8ClampedAttribute\",\"Int16Attribute\",\"Uint16Attribute\",\"Int32Attribute\",\"Uint32Attribute\",\"Float32Attribute\",\"Float64Attribute\",\"AxisHelper\",\"BoundingBoxHelper\",\"EdgesHelper\",\"WireframeHelper\",\"XHRLoader\",\"BinaryTextureLoader\",\"Projector\",\"projectVector\",\"unprojectVector\",\"pickingRay\",\"CanvasRenderer\",\"LensFlare\"],\"mappings\":\"aACA,IAAAA,KAGA,SAAAC,EAAAC,GAGA,GAAAF,EAAAE,GACA,OAAAF,EAAAE,GAAAC,QAGA,IAAAC,EAAAJ,EAAAE,IACAG,EAAAH,EACAI,GAAA,EACAH,YAUA,OANAI,EAAAL,GAAAM,KAAAJ,EAAAD,QAAAC,EAAAA,EAAAD,QAAAF,GAGAG,EAAAE,GAAA,EAGAF,EAAAD,QAKAF,EAAAQ,EAAAF,EAGAN,EAAAS,EAAAV,EAGAC,EAAAU,EAAA,SAAAR,EAAAS,EAAAC,GACAZ,EAAAa,EAAAX,EAAAS,IACAG,OAAAC,eAAAb,EAAAS,GAA0CK,YAAA,EAAAC,IAAAL,KAK1CZ,EAAAkB,EAAA,SAAAhB,GACA,oBAAAiB,QAAAA,OAAAC,aACAN,OAAAC,eAAAb,EAAAiB,OAAAC,aAAwDC,MAAA,WAExDP,OAAAC,eAAAb,EAAA,cAAiDmB,OAAA,KAQjDrB,EAAAsB,EAAA,SAAAD,EAAAE,GAEA,GADA,EAAAA,IAAAF,EAAArB,EAAAqB,IACA,EAAAE,EAAA,OAAAF,EACA,GAAA,EAAAE,GAAA,iBAAAF,GAAAA,GAAAA,EAAAG,WAAA,OAAAH,EACA,IAAAI,EAAAX,OAAAY,OAAA,MAGA,GAFA1B,EAAAkB,EAAAO,GACAX,OAAAC,eAAAU,EAAA,WAAyCT,YAAA,EAAAK,MAAAA,IACzC,EAAAE,GAAA,iBAAAF,EAAA,IAAA,IAAAM,KAAAN,EAAArB,EAAAU,EAAAe,EAAAE,EAAA,SAAAA,GAAgH,OAAAN,EAAAM,IAAqBC,KAAA,KAAAD,IACrI,OAAAF,GAIAzB,EAAA6B,EAAA,SAAA1B,GACA,IAAAS,EAAAT,GAAAA,EAAAqB,WACA,WAA2B,OAAArB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAH,EAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAiB,EAAAC,GAAsD,OAAAjB,OAAAkB,UAAAC,eAAA1B,KAAAuB,EAAAC,IAGtD/B,EAAAkC,EAAA,GAIAlC,EAAAA,EAAAmC,EAAA,kEC3EA,IAAIC,EAAQC,EAAUC,EAAOC,EA0H7B,SAASC,IACLJ,EAAOK,OAASC,OAAOC,WAAaD,OAAOE,YAC3CR,EAAOS,yBACPN,EAASO,QAAQJ,OAAOC,WAAYD,OAAOE,aApI/C5C,EAAA,GACAA,EAAA,GACAA,EAAA,IAEiC,IAA7B+C,MAAMC,oBACNC,SAASC,KAAKC,YAAYJ,MAAMK,wBAQpC,YACId,EAAQ,IAAIe,MAAMC,OACZC,WAAa,IAAIF,MAAMG,MAAM,UACnClB,EAAMmB,IAAM,IAAIJ,MAAMK,QAAQ,SAAU,OACxCnB,EAAW,IAAIc,MAAMM,eAAeC,WAAW,KACtCC,cAAcnB,OAAOoB,kBAC9BvB,EAASO,QAAQJ,OAAOC,WAAYD,OAAOE,aAC3CK,SAASC,KAAKC,YAAYZ,EAASwB,aACnC3B,EAAS,IAAIiB,MAAMW,kBAAkB,GAAItB,OAAOC,WAAaD,OAAOE,YAAa,GAAK,MAC/EqB,SAASC,KAAK,IAAK,IAAK,KAG/B7B,EAAW,IAAIgB,MAAMc,cAAc/B,EAAQG,EAASwB,aAI3CK,eAAgB,EACzB/B,EAASgC,cAAgB,IACzBhC,EAASiC,oBAAqB,EAC9BjC,EAASkC,YAAc,GACvBlC,EAASmC,YAAc,GACvBnC,EAASoC,cAAgBC,KAAKC,GAAK,EAInC,IAAIC,EAAmB,IAAIvB,MAAMwB,uBAAuB,EAAG,GAAI,GAAI,EAAG,GAClEC,EAAiB,IAAIzB,MAAM0B,eAAe,EAAmB,GAAhBL,KAAKM,SAA+B,GAAhBN,KAAKM,UACtEC,EAAe,IAAI5B,MAAM6B,aAAa,EAAG,EAAG,GAE5CC,EAAW,IAAI9B,MAAM+B,mBAAmBC,MAAO,SAAUC,aAAa,IAGtEC,EAAYtC,SAASuC,cAAc,WACnCC,EAAcxC,SAASuC,cAAc,gBACrCE,GACAC,KAAM,OACNC,OAAQ,SACRC,QAAS,WAETC,EAAa7C,SAASuC,cAAc,UACpCO,EAAS9C,SAASuC,cAAc,SAChCQ,EAAY/C,SAASgD,iBAAiB,cAK1CV,EAAUW,iBAAiB,QAAS,SAAUC,GAE1C,IAAIC,EADJD,EAAEE,iBAGEZ,EAAYpE,QAAUqE,EAAcC,MACjCG,EAAWzE,QACV4D,EAAaqB,MAAMR,EAAWzE,MAAMyE,EAAWzE,MAAMyE,EAAWzE,OAChEyE,EAAWzE,MAAM,GAGrB+E,EAAO,IAAI/C,MAAMkD,KAAKtB,EAAcE,IAG/BM,EAAYpE,QAAUqE,EAAcE,QACtCE,EAAWzE,QACVyD,EAAewB,MAAMR,EAAWzE,MAAMyE,EAAWzE,MAAMyE,EAAWzE,OAClEyE,EAAWzE,MAAM,GAErB+E,EAAO,IAAI/C,MAAMkD,KAAKzB,EAAgBK,KAGnCW,EAAWzE,QACVuD,EAAiB0B,MAAMR,EAAWzE,MAAMyE,EAAWzE,MAAMyE,EAAWzE,OACpEyE,EAAWzE,MAAM,GAErB+E,EAAO,IAAI/C,MAAMkD,KAAK3B,EAAkBO,IAQ5CiB,EAAKnC,SAASuC,EAAoB,IAAhB9B,KAAKM,SACvBoB,EAAKnC,SAASwC,EAAI,EAClBL,EAAKnC,SAASyC,EAAoB,IAAhBhC,KAAKM,SACvBoB,EAAKO,eACLP,EAAKQ,kBAAmB,EACxBtE,EAAMuE,IAAIT,GACV,IAAIU,EAAW7D,SAAS8D,cAAc,MACtCD,EAASE,aAAa,KAAMZ,EAAKa,MACjCH,EAASI,UAAY,SAAWd,EAAKa,KAAO,oCAC5ClB,EAAO5C,YAAY2D,IAGfd,EAAY/C,SAASgD,iBAAiB,aAC5BD,EAAUmB,OAAS,GAAG3B,cAAc,UAAUU,iBAAiB,QAAS,WAC9EkB,KAAKC,cAAcC,SACnBhF,EAAMgF,OAAOlB,QASrBmB,EAAQ,IAAIlE,MAAMmE,iBAAiB,WACjCvD,SAASC,IAAI,EAAG,EAAG,GACzB5B,EAAMuE,IAAIU,IACNA,EAAQ,IAAIlE,MAAMmE,iBAAiB,OACjCvD,SAASC,KAAK,GAAI,GAAI,GAC5B5B,EAAMuE,IAAIU,GACV,IAAIA,EAAQ,IAAIlE,MAAMoE,aAAa,SACnCnF,EAAMuE,IAAIU,GAEV7E,OAAOwD,iBAAiB,SAAU1D,GAAgB,GArHtDkF,GA+HA,SAASC,IACLC,sBAAsBD,GACtBtF,EAASwF,SAKTtF,EAASuF,OAAOxF,EAAOF,GApI3BuF,iCCKAtE,MAAMc,cAAgB,SAAWrC,EAAQiC,GAErCqD,KAAKtF,OAASA,EAEdsF,KAAKrD,gBAA8BgE,IAAfhE,EAA6BA,EAAad,SAG9DmE,KAAKY,SAAU,EAGfZ,KAAKa,OAAS,IAAI5E,MAAM6E,QAGxBd,KAAK7C,YAAc,EACnB6C,KAAK5C,YAAc2D,EAAAA,EAGnBf,KAAKgB,QAAU,EACfhB,KAAKiB,QAAUF,EAAAA,EAIff,KAAKkB,cAAgB,EACrBlB,KAAK3C,cAAgBC,KAAKC,GAI1ByC,KAAKmB,iBAAoBJ,EAAAA,EACzBf,KAAKoB,gBAAkBL,EAAAA,EAIvBf,KAAKhD,eAAgB,EACrBgD,KAAK/C,cAAgB,IAIrB+C,KAAKqB,YAAa,EAClBrB,KAAKsB,UAAY,EAGjBtB,KAAKuB,cAAe,EACpBvB,KAAKwB,YAAc,EAGnBxB,KAAKyB,WAAY,EACjBzB,KAAK0B,SAAW,EAChB1B,KAAK9C,oBAAqB,EAC1B8C,KAAK2B,YAAc,EAInB3B,KAAK4B,YAAa,EAClB5B,KAAK6B,gBAAkB,EAGvB7B,KAAK8B,YAAa,EAGlB9B,KAAK+B,MAASC,KAAM,GAAIC,GAAI,GAAIC,MAAO,GAAIC,OAAQ,IAGnDnC,KAAKoC,cAAiBJ,KAAM/F,MAAMoG,MAAML,KAAMM,OAAQrG,MAAMoG,MAAMC,OAAQJ,MAAOjG,MAAMoG,MAAMH,OAG7FlC,KAAKuC,QAAUvC,KAAKa,OAAO2B,QAC3BxC,KAAKyC,UAAYzC,KAAKtF,OAAOmC,SAAS2F,QACtCxC,KAAK0C,MAAQ1C,KAAKtF,OAAOiI,KAMzB3C,KAAK4C,cAAgB,WAEjB,OAAOC,EAAUC,KAIrB9C,KAAK+C,kBAAoB,WAErB,OAAOF,EAAUG,OAIrBhD,KAAKiD,UAAY,WAEbC,EAAMX,QAAQY,KAAMD,EAAMrC,QAC1BqC,EAAMT,UAAUU,KAAMD,EAAMxI,OAAOmC,UACnCqG,EAAMR,MAAQQ,EAAMxI,OAAOiI,MAI/B3C,KAAKoD,MAAQ,WAETF,EAAMrC,OAAOsC,KAAMD,EAAMX,SACzBW,EAAMxI,OAAOmC,SAASsG,KAAMD,EAAMT,WAClCS,EAAMxI,OAAOiI,KAAOO,EAAMR,MAE1BQ,EAAMxI,OAAOe,yBACbyH,EAAMG,cAAeC,GAErBJ,EAAMzC,SAEN8C,EAAQC,EAAMC,MAKlBzD,KAAKS,OAAS,WAEV,IAAIiD,EAAS,IAAIzH,MAAM6E,QAGnB6C,GAAO,IAAI1H,MAAM2H,YAAaC,mBAAoBnJ,EAAOoJ,GAAI,IAAI7H,MAAM6E,QAAS,EAAG,EAAG,IACtFiD,EAAcJ,EAAKnB,QAAQwB,UAE3BC,EAAe,IAAIhI,MAAM6E,QACzBoD,EAAiB,IAAIjI,MAAM2H,WAE/B,OAAO,WAEH,IAAI/G,EAAWqG,EAAMxI,OAAOmC,SAkE5B,OAhEA6G,EAAOP,KAAMtG,GAAWsH,IAAKjB,EAAMrC,QAGnC6C,EAAOU,gBAAiBT,GAGxBd,EAAUwB,eAAgBX,GAErBR,EAAMtB,YAAc2B,IAAUC,EAAMC,MAErCa,EAmID,EAAIhH,KAAKC,GAAK,GAAK,GAAK2F,EAAMrB,iBA/HjCgB,EAAUG,OAASuB,EAAevB,MAClCH,EAAUC,KAAOyB,EAAezB,IAGhCD,EAAUG,MAAQ1F,KAAKkH,IAAKtB,EAAM/B,gBAAiB7D,KAAKmH,IAAKvB,EAAM9B,gBAAiByB,EAAUG,QAG9FH,EAAUC,IAAMxF,KAAKkH,IAAKtB,EAAMhC,cAAe5D,KAAKmH,IAAKvB,EAAM7F,cAAewF,EAAUC,MAExFD,EAAU6B,WAGV7B,EAAU8B,QAAUzF,EAGpB2D,EAAU8B,OAASrH,KAAKkH,IAAKtB,EAAM/F,YAAaG,KAAKmH,IAAKvB,EAAM9F,YAAayF,EAAU8B,SAGvFzB,EAAMrC,OAAOpB,IAAKmF,GAElBlB,EAAOmB,iBAAkBhC,GAGzBa,EAAOU,gBAAiBL,GAExBlH,EAASsG,KAAMD,EAAMrC,QAASpB,IAAKiE,GAEnCR,EAAMxI,OAAOoK,OAAQ5B,EAAMrC,SAEE,IAAxBqC,EAAMlG,eAEPuH,EAAevB,OAAW,EAAIE,EAAMjG,cACpCsH,EAAezB,KAAS,EAAII,EAAMjG,cAElC2H,EAAUG,eAAgB,EAAI7B,EAAMjG,iBAIpCsH,EAAezH,IAAK,EAAG,EAAG,GAE1B8H,EAAU9H,IAAK,EAAG,EAAG,IAIzBoC,EAAQ,KAMH8F,GACDf,EAAagB,kBAAmB/B,EAAMxI,OAAOmC,UAAaqI,GAC1D,GAAM,EAAIhB,EAAeiB,IAAKjC,EAAMxI,OAAO0K,aAAiBF,KAE5DhC,EAAMG,cAAeC,GAErBW,EAAad,KAAMD,EAAMxI,OAAOmC,UAChCqH,EAAef,KAAMD,EAAMxI,OAAO0K,YAClCJ,GAAc,GAEP,IAzFL,GAmGdhF,KAAKqF,QAAU,WAEXnC,EAAMvG,WAAW2I,oBAAqB,cAAeC,GAAe,GACpErC,EAAMvG,WAAW2I,oBAAqB,YAAaE,GAAa,GAChEtC,EAAMvG,WAAW2I,oBAAqB,QAASG,GAAc,GAE7DvC,EAAMvG,WAAW2I,oBAAqB,aAAcI,GAAc,GAClExC,EAAMvG,WAAW2I,oBAAqB,WAAYK,GAAY,GAC9DzC,EAAMvG,WAAW2I,oBAAqB,YAAaM,GAAa,GAEhE/J,SAASyJ,oBAAqB,YAAaO,GAAa,GACxDhK,SAASyJ,oBAAqB,UAAWQ,GAAW,GAEpDxK,OAAOgK,oBAAqB,UAAWS,GAAW,IAUtD,IAAI7C,EAAQlD,KAERsD,GAAgB0C,KAAM,UACtBC,GAAeD,KAAM,SACrBE,GAAaF,KAAM,OAEnBxC,GAAUC,MAAQ,EAAG0C,OAAQ,EAAGC,MAAO,EAAGC,IAAK,EAAGC,aAAc,EAAGC,gBAAiB,GAEpFhD,EAAQC,EAAMC,KAEdyB,EAAM,KAGNrC,EAAY,IAAI5G,MAAMuK,UACtBjC,EAAiB,IAAItI,MAAMuK,UAE3BtH,EAAQ,EACR0F,EAAY,IAAI3I,MAAM6E,QACtBkE,GAAc,EAEdyB,EAAc,IAAIxK,MAAMyK,QACxBC,EAAY,IAAI1K,MAAMyK,QACtBE,EAAc,IAAI3K,MAAMyK,QAExBG,EAAW,IAAI5K,MAAMyK,QACrBI,EAAS,IAAI7K,MAAMyK,QACnBK,EAAW,IAAI9K,MAAMyK,QAErBM,EAAa,IAAI/K,MAAMyK,QACvBO,EAAW,IAAIhL,MAAMyK,QACrBQ,EAAa,IAAIjL,MAAMyK,QAQ3B,SAASS,IAEL,OAAO7J,KAAK8J,IAAK,IAAMlE,EAAM5B,WAIjC,SAASgD,EAAY+C,GAEjB9C,EAAevB,OAASqE,EAI5B,SAASC,EAAUD,GAEf9C,EAAezB,KAAOuE,EAI1B,IAAIE,EAAU,WAEV,IAAIC,EAAI,IAAIvL,MAAM6E,QAElB,OAAO,SAAkB2G,EAAUC,GAE/BF,EAAEG,oBAAqBD,EAAc,GACrCF,EAAEzC,gBAAkB0C,GAEpB7C,EAAUnF,IAAK+H,IATT,GAeVI,EAAQ,WAER,IAAIJ,EAAI,IAAIvL,MAAM6E,QAElB,OAAO,SAAgB2G,EAAUC,IAEK,IAA7BxE,EAAMhG,mBAEPsK,EAAEG,oBAAqBD,EAAc,IAIrCF,EAAEG,oBAAqBD,EAAc,GACrCF,EAAEK,aAAc3E,EAAMxI,OAAOoJ,GAAI0D,IAIrCA,EAAEzC,eAAgB0C,GAElB7C,EAAUnF,IAAK+H,IAnBX,GA0BRM,EAAM,WAEN,IAAIpE,EAAS,IAAIzH,MAAM6E,QAEvB,OAAO,SAAciH,EAAQC,GAEzB,IAAIC,EAAU/E,EAAMvG,aAAed,SAAWqH,EAAMvG,WAAWb,KAAOoH,EAAMvG,WAE5E,GAAKuG,EAAMxI,OAAOwN,oBAAsB,CAGpC,IAAIrL,EAAWqG,EAAMxI,OAAOmC,SAC5B6G,EAAOP,KAAMtG,GAAWsH,IAAKjB,EAAMrC,QACnC,IAAIsH,EAAiBzE,EAAO3D,SAG5BoI,GAAkB7K,KAAK8K,IAAOlF,EAAMxI,OAAO2N,IAAM,EAAM/K,KAAKC,GAAK,KAGjEgK,EAAS,EAAIQ,EAASI,EAAiBF,EAAQK,aAAcpF,EAAMxI,OAAO6N,QAC1EX,EAAO,EAAII,EAASG,EAAiBF,EAAQK,aAAcpF,EAAMxI,OAAO6N,aAEhErF,EAAMxI,OAAO8N,sBAGrBjB,EAASQ,GAAW7E,EAAMxI,OAAO+N,MAAQvF,EAAMxI,OAAOgO,MAASxF,EAAMxI,OAAOiI,KAAOsF,EAAQU,YAAazF,EAAMxI,OAAO6N,QACrHX,EAAOI,GAAW9E,EAAMxI,OAAOkO,IAAM1F,EAAMxI,OAAOmO,QAAW3F,EAAMxI,OAAOiI,KAAOsF,EAAQK,aAAcpF,EAAMxI,OAAO6N,UAKpHO,QAAQC,KAAM,gFACd7F,EAAMzB,WAAY,IAhCpB,GAwCV,SAASuH,EAASC,GAET/F,EAAMxI,OAAOwN,oBAEdhJ,GAAS+J,EAED/F,EAAMxI,OAAO8N,sBAErBtF,EAAMxI,OAAOiI,KAAOrF,KAAKkH,IAAKtB,EAAMlC,QAAS1D,KAAKmH,IAAKvB,EAAMjC,QAASiC,EAAMxI,OAAOiI,KAAOsG,IAC1F/F,EAAMxI,OAAOe,yBACbuJ,GAAc,IAId8D,QAAQC,KAAM,uFACd7F,EAAM7B,YAAa,GAM3B,SAAS6H,EAAUD,GAEV/F,EAAMxI,OAAOwN,oBAEdhJ,GAAS+J,EAED/F,EAAMxI,OAAO8N,sBAErBtF,EAAMxI,OAAOiI,KAAOrF,KAAKkH,IAAKtB,EAAMlC,QAAS1D,KAAKmH,IAAKvB,EAAMjC,QAASiC,EAAMxI,OAAOiI,KAAOsG,IAC1F/F,EAAMxI,OAAOe,yBACbuJ,GAAc,IAId8D,QAAQC,KAAM,uFACd7F,EAAM7B,YAAa,GA0B3B,SAAS8H,EAAoBC,GAIzBvC,EAAS/J,IAAKsM,EAAMC,QAASD,EAAME,SA8NvC,SAAS9D,EAAa4D,GAElB,IAAuB,IAAlBlG,EAAMtC,QAAX,CAIA,OAFAwI,EAAMnK,iBAEGmK,EAAMG,QAEX,KAAKrG,EAAMd,aAAaJ,KAEpB,GAAKoH,EAAMI,SAAWJ,EAAMK,QAAU,CAElC,IAAyB,IAApBvG,EAAMzB,UAAsB,OAEjC0H,EAAoBC,GAEpB7F,EAAQC,EAAM6C,QAEX,CAEH,IAA4B,IAAvBnD,EAAM3B,aAAyB,QAtQpD,SAAgC6H,GAI5B3C,EAAY3J,IAAKsM,EAAMC,QAASD,EAAME,SAoQ1BI,CAAuBN,GAEvB7F,EAAQC,EAAM2C,OAIlB,MAEJ,KAAKjD,EAAMd,aAAaE,OAEpB,IAA0B,IAArBY,EAAM7B,WAAuB,QA1Q9C,SAA+B+H,GAI3BpC,EAAWlK,IAAKsM,EAAMC,QAASD,EAAME,SAwQ7BK,CAAsBP,GAEtB7F,EAAQC,EAAM4C,MAEd,MAEJ,KAAKlD,EAAMd,aAAaF,MAEpB,IAAyB,IAApBgB,EAAMzB,UAAsB,OAEjC0H,EAAoBC,GAEpB7F,EAAQC,EAAM6C,IAMjB9C,IAAUC,EAAMC,OAEjB5H,SAASiD,iBAAkB,YAAa+G,GAAa,GACrDhK,SAASiD,iBAAkB,UAAWgH,GAAW,GAEjD5C,EAAMG,cAAe4C,KAM7B,SAASJ,EAAauD,GAElB,IAAuB,IAAlBlG,EAAMtC,QAIX,OAFAwI,EAAMnK,iBAEGsE,GAEL,KAAKC,EAAM2C,OAEP,IAA4B,IAAvBjD,EAAM3B,aAAyB,QAnShD,SAAgC6H,GAI5BzC,EAAU7J,IAAKsM,EAAMC,QAASD,EAAME,SAEpC1C,EAAYgD,WAAYjD,EAAWF,GAAc1B,eAAgB7B,EAAM1B,aAEvE,IAAIyG,EAAU/E,EAAMvG,aAAed,SAAWqH,EAAMvG,WAAWb,KAAOoH,EAAMvG,WAE5E2H,EAAY,EAAIhH,KAAKC,GAAKqJ,EAAYxH,EAAI6I,EAAQK,cAElDhB,EAAU,EAAIhK,KAAKC,GAAKqJ,EAAYvH,EAAI4I,EAAQK,cAEhD7B,EAAYtD,KAAMwD,GAElBzD,EAAMzC,SAqREoJ,CAAuBT,GAEvB,MAEJ,KAAK5F,EAAM4C,MAEP,IAA0B,IAArBlD,EAAM7B,WAAuB,QAvR9C,SAA+B+H,GAI3BnC,EAASnK,IAAKsM,EAAMC,QAASD,EAAME,SAEnCpC,EAAW0C,WAAY3C,EAAUD,GAE5BE,EAAW7H,EAAI,EAEhB2J,EAAS7B,KAEDD,EAAW7H,EAAI,GAEvB6J,EAAU/B,KAIdH,EAAW7D,KAAM8D,GAEjB/D,EAAMzC,SAqQEqJ,CAAsBV,GAEtB,MAEJ,KAAK5F,EAAM6C,IAEP,IAAyB,IAApBnD,EAAMzB,UAAsB,QAvQ7C,SAA6B2H,GAIzBtC,EAAOhK,IAAKsM,EAAMC,QAASD,EAAME,SAEjCvC,EAAS6C,WAAY9C,EAAQD,GAAW9B,eAAgB7B,EAAMxB,UAE9DoG,EAAKf,EAAS3H,EAAG2H,EAAS1H,GAE1BwH,EAAS1D,KAAM2D,GAEf5D,EAAMzC,SA6PEsJ,CAAoBX,IAQhC,SAAStD,EAAWsD,IAEO,IAAlBlG,EAAMtC,UAIX/E,SAASyJ,oBAAqB,YAAaO,GAAa,GACxDhK,SAASyJ,oBAAqB,UAAWQ,GAAW,GAEpD5C,EAAMG,cAAe6C,GAErB3C,EAAQC,EAAMC,MAIlB,SAASgC,EAAc2D,IAEI,IAAlBlG,EAAMtC,UAA0C,IAArBsC,EAAM7B,YAA0BkC,IAAUC,EAAMC,MAAQF,IAAUC,EAAM2C,SAExGiD,EAAMnK,iBACNmK,EAAMY,kBAEN9G,EAAMG,cAAe4C,GAjRzB,SAA2BmD,GAIlBA,EAAMpB,OAAS,EAEhBkB,EAAU/B,KAEFiC,EAAMpB,OAAS,GAEvBgB,EAAS7B,KAIbjE,EAAMzC,SAqQNwJ,CAAkBb,GAElBlG,EAAMG,cAAe6C,IAIzB,SAASH,EAAWqD,IAEO,IAAlBlG,EAAMtC,UAA0C,IAArBsC,EAAMpB,aAA4C,IAApBoB,EAAMzB,WAzQxE,SAAwB2H,GAIpB,OAASA,EAAMc,SAEX,KAAKhH,EAAMnB,KAAKE,GACZ6F,EAAK,EAAG5E,EAAMvB,aACduB,EAAMzC,SACN,MAEJ,KAAKyC,EAAMnB,KAAKI,OACZ2F,EAAK,GAAK5E,EAAMvB,aAChBuB,EAAMzC,SACN,MAEJ,KAAKyC,EAAMnB,KAAKC,KACZ8F,EAAK5E,EAAMvB,YAAa,GACxBuB,EAAMzC,SACN,MAEJ,KAAKyC,EAAMnB,KAAKG,MACZ4F,GAAO5E,EAAMvB,YAAa,GAC1BuB,EAAMzC,UAoPd0J,CAAef,GAInB,SAAS1D,EAAc0D,GAEnB,IAAuB,IAAlBlG,EAAMtC,QAAX,CAIA,OAFAwI,EAAMnK,iBAEGmK,EAAMgB,QAAQrK,QAEnB,KAAK,EAED,IAA4B,IAAvBmD,EAAM3B,aAAyB,QA3PhD,SAAiC6H,GAI7B3C,EAAY3J,IAAKsM,EAAMgB,QAAS,GAAIC,MAAOjB,EAAMgB,QAAS,GAAIE,OAyPtDC,CAAwBnB,GAExB7F,EAAQC,EAAM8C,aAEd,MAEJ,KAAK,EAED,IAA0B,IAArBpD,EAAM7B,aAA4C,IAApB6B,EAAMzB,UAAsB,QA7P3E,SAAmC2H,GAI/B,GAAKlG,EAAM7B,WAAa,CAEpB,IAAImJ,EAAKpB,EAAMgB,QAAS,GAAIC,MAAQjB,EAAMgB,QAAS,GAAIC,MACnDI,EAAKrB,EAAMgB,QAAS,GAAIE,MAAQlB,EAAMgB,QAAS,GAAIE,MAEnD7C,EAAWnK,KAAKoN,KAAMF,EAAKA,EAAKC,EAAKA,GAEzCzD,EAAWlK,IAAK,EAAG2K,GAIvB,GAAKvE,EAAMzB,UAAY,CAEnB,IAAIrC,EAAI,IAAQgK,EAAMgB,QAAS,GAAIC,MAAQjB,EAAMgB,QAAS,GAAIC,OAC1DhL,EAAI,IAAQ+J,EAAMgB,QAAS,GAAIE,MAAQlB,EAAMgB,QAAS,GAAIE,OAE9DzD,EAAS/J,IAAKsC,EAAGC,IA2ObsL,CAA0BvB,GAE1B7F,EAAQC,EAAM+C,gBAEd,MAEJ,QAEIhD,EAAQC,EAAMC,KAIjBF,IAAUC,EAAMC,MAEjBP,EAAMG,cAAe4C,IAM7B,SAASL,EAAawD,GAElB,IAAuB,IAAlBlG,EAAMtC,QAKX,OAHAwI,EAAMnK,iBACNmK,EAAMY,kBAEGZ,EAAMgB,QAAQrK,QAEnB,KAAK,EAED,IAA4B,IAAvBmD,EAAM3B,aAAyB,OACpC,GAAKgC,IAAUC,EAAM8C,aAAe,QArQhD,SAAgC8C,GAI5BzC,EAAU7J,IAAKsM,EAAMgB,QAAS,GAAIC,MAAOjB,EAAMgB,QAAS,GAAIE,OAE5D1D,EAAYgD,WAAYjD,EAAWF,GAAc1B,eAAgB7B,EAAM1B,aAEvE,IAAIyG,EAAU/E,EAAMvG,aAAed,SAAWqH,EAAMvG,WAAWb,KAAOoH,EAAMvG,WAE5E2H,EAAY,EAAIhH,KAAKC,GAAKqJ,EAAYxH,EAAI6I,EAAQK,cAElDhB,EAAU,EAAIhK,KAAKC,GAAKqJ,EAAYvH,EAAI4I,EAAQK,cAEhD7B,EAAYtD,KAAMwD,GAElBzD,EAAMzC,SAuPEmK,CAAuBxB,GAEvB,MAEJ,KAAK,EAED,IAA0B,IAArBlG,EAAM7B,aAA4C,IAApB6B,EAAMzB,UAAsB,OAC/D,GAAK8B,IAAUC,EAAM+C,gBAAkB,QA1PnD,SAAkC6C,GAI9B,GAAKlG,EAAM7B,WAAa,CAEpB,IAAImJ,EAAKpB,EAAMgB,QAAS,GAAIC,MAAQjB,EAAMgB,QAAS,GAAIC,MACnDI,EAAKrB,EAAMgB,QAAS,GAAIE,MAAQlB,EAAMgB,QAAS,GAAIE,MAEnD7C,EAAWnK,KAAKoN,KAAMF,EAAKA,EAAKC,EAAKA,GAEzCxD,EAASnK,IAAK,EAAG2K,GAEjBP,EAAWpK,IAAK,EAAGQ,KAAK8J,IAAKH,EAAS5H,EAAI2H,EAAW3H,EAAG6D,EAAM5B,YAE9D0H,EAAS9B,EAAW7H,GAEpB2H,EAAW7D,KAAM8D,GAIrB,GAAK/D,EAAMzB,UAAY,CAEnB,IAAIrC,EAAI,IAAQgK,EAAMgB,QAAS,GAAIC,MAAQjB,EAAMgB,QAAS,GAAIC,OAC1DhL,EAAI,IAAQ+J,EAAMgB,QAAS,GAAIE,MAAQlB,EAAMgB,QAAS,GAAIE,OAE9DxD,EAAOhK,IAAKsC,EAAGC,GAEf0H,EAAS6C,WAAY9C,EAAQD,GAAW9B,eAAgB7B,EAAMxB,UAE9DoG,EAAKf,EAAS3H,EAAG2H,EAAS1H,GAE1BwH,EAAS1D,KAAM2D,GAInB5D,EAAMzC,SAwNEoK,CAAyBzB,GAEzB,MAEJ,QAEI7F,EAAQC,EAAMC,MAM1B,SAASkC,EAAYyD,IAEM,IAAlBlG,EAAMtC,UAIXsC,EAAMG,cAAe6C,GAErB3C,EAAQC,EAAMC,MAIlB,SAAS8B,EAAe6D,IAEG,IAAlBlG,EAAMtC,SAEXwI,EAAMnK,iBAMViE,EAAMvG,WAAWmC,iBAAkB,cAAeyG,GAAe,GAEjErC,EAAMvG,WAAWmC,iBAAkB,YAAa0G,GAAa,GAC7DtC,EAAMvG,WAAWmC,iBAAkB,QAAS2G,GAAc,GAE1DvC,EAAMvG,WAAWmC,iBAAkB,aAAc4G,GAAc,GAC/DxC,EAAMvG,WAAWmC,iBAAkB,WAAY6G,GAAY,GAC3DzC,EAAMvG,WAAWmC,iBAAkB,YAAa8G,GAAa,GAE7DtK,OAAOwD,iBAAkB,UAAWiH,GAAW,GAI/C/F,KAAKS,UAITxE,MAAMc,cAAcnC,UAAYlB,OAAOY,OAAQ2B,MAAM6O,gBAAgBlQ,WACrEqB,MAAMc,cAAcnC,UAAUmQ,YAAc9O,MAAMc,cAElDrD,OAAOsR,iBAAkB/O,MAAMc,cAAcnC,WAEzCqQ,QAEIpR,IAAK,WAGD,OADAiP,QAAQC,KAAM,4DACP/I,KAAKa,SAQpBqK,QAEIrR,IAAK,WAGD,OADAiP,QAAQC,KAAM,+EACL/I,KAAKqB,YAIlBvE,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,8EACd/I,KAAKqB,YAAepH,IAM5BkR,UAEItR,IAAK,WAGD,OADAiP,QAAQC,KAAM,mFACL/I,KAAKuB,cAIlBzE,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,kFACd/I,KAAKuB,cAAiBtH,IAM9BmR,OAEIvR,IAAK,WAGD,OADAiP,QAAQC,KAAM,6EACL/I,KAAKyB,WAIlB3E,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4EACd/I,KAAKyB,WAAcxH,IAM3BoR,QAEIxR,IAAK,WAGD,OADAiP,QAAQC,KAAM,+EACL/I,KAAK8B,YAIlBhF,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,8EACd/I,KAAK8B,YAAe7H,IAM5BqR,cAEIzR,IAAK,WAGD,OADAiP,QAAQC,KAAM,wFACL/I,KAAKhD,eAIlBF,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,uFACd/I,KAAKhD,eAAkB/C,IAM/BsR,sBAEI1R,IAAK,WAGD,OADAiP,QAAQC,KAAM,4FACP/I,KAAK/C,eAIhBH,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4FACd/I,KAAK/C,cAAgBhD,yRCphChC,SAAUuR,EAAQC,GACI,WAAnBC,EAAO5S,SAA0C,IAAXC,EAAyB0S,EAAQ3S,IACtB6S,GAAQ7S,QAAR6H,KAAAiL,EAAA,mBAAAC,EAAA,GAAAA,EAAAC,MAAAhT,EAAAiT,GAAAF,KAAA9S,EAAAD,QAAA8S,IAFpD,CAAAjL,EAIQ,SAAU7H,GAuGf,SAASgS,UAnGenK,IAAnBqL,OAAOC,UAERD,OAAOC,QAAU3O,KAAK8J,IAAK,GAAK,UAIVzG,IAArBqL,OAAOE,YAKRF,OAAOE,UAAY,SAAWjS,GAE1B,MAAwB,iBAAVA,GAAsBkS,SAAUlS,IAAWqD,KAAK8O,MAAOnS,KAAYA,SAQtE0G,IAAdrD,KAAK+O,OAIN/O,KAAK+O,KAAO,SAAWjN,GAEnB,OAASA,EAAI,GAAQ,EAAMA,EAAI,EAAM,GAAMA,IAM9C,SAAUkN,SAAS1R,YAAc,GAKlClB,OAAOC,eAAgB2S,SAAS1R,UAAW,QAEvCf,IAAK,WAED,OAAOmG,KAAKuM,WAAWC,MAAO,6BAA+B,WAQlD7L,IAAlBjH,OAAO+S,SAOJ/S,OAAO+S,OAAS,SAAW5L,GAEvB,QAAgBF,IAAXE,GAAmC,OAAXA,EAEzB,MAAM,IAAI6L,UAAW,8CAMzB,IAFA,IAAIC,EAASjT,OAAQmH,GAEX+L,EAAQ,EAAGA,EAAQC,UAAU9M,OAAQ6M,IAAW,CAEtD,IAAIE,EAASD,UAAWD,GAExB,QAAgBjM,IAAXmM,GAAmC,OAAXA,EAEzB,IAAM,IAAIC,KAAWD,EAEZpT,OAAOkB,UAAUC,eAAe1B,KAAM2T,EAAQC,KAE/CJ,EAAQI,GAAYD,EAAQC,IAU5C,OAAOJ,IAcnBjT,OAAO+S,OAAQ3B,EAAgBlQ,WAE3BkE,iBAAkB,SAAWkH,EAAMgH,QAENrM,IAApBX,KAAKiN,aAA2BjN,KAAKiN,eAE1C,IAAIC,EAAYlN,KAAKiN,gBAEMtM,IAAtBuM,EAAWlH,KAEZkH,EAAWlH,QAIkC,IAA5CkH,EAAWlH,GAAOmH,QAASH,IAE5BE,EAAWlH,GAAOoH,KAAMJ,IAMhCK,iBAAkB,SAAWrH,EAAMgH,GAE/B,QAAyBrM,IAApBX,KAAKiN,WAA2B,OAAO,EAE5C,IAAIC,EAAYlN,KAAKiN,WAErB,YAA6BtM,IAAtBuM,EAAWlH,KAAoE,IAA5CkH,EAAWlH,GAAOmH,QAASH,IAIzE1H,oBAAqB,SAAWU,EAAMgH,GAElC,QAAyBrM,IAApBX,KAAKiN,WAAV,CAEA,IACIK,EADYtN,KAAKiN,WACUjH,GAE/B,QAAuBrF,IAAlB2M,EAA8B,CAE/B,IAAIV,EAAQU,EAAcH,QAASH,IAElB,IAAZJ,GAEDU,EAAcC,OAAQX,EAAO,MAQzCvJ,cAAe,SAAW+F,GAEtB,QAAyBzI,IAApBX,KAAKiN,WAAV,CAEA,IACIK,EADYtN,KAAKiN,WACU7D,EAAMpD,MAErC,QAAuBrF,IAAlB2M,EAA8B,CAE/BlE,EAAMvI,OAASb,KAIf,IAFA,IAAIwN,EAAQF,EAAcG,MAAO,GAEvBzU,EAAI,EAAGC,EAAIuU,EAAMzN,OAAQ/G,EAAIC,EAAGD,IAEtCwU,EAAOxU,GAAIG,KAAM6G,KAAMoJ,QAUvC,IAAIsE,EAAW,KAEXC,EAAe,EACfC,EAAe,EACfC,EAAgB,EAKhBC,EAAe,EACfC,EAAmB,EACnBC,EAAY,EACZC,EAAW,EACXC,EAAa,EAGbC,EAAW,EACXC,EAAa,EACbC,EAAe,EACfC,EAAa,EACbC,EAAiB,EACjBC,EAAmB,EACnBC,EAAsB,EACtBC,EAAmB,EACnBC,EAAiB,EACjBC,EAAc,IACdC,EAAmB,IACnBC,EAA0B,IAC1BC,EAAc,IACdC,EAAc,IACdC,EAAa,IACbC,EAAY,IACZC,EAAiB,IACjBC,EAAyB,IACzBC,EAAiB,IACjBC,EAAyB,IACzBC,EAAiB,IACjBC,EAAyB,IACzBC,EAAiB,IACjBC,EAAyB,IACzBC,EAAyB,IACzBC,EAAa,EACbC,EAAc,EACdC,EAAY,EACZC,EAAiB,EACjBC,EAAa,EACbC,EAAoB,EACpBC,EAAe,EACfC,EAAgB,EAChBC,EAAoB,EACpBC,EAAe,EACfC,EAAe,EACfC,EAAgB,EAChBC,EAAoB,EACpBC,EAAsB,EACtBC,EAAwB,EACxBC,EAAoB,EAEpBC,EAAwB,IACxBC,GAAwB,IACxBC,GAAmC,IACnCC,GAAmC,IACnCC,GAA6B,IAC7BC,GAA0B,IAC1BC,GAA0B,IAC1BC,GAAiB,IACjBC,GAAsB,KACtBC,GAAyB,KACzBC,GAAgB,KAChBC,GAA6B,KAC7BC,GAA4B,KAC5BC,GAAe,KACfC,GAA4B,KAC5BC,GAA2B,KAC3BC,GAAmB,KACnBC,GAAW,KACXC,GAAY,KACZC,GAAoB,KACpBC,GAAU,KACVC,GAAkB,KAClBC,GAAY,KACZC,GAAgB,KAChBC,GAAwB,KACxBC,GAAwB,KACxBC,GAAuB,KACvBC,GAAqB,KACrBC,GAAc,KACdC,GAAY,KACZC,GAAa,KACbC,GAAkB,KAClBC,GAAuB,KACvBC,GAAaH,GACbI,GAAc,KACdC,GAAqB,KACrBC,GAAY,KACZC,GAAuB,MACvBC,GAAwB,MACxBC,GAAwB,MACxBC,GAAwB,MACxBC,GAA0B,MAC1BC,GAA0B,MAC1BC,GAA2B,MAC3BC,GAA2B,MAC3BC,GAAkB,MAClBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAuB,MACvBC,GAAwB,MACxBC,GAAwB,MACxBC,GAAwB,MACxBC,GAAyB,MACzBC,GAAyB,MACzBC,GAAyB,MAEzBC,GAAa,KAKbC,GAAsB,KAGtBC,GAAoB,EACpBC,GAAwB,EACxBC,GAAsB,EACtBC,GAAiB,IACjBC,GAAe,KACfC,GAAgB,KAChBC,GAAe,KAEfC,GAAgB,KAChBC,GAAiB,KACjBC,GAAe,KACfC,GAAoB,KACpBC,GAAmB,KACnBC,GAAwB,EACxBC,GAAuB,EAOvBC,IAEAC,QAASnY,KAAKC,GAAK,IACnBmY,QAAS,IAAMpY,KAAKC,GAEpBoY,aAAgB,WAMZ,IAFA,IAAIC,KAEM5c,EAAI,EAAGA,EAAI,IAAKA,IAEtB4c,EAAK5c,IAAQA,EAAI,GAAK,IAAM,IAASA,EAAIuT,SAAU,IAIvD,OAAO,WAEH,IAAIsJ,EAAqB,WAAhBvY,KAAKM,SAAwB,EAClCkY,EAAqB,WAAhBxY,KAAKM,SAAwB,EAClCmY,EAAqB,WAAhBzY,KAAKM,SAAwB,EAClCoY,EAAqB,WAAhB1Y,KAAKM,SAAwB,EAOtC,OANWgY,EAAU,IAALC,GAAcD,EAAKC,GAAM,EAAI,KAASD,EAAKC,GAAM,GAAK,KAASD,EAAKC,GAAM,GAAK,KAAS,IACpGD,EAAU,IAALE,GAAcF,EAAKE,GAAM,EAAI,KAAS,IAAMF,EAAKE,GAAM,GAAK,GAAO,IAASF,EAAKE,GAAM,GAAK,KAAS,IAC1GF,EAAU,GAALG,EAAY,KAASH,EAAKG,GAAM,EAAI,KAAS,IAAMH,EAAKG,GAAM,GAAK,KAASH,EAAKG,GAAM,GAAK,KACjGH,EAAU,IAALI,GAAcJ,EAAKI,GAAM,EAAI,KAASJ,EAAKI,GAAM,GAAK,KAASJ,EAAKI,GAAM,GAAK,MAG5EC,eAxBJ,GA8BhBC,MAAO,SAAWjc,EAAOwK,EAAKD,GAE1B,OAAOlH,KAAKkH,IAAKC,EAAKnH,KAAKmH,IAAKD,EAAKvK,KAOzCkc,gBAAiB,SAAW1b,EAAGrB,GAE3B,OAAWqB,EAAIrB,EAAMA,GAAMA,GAM/Bgd,UAAW,SAAWhX,EAAGiX,EAAIC,EAAIC,EAAIC,GAEjC,OAAOD,GAAOnX,EAAIiX,IAASG,EAAKD,IAASD,EAAKD,IAMlDI,KAAM,SAAWrX,EAAGC,EAAGnF,GAEnB,OAAS,EAAIA,GAAMkF,EAAIlF,EAAImF,GAM/BqX,WAAY,SAAWtX,EAAGqF,EAAKD,GAE3B,OAAKpF,GAAKqF,EAAa,EAClBrF,GAAKoF,EAAa,GAEvBpF,GAAMA,EAAIqF,IAAUD,EAAMC,IAEfrF,GAAM,EAAI,EAAIA,IAI7BuX,aAAc,SAAWvX,EAAGqF,EAAKD,GAE7B,OAAKpF,GAAKqF,EAAa,EAClBrF,GAAKoF,EAAa,GAEvBpF,GAAMA,EAAIqF,IAAUD,EAAMC,IAEfrF,EAAIA,GAAMA,GAAU,EAAJA,EAAQ,IAAO,KAM9CwX,QAAS,SAAWC,EAAKC,GAErB,OAAOD,EAAMvZ,KAAK8O,MAAO9O,KAAKM,UAAakZ,EAAOD,EAAM,KAM5DE,UAAW,SAAWF,EAAKC,GAEvB,OAAOD,EAAMvZ,KAAKM,UAAakZ,EAAOD,IAM1CG,gBAAiB,SAAWC,GAExB,OAAOA,GAAU,GAAM3Z,KAAKM,WAIhCsZ,SAAU,SAAWC,GAEjB,OAAOA,EAAU3B,GAAMC,SAI3B2B,SAAU,SAAWC,GAEjB,OAAOA,EAAU7B,GAAME,SAI3B4B,aAAc,SAAWrd,GAErB,OAAqC,IAA5BA,EAAUA,EAAQ,IAAyB,IAAVA,GAI9Csd,eAAgB,SAAWtd,GAEvB,OAAOqD,KAAK8J,IAAK,EAAG9J,KAAKka,KAAMla,KAAKma,IAAKxd,GAAUqD,KAAKoa,OAI5DC,gBAAiB,SAAW1d,GAExB,OAAOqD,KAAK8J,IAAK,EAAG9J,KAAK8O,MAAO9O,KAAKma,IAAKxd,GAAUqD,KAAKoa,QAajE,SAAShR,GAAStH,EAAGC,GAEjBW,KAAKZ,EAAIA,GAAK,EACdY,KAAKX,EAAIA,GAAK,EAoflB,SAASuY,KAEL5X,KAAK6X,UAED,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,GAIRhL,UAAU9M,OAAS,GAEpB+I,QAAQgP,MAAO,iFAm5BvB,SAASlU,GAAYxE,EAAGC,EAAGC,EAAGyY,GAE1B/X,KAAKgY,GAAK5Y,GAAK,EACfY,KAAKiY,GAAK5Y,GAAK,EACfW,KAAKkY,GAAK5Y,GAAK,EACfU,KAAKmY,QAAaxX,IAANoX,EAAoBA,EAAI,EAqnBxC,SAASjX,GAAS1B,EAAGC,EAAGC,GAEpBU,KAAKZ,EAAIA,GAAK,EACdY,KAAKX,EAAIA,GAAK,EACdW,KAAKV,EAAIA,GAAK,EAktBlB,SAAS8Y,KAELpY,KAAK6X,UAED,EAAG,EAAG,EACN,EAAG,EAAG,EACN,EAAG,EAAG,GAILhL,UAAU9M,OAAS,GAEpB+I,QAAQgP,MAAO,iFA5uFvBpe,OAAOsR,iBAAkBtE,GAAQ9L,WAE7Byd,OAEIxe,IAAK,WAED,OAAOmG,KAAKZ,GAIhBtC,IAAK,SAAW7C,GAEZ+F,KAAKZ,EAAInF,IAMjBqe,QAEIze,IAAK,WAED,OAAOmG,KAAKX,GAIhBvC,IAAK,SAAW7C,GAEZ+F,KAAKX,EAAIpF,MAQrBP,OAAO+S,OAAQ/F,GAAQ9L,WAEnB2d,WAAW,EAEXzb,IAAK,SAAWsC,EAAGC,GAKf,OAHAW,KAAKZ,EAAIA,EACTY,KAAKX,EAAIA,EAEFW,MAIXwY,UAAW,SAAWC,GAKlB,OAHAzY,KAAKZ,EAAIqZ,EACTzY,KAAKX,EAAIoZ,EAEFzY,MAIX0Y,KAAM,SAAWtZ,GAIb,OAFAY,KAAKZ,EAAIA,EAEFY,MAIX2Y,KAAM,SAAWtZ,GAIb,OAFAW,KAAKX,EAAIA,EAEFW,MAIX4Y,aAAc,SAAWhM,EAAO3S,GAE5B,OAAS2S,GAEL,KAAK,EAAG5M,KAAKZ,EAAInF,EAAO,MACxB,KAAK,EAAG+F,KAAKX,EAAIpF,EAAO,MACxB,QAAS,MAAM,IAAI4e,MAAO,0BAA4BjM,GAI1D,OAAO5M,MAIX8Y,aAAc,SAAWlM,GAErB,OAASA,GAEL,KAAK,EAAG,OAAO5M,KAAKZ,EACpB,KAAK,EAAG,OAAOY,KAAKX,EACpB,QAAS,MAAM,IAAIwZ,MAAO,0BAA4BjM,KAM9DpK,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKZ,EAAGY,KAAKX,IAI9C8D,KAAM,SAAWqE,GAKb,OAHAxH,KAAKZ,EAAIoI,EAAEpI,EACXY,KAAKX,EAAImI,EAAEnI,EAEJW,MAIXP,IAAK,SAAW+H,EAAGuQ,GAEf,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,yFACP/I,KAAK+Y,WAAYvR,EAAGuQ,KAI/B/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EAELW,OAIXgZ,UAAW,SAAWje,GAKlB,OAHAiF,KAAKZ,GAAKrE,EACViF,KAAKX,GAAKtE,EAEHiF,MAIX+Y,WAAY,SAAWE,EAAGC,GAKtB,OAHAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EAEVW,MAIXmZ,gBAAiB,SAAW3R,EAAGzM,GAK3B,OAHAiF,KAAKZ,GAAKoI,EAAEpI,EAAIrE,EAChBiF,KAAKX,GAAKmI,EAAEnI,EAAItE,EAETiF,MAIXmE,IAAK,SAAWqD,EAAGuQ,GAEf,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,yFACP/I,KAAK4J,WAAYpC,EAAGuQ,KAI/B/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EAELW,OAIXoZ,UAAW,SAAWre,GAKlB,OAHAiF,KAAKZ,GAAKrE,EACViF,KAAKX,GAAKtE,EAEHiF,MAIX4J,WAAY,SAAWqP,EAAGC,GAKtB,OAHAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EAEVW,MAIXqZ,SAAU,SAAW7R,GAKjB,OAHAxH,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EAELW,MAIX+E,eAAgB,SAAW0T,GAKvB,OAHAzY,KAAKZ,GAAKqZ,EACVzY,KAAKX,GAAKoZ,EAEHzY,MAIXsZ,OAAQ,SAAW9R,GAKf,OAHAxH,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EAELW,MAIXuZ,aAAc,SAAWd,GAErB,OAAOzY,KAAK+E,eAAgB,EAAI0T,IAIpCe,aAAc,SAAWpgB,GAErB,IAAIgG,EAAIY,KAAKZ,EAAGC,EAAIW,KAAKX,EACrBN,EAAI3F,EAAEye,SAKV,OAHA7X,KAAKZ,EAAIL,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GACtCiB,KAAKX,EAAIN,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAE/BiB,MAIXyE,IAAK,SAAW+C,GAKZ,OAHAxH,KAAKZ,EAAI9B,KAAKmH,IAAKzE,KAAKZ,EAAGoI,EAAEpI,GAC7BY,KAAKX,EAAI/B,KAAKmH,IAAKzE,KAAKX,EAAGmI,EAAEnI,GAEtBW,MAIXwE,IAAK,SAAWgD,GAKZ,OAHAxH,KAAKZ,EAAI9B,KAAKkH,IAAKxE,KAAKZ,EAAGoI,EAAEpI,GAC7BY,KAAKX,EAAI/B,KAAKkH,IAAKxE,KAAKX,EAAGmI,EAAEnI,GAEtBW,MAIXkW,MAAO,SAAWzR,EAAKD,GAOnB,OAHAxE,KAAKZ,EAAI9B,KAAKkH,IAAKC,EAAIrF,EAAG9B,KAAKmH,IAAKD,EAAIpF,EAAGY,KAAKZ,IAChDY,KAAKX,EAAI/B,KAAKkH,IAAKC,EAAIpF,EAAG/B,KAAKmH,IAAKD,EAAInF,EAAGW,KAAKX,IAEzCW,MAIXyZ,YAAa,WAET,IAAIhV,EAAM,IAAIiC,GACVlC,EAAM,IAAIkC,GAEd,OAAO,SAAsBgT,EAAQC,GAKjC,OAHAlV,EAAI3H,IAAK4c,EAAQA,GACjBlV,EAAI1H,IAAK6c,EAAQA,GAEV3Z,KAAKkW,MAAOzR,EAAKD,IAVnB,GAgBboV,YAAa,SAAWnV,EAAKD,GAEzB,IAAIzE,EAASC,KAAKD,SAElB,OAAOC,KAAKuZ,aAAcxZ,GAAU,GAAIgF,eAAgBzH,KAAKkH,IAAKC,EAAKnH,KAAKmH,IAAKD,EAAKzE,MAI1FqM,MAAO,WAKH,OAHApM,KAAKZ,EAAI9B,KAAK8O,MAAOpM,KAAKZ,GAC1BY,KAAKX,EAAI/B,KAAK8O,MAAOpM,KAAKX,GAEnBW,MAIXwX,KAAM,WAKF,OAHAxX,KAAKZ,EAAI9B,KAAKka,KAAMxX,KAAKZ,GACzBY,KAAKX,EAAI/B,KAAKka,KAAMxX,KAAKX,GAElBW,MAIX6Z,MAAO,WAKH,OAHA7Z,KAAKZ,EAAI9B,KAAKuc,MAAO7Z,KAAKZ,GAC1BY,KAAKX,EAAI/B,KAAKuc,MAAO7Z,KAAKX,GAEnBW,MAIX8Z,YAAa,WAKT,OAHA9Z,KAAKZ,EAAMY,KAAKZ,EAAI,EAAM9B,KAAKka,KAAMxX,KAAKZ,GAAM9B,KAAK8O,MAAOpM,KAAKZ,GACjEY,KAAKX,EAAMW,KAAKX,EAAI,EAAM/B,KAAKka,KAAMxX,KAAKX,GAAM/B,KAAK8O,MAAOpM,KAAKX,GAE1DW,MAIX+Z,OAAQ,WAKJ,OAHA/Z,KAAKZ,GAAMY,KAAKZ,EAChBY,KAAKX,GAAMW,KAAKX,EAETW,MAIXmF,IAAK,SAAWqC,GAEZ,OAAOxH,KAAKZ,EAAIoI,EAAEpI,EAAIY,KAAKX,EAAImI,EAAEnI,GAIrC2a,MAAO,SAAWxS,GAEd,OAAOxH,KAAKZ,EAAIoI,EAAEnI,EAAIW,KAAKX,EAAImI,EAAEpI,GAIrC6a,SAAU,WAEN,OAAOja,KAAKZ,EAAIY,KAAKZ,EAAIY,KAAKX,EAAIW,KAAKX,GAI3CU,OAAQ,WAEJ,OAAOzC,KAAKoN,KAAM1K,KAAKZ,EAAIY,KAAKZ,EAAIY,KAAKX,EAAIW,KAAKX,IAItD6a,gBAAiB,WAEb,OAAO5c,KAAK6c,IAAKna,KAAKZ,GAAM9B,KAAK6c,IAAKna,KAAKX,IAI/C+a,UAAW,WAEP,OAAOpa,KAAKuZ,aAAcvZ,KAAKD,UAAY,IAI/CsH,MAAO,WAIH,IAAIA,EAAQ/J,KAAK+c,MAAOra,KAAKX,EAAGW,KAAKZ,GAIrC,OAFKiI,EAAQ,IAAIA,GAAS,EAAI/J,KAAKC,IAE5B8J,GAIXiT,WAAY,SAAW9S,GAEnB,OAAOlK,KAAKoN,KAAM1K,KAAKiF,kBAAmBuC,KAI9CvC,kBAAmB,SAAWuC,GAE1B,IAAIgD,EAAKxK,KAAKZ,EAAIoI,EAAEpI,EAAGqL,EAAKzK,KAAKX,EAAImI,EAAEnI,EACvC,OAAOmL,EAAKA,EAAKC,EAAKA,GAI1B8P,oBAAqB,SAAW/S,GAE5B,OAAOlK,KAAK6c,IAAKna,KAAKZ,EAAIoI,EAAEpI,GAAM9B,KAAK6c,IAAKna,KAAKX,EAAImI,EAAEnI,IAI3Dmb,UAAW,SAAWza,GAElB,OAAOC,KAAKoa,YAAYrV,eAAgBhF,IAI5C0W,KAAM,SAAWjP,EAAGiT,GAKhB,OAHAza,KAAKZ,IAAOoI,EAAEpI,EAAIY,KAAKZ,GAAMqb,EAC7Bza,KAAKX,IAAOmI,EAAEnI,EAAIW,KAAKX,GAAMob,EAEtBza,MAIX0a,YAAa,SAAWC,EAAIC,EAAIH,GAE5B,OAAOza,KAAK4J,WAAYgR,EAAID,GAAK5V,eAAgB0V,GAAQhb,IAAKkb,IAIlEE,OAAQ,SAAWrT,GAEf,OAAWA,EAAEpI,IAAMY,KAAKZ,GAASoI,EAAEnI,IAAMW,KAAKX,GAIlDyb,UAAW,SAAWtN,EAAO9J,GAOzB,YALgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKZ,EAAIoO,EAAO9J,GAChB1D,KAAKX,EAAImO,EAAO9J,EAAS,GAElB1D,MAIX+a,QAAS,SAAWvN,EAAO9J,GAQvB,YANe/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC8J,EAAO9J,GAAW1D,KAAKZ,EACvBoO,EAAO9J,EAAS,GAAM1D,KAAKX,EAEpBmO,GAIXwN,oBAAqB,SAAWC,EAAWrO,EAAOlJ,GAW9C,YATgB/C,IAAX+C,GAEDoF,QAAQC,KAAM,uEAIlB/I,KAAKZ,EAAI6b,EAAUC,KAAMtO,GACzB5M,KAAKX,EAAI4b,EAAUE,KAAMvO,GAElB5M,MAIXob,aAAc,SAAWnQ,EAAQ5D,GAE7B,IAAIhO,EAAIiE,KAAK+d,IAAKhU,GAAStM,EAAIuC,KAAKge,IAAKjU,GAErCjI,EAAIY,KAAKZ,EAAI6L,EAAO7L,EACpBC,EAAIW,KAAKX,EAAI4L,EAAO5L,EAKxB,OAHAW,KAAKZ,EAAIA,EAAI/F,EAAIgG,EAAItE,EAAIkQ,EAAO7L,EAChCY,KAAKX,EAAID,EAAIrE,EAAIsE,EAAIhG,EAAI4R,EAAO5L,EAEzBW,QAsCftG,OAAO+S,OAAQmL,GAAQhd,WAEnB2gB,WAAW,EAEXze,IAAK,SAAW0e,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAEvF,IAAIC,EAAKxc,KAAK6X,SAOd,OALA2E,EAAI,GAAMhB,EAAKgB,EAAI,GAAMf,EAAKe,EAAI,GAAMd,EAAKc,EAAI,IAAOb,EACxDa,EAAI,GAAMZ,EAAKY,EAAI,GAAMX,EAAKW,EAAI,GAAMV,EAAKU,EAAI,IAAOT,EACxDS,EAAI,GAAMR,EAAKQ,EAAI,GAAMP,EAAKO,EAAI,IAAON,EAAKM,EAAI,IAAOL,EACzDK,EAAI,GAAMJ,EAAKI,EAAI,GAAMH,EAAKG,EAAI,IAAOF,EAAKE,EAAI,IAAOD,EAElDvc,MAIXyc,SAAU,WAWN,OATAzc,KAAKlD,IAED,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,GAINkD,MAIXwC,MAAO,WAEH,OAAO,IAAIoV,IAAUkD,UAAW9a,KAAK6X,WAIzC1U,KAAM,SAAW/J,GAEb,IAAIojB,EAAKxc,KAAK6X,SACV6E,EAAKtjB,EAAEye,SAOX,OALA2E,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GACvEF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GACvEF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,IAAOE,EAAI,IAAMF,EAAI,IAAOE,EAAI,IAC1EF,EAAI,IAAOE,EAAI,IAAMF,EAAI,IAAOE,EAAI,IAAMF,EAAI,IAAOE,EAAI,IAAMF,EAAI,IAAOE,EAAI,IAEvE1c,MAIX2c,aAAc,SAAWvjB,GAErB,IAAIojB,EAAKxc,KAAK6X,SAAU6E,EAAKtjB,EAAEye,SAM/B,OAJA2E,EAAI,IAAOE,EAAI,IACfF,EAAI,IAAOE,EAAI,IACfF,EAAI,IAAOE,EAAI,IAER1c,MAIX4c,aAAc,SAAWC,EAAOC,EAAOC,GAMnC,OAJAF,EAAMlV,oBAAqB3H,KAAM,GACjC8c,EAAMnV,oBAAqB3H,KAAM,GACjC+c,EAAMpV,oBAAqB3H,KAAM,GAE1BA,MAIXgd,UAAW,SAAWH,EAAOC,EAAOC,GAShC,OAPA/c,KAAKlD,IACD+f,EAAMzd,EAAG0d,EAAM1d,EAAG2d,EAAM3d,EAAG,EAC3Byd,EAAMxd,EAAGyd,EAAMzd,EAAG0d,EAAM1d,EAAG,EAC3Bwd,EAAMvd,EAAGwd,EAAMxd,EAAGyd,EAAMzd,EAAG,EAC3B,EAAG,EAAG,EAAG,GAGNU,MAIXid,gBAAiB,WAEb,IAAItC,EAAK,IAAI7Z,GAEb,OAAO,SAA0B1H,GAI7B,IAAIojB,EAAKxc,KAAK6X,SACV6E,EAAKtjB,EAAEye,SAEPqF,EAAS,EAAIvC,EAAGhT,oBAAqBvO,EAAG,GAAI2G,SAC5Cod,EAAS,EAAIxC,EAAGhT,oBAAqBvO,EAAG,GAAI2G,SAC5Cqd,EAAS,EAAIzC,EAAGhT,oBAAqBvO,EAAG,GAAI2G,SAsBhD,OApBAyc,EAAI,GAAME,EAAI,GAAMQ,EACpBV,EAAI,GAAME,EAAI,GAAMQ,EACpBV,EAAI,GAAME,EAAI,GAAMQ,EACpBV,EAAI,GAAM,EAEVA,EAAI,GAAME,EAAI,GAAMS,EACpBX,EAAI,GAAME,EAAI,GAAMS,EACpBX,EAAI,GAAME,EAAI,GAAMS,EACpBX,EAAI,GAAM,EAEVA,EAAI,GAAME,EAAI,GAAMU,EACpBZ,EAAI,GAAME,EAAI,GAAMU,EACpBZ,EAAI,IAAOE,EAAI,IAAOU,EACtBZ,EAAI,IAAO,EAEXA,EAAI,IAAO,EACXA,EAAI,IAAO,EACXA,EAAI,IAAO,EACXA,EAAI,IAAO,EAEJxc,MAnCE,GAyCjBqd,sBAAuB,SAAWC,GAErBA,GAASA,EAAMC,SAEpBzU,QAAQgP,MAAO,yGAInB,IAAI0E,EAAKxc,KAAK6X,SAEVzY,EAAIke,EAAMle,EAAGC,EAAIie,EAAMje,EAAGC,EAAIge,EAAMhe,EACpC2Z,EAAI3b,KAAK+d,IAAKjc,GAAK8Z,EAAI5b,KAAKge,IAAKlc,GACjC/F,EAAIiE,KAAK+d,IAAKhc,GAAK/F,EAAIgE,KAAKge,IAAKjc,GACjCN,EAAIzB,KAAK+d,IAAK/b,GAAKke,EAAIlgB,KAAKge,IAAKhc,GAErC,GAAqB,QAAhBge,EAAMG,MAAkB,CAEzB,IAAIC,EAAKzE,EAAIla,EAAG4e,EAAK1E,EAAIuE,EAAGI,EAAK1E,EAAIna,EAAG8e,EAAK3E,EAAIsE,EAEjDhB,EAAI,GAAMnjB,EAAI0F,EACdyd,EAAI,IAAQnjB,EAAImkB,EAChBhB,EAAI,GAAMljB,EAEVkjB,EAAI,GAAMmB,EAAKC,EAAKtkB,EACpBkjB,EAAI,GAAMkB,EAAKG,EAAKvkB,EACpBkjB,EAAI,IAAQtD,EAAI7f,EAEhBmjB,EAAI,GAAMqB,EAAKH,EAAKpkB,EACpBkjB,EAAI,GAAMoB,EAAKD,EAAKrkB,EACpBkjB,EAAI,IAAOvD,EAAI5f,OAEZ,GAAqB,QAAhBikB,EAAMG,MAAkB,CAEhC,IAAIK,EAAKzkB,EAAI0F,EAAGgf,EAAK1kB,EAAImkB,EAAGQ,EAAK1kB,EAAIyF,EAAGkf,EAAK3kB,EAAIkkB,EAEjDhB,EAAI,GAAMsB,EAAKG,EAAK/E,EACpBsD,EAAI,GAAMwB,EAAK9E,EAAI6E,EACnBvB,EAAI,GAAMvD,EAAI3f,EAEdkjB,EAAI,GAAMvD,EAAIuE,EACdhB,EAAI,GAAMvD,EAAIla,EACdyd,EAAI,IAAQtD,EAEZsD,EAAI,GAAMuB,EAAK7E,EAAI8E,EACnBxB,EAAI,GAAMyB,EAAKH,EAAK5E,EACpBsD,EAAI,IAAOvD,EAAI5f,OAEZ,GAAqB,QAAhBikB,EAAMG,MAAkB,CAE5BK,EAAKzkB,EAAI0F,EAAGgf,EAAK1kB,EAAImkB,EAAGQ,EAAK1kB,EAAIyF,EAAGkf,EAAK3kB,EAAIkkB,EAEjDhB,EAAI,GAAMsB,EAAKG,EAAK/E,EACpBsD,EAAI,IAAQvD,EAAIuE,EAChBhB,EAAI,GAAMwB,EAAKD,EAAK7E,EAEpBsD,EAAI,GAAMuB,EAAKC,EAAK9E,EACpBsD,EAAI,GAAMvD,EAAIla,EACdyd,EAAI,GAAMyB,EAAKH,EAAK5E,EAEpBsD,EAAI,IAAQvD,EAAI3f,EAChBkjB,EAAI,GAAMtD,EACVsD,EAAI,IAAOvD,EAAI5f,OAEZ,GAAqB,QAAhBikB,EAAMG,MAAkB,CAE5BC,EAAKzE,EAAIla,EAAG4e,EAAK1E,EAAIuE,EAAGI,EAAK1E,EAAIna,EAAG8e,EAAK3E,EAAIsE,EAEjDhB,EAAI,GAAMnjB,EAAI0F,EACdyd,EAAI,GAAMoB,EAAKtkB,EAAIqkB,EACnBnB,EAAI,GAAMkB,EAAKpkB,EAAIukB,EAEnBrB,EAAI,GAAMnjB,EAAImkB,EACdhB,EAAI,GAAMqB,EAAKvkB,EAAIokB,EACnBlB,EAAI,GAAMmB,EAAKrkB,EAAIskB,EAEnBpB,EAAI,IAAQljB,EACZkjB,EAAI,GAAMtD,EAAI7f,EACdmjB,EAAI,IAAOvD,EAAI5f,OAEZ,GAAqB,QAAhBikB,EAAMG,MAAkB,CAEhC,IAAIS,EAAKjF,EAAI5f,EAAG8kB,EAAKlF,EAAI3f,EAAG8kB,EAAKlF,EAAI7f,EAAGglB,EAAKnF,EAAI5f,EAEjDkjB,EAAI,GAAMnjB,EAAI0F,EACdyd,EAAI,GAAM6B,EAAKH,EAAKV,EACpBhB,EAAI,GAAM4B,EAAKZ,EAAIW,EAEnB3B,EAAI,GAAMgB,EACVhB,EAAI,GAAMvD,EAAIla,EACdyd,EAAI,IAAQtD,EAAIna,EAEhByd,EAAI,IAAQljB,EAAIyF,EAChByd,EAAI,GAAM2B,EAAKX,EAAIY,EACnB5B,EAAI,IAAO0B,EAAKG,EAAKb,OAElB,GAAqB,QAAhBF,EAAMG,MAAkB,CAE5BS,EAAKjF,EAAI5f,EAAG8kB,EAAKlF,EAAI3f,EAAG8kB,EAAKlF,EAAI7f,EAAGglB,EAAKnF,EAAI5f,EAEjDkjB,EAAI,GAAMnjB,EAAI0F,EACdyd,EAAI,IAAQgB,EACZhB,EAAI,GAAMljB,EAAIyF,EAEdyd,EAAI,GAAM0B,EAAKV,EAAIa,EACnB7B,EAAI,GAAMvD,EAAIla,EACdyd,EAAI,GAAM2B,EAAKX,EAAIY,EAEnB5B,EAAI,GAAM4B,EAAKZ,EAAIW,EACnB3B,EAAI,GAAMtD,EAAIna,EACdyd,EAAI,IAAO6B,EAAKb,EAAIU,EAexB,OAVA1B,EAAI,GAAM,EACVA,EAAI,GAAM,EACVA,EAAI,IAAO,EAGXA,EAAI,IAAO,EACXA,EAAI,IAAO,EACXA,EAAI,IAAO,EACXA,EAAI,IAAO,EAEJxc,MAIXse,2BAA4B,WAExB,IAAIC,EAAO,IAAIzd,GAAS,EAAG,EAAG,GAC1B0d,EAAM,IAAI1d,GAAS,EAAG,EAAG,GAE7B,OAAO,SAAqC2d,GAExC,OAAOze,KAAK0e,QAASH,EAAME,EAAGD,IAPV,GAa5B1Z,OAAQ,WAEJ,IAAI1F,EAAI,IAAI0B,GACRzB,EAAI,IAAIyB,GACRxB,EAAI,IAAIwB,GAEZ,OAAO,SAAiB6d,EAAK9d,EAAQiD,GAEjC,IAAI0Y,EAAKxc,KAAK6X,SAyCd,OAvCAvY,EAAEsK,WAAY+U,EAAK9d,GAEG,IAAjBvB,EAAE2a,aAIH3a,EAAEA,EAAI,GAIVA,EAAE8a,YACFhb,EAAEyI,aAAc/D,EAAIxE,GAEE,IAAjBF,EAAE6a,aAIuB,IAArB3c,KAAK6c,IAAKrW,EAAGxE,GAEdA,EAAEF,GAAK,KAIPE,EAAEA,GAAK,KAIXA,EAAE8a,YACFhb,EAAEyI,aAAc/D,EAAIxE,IAIxBF,EAAEgb,YACF/a,EAAEwI,aAAcvI,EAAGF,GAEnBod,EAAI,GAAMpd,EAAEA,EAAGod,EAAI,GAAMnd,EAAED,EAAGod,EAAI,GAAMld,EAAEF,EAC1Cod,EAAI,GAAMpd,EAAEC,EAAGmd,EAAI,GAAMnd,EAAEA,EAAGmd,EAAI,GAAMld,EAAED,EAC1Cmd,EAAI,GAAMpd,EAAEE,EAAGkd,EAAI,GAAMnd,EAAEC,EAAGkd,EAAI,IAAOld,EAAEA,EAEpCU,MAjDP,GAuDRqZ,SAAU,SAAWjgB,EAAGqB,GAEpB,YAAWkG,IAANlG,GAEDqO,QAAQC,KAAM,oGACP/I,KAAK4e,iBAAkBxlB,EAAGqB,IAI9BuF,KAAK4e,iBAAkB5e,KAAM5G,IAIxCylB,YAAa,SAAWzlB,GAEpB,OAAO4G,KAAK4e,iBAAkBxlB,EAAG4G,OAIrC4e,iBAAkB,SAAW3F,EAAGC,GAE5B,IAAIwE,EAAKzE,EAAEpB,SACP+F,EAAK1E,EAAErB,SACP2E,EAAKxc,KAAK6X,SAEViH,EAAMpB,EAAI,GAAKqB,EAAMrB,EAAI,GAAKsB,EAAMtB,EAAI,GAAKuB,EAAMvB,EAAI,IACvDwB,EAAMxB,EAAI,GAAKyB,EAAMzB,EAAI,GAAK0B,EAAM1B,EAAI,GAAK2B,EAAM3B,EAAI,IACvD4B,EAAM5B,EAAI,GAAK6B,EAAM7B,EAAI,GAAK8B,EAAM9B,EAAI,IAAM+B,EAAM/B,EAAI,IACxDgC,EAAMhC,EAAI,GAAKiC,EAAMjC,EAAI,GAAKkC,EAAMlC,EAAI,IAAMmC,EAAMnC,EAAI,IAExDoC,EAAMlC,EAAI,GAAKmC,EAAMnC,EAAI,GAAKoC,EAAMpC,EAAI,GAAKqC,EAAMrC,EAAI,IACvDsC,EAAMtC,EAAI,GAAKuC,EAAMvC,EAAI,GAAKwC,EAAMxC,EAAI,GAAKyC,EAAMzC,EAAI,IACvD0C,EAAM1C,EAAI,GAAK2C,EAAM3C,EAAI,GAAK4C,EAAM5C,EAAI,IAAM6C,EAAM7C,EAAI,IACxD8C,EAAM9C,EAAI,GAAK+C,EAAM/C,EAAI,GAAKgD,EAAMhD,EAAI,IAAMiD,EAAMjD,EAAI,IAsB5D,OApBApB,EAAI,GAAMsC,EAAMgB,EAAMf,EAAMmB,EAAMlB,EAAMsB,EAAMrB,EAAMyB,EACpDlE,EAAI,GAAMsC,EAAMiB,EAAMhB,EAAMoB,EAAMnB,EAAMuB,EAAMtB,EAAM0B,EACpDnE,EAAI,GAAMsC,EAAMkB,EAAMjB,EAAMqB,EAAMpB,EAAMwB,EAAMvB,EAAM2B,EACpDpE,EAAI,IAAOsC,EAAMmB,EAAMlB,EAAMsB,EAAMrB,EAAMyB,EAAMxB,EAAM4B,EAErDrE,EAAI,GAAM0C,EAAMY,EAAMX,EAAMe,EAAMd,EAAMkB,EAAMjB,EAAMqB,EACpDlE,EAAI,GAAM0C,EAAMa,EAAMZ,EAAMgB,EAAMf,EAAMmB,EAAMlB,EAAMsB,EACpDnE,EAAI,GAAM0C,EAAMc,EAAMb,EAAMiB,EAAMhB,EAAMoB,EAAMnB,EAAMuB,EACpDpE,EAAI,IAAO0C,EAAMe,EAAMd,EAAMkB,EAAMjB,EAAMqB,EAAMpB,EAAMwB,EAErDrE,EAAI,GAAM8C,EAAMQ,EAAMP,EAAMW,EAAMV,EAAMc,EAAMb,EAAMiB,EACpDlE,EAAI,GAAM8C,EAAMS,EAAMR,EAAMY,EAAMX,EAAMe,EAAMd,EAAMkB,EACpDnE,EAAI,IAAO8C,EAAMU,EAAMT,EAAMa,EAAMZ,EAAMgB,EAAMf,EAAMmB,EACrDpE,EAAI,IAAO8C,EAAMW,EAAMV,EAAMc,EAAMb,EAAMiB,EAAMhB,EAAMoB,EAErDrE,EAAI,GAAMkD,EAAMI,EAAMH,EAAMO,EAAMN,EAAMU,EAAMT,EAAMa,EACpDlE,EAAI,GAAMkD,EAAMK,EAAMJ,EAAMQ,EAAMP,EAAMW,EAAMV,EAAMc,EACpDnE,EAAI,IAAOkD,EAAMM,EAAML,EAAMS,EAAMR,EAAMY,EAAMX,EAAMe,EACrDpE,EAAI,IAAOkD,EAAMO,EAAMN,EAAMU,EAAMT,EAAMa,EAAMZ,EAAMgB,EAE9C7gB,MAIX+E,eAAgB,SAAWhK,GAEvB,IAAIyhB,EAAKxc,KAAK6X,SAOd,OALA2E,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,KAAQzhB,EACtDyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,KAAQzhB,EACtDyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,KAAQzhB,EAAGyhB,EAAI,KAAQzhB,EACvDyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,KAAQzhB,EAAGyhB,EAAI,KAAQzhB,EAEhDiF,MAIX8gB,uBAAwB,WAEpB,IAAInG,EAAK,IAAI7Z,GAEb,OAAO,SAAiCma,GAEpC,IAAM,IAAIjiB,EAAI,EAAGC,EAAIgiB,EAAU8F,MAAO/nB,EAAIC,EAAGD,IAEzC2hB,EAAGvb,EAAI6b,EAAUC,KAAMliB,GACvB2hB,EAAGtb,EAAI4b,EAAUE,KAAMniB,GACvB2hB,EAAGrb,EAAI2b,EAAU+F,KAAMhoB,GAEvB2hB,EAAGsG,aAAcjhB,MAEjBib,EAAUiG,OAAQloB,EAAG2hB,EAAGvb,EAAGub,EAAGtb,EAAGsb,EAAGrb,GAIxC,OAAO2b,GAlBS,GAwBxBkG,YAAa,WAET,IAAI3E,EAAKxc,KAAK6X,SAEV2D,EAAMgB,EAAI,GAAKf,EAAMe,EAAI,GAAKd,EAAMc,EAAI,GAAKb,EAAMa,EAAI,IACvDZ,EAAMY,EAAI,GAAKX,EAAMW,EAAI,GAAKV,EAAMU,EAAI,GAAKT,EAAMS,EAAI,IACvDR,EAAMQ,EAAI,GAAKP,EAAMO,EAAI,GAAKN,EAAMM,EAAI,IAAML,EAAMK,EAAI,IAM5D,OALUA,EAAI,KAOJb,EAAMG,EAAMG,EACZP,EAAMK,EAAME,EACZN,EAAME,EAAMK,EACZT,EAAMM,EAAMG,EACZR,EAAMG,EAAMM,EACZV,EAAMK,EAAMK,GAZGK,EAAI,KAenBhB,EAAMM,EAAMK,EACZX,EAAMO,EAAMG,EACZP,EAAMC,EAAMM,EACZR,EAAME,EAAMO,EACZT,EAAMK,EAAMC,EACZL,EAAMG,EAAME,GApBkBQ,EAAI,MAuBlChB,EAAMO,EAAME,EACZT,EAAMK,EAAMM,EACZR,EAAMC,EAAMK,EACZR,EAAMG,EAAMO,EACZR,EAAME,EAAMG,EACZP,EAAMM,EAAMC,GA5BkCQ,EAAI,MA+BlDd,EAAMG,EAAMG,EACZR,EAAMM,EAAMG,EACZT,EAAMK,EAAMK,EACZR,EAAME,EAAMK,EACZR,EAAMG,EAAMM,EACZT,EAAMK,EAAME,IAO1BoF,UAAW,WAEP,IACIC,EADA7E,EAAKxc,KAAK6X,SAWd,OARAwJ,EAAM7E,EAAI,GAAKA,EAAI,GAAMA,EAAI,GAAKA,EAAI,GAAM6E,EAC5CA,EAAM7E,EAAI,GAAKA,EAAI,GAAMA,EAAI,GAAKA,EAAI,GAAM6E,EAC5CA,EAAM7E,EAAI,GAAKA,EAAI,GAAMA,EAAI,GAAKA,EAAI,GAAM6E,EAE5CA,EAAM7E,EAAI,GAAKA,EAAI,GAAMA,EAAI,IAAMA,EAAI,IAAO6E,EAC9CA,EAAM7E,EAAI,GAAKA,EAAI,GAAMA,EAAI,IAAMA,EAAI,IAAO6E,EAC9CA,EAAM7E,EAAI,IAAMA,EAAI,IAAOA,EAAI,IAAMA,EAAI,IAAO6E,EAEzCrhB,MAIXshB,YAAa,SAAW9Z,GAEpB,IAAIgV,EAAKxc,KAAK6X,SAMd,OAJA2E,EAAI,IAAOhV,EAAEpI,EACbod,EAAI,IAAOhV,EAAEnI,EACbmd,EAAI,IAAOhV,EAAElI,EAENU,MAIXuhB,WAAY,SAAWnoB,EAAGooB,GAGtB,IAAIhF,EAAKxc,KAAK6X,SACV6E,EAAKtjB,EAAEye,SAEP2D,EAAMkB,EAAI,GAAKd,EAAMc,EAAI,GAAKV,EAAMU,EAAI,GAAKN,EAAMM,EAAI,GACvDjB,EAAMiB,EAAI,GAAKb,EAAMa,EAAI,GAAKT,EAAMS,EAAI,GAAKL,EAAMK,EAAI,GACvDhB,EAAMgB,EAAI,GAAKZ,EAAMY,EAAI,GAAKR,EAAMQ,EAAI,IAAMJ,EAAMI,EAAI,IACxDf,EAAMe,EAAI,IAAMX,EAAMW,EAAI,IAAMP,EAAMO,EAAI,IAAMH,EAAMG,EAAI,IAE1D+E,EAAM3F,EAAMK,EAAME,EAAMN,EAAMG,EAAMG,EAAMN,EAAME,EAAMK,EAAMT,EAAMM,EAAMG,EAAMR,EAAMG,EAAMM,EAAMV,EAAMK,EAAMK,EAC5GmF,EAAM/F,EAAMO,EAAMG,EAAMX,EAAMS,EAAME,EAAMV,EAAMM,EAAMK,EAAMb,EAAMU,EAAMG,EAAMZ,EAAMO,EAAMM,EAAMd,EAAMS,EAAMK,EAC5GoF,EAAMjG,EAAMK,EAAMM,EAAMV,EAAMG,EAAMO,EAAMV,EAAME,EAAMS,EAAMb,EAAMM,EAAMO,EAAMZ,EAAMG,EAAMU,EAAMd,EAAMK,EAAMS,EAC5GqF,EAAMjG,EAAMG,EAAMG,EAAMP,EAAMK,EAAME,EAAMN,EAAME,EAAMK,EAAMT,EAAMM,EAAMG,EAAMR,EAAMG,EAAMM,EAAMV,EAAMK,EAAMK,EAE5G0F,EAAMrG,EAAMiG,EAAM7F,EAAM8F,EAAM1F,EAAM2F,EAAMvF,EAAMwF,EAEpD,GAAa,IAARC,EAAY,CAEb,IAAIC,EAAM,qEAEV,IAA2B,IAAtBN,EAED,MAAM,IAAI3I,MAAOiJ,GAQrB,OAJIhZ,QAAQC,KAAM+Y,GAIX9hB,KAAKyc,WAIhB,IAAIsF,EAAS,EAAIF,EAsBjB,OApBArF,EAAI,GAAMiF,EAAMM,EAChBvF,EAAI,IAAQT,EAAMG,EAAME,EAAMN,EAAMK,EAAMC,EAAML,EAAMC,EAAMM,EAAMV,EAAMO,EAAMG,EAAMR,EAAME,EAAMO,EAAMX,EAAMM,EAAMK,GAAQwF,EAC1HvF,EAAI,IAAQX,EAAMM,EAAMC,EAAML,EAAME,EAAMG,EAAML,EAAMC,EAAMK,EAAMT,EAAMO,EAAME,EAAMR,EAAMG,EAAMO,EAAMX,EAAMK,EAAMM,GAAQwF,EAC1HvF,EAAI,IAAQV,EAAMG,EAAMG,EAAMP,EAAMK,EAAME,EAAMN,EAAME,EAAMK,EAAMT,EAAMM,EAAMG,EAAMR,EAAMG,EAAMM,EAAMV,EAAMK,EAAMK,GAAQyF,EAE1HvF,EAAI,GAAMkF,EAAMK,EAChBvF,EAAI,IAAQd,EAAMS,EAAMC,EAAMT,EAAMO,EAAME,EAAMT,EAAMK,EAAMM,EAAMd,EAAMW,EAAMG,EAAMZ,EAAMM,EAAMO,EAAMf,EAAMU,EAAMK,GAAQwF,EAC1HvF,EAAI,IAAQb,EAAMM,EAAMG,EAAMX,EAAMU,EAAMC,EAAMT,EAAMK,EAAMK,EAAMb,EAAMW,EAAME,EAAMZ,EAAMO,EAAMO,EAAMf,EAAMS,EAAMM,GAAQwF,EAC1HvF,EAAI,IAAQf,EAAMS,EAAME,EAAMV,EAAMO,EAAMG,EAAMV,EAAMM,EAAMK,EAAMb,EAAMU,EAAMG,EAAMZ,EAAMO,EAAMM,EAAMd,EAAMS,EAAMK,GAAQyF,EAE1HvF,EAAI,GAAMmF,EAAMI,EAChBvF,EAAI,IAAQb,EAAMG,EAAMM,EAAMV,EAAMK,EAAMK,EAAMT,EAAMC,EAAMU,EAAMd,EAAMO,EAAMO,EAAMZ,EAAME,EAAMW,EAAMf,EAAMM,EAAMS,GAAQwF,EAC1HvF,EAAI,KAASf,EAAMM,EAAMK,EAAMT,EAAME,EAAMO,EAAMT,EAAMC,EAAMS,EAAMb,EAAMO,EAAMM,EAAMZ,EAAMG,EAAMW,EAAMf,EAAMK,EAAMU,GAAQwF,EAC3HvF,EAAI,KAASd,EAAMG,EAAMO,EAAMX,EAAMK,EAAMM,EAAMV,EAAME,EAAMS,EAAMb,EAAMM,EAAMO,EAAMZ,EAAMG,EAAMU,EAAMd,EAAMK,EAAMS,GAAQyF,EAE3HvF,EAAI,IAAOoF,EAAMG,EACjBvF,EAAI,KAASd,EAAMK,EAAMC,EAAML,EAAMG,EAAME,EAAML,EAAMC,EAAMM,EAAMV,EAAMO,EAAMG,EAAMR,EAAME,EAAMO,EAAMX,EAAMM,EAAMK,GAAQ4F,EAC3HvF,EAAI,KAASb,EAAME,EAAMG,EAAMP,EAAMM,EAAMC,EAAML,EAAMC,EAAMK,EAAMT,EAAMO,EAAME,EAAMR,EAAMG,EAAMO,EAAMX,EAAMK,EAAMM,GAAQ4F,EAC3HvF,EAAI,KAASf,EAAMK,EAAME,EAAMN,EAAMG,EAAMG,EAAMN,EAAME,EAAMK,EAAMT,EAAMM,EAAMG,EAAMR,EAAMG,EAAMM,EAAMV,EAAMK,EAAMK,GAAQ6F,EAEpH/hB,MAIXd,MAAO,SAAWsI,GAEd,IAAIgV,EAAKxc,KAAK6X,SACVzY,EAAIoI,EAAEpI,EAAGC,EAAImI,EAAEnI,EAAGC,EAAIkI,EAAElI,EAO5B,OALAkd,EAAI,IAAOpd,EAAGod,EAAI,IAAOnd,EAAGmd,EAAI,IAAOld,EACvCkd,EAAI,IAAOpd,EAAGod,EAAI,IAAOnd,EAAGmd,EAAI,IAAOld,EACvCkd,EAAI,IAAOpd,EAAGod,EAAI,IAAOnd,EAAGmd,EAAI,KAAQld,EACxCkd,EAAI,IAAOpd,EAAGod,EAAI,IAAOnd,EAAGmd,EAAI,KAAQld,EAEjCU,MAIXgiB,kBAAmB,WAEf,IAAIxF,EAAKxc,KAAK6X,SAEVoK,EAAWzF,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GACjE0F,EAAW1F,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GACjE2F,EAAW3F,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,GAAMA,EAAI,IAAOA,EAAI,IAEtE,OAAOlf,KAAKoN,KAAMpN,KAAKkH,IAAKyd,EAAUC,EAAUC,KAIpDC,gBAAiB,SAAWhjB,EAAGC,EAAGC,GAW9B,OATAU,KAAKlD,IAED,EAAG,EAAG,EAAGsC,EACT,EAAG,EAAG,EAAGC,EACT,EAAG,EAAG,EAAGC,EACT,EAAG,EAAG,EAAG,GAINU,MAIXqiB,cAAe,SAAWrf,GAEtB,IAAI3J,EAAIiE,KAAK+d,IAAKrY,GAASjI,EAAIuC,KAAKge,IAAKtY,GAWzC,OATAhD,KAAKlD,IAED,EAAG,EAAG,EAAG,EACT,EAAGzD,GAAK0B,EAAG,EACX,EAAGA,EAAG1B,EAAG,EACT,EAAG,EAAG,EAAG,GAIN2G,MAIXsiB,cAAe,SAAWtf,GAEtB,IAAI3J,EAAIiE,KAAK+d,IAAKrY,GAASjI,EAAIuC,KAAKge,IAAKtY,GAWzC,OATAhD,KAAKlD,IAEDzD,EAAG,EAAG0B,EAAG,EACT,EAAG,EAAG,EAAG,GACPA,EAAG,EAAG1B,EAAG,EACX,EAAG,EAAG,EAAG,GAIN2G,MAIXuiB,cAAe,SAAWvf,GAEtB,IAAI3J,EAAIiE,KAAK+d,IAAKrY,GAASjI,EAAIuC,KAAKge,IAAKtY,GAWzC,OATAhD,KAAKlD,IAEDzD,GAAK0B,EAAG,EAAG,EACXA,EAAG1B,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,GAIN2G,MAIXwiB,iBAAkB,SAAWC,EAAMpb,GAI/B,IAAIhO,EAAIiE,KAAK+d,IAAKhU,GACdtM,EAAIuC,KAAKge,IAAKjU,GACdnN,EAAI,EAAIb,EACR+F,EAAIqjB,EAAKrjB,EAAGC,EAAIojB,EAAKpjB,EAAGC,EAAImjB,EAAKnjB,EACjCojB,EAAKxoB,EAAIkF,EAAGujB,EAAKzoB,EAAImF,EAWzB,OATAW,KAAKlD,IAED4lB,EAAKtjB,EAAI/F,EAAGqpB,EAAKrjB,EAAItE,EAAIuE,EAAGojB,EAAKpjB,EAAIvE,EAAIsE,EAAG,EAC5CqjB,EAAKrjB,EAAItE,EAAIuE,EAAGqjB,EAAKtjB,EAAIhG,EAAGspB,EAAKrjB,EAAIvE,EAAIqE,EAAG,EAC5CsjB,EAAKpjB,EAAIvE,EAAIsE,EAAGsjB,EAAKrjB,EAAIvE,EAAIqE,EAAGlF,EAAIoF,EAAIA,EAAIjG,EAAG,EAC/C,EAAG,EAAG,EAAG,GAIN2G,MAIX4iB,UAAW,SAAWxjB,EAAGC,EAAGC,GAWxB,OATAU,KAAKlD,IAEDsC,EAAG,EAAG,EAAG,EACT,EAAGC,EAAG,EAAG,EACT,EAAG,EAAGC,EAAG,EACT,EAAG,EAAG,EAAG,GAINU,MAIX6iB,UAAW,SAAWzjB,EAAGC,EAAGC,GAWxB,OATAU,KAAKlD,IAED,EAAGuC,EAAGC,EAAG,EACTF,EAAG,EAAGE,EAAG,EACTF,EAAGC,EAAG,EAAG,EACT,EAAG,EAAG,EAAG,GAINW,MAIX0e,QAAS,SAAW7hB,EAAUuI,EAAYlG,GAEtC,IAAIsd,EAAKxc,KAAK6X,SAEVzY,EAAIgG,EAAW4S,GAAI3Y,EAAI+F,EAAW6S,GAAI3Y,EAAI8F,EAAW8S,GAAIH,EAAI3S,EAAW+S,GACxE2K,EAAK1jB,EAAIA,EAAG2jB,EAAK1jB,EAAIA,EAAG2jB,EAAK1jB,EAAIA,EACjC2jB,EAAK7jB,EAAI0jB,EAAII,EAAK9jB,EAAI2jB,EAAII,EAAK/jB,EAAI4jB,EACnCI,EAAK/jB,EAAI0jB,EAAIM,EAAKhkB,EAAI2jB,EAAIM,EAAKhkB,EAAI0jB,EACnCO,EAAKxL,EAAI+K,EAAIU,EAAKzL,EAAIgL,EAAIU,EAAK1L,EAAIiL,EAEnCU,EAAKxkB,EAAME,EAAGukB,EAAKzkB,EAAMG,EAAGukB,EAAK1kB,EAAMI,EAsB3C,OApBAkd,EAAI,IAAQ,GAAM4G,EAAKE,IAASI,EAChClH,EAAI,IAAQ0G,EAAKO,GAAOC,EACxBlH,EAAI,IAAQ2G,EAAKK,GAAOE,EACxBlH,EAAI,GAAM,EAEVA,EAAI,IAAQ0G,EAAKO,GAAOE,EACxBnH,EAAI,IAAQ,GAAMyG,EAAKK,IAASK,EAChCnH,EAAI,IAAQ6G,EAAKE,GAAOI,EACxBnH,EAAI,GAAM,EAEVA,EAAI,IAAQ2G,EAAKK,GAAOI,EACxBpH,EAAI,IAAQ6G,EAAKE,GAAOK,EACxBpH,EAAI,KAAS,GAAMyG,EAAKG,IAASQ,EACjCpH,EAAI,IAAO,EAEXA,EAAI,IAAO3f,EAASuC,EACpBod,EAAI,IAAO3f,EAASwC,EACpBmd,EAAI,IAAO3f,EAASyC,EACpBkd,EAAI,IAAO,EAEJxc,MAIX6jB,UAAW,WAEP,IAAIC,EAAS,IAAIhjB,GACbyH,EAAS,IAAIqP,GAEjB,OAAO,SAAoB/a,EAAUuI,EAAYlG,GAE7C,IAAIsd,EAAKxc,KAAK6X,SAEV6L,EAAKI,EAAOhnB,IAAK0f,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAMzc,SAC7C4jB,EAAKG,EAAOhnB,IAAK0f,EAAI,GAAKA,EAAI,GAAKA,EAAI,IAAMzc,SAC7C6jB,EAAKE,EAAOhnB,IAAK0f,EAAI,GAAKA,EAAI,GAAKA,EAAI,KAAOzc,SAGxCC,KAAKmhB,cACJ,IAAIuC,GAAOA,GAEtB7mB,EAASuC,EAAIod,EAAI,IACjB3f,EAASwC,EAAImd,EAAI,IACjB3f,EAASyC,EAAIkd,EAAI,IAGjBjU,EAAOpF,KAAMnD,MAEb,IAAI+jB,EAAQ,EAAIL,EACZM,EAAQ,EAAIL,EACZM,EAAQ,EAAIL,EAoBhB,OAlBArb,EAAOsP,SAAU,IAAOkM,EACxBxb,EAAOsP,SAAU,IAAOkM,EACxBxb,EAAOsP,SAAU,IAAOkM,EAExBxb,EAAOsP,SAAU,IAAOmM,EACxBzb,EAAOsP,SAAU,IAAOmM,EACxBzb,EAAOsP,SAAU,IAAOmM,EAExBzb,EAAOsP,SAAU,IAAOoM,EACxB1b,EAAOsP,SAAU,IAAOoM,EACxB1b,EAAOsP,SAAU,KAAQoM,EAEzB7e,EAAW8e,sBAAuB3b,GAElCrJ,EAAME,EAAIskB,EACVxkB,EAAMG,EAAIskB,EACVzkB,EAAMI,EAAIskB,EAEH5jB,MA9CJ,GAoDXmkB,gBAAiB,SAAWzb,EAAMD,EAAOG,EAAKC,EAAQub,EAAMC,QAE3C1jB,IAAR0jB,GAEDvb,QAAQC,KAAM,wGAIlB,IAAIyT,EAAKxc,KAAK6X,SACVzY,EAAI,EAAIglB,GAAS3b,EAAQC,GACzBrJ,EAAI,EAAI+kB,GAASxb,EAAMC,GAEvBoQ,GAAMxQ,EAAQC,IAAWD,EAAQC,GACjCwQ,GAAMtQ,EAAMC,IAAaD,EAAMC,GAC/BxP,IAAQgrB,EAAMD,IAAWC,EAAMD,GAC/B9qB,GAAM,EAAI+qB,EAAMD,GAASC,EAAMD,GAOnC,OALA5H,EAAI,GAAMpd,EAAGod,EAAI,GAAM,EAAGA,EAAI,GAAMvD,EAAGuD,EAAI,IAAO,EAClDA,EAAI,GAAM,EAAGA,EAAI,GAAMnd,EAAGmd,EAAI,GAAMtD,EAAGsD,EAAI,IAAO,EAClDA,EAAI,GAAM,EAAGA,EAAI,GAAM,EAAGA,EAAI,IAAOnjB,EAAGmjB,EAAI,IAAOljB,EACnDkjB,EAAI,GAAM,EAAGA,EAAI,GAAM,EAAGA,EAAI,KAAS,EAAGA,EAAI,IAAO,EAE9Cxc,MAIXskB,iBAAkB,SAAW5b,EAAMD,EAAOG,EAAKC,EAAQub,EAAMC,GAEzD,IAAI7H,EAAKxc,KAAK6X,SACVE,EAAI,GAAQtP,EAAQC,GACpB6b,EAAI,GAAQ3b,EAAMC,GAClB/N,EAAI,GAAQupB,EAAMD,GAElBhlB,GAAMqJ,EAAQC,GAASqP,EACvB1Y,GAAMuJ,EAAMC,GAAW0b,EACvBjlB,GAAM+kB,EAAMD,GAAStpB,EAOzB,OALA0hB,EAAI,GAAM,EAAIzE,EAAGyE,EAAI,GAAM,EAAGA,EAAI,GAAM,EAAGA,EAAI,KAASpd,EACxDod,EAAI,GAAM,EAAGA,EAAI,GAAM,EAAI+H,EAAG/H,EAAI,GAAM,EAAGA,EAAI,KAASnd,EACxDmd,EAAI,GAAM,EAAGA,EAAI,GAAM,EAAGA,EAAI,KAAS,EAAI1hB,EAAG0hB,EAAI,KAASld,EAC3Dkd,EAAI,GAAM,EAAGA,EAAI,GAAM,EAAGA,EAAI,IAAO,EAAGA,EAAI,IAAO,EAE5Cxc,MAIX6a,OAAQ,SAAWtS,GAKf,IAHA,IAAIiU,EAAKxc,KAAK6X,SACV6E,EAAKnU,EAAOsP,SAEN7e,EAAI,EAAGA,EAAI,GAAIA,IAErB,GAAKwjB,EAAIxjB,KAAQ0jB,EAAI1jB,GAAM,OAAO,EAItC,OAAO,GAIX8hB,UAAW,SAAWtN,EAAO9J,QAET/C,IAAX+C,IAAuBA,EAAS,GAErC,IAAM,IAAI1K,EAAI,EAAGA,EAAI,GAAIA,IAErBgH,KAAK6X,SAAU7e,GAAMwU,EAAOxU,EAAI0K,GAIpC,OAAO1D,MAIX+a,QAAS,SAAWvN,EAAO9J,QAER/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC,IAAI8Y,EAAKxc,KAAK6X,SAsBd,OApBArK,EAAO9J,GAAW8Y,EAAI,GACtBhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAE1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAE1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,IAAO8Y,EAAI,IAC3BhP,EAAO9J,EAAS,IAAO8Y,EAAI,IAE3BhP,EAAO9J,EAAS,IAAO8Y,EAAI,IAC3BhP,EAAO9J,EAAS,IAAO8Y,EAAI,IAC3BhP,EAAO9J,EAAS,IAAO8Y,EAAI,IAC3BhP,EAAO9J,EAAS,IAAO8Y,EAAI,IAEpBhP,KAsBf9T,OAAO+S,OAAQ7I,IAEX4gB,MAAO,SAAWC,EAAIC,EAAIC,EAAIzqB,GAE1B,OAAOyqB,EAAGxhB,KAAMshB,GAAKD,MAAOE,EAAIxqB,IAIpC0qB,UAAW,SAAWC,EAAKC,EAAWC,EAAMC,EAAYC,EAAMC,EAAYhrB,GAItE,IAAIirB,EAAKJ,EAAMC,EAAa,GACxBI,EAAKL,EAAMC,EAAa,GACxBK,EAAKN,EAAMC,EAAa,GACxBM,EAAKP,EAAMC,EAAa,GAExBO,EAAKN,EAAMC,EAAa,GACxBM,EAAKP,EAAMC,EAAa,GACxBO,EAAKR,EAAMC,EAAa,GACxBQ,EAAKT,EAAMC,EAAa,GAE5B,GAAKI,IAAOI,GAAMP,IAAOI,GAAMH,IAAOI,GAAMH,IAAOI,EAAK,CAEpD,IAAI1qB,EAAI,EAAIb,EAERmhB,EAAM8J,EAAKI,EAAKH,EAAKI,EAAKH,EAAKI,EAAKH,EAAKI,EAEzCC,EAAQtK,GAAO,EAAI,GAAM,EACzBuK,EAAS,EAAIvK,EAAMA,EAGvB,GAAKuK,EAAS5Z,OAAOC,QAAU,CAE3B,IAAIqP,EAAMhe,KAAKoN,KAAMkb,GACjBC,EAAMvoB,KAAK+c,MAAOiB,EAAKD,EAAMsK,GAEjC5qB,EAAIuC,KAAKge,IAAKvgB,EAAI8qB,GAAQvK,EAC1BphB,EAAIoD,KAAKge,IAAKphB,EAAI2rB,GAAQvK,EAI9B,IAAIwK,EAAO5rB,EAAIyrB,EAQf,GANAR,EAAKA,EAAKpqB,EAAIwqB,EAAKO,EACnBV,EAAKA,EAAKrqB,EAAIyqB,EAAKM,EACnBT,EAAKA,EAAKtqB,EAAI0qB,EAAKK,EACnBR,EAAKA,EAAKvqB,EAAI2qB,EAAKI,EAGd/qB,IAAM,EAAIb,EAAI,CAEf,IAAIsjB,EAAI,EAAIlgB,KAAKoN,KAAMya,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GAE1DH,GAAM3H,EACN4H,GAAM5H,EACN6H,GAAM7H,EACN8H,GAAM9H,GAMdqH,EAAKC,GAAcK,EACnBN,EAAKC,EAAY,GAAMM,EACvBP,EAAKC,EAAY,GAAMO,EACvBR,EAAKC,EAAY,GAAMQ,KAM/B5rB,OAAOsR,iBAAkBpH,GAAWhJ,WAEhCwE,GAEIvF,IAAK,WAED,OAAOmG,KAAKgY,IAIhBlb,IAAK,SAAW7C,GAEZ+F,KAAKgY,GAAK/d,EACV+F,KAAK+lB,qBAMb1mB,GAEIxF,IAAK,WAED,OAAOmG,KAAKiY,IAIhBnb,IAAK,SAAW7C,GAEZ+F,KAAKiY,GAAKhe,EACV+F,KAAK+lB,qBAMbzmB,GAEIzF,IAAK,WAED,OAAOmG,KAAKkY,IAIhBpb,IAAK,SAAW7C,GAEZ+F,KAAKkY,GAAKje,EACV+F,KAAK+lB,qBAMbhO,GAEIle,IAAK,WAED,OAAOmG,KAAKmY,IAIhBrb,IAAK,SAAW7C,GAEZ+F,KAAKmY,GAAKle,EACV+F,KAAK+lB,uBAQjBrsB,OAAO+S,OAAQ7I,GAAWhJ,WAEtBorB,cAAc,EAEdlpB,IAAK,SAAWsC,EAAGC,EAAGC,EAAGyY,GASrB,OAPA/X,KAAKgY,GAAK5Y,EACVY,KAAKiY,GAAK5Y,EACVW,KAAKkY,GAAK5Y,EACVU,KAAKmY,GAAKJ,EAEV/X,KAAK+lB,mBAEE/lB,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKgY,GAAIhY,KAAKiY,GAAIjY,KAAKkY,GAAIlY,KAAKmY,KAIjEhV,KAAM,SAAWiC,GASb,OAPApF,KAAKgY,GAAK5S,EAAWhG,EACrBY,KAAKiY,GAAK7S,EAAW/F,EACrBW,KAAKkY,GAAK9S,EAAW9F,EACrBU,KAAKmY,GAAK/S,EAAW2S,EAErB/X,KAAK+lB,mBAEE/lB,MAIXimB,aAAc,SAAW3I,EAAO7c,GAE5B,IAAS6c,IAASA,EAAMC,QAEpB,MAAM,IAAI1E,MAAO,oGAIrB,IAAIzZ,EAAIke,EAAMtF,GAAI3Y,EAAIie,EAAMrF,GAAI3Y,EAAIge,EAAMpF,GAAIuF,EAAQH,EAAMG,MAMxDpC,EAAM/d,KAAK+d,IACXC,EAAMhe,KAAKge,IAEX4K,EAAK7K,EAAKjc,EAAI,GACd+mB,EAAK9K,EAAKhc,EAAI,GACd+mB,EAAK/K,EAAK/b,EAAI,GAEd+mB,EAAK/K,EAAKlc,EAAI,GACdknB,EAAKhL,EAAKjc,EAAI,GACdknB,EAAKjL,EAAKhc,EAAI,GAgDlB,MA9Ce,QAAVme,GAEDzd,KAAKgY,GAAKqO,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EACnCvmB,KAAKiY,GAAKiO,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EACnCvmB,KAAKkY,GAAKgO,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EACnCpmB,KAAKmY,GAAK+N,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAEjB,QAAV9I,GAERzd,KAAKgY,GAAKqO,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EACnCvmB,KAAKiY,GAAKiO,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EACnCvmB,KAAKkY,GAAKgO,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EACnCpmB,KAAKmY,GAAK+N,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAEjB,QAAV9I,GAERzd,KAAKgY,GAAKqO,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EACnCvmB,KAAKiY,GAAKiO,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EACnCvmB,KAAKkY,GAAKgO,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EACnCpmB,KAAKmY,GAAK+N,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAEjB,QAAV9I,GAERzd,KAAKgY,GAAKqO,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EACnCvmB,KAAKiY,GAAKiO,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EACnCvmB,KAAKkY,GAAKgO,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EACnCpmB,KAAKmY,GAAK+N,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAEjB,QAAV9I,GAERzd,KAAKgY,GAAKqO,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EACnCvmB,KAAKiY,GAAKiO,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EACnCvmB,KAAKkY,GAAKgO,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EACnCpmB,KAAKmY,GAAK+N,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,GAEjB,QAAV9I,IAERzd,KAAKgY,GAAKqO,EAAKF,EAAKC,EAAKF,EAAKI,EAAKC,EACnCvmB,KAAKiY,GAAKiO,EAAKI,EAAKF,EAAKC,EAAKF,EAAKI,EACnCvmB,KAAKkY,GAAKgO,EAAKC,EAAKI,EAAKF,EAAKC,EAAKF,EACnCpmB,KAAKmY,GAAK+N,EAAKC,EAAKC,EAAKC,EAAKC,EAAKC,IAIvB,IAAX9lB,GAAmBT,KAAK+lB,mBAEtB/lB,MAIXwmB,iBAAkB,SAAW/D,EAAMpb,GAM/B,IAAIof,EAAYpf,EAAQ,EAAGtM,EAAIuC,KAAKge,IAAKmL,GASzC,OAPAzmB,KAAKgY,GAAKyK,EAAKrjB,EAAIrE,EACnBiF,KAAKiY,GAAKwK,EAAKpjB,EAAItE,EACnBiF,KAAKkY,GAAKuK,EAAKnjB,EAAIvE,EACnBiF,KAAKmY,GAAK7a,KAAK+d,IAAKoL,GAEpBzmB,KAAK+lB,mBAEE/lB,MAIXkkB,sBAAuB,SAAW9qB,GAM9B,IAOI2B,EAPAyhB,EAAKpjB,EAAEye,SAEP6O,EAAMlK,EAAI,GAAKmK,EAAMnK,EAAI,GAAKoK,EAAMpK,EAAI,GACxCqK,EAAMrK,EAAI,GAAKsK,EAAMtK,EAAI,GAAKuK,EAAMvK,EAAI,GACxCwK,EAAMxK,EAAI,GAAKyK,EAAMzK,EAAI,GAAK0K,EAAM1K,EAAI,IAExC2K,EAAQT,EAAMI,EAAMI,EA2CxB,OAxCKC,EAAQ,GAETpsB,EAAI,GAAMuC,KAAKoN,KAAMyc,EAAQ,GAE7BnnB,KAAKmY,GAAK,IAAOpd,EACjBiF,KAAKgY,IAAOiP,EAAMF,GAAQhsB,EAC1BiF,KAAKiY,IAAO2O,EAAMI,GAAQjsB,EAC1BiF,KAAKkY,IAAO2O,EAAMF,GAAQ5rB,GAElB2rB,EAAMI,GAAOJ,EAAMQ,GAE3BnsB,EAAI,EAAMuC,KAAKoN,KAAM,EAAMgc,EAAMI,EAAMI,GAEvClnB,KAAKmY,IAAO8O,EAAMF,GAAQhsB,EAC1BiF,KAAKgY,GAAK,IAAOjd,EACjBiF,KAAKiY,IAAO0O,EAAME,GAAQ9rB,EAC1BiF,KAAKkY,IAAO0O,EAAMI,GAAQjsB,GAElB+rB,EAAMI,GAEdnsB,EAAI,EAAMuC,KAAKoN,KAAM,EAAMoc,EAAMJ,EAAMQ,GAEvClnB,KAAKmY,IAAOyO,EAAMI,GAAQjsB,EAC1BiF,KAAKgY,IAAO2O,EAAME,GAAQ9rB,EAC1BiF,KAAKiY,GAAK,IAAOld,EACjBiF,KAAKkY,IAAO6O,EAAME,GAAQlsB,IAI1BA,EAAI,EAAMuC,KAAKoN,KAAM,EAAMwc,EAAMR,EAAMI,GAEvC9mB,KAAKmY,IAAO0O,EAAMF,GAAQ5rB,EAC1BiF,KAAKgY,IAAO4O,EAAMI,GAAQjsB,EAC1BiF,KAAKiY,IAAO8O,EAAME,GAAQlsB,EAC1BiF,KAAKkY,GAAK,IAAOnd,GAIrBiF,KAAK+lB,mBAEE/lB,MAIX6D,mBAAoB,WAIhB,IACI/J,EADA6gB,EAAK,IAAI7Z,GAKb,OAAO,SAA6BsmB,EAAOC,GA+BvC,YA7BY1mB,IAAPga,IAAmBA,EAAK,IAAI7Z,KAEjChH,EAAIstB,EAAMjiB,IAAKkiB,GAAQ,GANjB,MAUFvtB,EAAI,EAECwD,KAAK6c,IAAKiN,EAAMhoB,GAAM9B,KAAK6c,IAAKiN,EAAM9nB,GAEvCqb,EAAG7d,KAAOsqB,EAAM/nB,EAAG+nB,EAAMhoB,EAAG,GAI5Bub,EAAG7d,IAAK,GAAKsqB,EAAM9nB,EAAG8nB,EAAM/nB,IAMhCsb,EAAG9S,aAAcuf,EAAOC,GAI5BrnB,KAAKgY,GAAK2C,EAAGvb,EACbY,KAAKiY,GAAK0C,EAAGtb,EACbW,KAAKkY,GAAKyC,EAAGrb,EACbU,KAAKmY,GAAKre,EAEHkG,KAAKoa,aAxCA,GA8CpBkN,QAAS,SAAW7I,GAEhB,OAAO,EAAInhB,KAAKiqB,KAAMjqB,KAAK6c,IAAK3E,GAAMU,MAAOlW,KAAKmF,IAAKsZ,IAAO,EAAG,MAIrE+I,cAAe,SAAW/I,EAAGgJ,GAEzB,IAAIpgB,EAAQrH,KAAKsnB,QAAS7I,GAE1B,GAAe,IAAVpX,EAAc,OAAOrH,KAE1B,IAAI9F,EAAIoD,KAAKmH,IAAK,EAAGgjB,EAAOpgB,GAI5B,OAFArH,KAAKwkB,MAAO/F,EAAGvkB,GAER8F,MAIXgE,QAAS,WAIL,OAAOhE,KAAK0nB,aAIhBA,UAAW,WAQP,OANA1nB,KAAKgY,KAAQ,EACbhY,KAAKiY,KAAQ,EACbjY,KAAKkY,KAAQ,EAEblY,KAAK+lB,mBAEE/lB,MAIXmF,IAAK,SAAWqC,GAEZ,OAAOxH,KAAKgY,GAAKxQ,EAAEwQ,GAAKhY,KAAKiY,GAAKzQ,EAAEyQ,GAAKjY,KAAKkY,GAAK1Q,EAAE0Q,GAAKlY,KAAKmY,GAAK3Q,EAAE2Q,IAI1E8B,SAAU,WAEN,OAAOja,KAAKgY,GAAKhY,KAAKgY,GAAKhY,KAAKiY,GAAKjY,KAAKiY,GAAKjY,KAAKkY,GAAKlY,KAAKkY,GAAKlY,KAAKmY,GAAKnY,KAAKmY,IAItFpY,OAAQ,WAEJ,OAAOzC,KAAKoN,KAAM1K,KAAKgY,GAAKhY,KAAKgY,GAAKhY,KAAKiY,GAAKjY,KAAKiY,GAAKjY,KAAKkY,GAAKlY,KAAKkY,GAAKlY,KAAKmY,GAAKnY,KAAKmY,KAIjGiC,UAAW,WAEP,IAAInhB,EAAI+G,KAAKD,SAsBb,OApBW,IAAN9G,GAED+G,KAAKgY,GAAK,EACVhY,KAAKiY,GAAK,EACVjY,KAAKkY,GAAK,EACVlY,KAAKmY,GAAK,IAIVlf,EAAI,EAAIA,EAER+G,KAAKgY,GAAKhY,KAAKgY,GAAK/e,EACpB+G,KAAKiY,GAAKjY,KAAKiY,GAAKhf,EACpB+G,KAAKkY,GAAKlY,KAAKkY,GAAKjf,EACpB+G,KAAKmY,GAAKnY,KAAKmY,GAAKlf,GAIxB+G,KAAK+lB,mBAEE/lB,MAIXqZ,SAAU,SAAWoF,EAAG3jB,GAEpB,YAAW6F,IAAN7F,GAEDgO,QAAQC,KAAM,0GACP/I,KAAK2nB,oBAAqBlJ,EAAG3jB,IAIjCkF,KAAK2nB,oBAAqB3nB,KAAMye,IAI3CI,YAAa,SAAWJ,GAEpB,OAAOze,KAAK2nB,oBAAqBlJ,EAAGze,OAIxC2nB,oBAAqB,SAAW1O,EAAGC,GAI/B,IAAI0O,EAAM3O,EAAEjB,GAAI6P,EAAM5O,EAAEhB,GAAI6P,EAAM7O,EAAEf,GAAI6P,EAAM9O,EAAEd,GAC5C6P,EAAM9O,EAAElB,GAAIiQ,EAAM/O,EAAEjB,GAAIiQ,EAAMhP,EAAEhB,GAAIiQ,EAAMjP,EAAEf,GAShD,OAPAnY,KAAKgY,GAAK4P,EAAMO,EAAMJ,EAAMC,EAAMH,EAAMK,EAAMJ,EAAMG,EACpDjoB,KAAKiY,GAAK4P,EAAMM,EAAMJ,EAAME,EAAMH,EAAME,EAAMJ,EAAMM,EACpDloB,KAAKkY,GAAK4P,EAAMK,EAAMJ,EAAMG,EAAMN,EAAMK,EAAMJ,EAAMG,EACpDhoB,KAAKmY,GAAK4P,EAAMI,EAAMP,EAAMI,EAAMH,EAAMI,EAAMH,EAAMI,EAEpDloB,KAAK+lB,mBAEE/lB,MAIXwkB,MAAO,SAAWE,EAAIxqB,GAElB,GAAW,IAANA,EAAU,OAAO8F,KACtB,GAAW,IAAN9F,EAAU,OAAO8F,KAAKmD,KAAMuhB,GAEjC,IAAItlB,EAAIY,KAAKgY,GAAI3Y,EAAIW,KAAKiY,GAAI3Y,EAAIU,KAAKkY,GAAIH,EAAI/X,KAAKmY,GAIhDiQ,EAAerQ,EAAI2M,EAAGvM,GAAK/Y,EAAIslB,EAAG1M,GAAK3Y,EAAIqlB,EAAGzM,GAAK3Y,EAAIolB,EAAGxM,GAiB9D,GAfKkQ,EAAe,GAEhBpoB,KAAKmY,IAAOuM,EAAGvM,GACfnY,KAAKgY,IAAO0M,EAAG1M,GACfhY,KAAKiY,IAAOyM,EAAGzM,GACfjY,KAAKkY,IAAOwM,EAAGxM,GAEfkQ,GAAiBA,GAIjBpoB,KAAKmD,KAAMuhB,GAIV0D,GAAgB,EAOjB,OALApoB,KAAKmY,GAAKJ,EACV/X,KAAKgY,GAAK5Y,EACVY,KAAKiY,GAAK5Y,EACVW,KAAKkY,GAAK5Y,EAEHU,KAIX,IAAIqoB,EAAkB,EAAMD,EAAeA,EAE3C,GAAKC,GAAmBrc,OAAOC,QAAU,CAErC,IAAIlR,EAAI,EAAIb,EAMZ,OALA8F,KAAKmY,GAAKpd,EAAIgd,EAAI7d,EAAI8F,KAAKmY,GAC3BnY,KAAKgY,GAAKjd,EAAIqE,EAAIlF,EAAI8F,KAAKgY,GAC3BhY,KAAKiY,GAAKld,EAAIsE,EAAInF,EAAI8F,KAAKiY,GAC3BjY,KAAKkY,GAAKnd,EAAIuE,EAAIpF,EAAI8F,KAAKkY,GAEpBlY,KAAKoa,YAIhB,IAAIkO,EAAehrB,KAAKoN,KAAM2d,GAC1BE,EAAYjrB,KAAK+c,MAAOiO,EAAcF,GACtCI,EAASlrB,KAAKge,KAAO,EAAIphB,GAAMquB,GAAcD,EAC7CG,EAASnrB,KAAKge,IAAKphB,EAAIquB,GAAcD,EASzC,OAPAtoB,KAAKmY,GAAOJ,EAAIyQ,EAASxoB,KAAKmY,GAAKsQ,EACnCzoB,KAAKgY,GAAO5Y,EAAIopB,EAASxoB,KAAKgY,GAAKyQ,EACnCzoB,KAAKiY,GAAO5Y,EAAImpB,EAASxoB,KAAKiY,GAAKwQ,EACnCzoB,KAAKkY,GAAO5Y,EAAIkpB,EAASxoB,KAAKkY,GAAKuQ,EAEnCzoB,KAAK+lB,mBAEE/lB,MAIX6a,OAAQ,SAAWzV,GAEf,OAASA,EAAW4S,KAAOhY,KAAKgY,IAAU5S,EAAW6S,KAAOjY,KAAKiY,IAAU7S,EAAW8S,KAAOlY,KAAKkY,IAAU9S,EAAW+S,KAAOnY,KAAKmY,IAIvI2C,UAAW,SAAWtN,EAAO9J,GAWzB,YATgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKgY,GAAKxK,EAAO9J,GACjB1D,KAAKiY,GAAKzK,EAAO9J,EAAS,GAC1B1D,KAAKkY,GAAK1K,EAAO9J,EAAS,GAC1B1D,KAAKmY,GAAK3K,EAAO9J,EAAS,GAE1B1D,KAAK+lB,mBAEE/lB,MAIX+a,QAAS,SAAWvN,EAAO9J,GAUvB,YARe/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC8J,EAAO9J,GAAW1D,KAAKgY,GACvBxK,EAAO9J,EAAS,GAAM1D,KAAKiY,GAC3BzK,EAAO9J,EAAS,GAAM1D,KAAKkY,GAC3B1K,EAAO9J,EAAS,GAAM1D,KAAKmY,GAEpB3K,GAIXkb,SAAU,SAAWC,GAIjB,OAFA3oB,KAAK+lB,iBAAmB4C,EAEjB3oB,MAIX+lB,iBAAkB,eAqBtBrsB,OAAO+S,OAAQ3L,GAAQlG,WAEnBguB,WAAW,EAEX9rB,IAAK,SAAWsC,EAAGC,EAAGC,GAMlB,OAJAU,KAAKZ,EAAIA,EACTY,KAAKX,EAAIA,EACTW,KAAKV,EAAIA,EAEFU,MAIXwY,UAAW,SAAWC,GAMlB,OAJAzY,KAAKZ,EAAIqZ,EACTzY,KAAKX,EAAIoZ,EACTzY,KAAKV,EAAImZ,EAEFzY,MAIX0Y,KAAM,SAAWtZ,GAIb,OAFAY,KAAKZ,EAAIA,EAEFY,MAIX2Y,KAAM,SAAWtZ,GAIb,OAFAW,KAAKX,EAAIA,EAEFW,MAIX6oB,KAAM,SAAWvpB,GAIb,OAFAU,KAAKV,EAAIA,EAEFU,MAIX4Y,aAAc,SAAWhM,EAAO3S,GAE5B,OAAS2S,GAEL,KAAK,EAAG5M,KAAKZ,EAAInF,EAAO,MACxB,KAAK,EAAG+F,KAAKX,EAAIpF,EAAO,MACxB,KAAK,EAAG+F,KAAKV,EAAIrF,EAAO,MACxB,QAAS,MAAM,IAAI4e,MAAO,0BAA4BjM,GAI1D,OAAO5M,MAIX8Y,aAAc,SAAWlM,GAErB,OAASA,GAEL,KAAK,EAAG,OAAO5M,KAAKZ,EACpB,KAAK,EAAG,OAAOY,KAAKX,EACpB,KAAK,EAAG,OAAOW,KAAKV,EACpB,QAAS,MAAM,IAAIuZ,MAAO,0BAA4BjM,KAM9DpK,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKZ,EAAGY,KAAKX,EAAGW,KAAKV,IAItD6D,KAAM,SAAWqE,GAMb,OAJAxH,KAAKZ,EAAIoI,EAAEpI,EACXY,KAAKX,EAAImI,EAAEnI,EACXW,KAAKV,EAAIkI,EAAElI,EAEJU,MAIXP,IAAK,SAAW+H,EAAGuQ,GAEf,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,yFACP/I,KAAK+Y,WAAYvR,EAAGuQ,KAI/B/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EACZW,KAAKV,GAAKkI,EAAElI,EAELU,OAIXgZ,UAAW,SAAWje,GAMlB,OAJAiF,KAAKZ,GAAKrE,EACViF,KAAKX,GAAKtE,EACViF,KAAKV,GAAKvE,EAEHiF,MAIX+Y,WAAY,SAAWE,EAAGC,GAMtB,OAJAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EACjBW,KAAKV,EAAI2Z,EAAE3Z,EAAI4Z,EAAE5Z,EAEVU,MAIXmZ,gBAAiB,SAAW3R,EAAGzM,GAM3B,OAJAiF,KAAKZ,GAAKoI,EAAEpI,EAAIrE,EAChBiF,KAAKX,GAAKmI,EAAEnI,EAAItE,EAChBiF,KAAKV,GAAKkI,EAAElI,EAAIvE,EAETiF,MAIXmE,IAAK,SAAWqD,EAAGuQ,GAEf,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,yFACP/I,KAAK4J,WAAYpC,EAAGuQ,KAI/B/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EACZW,KAAKV,GAAKkI,EAAElI,EAELU,OAIXoZ,UAAW,SAAWre,GAMlB,OAJAiF,KAAKZ,GAAKrE,EACViF,KAAKX,GAAKtE,EACViF,KAAKV,GAAKvE,EAEHiF,MAIX4J,WAAY,SAAWqP,EAAGC,GAMtB,OAJAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EACjBW,KAAKV,EAAI2Z,EAAE3Z,EAAI4Z,EAAE5Z,EAEVU,MAIXqZ,SAAU,SAAW7R,EAAGuQ,GAEpB,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,mGACP/I,KAAK8oB,gBAAiBthB,EAAGuQ,KAIpC/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EACZW,KAAKV,GAAKkI,EAAElI,EAELU,OAIX+E,eAAgB,SAAW0T,GAMvB,OAJAzY,KAAKZ,GAAKqZ,EACVzY,KAAKX,GAAKoZ,EACVzY,KAAKV,GAAKmZ,EAEHzY,MAIX8oB,gBAAiB,SAAW7P,EAAGC,GAM3B,OAJAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EACjBW,KAAKV,EAAI2Z,EAAE3Z,EAAI4Z,EAAE5Z,EAEVU,MAIX+oB,WAAY,WAER,IAAI3jB,EAAa,IAAIxB,GAErB,OAAO,SAAqB0Z,GAQxB,OANSA,GAASA,EAAMC,SAEpBzU,QAAQgP,MAAO,+FAIZ9X,KAAKoE,gBAAiBgB,EAAW6gB,aAAc3I,KAZlD,GAkBZ0L,eAAgB,WAEZ,IAAI5jB,EAAa,IAAIxB,GAErB,OAAO,SAAyB6e,EAAMpb,GAElC,OAAOrH,KAAKoE,gBAAiBgB,EAAWohB,iBAAkB/D,EAAMpb,KANxD,GAYhBmS,aAAc,SAAWpgB,GAErB,IAAIgG,EAAIY,KAAKZ,EAAGC,EAAIW,KAAKX,EAAGC,EAAIU,KAAKV,EACjCP,EAAI3F,EAAEye,SAMV,OAJA7X,KAAKZ,EAAIL,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAC5CU,KAAKX,EAAIN,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAC5CU,KAAKV,EAAIP,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAErCU,MAIXihB,aAAc,SAAW7nB,GAErB,IAAIgG,EAAIY,KAAKZ,EAAGC,EAAIW,KAAKX,EAAGC,EAAIU,KAAKV,EACjCP,EAAI3F,EAAEye,SAENE,EAAI,GAAMhZ,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,IAAOO,EAAIP,EAAG,KAMzD,OAJAiB,KAAKZ,GAAML,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAAIP,EAAG,KAASgZ,EAC9D/X,KAAKX,GAAMN,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAAIP,EAAG,KAASgZ,EAC9D/X,KAAKV,GAAMP,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,IAAOO,EAAIP,EAAG,KAASgZ,EAExD/X,MAIXoE,gBAAiB,SAAWqa,GAExB,IAAIrf,EAAIY,KAAKZ,EAAGC,EAAIW,KAAKX,EAAGC,EAAIU,KAAKV,EACjC2pB,EAAKxK,EAAErf,EAAG8pB,EAAKzK,EAAEpf,EAAG8pB,EAAK1K,EAAEnf,EAAG8pB,EAAK3K,EAAE1G,EAIrCsR,EAAKD,EAAKhqB,EAAI8pB,EAAK5pB,EAAI6pB,EAAK9pB,EAC5BiqB,EAAKF,EAAK/pB,EAAI8pB,EAAK/pB,EAAI6pB,EAAK3pB,EAC5BiqB,EAAKH,EAAK9pB,EAAI2pB,EAAK5pB,EAAI6pB,EAAK9pB,EAC5BoqB,GAAOP,EAAK7pB,EAAI8pB,EAAK7pB,EAAI8pB,EAAK7pB,EAQlC,OAJAU,KAAKZ,EAAIiqB,EAAKD,EAAKI,GAAOP,EAAKK,GAAOH,EAAKI,GAAOL,EAClDlpB,KAAKX,EAAIiqB,EAAKF,EAAKI,GAAON,EAAKK,GAAON,EAAKI,GAAOF,EAClDnpB,KAAKV,EAAIiqB,EAAKH,EAAKI,GAAOL,EAAKE,GAAOH,EAAKI,GAAOL,EAE3CjpB,MAIXypB,QAAS,SAAWzuB,GAEhB,OAAOgF,KAAKihB,aAAcjmB,EAAO0uB,oBAAqBzI,aAAcjmB,EAAO2uB,mBAI/EC,UAAW,WAEP,IAAIrhB,EAAS,IAAIqP,GAEjB,OAAO,SAAoB5c,GAEvB,OAAOgF,KAAKihB,aAAc1Y,EAAOgZ,WAAYvmB,EAAO2uB,mBAAqB1I,aAAcjmB,EAAO6uB,cAN3F,GAYXC,mBAAoB,SAAW1wB,GAK3B,IAAIgG,EAAIY,KAAKZ,EAAGC,EAAIW,KAAKX,EAAGC,EAAIU,KAAKV,EACjCP,EAAI3F,EAAEye,SAMV,OAJA7X,KAAKZ,EAAIL,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAC5CU,KAAKX,EAAIN,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAC5CU,KAAKV,EAAIP,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,IAAOO,EAEtCU,KAAKoa,aAIhBd,OAAQ,SAAW9R,GAMf,OAJAxH,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EACZW,KAAKV,GAAKkI,EAAElI,EAELU,MAIXuZ,aAAc,SAAWd,GAErB,OAAOzY,KAAK+E,eAAgB,EAAI0T,IAIpChU,IAAK,SAAW+C,GAMZ,OAJAxH,KAAKZ,EAAI9B,KAAKmH,IAAKzE,KAAKZ,EAAGoI,EAAEpI,GAC7BY,KAAKX,EAAI/B,KAAKmH,IAAKzE,KAAKX,EAAGmI,EAAEnI,GAC7BW,KAAKV,EAAIhC,KAAKmH,IAAKzE,KAAKV,EAAGkI,EAAElI,GAEtBU,MAIXwE,IAAK,SAAWgD,GAMZ,OAJAxH,KAAKZ,EAAI9B,KAAKkH,IAAKxE,KAAKZ,EAAGoI,EAAEpI,GAC7BY,KAAKX,EAAI/B,KAAKkH,IAAKxE,KAAKX,EAAGmI,EAAEnI,GAC7BW,KAAKV,EAAIhC,KAAKkH,IAAKxE,KAAKV,EAAGkI,EAAElI,GAEtBU,MAIXkW,MAAO,SAAWzR,EAAKD,GAQnB,OAJAxE,KAAKZ,EAAI9B,KAAKkH,IAAKC,EAAIrF,EAAG9B,KAAKmH,IAAKD,EAAIpF,EAAGY,KAAKZ,IAChDY,KAAKX,EAAI/B,KAAKkH,IAAKC,EAAIpF,EAAG/B,KAAKmH,IAAKD,EAAInF,EAAGW,KAAKX,IAChDW,KAAKV,EAAIhC,KAAKkH,IAAKC,EAAInF,EAAGhC,KAAKmH,IAAKD,EAAIlF,EAAGU,KAAKV,IAEzCU,MAIXyZ,YAAa,WAET,IAAIhV,EAAM,IAAI3D,GACV0D,EAAM,IAAI1D,GAEd,OAAO,SAAsB4Y,EAAQC,GAKjC,OAHAlV,EAAI3H,IAAK4c,EAAQA,EAAQA,GACzBlV,EAAI1H,IAAK6c,EAAQA,EAAQA,GAElB3Z,KAAKkW,MAAOzR,EAAKD,IAVnB,GAgBboV,YAAa,SAAWnV,EAAKD,GAEzB,IAAIzE,EAASC,KAAKD,SAElB,OAAOC,KAAKuZ,aAAcxZ,GAAU,GAAIgF,eAAgBzH,KAAKkH,IAAKC,EAAKnH,KAAKmH,IAAKD,EAAKzE,MAI1FqM,MAAO,WAMH,OAJApM,KAAKZ,EAAI9B,KAAK8O,MAAOpM,KAAKZ,GAC1BY,KAAKX,EAAI/B,KAAK8O,MAAOpM,KAAKX,GAC1BW,KAAKV,EAAIhC,KAAK8O,MAAOpM,KAAKV,GAEnBU,MAIXwX,KAAM,WAMF,OAJAxX,KAAKZ,EAAI9B,KAAKka,KAAMxX,KAAKZ,GACzBY,KAAKX,EAAI/B,KAAKka,KAAMxX,KAAKX,GACzBW,KAAKV,EAAIhC,KAAKka,KAAMxX,KAAKV,GAElBU,MAIX6Z,MAAO,WAMH,OAJA7Z,KAAKZ,EAAI9B,KAAKuc,MAAO7Z,KAAKZ,GAC1BY,KAAKX,EAAI/B,KAAKuc,MAAO7Z,KAAKX,GAC1BW,KAAKV,EAAIhC,KAAKuc,MAAO7Z,KAAKV,GAEnBU,MAIX8Z,YAAa,WAMT,OAJA9Z,KAAKZ,EAAMY,KAAKZ,EAAI,EAAM9B,KAAKka,KAAMxX,KAAKZ,GAAM9B,KAAK8O,MAAOpM,KAAKZ,GACjEY,KAAKX,EAAMW,KAAKX,EAAI,EAAM/B,KAAKka,KAAMxX,KAAKX,GAAM/B,KAAK8O,MAAOpM,KAAKX,GACjEW,KAAKV,EAAMU,KAAKV,EAAI,EAAMhC,KAAKka,KAAMxX,KAAKV,GAAMhC,KAAK8O,MAAOpM,KAAKV,GAE1DU,MAIX+Z,OAAQ,WAMJ,OAJA/Z,KAAKZ,GAAMY,KAAKZ,EAChBY,KAAKX,GAAMW,KAAKX,EAChBW,KAAKV,GAAMU,KAAKV,EAETU,MAIXmF,IAAK,SAAWqC,GAEZ,OAAOxH,KAAKZ,EAAIoI,EAAEpI,EAAIY,KAAKX,EAAImI,EAAEnI,EAAIW,KAAKV,EAAIkI,EAAElI,GAMpD2a,SAAU,WAEN,OAAOja,KAAKZ,EAAIY,KAAKZ,EAAIY,KAAKX,EAAIW,KAAKX,EAAIW,KAAKV,EAAIU,KAAKV,GAI7DS,OAAQ,WAEJ,OAAOzC,KAAKoN,KAAM1K,KAAKZ,EAAIY,KAAKZ,EAAIY,KAAKX,EAAIW,KAAKX,EAAIW,KAAKV,EAAIU,KAAKV,IAIxE4a,gBAAiB,WAEb,OAAO5c,KAAK6c,IAAKna,KAAKZ,GAAM9B,KAAK6c,IAAKna,KAAKX,GAAM/B,KAAK6c,IAAKna,KAAKV,IAIpE8a,UAAW,WAEP,OAAOpa,KAAKuZ,aAAcvZ,KAAKD,UAAY,IAI/Cya,UAAW,SAAWza,GAElB,OAAOC,KAAKoa,YAAYrV,eAAgBhF,IAI5C0W,KAAM,SAAWjP,EAAGiT,GAMhB,OAJAza,KAAKZ,IAAOoI,EAAEpI,EAAIY,KAAKZ,GAAMqb,EAC7Bza,KAAKX,IAAOmI,EAAEnI,EAAIW,KAAKX,GAAMob,EAC7Bza,KAAKV,IAAOkI,EAAElI,EAAIU,KAAKV,GAAMmb,EAEtBza,MAIX0a,YAAa,SAAWC,EAAIC,EAAIH,GAE5B,OAAOza,KAAK4J,WAAYgR,EAAID,GAAK5V,eAAgB0V,GAAQhb,IAAKkb,IAIlEX,MAAO,SAAWxS,EAAGuQ,GAEjB,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,6FACP/I,KAAK6H,aAAcL,EAAGuQ,IAI1B/X,KAAK6H,aAAc7H,KAAMwH,IAIpCK,aAAc,SAAWoR,EAAGC,GAExB,IAAI6Q,EAAK9Q,EAAE7Z,EAAG4qB,EAAK/Q,EAAE5Z,EAAG4qB,EAAKhR,EAAE3Z,EAC3B4qB,EAAKhR,EAAE9Z,EAAG+qB,EAAKjR,EAAE7Z,EAAG+qB,EAAKlR,EAAE5Z,EAM/B,OAJAU,KAAKZ,EAAI4qB,EAAKI,EAAKH,EAAKE,EACxBnqB,KAAKX,EAAI4qB,EAAKC,EAAKH,EAAKK,EACxBpqB,KAAKV,EAAIyqB,EAAKI,EAAKH,EAAKE,EAEjBlqB,MAIXqqB,gBAAiB,SAAWvG,GAExB,IAAIrL,EAASqL,EAAO3e,IAAKnF,MAAS8jB,EAAO7J,WAEzC,OAAOja,KAAKmD,KAAM2gB,GAAS/e,eAAgB0T,IAI/C6R,eAAgB,WAEZ,IAAI3P,EAAK,IAAI7Z,GAEb,OAAO,SAAyBypB,GAI5B,OAFA5P,EAAGxX,KAAMnD,MAAOqqB,gBAAiBE,GAE1BvqB,KAAKmE,IAAKwW,IART,GAchB6P,QAAS,WAKL,IAAI7P,EAAK,IAAI7Z,GAEb,OAAO,SAAkB2pB,GAErB,OAAOzqB,KAAKmE,IAAKwW,EAAGxX,KAAMsnB,GAAS1lB,eAAgB,EAAI/E,KAAKmF,IAAKslB,MAThE,GAeTnD,QAAS,SAAW9f,GAEhB,IAAIxE,EAAQhD,KAAKmF,IAAKqC,GAAQlK,KAAKoN,KAAM1K,KAAKia,WAAazS,EAAEyS,YAI7D,OAAO3c,KAAKiqB,KAAM/R,GAAMU,MAAOlT,GAAS,EAAG,KAI/CsX,WAAY,SAAW9S,GAEnB,OAAOlK,KAAKoN,KAAM1K,KAAKiF,kBAAmBuC,KAI9CvC,kBAAmB,SAAWuC,GAE1B,IAAIgD,EAAKxK,KAAKZ,EAAIoI,EAAEpI,EAAGqL,EAAKzK,KAAKX,EAAImI,EAAEnI,EAAGqrB,EAAK1qB,KAAKV,EAAIkI,EAAElI,EAE1D,OAAOkL,EAAKA,EAAKC,EAAKA,EAAKigB,EAAKA,GAIpCnQ,oBAAqB,SAAW/S,GAE5B,OAAOlK,KAAK6c,IAAKna,KAAKZ,EAAIoI,EAAEpI,GAAM9B,KAAK6c,IAAKna,KAAKX,EAAImI,EAAEnI,GAAM/B,KAAK6c,IAAKna,KAAKV,EAAIkI,EAAElI,IAItFuF,iBAAkB,SAAW9J,GAEzB,OAAOiF,KAAK2qB,uBAAwB5vB,EAAE4J,OAAQ5J,EAAE+H,IAAK/H,EAAEiI,QAI3D2nB,uBAAwB,SAAWhmB,EAAQ7B,EAAKE,GAE5C,IAAI4nB,EAAettB,KAAKge,IAAKxY,GAAQ6B,EAMrC,OAJA3E,KAAKZ,EAAIwrB,EAAettB,KAAKge,IAAKtY,GAClChD,KAAKX,EAAI/B,KAAK+d,IAAKvY,GAAQ6B,EAC3B3E,KAAKV,EAAIsrB,EAAettB,KAAK+d,IAAKrY,GAE3BhD,MAIX6qB,mBAAoB,SAAWxxB,GAE3B,OAAO2G,KAAK8qB,yBAA0BzxB,EAAEsL,OAAQtL,EAAE2J,MAAO3J,EAAEgG,IAI/DyrB,yBAA0B,SAAWnmB,EAAQ3B,EAAO3D,GAMhD,OAJAW,KAAKZ,EAAIuF,EAASrH,KAAKge,IAAKtY,GAC5BhD,KAAKX,EAAIA,EACTW,KAAKV,EAAIqF,EAASrH,KAAK+d,IAAKrY,GAErBhD,MAIX+qB,sBAAuB,SAAW3xB,GAE9B,IAAI2F,EAAI3F,EAAEye,SAMV,OAJA7X,KAAKZ,EAAIL,EAAG,IACZiB,KAAKX,EAAIN,EAAG,IACZiB,KAAKV,EAAIP,EAAG,IAELiB,MAIXgrB,mBAAoB,SAAW5xB,GAE3B,IAAIsqB,EAAK1jB,KAAK2H,oBAAqBvO,EAAG,GAAI2G,SACtC4jB,EAAK3jB,KAAK2H,oBAAqBvO,EAAG,GAAI2G,SACtC6jB,EAAK5jB,KAAK2H,oBAAqBvO,EAAG,GAAI2G,SAM1C,OAJAC,KAAKZ,EAAIskB,EACT1jB,KAAKX,EAAIskB,EACT3jB,KAAKV,EAAIskB,EAEF5jB,MAIX2H,oBAAqB,SAAWvO,EAAGwT,GAE/B,OAAO5M,KAAK8a,UAAW1hB,EAAEye,SAAkB,EAARjL,IAIvCiO,OAAQ,SAAWrT,GAEf,OAAWA,EAAEpI,IAAMY,KAAKZ,GAASoI,EAAEnI,IAAMW,KAAKX,GAASmI,EAAElI,IAAMU,KAAKV,GAIxEwb,UAAW,SAAWtN,EAAO9J,GAQzB,YANgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKZ,EAAIoO,EAAO9J,GAChB1D,KAAKX,EAAImO,EAAO9J,EAAS,GACzB1D,KAAKV,EAAIkO,EAAO9J,EAAS,GAElB1D,MAIX+a,QAAS,SAAWvN,EAAO9J,GASvB,YAPe/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC8J,EAAO9J,GAAW1D,KAAKZ,EACvBoO,EAAO9J,EAAS,GAAM1D,KAAKX,EAC3BmO,EAAO9J,EAAS,GAAM1D,KAAKV,EAEpBkO,GAIXwN,oBAAqB,SAAWC,EAAWrO,EAAOlJ,GAY9C,YAVgB/C,IAAX+C,GAEDoF,QAAQC,KAAM,uEAIlB/I,KAAKZ,EAAI6b,EAAUC,KAAMtO,GACzB5M,KAAKX,EAAI4b,EAAUE,KAAMvO,GACzB5M,KAAKV,EAAI2b,EAAU+F,KAAMpU,GAElB5M,QA+BftG,OAAO+S,OAAQ2L,GAAQxd,WAEnBqwB,WAAW,EAEXnuB,IAAK,SAAW0e,EAAKC,EAAKC,EAAKE,EAAKC,EAAKC,EAAKE,EAAKC,EAAKC,GAEpD,IAAIM,EAAKxc,KAAK6X,SAMd,OAJA2E,EAAI,GAAMhB,EAAKgB,EAAI,GAAMZ,EAAKY,EAAI,GAAMR,EACxCQ,EAAI,GAAMf,EAAKe,EAAI,GAAMX,EAAKW,EAAI,GAAMP,EACxCO,EAAI,GAAMd,EAAKc,EAAI,GAAMV,EAAKU,EAAI,GAAMN,EAEjClc,MAIXyc,SAAU,WAUN,OARAzc,KAAKlD,IAED,EAAG,EAAG,EACN,EAAG,EAAG,EACN,EAAG,EAAG,GAIHkD,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc+P,UAAW9a,KAAK6X,WAIlD1U,KAAM,SAAW/J,GAEb,IAAIojB,EAAKxc,KAAK6X,SACV6E,EAAKtjB,EAAEye,SAMX,OAJA2E,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GACpDF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GACpDF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAAKF,EAAI,GAAME,EAAI,GAE7C1c,MAIXkrB,eAAgB,SAAW9xB,GAEvB,IAAIsjB,EAAKtjB,EAAEye,SAUX,OARA7X,KAAKlD,IAED4f,EAAI,GAAKA,EAAI,GAAKA,EAAI,GACtBA,EAAI,GAAKA,EAAI,GAAKA,EAAI,GACtBA,EAAI,GAAKA,EAAI,GAAKA,EAAI,KAInB1c,MAIX8gB,uBAAwB,WAEpB,IAAInG,EAAK,IAAI7Z,GAEb,OAAO,SAAiCma,GAEpC,IAAM,IAAIjiB,EAAI,EAAGC,EAAIgiB,EAAU8F,MAAO/nB,EAAIC,EAAGD,IAEzC2hB,EAAGvb,EAAI6b,EAAUC,KAAMliB,GACvB2hB,EAAGtb,EAAI4b,EAAUE,KAAMniB,GACvB2hB,EAAGrb,EAAI2b,EAAU+F,KAAMhoB,GAEvB2hB,EAAGnB,aAAcxZ,MAEjBib,EAAUiG,OAAQloB,EAAG2hB,EAAGvb,EAAGub,EAAGtb,EAAGsb,EAAGrb,GAIxC,OAAO2b,GAlBS,GAwBxB5B,SAAU,SAAWjgB,GAEjB,OAAO4G,KAAK4e,iBAAkB5e,KAAM5G,IAIxCylB,YAAa,SAAWzlB,GAEpB,OAAO4G,KAAK4e,iBAAkBxlB,EAAG4G,OAIrC4e,iBAAkB,SAAW3F,EAAGC,GAE5B,IAAIwE,EAAKzE,EAAEpB,SACP+F,EAAK1E,EAAErB,SACP2E,EAAKxc,KAAK6X,SAEViH,EAAMpB,EAAI,GAAKqB,EAAMrB,EAAI,GAAKsB,EAAMtB,EAAI,GACxCwB,EAAMxB,EAAI,GAAKyB,EAAMzB,EAAI,GAAK0B,EAAM1B,EAAI,GACxC4B,EAAM5B,EAAI,GAAK6B,EAAM7B,EAAI,GAAK8B,EAAM9B,EAAI,GAExCoC,EAAMlC,EAAI,GAAKmC,EAAMnC,EAAI,GAAKoC,EAAMpC,EAAI,GACxCsC,EAAMtC,EAAI,GAAKuC,EAAMvC,EAAI,GAAKwC,EAAMxC,EAAI,GACxC0C,EAAM1C,EAAI,GAAK2C,EAAM3C,EAAI,GAAK4C,EAAM5C,EAAI,GAc5C,OAZApB,EAAI,GAAMsC,EAAMgB,EAAMf,EAAMmB,EAAMlB,EAAMsB,EACxC9D,EAAI,GAAMsC,EAAMiB,EAAMhB,EAAMoB,EAAMnB,EAAMuB,EACxC/D,EAAI,GAAMsC,EAAMkB,EAAMjB,EAAMqB,EAAMpB,EAAMwB,EAExChE,EAAI,GAAM0C,EAAMY,EAAMX,EAAMe,EAAMd,EAAMkB,EACxC9D,EAAI,GAAM0C,EAAMa,EAAMZ,EAAMgB,EAAMf,EAAMmB,EACxC/D,EAAI,GAAM0C,EAAMc,EAAMb,EAAMiB,EAAMhB,EAAMoB,EAExChE,EAAI,GAAM8C,EAAMQ,EAAMP,EAAMW,EAAMV,EAAMc,EACxC9D,EAAI,GAAM8C,EAAMS,EAAMR,EAAMY,EAAMX,EAAMe,EACxC/D,EAAI,GAAM8C,EAAMU,EAAMT,EAAMa,EAAMZ,EAAMgB,EAEjCxgB,MAIX+E,eAAgB,SAAWhK,GAEvB,IAAIyhB,EAAKxc,KAAK6X,SAMd,OAJA2E,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EACvCyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EACvCyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAAGyhB,EAAI,IAAOzhB,EAEhCiF,MAIXmhB,YAAa,WAET,IAAI3E,EAAKxc,KAAK6X,SAEVoB,EAAIuD,EAAI,GAAKtD,EAAIsD,EAAI,GAAKnjB,EAAImjB,EAAI,GAClCljB,EAAIkjB,EAAI,GAAKzd,EAAIyd,EAAI,GAAKgB,EAAIhB,EAAI,GAClC2O,EAAI3O,EAAI,GAAK+H,EAAI/H,EAAI,GAAKxjB,EAAIwjB,EAAI,GAEtC,OAAOvD,EAAIla,EAAI/F,EAAIigB,EAAIuE,EAAI+G,EAAIrL,EAAI5f,EAAIN,EAAIkgB,EAAIsE,EAAI2N,EAAI9xB,EAAIC,EAAIirB,EAAIlrB,EAAI0F,EAAIosB,GAI/E5J,WAAY,SAAWhZ,EAAQiZ,GAEtBjZ,GAAUA,EAAOgT,WAElBzS,QAAQgP,MAAO,oEAInB,IAAI4E,EAAKnU,EAAOsP,SACZ2E,EAAKxc,KAAK6X,SAEV2D,EAAMkB,EAAI,GAAKd,EAAMc,EAAI,GAAKV,EAAMU,EAAI,GACxCjB,EAAMiB,EAAI,GAAKb,EAAMa,EAAI,GAAKT,EAAMS,EAAI,GACxChB,EAAMgB,EAAI,GAAKZ,EAAMY,EAAI,GAAKR,EAAMQ,EAAI,GAExC+E,EAAMvF,EAAML,EAAMI,EAAMH,EACxB4F,EAAMzF,EAAMP,EAAMQ,EAAMT,EACxBkG,EAAM7F,EAAML,EAAMI,EAAMH,EAExBmG,EAAMrG,EAAMiG,EAAM7F,EAAM8F,EAAM1F,EAAM2F,EAExC,GAAa,IAARE,EAAY,CAEb,IAAIC,EAAM,qEAEV,IAA2B,IAAtBN,EAED,MAAM,IAAI3I,MAAOiJ,GAQrB,OAJIhZ,QAAQC,KAAM+Y,GAIX9hB,KAAKyc,WAIhB,IAAIsF,EAAS,EAAIF,EAcjB,OAZArF,EAAI,GAAMiF,EAAMM,EAChBvF,EAAI,IAAQR,EAAMF,EAAMI,EAAMN,GAAQmG,EACtCvF,EAAI,IAAQP,EAAML,EAAMI,EAAMH,GAAQkG,EAEtCvF,EAAI,GAAMkF,EAAMK,EAChBvF,EAAI,IAAQN,EAAMV,EAAMQ,EAAMN,GAAQqG,EACtCvF,EAAI,IAAQR,EAAMP,EAAMQ,EAAMT,GAAQuG,EAEtCvF,EAAI,GAAMmF,EAAMI,EAChBvF,EAAI,IAAQZ,EAAMF,EAAMI,EAAMN,GAAQuG,EACtCvF,EAAI,IAAQX,EAAML,EAAMI,EAAMH,GAAQsG,EAE/B/hB,MAIXohB,UAAW,WAEP,IAAIC,EAAKjoB,EAAI4G,KAAK6X,SAMlB,OAJAwJ,EAAMjoB,EAAG,GAAKA,EAAG,GAAMA,EAAG,GAAKA,EAAG,GAAMioB,EACxCA,EAAMjoB,EAAG,GAAKA,EAAG,GAAMA,EAAG,GAAKA,EAAG,GAAMioB,EACxCA,EAAMjoB,EAAG,GAAKA,EAAG,GAAMA,EAAG,GAAKA,EAAG,GAAMioB,EAEjCrhB,MAIXorB,gBAAiB,SAAWC,GAExB,OAAOrrB,KAAKkrB,eAAgBG,GAAU9J,WAAYvhB,MAAOohB,aAI7DkK,mBAAoB,SAAWxxB,GAE3B,IAAIV,EAAI4G,KAAK6X,SAYb,OAVA/d,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GACZU,EAAG,GAAMV,EAAG,GAEL4G,MAIXurB,eAAgB,SAAW7I,EAAIC,EAAIe,EAAIC,EAAI6H,EAAUC,EAAIC,GAErD,IAAIryB,EAAIiE,KAAK+d,IAAKmQ,GACdzwB,EAAIuC,KAAKge,IAAKkQ,GAElBxrB,KAAKlD,IACD4mB,EAAKrqB,EAAGqqB,EAAK3oB,GAAK2oB,GAAOrqB,EAAIoyB,EAAK1wB,EAAI2wB,GAAOD,EAAK/I,GAChDiB,EAAK5oB,EAAG4oB,EAAKtqB,GAAKsqB,IAAS5oB,EAAI0wB,EAAKpyB,EAAIqyB,GAAOA,EAAK/I,EACtD,EAAG,EAAG,IAKdzjB,MAAO,SAAWwkB,EAAIC,GAElB,IAAInH,EAAKxc,KAAK6X,SAKd,OAHA2E,EAAI,IAAOkH,EAAIlH,EAAI,IAAOkH,EAAIlH,EAAI,IAAOkH,EACzClH,EAAI,IAAOmH,EAAInH,EAAI,IAAOmH,EAAInH,EAAI,IAAOmH,EAElC3jB,MAIX2rB,OAAQ,SAAW3oB,GAEf,IAAI3J,EAAIiE,KAAK+d,IAAKrY,GACdjI,EAAIuC,KAAKge,IAAKtY,GAEdwZ,EAAKxc,KAAK6X,SAEViH,EAAMtC,EAAI,GAAKuC,EAAMvC,EAAI,GAAKwC,EAAMxC,EAAI,GACxC0C,EAAM1C,EAAI,GAAK2C,EAAM3C,EAAI,GAAK4C,EAAM5C,EAAI,GAU5C,OARAA,EAAI,GAAMnjB,EAAIylB,EAAM/jB,EAAImkB,EACxB1C,EAAI,GAAMnjB,EAAI0lB,EAAMhkB,EAAIokB,EACxB3C,EAAI,GAAMnjB,EAAI2lB,EAAMjkB,EAAIqkB,EAExB5C,EAAI,IAAQzhB,EAAI+jB,EAAMzlB,EAAI6lB,EAC1B1C,EAAI,IAAQzhB,EAAIgkB,EAAM1lB,EAAI8lB,EAC1B3C,EAAI,IAAQzhB,EAAIikB,EAAM3lB,EAAI+lB,EAEnBpf,MAIX4rB,UAAW,SAAWlJ,EAAIC,GAEtB,IAAInG,EAAKxc,KAAK6X,SAKd,OAHA2E,EAAI,IAAOkG,EAAKlG,EAAI,GAAKA,EAAI,IAAOkG,EAAKlG,EAAI,GAAKA,EAAI,IAAOkG,EAAKlG,EAAI,GACtEA,EAAI,IAAOmG,EAAKnG,EAAI,GAAKA,EAAI,IAAOmG,EAAKnG,EAAI,GAAKA,EAAI,IAAOmG,EAAKnG,EAAI,GAE/Dxc,MAIX6a,OAAQ,SAAWtS,GAKf,IAHA,IAAIiU,EAAKxc,KAAK6X,SACV6E,EAAKnU,EAAOsP,SAEN7e,EAAI,EAAGA,EAAI,EAAGA,IAEpB,GAAKwjB,EAAIxjB,KAAQ0jB,EAAI1jB,GAAM,OAAO,EAItC,OAAO,GAIX8hB,UAAW,SAAWtN,EAAO9J,QAET/C,IAAX+C,IAAuBA,EAAS,GAErC,IAAM,IAAI1K,EAAI,EAAGA,EAAI,EAAGA,IAEpBgH,KAAK6X,SAAU7e,GAAMwU,EAAOxU,EAAI0K,GAIpC,OAAO1D,MAIX+a,QAAS,SAAWvN,EAAO9J,QAER/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC,IAAI8Y,EAAKxc,KAAK6X,SAcd,OAZArK,EAAO9J,GAAW8Y,EAAI,GACtBhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAE1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAE1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAC1BhP,EAAO9J,EAAS,GAAM8Y,EAAI,GAEnBhP,KAYf,IAAIqe,IAEAC,WAAY,SAAWC,GAEnB,IAAIC,EAEJ,GAAKD,aAAiBE,kBAElBD,EAASD,MAEN,EAEHC,EAASnwB,SAASqwB,gBAAiB,+BAAgC,WAC5D7T,MAAQ0T,EAAM1T,MACrB2T,EAAO1T,OAASyT,EAAMzT,OAEtB,IAAI6T,EAAUH,EAAOI,WAAY,MAE5BL,aAAiBM,UAElBF,EAAQG,aAAcP,EAAO,EAAG,GAIhCI,EAAQI,UAAWR,EAAO,EAAG,EAAGA,EAAM1T,MAAO0T,EAAMzT,QAM3D,OAAK0T,EAAO3T,MAAQ,MAAQ2T,EAAO1T,OAAS,KAEjC0T,EAAOQ,UAAW,aAAc,IAIhCR,EAAOQ,UAAW,eAcjCC,GAAY,EAEhB,SAASC,GAASX,EAAOY,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,EAAYC,GAE5FxzB,OAAOC,eAAgBqG,KAAM,MAAQ/F,MAAOwyB,OAE5CzsB,KAAKH,KAAO2V,GAAMG,eAElB3V,KAAKzG,KAAO,GAEZyG,KAAK+rB,WAAkBprB,IAAVorB,EAAsBA,EAAQW,GAAQS,cACnDntB,KAAKotB,WAELptB,KAAK2sB,aAAsBhsB,IAAZgsB,EAAwBA,EAAUD,GAAQW,gBAEzDrtB,KAAK4sB,WAAkBjsB,IAAVisB,EAAsBA,EAAQxb,GAC3CpR,KAAK6sB,WAAkBlsB,IAAVksB,EAAsBA,EAAQzb,GAE3CpR,KAAK8sB,eAA0BnsB,IAAdmsB,EAA0BA,EAAYrb,GACvDzR,KAAK+sB,eAA0BpsB,IAAdosB,EAA0BA,EAAYpb,GAEvD3R,KAAKitB,gBAA4BtsB,IAAfssB,EAA2BA,EAAa,EAE1DjtB,KAAKgtB,YAAoBrsB,IAAXqsB,EAAuBA,EAASta,GAC9C1S,KAAKgG,UAAgBrF,IAATqF,EAAqBA,EAAO4L,GAExC5R,KAAK0D,OAAS,IAAIgD,GAAS,EAAG,GAC9B1G,KAAKstB,OAAS,IAAI5mB,GAAS,EAAG,GAC9B1G,KAAKiL,OAAS,IAAIvE,GAAS,EAAG,GAC9B1G,KAAKwrB,SAAW,EAEhBxrB,KAAKR,kBAAmB,EACxBQ,KAAKuI,OAAS,IAAI6P,GAElBpY,KAAKutB,iBAAkB,EACvBvtB,KAAKwtB,kBAAmB,EACxBxtB,KAAKytB,OAAQ,EACbztB,KAAK0tB,gBAAkB,EAMvB1tB,KAAKktB,cAAwBvsB,IAAbusB,EAAyBA,EAAWrY,GAEpD7U,KAAK2tB,QAAU,EACf3tB,KAAK4tB,SAAW,KAuQpB,SAASC,GAASzuB,EAAGC,EAAGC,EAAGyY,GAEvB/X,KAAKZ,EAAIA,GAAK,EACdY,KAAKX,EAAIA,GAAK,EACdW,KAAKV,EAAIA,GAAK,EACdU,KAAK+X,OAAYpX,IAANoX,EAAoBA,EAAI,EAinBvC,SAAS+V,GAAmBzV,EAAOC,EAAQyV,GAEvC/tB,KAAKqY,MAAQA,EACbrY,KAAKsY,OAASA,EAEdtY,KAAKguB,QAAU,IAAIH,GAAS,EAAG,EAAGxV,EAAOC,GACzCtY,KAAKiuB,aAAc,EAEnBjuB,KAAKkuB,SAAW,IAAIL,GAAS,EAAG,EAAGxV,EAAOC,QAIf3X,KAF3BotB,EAAUA,OAEGhB,YAA0BgB,EAAQhB,UAAYtb,IAE3DzR,KAAKmuB,QAAU,IAAIzB,QAAS/rB,OAAWA,EAAWotB,EAAQnB,MAAOmB,EAAQlB,MAAOkB,EAAQjB,UAAWiB,EAAQhB,UAAWgB,EAAQf,OAAQe,EAAQ/nB,KAAM+nB,EAAQd,WAAYc,EAAQb,UAEhLltB,KAAKmuB,QAAQZ,qBAA8C5sB,IAA5BotB,EAAQR,iBAAgCQ,EAAQR,gBAE/EvtB,KAAKouB,iBAAsCztB,IAAxBotB,EAAQK,aAA4BL,EAAQK,YAC/DpuB,KAAKquB,mBAA0C1tB,IAA1BotB,EAAQM,eAA8BN,EAAQM,cACnEruB,KAAKsuB,kBAAwC3tB,IAAzBotB,EAAQO,aAA6BP,EAAQO,aAAe,KA6DpF,SAASC,GAAuBlW,EAAOC,EAAQyV,GAE3CD,GAAkB30B,KAAM6G,KAAMqY,EAAOC,EAAQyV,GAE7C/tB,KAAKwuB,eAAiB,EACtBxuB,KAAKyuB,kBAAoB,EAa7B,SAASC,GAAaC,EAAMtW,EAAOC,EAAQ0U,EAAQhnB,EAAM2mB,EAASC,EAAOC,EAAOC,EAAWC,EAAWE,EAAYC,GAE9GR,GAAQvzB,KAAM6G,KAAM,KAAM2sB,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,EAAYC,GAEjGltB,KAAK+rB,OAAU4C,KAAMA,EAAMtW,MAAOA,EAAOC,OAAQA,GAEjDtY,KAAK8sB,eAA0BnsB,IAAdmsB,EAA0BA,EAAYxb,GACvDtR,KAAK+sB,eAA0BpsB,IAAdosB,EAA0BA,EAAYzb,GAEvDtR,KAAKutB,iBAAkB,EACvBvtB,KAAKytB,OAAQ,EACbztB,KAAK0tB,gBAAkB,EAc3B,SAASkB,GAAMnqB,EAAKD,GAEhBxE,KAAKyE,SAAgB9D,IAAR8D,EAAsBA,EAAM,IAAI3D,GAAWC,EAAAA,EAAYA,EAAAA,EAAYA,EAAAA,GAChFf,KAAKwE,SAAgB7D,IAAR6D,EAAsBA,EAAM,IAAI1D,IAAWC,EAAAA,GAAYA,EAAAA,GAAYA,EAAAA,GAgmBpF,SAAS8tB,GAAQ5jB,EAAQtG,GAErB3E,KAAKiL,YAAsBtK,IAAXsK,EAAyBA,EAAS,IAAInK,GACtDd,KAAK2E,YAAsBhE,IAAXgE,EAAyBA,EAAS,EA2KtD,SAASmqB,GAAOrE,EAAQsE,GAIpB/uB,KAAKyqB,YAAsB9pB,IAAX8pB,EAAyBA,EAAS,IAAI3pB,GAAS,EAAG,EAAG,GACrEd,KAAK+uB,cAA0BpuB,IAAbouB,EAA2BA,EAAW,EA6O5D,SAASC,GAASC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAElCtvB,KAAKuvB,aAEQ5uB,IAAPsuB,EAAqBA,EAAK,IAAIH,QACvBnuB,IAAPuuB,EAAqBA,EAAK,IAAIJ,QACvBnuB,IAAPwuB,EAAqBA,EAAK,IAAIL,QACvBnuB,IAAPyuB,EAAqBA,EAAK,IAAIN,QACvBnuB,IAAP0uB,EAAqBA,EAAK,IAAIP,QACvBnuB,IAAP2uB,EAAqBA,EAAK,IAAIR,IAjgExCpC,GAAQS,mBAAgBxsB,EACxB+rB,GAAQW,gBA/7GQ,IAi8GhBX,GAAQ9xB,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAE9DmQ,YAAa2hB,GAEb8C,WAAW,EAEXjwB,aAAc,WAEVS,KAAKuI,OAAOgjB,eAAgBvrB,KAAK0D,OAAOtE,EAAGY,KAAK0D,OAAOrE,EAAGW,KAAKstB,OAAOluB,EAAGY,KAAKstB,OAAOjuB,EAAGW,KAAKwrB,SAAUxrB,KAAKiL,OAAO7L,EAAGY,KAAKiL,OAAO5L,IAItImD,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW2J,GAkCb,OAhCA9M,KAAKzG,KAAOuT,EAAOvT,KAEnByG,KAAK+rB,MAAQjf,EAAOif,MACpB/rB,KAAKotB,QAAUtgB,EAAOsgB,QAAQ3f,MAAO,GAErCzN,KAAK2sB,QAAU7f,EAAO6f,QAEtB3sB,KAAK4sB,MAAQ9f,EAAO8f,MACpB5sB,KAAK6sB,MAAQ/f,EAAO+f,MAEpB7sB,KAAK8sB,UAAYhgB,EAAOggB,UACxB9sB,KAAK+sB,UAAYjgB,EAAOigB,UAExB/sB,KAAKitB,WAAangB,EAAOmgB,WAEzBjtB,KAAKgtB,OAASlgB,EAAOkgB,OACrBhtB,KAAKgG,KAAO8G,EAAO9G,KAEnBhG,KAAK0D,OAAOP,KAAM2J,EAAOpJ,QACzB1D,KAAKstB,OAAOnqB,KAAM2J,EAAOwgB,QACzBttB,KAAKiL,OAAO9H,KAAM2J,EAAO7B,QACzBjL,KAAKwrB,SAAW1e,EAAO0e,SAEvBxrB,KAAKR,iBAAmBsN,EAAOtN,iBAC/BQ,KAAKuI,OAAOpF,KAAM2J,EAAOvE,QAEzBvI,KAAKutB,gBAAkBzgB,EAAOygB,gBAC9BvtB,KAAKwtB,iBAAmB1gB,EAAO0gB,iBAC/BxtB,KAAKytB,MAAQ3gB,EAAO2gB,MACpBztB,KAAK0tB,gBAAkB5gB,EAAO4gB,gBAC9B1tB,KAAKktB,SAAWpgB,EAAOogB,SAEhBltB,MAIXyvB,OAAQ,SAAWC,GAEf,IAAIC,OAA0BhvB,IAAT+uB,GAAsC,iBAATA,EAElD,IAAOC,QAA+ChvB,IAA/B+uB,EAAKE,SAAU5vB,KAAKH,MAEvC,OAAO6vB,EAAKE,SAAU5vB,KAAKH,MAI/B,IAAI8M,GAEAkjB,UACIlC,QAAS,IACT3nB,KAAM,UACN8pB,UAAW,kBAGfjwB,KAAMG,KAAKH,KACXtG,KAAMyG,KAAKzG,KAEXozB,QAAS3sB,KAAK2sB,QAEdW,QAAUttB,KAAKstB,OAAOluB,EAAGY,KAAKstB,OAAOjuB,GACrCqE,QAAU1D,KAAK0D,OAAOtE,EAAGY,KAAK0D,OAAOrE,GACrC4L,QAAUjL,KAAKiL,OAAO7L,EAAGY,KAAKiL,OAAO5L,GACrCmsB,SAAUxrB,KAAKwrB,SAEfuE,MAAQ/vB,KAAK4sB,MAAO5sB,KAAK6sB,OAEzBG,OAAQhtB,KAAKgtB,OACbD,UAAW/sB,KAAK+sB,UAChBD,UAAW9sB,KAAK8sB,UAChBG,WAAYjtB,KAAKitB,WAEjBQ,MAAOztB,KAAKytB,OAIhB,QAAoB9sB,IAAfX,KAAK+rB,MAAsB,CAI5B,IAAIA,EAAQ/rB,KAAK+rB,MAQjB,QANoBprB,IAAforB,EAAMlsB,OAEPksB,EAAMlsB,KAAO2V,GAAMG,iBAIhBga,QAA8ChvB,IAA9B+uB,EAAKM,OAAQjE,EAAMlsB,MAAuB,CAE7D,IAAIowB,EAEJ,GAAKC,MAAMC,QAASpE,GAAU,CAI1BkE,KAEA,IAAM,IAAIj3B,EAAI,EAAGC,EAAI8yB,EAAMhsB,OAAQ/G,EAAIC,EAAGD,IAEtCi3B,EAAI7iB,KAAMye,GAAWC,WAAYC,EAAO/yB,UAQ5Ci3B,EAAMpE,GAAWC,WAAYC,GAIjC2D,EAAKM,OAAQjE,EAAMlsB,OACfA,KAAMksB,EAAMlsB,KACZowB,IAAKA,GAKbtjB,EAAOof,MAAQA,EAAMlsB,KAUzB,OANO8vB,IAEHD,EAAKE,SAAU5vB,KAAKH,MAAS8M,GAI1BA,GAIXtH,QAAS,WAELrF,KAAKqD,eAAiB2C,KAAM,aAIhCoqB,YAAa,SAAWC,GAEpB,GAjmHQ,MAimHHrwB,KAAK2sB,QAAwB,OAAO0D,EAIzC,GAFAA,EAAG7W,aAAcxZ,KAAKuI,QAEjB8nB,EAAGjxB,EAAI,GAAKixB,EAAGjxB,EAAI,EAEpB,OAASY,KAAK4sB,OAEV,KAAKzb,GAEDkf,EAAGjxB,EAAIixB,EAAGjxB,EAAI9B,KAAK8O,MAAOikB,EAAGjxB,GAC7B,MAEJ,KAAKgS,GAEDif,EAAGjxB,EAAIixB,EAAGjxB,EAAI,EAAI,EAAI,EACtB,MAEJ,KAAKiS,GAE2C,IAAvC/T,KAAK6c,IAAK7c,KAAK8O,MAAOikB,EAAGjxB,GAAM,GAEhCixB,EAAGjxB,EAAI9B,KAAKka,KAAM6Y,EAAGjxB,GAAMixB,EAAGjxB,EAI9BixB,EAAGjxB,EAAIixB,EAAGjxB,EAAI9B,KAAK8O,MAAOikB,EAAGjxB,GAS7C,GAAKixB,EAAGhxB,EAAI,GAAKgxB,EAAGhxB,EAAI,EAEpB,OAASW,KAAK6sB,OAEV,KAAK1b,GAEDkf,EAAGhxB,EAAIgxB,EAAGhxB,EAAI/B,KAAK8O,MAAOikB,EAAGhxB,GAC7B,MAEJ,KAAK+R,GAEDif,EAAGhxB,EAAIgxB,EAAGhxB,EAAI,EAAI,EAAI,EACtB,MAEJ,KAAKgS,GAE2C,IAAvC/T,KAAK6c,IAAK7c,KAAK8O,MAAOikB,EAAGhxB,GAAM,GAEhCgxB,EAAGhxB,EAAI/B,KAAKka,KAAM6Y,EAAGhxB,GAAMgxB,EAAGhxB,EAI9BgxB,EAAGhxB,EAAIgxB,EAAGhxB,EAAI/B,KAAK8O,MAAOikB,EAAGhxB,GAe7C,OANKW,KAAKytB,QAEN4C,EAAGhxB,EAAI,EAAIgxB,EAAGhxB,GAIXgxB,KAMf32B,OAAOC,eAAgB+yB,GAAQ9xB,UAAW,eAEtCkC,IAAK,SAAW7C,IAEG,IAAVA,GAAiB+F,KAAK2tB,aAuBnCj0B,OAAO+S,OAAQohB,GAAQjzB,WAEnB01B,WAAW,EAEXxzB,IAAK,SAAWsC,EAAGC,EAAGC,EAAGyY,GAOrB,OALA/X,KAAKZ,EAAIA,EACTY,KAAKX,EAAIA,EACTW,KAAKV,EAAIA,EACTU,KAAK+X,EAAIA,EAEF/X,MAIXwY,UAAW,SAAWC,GAOlB,OALAzY,KAAKZ,EAAIqZ,EACTzY,KAAKX,EAAIoZ,EACTzY,KAAKV,EAAImZ,EACTzY,KAAK+X,EAAIU,EAEFzY,MAIX0Y,KAAM,SAAWtZ,GAIb,OAFAY,KAAKZ,EAAIA,EAEFY,MAIX2Y,KAAM,SAAWtZ,GAIb,OAFAW,KAAKX,EAAIA,EAEFW,MAIX6oB,KAAM,SAAWvpB,GAIb,OAFAU,KAAKV,EAAIA,EAEFU,MAIXuwB,KAAM,SAAWxY,GAIb,OAFA/X,KAAK+X,EAAIA,EAEF/X,MAIX4Y,aAAc,SAAWhM,EAAO3S,GAE5B,OAAS2S,GAEL,KAAK,EAAG5M,KAAKZ,EAAInF,EAAO,MACxB,KAAK,EAAG+F,KAAKX,EAAIpF,EAAO,MACxB,KAAK,EAAG+F,KAAKV,EAAIrF,EAAO,MACxB,KAAK,EAAG+F,KAAK+X,EAAI9d,EAAO,MACxB,QAAS,MAAM,IAAI4e,MAAO,0BAA4BjM,GAI1D,OAAO5M,MAIX8Y,aAAc,SAAWlM,GAErB,OAASA,GAEL,KAAK,EAAG,OAAO5M,KAAKZ,EACpB,KAAK,EAAG,OAAOY,KAAKX,EACpB,KAAK,EAAG,OAAOW,KAAKV,EACpB,KAAK,EAAG,OAAOU,KAAK+X,EACpB,QAAS,MAAM,IAAIc,MAAO,0BAA4BjM,KAM9DpK,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKZ,EAAGY,KAAKX,EAAGW,KAAKV,EAAGU,KAAK+X,IAI9D5U,KAAM,SAAWqE,GAOb,OALAxH,KAAKZ,EAAIoI,EAAEpI,EACXY,KAAKX,EAAImI,EAAEnI,EACXW,KAAKV,EAAIkI,EAAElI,EACXU,KAAK+X,OAAcpX,IAAR6G,EAAEuQ,EAAoBvQ,EAAEuQ,EAAI,EAEhC/X,MAIXP,IAAK,SAAW+H,EAAGuQ,GAEf,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,yFACP/I,KAAK+Y,WAAYvR,EAAGuQ,KAI/B/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EACZW,KAAKV,GAAKkI,EAAElI,EACZU,KAAK+X,GAAKvQ,EAAEuQ,EAEL/X,OAIXgZ,UAAW,SAAWje,GAOlB,OALAiF,KAAKZ,GAAKrE,EACViF,KAAKX,GAAKtE,EACViF,KAAKV,GAAKvE,EACViF,KAAK+X,GAAKhd,EAEHiF,MAIX+Y,WAAY,SAAWE,EAAGC,GAOtB,OALAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EACjBW,KAAKV,EAAI2Z,EAAE3Z,EAAI4Z,EAAE5Z,EACjBU,KAAK+X,EAAIkB,EAAElB,EAAImB,EAAEnB,EAEV/X,MAIXmZ,gBAAiB,SAAW3R,EAAGzM,GAO3B,OALAiF,KAAKZ,GAAKoI,EAAEpI,EAAIrE,EAChBiF,KAAKX,GAAKmI,EAAEnI,EAAItE,EAChBiF,KAAKV,GAAKkI,EAAElI,EAAIvE,EAChBiF,KAAK+X,GAAKvQ,EAAEuQ,EAAIhd,EAETiF,MAIXmE,IAAK,SAAWqD,EAAGuQ,GAEf,YAAWpX,IAANoX,GAEDjP,QAAQC,KAAM,yFACP/I,KAAK4J,WAAYpC,EAAGuQ,KAI/B/X,KAAKZ,GAAKoI,EAAEpI,EACZY,KAAKX,GAAKmI,EAAEnI,EACZW,KAAKV,GAAKkI,EAAElI,EACZU,KAAK+X,GAAKvQ,EAAEuQ,EAEL/X,OAIXoZ,UAAW,SAAWre,GAOlB,OALAiF,KAAKZ,GAAKrE,EACViF,KAAKX,GAAKtE,EACViF,KAAKV,GAAKvE,EACViF,KAAK+X,GAAKhd,EAEHiF,MAIX4J,WAAY,SAAWqP,EAAGC,GAOtB,OALAlZ,KAAKZ,EAAI6Z,EAAE7Z,EAAI8Z,EAAE9Z,EACjBY,KAAKX,EAAI4Z,EAAE5Z,EAAI6Z,EAAE7Z,EACjBW,KAAKV,EAAI2Z,EAAE3Z,EAAI4Z,EAAE5Z,EACjBU,KAAK+X,EAAIkB,EAAElB,EAAImB,EAAEnB,EAEV/X,MAIX+E,eAAgB,SAAW0T,GAOvB,OALAzY,KAAKZ,GAAKqZ,EACVzY,KAAKX,GAAKoZ,EACVzY,KAAKV,GAAKmZ,EACVzY,KAAK+X,GAAKU,EAEHzY,MAIXihB,aAAc,SAAW7nB,GAErB,IAAIgG,EAAIY,KAAKZ,EAAGC,EAAIW,KAAKX,EAAGC,EAAIU,KAAKV,EAAGyY,EAAI/X,KAAK+X,EAC7ChZ,EAAI3F,EAAEye,SAOV,OALA7X,KAAKZ,EAAIL,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAAIP,EAAG,IAAOgZ,EAC1D/X,KAAKX,EAAIN,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,GAAMO,EAAIP,EAAG,IAAOgZ,EAC1D/X,KAAKV,EAAIP,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,IAAOO,EAAIP,EAAG,IAAOgZ,EAC3D/X,KAAK+X,EAAIhZ,EAAG,GAAMK,EAAIL,EAAG,GAAMM,EAAIN,EAAG,IAAOO,EAAIP,EAAG,IAAOgZ,EAEpD/X,MAIXuZ,aAAc,SAAWd,GAErB,OAAOzY,KAAK+E,eAAgB,EAAI0T,IAIpC+X,2BAA4B,SAAW/R,GAMnCze,KAAK+X,EAAI,EAAIza,KAAKiqB,KAAM9I,EAAE1G,GAE1B,IAAIhd,EAAIuC,KAAKoN,KAAM,EAAI+T,EAAE1G,EAAI0G,EAAE1G,GAgB/B,OAdKhd,EAAI,MAELiF,KAAKZ,EAAI,EACTY,KAAKX,EAAI,EACTW,KAAKV,EAAI,IAITU,KAAKZ,EAAIqf,EAAErf,EAAIrE,EACfiF,KAAKX,EAAIof,EAAEpf,EAAItE,EACfiF,KAAKV,EAAImf,EAAEnf,EAAIvE,GAIZiF,MAIXywB,+BAAgC,SAAWr3B,GAMvC,IAAIiO,EAAOjI,EAAGC,EAAGC,EAIbkd,EAAKpjB,EAAEye,SAEP6O,EAAMlK,EAAI,GAAKmK,EAAMnK,EAAI,GAAKoK,EAAMpK,EAAI,GACxCqK,EAAMrK,EAAI,GAAKsK,EAAMtK,EAAI,GAAKuK,EAAMvK,EAAI,GACxCwK,EAAMxK,EAAI,GAAKyK,EAAMzK,EAAI,GAAK0K,EAAM1K,EAAI,IAE5C,GAAOlf,KAAK6c,IAAKwM,EAAME,GATT,KAURvpB,KAAK6c,IAAKyM,EAAMI,GAVR,KAWR1pB,KAAK6c,IAAK4M,EAAME,GAXR,IAW4B,CAMtC,GAAO3pB,KAAK6c,IAAKwM,EAAME,GAhBZ,IAiBLvpB,KAAK6c,IAAKyM,EAAMI,GAjBX,IAkBL1pB,KAAK6c,IAAK4M,EAAME,GAlBX,IAmBL3pB,KAAK6c,IAAKuM,EAAMI,EAAMI,EAAM,GAnBvB,GAyBP,OAFAlnB,KAAKlD,IAAK,EAAG,EAAG,EAAG,GAEZkD,KAMXqH,EAAQ/J,KAAKC,GAEb,IAAI0lB,GAAOyD,EAAM,GAAM,EACnBtD,GAAO0D,EAAM,GAAM,EACnBxD,GAAO4D,EAAM,GAAM,EACnBhE,GAAOyD,EAAME,GAAQ,EACrB1D,GAAOyD,EAAMI,GAAQ,EACrB3D,GAAO0D,EAAME,GAAQ,EA4DzB,OA1DOhE,EAAKG,GAAUH,EAAKK,EAIlBL,EA7CC,KA+CF7jB,EAAI,EACJC,EAAI,WACJC,EAAI,aAKJD,EAAI6jB,GADJ9jB,EAAI9B,KAAKoN,KAAMuY,IAEf3jB,EAAI6jB,EAAK/jB,GAILgkB,EAAKE,EAIRF,EA/DC,KAiEFhkB,EAAI,WACJC,EAAI,EACJC,EAAI,aAKJF,EAAI8jB,GADJ7jB,EAAI/B,KAAKoN,KAAM0Y,IAEf9jB,EAAI+jB,EAAKhkB,GAQRikB,EAjFC,KAmFFlkB,EAAI,WACJC,EAAI,WACJC,EAAI,IAKJF,EAAI+jB,GADJ7jB,EAAIhC,KAAKoN,KAAM4Y,IAEfjkB,EAAIgkB,EAAK/jB,GAMjBU,KAAKlD,IAAKsC,EAAGC,EAAGC,EAAG+H,GAEZrH,KAMX,IAAIjF,EAAIuC,KAAKoN,MAAQuc,EAAMF,IAAUE,EAAMF,IACrCH,EAAMI,IAAUJ,EAAMI,IACtBH,EAAMF,IAAUE,EAAMF,IAY5B,OAVKrpB,KAAK6c,IAAKpf,GAAM,OAAQA,EAAI,GAKjCiF,KAAKZ,GAAM6nB,EAAMF,GAAQhsB,EACzBiF,KAAKX,GAAMunB,EAAMI,GAAQjsB,EACzBiF,KAAKV,GAAMunB,EAAMF,GAAQ5rB,EACzBiF,KAAK+X,EAAIza,KAAKiqB,MAAQb,EAAMI,EAAMI,EAAM,GAAM,GAEvClnB,MAIXyE,IAAK,SAAW+C,GAOZ,OALAxH,KAAKZ,EAAI9B,KAAKmH,IAAKzE,KAAKZ,EAAGoI,EAAEpI,GAC7BY,KAAKX,EAAI/B,KAAKmH,IAAKzE,KAAKX,EAAGmI,EAAEnI,GAC7BW,KAAKV,EAAIhC,KAAKmH,IAAKzE,KAAKV,EAAGkI,EAAElI,GAC7BU,KAAK+X,EAAIza,KAAKmH,IAAKzE,KAAK+X,EAAGvQ,EAAEuQ,GAEtB/X,MAIXwE,IAAK,SAAWgD,GAOZ,OALAxH,KAAKZ,EAAI9B,KAAKkH,IAAKxE,KAAKZ,EAAGoI,EAAEpI,GAC7BY,KAAKX,EAAI/B,KAAKkH,IAAKxE,KAAKX,EAAGmI,EAAEnI,GAC7BW,KAAKV,EAAIhC,KAAKkH,IAAKxE,KAAKV,EAAGkI,EAAElI,GAC7BU,KAAK+X,EAAIza,KAAKkH,IAAKxE,KAAK+X,EAAGvQ,EAAEuQ,GAEtB/X,MAIXkW,MAAO,SAAWzR,EAAKD,GASnB,OALAxE,KAAKZ,EAAI9B,KAAKkH,IAAKC,EAAIrF,EAAG9B,KAAKmH,IAAKD,EAAIpF,EAAGY,KAAKZ,IAChDY,KAAKX,EAAI/B,KAAKkH,IAAKC,EAAIpF,EAAG/B,KAAKmH,IAAKD,EAAInF,EAAGW,KAAKX,IAChDW,KAAKV,EAAIhC,KAAKkH,IAAKC,EAAInF,EAAGhC,KAAKmH,IAAKD,EAAIlF,EAAGU,KAAKV,IAChDU,KAAK+X,EAAIza,KAAKkH,IAAKC,EAAIsT,EAAGza,KAAKmH,IAAKD,EAAIuT,EAAG/X,KAAK+X,IAEzC/X,MAIXyZ,YAAa,WAET,IAAIhV,EAAKD,EAET,OAAO,SAAsBkV,EAAQC,GAYjC,YAVahZ,IAAR8D,IAEDA,EAAM,IAAIopB,GACVrpB,EAAM,IAAIqpB,IAIdppB,EAAI3H,IAAK4c,EAAQA,EAAQA,EAAQA,GACjClV,EAAI1H,IAAK6c,EAAQA,EAAQA,EAAQA,GAE1B3Z,KAAKkW,MAAOzR,EAAKD,IAhBnB,GAsBboV,YAAa,SAAWnV,EAAKD,GAEzB,IAAIzE,EAASC,KAAKD,SAElB,OAAOC,KAAKuZ,aAAcxZ,GAAU,GAAIgF,eAAgBzH,KAAKkH,IAAKC,EAAKnH,KAAKmH,IAAKD,EAAKzE,MAI1FqM,MAAO,WAOH,OALApM,KAAKZ,EAAI9B,KAAK8O,MAAOpM,KAAKZ,GAC1BY,KAAKX,EAAI/B,KAAK8O,MAAOpM,KAAKX,GAC1BW,KAAKV,EAAIhC,KAAK8O,MAAOpM,KAAKV,GAC1BU,KAAK+X,EAAIza,KAAK8O,MAAOpM,KAAK+X,GAEnB/X,MAIXwX,KAAM,WAOF,OALAxX,KAAKZ,EAAI9B,KAAKka,KAAMxX,KAAKZ,GACzBY,KAAKX,EAAI/B,KAAKka,KAAMxX,KAAKX,GACzBW,KAAKV,EAAIhC,KAAKka,KAAMxX,KAAKV,GACzBU,KAAK+X,EAAIza,KAAKka,KAAMxX,KAAK+X,GAElB/X,MAIX6Z,MAAO,WAOH,OALA7Z,KAAKZ,EAAI9B,KAAKuc,MAAO7Z,KAAKZ,GAC1BY,KAAKX,EAAI/B,KAAKuc,MAAO7Z,KAAKX,GAC1BW,KAAKV,EAAIhC,KAAKuc,MAAO7Z,KAAKV,GAC1BU,KAAK+X,EAAIza,KAAKuc,MAAO7Z,KAAK+X,GAEnB/X,MAIX8Z,YAAa,WAOT,OALA9Z,KAAKZ,EAAMY,KAAKZ,EAAI,EAAM9B,KAAKka,KAAMxX,KAAKZ,GAAM9B,KAAK8O,MAAOpM,KAAKZ,GACjEY,KAAKX,EAAMW,KAAKX,EAAI,EAAM/B,KAAKka,KAAMxX,KAAKX,GAAM/B,KAAK8O,MAAOpM,KAAKX,GACjEW,KAAKV,EAAMU,KAAKV,EAAI,EAAMhC,KAAKka,KAAMxX,KAAKV,GAAMhC,KAAK8O,MAAOpM,KAAKV,GACjEU,KAAK+X,EAAM/X,KAAK+X,EAAI,EAAMza,KAAKka,KAAMxX,KAAK+X,GAAMza,KAAK8O,MAAOpM,KAAK+X,GAE1D/X,MAIX+Z,OAAQ,WAOJ,OALA/Z,KAAKZ,GAAMY,KAAKZ,EAChBY,KAAKX,GAAMW,KAAKX,EAChBW,KAAKV,GAAMU,KAAKV,EAChBU,KAAK+X,GAAM/X,KAAK+X,EAET/X,MAIXmF,IAAK,SAAWqC,GAEZ,OAAOxH,KAAKZ,EAAIoI,EAAEpI,EAAIY,KAAKX,EAAImI,EAAEnI,EAAIW,KAAKV,EAAIkI,EAAElI,EAAIU,KAAK+X,EAAIvQ,EAAEuQ,GAInEkC,SAAU,WAEN,OAAOja,KAAKZ,EAAIY,KAAKZ,EAAIY,KAAKX,EAAIW,KAAKX,EAAIW,KAAKV,EAAIU,KAAKV,EAAIU,KAAK+X,EAAI/X,KAAK+X,GAI/EhY,OAAQ,WAEJ,OAAOzC,KAAKoN,KAAM1K,KAAKZ,EAAIY,KAAKZ,EAAIY,KAAKX,EAAIW,KAAKX,EAAIW,KAAKV,EAAIU,KAAKV,EAAIU,KAAK+X,EAAI/X,KAAK+X,IAI1FmC,gBAAiB,WAEb,OAAO5c,KAAK6c,IAAKna,KAAKZ,GAAM9B,KAAK6c,IAAKna,KAAKX,GAAM/B,KAAK6c,IAAKna,KAAKV,GAAMhC,KAAK6c,IAAKna,KAAK+X,IAIzFqC,UAAW,WAEP,OAAOpa,KAAKuZ,aAAcvZ,KAAKD,UAAY,IAI/Cya,UAAW,SAAWza,GAElB,OAAOC,KAAKoa,YAAYrV,eAAgBhF,IAI5C0W,KAAM,SAAWjP,EAAGiT,GAOhB,OALAza,KAAKZ,IAAOoI,EAAEpI,EAAIY,KAAKZ,GAAMqb,EAC7Bza,KAAKX,IAAOmI,EAAEnI,EAAIW,KAAKX,GAAMob,EAC7Bza,KAAKV,IAAOkI,EAAElI,EAAIU,KAAKV,GAAMmb,EAC7Bza,KAAK+X,IAAOvQ,EAAEuQ,EAAI/X,KAAK+X,GAAM0C,EAEtBza,MAIX0a,YAAa,SAAWC,EAAIC,EAAIH,GAE5B,OAAOza,KAAK4J,WAAYgR,EAAID,GAAK5V,eAAgB0V,GAAQhb,IAAKkb,IAIlEE,OAAQ,SAAWrT,GAEf,OAAWA,EAAEpI,IAAMY,KAAKZ,GAASoI,EAAEnI,IAAMW,KAAKX,GAASmI,EAAElI,IAAMU,KAAKV,GAASkI,EAAEuQ,IAAM/X,KAAK+X,GAI9F+C,UAAW,SAAWtN,EAAO9J,GASzB,YAPgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKZ,EAAIoO,EAAO9J,GAChB1D,KAAKX,EAAImO,EAAO9J,EAAS,GACzB1D,KAAKV,EAAIkO,EAAO9J,EAAS,GACzB1D,KAAK+X,EAAIvK,EAAO9J,EAAS,GAElB1D,MAIX+a,QAAS,SAAWvN,EAAO9J,GAUvB,YARe/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC8J,EAAO9J,GAAW1D,KAAKZ,EACvBoO,EAAO9J,EAAS,GAAM1D,KAAKX,EAC3BmO,EAAO9J,EAAS,GAAM1D,KAAKV,EAC3BkO,EAAO9J,EAAS,GAAM1D,KAAK+X,EAEpBvK,GAIXwN,oBAAqB,SAAWC,EAAWrO,EAAOlJ,GAa9C,YAXgB/C,IAAX+C,GAEDoF,QAAQC,KAAM,uEAIlB/I,KAAKZ,EAAI6b,EAAUC,KAAMtO,GACzB5M,KAAKX,EAAI4b,EAAUE,KAAMvO,GACzB5M,KAAKV,EAAI2b,EAAU+F,KAAMpU,GACzB5M,KAAK+X,EAAIkD,EAAUyV,KAAM9jB,GAElB5M,QAyCf8tB,GAAkBlzB,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAExEmQ,YAAa+iB,GAEb6C,qBAAqB,EAErBj1B,QAAS,SAAW2c,EAAOC,GAElBtY,KAAKqY,QAAUA,GAASrY,KAAKsY,SAAWA,IAEzCtY,KAAKqY,MAAQA,EACbrY,KAAKsY,OAASA,EAEdtY,KAAKqF,WAITrF,KAAKkuB,SAASpxB,IAAK,EAAG,EAAGub,EAAOC,GAChCtY,KAAKguB,QAAQlxB,IAAK,EAAG,EAAGub,EAAOC,IAInC9V,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW2J,GAab,OAXA9M,KAAKqY,MAAQvL,EAAOuL,MACpBrY,KAAKsY,OAASxL,EAAOwL,OAErBtY,KAAKkuB,SAAS/qB,KAAM2J,EAAOohB,UAE3BluB,KAAKmuB,QAAUrhB,EAAOqhB,QAAQ3rB,QAE9BxC,KAAKouB,YAActhB,EAAOshB,YAC1BpuB,KAAKquB,cAAgBvhB,EAAOuhB,cAC5BruB,KAAKsuB,aAAexhB,EAAOwhB,aAEpBtuB,MAIXqF,QAAS,WAELrF,KAAKqD,eAAiB2C,KAAM,eAmBpCuoB,GAAsB3zB,UAAYlB,OAAOY,OAAQwzB,GAAkBlzB,WACnE2zB,GAAsB3zB,UAAUmQ,YAAcwjB,GAE9CA,GAAsB3zB,UAAUg2B,yBAA0B,EAqB1DlC,GAAY9zB,UAAYlB,OAAOY,OAAQoyB,GAAQ9xB,WAC/C8zB,GAAY9zB,UAAUmQ,YAAc2jB,GAEpCA,GAAY9zB,UAAUi2B,eAAgB,EActCn3B,OAAO+S,OAAQmiB,GAAKh0B,WAEhBk2B,QAAQ,EAERh0B,IAAK,SAAW2H,EAAKD,GAKjB,OAHAxE,KAAKyE,IAAItB,KAAMsB,GACfzE,KAAKwE,IAAIrB,KAAMqB,GAERxE,MAIX+wB,aAAc,SAAWvjB,GAUrB,IARA,IAAIwjB,EAASjwB,EAAAA,EACTkwB,EAASlwB,EAAAA,EACTmwB,EAASnwB,EAAAA,EAETowB,GAASpwB,EAAAA,EACTqwB,GAASrwB,EAAAA,EACTswB,GAAStwB,EAAAA,EAEH/H,EAAI,EAAGC,EAAIuU,EAAMzN,OAAQ/G,EAAIC,EAAGD,GAAK,EAAI,CAE/C,IAAIoG,EAAIoO,EAAOxU,GACXqG,EAAImO,EAAOxU,EAAI,GACfsG,EAAIkO,EAAOxU,EAAI,GAEdoG,EAAI4xB,IAAOA,EAAO5xB,GAClBC,EAAI4xB,IAAOA,EAAO5xB,GAClBC,EAAI4xB,IAAOA,EAAO5xB,GAElBF,EAAI+xB,IAAOA,EAAO/xB,GAClBC,EAAI+xB,IAAOA,EAAO/xB,GAClBC,EAAI+xB,IAAOA,EAAO/xB,GAO3B,OAHAU,KAAKyE,IAAI3H,IAAKk0B,EAAMC,EAAMC,GAC1BlxB,KAAKwE,IAAI1H,IAAKq0B,EAAMC,EAAMC,GAEnBrxB,MAIXsxB,uBAAwB,SAAWrW,GAU/B,IARA,IAAI+V,EAASjwB,EAAAA,EACTkwB,EAASlwB,EAAAA,EACTmwB,EAASnwB,EAAAA,EAETowB,GAASpwB,EAAAA,EACTqwB,GAASrwB,EAAAA,EACTswB,GAAStwB,EAAAA,EAEH/H,EAAI,EAAGC,EAAIgiB,EAAU8F,MAAO/nB,EAAIC,EAAGD,IAAO,CAEhD,IAAIoG,EAAI6b,EAAUC,KAAMliB,GACpBqG,EAAI4b,EAAUE,KAAMniB,GACpBsG,EAAI2b,EAAU+F,KAAMhoB,GAEnBoG,EAAI4xB,IAAOA,EAAO5xB,GAClBC,EAAI4xB,IAAOA,EAAO5xB,GAClBC,EAAI4xB,IAAOA,EAAO5xB,GAElBF,EAAI+xB,IAAOA,EAAO/xB,GAClBC,EAAI+xB,IAAOA,EAAO/xB,GAClBC,EAAI+xB,IAAOA,EAAO/xB,GAO3B,OAHAU,KAAKyE,IAAI3H,IAAKk0B,EAAMC,EAAMC,GAC1BlxB,KAAKwE,IAAI1H,IAAKq0B,EAAMC,EAAMC,GAEnBrxB,MAIXuxB,cAAe,SAAWC,GAEtBxxB,KAAKyxB,YAEL,IAAM,IAAIz4B,EAAI,EAAG04B,EAAKF,EAAOzxB,OAAQ/G,EAAI04B,EAAI14B,IAEzCgH,KAAK2xB,cAAeH,EAAQx4B,IAIhC,OAAOgH,MAIX4xB,qBAAsB,WAElB,IAAIjX,EAAK,IAAI7Z,GAEb,OAAO,SAA+BmK,EAAQ4mB,GAE1C,IAAIC,EAAWnX,EAAGxX,KAAM0uB,GAAO9sB,eAAgB,IAK/C,OAHA/E,KAAKyE,IAAItB,KAAM8H,GAAS9G,IAAK2tB,GAC7B9xB,KAAKwE,IAAIrB,KAAM8H,GAASxL,IAAKqyB,GAEtB9xB,MAXO,GAiBtB+xB,cAAe,SAAWr3B,GAItB,OAFAsF,KAAKyxB,YAEEzxB,KAAKgyB,eAAgBt3B,IAIhC8H,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW8uB,GAKb,OAHAjyB,KAAKyE,IAAItB,KAAM8uB,EAAIxtB,KACnBzE,KAAKwE,IAAIrB,KAAM8uB,EAAIztB,KAEZxE,MAIXyxB,UAAW,WAKP,OAHAzxB,KAAKyE,IAAIrF,EAAIY,KAAKyE,IAAIpF,EAAIW,KAAKyE,IAAInF,EAAMyB,EAAAA,EACzCf,KAAKwE,IAAIpF,EAAIY,KAAKwE,IAAInF,EAAIW,KAAKwE,IAAIlF,GAAMyB,EAAAA,EAElCf,MAIXkyB,QAAS,WAIL,OAASlyB,KAAKwE,IAAIpF,EAAIY,KAAKyE,IAAIrF,GAASY,KAAKwE,IAAInF,EAAIW,KAAKyE,IAAIpF,GAASW,KAAKwE,IAAIlF,EAAIU,KAAKyE,IAAInF,GAIjG6yB,UAAW,SAAWtxB,GASlB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,mDACdlI,EAAS,IAAIC,IAIVd,KAAKkyB,UAAYrxB,EAAO/D,IAAK,EAAG,EAAG,GAAM+D,EAAOkY,WAAY/Y,KAAKyE,IAAKzE,KAAKwE,KAAMO,eAAgB,KAI5GqtB,QAAS,SAAWvxB,GAShB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,iDACdlI,EAAS,IAAIC,IAIVd,KAAKkyB,UAAYrxB,EAAO/D,IAAK,EAAG,EAAG,GAAM+D,EAAO+I,WAAY5J,KAAKwE,IAAKxE,KAAKyE,MAItFktB,cAAe,SAAWU,GAKtB,OAHAryB,KAAKyE,IAAIA,IAAK4tB,GACdryB,KAAKwE,IAAIA,IAAK6tB,GAEPryB,MAIXsyB,eAAgB,SAAWxO,GAKvB,OAHA9jB,KAAKyE,IAAIN,IAAK2f,GACd9jB,KAAKwE,IAAI/E,IAAKqkB,GAEP9jB,MAIXuyB,eAAgB,SAAW9Z,GAKvB,OAHAzY,KAAKyE,IAAIuU,WAAaP,GACtBzY,KAAKwE,IAAIwU,UAAWP,GAEbzY,MAIXgyB,eAAgB,WAKZ,IAAI9uB,EAAOlK,EAAGC,EAEV0hB,EAAK,IAAI7Z,GAEb,SAAS0xB,EAAUC,GAEf,IAAIC,EAAWD,EAAKC,SAEpB,QAAkB/xB,IAAb+xB,EAED,GAAKA,EAASC,WAAa,CAEvB,IAAIC,EAAWF,EAASE,SAExB,IAAM55B,EAAI,EAAGC,EAAI25B,EAAS7yB,OAAQ/G,EAAIC,EAAGD,IAErC2hB,EAAGxX,KAAMyvB,EAAU55B,IACnB2hB,EAAGsG,aAAcwR,EAAK5I,aAEtB3mB,EAAMyuB,cAAehX,QAItB,GAAK+X,EAASG,iBAAmB,CAEpC,IAAI5X,EAAYyX,EAASI,WAAWj2B,SAEpC,QAAmB8D,IAAdsa,EAED,IAAMjiB,EAAI,EAAGC,EAAIgiB,EAAU8F,MAAO/nB,EAAIC,EAAGD,IAErC2hB,EAAGK,oBAAqBC,EAAWjiB,GAAIioB,aAAcwR,EAAK5I,aAE1D3mB,EAAMyuB,cAAehX,IAYzC,OAAO,SAAyBjgB,GAQ5B,OANAwI,EAAQlD,KAERtF,EAAOq4B,mBAAmB,GAE1Br4B,EAAO83B,SAAUA,GAEVxyB,MA1DC,GAgEhBgzB,cAAe,SAAWX,GAEtB,QAAOA,EAAMjzB,EAAIY,KAAKyE,IAAIrF,GAAKizB,EAAMjzB,EAAIY,KAAKwE,IAAIpF,GAClDizB,EAAMhzB,EAAIW,KAAKyE,IAAIpF,GAAKgzB,EAAMhzB,EAAIW,KAAKwE,IAAInF,GAC3CgzB,EAAM/yB,EAAIU,KAAKyE,IAAInF,GAAK+yB,EAAM/yB,EAAIU,KAAKwE,IAAIlF,IAI/C2zB,YAAa,SAAWhB,GAEpB,OAAOjyB,KAAKyE,IAAIrF,GAAK6yB,EAAIxtB,IAAIrF,GAAK6yB,EAAIztB,IAAIpF,GAAKY,KAAKwE,IAAIpF,GACpDY,KAAKyE,IAAIpF,GAAK4yB,EAAIxtB,IAAIpF,GAAK4yB,EAAIztB,IAAInF,GAAKW,KAAKwE,IAAInF,GACjDW,KAAKyE,IAAInF,GAAK2yB,EAAIxtB,IAAInF,GAAK2yB,EAAIztB,IAAIlF,GAAKU,KAAKwE,IAAIlF,GAIzD4zB,aAAc,SAAWb,EAAOxxB,GAY5B,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,sDACdlI,EAAS,IAAIC,IAIVD,EAAO/D,KACRu1B,EAAMjzB,EAAIY,KAAKyE,IAAIrF,IAAQY,KAAKwE,IAAIpF,EAAIY,KAAKyE,IAAIrF,IACjDizB,EAAMhzB,EAAIW,KAAKyE,IAAIpF,IAAQW,KAAKwE,IAAInF,EAAIW,KAAKyE,IAAIpF,IACjDgzB,EAAM/yB,EAAIU,KAAKyE,IAAInF,IAAQU,KAAKwE,IAAIlF,EAAIU,KAAKyE,IAAInF,KAK3D6zB,cAAe,SAAWlB,GAGtB,QAAOA,EAAIztB,IAAIpF,EAAIY,KAAKyE,IAAIrF,GAAK6yB,EAAIxtB,IAAIrF,EAAIY,KAAKwE,IAAIpF,GACtD6yB,EAAIztB,IAAInF,EAAIW,KAAKyE,IAAIpF,GAAK4yB,EAAIxtB,IAAIpF,EAAIW,KAAKwE,IAAInF,GAC/C4yB,EAAIztB,IAAIlF,EAAIU,KAAKyE,IAAInF,GAAK2yB,EAAIxtB,IAAInF,EAAIU,KAAKwE,IAAIlF,IAInD8zB,iBAAoB,WAEhB,IAAIC,EAAe,IAAIvyB,GAEvB,OAAO,SAA2BtC,GAM9B,OAHAwB,KAAKszB,WAAY90B,EAAOyM,OAAQooB,GAGzBA,EAAapuB,kBAAmBzG,EAAOyM,SAAczM,EAAOmG,OAASnG,EAAOmG,QAVvE,GAgBpB4uB,gBAAiB,SAAWC,GAKxB,IAAI/uB,EAAKD,EAsCT,OApCKgvB,EAAM/I,OAAOrrB,EAAI,GAElBqF,EAAM+uB,EAAM/I,OAAOrrB,EAAIY,KAAKyE,IAAIrF,EAChCoF,EAAMgvB,EAAM/I,OAAOrrB,EAAIY,KAAKwE,IAAIpF,IAIhCqF,EAAM+uB,EAAM/I,OAAOrrB,EAAIY,KAAKwE,IAAIpF,EAChCoF,EAAMgvB,EAAM/I,OAAOrrB,EAAIY,KAAKyE,IAAIrF,GAI/Bo0B,EAAM/I,OAAOprB,EAAI,GAElBoF,GAAO+uB,EAAM/I,OAAOprB,EAAIW,KAAKyE,IAAIpF,EACjCmF,GAAOgvB,EAAM/I,OAAOprB,EAAIW,KAAKwE,IAAInF,IAIjCoF,GAAO+uB,EAAM/I,OAAOprB,EAAIW,KAAKwE,IAAInF,EACjCmF,GAAOgvB,EAAM/I,OAAOprB,EAAIW,KAAKyE,IAAIpF,GAIhCm0B,EAAM/I,OAAOnrB,EAAI,GAElBmF,GAAO+uB,EAAM/I,OAAOnrB,EAAIU,KAAKyE,IAAInF,EACjCkF,GAAOgvB,EAAM/I,OAAOnrB,EAAIU,KAAKwE,IAAIlF,IAIjCmF,GAAO+uB,EAAM/I,OAAOnrB,EAAIU,KAAKwE,IAAIlF,EACjCkF,GAAOgvB,EAAM/I,OAAOnrB,EAAIU,KAAKyE,IAAInF,GAI5BmF,IAAS+uB,EAAMzE,UAAYvqB,IAASgvB,EAAMzE,UAIvD0E,mBAAsB,WAGlB,IAAIC,EAAK,IAAI5yB,GACT6Z,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GAGT6yB,EAAK,IAAI7yB,GACT8yB,EAAK,IAAI9yB,GACT+yB,EAAK,IAAI/yB,GAETgzB,EAAW,IAAIhzB,GAEfmK,EAAS,IAAInK,GACbizB,EAAU,IAAIjzB,GAEdkzB,EAAiB,IAAIlzB,GAEzB,SAASmzB,EAAYC,GAEjB,IAAIl7B,EAAGm7B,EAEP,IAAMn7B,EAAI,EAAGm7B,EAAID,EAAKn0B,OAAS,EAAG/G,GAAKm7B,EAAGn7B,GAAK,EAAI,CAE/C86B,EAAShZ,UAAWoZ,EAAMl7B,GAE1B,IAAIc,EAAIi6B,EAAQ30B,EAAI9B,KAAK6c,IAAK2Z,EAAS10B,GAAM20B,EAAQ10B,EAAI/B,KAAK6c,IAAK2Z,EAASz0B,GAAM00B,EAAQz0B,EAAIhC,KAAK6c,IAAK2Z,EAASx0B,GAE7G2vB,EAAKyE,EAAGvuB,IAAK2uB,GACb5E,EAAKvU,EAAGxV,IAAK2uB,GACb3E,EAAKvU,EAAGzV,IAAK2uB,GAEjB,GAAKx2B,KAAKkH,KAAOlH,KAAKkH,IAAKyqB,EAAIC,EAAIC,GAAM7xB,KAAKmH,IAAKwqB,EAAIC,EAAIC,IAASr1B,EAIhE,OAAO,EAMf,OAAO,EAIX,OAAO,SAA6Bs6B,GAEhC,GAAKp0B,KAAKkyB,UAEN,OAAO,EAKXlyB,KAAKmyB,UAAWlnB,GAChB8oB,EAAQnqB,WAAY5J,KAAKwE,IAAKyG,GAG9ByoB,EAAG9pB,WAAYwqB,EAASnb,EAAGhO,GAC3B0P,EAAG/Q,WAAYwqB,EAASlb,EAAGjO,GAC3B2P,EAAGhR,WAAYwqB,EAAS/6B,EAAG4R,GAG3B0oB,EAAG/pB,WAAY+Q,EAAI+Y,GACnBE,EAAGhqB,WAAYgR,EAAID,GACnBkZ,EAAGjqB,WAAY8pB,EAAI9Y,GAKnB,IAAIsZ,GACA,GAAKP,EAAGr0B,EAAGq0B,EAAGt0B,EAAG,GAAKu0B,EAAGt0B,EAAGs0B,EAAGv0B,EAAG,GAAKw0B,EAAGv0B,EAAGu0B,EAAGx0B,EAChDs0B,EAAGr0B,EAAG,GAAKq0B,EAAGv0B,EAAGw0B,EAAGt0B,EAAG,GAAKs0B,EAAGx0B,EAAGy0B,EAAGv0B,EAAG,GAAKu0B,EAAGz0B,GAC9Cu0B,EAAGt0B,EAAGs0B,EAAGv0B,EAAG,GAAKw0B,EAAGv0B,EAAGu0B,EAAGx0B,EAAG,GAAKy0B,EAAGx0B,EAAGw0B,EAAGz0B,EAAG,GAEpD,QAAO60B,EAAYC,OAQZD,EADPC,GAAS,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,MASjCF,EAAensB,aAAc8rB,EAAIC,GAE1BK,EADPC,GAASF,EAAe50B,EAAG40B,EAAe30B,EAAG20B,EAAe10B,OA9F9C,GAqGtBg0B,WAAY,SAAWjB,EAAOxxB,GAS1B,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,oDACdlI,EAAS,IAAIC,IAIVD,EAAOsC,KAAMkvB,GAAQnc,MAAOlW,KAAKyE,IAAKzE,KAAKwE,MAItD6vB,gBAAiB,WAEb,IAAI1Z,EAAK,IAAI7Z,GAEb,OAAO,SAA0BuxB,GAG7B,OADmB1X,EAAGxX,KAAMkvB,GAAQnc,MAAOlW,KAAKyE,IAAKzE,KAAKwE,KACtCL,IAAKkuB,GAAQtyB,UAPxB,GAajBu0B,kBAAmB,WAEf,IAAI3Z,EAAK,IAAI7Z,GAEb,OAAO,SAA4BD,GAa/B,YAXgBF,IAAXE,IAEDiI,QAAQC,KAAM,2DACdlI,EAAS,IAAIguB,IAIjB7uB,KAAKmyB,UAAWtxB,EAAOoK,QAEvBpK,EAAO8D,OAAuC,GAA9B3E,KAAKoyB,QAASzX,GAAK5a,SAE5Bc,GAjBI,GAuBnB0zB,UAAW,SAAWtC,GAQlB,OANAjyB,KAAKyE,IAAID,IAAKytB,EAAIxtB,KAClBzE,KAAKwE,IAAIC,IAAKwtB,EAAIztB,KAGbxE,KAAKkyB,WAAYlyB,KAAKyxB,YAEpBzxB,MAIXw0B,MAAO,SAAWvC,GAKd,OAHAjyB,KAAKyE,IAAIA,IAAKwtB,EAAIxtB,KAClBzE,KAAKwE,IAAIA,IAAKytB,EAAIztB,KAEXxE,MAIXihB,aAAc,WAEV,IAAIuQ,GACA,IAAI1wB,GACJ,IAAIA,GACJ,IAAIA,GACJ,IAAIA,GACJ,IAAIA,GACJ,IAAIA,GACJ,IAAIA,GACJ,IAAIA,IAGR,OAAO,SAAuByH,GAG1B,OAAKvI,KAAKkyB,UAAmBlyB,MAG7BwxB,EAAQ,GAAI10B,IAAKkD,KAAKyE,IAAIrF,EAAGY,KAAKyE,IAAIpF,EAAGW,KAAKyE,IAAInF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKyE,IAAIrF,EAAGY,KAAKyE,IAAIpF,EAAGW,KAAKwE,IAAIlF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKyE,IAAIrF,EAAGY,KAAKwE,IAAInF,EAAGW,KAAKyE,IAAInF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKyE,IAAIrF,EAAGY,KAAKwE,IAAInF,EAAGW,KAAKwE,IAAIlF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKwE,IAAIpF,EAAGY,KAAKyE,IAAIpF,EAAGW,KAAKyE,IAAInF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKwE,IAAIpF,EAAGY,KAAKyE,IAAIpF,EAAGW,KAAKwE,IAAIlF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKwE,IAAIpF,EAAGY,KAAKwE,IAAInF,EAAGW,KAAKyE,IAAInF,GAAI2hB,aAAc1Y,GACpEipB,EAAQ,GAAI10B,IAAKkD,KAAKwE,IAAIpF,EAAGY,KAAKwE,IAAInF,EAAGW,KAAKwE,IAAIlF,GAAI2hB,aAAc1Y,GAEpEvI,KAAKuxB,cAAeC,GAEbxxB,OA9BD,GAoCd4rB,UAAW,SAAWloB,GAKlB,OAHA1D,KAAKyE,IAAIhF,IAAKiE,GACd1D,KAAKwE,IAAI/E,IAAKiE,GAEP1D,MAIX6a,OAAQ,SAAWoX,GAEf,OAAOA,EAAIxtB,IAAIoW,OAAQ7a,KAAKyE,MAASwtB,EAAIztB,IAAIqW,OAAQ7a,KAAKwE,QAkBlE9K,OAAO+S,OAAQoiB,GAAOj0B,WAElBkC,IAAK,SAAWmO,EAAQtG,GAKpB,OAHA3E,KAAKiL,OAAO9H,KAAM8H,GAClBjL,KAAK2E,OAASA,EAEP3E,MAIXuxB,cAAe,WAEX,IAAIU,EAAM,IAAIrD,GAEd,OAAO,SAAwB4C,EAAQiD,GAEnC,IAAIxpB,EAASjL,KAAKiL,YAEMtK,IAAnB8zB,EAEDxpB,EAAO9H,KAAMsxB,GAIbxC,EAAIV,cAAeC,GAASW,UAAWlnB,GAM3C,IAFA,IAAIypB,EAAc,EAER17B,EAAI,EAAG04B,EAAKF,EAAOzxB,OAAQ/G,EAAI04B,EAAI14B,IAEzC07B,EAAcp3B,KAAKkH,IAAKkwB,EAAazpB,EAAOhG,kBAAmBusB,EAAQx4B,KAM3E,OAFAgH,KAAK2E,OAASrH,KAAKoN,KAAMgqB,GAElB10B,MA5BA,GAkCfwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW3E,GAKb,OAHAwB,KAAKiL,OAAO9H,KAAM3E,EAAOyM,QACzBjL,KAAK2E,OAASnG,EAAOmG,OAEd3E,MAIX20B,MAAO,WAEH,OAAS30B,KAAK2E,QAAU,GAI5BquB,cAAe,SAAWX,GAEtB,OAASA,EAAMptB,kBAAmBjF,KAAKiL,SAAcjL,KAAK2E,OAAS3E,KAAK2E,QAI5E0vB,gBAAiB,SAAWhC,GAExB,OAASA,EAAM/X,WAAYta,KAAKiL,QAAWjL,KAAK2E,QAIpDyuB,iBAAkB,SAAW50B,GAEzB,IAAIo2B,EAAY50B,KAAK2E,OAASnG,EAAOmG,OAErC,OAAOnG,EAAOyM,OAAOhG,kBAAmBjF,KAAKiL,SAAc2pB,EAAYA,GAI3EzB,cAAe,SAAWlB,GAEtB,OAAOA,EAAImB,iBAAkBpzB,OAIjCuzB,gBAAiB,SAAWC,GAExB,OAAOl2B,KAAK6c,IAAKqZ,EAAMa,gBAAiBr0B,KAAKiL,UAAcjL,KAAK2E,QAIpE2uB,WAAY,SAAWjB,EAAOxxB,GAE1B,IAAIg0B,EAAgB70B,KAAKiL,OAAOhG,kBAAmBotB,GAkBnD,YAhBgB1xB,IAAXE,IAEDiI,QAAQC,KAAM,sDACdlI,EAAS,IAAIC,IAIjBD,EAAOsC,KAAMkvB,GAERwC,EAAkB70B,KAAK2E,OAAS3E,KAAK2E,SAEtC9D,EAAOsD,IAAKnE,KAAKiL,QAASmP,YAC1BvZ,EAAOkE,eAAgB/E,KAAK2E,QAASlF,IAAKO,KAAKiL,SAI5CpK,GAIXi0B,eAAgB,SAAWj0B,GAYvB,YAVgBF,IAAXE,IAEDiI,QAAQC,KAAM,0DACdlI,EAAS,IAAI+tB,IAIjB/tB,EAAO/D,IAAKkD,KAAKiL,OAAQjL,KAAKiL,QAC9BpK,EAAO0xB,eAAgBvyB,KAAK2E,QAErB9D,GAIXogB,aAAc,SAAW1Y,GAKrB,OAHAvI,KAAKiL,OAAOgW,aAAc1Y,GAC1BvI,KAAK2E,OAAS3E,KAAK2E,OAAS4D,EAAOyZ,oBAE5BhiB,MAIX4rB,UAAW,SAAWloB,GAIlB,OAFA1D,KAAKiL,OAAOxL,IAAKiE,GAEV1D,MAIX6a,OAAQ,SAAWrc,GAEf,OAAOA,EAAOyM,OAAO4P,OAAQ7a,KAAKiL,SAAczM,EAAOmG,SAAW3E,KAAK2E,UAmB/EjL,OAAO+S,OAAQqiB,GAAMl0B,WAEjBkC,IAAK,SAAW2tB,EAAQsE,GAKpB,OAHA/uB,KAAKyqB,OAAOtnB,KAAMsnB,GAClBzqB,KAAK+uB,SAAWA,EAET/uB,MAIX+0B,cAAe,SAAW31B,EAAGC,EAAGC,EAAGyY,GAK/B,OAHA/X,KAAKyqB,OAAO3tB,IAAKsC,EAAGC,EAAGC,GACvBU,KAAK+uB,SAAWhX,EAET/X,MAIXg1B,8BAA+B,SAAWvK,EAAQ4H,GAK9C,OAHAryB,KAAKyqB,OAAOtnB,KAAMsnB,GAClBzqB,KAAK+uB,UAAasD,EAAMltB,IAAKnF,KAAKyqB,QAE3BzqB,MAIXi1B,sBAAuB,WAEnB,IAAIta,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GAEb,OAAO,SAAgCmY,EAAGC,EAAG7f,GAEzC,IAAIoxB,EAAS9P,EAAG/Q,WAAYvQ,EAAG6f,GAAIc,MAAOY,EAAGhR,WAAYqP,EAAGC,IAAMkB,YAMlE,OAFApa,KAAKg1B,8BAA+BvK,EAAQxR,GAErCjZ,MAbQ,GAmBvBwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAWqwB,GAKb,OAHAxzB,KAAKyqB,OAAOtnB,KAAMqwB,EAAM/I,QACxBzqB,KAAK+uB,SAAWyE,EAAMzE,SAEf/uB,MAIXoa,UAAW,WAIP,IAAI8a,EAAsB,EAAMl1B,KAAKyqB,OAAO1qB,SAI5C,OAHAC,KAAKyqB,OAAO1lB,eAAgBmwB,GAC5Bl1B,KAAK+uB,UAAYmG,EAEVl1B,MAIX+Z,OAAQ,WAKJ,OAHA/Z,KAAK+uB,WAAc,EACnB/uB,KAAKyqB,OAAO1Q,SAEL/Z,MAIXq0B,gBAAiB,SAAWhC,GAExB,OAAOryB,KAAKyqB,OAAOtlB,IAAKktB,GAAUryB,KAAK+uB,UAI3CoG,iBAAkB,SAAW32B,GAEzB,OAAOwB,KAAKq0B,gBAAiB71B,EAAOyM,QAAWzM,EAAOmG,QAI1DywB,aAAc,SAAW/C,EAAOxxB,GAS5B,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,uDACdlI,EAAS,IAAIC,IAIVD,EAAOsC,KAAMnD,KAAKyqB,QAAS1lB,gBAAkB/E,KAAKq0B,gBAAiBhC,IAAU5yB,IAAK4yB,IAI7FgD,cAAe,WAEX,IAAI1a,EAAK,IAAI7Z,GAEb,OAAO,SAAwBw0B,EAAMz0B,QAEjBF,IAAXE,IAEDiI,QAAQC,KAAM,wDACdlI,EAAS,IAAIC,IAIjB,IAAIy0B,EAAYD,EAAKE,MAAO7a,GAExB8a,EAAcz1B,KAAKyqB,OAAOtlB,IAAKowB,GAEnC,GAAqB,IAAhBE,EAGD,OAA4C,IAAvCz1B,KAAKq0B,gBAAiBiB,EAAKI,OAErB70B,EAAOsC,KAAMmyB,EAAKI,YAK7B,EAIJ,IAAIx7B,IAAQo7B,EAAKI,MAAMvwB,IAAKnF,KAAKyqB,QAAWzqB,KAAK+uB,UAAa0G,EAE9D,OAAKv7B,EAAI,GAAKA,EAAI,OAAlB,EAMO2G,EAAOsC,KAAMoyB,GAAYxwB,eAAgB7K,GAAIuF,IAAK61B,EAAKI,QAvCvD,GA6CfC,eAAgB,SAAWL,GAIvB,IAAIM,EAAY51B,KAAKq0B,gBAAiBiB,EAAKI,OACvCG,EAAU71B,KAAKq0B,gBAAiBiB,EAAKQ,KAEzC,OAASF,EAAY,GAAKC,EAAU,GAASA,EAAU,GAAKD,EAAY,GAI5EzC,cAAe,SAAWlB,GAEtB,OAAOA,EAAIsB,gBAAiBvzB,OAIhCozB,iBAAkB,SAAW50B,GAEzB,OAAOA,EAAO+0B,gBAAiBvzB,OAInC+1B,cAAe,SAAWl1B,GAStB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,wDACdlI,EAAS,IAAIC,IAIVD,EAAOsC,KAAMnD,KAAKyqB,QAAS1lB,gBAAkB/E,KAAK+uB,WAI7D9N,aAAc,WAEV,IAAItG,EAAK,IAAI7Z,GACTk1B,EAAK,IAAI5d,GAEb,OAAO,SAAuB7P,EAAQ0tB,GAElC,IAAIC,EAAeD,GAAwBD,EAAG5K,gBAAiB7iB,GAE3D4tB,EAAiBn2B,KAAK+1B,cAAepb,GAAKsG,aAAc1Y,GAExDkiB,EAASzqB,KAAKyqB,OAAOjR,aAAc0c,GAAe9b,YAItD,OAFApa,KAAK+uB,UAAaoH,EAAehxB,IAAKslB,GAE/BzqB,MAfD,GAqBd4rB,UAAW,SAAWloB,GAIlB,OAFA1D,KAAK+uB,UAAYrrB,EAAOyB,IAAKnF,KAAKyqB,QAE3BzqB,MAIX6a,OAAQ,SAAW2Y,GAEf,OAAOA,EAAM/I,OAAO5P,OAAQ7a,KAAKyqB,SAAc+I,EAAMzE,WAAa/uB,KAAK+uB,YA2B/Er1B,OAAO+S,OAAQuiB,GAAQp0B,WAEnBkC,IAAK,SAAWmyB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAEhC,IAAIC,EAASvvB,KAAKuvB,OASlB,OAPAA,EAAQ,GAAIpsB,KAAM8rB,GAClBM,EAAQ,GAAIpsB,KAAM+rB,GAClBK,EAAQ,GAAIpsB,KAAMgsB,GAClBI,EAAQ,GAAIpsB,KAAMisB,GAClBG,EAAQ,GAAIpsB,KAAMksB,GAClBE,EAAQ,GAAIpsB,KAAMmsB,GAEXtvB,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAWizB,GAIb,IAFA,IAAI7G,EAASvvB,KAAKuvB,OAERv2B,EAAI,EAAGA,EAAI,EAAGA,IAEpBu2B,EAAQv2B,GAAImK,KAAMizB,EAAQ7G,OAAQv2B,IAItC,OAAOgH,MAIXq2B,cAAe,SAAWj9B,GAEtB,IAAIm2B,EAASvvB,KAAKuvB,OACd7S,EAAKtjB,EAAEye,SACPye,EAAM5Z,EAAI,GAAK6Z,EAAM7Z,EAAI,GAAK8Z,EAAM9Z,EAAI,GAAK+Z,EAAM/Z,EAAI,GACvDga,EAAMha,EAAI,GAAKia,EAAMja,EAAI,GAAKka,EAAMla,EAAI,GAAKma,EAAMna,EAAI,GACvDoa,EAAMpa,EAAI,GAAKqa,EAAMra,EAAI,GAAKsa,EAAOta,EAAI,IAAMua,EAAOva,EAAI,IAC1Dwa,EAAOxa,EAAI,IAAMya,EAAOza,EAAI,IAAM0a,EAAO1a,EAAI,IAAM2a,EAAO3a,EAAI,IASlE,OAPA6S,EAAQ,GAAIwF,cAAe0B,EAAMH,EAAKO,EAAMH,EAAKO,EAAOH,EAAKO,EAAOH,GAAO9c,YAC3EmV,EAAQ,GAAIwF,cAAe0B,EAAMH,EAAKO,EAAMH,EAAKO,EAAOH,EAAKO,EAAOH,GAAO9c,YAC3EmV,EAAQ,GAAIwF,cAAe0B,EAAMF,EAAKM,EAAMF,EAAKM,EAAOF,EAAKM,EAAOF,GAAO/c,YAC3EmV,EAAQ,GAAIwF,cAAe0B,EAAMF,EAAKM,EAAMF,EAAKM,EAAOF,EAAKM,EAAOF,GAAO/c,YAC3EmV,EAAQ,GAAIwF,cAAe0B,EAAMD,EAAKK,EAAMD,EAAKK,EAAOD,EAAMK,EAAOD,GAAOhd,YAC5EmV,EAAQ,GAAIwF,cAAe0B,EAAMD,EAAKK,EAAMD,EAAKK,EAAOD,EAAMK,EAAOD,GAAOhd,YAErEpa,MAIXs3B,iBAAkB,WAEd,IAAI94B,EAAS,IAAIqwB,GAEjB,OAAO,SAA2Bn0B,GAE9B,IAAIg4B,EAAWh4B,EAAOg4B,SAQtB,OANiC,OAA5BA,EAAS6E,gBACV7E,EAAS8E,wBAEbh5B,EAAO2E,KAAMuvB,EAAS6E,gBACjBtW,aAAcvmB,EAAOmvB,aAEnB7pB,KAAKozB,iBAAkB50B,IAdpB,GAoBlBi5B,iBAAkB,WAEd,IAAIj5B,EAAS,IAAIqwB,GAEjB,OAAO,SAA2B6I,GAM9B,OAJAl5B,EAAOyM,OAAOnO,IAAK,EAAG,EAAG,GACzB0B,EAAOmG,OAAS,kBAChBnG,EAAOyiB,aAAcyW,EAAO7N,aAErB7pB,KAAKozB,iBAAkB50B,IAVpB,GAgBlB40B,iBAAkB,SAAW50B,GAMzB,IAJA,IAAI+wB,EAASvvB,KAAKuvB,OACdtkB,EAASzM,EAAOyM,OAChB0sB,GAAcn5B,EAAOmG,OAEf3L,EAAI,EAAGA,EAAI,EAAGA,IAAO,CAI3B,GAFeu2B,EAAQv2B,GAAIq7B,gBAAiBppB,GAE5B0sB,EAEZ,OAAO,EAMf,OAAO,GAIXxE,cAAe,WAEX,IAAIr4B,EAAI,IAAIgG,GAEZ,OAAO,SAAwBmxB,GAI3B,IAFA,IAAI1C,EAASvvB,KAAKuvB,OAERv2B,EAAI,EAAGA,EAAI,EAAGA,IAAO,CAE3B,IAAIw6B,EAAQjE,EAAQv2B,GAQpB,GAJA8B,EAAEsE,EAAIo0B,EAAM/I,OAAOrrB,EAAI,EAAI6yB,EAAIztB,IAAIpF,EAAI6yB,EAAIxtB,IAAIrF,EAC/CtE,EAAEuE,EAAIm0B,EAAM/I,OAAOprB,EAAI,EAAI4yB,EAAIztB,IAAInF,EAAI4yB,EAAIxtB,IAAIpF,EAC/CvE,EAAEwE,EAAIk0B,EAAM/I,OAAOnrB,EAAI,EAAI2yB,EAAIztB,IAAIlF,EAAI2yB,EAAIxtB,IAAInF,EAE1Ck0B,EAAMa,gBAAiBv5B,GAAM,EAE9B,OAAO,EAMf,OAAO,GA1BA,GAgCfk4B,cAAe,SAAWX,GAItB,IAFA,IAAI9C,EAASvvB,KAAKuvB,OAERv2B,EAAI,EAAGA,EAAI,EAAGA,IAEpB,GAAKu2B,EAAQv2B,GAAIq7B,gBAAiBhC,GAAU,EAExC,OAAO,EAMf,OAAO,KAMf,IA8OIuF,IACAC,kBA/OoB,mFAgPpBC,uBA9OyB,+DA+OzBC,mBA7OqB,2EA8OrBC,eA5OiB,6aA6OjBC,oBA3OsB,wFA4OtBC,aA1Oe,2CA2OfC,mBAzOqB,0CA0OrBC,MAxOQ,g7LAyORC,sBAvOwB,m9BAwOxBC,yBAtO2B,2jBAuO3BC,8BArOgC,oNAsOhCC,4BApO8B,6IAqO9BC,uBAnOyB,mJAoOzBC,eAlOiB,0DAmOjBC,oBAjOsB,qDAkOtBC,kBAhOoB,mDAiOpBC,aA/Ne,sDAgOfC,OA9NS,4rEA+NTC,4BA7N8B,wmIA8N9BC,qBA5NuB,iIA6NvBC,4BA3N8B,oJA4N9BC,uBA1NyB,oKA2NzBC,qBAzNuB,+MA0NvBC,0BAxN4B,qEAyN5BC,mBAvNqB,0DAwNrBC,wBAtN0B,wuFAuN1BC,gBArNkB,iqDAsNlBC,qBApNuB,+oBAqNvBC,mBAnNqB,iOAoNrBC,8BA9LgC,q6GA+LhCC,cAnNgB,ugBAoNhBC,WAlNa,wDAmNbC,gBAjNkB,sDAkNlBC,aAhNe,+SAiNfC,kBA/MoB,4MAgNpBC,0BA9M4B,0YA+M5BC,kBA7MoB,+HA8MpBC,uBA5MyB,iGA6MzBC,sBA3MwB,yuEA4MxBC,kBA1MoB,spHA2MpBC,sBAvMwB,wMAwMxBC,2BAtM6B,66CAuM7BC,yBArM2B,8iBAsM3BC,8BApMgC,+uJAqMhCC,sBAnMwB,8xFAoMxBC,qBAlMuB,2yBAmMvBC,oBAjMsB,8PAkMtBC,qBAhMuB,0IAiMvBC,0BA/L4B,0IAgM5BC,wBA9L0B,qJA+L1BC,mBA7LqB,wPA8LrBC,aA5Le,sJA6LfC,kBA3LoB,qDA4LpBC,sBA1LwB,0MA2LxBC,2BAzL6B,kFA0L7BC,sBAxLwB,yKAyLxBC,2BAvL6B,qEAwL7BC,mBAtLqB,gVAuLrBC,wBArL0B,2KAsL1BC,mBApLqB,0qBAqLrBC,sBAnLwB,iaAoLxBC,qBAlLuB,mgBAmLvBC,wBAjL0B,46BAkL1BC,QAhLU,qyCAiLVC,6BA/K+B,8EAgL/BC,eA9KiB,gHA+KjBC,mBA7KqB,0FA8KrBC,wBA5K0B,qVA6K1BC,sBA3KwB,yKA4KxBC,2BA1K6B,qEA2K7BC,wBAzK0B,kpNA0K1BC,sBAxKwB,0eAyKxBC,iBAvKmB,slBAwKnBC,yBAtK2B,4wCAuK3BC,gBArKkB,kOAsKlBC,qBApKuB,4gCAqKvBC,gBAnKkB,iYAoKlBC,kBAlKoB,8WAmKpBC,qBAjKuB,0LAkKvBC,0BAhK4B,mEAiK5BC,qBA/JuB,+FAgKvBC,0BA9J4B,g7BA+J5BC,iBA7JmB,iQA8JnBC,eA5JiB,gSA6JjBC,UA3JY,yRA4JZC,kBA1JoB,oFA2JpBC,gBAzJkB,2GA0JlBC,WAxJa,6EAyJbC,gBAvJkB,0JAyJlBC,gBAvJkB,yGAwJlBC,gBAtJkB,qHAuJlBC,UArJY,wPAsJZC,UApJY,iOAqJZC,WAnJa,uvBAoJbC,WAlJa,oqBAmJbC,kBAjJoB,+rBAkJpBC,kBAhJoB,otBAiJpBC,cA/IgB,oXAgJhBC,cA9IgB,+LA+IhBC,gBA7IkB,qyBA8IlBC,gBA5IkB,khBA6IlBC,eA3IiB,w8CA4IjBC,eA1IiB,u2BA2IjBC,iBAzImB,ylEA0InBC,iBAxImB,kkCAyInBC,gBAvIkB,4zCAwIlBC,gBAtIkB,s6BAuIlBC,eArIiB,0/DAsIjBC,eApIiB,uqCAqIjBC,kBAnIoB,8wEAoIpBC,kBAlIoB,+mCAmIpBC,YAjIc,2lBAkIdC,YAhIc,qhCAiIdC,YA/Hc,svBAgIdC,YA9Hc,urBA+HdC,YA7Hc,iWA8HdC,YA5Hc,iOA6HdC,YA3Hc,ypBA4HdC,YA1Hc,ynCAiIdC,IAEAC,MAAO,SAAWC,GAId,IAFA,IAAIC,KAEMC,EAAI,EAAGA,EAAIF,EAASv/B,OAAQy/B,IAAO,CAEzC,IAAIne,EAAMrhB,KAAKwC,MAAO88B,EAAUE,IAEhC,IAAM,IAAI1kC,KAAKumB,EAEXke,EAAQzkC,GAAMumB,EAAKvmB,GAM3B,OAAOykC,GAIX/8B,MAAO,SAAWi9B,GAEd,IAAIC,KAEJ,IAAM,IAAIF,KAAKC,EAIX,IAAM,IAAI3kC,KAFV4kC,EAAcF,MAECC,EAAcD,GAAM,CAE/B,IAAIG,EAAgBF,EAAcD,GAAK1kC,GAElC6kC,IAAmBA,EAAcC,SAC9BD,EAAc1U,WAAa0U,EAAcpkB,WACzCokB,EAAcpnB,WAAaonB,EAAc/W,WAAa+W,EAAcrP,WACpEqP,EAAcnQ,WAElBkQ,EAAcF,GAAK1kC,GAAM6kC,EAAcn9B,QAE/B0tB,MAAMC,QAASwP,GAEvBD,EAAcF,GAAK1kC,GAAM6kC,EAAclyB,QAIvCiyB,EAAcF,GAAK1kC,GAAM6kC,EAQrC,OAAOD,IAUXG,IAAkBC,UAAa,SAAUC,aAAgB,SAAUC,KAAQ,MAAUC,WAAc,QAAUC,MAAS,SACtHC,MAAS,SAAUC,OAAU,SAAUC,MAAS,EAAUC,eAAkB,SAAUC,KAAQ,IAAUC,WAAc,QACtHC,MAAS,SAAUC,UAAa,SAAUC,UAAa,QAAUC,WAAc,QAAUC,UAAa,SAAUC,MAAS,SACzHC,eAAkB,QAAUC,SAAY,SAAUC,QAAW,SAAUC,KAAQ,MAAUC,SAAY,IAAUC,SAAY,MAC3HC,cAAiB,SAAUC,SAAY,SAAUC,UAAa,MAAUC,SAAY,SAAUC,UAAa,SAAUC,YAAe,QACpIC,eAAkB,QAAUC,WAAc,SAAUC,WAAc,SAAUC,QAAW,QAAUC,WAAc,SAAUC,aAAgB,QACzIC,cAAiB,QAAUC,cAAiB,QAAUC,cAAiB,QAAUC,cAAiB,MAAUC,WAAc,QAC1HC,SAAY,SAAUC,YAAe,MAAUC,QAAW,QAAUC,QAAW,QAAUC,WAAc,QAAUC,UAAa,SAC9HC,YAAe,SAAUC,YAAe,QAAUC,QAAW,SAAUC,UAAa,SAAUC,WAAc,SAAUC,KAAQ,SAC9HC,UAAa,SAAUC,KAAQ,QAAUC,MAAS,MAAUC,YAAe,SAAUC,KAAQ,QAAUC,SAAY,SAAUC,QAAW,SACxIC,UAAa,SAAUC,OAAU,QAAUC,MAAS,SAAUC,MAAS,SAAUC,SAAY,SAAUC,cAAiB,SAAUC,UAAa,QAC/IC,aAAgB,SAAUC,UAAa,SAAUC,WAAc,SAAUC,UAAa,SAAUC,qBAAwB,SAAUC,UAAa,SAC/IC,WAAc,QAAUC,UAAa,SAAUC,UAAa,SAAUC,YAAe,SAAUC,cAAiB,QAAUC,aAAgB,QAC1IC,eAAkB,QAAUC,eAAkB,QAAUC,eAAkB,SAAUC,YAAe,SAAUC,KAAQ,MAAUC,UAAa,QAC5IC,MAAS,SAAUC,QAAW,SAAUC,OAAU,QAAUC,iBAAoB,QAAUC,WAAc,IAAUC,aAAgB,SAClIC,aAAgB,QAAUC,eAAkB,QAAUC,gBAAmB,QAAUC,kBAAqB,MAAUC,gBAAmB,QACrIC,gBAAmB,SAAUC,aAAgB,QAAUC,UAAa,SAAUC,UAAa,SAAUC,SAAY,SAAUC,YAAe,SAC1IC,KAAQ,IAAUC,QAAW,SAAUC,MAAS,QAAUC,UAAa,QAAUC,OAAU,SAAUC,UAAa,SAAUC,OAAU,SACtIC,cAAiB,SAAUC,UAAa,SAAUC,cAAiB,SAAUC,cAAiB,SAAUC,WAAc,SAAUC,UAAa,SAC7IC,KAAQ,SAAUC,KAAQ,SAAUC,KAAQ,SAAUC,WAAc,SAAUC,OAAU,QAAUC,cAAiB,QAAUC,IAAO,SAAUC,UAAa,SAC3JC,UAAa,QAAUC,YAAe,QAAUC,OAAU,SAAUC,WAAc,SAAUC,SAAY,QAAUC,SAAY,SAC9HC,OAAU,SAAUC,OAAU,SAAUC,QAAW,QAAUC,UAAa,QAAUC,UAAa,QAAUC,UAAa,QAAUC,KAAQ,SAC1IC,YAAe,MAAUC,UAAa,QAAUlgC,IAAO,SAAUmgC,KAAQ,MAAUC,QAAW,SAAUC,OAAU,SAAUC,UAAa,QACzIC,OAAU,SAAUC,MAAS,SAAUC,MAAS,SAAUC,WAAc,SAAUC,OAAU,SAAUC,YAAe,UAEzH,SAAS5sC,GAAOtC,EAAGqxB,EAAGjS,GAElB,YAAWvY,IAANwqB,QAAyBxqB,IAANuY,EAGblZ,KAAKlD,IAAKhD,GAIdkG,KAAKipC,OAAQnvC,EAAGqxB,EAAGjS,GAI9Bxf,OAAO+S,OAAQrQ,GAAMxB,WAEjBglC,SAAS,EAET9lC,EAAG,EAAGqxB,EAAG,EAAGjS,EAAG,EAEfpc,IAAK,SAAW7C,GAgBZ,OAdKA,GAASA,EAAM2lC,QAEhB5/B,KAAKmD,KAAMlJ,GAEc,iBAAVA,EAEf+F,KAAKkpC,OAAQjvC,GAEY,iBAAVA,GAEf+F,KAAKmpC,SAAUlvC,GAIZ+F,MAIXwY,UAAW,SAAWC,GAMlB,OAJAzY,KAAKlG,EAAI2e,EACTzY,KAAKmrB,EAAI1S,EACTzY,KAAKkZ,EAAIT,EAEFzY,MAIXkpC,OAAQ,SAAWE,GAQf,OANAA,EAAM9rC,KAAK8O,MAAOg9B,GAElBppC,KAAKlG,GAAMsvC,GAAO,GAAK,KAAQ,IAC/BppC,KAAKmrB,GAAMie,GAAO,EAAI,KAAQ,IAC9BppC,KAAKkZ,GAAY,IAANkwB,GAAc,IAElBppC,MAIXipC,OAAQ,SAAWnvC,EAAGqxB,EAAGjS,GAMrB,OAJAlZ,KAAKlG,EAAIA,EACTkG,KAAKmrB,EAAIA,EACTnrB,KAAKkZ,EAAIA,EAEFlZ,MAIXqpC,OAAQ,WAEJ,SAASC,EAASxuC,EAAG2jB,EAAGvkB,GAIpB,OAFKA,EAAI,IAAIA,GAAK,GACbA,EAAI,IAAIA,GAAK,GACbA,EAAI,EAAI,EAAWY,EAAgB,GAAV2jB,EAAI3jB,GAAUZ,EACvCA,EAAI,GAAeukB,EACnBvkB,EAAI,EAAI,EAAWY,EAAgB,GAAV2jB,EAAI3jB,IAAY,EAAI,EAAIZ,GAC/CY,EAIX,OAAO,SAAiBypB,EAAGxpB,EAAG9B,GAO1B,GAJAsrB,EAAI/O,GAAMW,gBAAiBoO,EAAG,GAC9BxpB,EAAIya,GAAMU,MAAOnb,EAAG,EAAG,GACvB9B,EAAIuc,GAAMU,MAAOjd,EAAG,EAAG,GAEZ,IAAN8B,EAEDiF,KAAKlG,EAAIkG,KAAKmrB,EAAInrB,KAAKkZ,EAAIjgB,MAExB,CAEH,IAAI6B,EAAI7B,GAAK,GAAMA,GAAM,EAAI8B,GAAM9B,EAAI8B,EAAM9B,EAAI8B,EAC7C0jB,EAAM,EAAIxlB,EAAM6B,EAEpBkF,KAAKlG,EAAIwvC,EAAS7qB,EAAG3jB,EAAGypB,EAAI,EAAI,GAChCvkB,KAAKmrB,EAAIme,EAAS7qB,EAAG3jB,EAAGypB,GACxBvkB,KAAKkZ,EAAIowB,EAAS7qB,EAAG3jB,EAAGypB,EAAI,EAAI,GAIpC,OAAOvkB,MAnCP,GAyCRmpC,SAAU,SAAWI,GAEjB,SAASC,EAAaC,QAEF9oC,IAAX8oC,GAEAC,WAAYD,GAAW,GAExB3gC,QAAQC,KAAM,mCAAqCwgC,EAAQ,qBAOnE,IAAInwC,EAEJ,GAAKA,EAAI,kCAAkCuwC,KAAMJ,GAAU,CAIvD,IAAItrC,EACA1E,EAAOH,EAAG,GACVwwC,EAAaxwC,EAAG,GAEpB,OAASG,GAEL,IAAK,MACL,IAAK,OAED,GAAK0E,EAAQ,gEAAgE0rC,KAAMC,GAS/E,OANA5pC,KAAKlG,EAAIwD,KAAKmH,IAAK,IAAKolC,SAAU5rC,EAAO,GAAK,KAAS,IACvD+B,KAAKmrB,EAAI7tB,KAAKmH,IAAK,IAAKolC,SAAU5rC,EAAO,GAAK,KAAS,IACvD+B,KAAKkZ,EAAI5b,KAAKmH,IAAK,IAAKolC,SAAU5rC,EAAO,GAAK,KAAS,IAEvDurC,EAAavrC,EAAO,IAEb+B,KAIX,GAAK/B,EAAQ,sEAAsE0rC,KAAMC,GASrF,OANA5pC,KAAKlG,EAAIwD,KAAKmH,IAAK,IAAKolC,SAAU5rC,EAAO,GAAK,KAAS,IACvD+B,KAAKmrB,EAAI7tB,KAAKmH,IAAK,IAAKolC,SAAU5rC,EAAO,GAAK,KAAS,IACvD+B,KAAKkZ,EAAI5b,KAAKmH,IAAK,IAAKolC,SAAU5rC,EAAO,GAAK,KAAS,IAEvDurC,EAAavrC,EAAO,IAEb+B,KAIX,MAEJ,IAAK,MACL,IAAK,OAED,GAAK/B,EAAQ,gFAAgF0rC,KAAMC,GAAe,CAG9G,IAAIrlB,EAAImlB,WAAYzrC,EAAO,IAAQ,IAC/BlD,EAAI8uC,SAAU5rC,EAAO,GAAK,IAAO,IACjChF,EAAI4wC,SAAU5rC,EAAO,GAAK,IAAO,IAIrC,OAFAurC,EAAavrC,EAAO,IAEb+B,KAAKqpC,OAAQ9kB,EAAGxpB,EAAG9B,UAQnC,GAAKG,EAAI,qBAAqBuwC,KAAMJ,GAAU,CAIjD,IAAIH,EACAvX,GADAuX,EAAMhwC,EAAG,IACE2G,OAEf,GAAc,IAAT8xB,EAOD,OAJA7xB,KAAKlG,EAAI+vC,SAAUT,EAAIU,OAAQ,GAAMV,EAAIU,OAAQ,GAAK,IAAO,IAC7D9pC,KAAKmrB,EAAI0e,SAAUT,EAAIU,OAAQ,GAAMV,EAAIU,OAAQ,GAAK,IAAO,IAC7D9pC,KAAKkZ,EAAI2wB,SAAUT,EAAIU,OAAQ,GAAMV,EAAIU,OAAQ,GAAK,IAAO,IAEtD9pC,KAEJ,GAAc,IAAT6xB,EAOR,OAJA7xB,KAAKlG,EAAI+vC,SAAUT,EAAIU,OAAQ,GAAMV,EAAIU,OAAQ,GAAK,IAAO,IAC7D9pC,KAAKmrB,EAAI0e,SAAUT,EAAIU,OAAQ,GAAMV,EAAIU,OAAQ,GAAK,IAAO,IAC7D9pC,KAAKkZ,EAAI2wB,SAAUT,EAAIU,OAAQ,GAAMV,EAAIU,OAAQ,GAAK,IAAO,IAEtD9pC,KAMVupC,GAASA,EAAMxpC,OAAS,SAKZY,KAFTyoC,EAAMvJ,GAAe0J,IAKrBvpC,KAAKkpC,OAAQE,GAKbtgC,QAAQC,KAAM,8BAAgCwgC,IAMtD,OAAOvpC,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKlG,EAAGkG,KAAKmrB,EAAGnrB,KAAKkZ,IAItD/V,KAAM,SAAWlF,GAMb,OAJA+B,KAAKlG,EAAImE,EAAMnE,EACfkG,KAAKmrB,EAAIltB,EAAMktB,EACfnrB,KAAKkZ,EAAIjb,EAAMib,EAERlZ,MAIX+pC,kBAAmB,SAAW9rC,EAAO+rC,GAQjC,YANqBrpC,IAAhBqpC,IAA4BA,EAAc,GAE/ChqC,KAAKlG,EAAIwD,KAAK8J,IAAKnJ,EAAMnE,EAAGkwC,GAC5BhqC,KAAKmrB,EAAI7tB,KAAK8J,IAAKnJ,EAAMktB,EAAG6e,GAC5BhqC,KAAKkZ,EAAI5b,KAAK8J,IAAKnJ,EAAMib,EAAG8wB,GAErBhqC,MAIXiqC,kBAAmB,SAAWhsC,EAAO+rC,QAEZrpC,IAAhBqpC,IAA4BA,EAAc,GAE/C,IAAIE,EAAgBF,EAAc,EAAQ,EAAMA,EAAgB,EAMhE,OAJAhqC,KAAKlG,EAAIwD,KAAK8J,IAAKnJ,EAAMnE,EAAGowC,GAC5BlqC,KAAKmrB,EAAI7tB,KAAK8J,IAAKnJ,EAAMktB,EAAG+e,GAC5BlqC,KAAKkZ,EAAI5b,KAAK8J,IAAKnJ,EAAMib,EAAGgxB,GAErBlqC,MAIXmqC,qBAAsB,SAAWH,GAI7B,OAFAhqC,KAAK+pC,kBAAmB/pC,KAAMgqC,GAEvBhqC,MAIXoqC,qBAAsB,SAAWJ,GAI7B,OAFAhqC,KAAKiqC,kBAAmBjqC,KAAMgqC,GAEvBhqC,MAIXqqC,iBAAkB,WAEd,SAASC,EAAcjxC,GAEnB,OAASA,EAAI,OAAgB,YAAJA,EAAmBiE,KAAK8J,IAAS,YAAJ/N,EAAmB,YAAc,KAI3F,OAAO,SAA2B4E,GAM9B,OAJA+B,KAAKlG,EAAIwwC,EAAcrsC,EAAMnE,GAC7BkG,KAAKmrB,EAAImf,EAAcrsC,EAAMktB,GAC7BnrB,KAAKkZ,EAAIoxB,EAAcrsC,EAAMib,GAEtBlZ,MAdG,GAoBlBuqC,iBAAkB,WAEd,SAASC,EAAcnxC,GAEnB,OAASA,EAAI,SAAkB,MAAJA,EAAY,MAAUiE,KAAK8J,IAAK/N,EAAG,QAAc,KAIhF,OAAO,SAA2B4E,GAM9B,OAJA+B,KAAKlG,EAAI0wC,EAAcvsC,EAAMnE,GAC7BkG,KAAKmrB,EAAIqf,EAAcvsC,EAAMktB,GAC7BnrB,KAAKkZ,EAAIsxB,EAAcvsC,EAAMib,GAEtBlZ,MAdG,GAoBlByqC,oBAAqB,WAIjB,OAFAzqC,KAAKqqC,iBAAkBrqC,MAEhBA,MAIX0qC,oBAAqB,WAIjB,OAFA1qC,KAAKuqC,iBAAkBvqC,MAEhBA,MAIX2qC,OAAQ,WAEJ,OAAkB,IAAT3qC,KAAKlG,GAAa,GAAgB,IAATkG,KAAKmrB,GAAa,EAAe,IAATnrB,KAAKkZ,GAAa,GAIhF0xB,aAAc,WAEV,OAAS,SAAW5qC,KAAK2qC,SAASp+B,SAAU,KAAOkB,OAAS,IAIhEo9B,OAAQ,SAAWhqC,QAICF,IAAXE,IAEDiI,QAAQC,KAAM,iDACdlI,GAAW0jB,EAAG,EAAGxpB,EAAG,EAAG9B,EAAG,IAI9B,IAKI6xC,EAAKC,EALLjxC,EAAIkG,KAAKlG,EAAGqxB,EAAInrB,KAAKmrB,EAAGjS,EAAIlZ,KAAKkZ,EAEjC1U,EAAMlH,KAAKkH,IAAK1K,EAAGqxB,EAAGjS,GACtBzU,EAAMnH,KAAKmH,IAAK3K,EAAGqxB,EAAGjS,GAGtB8xB,GAAcvmC,EAAMD,GAAQ,EAEhC,GAAKC,IAAQD,EAETsmC,EAAM,EACNC,EAAa,MAEV,CAEH,IAAIvV,EAAQhxB,EAAMC,EAIlB,OAFAsmC,EAAaC,GAAa,GAAMxV,GAAUhxB,EAAMC,GAAQ+wB,GAAU,EAAIhxB,EAAMC,GAEnED,GAEL,KAAK1K,EAAGgxC,GAAQ3f,EAAIjS,GAAMsc,GAAUrK,EAAIjS,EAAI,EAAI,GAAK,MACrD,KAAKiS,EAAG2f,GAAQ5xB,EAAIpf,GAAM07B,EAAQ,EAAG,MACrC,KAAKtc,EAAG4xB,GAAQhxC,EAAIqxB,GAAMqK,EAAQ,EAItCsV,GAAO,EAQX,OAJAjqC,EAAO0jB,EAAIumB,EACXjqC,EAAO9F,EAAIgwC,EACXlqC,EAAO5H,EAAI+xC,EAEJnqC,GAIXoqC,SAAU,WAEN,MAAO,QAAsB,IAATjrC,KAAKlG,EAAY,GAAM,KAAmB,IAATkG,KAAKmrB,EAAY,GAAM,KAAmB,IAATnrB,KAAKkZ,EAAY,GAAM,KAIjHgyB,UAAW,WAEP,IAAIC,KAEJ,OAAO,SAAW5mB,EAAGxpB,EAAG9B,GAQpB,OANA+G,KAAK6qC,OAAQM,GAEbA,EAAI5mB,GAAKA,EAAG4mB,EAAIpwC,GAAKA,EAAGowC,EAAIlyC,GAAKA,EAEjC+G,KAAKqpC,OAAQ8B,EAAI5mB,EAAG4mB,EAAIpwC,EAAGowC,EAAIlyC,GAExB+G,MAZJ,GAkBXP,IAAK,SAAWxB,GAMZ,OAJA+B,KAAKlG,GAAKmE,EAAMnE,EAChBkG,KAAKmrB,GAAKltB,EAAMktB,EAChBnrB,KAAKkZ,GAAKjb,EAAMib,EAETlZ,MAIXorC,UAAW,SAAWC,EAAQC,GAM1B,OAJAtrC,KAAKlG,EAAIuxC,EAAOvxC,EAAIwxC,EAAOxxC,EAC3BkG,KAAKmrB,EAAIkgB,EAAOlgB,EAAImgB,EAAOngB,EAC3BnrB,KAAKkZ,EAAImyB,EAAOnyB,EAAIoyB,EAAOpyB,EAEpBlZ,MAIXgZ,UAAW,SAAWje,GAMlB,OAJAiF,KAAKlG,GAAKiB,EACViF,KAAKmrB,GAAKpwB,EACViF,KAAKkZ,GAAKne,EAEHiF,MAIXmE,IAAK,SAAWlG,GAMZ,OAJA+B,KAAKlG,EAAIwD,KAAKkH,IAAK,EAAGxE,KAAKlG,EAAImE,EAAMnE,GACrCkG,KAAKmrB,EAAI7tB,KAAKkH,IAAK,EAAGxE,KAAKmrB,EAAIltB,EAAMktB,GACrCnrB,KAAKkZ,EAAI5b,KAAKkH,IAAK,EAAGxE,KAAKkZ,EAAIjb,EAAMib,GAE9BlZ,MAIXqZ,SAAU,SAAWpb,GAMjB,OAJA+B,KAAKlG,GAAKmE,EAAMnE,EAChBkG,KAAKmrB,GAAKltB,EAAMktB,EAChBnrB,KAAKkZ,GAAKjb,EAAMib,EAETlZ,MAIX+E,eAAgB,SAAWhK,GAMvB,OAJAiF,KAAKlG,GAAKiB,EACViF,KAAKmrB,GAAKpwB,EACViF,KAAKkZ,GAAKne,EAEHiF,MAIXyW,KAAM,SAAWxY,EAAOwc,GAMpB,OAJAza,KAAKlG,IAAOmE,EAAMnE,EAAIkG,KAAKlG,GAAM2gB,EACjCza,KAAKmrB,IAAOltB,EAAMktB,EAAInrB,KAAKmrB,GAAM1Q,EACjCza,KAAKkZ,IAAOjb,EAAMib,EAAIlZ,KAAKkZ,GAAMuB,EAE1Bza,MAIXurC,QAAS,WAEL,IAAIC,GAASjnB,EAAG,EAAGxpB,EAAG,EAAG9B,EAAG,GACxBwyC,GAASlnB,EAAG,EAAGxpB,EAAG,EAAG9B,EAAG,GAE5B,OAAO,SAAkBgF,EAAOwc,GAE5Bza,KAAK6qC,OAAQW,GACbvtC,EAAM4sC,OAAQY,GAEd,IAAIlnB,EAAI/O,GAAMiB,KAAM+0B,EAAKjnB,EAAGknB,EAAKlnB,EAAG9J,GAChC1f,EAAIya,GAAMiB,KAAM+0B,EAAKzwC,EAAG0wC,EAAK1wC,EAAG0f,GAChCxhB,EAAIuc,GAAMiB,KAAM+0B,EAAKvyC,EAAGwyC,EAAKxyC,EAAGwhB,GAIpC,OAFAza,KAAKqpC,OAAQ9kB,EAAGxpB,EAAG9B,GAEZ+G,MAhBN,GAsBT6a,OAAQ,SAAWxhB,GAEf,OAASA,EAAES,IAAMkG,KAAKlG,GAAST,EAAE8xB,IAAMnrB,KAAKmrB,GAAS9xB,EAAE6f,IAAMlZ,KAAKkZ,GAItE4B,UAAW,SAAWtN,EAAO9J,GAQzB,YANgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKlG,EAAI0T,EAAO9J,GAChB1D,KAAKmrB,EAAI3d,EAAO9J,EAAS,GACzB1D,KAAKkZ,EAAI1L,EAAO9J,EAAS,GAElB1D,MAIX+a,QAAS,SAAWvN,EAAO9J,GASvB,YAPe/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC8J,EAAO9J,GAAW1D,KAAKlG,EACvB0T,EAAO9J,EAAS,GAAM1D,KAAKmrB,EAC3B3d,EAAO9J,EAAS,GAAM1D,KAAKkZ,EAEpB1L,GAIXiiB,OAAQ,WAEJ,OAAOzvB,KAAK2qC,YAUpB,IAAIe,IAEA5S,QAEI6S,SAAW1xC,MAAO,IAAImC,GAAO,WAC7BwvC,SAAW3xC,MAAO,GAElB4xC,KAAO5xC,MAAO,MACd6xC,aAAe7xC,MAAO,IAAIme,IAE1B2zB,UAAY9xC,MAAO,OAIvB+xC,aAEIC,aAAehyC,MAAO,OAI1BiyC,QAEIC,QAAUlyC,MAAO,MACjBmyC,YAAcnyC,OAAS,GACvBoyC,cAAgBpyC,MAAO,GACvBqyC,iBAAmBryC,MAAO,KAC1BsyC,aAAetyC,MAAO,IAI1BuyC,OAEIC,OAASxyC,MAAO,MAChByyC,gBAAkBzyC,MAAO,IAI7B0yC,UAEIC,UAAY3yC,MAAO,MACnB4yC,mBAAqB5yC,MAAO,IAIhC6yC,aAEIC,aAAe9yC,MAAO,OAI1B+yC,SAEIC,SAAWhzC,MAAO,MAClBizC,WAAajzC,MAAO,IAIxBkzC,WAEIC,WAAanzC,MAAO,MACpBozC,aAAepzC,MAAO,IAAIyM,GAAS,EAAG,KAI1C4mC,iBAEIC,iBAAmBtzC,MAAO,MAC1BuzC,mBAAqBvzC,MAAO,GAC5BwzC,kBAAoBxzC,MAAO,IAI/ByzC,cAEIC,cAAgB1zC,MAAO,OAI3B2zC,cAEIC,cAAgB5zC,MAAO,OAI3B6zC,aAEIC,aAAe9zC,MAAO,OAI1BoC,KAEI2xC,YAAc/zC,MAAO,OACrBg0C,SAAWh0C,MAAO,GAClBi0C,QAAUj0C,MAAO,KACjBk0C,UAAYl0C,MAAO,IAAImC,GAAO,YAIlCgyC,QAEIC,mBAAqBp0C,UAErBq0C,mBAAqBr0C,SAAWs0C,YAC5BhZ,aACAt3B,SAEAuwC,UACAC,cACAC,gBACAC,mBAGJC,sBAAwB30C,UACxB40C,yBAA2B50C,UAE3B60C,YAAc70C,SAAWs0C,YACrBtwC,SACApB,YACA04B,aACA9tB,YACAsnC,WACAC,eACAC,SAEAT,UACAC,cACAC,gBACAC,mBAGJO,eAAiBj1C,UACjBk1C,kBAAoBl1C,UAEpBm1C,aAAen1C,SAAWs0C,YACtBtwC,SACApB,YACAoyC,SACAxnC,YAEA+mC,UACAC,cACAC,gBACAC,iBACAU,oBACAC,qBAGJC,gBAAkBt1C,UAClBu1C,mBAAqBv1C,UAErBw1C,kBAAoBx1C,SAAWs0C,YAC3BhZ,aACAma,YACAC,iBAIJC,gBAAkB31C,SAAWs0C,YACzBtwC,SACApB,YACAwb,SACAC,aAKRkZ,QAEIma,SAAW1xC,MAAO,IAAImC,GAAO,WAC7BwvC,SAAW3xC,MAAO,GAClB43B,MAAQ53B,MAAO,GACfiF,OAASjF,MAAO,GAChB4xC,KAAO5xC,MAAO,MACd6xC,aAAe7xC,MAAO,IAAIme,KAI9Bsf,QAEIiU,SAAW1xC,MAAO,IAAImC,GAAO,WAC7BwvC,SAAW3xC,MAAO,GAClBgR,QAAUhR,MAAO,IAAIyM,GAAS,GAAK,KACnC8kB,UAAYvxB,MAAO,GACnB4xC,KAAO5xC,MAAO,MACd6xC,aAAe7xC,MAAO,IAAIme,MAY9By3B,IAEAC,OAEIxQ,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYM,YACZN,GAAYQ,OACZR,GAAYc,MACZd,GAAYiB,SACZjB,GAAYrvC,MAGhB0zC,aAAcnY,GAAYuG,eAC1B6R,eAAgBpY,GAAYsG,gBAIhC+R,SAEI3Q,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYM,YACZN,GAAYQ,OACZR,GAAYc,MACZd,GAAYiB,SACZjB,GAAYoB,YACZpB,GAAYrvC,IACZqvC,GAAY0C,QAER8B,UAAYj2C,MAAO,IAAImC,GAAO,OAItC2zC,aAAcnY,GAAYyG,iBAC1B2R,eAAgBpY,GAAYwG,kBAIhC+R,OAEI7Q,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYM,YACZN,GAAYQ,OACZR,GAAYc,MACZd,GAAYiB,SACZjB,GAAYoB,YACZpB,GAAYsB,QACZtB,GAAYyB,UACZzB,GAAY4B,gBACZ5B,GAAYoC,YACZpC,GAAYrvC,IACZqvC,GAAY0C,QAER8B,UAAYj2C,MAAO,IAAImC,GAAO,IAC9Bg0C,UAAYn2C,MAAO,IAAImC,GAAO,UAC9Bi0C,WAAap2C,MAAO,OAI5B81C,aAAcnY,GAAY6G,eAC1BuR,eAAgBpY,GAAY4G,gBAIhC8R,UAEIhR,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYQ,OACZR,GAAYc,MACZd,GAAYiB,SACZjB,GAAYoB,YACZpB,GAAYsB,QACZtB,GAAYyB,UACZzB,GAAY4B,gBACZ5B,GAAYgC,aACZhC,GAAYkC,aACZlC,GAAYrvC,IACZqvC,GAAY0C,QAER8B,UAAYj2C,MAAO,IAAImC,GAAO,IAC9Bm0C,WAAat2C,MAAO,IACpBu2C,WAAav2C,MAAO,IACpBw2C,iBAAmBx2C,MAAO,MAIlC81C,aAAcnY,GAAY+G,kBAC1BqR,eAAgBpY,GAAY8G,mBAIhCgS,QAEIpR,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYsB,QACZtB,GAAYyB,UACZzB,GAAY4B,gBACZ5B,GAAYrvC,KAERq0C,QAAUz2C,MAAO,SAIzB81C,aAAcnY,GAAY2G,gBAC1ByR,eAAgBpY,GAAY0G,iBAIhC9M,QAEI8N,SAAUF,GAAcC,OACpBqM,GAAYla,OACZka,GAAYrvC,MAGhB0zC,aAAcnY,GAAYmH,YAC1BiR,eAAgBpY,GAAYkH,aAIhC6R,QAEIrR,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYrvC,KAER6C,OAASjF,MAAO,GAChB22C,UAAY32C,MAAO,GACnB42C,WAAa52C,MAAO,MAI5B81C,aAAcnY,GAAYqG,gBAC1B+R,eAAgBpY,GAAYoG,iBAIhC8S,OAEIxR,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAY4B,kBAGhByC,aAAcnY,GAAY+F,WAC1BqS,eAAgBpY,GAAY8F,YAIhCjT,QAEI6U,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAYsB,QACZtB,GAAYyB,UACZzB,GAAY4B,iBAER1B,SAAW3xC,MAAO,MAI1B81C,aAAcnY,GAAYiH,YAC1BmR,eAAgBpY,GAAYgH,aAIhClH,QAEI4H,SAAUF,GAAcC,OACpBqM,GAAYhU,OACZgU,GAAYrvC,MAGhB0zC,aAAcnY,GAAYuH,YAC1B6Q,eAAgBpY,GAAYsH,aAIhC/iC,YAEImjC,UACIyR,KAAO92C,MAAO,OAGlB81C,aAAcnY,GAAY2F,gBAC1ByS,eAAgBpY,GAAY0F,iBAOhC/+B,MAEI+gC,UACI0R,OAAS/2C,MAAO,MAChBg3C,OAASh3C,OAAS,GAClB2xC,SAAW3xC,MAAO,IAGtB81C,aAAcnY,GAAY6F,UAC1BuS,eAAgBpY,GAAY4F,WAIhC0T,UAEI5R,UACI6R,WAAal3C,MAAO,OAGxB81C,aAAcnY,GAAYmG,cAC1BiS,eAAgBpY,GAAYkG,eAIhCsT,cAEI9R,SAAUF,GAAcC,OACpBqM,GAAY5S,OACZ4S,GAAY4B,iBAER+D,mBAAqBp3C,MAAO,IAAI6G,IAChCwwC,cAAgBr3C,MAAO,GACvBs3C,aAAet3C,MAAO,QAI9B81C,aAAcnY,GAAYiG,kBAC1BmS,eAAgBpY,GAAYgG,mBAIhC4Q,QAEIlP,SAAUF,GAAcC,OACpBqM,GAAY0C,OACZ1C,GAAYrvC,KAER4B,OAAShE,MAAO,IAAImC,GAAO,IAC3BwvC,SAAW3xC,MAAO,MAI1B81C,aAAcnY,GAAYqH,YAC1B+Q,eAAgBpY,GAAYoH,cAyBpC,SAASwS,KAEL,IAAIrlB,EAAU,KACVslB,GAAc,EACdC,EAAgB,KAEpB,SAASC,EAAkBC,EAAMC,IAER,IAAhBJ,IAELC,EAAeE,EAAMC,GAErB1lB,EAAQ3rB,sBAAuBmxC,IAInC,OAEIjc,MAAO,YAEkB,IAAhB+b,GACkB,OAAlBC,IAELvlB,EAAQ3rB,sBAAuBmxC,GAE/BF,GAAc,IAIlBK,KAAM,WAEFL,GAAc,GAIlBM,iBAAkB,SAAWppB,GAEzB+oB,EAAgB/oB,GAIpBqpB,WAAY,SAAW/3C,GAEnBkyB,EAAUlyB,IAYtB,SAASg4C,GAAiBC,GAEtB,IAAIC,EAAU,IAAIC,QAyIlB,OAEIv4C,IA9CJ,SAAcohB,GAIV,OAFKA,EAAUo3B,+BAA+Bp3B,EAAYA,EAAU0T,MAE7DwjB,EAAQt4C,IAAKohB,IA2CpB/a,OAvCJ,SAAiB+a,GAERA,EAAUo3B,+BAA+Bp3B,EAAYA,EAAU0T,MAEpE,IAAIA,EAAOwjB,EAAQt4C,IAAKohB,GAEnB0T,IAEDujB,EAAGI,aAAc3jB,EAAK4jB,QAEtBJ,EAAQK,OAAQv3B,KA8BpBxa,OAxBJ,SAAiBwa,EAAWw3B,GAEnBx3B,EAAUo3B,+BAA+Bp3B,EAAYA,EAAU0T,MAEpE,IAAIA,EAAOwjB,EAAQt4C,IAAKohB,QAEVta,IAATguB,EAEDwjB,EAAQr1C,IAAKme,EA3HrB,SAAuBA,EAAWw3B,GAE9B,IAAIjlC,EAAQyN,EAAUzN,MAClBklC,EAAQz3B,EAAU03B,QAAUT,EAAGU,aAAeV,EAAGW,YAEjDN,EAASL,EAAGY,eAEhBZ,EAAGa,WAAYN,EAAYF,GAC3BL,EAAGc,WAAYP,EAAYjlC,EAAOklC,GAElCz3B,EAAUg4B,mBAEV,IAAIjtC,EAAOksC,EAAGgB,MAoCd,OAlCK1lC,aAAiB2lC,aAElBntC,EAAOksC,EAAGgB,MAEF1lC,aAAiB4lC,aAEzBtqC,QAAQC,KAAM,wEAENyE,aAAiB6lC,YAEzBrtC,EAAOksC,EAAGoB,eAEF9lC,aAAiB+lC,WAEzBvtC,EAAOksC,EAAGsB,MAEFhmC,aAAiBimC,YAEzBztC,EAAOksC,EAAGwB,aAEFlmC,aAAiBmmC,WAEzB3tC,EAAOksC,EAAG0B,IAEFpmC,aAAiBqmC,UAEzB7tC,EAAOksC,EAAG4B,KAEFtmC,aAAiBumC,aAEzB/tC,EAAOksC,EAAG8B,gBAKVzB,OAAQA,EACRvsC,KAAMA,EACNiuC,gBAAiBzmC,EAAM0mC,kBACvBvmB,QAAS1S,EAAU0S,SAuEKmlB,CAAc73B,EAAWw3B,IAEzC9jB,EAAKhB,QAAU1S,EAAU0S,UApEzC,SAAuB4kB,EAAQt3B,EAAWw3B,GAEtC,IAAIjlC,EAAQyN,EAAUzN,MAClB2mC,EAAcl5B,EAAUk5B,YAE5BjC,EAAGa,WAAYN,EAAYF,IAEA,IAAtBt3B,EAAU03B,QAEXT,EAAGc,WAAYP,EAAYjlC,EAAO0kC,EAAGW,cAEL,IAAxBsB,EAAYpzB,MAIpBmxB,EAAGkC,cAAe3B,EAAY,EAAGjlC,GAEH,IAAtB2mC,EAAYpzB,MAEpBjY,QAAQgP,MAAO,4KAIfo6B,EAAGkC,cAAe3B,EAAY0B,EAAYzwC,OAAS8J,EAAM0mC,kBACrD1mC,EAAM6mC,SAAUF,EAAYzwC,OAAQywC,EAAYzwC,OAASywC,EAAYpzB,QAEzEozB,EAAYpzB,OAAU,GA4CtBuzB,CAAc3lB,EAAK4jB,OAAQt3B,EAAWw3B,GAEtC9jB,EAAKhB,QAAU1S,EAAU0S,WAqBrC,SAAS4mB,GAAOt7B,EAAGC,EAAG7f,EAAGoxB,EAAQxsB,EAAOu2C,GAEpCx0C,KAAKiZ,EAAIA,EACTjZ,KAAKkZ,EAAIA,EACTlZ,KAAK3G,EAAIA,EAET2G,KAAKyqB,OAAWA,GAAUA,EAAO7B,UAAc6B,EAAS,IAAI3pB,GAC5Dd,KAAKy0C,cAAgBvkB,MAAMC,QAAS1F,GAAWA,KAE/CzqB,KAAK/B,MAAUA,GAASA,EAAM2hC,QAAY3hC,EAAQ,IAAI7B,GACtD4D,KAAK00C,aAAexkB,MAAMC,QAASlyB,GAAUA,KAE7C+B,KAAKw0C,mBAAkC7zC,IAAlB6zC,EAA8BA,EAAgB,EA+CvE,SAASG,GAAOv1C,EAAGC,EAAGC,EAAGme,GAErBzd,KAAKgY,GAAK5Y,GAAK,EACfY,KAAKiY,GAAK5Y,GAAK,EACfW,KAAKkY,GAAK5Y,GAAK,EACfU,KAAK40C,OAASn3B,GAASk3B,GAAME,aAkVjC,SAASC,KAEL90C,KAAK+0C,KAAO,EAxnBhBlF,GAAUmF,UAEN1V,SAAUF,GAAcC,OACpBwQ,GAAUS,SAAShR,UAEf2V,WAAah7C,MAAO,GACpBi7C,oBAAsBj7C,MAAO,MAIrC81C,aAAcnY,GAAY+G,kBAC1BqR,eAAgBpY,GAAY8G,mBAyOhChlC,OAAO+S,OAAQ8nC,GAAM35C,WAEjB4H,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW2J,GAEb9M,KAAKiZ,EAAInM,EAAOmM,EAChBjZ,KAAKkZ,EAAIpM,EAAOoM,EAChBlZ,KAAK3G,EAAIyT,EAAOzT,EAEhB2G,KAAKyqB,OAAOtnB,KAAM2J,EAAO2d,QACzBzqB,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAExB+B,KAAKw0C,cAAgB1nC,EAAO0nC,cAE5B,IAAM,IAAIx7C,EAAI,EAAG04B,EAAK5kB,EAAO2nC,cAAc10C,OAAQ/G,EAAI04B,EAAI14B,IAEvDgH,KAAKy0C,cAAez7C,GAAM8T,EAAO2nC,cAAez7C,GAAIwJ,QAIxD,IAAUxJ,EAAI,EAAG04B,EAAK5kB,EAAO4nC,aAAa30C,OAAQ/G,EAAI04B,EAAI14B,IAEtDgH,KAAK00C,aAAc17C,GAAM8T,EAAO4nC,aAAc17C,GAAIwJ,QAItD,OAAOxC,QAqBf20C,GAAMQ,gBAAmB,MAAO,MAAO,MAAO,MAAO,MAAO,OAE5DR,GAAME,aAAe,MAErBn7C,OAAOsR,iBAAkB2pC,GAAM/5C,WAE3BwE,GAEIvF,IAAK,WAED,OAAOmG,KAAKgY,IAIhBlb,IAAK,SAAW7C,GAEZ+F,KAAKgY,GAAK/d,EACV+F,KAAK+lB,qBAMb1mB,GAEIxF,IAAK,WAED,OAAOmG,KAAKiY,IAIhBnb,IAAK,SAAW7C,GAEZ+F,KAAKiY,GAAKhe,EACV+F,KAAK+lB,qBAMbzmB,GAEIzF,IAAK,WAED,OAAOmG,KAAKkY,IAIhBpb,IAAK,SAAW7C,GAEZ+F,KAAKkY,GAAKje,EACV+F,KAAK+lB,qBAMbtI,OAEI5jB,IAAK,WAED,OAAOmG,KAAK40C,QAIhB93C,IAAK,SAAW7C,GAEZ+F,KAAK40C,OAAS36C,EACd+F,KAAK+lB,uBAQjBrsB,OAAO+S,OAAQkoC,GAAM/5C,WAEjB2iB,SAAS,EAETzgB,IAAK,SAAWsC,EAAGC,EAAGC,EAAGme,GASrB,OAPAzd,KAAKgY,GAAK5Y,EACVY,KAAKiY,GAAK5Y,EACVW,KAAKkY,GAAK5Y,EACVU,KAAK40C,OAASn3B,GAASzd,KAAK40C,OAE5B50C,KAAK+lB,mBAEE/lB,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKgY,GAAIhY,KAAKiY,GAAIjY,KAAKkY,GAAIlY,KAAK40C,SAIjEzxC,KAAM,SAAWma,GASb,OAPAtd,KAAKgY,GAAKsF,EAAMtF,GAChBhY,KAAKiY,GAAKqF,EAAMrF,GAChBjY,KAAKkY,GAAKoF,EAAMpF,GAChBlY,KAAK40C,OAASt3B,EAAMs3B,OAEpB50C,KAAK+lB,mBAEE/lB,MAIXkkB,sBAAuB,SAAW9qB,EAAGqkB,EAAOhd,GAExC,IAAIyV,EAAQV,GAAMU,MAIdsG,EAAKpjB,EAAEye,SACP6O,EAAMlK,EAAI,GAAKmK,EAAMnK,EAAI,GAAKoK,EAAMpK,EAAI,GACxCqK,EAAMrK,EAAI,GAAKsK,EAAMtK,EAAI,GAAKuK,EAAMvK,EAAI,GACxCwK,EAAMxK,EAAI,GAAKyK,EAAMzK,EAAI,GAAK0K,EAAM1K,EAAI,IA8G5C,MA1Ge,SAFfiB,EAAQA,GAASzd,KAAK40C,SAIlB50C,KAAKiY,GAAK3a,KAAK83C,KAAMl/B,EAAO0Q,GAAO,EAAG,IAEjCtpB,KAAK6c,IAAKyM,GAAQ,QAEnB5mB,KAAKgY,GAAK1a,KAAK+c,OAAS0M,EAAKG,GAC7BlnB,KAAKkY,GAAK5a,KAAK+c,OAASsM,EAAKD,KAI7B1mB,KAAKgY,GAAK1a,KAAK+c,MAAO4M,EAAKH,GAC3B9mB,KAAKkY,GAAK,IAII,QAAVuF,GAERzd,KAAKgY,GAAK1a,KAAK83C,MAAQl/B,EAAO6Q,GAAO,EAAG,IAEnCzpB,KAAK6c,IAAK4M,GAAQ,QAEnB/mB,KAAKiY,GAAK3a,KAAK+c,MAAOuM,EAAKM,GAC3BlnB,KAAKkY,GAAK5a,KAAK+c,MAAOwM,EAAKC,KAI3B9mB,KAAKiY,GAAK3a,KAAK+c,OAAS2M,EAAKN,GAC7B1mB,KAAKkY,GAAK,IAII,QAAVuF,GAERzd,KAAKgY,GAAK1a,KAAK83C,KAAMl/B,EAAO+Q,GAAO,EAAG,IAEjC3pB,KAAK6c,IAAK8M,GAAQ,QAEnBjnB,KAAKiY,GAAK3a,KAAK+c,OAAS2M,EAAKE,GAC7BlnB,KAAKkY,GAAK5a,KAAK+c,OAASsM,EAAKG,KAI7B9mB,KAAKiY,GAAK,EACVjY,KAAKkY,GAAK5a,KAAK+c,MAAOwM,EAAKH,KAIb,QAAVjJ,GAERzd,KAAKiY,GAAK3a,KAAK83C,MAAQl/B,EAAO8Q,GAAO,EAAG,IAEnC1pB,KAAK6c,IAAK6M,GAAQ,QAEnBhnB,KAAKgY,GAAK1a,KAAK+c,MAAO4M,EAAKC,GAC3BlnB,KAAKkY,GAAK5a,KAAK+c,MAAOwM,EAAKH,KAI3B1mB,KAAKgY,GAAK,EACVhY,KAAKkY,GAAK5a,KAAK+c,OAASsM,EAAKG,KAIf,QAAVrJ,GAERzd,KAAKkY,GAAK5a,KAAK83C,KAAMl/B,EAAO2Q,GAAO,EAAG,IAEjCvpB,KAAK6c,IAAK0M,GAAQ,QAEnB7mB,KAAKgY,GAAK1a,KAAK+c,OAAS0M,EAAKD,GAC7B9mB,KAAKiY,GAAK3a,KAAK+c,OAAS2M,EAAKN,KAI7B1mB,KAAKgY,GAAK,EACVhY,KAAKiY,GAAK3a,KAAK+c,MAAOuM,EAAKM,KAIb,QAAVzJ,GAERzd,KAAKkY,GAAK5a,KAAK83C,MAAQl/B,EAAOyQ,GAAO,EAAG,IAEnCrpB,KAAK6c,IAAKwM,GAAQ,QAEnB3mB,KAAKgY,GAAK1a,KAAK+c,MAAO4M,EAAKH,GAC3B9mB,KAAKiY,GAAK3a,KAAK+c,MAAOuM,EAAKF,KAI3B1mB,KAAKgY,GAAK1a,KAAK+c,OAAS0M,EAAKG,GAC7BlnB,KAAKiY,GAAK,IAMdnP,QAAQC,KAAM,kEAAoE0U,GAItFzd,KAAK40C,OAASn3B,GAEE,IAAXhd,GAAmBT,KAAK+lB,mBAEtB/lB,MAIXq1C,kBAAmB,WAEf,IAAI9sC,EAAS,IAAIqP,GAEjB,OAAO,SAA4B6G,EAAGhB,EAAOhd,GAIzC,OAFA8H,EAAO+V,2BAA4BG,GAE5Bze,KAAKkkB,sBAAuB3b,EAAQkV,EAAOhd,IARvC,GAcnB4D,eAAgB,SAAWmD,EAAGiW,GAE1B,OAAOzd,KAAKlD,IAAK0K,EAAEpI,EAAGoI,EAAEnI,EAAGmI,EAAElI,EAAGme,GAASzd,KAAK40C,SAIlDU,QAAS,WAIL,IAAI72B,EAAI,IAAI7a,GAEZ,OAAO,SAAkB2xC,GAIrB,OAFA92B,EAAEwH,aAAcjmB,MAETA,KAAKq1C,kBAAmB52B,EAAG82B,IAVjC,GAgBT16B,OAAQ,SAAWyC,GAEf,OAASA,EAAMtF,KAAOhY,KAAKgY,IAAUsF,EAAMrF,KAAOjY,KAAKiY,IAAUqF,EAAMpF,KAAOlY,KAAKkY,IAAUoF,EAAMs3B,SAAW50C,KAAK40C,QAIvH95B,UAAW,SAAWtN,GASlB,OAPAxN,KAAKgY,GAAKxK,EAAO,GACjBxN,KAAKiY,GAAKzK,EAAO,GACjBxN,KAAKkY,GAAK1K,EAAO,QACG7M,IAAf6M,EAAO,KAAoBxN,KAAK40C,OAASpnC,EAAO,IAErDxN,KAAK+lB,mBAEE/lB,MAIX+a,QAAS,SAAWvN,EAAO9J,GAUvB,YARe/C,IAAV6M,IAAsBA,WACX7M,IAAX+C,IAAuBA,EAAS,GAErC8J,EAAO9J,GAAW1D,KAAKgY,GACvBxK,EAAO9J,EAAS,GAAM1D,KAAKiY,GAC3BzK,EAAO9J,EAAS,GAAM1D,KAAKkY,GAC3B1K,EAAO9J,EAAS,GAAM1D,KAAK40C,OAEpBpnC,GAIXgoC,UAAW,SAAWC,GAElB,OAAKA,EAEMA,EAAe34C,IAAKkD,KAAKgY,GAAIhY,KAAKiY,GAAIjY,KAAKkY,IAI3C,IAAIpX,GAASd,KAAKgY,GAAIhY,KAAKiY,GAAIjY,KAAKkY,KAMnDwQ,SAAU,SAAWC,GAIjB,OAFA3oB,KAAK+lB,iBAAmB4C,EAEjB3oB,MAIX+lB,iBAAkB,eActBrsB,OAAO+S,OAAQqoC,GAAOl6C,WAElBkC,IAAK,SAAW44C,GAEZ11C,KAAK+0C,KAAO,GAAKW,EAAU,GAI/BC,OAAQ,SAAWD,GAEf11C,KAAK+0C,MAAQ,GAAKW,EAAU,GAIhCE,OAAQ,SAAWF,GAEf11C,KAAK+0C,MAAQ,GAAKW,EAAU,GAIhCG,QAAS,SAAWH,GAEhB11C,KAAK+0C,QAAY,GAAKW,EAAU,IAIpCI,KAAM,SAAWC,GAEb,OAAuC,IAA9B/1C,KAAK+0C,KAAOgB,EAAOhB,SAcpC,IAAIiB,GAAa,EAEjB,SAASC,KAELv8C,OAAOC,eAAgBqG,KAAM,MAAQ/F,MAAO+7C,OAE5Ch2C,KAAKH,KAAO2V,GAAMG,eAElB3V,KAAKzG,KAAO,GACZyG,KAAKgG,KAAO,WAEZhG,KAAKk2C,OAAS,KACdl2C,KAAKm2C,YAELn2C,KAAK8D,GAAKmyC,GAASG,UAAU5zC,QAE7B,IAAI3F,EAAW,IAAIiE,GACf0qB,EAAW,IAAImpB,GACfvvC,EAAa,IAAIxB,GACjB1E,EAAQ,IAAI4B,GAAS,EAAG,EAAG,GAc/B0qB,EAAS9C,SAZT,WAEItjB,EAAW6gB,aAAcuF,GAAU,KAWvCpmB,EAAWsjB,SAPX,WAEI8C,EAAS6pB,kBAAmBjwC,OAAYzE,GAAW,KAOvDjH,OAAOsR,iBAAkBhL,MACrBnD,UACIjD,YAAY,EACZK,MAAO4C,GAEX2uB,UACI5xB,YAAY,EACZK,MAAOuxB,GAEXpmB,YACIxL,YAAY,EACZK,MAAOmL,GAEXlG,OACItF,YAAY,EACZK,MAAOiF,GAEXm3C,iBACIp8C,MAAO,IAAI2d,IAEfse,cACIj8B,MAAO,IAAIme,MAInBpY,KAAKuI,OAAS,IAAIqP,GAClB5X,KAAK6pB,YAAc,IAAIjS,GAEvB5X,KAAKR,iBAAmBy2C,GAASK,wBACjCt2C,KAAKu2C,wBAAyB,EAE9Bv2C,KAAK+1C,OAAS,IAAIjB,GAClB90C,KAAKw2C,SAAU,EAEfx2C,KAAKy2C,YAAa,EAClBz2C,KAAK02C,eAAgB,EAErB12C,KAAK22C,eAAgB,EACrB32C,KAAK42C,YAAc,EAEnB52C,KAAK62C,YAITZ,GAASG,UAAY,IAAIt1C,GAAS,EAAG,EAAG,GACxCm1C,GAASK,yBAA0B,EAEnCL,GAASr7C,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAE/DmQ,YAAakrC,GAEba,YAAY,EAEZC,eAAgB,aAChBC,cAAe,aAEfC,YAAa,SAAW1uC,GAEpBvI,KAAKuI,OAAOqW,iBAAkBrW,EAAQvI,KAAKuI,QAE3CvI,KAAKuI,OAAOsb,UAAW7jB,KAAKnD,SAAUmD,KAAKoF,WAAYpF,KAAKd,QAIhEkF,gBAAiB,SAAWqa,GAIxB,OAFAze,KAAKoF,WAAWyZ,YAAaJ,GAEtBze,MAIXk3C,yBAA0B,SAAWz0B,EAAMpb,GAIvCrH,KAAKoF,WAAWohB,iBAAkB/D,EAAMpb,IAI5C8vC,qBAAsB,SAAW75B,GAE7Btd,KAAKoF,WAAW6gB,aAAc3I,GAAO,IAIzC85B,sBAAuB,SAAWh+C,GAI9B4G,KAAKoF,WAAW8e,sBAAuB9qB,IAI3Ci+C,0BAA2B,SAAW54B,GAIlCze,KAAKoF,WAAWjC,KAAMsb,IAI1B64B,aAAc,WAKV,IAAIC,EAAK,IAAI3zC,GAEb,OAAO,SAAuB6e,EAAMpb,GAMhC,OAJAkwC,EAAG/wB,iBAAkB/D,EAAMpb,GAE3BrH,KAAKoF,WAAWiU,SAAUk+B,GAEnBv3C,MAbD,GAmBdw3C,kBAAmB,WAMf,IAAID,EAAK,IAAI3zC,GAEb,OAAO,SAA4B6e,EAAMpb,GAMrC,OAJAkwC,EAAG/wB,iBAAkB/D,EAAMpb,GAE3BrH,KAAKoF,WAAWyZ,YAAa04B,GAEtBv3C,MAdI,GAoBnBy3C,QAAS,WAEL,IAAI98B,EAAK,IAAI7Z,GAAS,EAAG,EAAG,GAE5B,OAAO,SAAkBuG,GAErB,OAAOrH,KAAKs3C,aAAc38B,EAAItT,IAN7B,GAYTqwC,QAAS,WAEL,IAAI/8B,EAAK,IAAI7Z,GAAS,EAAG,EAAG,GAE5B,OAAO,SAAkBuG,GAErB,OAAOrH,KAAKs3C,aAAc38B,EAAItT,IAN7B,GAYTswC,QAAS,WAEL,IAAIh9B,EAAK,IAAI7Z,GAAS,EAAG,EAAG,GAE5B,OAAO,SAAkBuG,GAErB,OAAOrH,KAAKs3C,aAAc38B,EAAItT,IAN7B,GAYTuwC,gBAAiB,WAKb,IAAIj9B,EAAK,IAAI7Z,GAEb,OAAO,SAA0B2hB,EAAMhb,GAMnC,OAJAkT,EAAGxX,KAAMsf,GAAOre,gBAAiBpE,KAAKoF,YAEtCpF,KAAKnD,SAAS4C,IAAKkb,EAAG5V,eAAgB0C,IAE/BzH,MAbE,GAmBjB63C,WAAY,WAER,IAAIl9B,EAAK,IAAI7Z,GAAS,EAAG,EAAG,GAE5B,OAAO,SAAqB2G,GAExB,OAAOzH,KAAK43C,gBAAiBj9B,EAAIlT,IAN7B,GAYZqwC,WAAY,WAER,IAAIn9B,EAAK,IAAI7Z,GAAS,EAAG,EAAG,GAE5B,OAAO,SAAqB2G,GAExB,OAAOzH,KAAK43C,gBAAiBj9B,EAAIlT,IAN7B,GAYZswC,WAAY,WAER,IAAIp9B,EAAK,IAAI7Z,GAAS,EAAG,EAAG,GAE5B,OAAO,SAAqB2G,GAExB,OAAOzH,KAAK43C,gBAAiBj9B,EAAIlT,IAN7B,GAYZuwC,aAAc,SAAWl0B,GAErB,OAAOA,EAAO7C,aAAcjhB,KAAK6pB,cAIrCouB,aAAc,WAEV,IAAIjiB,EAAK,IAAIpe,GAEb,OAAO,SAAuBkM,GAE1B,OAAOA,EAAO7C,aAAc+U,EAAGzU,WAAYvhB,KAAK6pB,eAN1C,GAYd/kB,OAAQ,WAIJ,IAAIyyC,EAAK,IAAI3zC,GACToyB,EAAK,IAAIpe,GACT/W,EAAS,IAAIC,GACbjE,EAAW,IAAIiE,GAEnB,OAAO,SAAiB1B,EAAGC,EAAGC,GAErBF,EAAEwpB,UAEH/nB,EAAOsC,KAAM/D,GAIbyB,EAAO/D,IAAKsC,EAAGC,EAAGC,GAItB,IAAI42C,EAASl2C,KAAKk2C,OAElBl2C,KAAKk4C,mBAAmB,GAAM,GAE9Br7C,EAASkuB,sBAAuB/qB,KAAK6pB,aAEhC7pB,KAAKm4C,SAENniB,EAAGlxB,OAAQjI,EAAUgE,EAAQb,KAAK8D,IAIlCkyB,EAAGlxB,OAAQjE,EAAQhE,EAAUmD,KAAK8D,IAItC9D,KAAKoF,WAAW8e,sBAAuB8R,GAElCkgB,IAEDlgB,EAAG/Y,gBAAiBi5B,EAAOrsB,aAC3B0tB,EAAGrzB,sBAAuB8R,GAC1Bh2B,KAAKoF,WAAWyZ,YAAa04B,EAAGvzC,aA3CpC,GAmDRvE,IAAK,SAAW/E,GAEZ,GAAKmS,UAAU9M,OAAS,EAAI,CAExB,IAAM,IAAI/G,EAAI,EAAGA,EAAI6T,UAAU9M,OAAQ/G,IAEnCgH,KAAKP,IAAKoN,UAAW7T,IAIzB,OAAOgH,KAIX,OAAKtF,IAAWsF,MAEZ8I,QAAQgP,MAAO,kEAAmEpd,GAC3EsF,OAIJtF,GAAUA,EAAOo8C,YAEG,OAAlBp8C,EAAOw7C,QAERx7C,EAAOw7C,OAAOh2C,OAAQxF,GAI1BA,EAAOw7C,OAASl2C,KAChBtF,EAAO2I,eAAiB2C,KAAM,UAE9BhG,KAAKm2C,SAAS/oC,KAAM1S,IAIpBoO,QAAQgP,MAAO,gEAAiEpd,GAI7EsF,OAIXE,OAAQ,SAAWxF,GAEf,GAAKmS,UAAU9M,OAAS,EAAI,CAExB,IAAM,IAAI/G,EAAI,EAAGA,EAAI6T,UAAU9M,OAAQ/G,IAEnCgH,KAAKE,OAAQ2M,UAAW7T,IAI5B,OAAOgH,KAIX,IAAI4M,EAAQ5M,KAAKm2C,SAAShpC,QAASzS,GAYnC,OAViB,IAAZkS,IAEDlS,EAAOw7C,OAAS,KAEhBx7C,EAAO2I,eAAiB2C,KAAM,YAE9BhG,KAAKm2C,SAAS5oC,OAAQX,EAAO,IAI1B5M,MAIXo4C,cAAe,SAAWC,GAEtB,OAAOr4C,KAAKs4C,oBAAqB,KAAMD,IAI3CE,gBAAiB,SAAWh/C,GAExB,OAAOyG,KAAKs4C,oBAAqB,OAAQ/+C,IAI7C++C,oBAAqB,SAAW/+C,EAAMU,GAElC,GAAK+F,KAAMzG,KAAWU,EAAQ,OAAO+F,KAErC,IAAM,IAAIhH,EAAI,EAAGC,EAAI+G,KAAKm2C,SAASp2C,OAAQ/G,EAAIC,EAAGD,IAAO,CAErD,IACI0B,EADQsF,KAAKm2C,SAAUn9C,GACRs/C,oBAAqB/+C,EAAMU,GAE9C,QAAgB0G,IAAXjG,EAED,OAAOA,IAUnB89C,iBAAkB,SAAW33C,GAWzB,YATgBF,IAAXE,IAEDiI,QAAQC,KAAM,8DACdlI,EAAS,IAAIC,IAIjBd,KAAK+yB,mBAAmB,GAEjBlyB,EAAOkqB,sBAAuB/qB,KAAK6pB,cAI9C4uB,mBAAoB,WAEhB,IAAI57C,EAAW,IAAIiE,GACf5B,EAAQ,IAAI4B,GAEhB,OAAO,SAA6BD,GAahC,YAXgBF,IAAXE,IAEDiI,QAAQC,KAAM,gEACdlI,EAAS,IAAI+C,IAIjB5D,KAAK+yB,mBAAmB,GAExB/yB,KAAK6pB,YAAYhG,UAAWhnB,EAAUgE,EAAQ3B,GAEvC2B,GAlBK,GAwBpB63C,cAAe,WAEX,IAAI77C,EAAW,IAAIiE,GACfsE,EAAa,IAAIxB,GAErB,OAAO,SAAwB/C,GAa3B,YAXgBF,IAAXE,IAEDiI,QAAQC,KAAM,2DACdlI,EAAS,IAAIC,IAIjBd,KAAK+yB,mBAAmB,GAExB/yB,KAAK6pB,YAAYhG,UAAWhnB,EAAUuI,EAAYvE,GAE3CA,GAlBA,GAwBf83C,kBAAmB,SAAW93C,QAEVF,IAAXE,IAEDiI,QAAQC,KAAM,+DACdlI,EAAS,IAAIC,IAIjBd,KAAK+yB,mBAAmB,GAExB,IAAIh0B,EAAIiB,KAAK6pB,YAAYhS,SAEzB,OAAOhX,EAAO/D,IAAKiC,EAAG,GAAKA,EAAG,GAAKA,EAAG,KAAOqb,aAIjDw+B,QAAS,aAETpmB,SAAU,SAAW7J,GAEjBA,EAAU3oB,MAIV,IAFA,IAAIm2C,EAAWn2C,KAAKm2C,SAEVn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzCm9C,EAAUn9C,GAAIw5B,SAAU7J,IAMhCkwB,gBAAiB,SAAWlwB,GAExB,IAAsB,IAAjB3oB,KAAKw2C,QAAV,CAEA7tB,EAAU3oB,MAIV,IAFA,IAAIm2C,EAAWn2C,KAAKm2C,SAEVn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzCm9C,EAAUn9C,GAAI6/C,gBAAiBlwB,KAMvCmwB,kBAAmB,SAAWnwB,GAE1B,IAAIutB,EAASl2C,KAAKk2C,OAEF,OAAXA,IAEDvtB,EAAUutB,GAEVA,EAAO4C,kBAAmBnwB,KAMlCppB,aAAc,WAEVS,KAAKuI,OAAOmW,QAAS1e,KAAKnD,SAAUmD,KAAKoF,WAAYpF,KAAKd,OAE1Dc,KAAKu2C,wBAAyB,GAIlCxjB,kBAAmB,SAAWgmB,GAErB/4C,KAAKR,kBAAmBQ,KAAKT,gBAE7BS,KAAKu2C,wBAA0BwC,KAEX,OAAhB/4C,KAAKk2C,OAENl2C,KAAK6pB,YAAY1mB,KAAMnD,KAAKuI,QAI5BvI,KAAK6pB,YAAYjL,iBAAkB5e,KAAKk2C,OAAOrsB,YAAa7pB,KAAKuI,QAIrEvI,KAAKu2C,wBAAyB,EAE9BwC,GAAQ,GAQZ,IAFA,IAAI5C,EAAWn2C,KAAKm2C,SAEVn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzCm9C,EAAUn9C,GAAI+5B,kBAAmBgmB,IAMzCb,kBAAmB,SAAWc,EAAeC,GAEzC,IAAI/C,EAASl2C,KAAKk2C,OAsBlB,IApBuB,IAAlB8C,GAAqC,OAAX9C,GAE3BA,EAAOgC,mBAAmB,GAAM,GAI/Bl4C,KAAKR,kBAAmBQ,KAAKT,eAEb,OAAhBS,KAAKk2C,OAENl2C,KAAK6pB,YAAY1mB,KAAMnD,KAAKuI,QAI5BvI,KAAK6pB,YAAYjL,iBAAkB5e,KAAKk2C,OAAOrsB,YAAa7pB,KAAKuI,SAM7C,IAAnB0wC,EAID,IAFA,IAAI9C,EAAWn2C,KAAKm2C,SAEVn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzCm9C,EAAUn9C,GAAIk/C,mBAAmB,GAAO,IAQpDzoB,OAAQ,SAAWC,GAGf,IAAIC,OAA0BhvB,IAAT+uB,GAAsC,iBAATA,EAE9C/iB,KAKCgjB,IAGDD,GACIwpB,cACAC,aACAvpB,YACAI,UACAopB,WAGJzsC,EAAOkjB,UACHlC,QAAS,IACT3nB,KAAM,SACN8pB,UAAW,oBAOnB,IAAIp1B,KAoBJ,SAAS2+C,EAAWC,EAASrxC,GAQzB,YANiCtH,IAA5B24C,EAASrxC,EAAQpI,QAElBy5C,EAASrxC,EAAQpI,MAASoI,EAAQwnB,OAAQC,IAIvCznB,EAAQpI,KAInB,GA9BAnF,EAAOmF,KAAOG,KAAKH,KACnBnF,EAAOsL,KAAOhG,KAAKgG,KAEA,KAAdhG,KAAKzG,OAAcmB,EAAOnB,KAAOyG,KAAKzG,OAClB,IAApByG,KAAKy2C,aAAsB/7C,EAAO+7C,YAAa,IACxB,IAAvBz2C,KAAK02C,gBAAyBh8C,EAAOg8C,eAAgB,IACpC,IAAjB12C,KAAKw2C,UAAoB97C,EAAO87C,SAAU,IACnB,IAAvBx2C,KAAK22C,gBAA0Bj8C,EAAOi8C,eAAgB,GACjC,IAArB32C,KAAK42C,cAAoBl8C,EAAOk8C,YAAc52C,KAAK42C,aACf,OAApC2C,KAAKC,UAAWx5C,KAAK62C,YAAsBn8C,EAAOm8C,SAAW72C,KAAK62C,UAEvEn8C,EAAOq7C,OAAS/1C,KAAK+1C,OAAOhB,KAC5Br6C,EAAO6N,OAASvI,KAAKuI,OAAOwS,WAEG,IAA1B/a,KAAKR,mBAA6B9E,EAAO8E,kBAAmB,GAgB5DQ,KAAKy5C,QAAUz5C,KAAK05C,QAAU15C,KAAK25C,SAAW,CAE/Cj/C,EAAOg4B,SAAW2mB,EAAW3pB,EAAKwpB,WAAYl5C,KAAK0yB,UAEnD,IAAIknB,EAAa55C,KAAK0yB,SAASknB,WAE/B,QAAoBj5C,IAAfi5C,QAAkDj5C,IAAtBi5C,EAAWR,OAAuB,CAE/D,IAAIA,EAASQ,EAAWR,OAExB,GAAKlpB,MAAMC,QAASipB,GAEhB,IAAM,IAAIpgD,EAAI,EAAGC,EAAImgD,EAAOr5C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAI6gD,EAAQT,EAAQpgD,GAEpBqgD,EAAW3pB,EAAK0pB,OAAQS,QAM5BR,EAAW3pB,EAAK0pB,OAAQA,IAQpC,QAAuBz4C,IAAlBX,KAAKjC,SAEN,GAAKmyB,MAAMC,QAASnwB,KAAKjC,UAAa,CAElC,IAAI+7C,KAEJ,IAAU9gD,EAAI,EAAGC,EAAI+G,KAAKjC,SAASgC,OAAQ/G,EAAIC,EAAGD,IAE9C8gD,EAAM1sC,KAAMisC,EAAW3pB,EAAKypB,UAAWn5C,KAAKjC,SAAU/E,KAI1D0B,EAAOqD,SAAW+7C,OAIlBp/C,EAAOqD,SAAWs7C,EAAW3pB,EAAKypB,UAAWn5C,KAAKjC,UAQ1D,GAAKiC,KAAKm2C,SAASp2C,OAAS,EAAI,CAE5BrF,EAAOy7C,YAEP,IAAUn9C,EAAI,EAAGA,EAAIgH,KAAKm2C,SAASp2C,OAAQ/G,IAEvC0B,EAAOy7C,SAAS/oC,KAAMpN,KAAKm2C,SAAUn9C,GAAIy2B,OAAQC,GAAOh1B,QAMhE,GAAKi1B,EAAe,CAEhB,IAAIupB,EAAaa,EAAkBrqB,EAAKwpB,YACpCC,EAAYY,EAAkBrqB,EAAKypB,WACnCvpB,EAAWmqB,EAAkBrqB,EAAKE,UAClCI,EAAS+pB,EAAkBrqB,EAAKM,QAChCopB,EAASW,EAAkBrqB,EAAK0pB,QAE/BF,EAAWn5C,OAAS,IAAI4M,EAAOusC,WAAaA,GAC5CC,EAAUp5C,OAAS,IAAI4M,EAAOwsC,UAAYA,GAC1CvpB,EAAS7vB,OAAS,IAAI4M,EAAOijB,SAAWA,GACxCI,EAAOjwB,OAAS,IAAI4M,EAAOqjB,OAASA,GACpCopB,EAAOr5C,OAAS,IAAI4M,EAAOysC,OAASA,GAM7C,OAFAzsC,EAAOjS,OAASA,EAETiS,EAKP,SAASotC,EAAkBC,GAEvB,IAAIC,KACJ,IAAM,IAAI1/C,KAAOy/C,EAAQ,CAErB,IAAIrrB,EAAOqrB,EAAOz/C,UACXo0B,EAAKkB,SACZoqB,EAAO7sC,KAAMuhB,GAGjB,OAAOsrB,IAMfz3C,MAAO,SAAW03C,GAEd,OAAO,IAAIl6C,KAAK+K,aAAc5H,KAAMnD,KAAMk6C,IAI9C/2C,KAAM,SAAW2J,EAAQotC,GA6BrB,QA3BmBv5C,IAAdu5C,IAA0BA,GAAY,GAE3Cl6C,KAAKzG,KAAOuT,EAAOvT,KAEnByG,KAAK8D,GAAGX,KAAM2J,EAAOhJ,IAErB9D,KAAKnD,SAASsG,KAAM2J,EAAOjQ,UAC3BmD,KAAKoF,WAAWjC,KAAM2J,EAAO1H,YAC7BpF,KAAKd,MAAMiE,KAAM2J,EAAO5N,OAExBc,KAAKuI,OAAOpF,KAAM2J,EAAOvE,QACzBvI,KAAK6pB,YAAY1mB,KAAM2J,EAAO+c,aAE9B7pB,KAAKR,iBAAmBsN,EAAOtN,iBAC/BQ,KAAKu2C,uBAAyBzpC,EAAOypC,uBAErCv2C,KAAK+1C,OAAOhB,KAAOjoC,EAAOipC,OAAOhB,KACjC/0C,KAAKw2C,QAAU1pC,EAAO0pC,QAEtBx2C,KAAKy2C,WAAa3pC,EAAO2pC,WACzBz2C,KAAK02C,cAAgB5pC,EAAO4pC,cAE5B12C,KAAK22C,cAAgB7pC,EAAO6pC,cAC5B32C,KAAK42C,YAAc9pC,EAAO8pC,YAE1B52C,KAAK62C,SAAW0C,KAAKY,MAAOZ,KAAKC,UAAW1sC,EAAO+pC,YAEhC,IAAdqD,EAED,IAAM,IAAIlhD,EAAI,EAAGA,EAAI8T,EAAOqpC,SAASp2C,OAAQ/G,IAAO,CAEhD,IAAIohD,EAAQttC,EAAOqpC,SAAUn9C,GAC7BgH,KAAKP,IAAK26C,EAAM53C,SAMxB,OAAOxC,QAef,IAAIq6C,GAAa,EAEjB,SAASC,KAEL5gD,OAAOC,eAAgBqG,KAAM,MAAQ/F,MAAOogD,IAAc,IAE1Dr6C,KAAKH,KAAO2V,GAAMG,eAElB3V,KAAKzG,KAAO,GACZyG,KAAKgG,KAAO,WAEZhG,KAAK4yB,YACL5yB,KAAKu6C,UACLv6C,KAAKw6C,SACLx6C,KAAKy6C,mBAELz6C,KAAK06C,gBACL16C,KAAK26C,gBAEL36C,KAAK46C,eACL56C,KAAK66C,eAEL76C,KAAK86C,iBAEL96C,KAAK+6C,YAAc,KACnB/6C,KAAKu3B,eAAiB,KAItBv3B,KAAKg7C,oBAAqB,EAC1Bh7C,KAAKi7C,oBAAqB,EAC1Bj7C,KAAKk7C,eAAgB,EACrBl7C,KAAKm7C,mBAAoB,EACzBn7C,KAAKo7C,kBAAmB,EACxBp7C,KAAKq7C,yBAA0B,EAC/Br7C,KAAKs7C,kBAAmB,EA22C5B,SAASC,GAAiB/tC,EAAOguC,EAAUC,GAEvC,GAAKvrB,MAAMC,QAAS3iB,GAEhB,MAAM,IAAId,UAAW,yDAIzB1M,KAAKzG,KAAO,GAEZyG,KAAKwN,MAAQA,EACbxN,KAAKw7C,SAAWA,EAChBx7C,KAAK+gB,WAAkBpgB,IAAV6M,EAAsBA,EAAMzN,OAASy7C,EAAW,EAC7Dx7C,KAAKy7C,YAA4B,IAAfA,EAElBz7C,KAAK2yC,SAAU,EACf3yC,KAAKm0C,aAAgBzwC,OAAQ,EAAGqd,OAAS,GAEzC/gB,KAAK2tB,QAAU,EA4SnB,SAAS+tB,GAAqBluC,EAAOguC,EAAUC,GAE3CF,GAAgBpiD,KAAM6G,KAAM,IAAI6zC,UAAWrmC,GAASguC,EAAUC,GAQlE,SAASE,GAAsBnuC,EAAOguC,EAAUC,GAE5CF,GAAgBpiD,KAAM6G,KAAM,IAAI+zC,WAAYvmC,GAASguC,EAAUC,GAQnE,SAASG,GAA6BpuC,EAAOguC,EAAUC,GAEnDF,GAAgBpiD,KAAM6G,KAAM,IAAI67C,kBAAmBruC,GAASguC,EAAUC,GAQ1E,SAASK,GAAsBtuC,EAAOguC,EAAUC,GAE5CF,GAAgBpiD,KAAM6G,KAAM,IAAIuzC,WAAY/lC,GAASguC,EAAUC,GAQnE,SAASM,GAAuBvuC,EAAOguC,EAAUC,GAE7CF,GAAgBpiD,KAAM6G,KAAM,IAAIqzC,YAAa7lC,GAASguC,EAAUC,GAQpE,SAASO,GAAsBxuC,EAAOguC,EAAUC,GAE5CF,GAAgBpiD,KAAM6G,KAAM,IAAI2zC,WAAYnmC,GAASguC,EAAUC,GAQnE,SAASQ,GAAuBzuC,EAAOguC,EAAUC,GAE7CF,GAAgBpiD,KAAM6G,KAAM,IAAIyzC,YAAajmC,GAASguC,EAAUC,GAQpE,SAASS,GAAwB1uC,EAAOguC,EAAUC,GAE9CF,GAAgBpiD,KAAM6G,KAAM,IAAImzC,aAAc3lC,GAASguC,EAAUC,GAQrE,SAASU,GAAwB3uC,EAAOguC,EAAUC,GAE9CF,GAAgBpiD,KAAM6G,KAAM,IAAIozC,aAAc5lC,GAASguC,EAAUC,GAWrE,SAASW,KAELp8C,KAAK4yB,YACL5yB,KAAKq8C,WACLr8C,KAAKu6C,UACLv6C,KAAKs8C,OACLt8C,KAAKu8C,QAELv8C,KAAKw8C,UAELx8C,KAAK06C,gBAEL16C,KAAK46C,eACL56C,KAAK66C,eAIL76C,KAAK+6C,YAAc,KACnB/6C,KAAKu3B,eAAiB,KAItBv3B,KAAKi7C,oBAAqB,EAC1Bj7C,KAAKm7C,mBAAoB,EACzBn7C,KAAKo7C,kBAAmB,EACxBp7C,KAAKk7C,eAAgB,EACrBl7C,KAAKs7C,kBAAmB,EAoP5B,SAASmB,GAAUjvC,GAEf,GAAsB,IAAjBA,EAAMzN,OAAe,OAASgB,EAAAA,EAInC,IAFA,IAAIyD,EAAMgJ,EAAO,GAEPxU,EAAI,EAAGC,EAAIuU,EAAMzN,OAAQ/G,EAAIC,IAAMD,EAEpCwU,EAAOxU,GAAMwL,IAAMA,EAAMgJ,EAAOxU,IAIzC,OAAOwL,EA5hEX81C,GAAS1/C,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAE/DmQ,YAAauvC,GAEb3nB,YAAY,EAEZskB,YAAa,SAAW1uC,GAIpB,IAFA,IAAI2tB,GAAe,IAAI9d,IAAUgT,gBAAiB7iB,GAExCvP,EAAI,EAAG04B,EAAK1xB,KAAK4yB,SAAS7yB,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAE1CgH,KAAK4yB,SAAU55B,GACrBioB,aAAc1Y,GAIzB,IAAUvP,EAAI,EAAG04B,EAAK1xB,KAAKw6C,MAAMz6C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEpD,IAAI0jD,EAAO18C,KAAKw6C,MAAOxhD,GACvB0jD,EAAKjyB,OAAOjR,aAAc0c,GAAe9b,YAEzC,IAAM,IAAI+Z,EAAI,EAAGwoB,EAAKD,EAAKjI,cAAc10C,OAAQo0B,EAAIwoB,EAAIxoB,IAErDuoB,EAAKjI,cAAetgB,GAAI3a,aAAc0c,GAAe9b,YAqB7D,OAf0B,OAArBpa,KAAK+6C,aAEN/6C,KAAK48C,qBAIoB,OAAxB58C,KAAKu3B,gBAENv3B,KAAKw3B,wBAITx3B,KAAKi7C,oBAAqB,EAC1Bj7C,KAAKm7C,mBAAoB,EAElBn7C,MAIXy3C,QAAS,WAIL,IAAIzhB,EAAK,IAAIpe,GAEb,OAAO,SAAkBvQ,GAMrB,OAJA2uB,EAAG3T,cAAehb,GAElBrH,KAAKi3C,YAAajhB,GAEXh2B,MAZN,GAkBT03C,QAAS,WAIL,IAAI1hB,EAAK,IAAIpe,GAEb,OAAO,SAAkBvQ,GAMrB,OAJA2uB,EAAG1T,cAAejb,GAElBrH,KAAKi3C,YAAajhB,GAEXh2B,MAZN,GAkBT23C,QAAS,WAIL,IAAI3hB,EAAK,IAAIpe,GAEb,OAAO,SAAkBvQ,GAMrB,OAJA2uB,EAAGzT,cAAelb,GAElBrH,KAAKi3C,YAAajhB,GAEXh2B,MAZN,GAkBT4rB,UAAW,WAIP,IAAIoK,EAAK,IAAIpe,GAEb,OAAO,SAAoBxY,EAAGC,EAAGC,GAM7B,OAJA02B,EAAG5T,gBAAiBhjB,EAAGC,EAAGC,GAE1BU,KAAKi3C,YAAajhB,GAEXh2B,MAZJ,GAkBXd,MAAO,WAIH,IAAI82B,EAAK,IAAIpe,GAEb,OAAO,SAAgBxY,EAAGC,EAAGC,GAMzB,OAJA02B,EAAGpT,UAAWxjB,EAAGC,EAAGC,GAEpBU,KAAKi3C,YAAajhB,GAEXh2B,MAZR,GAkBP8E,OAAQ,WAEJ,IAAI+3C,EAAM,IAAI5G,GAEd,OAAO,SAAiBnyB,GAEpB+4B,EAAI/3C,OAAQgf,GAEZ+4B,EAAIt9C,eAEJS,KAAKi3C,YAAa4F,EAAIt0C,SAVtB,GAgBRu0C,mBAAoB,SAAWpqB,GAE3B,IAAIxvB,EAAQlD,KAER+8C,EAA6B,OAAnBrqB,EAAS9lB,MAAiB8lB,EAAS9lB,MAAMY,WAAQ7M,EAC3DmyB,EAAaJ,EAASI,WAEtBkqB,EAAYlqB,EAAWj2B,SAAS2Q,MAChC6uC,OAAgC17C,IAAtBmyB,EAAWrI,OAAuBqI,EAAWrI,OAAOjd,WAAQ7M,EACtE45C,OAA8B55C,IAArBmyB,EAAW70B,MAAsB60B,EAAW70B,MAAMuP,WAAQ7M,EACnE27C,OAAwB37C,IAAlBmyB,EAAWzC,GAAmByC,EAAWzC,GAAG7iB,WAAQ7M,EAC1D47C,OAA0B57C,IAAnBmyB,EAAWmqB,IAAoBnqB,EAAWmqB,IAAIzvC,WAAQ7M,OAEnDA,IAAT47C,IAAqBv8C,KAAKy6C,cAAe,OAM9C,IAJA,IAAIyC,KACAC,KACAC,KAEMpkD,EAAI,EAAGm7B,EAAI,EAAGn7B,EAAIgkD,EAAUj9C,OAAQ/G,GAAK,EAAGm7B,GAAK,EAEvDjxB,EAAM0vB,SAASxlB,KAAM,IAAItM,GAASk8C,EAAWhkD,GAAKgkD,EAAWhkD,EAAI,GAAKgkD,EAAWhkD,EAAI,UAEpE2H,IAAZ07C,GAEDa,EAAY9vC,KAAM,IAAItM,GAASu7C,EAASrjD,GAAKqjD,EAASrjD,EAAI,GAAKqjD,EAASrjD,EAAI,UAIhE2H,IAAX45C,GAEDr3C,EAAMq3C,OAAOntC,KAAM,IAAIhR,GAAOm+C,EAAQvhD,GAAKuhD,EAAQvhD,EAAI,GAAKuhD,EAAQvhD,EAAI,UAI/D2H,IAAR27C,GAEDa,EAAQ/vC,KAAM,IAAI1G,GAAS41C,EAAKnoB,GAAKmoB,EAAKnoB,EAAI,UAIpCxzB,IAAT47C,GAEDa,EAAShwC,KAAM,IAAI1G,GAAS61C,EAAMpoB,GAAKooB,EAAMpoB,EAAI,KAMzD,SAASkpB,EAASpkC,EAAGC,EAAG7f,EAAGm7C,GAEvB,IAGIkI,EAAO,IAAInI,GAAOt7B,EAAGC,EAAG7f,OAHIsH,IAAZ07C,GAA0Ba,EAAajkC,GAAIzW,QAAS06C,EAAahkC,GAAI1W,QAAS06C,EAAa7jD,GAAImJ,iBACrF7B,IAAX45C,GAAyBr3C,EAAMq3C,OAAQthC,GAAIzW,QAASU,EAAMq3C,OAAQrhC,GAAI1W,QAASU,EAAMq3C,OAAQlhD,GAAImJ,YAExDgyC,GAE5DtxC,EAAMs3C,MAAMptC,KAAMsvC,QAEL/7C,IAAR27C,GAEDp5C,EAAMu3C,cAAe,GAAIrtC,MAAQ+vC,EAASlkC,GAAIzW,QAAS26C,EAASjkC,GAAI1W,QAAS26C,EAAS9jD,GAAImJ,eAIhF7B,IAAT47C,GAEDr5C,EAAMu3C,cAAe,GAAIrtC,MAAQgwC,EAAUnkC,GAAIzW,QAAS46C,EAAUlkC,GAAI1W,QAAS46C,EAAU/jD,GAAImJ,UAMrG,IAAIg6C,EAAS9pB,EAAS8pB,OAEtB,GAAKA,EAAOz8C,OAAS,EAEjB,IAAU/G,EAAI,EAAGA,EAAIwjD,EAAOz8C,OAAQ/G,IAOhC,IALA,IAAIskD,EAAQd,EAAQxjD,GAEhB08B,EAAQ4nB,EAAM5nB,MAGGinB,GAAXxoB,EAAIuB,EAAYA,EAFd4nB,EAAMv8B,OAEuBoT,EAAIwoB,EAAIxoB,GAAK,OAEjCxzB,IAAZo8C,EAEDM,EAASN,EAAS5oB,GAAK4oB,EAAS5oB,EAAI,GAAK4oB,EAAS5oB,EAAI,GAAKmpB,EAAM9I,eAIjE6I,EAASlpB,EAAGA,EAAI,EAAGA,EAAI,EAAGmpB,EAAM9I,oBAU5C,QAAiB7zC,IAAZo8C,EAED,IAAU/jD,EAAI,EAAGA,EAAI+jD,EAAQh9C,OAAQ/G,GAAK,EAEtCqkD,EAASN,EAAS/jD,GAAK+jD,EAAS/jD,EAAI,GAAK+jD,EAAS/jD,EAAI,SAM1D,IAAUA,EAAI,EAAGA,EAAIgkD,EAAUj9C,OAAS,EAAG/G,GAAK,EAE5CqkD,EAASrkD,EAAGA,EAAI,EAAGA,EAAI,GAsBnC,OAdAgH,KAAKu9C,qBAEyB,OAAzB7qB,EAASqoB,cAEV/6C,KAAK+6C,YAAcroB,EAASqoB,YAAYv4C,SAIX,OAA5BkwB,EAAS6E,iBAEVv3B,KAAKu3B,eAAiB7E,EAAS6E,eAAe/0B,SAI3CxC,MAIXiL,OAAQ,WAEJ,IAAIvH,EAAS,IAAI5C,GAEjB,OAAO,WAQH,OANAd,KAAK48C,qBAEL58C,KAAK+6C,YAAY5oB,UAAWzuB,GAASqW,SAErC/Z,KAAK4rB,UAAWloB,EAAOtE,EAAGsE,EAAOrE,EAAGqE,EAAOpE,GAEpCU,MAZP,GAkBRoa,UAAW,WAEPpa,KAAKw3B,wBAEL,IAAIvsB,EAASjL,KAAKu3B,eAAetsB,OAC7BtG,EAAS3E,KAAKu3B,eAAe5yB,OAE7B5J,EAAe,IAAX4J,EAAe,EAAI,EAAMA,EAE7B4D,EAAS,IAAIqP,GAUjB,OATArP,EAAOzL,IACH/B,EAAG,EAAG,GAAKA,EAAIkQ,EAAO7L,EACtB,EAAGrE,EAAG,GAAKA,EAAIkQ,EAAO5L,EACtB,EAAG,EAAGtE,GAAKA,EAAIkQ,EAAO3L,EACtB,EAAG,EAAG,EAAG,GAGbU,KAAKi3C,YAAa1uC,GAEXvI,MAIXu9C,mBAAoB,WAIhB,IAFA,IAAIC,EAAK,IAAI18C,GAAW28C,EAAK,IAAI38C,GAEvB0c,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAAO,CAEpD,IAAIk/B,EAAO18C,KAAKw6C,MAAOh9B,GAEnBmgC,EAAK39C,KAAK4yB,SAAU8pB,EAAKzjC,GACzB2kC,EAAK59C,KAAK4yB,SAAU8pB,EAAKxjC,GACzB2kC,EAAK79C,KAAK4yB,SAAU8pB,EAAKrjD,GAE7BmkD,EAAG5zC,WAAYi0C,EAAID,GACnBH,EAAG7zC,WAAY+zC,EAAIC,GACnBJ,EAAGxjC,MAAOyjC,GAEVD,EAAGpjC,YAEHsiC,EAAKjyB,OAAOtnB,KAAMq6C,KAM1BM,qBAAsB,SAAWC,GAI7B,IAAIv2C,EAAGw2C,EAAIxgC,EAAGkgC,EAAIhB,EAAM9pB,EAIxB,SANsBjyB,IAAjBo9C,IAA6BA,GAAe,GAIjDnrB,EAAW,IAAI1C,MAAOlwB,KAAK4yB,SAAS7yB,QAE9ByH,EAAI,EAAGw2C,EAAKh+C,KAAK4yB,SAAS7yB,OAAQyH,EAAIw2C,EAAIx2C,IAE5CorB,EAAUprB,GAAM,IAAI1G,GAIxB,GAAKi9C,EAAe,CAKhB,IAAIJ,EAAIC,EAAIC,EACRL,EAAK,IAAI18C,GAAW28C,EAAK,IAAI38C,GAEjC,IAAM0c,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAEzCk/B,EAAO18C,KAAKw6C,MAAOh9B,GAEnBmgC,EAAK39C,KAAK4yB,SAAU8pB,EAAKzjC,GACzB2kC,EAAK59C,KAAK4yB,SAAU8pB,EAAKxjC,GACzB2kC,EAAK79C,KAAK4yB,SAAU8pB,EAAKrjD,GAEzBmkD,EAAG5zC,WAAYi0C,EAAID,GACnBH,EAAG7zC,WAAY+zC,EAAIC,GACnBJ,EAAGxjC,MAAOyjC,GAEV7qB,EAAU8pB,EAAKzjC,GAAIxZ,IAAK+9C,GACxB5qB,EAAU8pB,EAAKxjC,GAAIzZ,IAAK+9C,GACxB5qB,EAAU8pB,EAAKrjD,GAAIoG,IAAK+9C,QAQ5B,IAFAx9C,KAAKu9C,qBAEC//B,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAIzCoV,GAFA8pB,EAAO18C,KAAKw6C,MAAOh9B,IAEJvE,GAAIxZ,IAAKi9C,EAAKjyB,QAC7BmI,EAAU8pB,EAAKxjC,GAAIzZ,IAAKi9C,EAAKjyB,QAC7BmI,EAAU8pB,EAAKrjD,GAAIoG,IAAKi9C,EAAKjyB,QAMrC,IAAMjjB,EAAI,EAAGw2C,EAAKh+C,KAAK4yB,SAAS7yB,OAAQyH,EAAIw2C,EAAIx2C,IAE5CorB,EAAUprB,GAAI4S,YAIlB,IAAMoD,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAAO,CAIhD,IAAIi3B,GAFJiI,EAAO18C,KAAKw6C,MAAOh9B,IAEMi3B,cAEK,IAAzBA,EAAc10C,QAEf00C,EAAe,GAAItxC,KAAMyvB,EAAU8pB,EAAKzjC,IACxCw7B,EAAe,GAAItxC,KAAMyvB,EAAU8pB,EAAKxjC,IACxCu7B,EAAe,GAAItxC,KAAMyvB,EAAU8pB,EAAKrjD,MAIxCo7C,EAAe,GAAM7hB,EAAU8pB,EAAKzjC,GAAIzW,QACxCiyC,EAAe,GAAM7hB,EAAU8pB,EAAKxjC,GAAI1W,QACxCiyC,EAAe,GAAM7hB,EAAU8pB,EAAKrjD,GAAImJ,SAM3CxC,KAAKw6C,MAAMz6C,OAAS,IAErBC,KAAKm7C,mBAAoB,IAMjC8C,yBAA0B,WAEtB,IAAIzgC,EAAGkgC,EAAIhB,EAIX,IAFA18C,KAAKu9C,qBAEC//B,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAAO,CAIhD,IAAIi3B,GAFJiI,EAAO18C,KAAKw6C,MAAOh9B,IAEMi3B,cAEK,IAAzBA,EAAc10C,QAEf00C,EAAe,GAAItxC,KAAMu5C,EAAKjyB,QAC9BgqB,EAAe,GAAItxC,KAAMu5C,EAAKjyB,QAC9BgqB,EAAe,GAAItxC,KAAMu5C,EAAKjyB,UAI9BgqB,EAAe,GAAMiI,EAAKjyB,OAAOjoB,QACjCiyC,EAAe,GAAMiI,EAAKjyB,OAAOjoB,QACjCiyC,EAAe,GAAMiI,EAAKjyB,OAAOjoB,SAMpCxC,KAAKw6C,MAAMz6C,OAAS,IAErBC,KAAKm7C,mBAAoB,IAMjC+C,oBAAqB,WAEjB,IAAIllD,EAAG04B,EAAIlU,EAAGkgC,EAAIhB,EAMlB,IAAMl/B,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAgBzC,KAdAk/B,EAAO18C,KAAKw6C,MAAOh9B,IAEP2gC,qBAMRzB,EAAKyB,qBAAqBh7C,KAAMu5C,EAAKjyB,QAJrCiyB,EAAKyB,qBAAuBzB,EAAKjyB,OAAOjoB,QAQrCk6C,EAAK0B,0BAA0B1B,EAAK0B,4BAErCplD,EAAI,EAAG04B,EAAKgrB,EAAKjI,cAAc10C,OAAQ/G,EAAI04B,EAAI14B,IAE1C0jD,EAAK0B,wBAAyBplD,GAMjC0jD,EAAK0B,wBAAyBplD,GAAImK,KAAMu5C,EAAKjI,cAAez7C,IAJ5D0jD,EAAK0B,wBAAyBplD,GAAM0jD,EAAKjI,cAAez7C,GAAIwJ,QAcxE,IAAI67C,EAAS,IAAI/D,GAGjB,IAFA+D,EAAO7D,MAAQx6C,KAAKw6C,MAEdxhD,EAAI,EAAG04B,EAAK1xB,KAAK06C,aAAa36C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAIvD,IAAOgH,KAAK26C,aAAc3hD,GAAM,CAE5BgH,KAAK26C,aAAc3hD,MACnBgH,KAAK26C,aAAc3hD,GAAIslD,eACvBt+C,KAAK26C,aAAc3hD,GAAIy7C,iBAEvB,IAAI8J,EAAiBv+C,KAAK26C,aAAc3hD,GAAIslD,YACxCE,EAAmBx+C,KAAK26C,aAAc3hD,GAAIy7C,cAI9C,IAAMj3B,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAEzCihC,EAAa,IAAI39C,GACjB2zC,GAAkBx7B,EAAG,IAAInY,GAAWoY,EAAG,IAAIpY,GAAWzH,EAAG,IAAIyH,IAE7Dy9C,EAAenxC,KAAMqxC,GACrBD,EAAiBpxC,KAAMqnC,GAM/B,IAaIgK,EAAYhK,EAbZkG,EAAe36C,KAAK26C,aAAc3hD,GAetC,IAXAqlD,EAAOzrB,SAAW5yB,KAAK06C,aAAc1hD,GAAI45B,SAIzCyrB,EAAOd,qBACPc,EAAOP,uBAMDtgC,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAEzCk/B,EAAO18C,KAAKw6C,MAAOh9B,GAEnBihC,EAAa9D,EAAa2D,YAAa9gC,GACvCi3B,EAAgBkG,EAAalG,cAAej3B,GAE5CihC,EAAWt7C,KAAMu5C,EAAKjyB,QAEtBgqB,EAAcx7B,EAAE9V,KAAMu5C,EAAKjI,cAAe,IAC1CA,EAAcv7B,EAAE/V,KAAMu5C,EAAKjI,cAAe,IAC1CA,EAAcp7C,EAAE8J,KAAMu5C,EAAKjI,cAAe,IAQlD,IAAMj3B,EAAI,EAAGkgC,EAAK19C,KAAKw6C,MAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,KAEzCk/B,EAAO18C,KAAKw6C,MAAOh9B,IAEdiN,OAASiyB,EAAKyB,qBACnBzB,EAAKjI,cAAgBiI,EAAK0B,yBAMlCxB,mBAAoB,WAEU,OAArB58C,KAAK+6C,cAEN/6C,KAAK+6C,YAAc,IAAInsB,IAI3B5uB,KAAK+6C,YAAYxpB,cAAevxB,KAAK4yB,WAIzC4E,sBAAuB,WAEU,OAAxBx3B,KAAKu3B,iBAENv3B,KAAKu3B,eAAiB,IAAI1I,IAI9B7uB,KAAKu3B,eAAehG,cAAevxB,KAAK4yB,WAI5CyM,MAAO,SAAW3M,EAAUnqB,EAAQm2C,GAEhC,GAAShsB,GAAYA,EAASC,WAA9B,CAOA,IAAIuD,EACAyoB,EAAe3+C,KAAK4yB,SAAS7yB,OAC7B6+C,EAAY5+C,KAAK4yB,SACjBisB,EAAYnsB,EAASE,SACrBksB,EAAS9+C,KAAKw6C,MACduE,EAASrsB,EAAS8nB,MAClBwE,EAAOh/C,KAAKy6C,cAAe,GAC3B8B,EAAO7pB,EAAS+nB,cAAe,GAC/BwE,EAAUj/C,KAAKu6C,OACf2E,EAAUxsB,EAAS6nB,YAEM55C,IAAxB+9C,IAAoCA,EAAsB,QAE/C/9C,IAAX4H,IAED2tB,GAAe,IAAI9d,IAAUgT,gBAAiB7iB,IAMlD,IAAM,IAAIvP,EAAI,EAAG04B,EAAKmtB,EAAU9+C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEnD,IAEImmD,EAFSN,EAAW7lD,GAEAwJ,aAER7B,IAAX4H,GAAuB42C,EAAWl+B,aAAc1Y,GAErDq2C,EAAUxxC,KAAM+xC,GAMpB,IAAUnmD,EAAI,EAAG04B,EAAKwtB,EAAQn/C,OAAQ/G,EAAI04B,EAAI14B,IAE1CimD,EAAQ7xC,KAAM8xC,EAASlmD,GAAIwJ,SAM/B,IAAMxJ,EAAI,EAAG04B,EAAKqtB,EAAOh/C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAE5C,IAAwBomD,EAAU30B,EAAQxsB,EAAtCy+C,EAAOqC,EAAQ/lD,GACfqmD,EAAoB3C,EAAKjI,cACzB6K,EAAmB5C,EAAKhI,cAE5B0K,EAAW,IAAI7K,GAAOmI,EAAKzjC,EAAI0lC,EAAcjC,EAAKxjC,EAAIylC,EAAcjC,EAAKrjD,EAAIslD,IACpEl0B,OAAOtnB,KAAMu5C,EAAKjyB,aAEL9pB,IAAjBu1B,GAEDkpB,EAAS30B,OAAOjR,aAAc0c,GAAe9b,YAIjD,IAAM,IAAI+Z,EAAI,EAAGwoB,EAAK0C,EAAkBt/C,OAAQo0B,EAAIwoB,EAAIxoB,IAEpD1J,EAAS40B,EAAmBlrB,GAAI3xB,aAEV7B,IAAjBu1B,GAEDzL,EAAOjR,aAAc0c,GAAe9b,YAIxCglC,EAAS3K,cAAcrnC,KAAMqd,GAIjC20B,EAASnhD,MAAMkF,KAAMu5C,EAAKz+C,OAE1B,IAAUk2B,EAAI,EAAGwoB,EAAK2C,EAAiBv/C,OAAQo0B,EAAIwoB,EAAIxoB,IAEnDl2B,EAAQqhD,EAAkBnrB,GAC1BirB,EAAS1K,aAAatnC,KAAMnP,EAAMuE,SAItC48C,EAAS5K,cAAgBkI,EAAKlI,cAAgBkK,EAE9CI,EAAO1xC,KAAMgyC,GAMjB,IAAMpmD,EAAI,EAAG04B,EAAK6qB,EAAKx8C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAE1C,IAAIq3B,EAAKksB,EAAMvjD,GAAKumD,KAEpB,QAAY5+C,IAAP0vB,EAAL,CAMA,IAAU8D,EAAI,EAAGwoB,EAAKtsB,EAAGtwB,OAAQo0B,EAAIwoB,EAAIxoB,IAErCorB,EAAOnyC,KAAMijB,EAAI8D,GAAI3xB,SAIzBw8C,EAAK5xC,KAAMmyC,UA9GXz2C,QAAQgP,MAAO,sEAAuE4a,IAoH9F8sB,UAAW,SAAWxgD,GAETA,GAAQA,EAAKy6C,QAOjBz6C,EAAKQ,kBAAmBR,EAAKO,eAElCS,KAAKq/B,MAAOrgC,EAAK0zB,SAAU1zB,EAAKuJ,SAP5BO,QAAQgP,MAAO,kEAAmE9Y,IAiB1FygD,cAAe,WAEX,IAGIj4C,EAAGjN,EAGHvB,EAAG04B,EAAIgrB,EACPK,EAAS5oB,EAAGwoB,EAPZ+C,KACAC,KAAaC,KAIbC,EAAYviD,KAAK8J,IAAK,GADJ,GAKtB,IAAMpO,EAAI,EAAG04B,EAAK1xB,KAAK4yB,SAAS7yB,OAAQ/G,EAAI04B,EAAI14B,IAE5CwO,EAAIxH,KAAK4yB,SAAU55B,QAGS2H,IAAvB++C,EAFLnlD,EAAM+C,KAAKuc,MAAOrS,EAAEpI,EAAIygD,GAAc,IAAMviD,KAAKuc,MAAOrS,EAAEnI,EAAIwgD,GAAc,IAAMviD,KAAKuc,MAAOrS,EAAElI,EAAIugD,KAIhGH,EAAanlD,GAAQvB,EACrB2mD,EAAOvyC,KAAMpN,KAAK4yB,SAAU55B,IAC5B4mD,EAAS5mD,GAAM2mD,EAAO5/C,OAAS,GAK/B6/C,EAAS5mD,GAAM4mD,EAASF,EAAanlD,IAS7C,IAAIulD,KAEJ,IAAM9mD,EAAI,EAAG04B,EAAK1xB,KAAKw6C,MAAMz6C,OAAQ/G,EAAI04B,EAAI14B,IAAO,EAEhD0jD,EAAO18C,KAAKw6C,MAAOxhD,IAEdigB,EAAI2mC,EAASlD,EAAKzjC,GACvByjC,EAAKxjC,EAAI0mC,EAASlD,EAAKxjC,GACvBwjC,EAAKrjD,EAAIumD,EAASlD,EAAKrjD,GAEvB0jD,GAAYL,EAAKzjC,EAAGyjC,EAAKxjC,EAAGwjC,EAAKrjD,GAIjC,IAAM,IAAIoB,EAAI,EAAGA,EAAI,EAAGA,IAEpB,GAAKsiD,EAAStiD,KAAQsiD,GAAWtiD,EAAI,GAAM,GAAM,CAE7CqlD,EAAoB1yC,KAAMpU,GAC1B,OAQZ,IAAMA,EAAI8mD,EAAoB//C,OAAS,EAAG/G,GAAK,EAAGA,IAAO,CAErD,IAAI+mD,EAAMD,EAAqB9mD,GAI/B,IAFAgH,KAAKw6C,MAAMjtC,OAAQwyC,EAAK,GAElB5rB,EAAI,EAAGwoB,EAAK38C,KAAKy6C,cAAc16C,OAAQo0B,EAAIwoB,EAAIxoB,IAEjDn0B,KAAKy6C,cAAetmB,GAAI5mB,OAAQwyC,EAAK,GAQ7C,IAAIC,EAAOhgD,KAAK4yB,SAAS7yB,OAAS4/C,EAAO5/C,OAEzC,OADAC,KAAK4yB,SAAW+sB,EACTK,GAIXzuB,cAAe,SAAWC,GAEtBxxB,KAAK4yB,YAEL,IAAM,IAAI55B,EAAI,EAAGC,EAAIu4B,EAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAIq5B,EAAQb,EAAQx4B,GACpBgH,KAAK4yB,SAASxlB,KAAM,IAAItM,GAASuxB,EAAMjzB,EAAGizB,EAAMhzB,EAAGgzB,EAAM/yB,GAAK,IAIlE,OAAOU,MAIXigD,yBAA0B,WAOtB,IALA,IAAIzF,EAAQx6C,KAAKw6C,MACbz6C,EAASy6C,EAAMz6C,OAIT/G,EAAI,EAAGA,EAAI+G,EAAQ/G,IAEzBwhD,EAAOxhD,GAAIknD,IAAMlnD,EAYrBwhD,EAAM2F,KANN,SAA4BlnC,EAAGC,GAE3B,OAAOD,EAAEu7B,cAAgBt7B,EAAEs7B,gBAQ/B,IAGI4L,EAASC,EAHTrB,EAAOh/C,KAAKy6C,cAAe,GAC3B8B,EAAOv8C,KAAKy6C,cAAe,GAI1BuE,GAAQA,EAAKj/C,SAAWA,IAASqgD,MACjC7D,GAAQA,EAAKx8C,SAAWA,IAASsgD,MAEtC,IAAUrnD,EAAI,EAAGA,EAAI+G,EAAQ/G,IAAO,CAEhC,IAAIq/C,EAAKmC,EAAOxhD,GAAIknD,IAEfE,GAAUA,EAAQhzC,KAAM4xC,EAAM3G,IAC9BgI,GAAUA,EAAQjzC,KAAMmvC,EAAMlE,IAIlC+H,IAAUpgD,KAAKy6C,cAAe,GAAM2F,GACpCC,IAAUrgD,KAAKy6C,cAAe,GAAM4F,IAI7C5wB,OAAQ,WAEJ,IAAId,GACAkB,UACIlC,QAAS,IACT3nB,KAAM,WACN8pB,UAAW,oBAUnB,GAJAnB,EAAK9uB,KAAOG,KAAKH,KACjB8uB,EAAK3oB,KAAOhG,KAAKgG,KACE,KAAdhG,KAAKzG,OAAco1B,EAAKp1B,KAAOyG,KAAKzG,WAEhBoH,IAApBX,KAAK45C,WAA2B,CAEjC,IAAIA,EAAa55C,KAAK45C,WAEtB,IAAM,IAAIr/C,KAAOq/C,OAEcj5C,IAAtBi5C,EAAYr/C,KAAsBo0B,EAAMp0B,GAAQq/C,EAAYr/C,IAIrE,OAAOo0B,EAMX,IAFA,IAAIiE,KAEM55B,EAAI,EAAGA,EAAIgH,KAAK4yB,SAAS7yB,OAAQ/G,IAAO,CAE9C,IAAIsnD,EAAStgD,KAAK4yB,SAAU55B,GAC5B45B,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI9C,IAAIk7C,KACA6B,KACAkE,KACAhG,KACAiG,KACAlE,KACAmE,KAEJ,IAAUznD,EAAI,EAAGA,EAAIgH,KAAKw6C,MAAMz6C,OAAQ/G,IAAO,CAE3C,IAAI0jD,EAAO18C,KAAKw6C,MAAOxhD,GAInB0nD,OAAmD//C,IAAjCX,KAAKy6C,cAAe,GAAKzhD,GAC3C2nD,EAAgBjE,EAAKjyB,OAAO1qB,SAAW,EACvC6gD,EAAsBlE,EAAKjI,cAAc10C,OAAS,EAClD8gD,EAAgC,IAAjBnE,EAAKz+C,MAAMnE,GAA4B,IAAjB4iD,EAAKz+C,MAAMktB,GAA4B,IAAjBuxB,EAAKz+C,MAAMib,EACtE4nC,EAAqBpE,EAAKhI,aAAa30C,OAAS,EAEhDghD,EAAW,EAef,GANAA,EAAWC,EADXD,EAAWC,EADXD,EAAWC,EADXD,EAAWC,EADXD,EAAWC,EADXD,EAAWC,EADXD,EAAWC,EADXD,EAAWC,EAAQD,EAAU,EAAG,GACH,GAXX,GAYW,GAXb,GAYa,EAAGL,GACH,EAAGC,GACH,EAAGC,GACH,EAAGC,GACH,EAAGC,GAEhCtG,EAAMptC,KAAM2zC,GACZvG,EAAMptC,KAAMsvC,EAAKzjC,EAAGyjC,EAAKxjC,EAAGwjC,EAAKrjD,GACjCmhD,EAAMptC,KAAMsvC,EAAKlI,eAEZkM,EAAkB,CAEnB,IAAIjG,EAAgBz6C,KAAKy6C,cAAe,GAAKzhD,GAE7CwhD,EAAMptC,KACF6zC,EAAYxG,EAAe,IAC3BwG,EAAYxG,EAAe,IAC3BwG,EAAYxG,EAAe,KAWnC,GANKkG,GAEDnG,EAAMptC,KAAM8zC,EAAgBxE,EAAKjyB,SAIhCm2B,EAAsB,CAEvB,IAAInM,EAAgBiI,EAAKjI,cAEzB+F,EAAMptC,KACF8zC,EAAgBzM,EAAe,IAC/ByM,EAAgBzM,EAAe,IAC/ByM,EAAgBzM,EAAe,KAWvC,GANKoM,GAEDrG,EAAMptC,KAAM+zC,EAAezE,EAAKz+C,QAI/B6iD,EAAqB,CAEtB,IAAIpM,EAAegI,EAAKhI,aAExB8F,EAAMptC,KACF+zC,EAAezM,EAAc,IAC7ByM,EAAezM,EAAc,IAC7ByM,EAAezM,EAAc,MAOzC,SAASsM,EAAQ/mD,EAAO4C,EAAU+D,GAE9B,OAAOA,EAAU3G,EAAU,GAAK4C,EAAa5C,IAAc,GAAK4C,GAIpE,SAASqkD,EAAgBz2B,GAErB,IAAI22B,EAAO32B,EAAOrrB,EAAEmN,WAAake,EAAOprB,EAAEkN,WAAake,EAAOnrB,EAAEiN,WAEhE,YAA6B5L,IAAxB4/C,EAAaa,GAEPb,EAAaa,IAIxBb,EAAaa,GAAS/E,EAAQt8C,OAAS,EACvCs8C,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAElCihD,EAAaa,IAIxB,SAASD,EAAeljD,GAEpB,IAAImjD,EAAOnjD,EAAMnE,EAAEyS,WAAatO,EAAMktB,EAAE5e,WAAatO,EAAMib,EAAE3M,WAE7D,YAA4B5L,IAAvB6/C,EAAYY,GAENZ,EAAYY,IAIvBZ,EAAYY,GAAS7G,EAAOx6C,OAC5Bw6C,EAAOntC,KAAMnP,EAAM0sC,UAEZ6V,EAAYY,IAIvB,SAASH,EAAY5wB,GAEjB,IAAI+wB,EAAO/wB,EAAGjxB,EAAEmN,WAAa8jB,EAAGhxB,EAAEkN,WAElC,YAAyB5L,IAApB8/C,EAASW,GAEHX,EAASW,IAIpBX,EAASW,GAAS9E,EAAIv8C,OAAS,EAC/Bu8C,EAAIlvC,KAAMijB,EAAGjxB,EAAGixB,EAAGhxB,GAEZohD,EAASW,IAYpB,OARAzyB,EAAKA,QAELA,EAAKA,KAAKiE,SAAWA,EACrBjE,EAAKA,KAAK0tB,QAAUA,EACf9B,EAAOx6C,OAAS,IAAI4uB,EAAKA,KAAK4rB,OAASA,GACvC+B,EAAIv8C,OAAS,IAAI4uB,EAAKA,KAAK2tB,KAAQA,IACxC3tB,EAAKA,KAAK6rB,MAAQA,EAEX7rB,GAIXnsB,MAAO,WA0BH,OAAO,IAAI83C,IAAWn3C,KAAMnD,OAIhCmD,KAAM,SAAW2J,GAEb,IAAI9T,EAAG04B,EAAIyC,EAAGwoB,EAAI0E,EAAGC,EAIrBthD,KAAK4yB,YACL5yB,KAAKu6C,UACLv6C,KAAKw6C,SACLx6C,KAAKy6C,mBACLz6C,KAAK06C,gBACL16C,KAAK26C,gBACL36C,KAAK46C,eACL56C,KAAK66C,eACL76C,KAAK86C,iBACL96C,KAAK+6C,YAAc,KACnB/6C,KAAKu3B,eAAiB,KAItBv3B,KAAKzG,KAAOuT,EAAOvT,KAInB,IAAIq5B,EAAW9lB,EAAO8lB,SAEtB,IAAM55B,EAAI,EAAG04B,EAAKkB,EAAS7yB,OAAQ/G,EAAI04B,EAAI14B,IAEvCgH,KAAK4yB,SAASxlB,KAAMwlB,EAAU55B,GAAIwJ,SAMtC,IAAI+3C,EAASztC,EAAOytC,OAEpB,IAAMvhD,EAAI,EAAG04B,EAAK6oB,EAAOx6C,OAAQ/G,EAAI04B,EAAI14B,IAErCgH,KAAKu6C,OAAOntC,KAAMmtC,EAAQvhD,GAAIwJ,SAMlC,IAAIg4C,EAAQ1tC,EAAO0tC,MAEnB,IAAMxhD,EAAI,EAAG04B,EAAK8oB,EAAMz6C,OAAQ/G,EAAI04B,EAAI14B,IAEpCgH,KAAKw6C,MAAMptC,KAAMotC,EAAOxhD,GAAIwJ,SAMhC,IAAMxJ,EAAI,EAAG04B,EAAK5kB,EAAO2tC,cAAc16C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAE1D,IAAIyhD,EAAgB3tC,EAAO2tC,cAAezhD,GAQ1C,SANiC2H,IAA5BX,KAAKy6C,cAAezhD,KAErBgH,KAAKy6C,cAAezhD,OAIlBm7B,EAAI,EAAGwoB,EAAKlC,EAAc16C,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAEnD,IAAImoB,EAAM7B,EAAetmB,GAAKotB,KAE9B,IAAMF,EAAI,EAAGC,EAAKhF,EAAIv8C,OAAQshD,EAAIC,EAAID,IAAO,CAEzC,IAAIhxB,EAAKisB,EAAK+E,GAEdE,EAAQn0C,KAAMijB,EAAG7tB,SAIrBxC,KAAKy6C,cAAezhD,GAAIoU,KAAMm0C,IAQtC,IAAI7G,EAAe5tC,EAAO4tC,aAE1B,IAAM1hD,EAAI,EAAG04B,EAAKgpB,EAAa36C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAElD,IAAIwoD,KAKJ,GAJAA,EAAYjoD,KAAOmhD,EAAc1hD,GAAIO,UAIDoH,IAA/B+5C,EAAc1hD,GAAI45B,SAInB,IAFA4uB,EAAY5uB,YAENuB,EAAI,EAAGwoB,EAAKjC,EAAc1hD,GAAI45B,SAAS7yB,OAAQo0B,EAAIwoB,EAAIxoB,IAEzDqtB,EAAY5uB,SAASxlB,KAAMstC,EAAc1hD,GAAI45B,SAAUuB,GAAI3xB,SAQnE,QAAmC7B,IAA9B+5C,EAAc1hD,GAAIqjD,QAInB,IAFAmF,EAAYnF,WAENloB,EAAI,EAAGwoB,EAAKjC,EAAc1hD,GAAIqjD,QAAQt8C,OAAQo0B,EAAIwoB,EAAIxoB,IAExDqtB,EAAYnF,QAAQjvC,KAAMstC,EAAc1hD,GAAIqjD,QAASloB,GAAI3xB,SAMjExC,KAAK06C,aAAattC,KAAMo0C,GAM5B,IAAI7G,EAAe7tC,EAAO6tC,aAE1B,IAAM3hD,EAAI,EAAG04B,EAAKipB,EAAa56C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAElD,IAAIyoD,KAIJ,QAAyC9gD,IAApCg6C,EAAc3hD,GAAIy7C,cAInB,IAFAgN,EAAYhN,iBAENtgB,EAAI,EAAGwoB,EAAKhC,EAAc3hD,GAAIy7C,cAAc10C,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAErE,IAAIutB,EAAkB/G,EAAc3hD,GAAIy7C,cAAetgB,GACnDwtB,KAEJA,EAAiB1oC,EAAIyoC,EAAgBzoC,EAAEzW,QACvCm/C,EAAiBzoC,EAAIwoC,EAAgBxoC,EAAE1W,QACvCm/C,EAAiBtoD,EAAIqoD,EAAgBroD,EAAEmJ,QAEvCi/C,EAAYhN,cAAcrnC,KAAMu0C,GAQxC,QAAuChhD,IAAlCg6C,EAAc3hD,GAAIslD,YAInB,IAFAmD,EAAYnD,eAENnqB,EAAI,EAAGwoB,EAAKhC,EAAc3hD,GAAIslD,YAAYv+C,OAAQo0B,EAAIwoB,EAAIxoB,IAE5DstB,EAAYnD,YAAYlxC,KAAMutC,EAAc3hD,GAAIslD,YAAanqB,GAAI3xB,SAMzExC,KAAK26C,aAAavtC,KAAMq0C,GAM5B,IAAI7G,EAAc9tC,EAAO8tC,YAEzB,IAAM5hD,EAAI,EAAG04B,EAAKkpB,EAAY76C,OAAQ/G,EAAI04B,EAAI14B,IAE1CgH,KAAK46C,YAAYxtC,KAAMwtC,EAAa5hD,GAAIwJ,SAM5C,IAAIq4C,EAAc/tC,EAAO+tC,YAEzB,IAAM7hD,EAAI,EAAG04B,EAAKmpB,EAAY96C,OAAQ/G,EAAI04B,EAAI14B,IAE1CgH,KAAK66C,YAAYztC,KAAMytC,EAAa7hD,GAAIwJ,SAM5C,IAAIs4C,EAAgBhuC,EAAOguC,cAE3B,IAAM9hD,EAAI,EAAG04B,EAAKopB,EAAc/6C,OAAQ/G,EAAI04B,EAAI14B,IAE5CgH,KAAK86C,cAAc1tC,KAAM0tC,EAAe9hD,IAM5C,IAAI+hD,EAAcjuC,EAAOiuC,YAEJ,OAAhBA,IAED/6C,KAAK+6C,YAAcA,EAAYv4C,SAMnC,IAAI+0B,EAAiBzqB,EAAOyqB,eAkB5B,OAhBwB,OAAnBA,IAEDv3B,KAAKu3B,eAAiBA,EAAe/0B,SAMzCxC,KAAKg7C,mBAAqBluC,EAAOkuC,mBACjCh7C,KAAKi7C,mBAAqBnuC,EAAOmuC,mBACjCj7C,KAAKk7C,cAAgBpuC,EAAOouC,cAC5Bl7C,KAAKm7C,kBAAoBruC,EAAOquC,kBAChCn7C,KAAKo7C,iBAAmBtuC,EAAOsuC,iBAC/Bp7C,KAAKq7C,wBAA0BvuC,EAAOuuC,wBACtCr7C,KAAKs7C,iBAAmBxuC,EAAOwuC,iBAExBt7C,MAIXqF,QAAS,WAELrF,KAAKqD,eAAiB2C,KAAM,eAgCpCtM,OAAOC,eAAgB4hD,GAAgB3gD,UAAW,eAE9CkC,IAAK,SAAW7C,IAEG,IAAVA,GAAiB+F,KAAK2tB,aAMnCj0B,OAAO+S,OAAQ8uC,GAAgB3gD,WAE3BgnD,mBAAmB,EAEnB3O,iBAAkB,aAElB4O,SAAU,SAAWr0C,GAEjB,GAAK0iB,MAAMC,QAAS3iB,GAEhB,MAAM,IAAId,UAAW,yDAOzB,OAHA1M,KAAK+gB,WAAkBpgB,IAAV6M,EAAsBA,EAAMzN,OAASC,KAAKw7C,SAAW,EAClEx7C,KAAKwN,MAAQA,EAENxN,MAIX8hD,WAAY,SAAW7nD,GAInB,OAFA+F,KAAK2yC,QAAU14C,EAER+F,MAIXmD,KAAM,SAAW2J,GAUb,OARA9M,KAAKzG,KAAOuT,EAAOvT,KACnByG,KAAKwN,MAAQ,IAAIV,EAAOU,MAAMzC,YAAa+B,EAAOU,OAClDxN,KAAKw7C,SAAW1uC,EAAO0uC,SACvBx7C,KAAK+gB,MAAQjU,EAAOiU,MACpB/gB,KAAKy7C,WAAa3uC,EAAO2uC,WAEzBz7C,KAAK2yC,QAAU7lC,EAAO6lC,QAEf3yC,MAIX+hD,OAAQ,SAAWC,EAAQ/mC,EAAWgnC,GAElCD,GAAUhiD,KAAKw7C,SACfyG,GAAUhnC,EAAUugC,SAEpB,IAAM,IAAIxiD,EAAI,EAAGC,EAAI+G,KAAKw7C,SAAUxiD,EAAIC,EAAGD,IAEvCgH,KAAKwN,MAAOw0C,EAAShpD,GAAMiiB,EAAUzN,MAAOy0C,EAASjpD,GAIzD,OAAOgH,MAIXkiD,UAAW,SAAW10C,GAIlB,OAFAxN,KAAKwN,MAAM1Q,IAAK0Q,GAETxN,MAIXmiD,gBAAiB,SAAW5H,GAIxB,IAFA,IAAI/sC,EAAQxN,KAAKwN,MAAO9J,EAAS,EAEvB1K,EAAI,EAAGC,EAAIshD,EAAOx6C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAIiF,EAAQs8C,EAAQvhD,QAEL2H,IAAV1C,IAED6K,QAAQC,KAAM,8DAA+D/P,GAC7EiF,EAAQ,IAAI7B,IAIhBoR,EAAO9J,KAAczF,EAAMnE,EAC3B0T,EAAO9J,KAAczF,EAAMktB,EAC3B3d,EAAO9J,KAAczF,EAAMib,EAI/B,OAAOlZ,MAIXoiD,kBAAmB,SAAWC,GAI1B,IAFA,IAAI70C,EAAQxN,KAAKwN,MAAO9J,EAAS,EAEvB1K,EAAI,EAAGC,EAAIopD,EAAQtiD,OAAQ/G,EAAIC,EAAGD,IAAO,CAE/C,IAAI8qB,EAASu+B,EAASrpD,QAEN2H,IAAXmjB,IAEDhb,QAAQC,KAAM,iEAAkE/P,GAChF8qB,EAAS,IAAIpd,IAIjB8G,EAAO9J,KAAcogB,EAAO1kB,EAC5BoO,EAAO9J,KAAcogB,EAAOzkB,EAIhC,OAAOW,MAIXsiD,kBAAmB,SAAWD,GAI1B,IAFA,IAAI70C,EAAQxN,KAAKwN,MAAO9J,EAAS,EAEvB1K,EAAI,EAAGC,EAAIopD,EAAQtiD,OAAQ/G,EAAIC,EAAGD,IAAO,CAE/C,IAAI8qB,EAASu+B,EAASrpD,QAEN2H,IAAXmjB,IAEDhb,QAAQC,KAAM,iEAAkE/P,GAChF8qB,EAAS,IAAIhjB,IAIjB0M,EAAO9J,KAAcogB,EAAO1kB,EAC5BoO,EAAO9J,KAAcogB,EAAOzkB,EAC5BmO,EAAO9J,KAAcogB,EAAOxkB,EAIhC,OAAOU,MAIXuiD,kBAAmB,SAAWF,GAI1B,IAFA,IAAI70C,EAAQxN,KAAKwN,MAAO9J,EAAS,EAEvB1K,EAAI,EAAGC,EAAIopD,EAAQtiD,OAAQ/G,EAAIC,EAAGD,IAAO,CAE/C,IAAI8qB,EAASu+B,EAASrpD,QAEN2H,IAAXmjB,IAEDhb,QAAQC,KAAM,iEAAkE/P,GAChF8qB,EAAS,IAAI+J,IAIjBrgB,EAAO9J,KAAcogB,EAAO1kB,EAC5BoO,EAAO9J,KAAcogB,EAAOzkB,EAC5BmO,EAAO9J,KAAcogB,EAAOxkB,EAC5BkO,EAAO9J,KAAcogB,EAAO/L,EAIhC,OAAO/X,MAIXlD,IAAK,SAAW7C,EAAOyJ,GAMnB,YAJgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKwN,MAAM1Q,IAAK7C,EAAOyJ,GAEhB1D,MAIXkb,KAAM,SAAWtO,GAEb,OAAO5M,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,WAIpC9iC,KAAM,SAAW9L,EAAOxN,GAIpB,OAFAY,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,UAAap8C,EAE/BY,MAIXmb,KAAM,SAAWvO,GAEb,OAAO5M,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,SAAW,IAI/C7iC,KAAM,SAAW/L,EAAOvN,GAIpB,OAFAW,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,SAAW,GAAMn8C,EAEnCW,MAIXghB,KAAM,SAAWpU,GAEb,OAAO5M,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,SAAW,IAI/C3yB,KAAM,SAAWjc,EAAOtN,GAIpB,OAFAU,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,SAAW,GAAMl8C,EAEnCU,MAIX0wB,KAAM,SAAW9jB,GAEb,OAAO5M,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,SAAW,IAI/CjrB,KAAM,SAAW3jB,EAAOmL,GAIpB,OAFA/X,KAAKwN,MAAOZ,EAAQ5M,KAAKw7C,SAAW,GAAMzjC,EAEnC/X,MAIXwiD,MAAO,SAAW51C,EAAOxN,EAAGC,GAOxB,OALAuN,GAAS5M,KAAKw7C,SAEdx7C,KAAKwN,MAAOZ,EAAQ,GAAMxN,EAC1BY,KAAKwN,MAAOZ,EAAQ,GAAMvN,EAEnBW,MAIXkhB,OAAQ,SAAWtU,EAAOxN,EAAGC,EAAGC,GAQ5B,OANAsN,GAAS5M,KAAKw7C,SAEdx7C,KAAKwN,MAAOZ,EAAQ,GAAMxN,EAC1BY,KAAKwN,MAAOZ,EAAQ,GAAMvN,EAC1BW,KAAKwN,MAAOZ,EAAQ,GAAMtN,EAEnBU,MAIXyiD,QAAS,SAAW71C,EAAOxN,EAAGC,EAAGC,EAAGyY,GAShC,OAPAnL,GAAS5M,KAAKw7C,SAEdx7C,KAAKwN,MAAOZ,EAAQ,GAAMxN,EAC1BY,KAAKwN,MAAOZ,EAAQ,GAAMvN,EAC1BW,KAAKwN,MAAOZ,EAAQ,GAAMtN,EAC1BU,KAAKwN,MAAOZ,EAAQ,GAAMmL,EAEnB/X,MAIX0iD,SAAU,SAAW/5B,GAIjB,OAFA3oB,KAAKizC,iBAAmBtqB,EAEjB3oB,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKwN,MAAOxN,KAAKw7C,UAAWr4C,KAAMnD,SAcvE07C,GAAoB9gD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WAC/D8gD,GAAoB9gD,UAAUmQ,YAAc2wC,GAS5CC,GAAqB/gD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WAChE+gD,GAAqB/gD,UAAUmQ,YAAc4wC,GAS7CC,GAA4BhhD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WACvEghD,GAA4BhhD,UAAUmQ,YAAc6wC,GASpDE,GAAqBlhD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WAChEkhD,GAAqBlhD,UAAUmQ,YAAc+wC,GAS7CC,GAAsBnhD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WACjEmhD,GAAsBnhD,UAAUmQ,YAAcgxC,GAS9CC,GAAqBphD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WAChEohD,GAAqBphD,UAAUmQ,YAAcixC,GAS7CC,GAAsBrhD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WACjEqhD,GAAsBrhD,UAAUmQ,YAAckxC,GAS9CC,GAAuBthD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WAClEshD,GAAuBthD,UAAUmQ,YAAcmxC,GAS/CC,GAAuBvhD,UAAYlB,OAAOY,OAAQihD,GAAgB3gD,WAClEuhD,GAAuBvhD,UAAUmQ,YAAcoxC,GAoC/CziD,OAAO+S,OAAQ2vC,GAAexhD,WAE1B+nD,cAAe,SAAWjwB,GAQtB,IANA,IAAI4qB,EACAd,KACAhI,OAAgB7zC,EAEhB65C,EAAQ9nB,EAAS8nB,MAEXxhD,EAAI,EAAGA,EAAIwhD,EAAMz6C,OAAQ/G,IAAO,CAEtC,IAAI0jD,EAAOlC,EAAOxhD,GAIb0jD,EAAKlI,gBAAkBA,IAExBA,EAAgBkI,EAAKlI,mBAEN7zC,IAAV28C,IAEDA,EAAMv8B,MAAc,EAAJ/nB,EAAUskD,EAAM5nB,MAChC8mB,EAAOpvC,KAAMkwC,IAIjBA,GACI5nB,MAAW,EAAJ18B,EACPw7C,cAAeA,SAOZ7zC,IAAV28C,IAEDA,EAAMv8B,MAAc,EAAJ/nB,EAAUskD,EAAM5nB,MAChC8mB,EAAOpvC,KAAMkwC,IAIjBt9C,KAAKw8C,OAASA,GAIlBoG,aAAc,SAAWlwB,GAErB,IAYImwB,EAZArI,EAAQ9nB,EAAS8nB,MACjB5nB,EAAWF,EAASE,SACpB6nB,EAAgB/nB,EAAS+nB,cAEzBiG,EAAkBjG,EAAe,IAAOA,EAAe,GAAI16C,OAAS,EACpE+iD,EAAmBrI,EAAe,IAAOA,EAAe,GAAI16C,OAAS,EAIrE26C,EAAehoB,EAASgoB,aACxBqI,EAAqBrI,EAAa36C,OAItC,GAAKgjD,EAAqB,EAAI,CAE1BF,KAEA,IAAM,IAAI7pD,EAAI,EAAGA,EAAI+pD,EAAoB/pD,IAErC6pD,EAAsB7pD,IAClBO,KAAMmhD,EAAc1hD,GAAIO,KACxBo1B,SAKR3uB,KAAK06C,aAAa79C,SAAWgmD,EAIjC,IAGIG,EAHArI,EAAejoB,EAASioB,aACxBsI,EAAqBtI,EAAa56C,OAItC,GAAKkjD,EAAqB,EAAI,CAE1BD,KAEA,IAAUhqD,EAAI,EAAGA,EAAIiqD,EAAoBjqD,IAErCgqD,EAAoBhqD,IAChBO,KAAMohD,EAAc3hD,GAAIO,KACxBo1B,SAKR3uB,KAAK06C,aAAajwB,OAASu4B,EAM/B,IAAInI,EAAcnoB,EAASmoB,YACvBD,EAAcloB,EAASkoB,YAEvBsI,EAAiBrI,EAAY96C,SAAW6yB,EAAS7yB,OACjDojD,EAAiBvI,EAAY76C,SAAW6yB,EAAS7yB,OAIhD6yB,EAAS7yB,OAAS,GAAsB,IAAjBy6C,EAAMz6C,QAE9B+I,QAAQgP,MAAO,gEAInB,IAAU9e,EAAI,EAAGA,EAAIwhD,EAAMz6C,OAAQ/G,IAAO,CAEtC,IAAI0jD,EAAOlC,EAAOxhD,GAElBgH,KAAK4yB,SAASxlB,KAAMwlB,EAAU8pB,EAAKzjC,GAAK2Z,EAAU8pB,EAAKxjC,GAAK0Z,EAAU8pB,EAAKrjD,IAE3E,IAAIo7C,EAAgBiI,EAAKjI,cAEzB,GAA8B,IAAzBA,EAAc10C,OAEfC,KAAKq8C,QAAQjvC,KAAMqnC,EAAe,GAAKA,EAAe,GAAKA,EAAe,QAEvE,CAEH,IAAIhqB,EAASiyB,EAAKjyB,OAElBzqB,KAAKq8C,QAAQjvC,KAAMqd,EAAQA,EAAQA,GAIvC,IAkCQ24B,EAlCJ1O,EAAegI,EAAKhI,aAExB,GAA6B,IAAxBA,EAAa30C,OAEdC,KAAKu6C,OAAOntC,KAAMsnC,EAAc,GAAKA,EAAc,GAAKA,EAAc,QAEnE,CAEH,IAAIz2C,EAAQy+C,EAAKz+C,MAEjB+B,KAAKu6C,OAAOntC,KAAMnP,EAAOA,EAAOA,GAIpC,IAAyB,IAApByiD,OAIkB//C,KAFfyiD,EAAY3I,EAAe,GAAKzhD,IAIhCgH,KAAKs8C,IAAIlvC,KAAMg2C,EAAW,GAAKA,EAAW,GAAKA,EAAW,KAI1Dt6C,QAAQC,KAAM,2DAA4D/P,GAE1EgH,KAAKs8C,IAAIlvC,KAAM,IAAI1G,GAAW,IAAIA,GAAW,IAAIA,KAMzD,IAA0B,IAArBo8C,OAIkBniD,KAFfyiD,EAAY3I,EAAe,GAAKzhD,IAIhCgH,KAAKu8C,KAAKnvC,KAAMg2C,EAAW,GAAKA,EAAW,GAAKA,EAAW,KAI3Dt6C,QAAQC,KAAM,4DAA6D/P,GAE3EgH,KAAKu8C,KAAKnvC,KAAM,IAAI1G,GAAW,IAAIA,GAAW,IAAIA,KAQ1D,IAAM,IAAIytB,EAAI,EAAGA,EAAI4uB,EAAoB5uB,IAAO,CAE5C,IAAIqtB,EAAc9G,EAAcvmB,GAAIvB,SAEpCiwB,EAAsB1uB,GAAIxF,KAAKvhB,KAAMo0C,EAAa9E,EAAKzjC,GAAKuoC,EAAa9E,EAAKxjC,GAAKsoC,EAAa9E,EAAKrjD,IAIzG,IAAU86B,EAAI,EAAGA,EAAI8uB,EAAoB9uB,IAAO,CAE5C,IAAIstB,EAAc9G,EAAcxmB,GAAIsgB,cAAez7C,GAEnDgqD,EAAoB7uB,GAAIxF,KAAKvhB,KAAMq0C,EAAYxoC,EAAGwoC,EAAYvoC,EAAGuoC,EAAYpoD,GAM5E6pD,GAEDljD,KAAK66C,YAAYztC,KAAMytC,EAAa6B,EAAKzjC,GAAK4hC,EAAa6B,EAAKxjC,GAAK2hC,EAAa6B,EAAKrjD,IAItF8pD,GAEDnjD,KAAK46C,YAAYxtC,KAAMwtC,EAAa8B,EAAKzjC,GAAK2hC,EAAa8B,EAAKxjC,GAAK0hC,EAAa8B,EAAKrjD,IAc/F,OARA2G,KAAK2iD,cAAejwB,GAEpB1yB,KAAKi7C,mBAAqBvoB,EAASuoB,mBACnCj7C,KAAKm7C,kBAAoBzoB,EAASyoB,kBAClCn7C,KAAKo7C,iBAAmB1oB,EAAS0oB,iBACjCp7C,KAAKk7C,cAAgBxoB,EAASwoB,cAC9Bl7C,KAAKs7C,iBAAmB5oB,EAAS4oB,iBAE1Bt7C,QA+Bf,IAAIqjD,GAAmB,EAEvB,SAASC,KAEL5pD,OAAOC,eAAgBqG,KAAM,MAAQ/F,MAAOopD,IAAoB,IAEhErjD,KAAKH,KAAO2V,GAAMG,eAElB3V,KAAKzG,KAAO,GACZyG,KAAKgG,KAAO,iBAEZhG,KAAK4M,MAAQ,KACb5M,KAAK8yB,cAEL9yB,KAAKujD,mBAELvjD,KAAKw8C,UAELx8C,KAAK+6C,YAAc,KACnB/6C,KAAKu3B,eAAiB,KAEtBv3B,KAAKwjD,WAAc9tB,MAAO,EAAG3U,MAAOhgB,EAAAA,GAEpCf,KAAK62C,YAskCT,SAAS4M,GAAaprC,EAAOC,EAAQw4B,EAAO4S,EAAeC,EAAgBC,GAEvEtJ,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,cAEZhG,KAAK45C,YACDvhC,MAAOA,EACPC,OAAQA,EACRw4B,MAAOA,EACP4S,cAAeA,EACfC,eAAgBA,EAChBC,cAAeA,GAGnB5jD,KAAK88C,mBAAoB,IAAI+G,GAAmBxrC,EAAOC,EAAQw4B,EAAO4S,EAAeC,EAAgBC,IACrG5jD,KAAKy/C,gBAST,SAASoE,GAAmBxrC,EAAOC,EAAQw4B,EAAO4S,EAAeC,EAAgBC,GAE7EN,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,oBAEZhG,KAAK45C,YACDvhC,MAAOA,EACPC,OAAQA,EACRw4B,MAAOA,EACP4S,cAAeA,EACfC,eAAgBA,EAChBC,cAAeA,GAGnB,IAAI1gD,EAAQlD,KAEZqY,EAAQA,GAAS,EACjBC,EAASA,GAAU,EACnBw4B,EAAQA,GAAS,EAIjB4S,EAAgBpmD,KAAK8O,MAAOs3C,IAAmB,EAC/CC,EAAiBrmD,KAAK8O,MAAOu3C,IAAoB,EAKjD,IAAI5G,KACAnqB,KACAypB,KACAC,KAIAwH,EAAmB,EACnBC,EAAa,EAkBjB,SAASC,EAAYxkB,EAAGh4B,EAAGuQ,EAAGksC,EAAMC,EAAM7rC,EAAOC,EAAQw4B,EAAOqT,EAAOC,EAAO5P,GAE1E,IAaInrB,EAAIC,EAbJ+6B,EAAehsC,EAAQ8rC,EACvBG,EAAgBhsC,EAAS8rC,EAEzBG,EAAYlsC,EAAQ,EACpBmsC,EAAalsC,EAAS,EACtBmsC,EAAY3T,EAAQ,EAEpB4T,EAASP,EAAQ,EACjBQ,EAASP,EAAQ,EAEjBQ,EAAgB,EAChBC,EAAa,EAIb/gC,EAAS,IAAIhjB,GAIjB,IAAMwoB,EAAK,EAAGA,EAAKq7B,EAAQr7B,IAAQ,CAE/B,IAAIjqB,EAAIiqB,EAAKg7B,EAAgBE,EAE7B,IAAMn7B,EAAK,EAAGA,EAAKq7B,EAAQr7B,IAAQ,CAE/B,IAAIjqB,EAAIiqB,EAAKg7B,EAAeE,EAI5BzgC,EAAQ0b,GAAMpgC,EAAI6kD,EAClBngC,EAAQtc,GAAMnI,EAAI6kD,EAClBpgC,EAAQ/L,GAAM0sC,EAId7xB,EAASxlB,KAAM0W,EAAO1kB,EAAG0kB,EAAOzkB,EAAGykB,EAAOxkB,GAI1CwkB,EAAQ0b,GAAM,EACd1b,EAAQtc,GAAM,EACdsc,EAAQ/L,GAAM+4B,EAAQ,EAAI,GAAM,EAIhCuL,EAAQjvC,KAAM0W,EAAO1kB,EAAG0kB,EAAOzkB,EAAGykB,EAAOxkB,GAIzCg9C,EAAIlvC,KAAMic,EAAK86B,GACf7H,EAAIlvC,KAAM,EAAMkc,EAAK86B,GAIrBQ,GAAiB,GAYzB,IAAMt7B,EAAK,EAAGA,EAAK86B,EAAO96B,IAEtB,IAAMD,EAAK,EAAGA,EAAK86B,EAAO96B,IAAQ,CAE9B,IAAIpQ,EAAI6qC,EAAmBz6B,EAAKq7B,EAASp7B,EACrCpQ,EAAI4qC,EAAmBz6B,EAAKq7B,GAAWp7B,EAAK,GAC5CjwB,EAAIyqD,GAAqBz6B,EAAK,GAAMq7B,GAAWp7B,EAAK,GACpDhwB,EAAIwqD,GAAqBz6B,EAAK,GAAMq7B,EAASp7B,EAIjDyzB,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAIpBurD,GAAc,EAQtB3hD,EAAM4hD,SAAUf,EAAYc,EAAYrQ,GAIxCuP,GAAcc,EAIdf,GAAoBc,EAlHxBZ,EAAY,IAAK,IAAK,KAAO,GAAK,EAAGlT,EAAOx4B,EAAQD,EAhBpDurC,EAAgBtmD,KAAK8O,MAAOw3C,IAAmB,EAgB2BD,EAAgB,GAC1FK,EAAY,IAAK,IAAK,IAAK,GAAK,EAAGlT,EAAOx4B,GAAUD,EAAOurC,EAAeD,EAAgB,GAC1FK,EAAY,IAAK,IAAK,IAAK,EAAG,EAAG3rC,EAAOy4B,EAAOx4B,EAAQorC,EAAeE,EAAe,GACrFI,EAAY,IAAK,IAAK,IAAK,GAAK,EAAG3rC,EAAOy4B,GAASx4B,EAAQorC,EAAeE,EAAe,GACzFI,EAAY,IAAK,IAAK,IAAK,GAAK,EAAG3rC,EAAOC,EAAQw4B,EAAO4S,EAAeC,EAAgB,GACxFK,EAAY,IAAK,IAAK,KAAO,GAAK,EAAG3rC,EAAOC,GAAUw4B,EAAO4S,EAAeC,EAAgB,GAI5F3jD,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IAsH9D,SAAS2I,GAAe5sC,EAAOC,EAAQorC,EAAeC,GAElDrJ,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,gBAEZhG,KAAK45C,YACDvhC,MAAOA,EACPC,OAAQA,EACRorC,cAAeA,EACfC,eAAgBA,GAGpB3jD,KAAK88C,mBAAoB,IAAIoI,GAAqB7sC,EAAOC,EAAQorC,EAAeC,IAChF3jD,KAAKy/C,gBAST,SAASyF,GAAqB7sC,EAAOC,EAAQorC,EAAeC,GAExDL,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,sBAEZhG,KAAK45C,YACDvhC,MAAOA,EACPC,OAAQA,EACRorC,cAAeA,EACfC,eAAgBA,GAMpB,IAYIt6B,EAAIC,EAZJ67B,GAHJ9sC,EAAQA,GAAS,GAGQ,EACrB+sC,GAHJ9sC,EAASA,GAAU,GAGQ,EAEvB6rC,EAAQ7mD,KAAK8O,MAAOs3C,IAAmB,EACvCU,EAAQ9mD,KAAK8O,MAAOu3C,IAAoB,EAExCe,EAASP,EAAQ,EACjBQ,EAASP,EAAQ,EAEjBiB,EAAgBhtC,EAAQ8rC,EACxBmB,EAAiBhtC,EAAS8rC,EAM1BrH,KACAnqB,KACAypB,KACAC,KAIJ,IAAMhzB,EAAK,EAAGA,EAAKq7B,EAAQr7B,IAAQ,CAE/B,IAAIjqB,EAAIiqB,EAAKg8B,EAAiBF,EAE9B,IAAM/7B,EAAK,EAAGA,EAAKq7B,EAAQr7B,IAAQ,CAE/B,IAAIjqB,EAAIiqB,EAAKg8B,EAAgBF,EAE7BvyB,EAASxlB,KAAMhO,GAAKC,EAAG,GAEvBg9C,EAAQjvC,KAAM,EAAG,EAAG,GAEpBkvC,EAAIlvC,KAAMic,EAAK86B,GACf7H,EAAIlvC,KAAM,EAAMkc,EAAK86B,IAQ7B,IAAM96B,EAAK,EAAGA,EAAK86B,EAAO96B,IAEtB,IAAMD,EAAK,EAAGA,EAAK86B,EAAO96B,IAAQ,CAE9B,IAAIpQ,EAAIoQ,EAAKq7B,EAASp7B,EAClBpQ,EAAImQ,EAAKq7B,GAAWp7B,EAAK,GACzBjwB,EAAMgwB,EAAK,EAAMq7B,GAAWp7B,EAAK,GACjChwB,EAAM+vB,EAAK,EAAMq7B,EAASp7B,EAI9ByzB,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAQ5B0G,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IAh3C9DgH,GAAe1oD,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAErEmQ,YAAau4C,GAEbzwB,kBAAkB,EAElB0yB,SAAU,WAEN,OAAOvlD,KAAK4M,OAIhBm4C,SAAU,SAAWn4C,GAEZsjB,MAAMC,QAASvjB,GAEhB5M,KAAK4M,MAAQ,IAAM6vC,GAAU7vC,GAAU,MAAQqvC,GAAwBF,IAAyBnvC,EAAO,GAIvG5M,KAAK4M,MAAQA,GAMrBo4C,aAAc,SAAWzrD,EAAM0hB,GAE3B,OAASA,GAAaA,EAAU2mC,mBAA2B3mC,GAAaA,EAAUo3B,6BAQpE,UAAT94C,GAEDuP,QAAQC,KAAM,2EACd/I,KAAK+kD,SAAU9pC,GAERjb,OAIXA,KAAK8yB,WAAYv5B,GAAS0hB,EAEnBjb,OAjBH8I,QAAQC,KAAM,0EAEP/I,KAAKglD,aAAczrD,EAAM,IAAIgiD,GAAiB1uC,UAAW,GAAKA,UAAW,OAmBxF24C,aAAc,SAAWjsD,GAErB,OAAOyG,KAAK8yB,WAAYv5B,IAI5BksD,gBAAiB,SAAWlsD,GAIxB,cAFOyG,KAAK8yB,WAAYv5B,GAEjByG,MAIX8kD,SAAU,SAAWpvB,EAAO3U,EAAOyzB,GAE/Bx0C,KAAKw8C,OAAOpvC,MAERsoB,MAAOA,EACP3U,MAAOA,EACPyzB,mBAAiC7zC,IAAlB6zC,EAA8BA,EAAgB,KAMrEkR,YAAa,WAET1lD,KAAKw8C,WAITmJ,aAAc,SAAWjwB,EAAO3U,GAE5B/gB,KAAKwjD,UAAU9tB,MAAQA,EACvB11B,KAAKwjD,UAAUziC,MAAQA,GAI3Bk2B,YAAa,SAAW1uC,GAEpB,IAAI1L,EAAWmD,KAAK8yB,WAAWj2B,cAEb8D,IAAb9D,IAED0L,EAAOuY,uBAAwBjkB,GAC/BA,EAAS+oD,aAAc,GAI3B,IAAIn7B,EAASzqB,KAAK8yB,WAAWrI,YAEb9pB,IAAX8pB,KAEkB,IAAIrS,IAAUgT,gBAAiB7iB,GAErCuY,uBAAwB2J,GACrCA,EAAOm7B,aAAc,GAgBzB,OAZ0B,OAArB5lD,KAAK+6C,aAEN/6C,KAAK48C,qBAIoB,OAAxB58C,KAAKu3B,gBAENv3B,KAAKw3B,wBAIFx3B,MAIXy3C,QAAS,WAIL,IAAIzhB,EAAK,IAAIpe,GAEb,OAAO,SAAkBvQ,GAMrB,OAJA2uB,EAAG3T,cAAehb,GAElBrH,KAAKi3C,YAAajhB,GAEXh2B,MAZN,GAkBT03C,QAAS,WAIL,IAAI1hB,EAAK,IAAIpe,GAEb,OAAO,SAAkBvQ,GAMrB,OAJA2uB,EAAG1T,cAAejb,GAElBrH,KAAKi3C,YAAajhB,GAEXh2B,MAZN,GAkBT23C,QAAS,WAIL,IAAI3hB,EAAK,IAAIpe,GAEb,OAAO,SAAkBvQ,GAMrB,OAJA2uB,EAAGzT,cAAelb,GAElBrH,KAAKi3C,YAAajhB,GAEXh2B,MAZN,GAkBT4rB,UAAW,WAIP,IAAIoK,EAAK,IAAIpe,GAEb,OAAO,SAAoBxY,EAAGC,EAAGC,GAM7B,OAJA02B,EAAG5T,gBAAiBhjB,EAAGC,EAAGC,GAE1BU,KAAKi3C,YAAajhB,GAEXh2B,MAZJ,GAkBXd,MAAO,WAIH,IAAI82B,EAAK,IAAIpe,GAEb,OAAO,SAAgBxY,EAAGC,EAAGC,GAMzB,OAJA02B,EAAGpT,UAAWxjB,EAAGC,EAAGC,GAEpBU,KAAKi3C,YAAajhB,GAEXh2B,MAZR,GAkBP8E,OAAQ,WAEJ,IAAI+3C,EAAM,IAAI5G,GAEd,OAAO,SAAiBnyB,GAEpB+4B,EAAI/3C,OAAQgf,GAEZ+4B,EAAIt9C,eAEJS,KAAKi3C,YAAa4F,EAAIt0C,SAVtB,GAgBR0C,OAAQ,WAEJ,IAAIvH,EAAS,IAAI5C,GAEjB,OAAO,WAQH,OANAd,KAAK48C,qBAEL58C,KAAK+6C,YAAY5oB,UAAWzuB,GAASqW,SAErC/Z,KAAK4rB,UAAWloB,EAAOtE,EAAGsE,EAAOrE,EAAGqE,EAAOpE,GAEpCU,MAZP,GAkBR+xB,cAAe,SAAWr3B,GAItB,IAAIg4B,EAAWh4B,EAAOg4B,SAEtB,GAAKh4B,EAAOi/C,UAAYj/C,EAAOg/C,OAAS,CAEpC,IAAIsD,EAAY,IAAId,GAAmD,EAA3BxpB,EAASE,SAAS7yB,OAAY,GACtEw6C,EAAS,IAAI2B,GAAiD,EAAzBxpB,EAAS6nB,OAAOx6C,OAAY,GAKrE,GAHAC,KAAKglD,aAAc,WAAYhI,EAAUsF,kBAAmB5vB,EAASE,WACrE5yB,KAAKglD,aAAc,QAASzK,EAAO4H,gBAAiBzvB,EAAS6nB,SAExD7nB,EAASooB,eAAiBpoB,EAASooB,cAAc/6C,SAAW2yB,EAASE,SAAS7yB,OAAS,CAExF,IAAI+6C,EAAgB,IAAIoB,GAAwBxpB,EAASooB,cAAc/6C,OAAQ,GAE/EC,KAAKglD,aAAc,eAAgBlK,EAAcoH,UAAWxvB,EAASooB,gBAIxC,OAA5BpoB,EAAS6E,iBAEVv3B,KAAKu3B,eAAiB7E,EAAS6E,eAAe/0B,SAIpB,OAAzBkwB,EAASqoB,cAEV/6C,KAAK+6C,YAAcroB,EAASqoB,YAAYv4C,cAIpC9H,EAAO++C,QAEV/mB,GAAYA,EAASC,YAEtB3yB,KAAK4iD,aAAclwB,GAM3B,OAAO1yB,MAIXuxB,cAAe,SAAWC,GAItB,IAFA,IAAI30B,KAEM7D,EAAI,EAAGC,EAAIu4B,EAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAIq5B,EAAQb,EAAQx4B,GACpB6D,EAASuQ,KAAMilB,EAAMjzB,EAAGizB,EAAMhzB,EAAGgzB,EAAM/yB,GAAK,GAMhD,OAFAU,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBr/C,EAAU,IAE9DmD,MAIX6lD,iBAAkB,SAAWnrD,GAEzB,IAmCIugB,EAnCAyX,EAAWh4B,EAAOg4B,SAEtB,GAAKh4B,EAAO++C,OAAS,CAEjB,IAAIqM,EAASpzB,EAASqzB,iBAStB,IAPqC,IAAhCrzB,EAASsoB,qBAEV8K,OAASnlD,EACT+xB,EAASsoB,oBAAqB,QAIlBr6C,IAAXmlD,EAED,OAAO9lD,KAAK4iD,aAAclwB,GAI9BozB,EAAO7K,mBAAqBvoB,EAASuoB,mBACrC6K,EAAO3K,kBAAoBzoB,EAASyoB,kBACpC2K,EAAO1K,iBAAmB1oB,EAAS0oB,iBACnC0K,EAAO5K,cAAgBxoB,EAASwoB,cAChC4K,EAAOxK,iBAAmB5oB,EAAS4oB,iBAEnC5oB,EAASuoB,oBAAqB,EAC9BvoB,EAASyoB,mBAAoB,EAC7BzoB,EAAS0oB,kBAAmB,EAC5B1oB,EAASwoB,eAAgB,EACzBxoB,EAAS4oB,kBAAmB,EAE5B5oB,EAAWozB,EA0Ff,OApFqC,IAAhCpzB,EAASuoB,0BAISt6C,KAFnBsa,EAAYjb,KAAK8yB,WAAWj2B,YAIxBoe,EAAUqnC,kBAAmB5vB,EAASE,UACtC3X,EAAU2qC,aAAc,GAI5BlzB,EAASuoB,oBAAqB,IAIE,IAA/BvoB,EAASyoB,yBAISx6C,KAFnBsa,EAAYjb,KAAK8yB,WAAWrI,UAIxBxP,EAAUqnC,kBAAmB5vB,EAAS2pB,SACtCphC,EAAU2qC,aAAc,GAI5BlzB,EAASyoB,mBAAoB,IAIE,IAA9BzoB,EAAS0oB,wBAISz6C,KAFnBsa,EAAYjb,KAAK8yB,WAAW70B,SAIxBgd,EAAUknC,gBAAiBzvB,EAAS6nB,QACpCt/B,EAAU2qC,aAAc,GAI5BlzB,EAAS0oB,kBAAmB,GAI3B1oB,EAASwoB,qBAISv6C,KAFnBsa,EAAYjb,KAAK8yB,WAAWzC,MAIxBpV,EAAUmnC,kBAAmB1vB,EAAS4pB,KACtCrhC,EAAU2qC,aAAc,GAI5BlzB,EAASwoB,eAAgB,GAIxBxoB,EAAS2oB,+BAIS16C,KAFnBsa,EAAYjb,KAAK8yB,WAAWkzB,gBAIxB/qC,EAAUinC,UAAWxvB,EAASooB,eAC9B7/B,EAAU2qC,aAAc,GAI5BlzB,EAAS2oB,yBAA0B,GAIlC3oB,EAAS4oB,mBAEV5oB,EAASiwB,cAAejoD,EAAOg4B,UAC/B1yB,KAAKw8C,OAAS9pB,EAAS8pB,OAEvB9pB,EAAS4oB,kBAAmB,GAIzBt7C,MAIX4iD,aAAc,SAAWlwB,GAIrB,OAFAA,EAASqzB,kBAAmB,IAAI3J,IAAiBwG,aAAclwB,GAExD1yB,KAAKimD,mBAAoBvzB,EAASqzB,mBAI7CE,mBAAoB,SAAWvzB,GAE3B,IAAIsqB,EAAY,IAAI7J,aAAyC,EAA3BzgB,EAASE,SAAS7yB,QAGpD,GAFAC,KAAKglD,aAAc,WAAY,IAAIzJ,GAAiByB,EAAW,GAAIsF,kBAAmB5vB,EAASE,WAE1FF,EAAS2pB,QAAQt8C,OAAS,EAAI,CAE/B,IAAIs8C,EAAU,IAAIlJ,aAAwC,EAA1BzgB,EAAS2pB,QAAQt8C,QACjDC,KAAKglD,aAAc,SAAU,IAAIzJ,GAAiBc,EAAS,GAAIiG,kBAAmB5vB,EAAS2pB,UAI/F,GAAK3pB,EAAS6nB,OAAOx6C,OAAS,EAAI,CAE9B,IAAIw6C,EAAS,IAAIpH,aAAuC,EAAzBzgB,EAAS6nB,OAAOx6C,QAC/CC,KAAKglD,aAAc,QAAS,IAAIzJ,GAAiBhB,EAAQ,GAAI4H,gBAAiBzvB,EAAS6nB,SAI3F,GAAK7nB,EAAS4pB,IAAIv8C,OAAS,EAAI,CAE3B,IAAIu8C,EAAM,IAAInJ,aAAoC,EAAtBzgB,EAAS4pB,IAAIv8C,QACzCC,KAAKglD,aAAc,KAAM,IAAIzJ,GAAiBe,EAAK,GAAI8F,kBAAmB1vB,EAAS4pB,MAIvF,GAAK5pB,EAAS6pB,KAAKx8C,OAAS,EAAI,CAE5B,IAAIw8C,EAAO,IAAIpJ,aAAqC,EAAvBzgB,EAAS6pB,KAAKx8C,QAC3CC,KAAKglD,aAAc,MAAO,IAAIzJ,GAAiBgB,EAAM,GAAI6F,kBAAmB1vB,EAAS6pB,OAUzF,IAAM,IAAIhjD,KAJVyG,KAAKw8C,OAAS9pB,EAAS8pB,OAIL9pB,EAASgoB,aAAe,CAKtC,IAHA,IAAIltC,KACAktC,EAAehoB,EAASgoB,aAAcnhD,GAEhCP,EAAI,EAAGC,EAAIyhD,EAAa36C,OAAQ/G,EAAIC,EAAGD,IAAO,CAEpD,IAAIwoD,EAAc9G,EAAc1hD,GAE5BiiB,EAAY,IAAIihC,GAAkD,EAA1BsF,EAAY7yB,KAAK5uB,OAAY,GACzEkb,EAAU1hB,KAAOioD,EAAYjoD,KAE7BiU,EAAMJ,KAAM6N,EAAUqnC,kBAAmBd,EAAY7yB,OAIzD3uB,KAAKujD,gBAAiBhqD,GAASiU,EAMnC,GAAKklB,EAASmoB,YAAY96C,OAAS,EAAI,CAEnC,IAAI86C,EAAc,IAAIqB,GAAsD,EAA9BxpB,EAASmoB,YAAY96C,OAAY,GAC/EC,KAAKglD,aAAc,YAAanK,EAAY0H,kBAAmB7vB,EAASmoB,cAI5E,GAAKnoB,EAASkoB,YAAY76C,OAAS,EAAI,CAEnC,IAAI66C,EAAc,IAAIsB,GAAsD,EAA9BxpB,EAASkoB,YAAY76C,OAAY,GAC/EC,KAAKglD,aAAc,aAAcpK,EAAY2H,kBAAmB7vB,EAASkoB,cAkB7E,OAZiC,OAA5BloB,EAAS6E,iBAEVv3B,KAAKu3B,eAAiB7E,EAAS6E,eAAe/0B,SAIpB,OAAzBkwB,EAASqoB,cAEV/6C,KAAK+6C,YAAcroB,EAASqoB,YAAYv4C,SAIrCxC,MAIX48C,mBAAoB,WAEU,OAArB58C,KAAK+6C,cAEN/6C,KAAK+6C,YAAc,IAAInsB,IAI3B,IAAI/xB,EAAWmD,KAAK8yB,WAAWj2B,cAEb8D,IAAb9D,EAEDmD,KAAK+6C,YAAYzpB,uBAAwBz0B,GAIzCmD,KAAK+6C,YAAYtpB,aAIhBy0B,MAAOlmD,KAAK+6C,YAAYt2C,IAAIrF,IAAO8mD,MAAOlmD,KAAK+6C,YAAYt2C,IAAIpF,IAAO6mD,MAAOlmD,KAAK+6C,YAAYt2C,IAAInF,KAEnGwJ,QAAQgP,MAAO,oIAAqI9X,OAM5Jw3B,sBAAuB,WAEnB,IAAIvF,EAAM,IAAIrD,GACV9K,EAAS,IAAIhjB,GAEjB,OAAO,WAE0B,OAAxBd,KAAKu3B,iBAENv3B,KAAKu3B,eAAiB,IAAI1I,IAI9B,IAAIhyB,EAAWmD,KAAK8yB,WAAWj2B,SAE/B,GAAKA,EAAW,CAEZ,IAAIoO,EAASjL,KAAKu3B,eAAetsB,OAEjCgnB,EAAIX,uBAAwBz0B,GAC5Bo1B,EAAIE,UAAWlnB,GAOf,IAFA,IAAIypB,EAAc,EAER17B,EAAI,EAAG04B,EAAK70B,EAASkkB,MAAO/nB,EAAI04B,EAAI14B,IAE1C8qB,EAAO1kB,EAAIvC,EAASqe,KAAMliB,GAC1B8qB,EAAOzkB,EAAIxC,EAASse,KAAMniB,GAC1B8qB,EAAOxkB,EAAIzC,EAASmkB,KAAMhoB,GAC1B07B,EAAcp3B,KAAKkH,IAAKkwB,EAAazpB,EAAOhG,kBAAmB6e,IAInE9jB,KAAKu3B,eAAe5yB,OAASrH,KAAKoN,KAAMgqB,GAEnCwxB,MAAOlmD,KAAKu3B,eAAe5yB,SAE5BmE,QAAQgP,MAAO,+HAAgI9X,QAxCxI,GAkDvBu9C,mBAAoB,aAMpBO,qBAAsB,WAElB,IAAIlxC,EAAQ5M,KAAK4M,MACbkmB,EAAa9yB,KAAK8yB,WAEtB,GAAKA,EAAWj2B,SAAW,CAEvB,IAAImgD,EAAYlqB,EAAWj2B,SAAS2Q,MAEpC,QAA2B7M,IAAtBmyB,EAAWrI,OAEZzqB,KAAKglD,aAAc,SAAU,IAAIzJ,GAAiB,IAAIpI,aAAc6J,EAAUj9C,QAAU,SAQxF,IAFA,IAAIyN,EAAQslB,EAAWrI,OAAOjd,MAEpBxU,EAAI,EAAG04B,EAAKlkB,EAAMzN,OAAQ/G,EAAI04B,EAAI14B,IAExCwU,EAAOxU,GAAM,EAMrB,IAEI2kD,EAAIC,EAAIC,EAFRxB,EAAUvpB,EAAWrI,OAAOjd,MAG5B24C,EAAK,IAAIrlD,GAAWslD,EAAK,IAAItlD,GAAWulD,EAAK,IAAIvlD,GACjD08C,EAAK,IAAI18C,GAAW28C,EAAK,IAAI38C,GAIjC,GAAK8L,EAED,CAAA,IAAImwC,EAAUnwC,EAAMY,MAEpB,IAAUxU,EAAI,EAAG04B,EAAK9kB,EAAMmU,MAAO/nB,EAAI04B,EAAI14B,GAAK,EAE5C2kD,EAAwB,EAAnBZ,EAAS/jD,EAAI,GAClB4kD,EAAwB,EAAnBb,EAAS/jD,EAAI,GAClB6kD,EAAwB,EAAnBd,EAAS/jD,EAAI,GAElBmtD,EAAGrrC,UAAWkiC,EAAWW,GACzByI,EAAGtrC,UAAWkiC,EAAWY,GACzByI,EAAGvrC,UAAWkiC,EAAWa,GAEzBL,EAAG5zC,WAAYy8C,EAAID,GACnB3I,EAAG7zC,WAAYu8C,EAAIC,GACnB5I,EAAGxjC,MAAOyjC,GAEVpB,EAASsB,IAAQH,EAAGp+C,EACpBi9C,EAASsB,EAAK,IAAOH,EAAGn+C,EACxBg9C,EAASsB,EAAK,IAAOH,EAAGl+C,EAExB+8C,EAASuB,IAAQJ,EAAGp+C,EACpBi9C,EAASuB,EAAK,IAAOJ,EAAGn+C,EACxBg9C,EAASuB,EAAK,IAAOJ,EAAGl+C,EAExB+8C,EAASwB,IAAQL,EAAGp+C,EACpBi9C,EAASwB,EAAK,IAAOL,EAAGn+C,EACxBg9C,EAASwB,EAAK,IAAOL,EAAGl+C,OAQ5B,IAAUtG,EAAI,EAAG04B,EAAKsrB,EAAUj9C,OAAQ/G,EAAI04B,EAAI14B,GAAK,EAEjDmtD,EAAGrrC,UAAWkiC,EAAWhkD,GACzBotD,EAAGtrC,UAAWkiC,EAAWhkD,EAAI,GAC7BqtD,EAAGvrC,UAAWkiC,EAAWhkD,EAAI,GAE7BwkD,EAAG5zC,WAAYy8C,EAAID,GACnB3I,EAAG7zC,WAAYu8C,EAAIC,GACnB5I,EAAGxjC,MAAOyjC,GAEVpB,EAASrjD,GAAMwkD,EAAGp+C,EAClBi9C,EAASrjD,EAAI,GAAMwkD,EAAGn+C,EACtBg9C,EAASrjD,EAAI,GAAMwkD,EAAGl+C,EAEtB+8C,EAASrjD,EAAI,GAAMwkD,EAAGp+C,EACtBi9C,EAASrjD,EAAI,GAAMwkD,EAAGn+C,EACtBg9C,EAASrjD,EAAI,GAAMwkD,EAAGl+C,EAEtB+8C,EAASrjD,EAAI,GAAMwkD,EAAGp+C,EACtBi9C,EAASrjD,EAAI,GAAMwkD,EAAGn+C,EACtBg9C,EAASrjD,EAAI,GAAMwkD,EAAGl+C,EAM9BU,KAAKsmD,mBAELxzB,EAAWrI,OAAOm7B,aAAc,IAMxCvmB,MAAO,SAAW3M,EAAUhvB,GAExB,GAASgvB,GAAYA,EAASG,iBAA9B,MAOgBlyB,IAAX+C,IAEDA,EAAS,EAEToF,QAAQC,KACJ,2JAMR,IAAI+pB,EAAa9yB,KAAK8yB,WAEtB,IAAM,IAAIv4B,KAAOu4B,EAEb,QAAoCnyB,IAA/B+xB,EAASI,WAAYv4B,GAU1B,IARA,IACIgsD,EADazzB,EAAYv4B,GACIiT,MAE7Bg5C,EAAa9zB,EAASI,WAAYv4B,GAClCksD,EAAkBD,EAAWh5C,MAIvBxU,EAAI,EAAGm7B,EAFGqyB,EAAWhL,SAEM93C,EAAQ1K,EAAIytD,EAAgB1mD,OAAQ/G,IAAMm7B,IAE3EoyB,EAAiBpyB,GAAMsyB,EAAiBztD,GAMhD,OAAOgH,KAtCH8I,QAAQgP,MAAO,kFAAmF4a,IA0C1G4zB,iBAAkB,WAEd,IAAIxiC,EAAS,IAAIhjB,GAEjB,OAAO,WAIH,IAFA,IAAIu7C,EAAUr8C,KAAK8yB,WAAWrI,OAEpBzxB,EAAI,EAAG04B,EAAK2qB,EAAQt7B,MAAO/nB,EAAI04B,EAAI14B,IAEzC8qB,EAAO1kB,EAAIi9C,EAAQnhC,KAAMliB,GACzB8qB,EAAOzkB,EAAIg9C,EAAQlhC,KAAMniB,GACzB8qB,EAAOxkB,EAAI+8C,EAAQr7B,KAAMhoB,GAEzB8qB,EAAO1J,YAEPiiC,EAAQn7B,OAAQloB,EAAG8qB,EAAO1kB,EAAG0kB,EAAOzkB,EAAGykB,EAAOxkB,IAhBxC,GAwBlBonD,aAAc,WAEV,GAAoB,OAAf1mD,KAAK4M,MAGN,OADA9D,QAAQC,KAAM,yEACP/I,KAIX,IAAI2mD,EAAY,IAAIrD,GAEhBvG,EAAU/8C,KAAK4M,MAAMY,MACrBslB,EAAa9yB,KAAK8yB,WAEtB,IAAM,IAAIv5B,KAAQu5B,EAAa,CAW3B,IATA,IAAI7X,EAAY6X,EAAYv5B,GAExBiU,EAAQyN,EAAUzN,MAClBguC,EAAWvgC,EAAUugC,SAErBoL,EAAS,IAAIp5C,EAAMzC,YAAagyC,EAAQh9C,OAASy7C,GAEjD5uC,EAAQ,EAAGq1C,EAAS,EAEdjpD,EAAI,EAAGC,EAAI8jD,EAAQh9C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE/C4T,EAAQmwC,EAAS/jD,GAAMwiD,EAEvB,IAAM,IAAIrnB,EAAI,EAAGA,EAAIqnB,EAAUrnB,IAE3ByyB,EAAQ3E,KAAcz0C,EAAOZ,KAMrC+5C,EAAU3B,aAAczrD,EAAM,IAAIgiD,GAAiBqL,EAAQpL,IAI/D,IAAIgB,EAASx8C,KAAKw8C,OAElB,IAAUxjD,EAAI,EAAGC,EAAIujD,EAAOz8C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAIskD,EAAQd,EAAQxjD,GACpB2tD,EAAU7B,SAAUxH,EAAM5nB,MAAO4nB,EAAMv8B,MAAOu8B,EAAM9I,eAIxD,OAAOmS,GAIXl3B,OAAQ,WAEJ,IAAId,GACAkB,UACIlC,QAAS,IACT3nB,KAAM,iBACN8pB,UAAW,0BAWnB,GALAnB,EAAK9uB,KAAOG,KAAKH,KACjB8uB,EAAK3oB,KAAOhG,KAAKgG,KACE,KAAdhG,KAAKzG,OAAco1B,EAAKp1B,KAAOyG,KAAKzG,MACpCG,OAAOqI,KAAM/B,KAAK62C,UAAW92C,OAAS,IAAI4uB,EAAKkoB,SAAW72C,KAAK62C,eAE3Cl2C,IAApBX,KAAK45C,WAA2B,CAEjC,IAAIA,EAAa55C,KAAK45C,WAEtB,IAAM,IAAIr/C,KAAOq/C,OAEcj5C,IAAtBi5C,EAAYr/C,KAAsBo0B,EAAMp0B,GAAQq/C,EAAYr/C,IAIrE,OAAOo0B,EAIXA,EAAKA,MAASmE,eAEd,IAAIlmB,EAAQ5M,KAAK4M,MAEjB,GAAe,OAAVA,EAAiB,CAElB,IAAIY,EAAQ0iB,MAAMt1B,UAAU6S,MAAMtU,KAAMyT,EAAMY,OAE9CmhB,EAAKA,KAAK/hB,OACN5G,KAAM4G,EAAMY,MAAMzC,YAAYxR,KAC9BiU,MAAOA,GAKf,IAAIslB,EAAa9yB,KAAK8yB,WAEtB,IAAM,IAAIv4B,KAAOu4B,EAAa,CAE1B,IAAI7X,EAAY6X,EAAYv4B,GAExBiT,EAAQ0iB,MAAMt1B,UAAU6S,MAAMtU,KAAM8hB,EAAUzN,OAElDmhB,EAAKA,KAAKmE,WAAYv4B,IAClBihD,SAAUvgC,EAAUugC,SACpBx1C,KAAMiV,EAAUzN,MAAMzC,YAAYxR,KAClCiU,MAAOA,EACPiuC,WAAYxgC,EAAUwgC,YAK9B,IAAIe,EAASx8C,KAAKw8C,OAEbA,EAAOz8C,OAAS,IAEjB4uB,EAAKA,KAAK6tB,OAASjD,KAAKY,MAAOZ,KAAKC,UAAWgD,KAInD,IAAIjlB,EAAiBv3B,KAAKu3B,eAW1B,OATwB,OAAnBA,IAED5I,EAAKA,KAAK4I,gBACNtsB,OAAQssB,EAAetsB,OAAO8P,UAC9BpW,OAAQ4yB,EAAe5yB,SAKxBgqB,GAIXnsB,MAAO,WA0BH,OAAO,IAAI8gD,IAAiBngD,KAAMnD,OAItCmD,KAAM,SAAW2J,GAEb,IAAIvT,EAAMP,EAAGC,EAIb+G,KAAK4M,MAAQ,KACb5M,KAAK8yB,cACL9yB,KAAKujD,mBACLvjD,KAAKw8C,UACLx8C,KAAK+6C,YAAc,KACnB/6C,KAAKu3B,eAAiB,KAItBv3B,KAAKzG,KAAOuT,EAAOvT,KAInB,IAAIqT,EAAQE,EAAOF,MAEJ,OAAVA,GAED5M,KAAK+kD,SAAUn4C,EAAMpK,SAMzB,IAAIswB,EAAahmB,EAAOgmB,WAExB,IAAMv5B,KAAQu5B,EAAa,CAEvB,IAAI7X,EAAY6X,EAAYv5B,GAC5ByG,KAAKglD,aAAczrD,EAAM0hB,EAAUzY,SAMvC,IAAI+gD,EAAkBz2C,EAAOy2C,gBAE7B,IAAMhqD,KAAQgqD,EAAkB,CAE5B,IAAI/1C,KACAq5C,EAAiBtD,EAAiBhqD,GAEtC,IAAMP,EAAI,EAAGC,EAAI4tD,EAAe9mD,OAAQ/G,EAAIC,EAAGD,IAE3CwU,EAAMJ,KAAMy5C,EAAgB7tD,GAAIwJ,SAIpCxC,KAAKujD,gBAAiBhqD,GAASiU,EAMnC,IAAIgvC,EAAS1vC,EAAO0vC,OAEpB,IAAMxjD,EAAI,EAAGC,EAAIujD,EAAOz8C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE1C,IAAIskD,EAAQd,EAAQxjD,GACpBgH,KAAK8kD,SAAUxH,EAAM5nB,MAAO4nB,EAAMv8B,MAAOu8B,EAAM9I,eAMnD,IAAIuG,EAAcjuC,EAAOiuC,YAEJ,OAAhBA,IAED/6C,KAAK+6C,YAAcA,EAAYv4C,SAMnC,IAAI+0B,EAAiBzqB,EAAOyqB,eAiB5B,OAfwB,OAAnBA,IAEDv3B,KAAKu3B,eAAiBA,EAAe/0B,SAMzCxC,KAAKwjD,UAAU9tB,MAAQ5oB,EAAO02C,UAAU9tB,MACxC11B,KAAKwjD,UAAUziC,MAAQjU,EAAO02C,UAAUziC,MAIxC/gB,KAAK62C,SAAW/pC,EAAO+pC,SAEhB72C,MAIXqF,QAAS,WAELrF,KAAKqD,eAAiB2C,KAAM,eAiCpCy9C,GAAY7oD,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WAChD6oD,GAAY7oD,UAAUmQ,YAAc04C,GAqKpCI,GAAkBjpD,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC5DipD,GAAkBjpD,UAAUmQ,YAAc84C,GA2B1CoB,GAAcrqD,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WAClDqqD,GAAcrqD,UAAUmQ,YAAck6C,GA2FtCC,GAAoBtqD,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC9DsqD,GAAoBtqD,UAAUmQ,YAAcm6C,GAO5C,IAAI4B,GAAa,EAEjB,SAASC,KAELrtD,OAAOC,eAAgBqG,KAAM,MAAQ/F,MAAO6sD,OAE5C9mD,KAAKH,KAAO2V,GAAMG,eAElB3V,KAAKzG,KAAO,GACZyG,KAAKgG,KAAO,WAEZhG,KAAK3D,KAAM,EACX2D,KAAKouC,QAAS,EAEdpuC,KAAKgnD,SAAWz4C,EAChBvO,KAAKinD,KAAOj5C,EACZhO,KAAK9B,aAAc,EACnB8B,KAAK00C,aAAevmC,EAEpBnO,KAAK4rC,QAAU,EACf5rC,KAAKknD,aAAc,EAEnBlnD,KAAKmnD,SAAW93C,EAChBrP,KAAKonD,SAAW93C,EAChBtP,KAAKqnD,cAAgBz4C,EACrB5O,KAAKsnD,cAAgB,KACrBtnD,KAAKunD,cAAgB,KACrBvnD,KAAKwnD,mBAAqB,KAE1BxnD,KAAKynD,UAAY13C,EACjB/P,KAAK0nD,WAAY,EACjB1nD,KAAK2nD,YAAa,EAElB3nD,KAAK4nD,eAAiB,KACtB5nD,KAAK6nD,kBAAmB,EACxB7nD,KAAK8nD,aAAc,EAEnB9nD,KAAK+nD,WAAa,KAElB/nD,KAAKgoD,YAAa,EAElBhoD,KAAK6/C,UAAY,KAEjB7/C,KAAKioD,eAAgB,EACrBjoD,KAAKkoD,oBAAsB,EAC3BloD,KAAKmoD,mBAAqB,EAE1BnoD,KAAKooD,WAAY,EAEjBpoD,KAAKqoD,UAAY,EACjBroD,KAAKsoD,oBAAqB,EAE1BtoD,KAAKuoD,SAAW,EAEhBvoD,KAAKw2C,SAAU,EAEfx2C,KAAK62C,YAEL72C,KAAK4lD,aAAc,EAsVvB,SAAS4C,GAAgB5O,GAErBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,iBAEZhG,KAAKyoD,WACLzoD,KAAKs/B,YAELt/B,KAAK+vC,aAAe,gGACpB/vC,KAAKgwC,eAAiB,iEAEtBhwC,KAAK0oD,UAAY,EAEjB1oD,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAE1B5oD,KAAK3D,KAAM,EACX2D,KAAKouC,QAAS,EACdpuC,KAAK6oD,UAAW,EAEhB7oD,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EACpB16C,KAAK26C,cAAe,EAEpB36C,KAAK+oD,YACDC,aAAa,EACbC,WAAW,EACXC,aAAa,EACbC,kBAAkB,GAKtBnpD,KAAKopD,wBACDnrD,OAAW,EAAG,EAAG,GACjBoyB,IAAQ,EAAG,GACX4sB,KAAS,EAAG,IAGhBj9C,KAAKqpD,yBAAsB1oD,EAC3BX,KAAKspD,oBAAqB,OAEN3oD,IAAfi5C,SAE8Bj5C,IAA1Bi5C,EAAW9mB,YAEZhqB,QAAQgP,MAAO,2FAInB9X,KAAKupD,UAAW3P,IAqHxB,SAAS4P,GAAKC,EAAQl0B,GAElBv1B,KAAKypD,YAAsB9oD,IAAX8oD,EAAyBA,EAAS,IAAI3oD,GACtDd,KAAKu1B,eAA4B50B,IAAd40B,EAA4BA,EAAY,IAAIz0B,GA4hBnE,SAAS4oD,GAAUzwC,EAAGC,EAAG7f,GAErB2G,KAAKiZ,OAAYtY,IAANsY,EAAoBA,EAAI,IAAInY,GACvCd,KAAKkZ,OAAYvY,IAANuY,EAAoBA,EAAI,IAAIpY,GACvCd,KAAK3G,OAAYsH,IAANtH,EAAoBA,EAAI,IAAIyH,GAmX3C,SAAS6oD,GAAmB/P,GAExBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,oBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UAExB4D,KAAK6rC,IAAM,KAEX7rC,KAAK4sC,SAAW,KAChB5sC,KAAK6sC,kBAAoB,EAEzB7sC,KAAKysC,MAAQ,KACbzsC,KAAK0sC,eAAiB,EAEtB1sC,KAAKisC,YAAc,KAEnBjsC,KAAK+rC,SAAW,KAEhB/rC,KAAKmsC,OAAS,KACdnsC,KAAK4pD,QAAUx5C,EACfpQ,KAAKqsC,aAAe,EACpBrsC,KAAKssC,gBAAkB,IAEvBtsC,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAC1B5oD,KAAK6pD,iBAAmB,QACxB7pD,KAAK8pD,kBAAoB,QAEzB9pD,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EAEpB16C,KAAKouC,QAAS,EAEdpuC,KAAKupD,UAAW3P,GAmDpB,SAASz6C,GAAMuzB,EAAU30B,GAErBk4C,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,OAEZhG,KAAK0yB,cAAwB/xB,IAAb+xB,EAAyBA,EAAW,IAAI4wB,GACxDtjD,KAAKjC,cAAwB4C,IAAb5C,EAAyBA,EAAW,IAAI4rD,IAAqB1rD,MAAuB,SAAhBX,KAAKM,WAEzFoC,KAAK+pD,SAAWr1C,GAEhB1U,KAAKgqD,qBAowCT,SAASC,GAAkBhxC,EAAGC,GAE1B,OAAO5b,KAAK6c,IAAKjB,EAAG,IAAQ5b,KAAK6c,IAAKlB,EAAG,IA6J7C,SAASixC,GAAal6B,EAAQrD,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,EAAYC,GAEjG8C,OAAoBrvB,IAAXqvB,EAAuBA,KAChCrD,OAAsBhsB,IAAZgsB,EAAwBA,EAAU/b,EAE5C8b,GAAQvzB,KAAM6G,KAAMgwB,EAAQrD,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,EAAYC,GAEnGltB,KAAKytB,OAAQ,EA6BjB,SAAS08B,GAAex7B,EAAMtW,EAAOC,EAAQw4B,GAUzCpkB,GAAQvzB,KAAM6G,KAAM,MAEpBA,KAAK+rB,OAAU4C,KAAMA,EAAMtW,MAAOA,EAAOC,OAAQA,EAAQw4B,MAAOA,GAEhE9wC,KAAK8sB,UAAYxb,GACjBtR,KAAK+sB,UAAYzb,GAEjBtR,KAAKutB,iBAAkB,EACvBvtB,KAAKytB,OAAQ,EA18FjBs5B,GAASnsD,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAE/DmQ,YAAag8C,GAEbqD,YAAY,EAEZC,gBAAiB,aAEjBd,UAAW,SAAWtP,GAElB,QAAgBt5C,IAAXs5C,EAEL,IAAM,IAAI1/C,KAAO0/C,EAAS,CAEtB,IAAIqQ,EAAWrQ,EAAQ1/C,GAEvB,QAAkBoG,IAAb2pD,EAQL,GAAa,YAAR/vD,EAAL,CAQA,IAAIgwD,EAAevqD,KAAMzF,QAEHoG,IAAjB4pD,EAOAA,GAAgBA,EAAa3qB,QAE9B2qB,EAAaztD,IAAKwtD,GAERC,GAAgBA,EAAa3hC,WAAiB0hC,GAAYA,EAAS1hC,UAE7E2hC,EAAapnD,KAAMmnD,GAKnBtqD,KAAMzF,GAHU,aAARA,EAGMyR,OAAQs+C,GAIRA,EApBdxhD,QAAQC,KAAM,SAAW/I,KAAKgG,KAAO,MAAQzL,EAAM,8CAVnDuO,QAAQC,KAAM,SAAW/I,KAAKgG,KAAO,sEACrChG,KAAK9B,YAprYH,IAorYmBosD,OATrBxhD,QAAQC,KAAM,oBAAsBxO,EAAM,+BA8CtDk1B,OAAQ,SAAWC,GAEf,IAAI86B,OAAoB7pD,IAAT+uB,GAAsC,iBAATA,EAEvC86B,IAED96B,GACIE,YACAI,YAKR,IAAIrB,GACAkB,UACIlC,QAAS,IACT3nB,KAAM,WACN8pB,UAAW,oBA4HnB,SAASiqB,EAAkBC,GAEvB,IAAIC,KAEJ,IAAM,IAAI1/C,KAAOy/C,EAAQ,CAErB,IAAIrrB,EAAOqrB,EAAOz/C,UACXo0B,EAAKkB,SACZoqB,EAAO7sC,KAAMuhB,GAIjB,OAAOsrB,EAIX,GAvIAtrB,EAAK9uB,KAAOG,KAAKH,KACjB8uB,EAAK3oB,KAAOhG,KAAKgG,KAEE,KAAdhG,KAAKzG,OAAco1B,EAAKp1B,KAAOyG,KAAKzG,MAEpCyG,KAAK/B,OAAS+B,KAAK/B,MAAM2hC,UAAUjR,EAAK1wB,MAAQ+B,KAAK/B,MAAM0sC,eAExChqC,IAAnBX,KAAKuwC,YAA0B5hB,EAAK4hB,UAAYvwC,KAAKuwC,gBAClC5vC,IAAnBX,KAAKwwC,YAA0B7hB,EAAK6hB,UAAYxwC,KAAKwwC,WAErDxwC,KAAKkwC,UAAYlwC,KAAKkwC,SAAStQ,UAAUjR,EAAKuhB,SAAWlwC,KAAKkwC,SAASvF,UAC5C,IAA3B3qC,KAAKyqD,oBAA0B97B,EAAK87B,kBAAoBzqD,KAAKyqD,mBAE7DzqD,KAAKowC,UAAYpwC,KAAKowC,SAASxQ,UAAUjR,EAAKyhB,SAAWpwC,KAAKowC,SAASzF,eACpDhqC,IAAnBX,KAAKqwC,YAA0B1hB,EAAK0hB,UAAYrwC,KAAKqwC,gBAClC1vC,IAAnBX,KAAKi1C,YAA0BtmB,EAAKsmB,UAAYj1C,KAAKi1C,gBACzBt0C,IAA5BX,KAAKk1C,qBAAmCvmB,EAAKumB,mBAAqBl1C,KAAKk1C,oBAEvEl1C,KAAK6rC,KAAO7rC,KAAK6rC,IAAIrc,YAAYb,EAAKkd,IAAM7rC,KAAK6rC,IAAIpc,OAAQC,GAAO7vB,MACpEG,KAAK+rC,UAAY/rC,KAAK+rC,SAASvc,YAAYb,EAAKod,SAAW/rC,KAAK+rC,SAAStc,OAAQC,GAAO7vB,MACxFG,KAAK4sC,UAAY5sC,KAAK4sC,SAASpd,YAAYb,EAAKie,SAAW5sC,KAAK4sC,SAASnd,OAAQC,GAAO7vB,MAExFG,KAAKysC,OAASzsC,KAAKysC,MAAMjd,YAE1Bb,EAAK8d,MAAQzsC,KAAKysC,MAAMhd,OAAQC,GAAO7vB,KACvC8uB,EAAK+d,eAAiB1sC,KAAK0sC,gBAI1B1sC,KAAKitC,SAAWjtC,KAAKitC,QAAQzd,YAE9Bb,EAAKse,QAAUjtC,KAAKitC,QAAQxd,OAAQC,GAAO7vB,KAC3C8uB,EAAKue,UAAYltC,KAAKktC,WAIrBltC,KAAKotC,WAAaptC,KAAKotC,UAAU5d,YAElCb,EAAKye,UAAYptC,KAAKotC,UAAU3d,OAAQC,GAAO7vB,KAC/C8uB,EAAK+7B,cAAgB1qD,KAAK0qD,cAC1B/7B,EAAK0e,YAAcrtC,KAAKqtC,YAAYtyB,WAInC/a,KAAKutC,iBAAmBvtC,KAAKutC,gBAAgB/d,YAE9Cb,EAAK4e,gBAAkBvtC,KAAKutC,gBAAgB9d,OAAQC,GAAO7vB,KAC3D8uB,EAAK6e,kBAAoBxtC,KAAKwtC,kBAC9B7e,EAAK8e,iBAAmBztC,KAAKytC,kBAI5BztC,KAAK2tC,cAAgB3tC,KAAK2tC,aAAane,YAAYb,EAAKgf,aAAe3tC,KAAK2tC,aAAale,OAAQC,GAAO7vB,MACxGG,KAAK6tC,cAAgB7tC,KAAK6tC,aAAare,YAAYb,EAAKkf,aAAe7tC,KAAK6tC,aAAape,OAAQC,GAAO7vB,MAExGG,KAAK+sC,aAAe/sC,KAAK+sC,YAAYvd,YAAYb,EAAKoe,YAAc/sC,KAAK+sC,YAAYtd,OAAQC,GAAO7vB,MACpGG,KAAKisC,aAAejsC,KAAKisC,YAAYzc,YAAYb,EAAKsd,YAAcjsC,KAAKisC,YAAYxc,OAAQC,GAAO7vB,MAEpGG,KAAKmsC,QAAUnsC,KAAKmsC,OAAO3c,YAE5Bb,EAAKwd,OAASnsC,KAAKmsC,OAAO1c,OAAQC,GAAO7vB,KACzC8uB,EAAK0d,aAAersC,KAAKqsC,kBAEH1rC,IAAjBX,KAAK4pD,UAAwBj7B,EAAKi7B,QAAU5pD,KAAK4pD,cACxBjpD,IAAzBX,KAAKywC,kBAAgC9hB,EAAK8hB,gBAAkBzwC,KAAKywC,kBAIrEzwC,KAAK+tC,aAAe/tC,KAAK+tC,YAAYve,YAEtCb,EAAKof,YAAc/tC,KAAK+tC,YAAYte,OAAQC,GAAO7vB,WAIpCc,IAAdX,KAAK6xB,OAAqBlD,EAAKkD,KAAO7xB,KAAK6xB,WAClBlxB,IAAzBX,KAAK2qD,kBAAgCh8B,EAAKg8B,gBAAkB3qD,KAAK2qD,iBAEjE3qD,KAAKgnD,WAAaz4C,IAAiBogB,EAAKq4B,SAAWhnD,KAAKgnD,WACnC,IAArBhnD,KAAK9B,cAAuBywB,EAAKzwB,YAAc8B,KAAK9B,aACpD8B,KAAKinD,OAASj5C,IAAY2gB,EAAKs4B,KAAOjnD,KAAKinD,MAC3CjnD,KAAK00C,eAAiBvmC,IAAWwgB,EAAK+lB,aAAe10C,KAAK00C,cAE1D10C,KAAK4rC,QAAU,IAAIjd,EAAKid,QAAU5rC,KAAK4rC,UAClB,IAArB5rC,KAAKknD,cAAuBv4B,EAAKu4B,YAAclnD,KAAKknD,aAEzDv4B,EAAK84B,UAAYznD,KAAKynD,UACtB94B,EAAK+4B,UAAY1nD,KAAK0nD,UACtB/4B,EAAKg5B,WAAa3nD,KAAK2nD,WAGA,IAAlB3nD,KAAKwrB,WAAiBmD,EAAKnD,SAAWxrB,KAAKwrB,WAEpB,IAAvBxrB,KAAKioD,gBAAyBt5B,EAAKs5B,eAAgB,GACtB,IAA7BjoD,KAAKkoD,sBAA4Bv5B,EAAKu5B,oBAAsBloD,KAAKkoD,qBACrC,IAA5BloD,KAAKmoD,qBAA2Bx5B,EAAKw5B,mBAAqBnoD,KAAKmoD,oBAE5C,IAAnBnoD,KAAK0oD,YAAkB/5B,EAAK+5B,UAAY1oD,KAAK0oD,gBAC3B/nD,IAAlBX,KAAK4wC,WAAyBjiB,EAAKiiB,SAAW5wC,KAAK4wC,eAClCjwC,IAAjBX,KAAK4qD,UAAwBj8B,EAAKi8B,QAAU5qD,KAAK4qD,cAClCjqD,IAAfX,KAAKd,QAAsByvB,EAAKzvB,MAAQc,KAAKd,QAE1B,IAAnBc,KAAKooD,YAAqBz5B,EAAKy5B,WAAY,GAE3CpoD,KAAKqoD,UAAY,IAAI15B,EAAK05B,UAAYroD,KAAKqoD,YACf,IAA5BroD,KAAKsoD,qBAA8B35B,EAAK25B,mBAAqBtoD,KAAKsoD,qBAE/C,IAAnBtoD,KAAK2oD,YAAqBh6B,EAAKg6B,UAAY3oD,KAAK2oD,WAChD3oD,KAAK4oD,mBAAqB,IAAIj6B,EAAKi6B,mBAAqB5oD,KAAK4oD,oBACnC,UAA1B5oD,KAAK6pD,mBAA+Bl7B,EAAKk7B,iBAAmB7pD,KAAK6pD,kBACtC,UAA3B7pD,KAAK8pD,oBAAgCn7B,EAAKm7B,kBAAoB9pD,KAAK8pD,oBAE7C,IAAtB9pD,KAAK06C,eAAwB/rB,EAAK+rB,cAAe,IAC/B,IAAlB16C,KAAK8oD,WAAoBn6B,EAAKm6B,UAAW,IAExB,IAAjB9oD,KAAKw2C,UAAoB7nB,EAAK6nB,SAAU,GACJ,OAApC+C,KAAKC,UAAWx5C,KAAK62C,YAAsBloB,EAAKkoB,SAAW72C,KAAK62C,UAoBhE2T,EAAS,CAEV,IAAI56B,EAAWmqB,EAAkBrqB,EAAKE,UAClCI,EAAS+pB,EAAkBrqB,EAAKM,QAE/BJ,EAAS7vB,OAAS,IAAI4uB,EAAKiB,SAAWA,GACtCI,EAAOjwB,OAAS,IAAI4uB,EAAKqB,OAASA,GAI3C,OAAOrB,GAIXnsB,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW2J,GAEb9M,KAAKzG,KAAOuT,EAAOvT,KAEnByG,KAAK3D,IAAMyQ,EAAOzQ,IAClB2D,KAAKouC,OAASthC,EAAOshC,OAErBpuC,KAAKgnD,SAAWl6C,EAAOk6C,SACvBhnD,KAAKinD,KAAOn6C,EAAOm6C,KACnBjnD,KAAK9B,YAAc4O,EAAO5O,YAC1B8B,KAAK00C,aAAe5nC,EAAO4nC,aAE3B10C,KAAK4rC,QAAU9+B,EAAO8+B,QACtB5rC,KAAKknD,YAAcp6C,EAAOo6C,YAE1BlnD,KAAKmnD,SAAWr6C,EAAOq6C,SACvBnnD,KAAKonD,SAAWt6C,EAAOs6C,SACvBpnD,KAAKqnD,cAAgBv6C,EAAOu6C,cAC5BrnD,KAAKsnD,cAAgBx6C,EAAOw6C,cAC5BtnD,KAAKunD,cAAgBz6C,EAAOy6C,cAC5BvnD,KAAKwnD,mBAAqB16C,EAAO06C,mBAEjCxnD,KAAKynD,UAAY36C,EAAO26C,UACxBznD,KAAK0nD,UAAY56C,EAAO46C,UACxB1nD,KAAK2nD,WAAa76C,EAAO66C,WAEzB3nD,KAAKgoD,WAAal7C,EAAOk7C,WAEzBhoD,KAAK6/C,UAAY/yC,EAAO+yC,UAExB7/C,KAAKioD,cAAgBn7C,EAAOm7C,cAC5BjoD,KAAKkoD,oBAAsBp7C,EAAOo7C,oBAClCloD,KAAKmoD,mBAAqBr7C,EAAOq7C,mBAEjCnoD,KAAKooD,UAAYt7C,EAAOs7C,UAExBpoD,KAAKqoD,UAAYv7C,EAAOu7C,UACxBroD,KAAKsoD,mBAAqBx7C,EAAOw7C,mBAEjCtoD,KAAKuoD,SAAWz7C,EAAOy7C,SAEvBvoD,KAAKw2C,QAAU1pC,EAAO0pC,QACtBx2C,KAAK62C,SAAW0C,KAAKY,MAAOZ,KAAKC,UAAW1sC,EAAO+pC,WAEnD72C,KAAK8nD,YAAch7C,EAAOg7C,YAC1B9nD,KAAK6nD,iBAAmB/6C,EAAO+6C,iBAE/B,IAAIgD,EAAY/9C,EAAO86C,eACnBkD,EAAY,KAEhB,GAAmB,OAAdD,EAAqB,CAEtB,IAAIpwD,EAAIowD,EAAU9qD,OAClB+qD,EAAY,IAAI56B,MAAOz1B,GAEvB,IAAM,IAAIzB,EAAI,EAAGA,IAAMyB,IAAMzB,EACzB8xD,EAAW9xD,GAAM6xD,EAAW7xD,GAAIwJ,QAQxC,OAJAxC,KAAK4nD,eAAiBkD,EAEtB9qD,KAAK+nD,WAAaj7C,EAAOi7C,WAElB/nD,MAIXqF,QAAS,WAELrF,KAAKqD,eAAiB2C,KAAM,eAoFpCwiD,GAAe5tD,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACnD4tD,GAAe5tD,UAAUmQ,YAAcy9C,GAEvCA,GAAe5tD,UAAUmwD,kBAAmB,EAE5CvC,GAAe5tD,UAAUuI,KAAO,SAAW2J,GAwBvC,OAtBAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAKgwC,eAAiBljC,EAAOkjC,eAC7BhwC,KAAK+vC,aAAejjC,EAAOijC,aAE3B/vC,KAAKs/B,SAAWF,GAAc58B,MAAOsK,EAAOwyB,UAE5Ct/B,KAAKyoD,QAAU/uD,OAAO+S,UAAYK,EAAO27C,SAEzCzoD,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBAEjC5oD,KAAKouC,OAASthC,EAAOshC,OACrBpuC,KAAK6oD,SAAW/7C,EAAO+7C,SAEvB7oD,KAAK8oD,SAAWh8C,EAAOg8C,SAEvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAC3B16C,KAAK26C,aAAe7tC,EAAO6tC,aAE3B36C,KAAK+oD,WAAaj8C,EAAOi8C,WAElB/oD,MAIXwoD,GAAe5tD,UAAU60B,OAAS,SAAWC,GAEzC,IAAIf,EAAOo4B,GAASnsD,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAIjD,IAAM,IAAIn2B,KAFVo1B,EAAK2Q,YAEat/B,KAAKs/B,SAAW,CAE9B,IACIrlC,EADU+F,KAAKs/B,SAAU/lC,GACTU,MAEfA,EAAMu1B,UAEPb,EAAK2Q,SAAU/lC,IACXyM,KAAM,IACN/L,MAAOA,EAAMw1B,OAAQC,GAAO7vB,MAGxB5F,EAAM2lC,QAEdjR,EAAK2Q,SAAU/lC,IACXyM,KAAM,IACN/L,MAAOA,EAAM0wC,UAGT1wC,EAAMse,UAEdoW,EAAK2Q,SAAU/lC,IACXyM,KAAM,KACN/L,MAAOA,EAAM8gB,WAGT9gB,EAAM2uB,UAEd+F,EAAK2Q,SAAU/lC,IACXyM,KAAM,KACN/L,MAAOA,EAAM8gB,WAGT9gB,EAAMq2B,UAEd3B,EAAK2Q,SAAU/lC,IACXyM,KAAM,KACN/L,MAAOA,EAAM8gB,WAGT9gB,EAAMshB,UAEdoT,EAAK2Q,SAAU/lC,IACXyM,KAAM,KACN/L,MAAOA,EAAM8gB,WAKjB4T,EAAK2Q,SAAU/lC,IACXU,MAAOA,GAcnB,OALKP,OAAOqI,KAAM/B,KAAKyoD,SAAU1oD,OAAS,IAAI4uB,EAAK85B,QAAUzoD,KAAKyoD,SAElE95B,EAAKohB,aAAe/vC,KAAK+vC,aACzBphB,EAAKqhB,eAAiBhwC,KAAKgwC,eAEpBrhB,GAeXj1B,OAAO+S,OAAQ+8C,GAAI5uD,WAEfkC,IAAK,SAAW2sD,EAAQl0B,GAKpB,OAHAv1B,KAAKypD,OAAOtmD,KAAMsmD,GAClBzpD,KAAKu1B,UAAUpyB,KAAMoyB,GAEdv1B,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW6nD,GAKb,OAHAhrD,KAAKypD,OAAOtmD,KAAM6nD,EAAIvB,QACtBzpD,KAAKu1B,UAAUpyB,KAAM6nD,EAAIz1B,WAElBv1B,MAIXirD,GAAI,SAAW/wD,EAAG2G,GASd,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,2CACdlI,EAAS,IAAIC,IAIVD,EAAOsC,KAAMnD,KAAKu1B,WAAYxwB,eAAgB7K,GAAIuF,IAAKO,KAAKypD,SAIvE3kD,OAAQ,SAAW0C,GAIf,OAFAxH,KAAKu1B,UAAUpyB,KAAMqE,GAAIrD,IAAKnE,KAAKypD,QAASrvC,YAErCpa,MAIXkrD,OAAQ,WAEJ,IAAIvwC,EAAK,IAAI7Z,GAEb,OAAO,SAAiB5G,GAIpB,OAFA8F,KAAKypD,OAAOtmD,KAAMnD,KAAKirD,GAAI/wD,EAAGygB,IAEvB3a,MARP,GAcRmrD,oBAAqB,SAAW94B,EAAOxxB,QAEnBF,IAAXE,IAEDiI,QAAQC,KAAM,4DACdlI,EAAS,IAAIC,IAIjBD,EAAO+I,WAAYyoB,EAAOryB,KAAKypD,QAE/B,IAAI2B,EAAoBvqD,EAAOsE,IAAKnF,KAAKu1B,WAEzC,OAAK61B,EAAoB,EAEdvqD,EAAOsC,KAAMnD,KAAKypD,QAItB5oD,EAAOsC,KAAMnD,KAAKu1B,WAAYxwB,eAAgBqmD,GAAoB3rD,IAAKO,KAAKypD,SAIvFp1B,gBAAiB,SAAWhC,GAExB,OAAO/0B,KAAKoN,KAAM1K,KAAKqrD,kBAAmBh5B,KAI9Cg5B,kBAAmB,WAEf,IAAI1wC,EAAK,IAAI7Z,GAEb,OAAO,SAA4BuxB,GAE/B,IAAI+4B,EAAoBzwC,EAAG/Q,WAAYyoB,EAAOryB,KAAKypD,QAAStkD,IAAKnF,KAAKu1B,WAItE,OAAK61B,EAAoB,EAEdprD,KAAKypD,OAAOxkD,kBAAmBotB,IAI1C1X,EAAGxX,KAAMnD,KAAKu1B,WAAYxwB,eAAgBqmD,GAAoB3rD,IAAKO,KAAKypD,QAEjE9uC,EAAG1V,kBAAmBotB,KAlBlB,GAwBnBi5B,oBAAqB,WAEjB,IAAIC,EAAY,IAAIzqD,GAChB0qD,EAAS,IAAI1qD,GACbk/C,EAAO,IAAIl/C,GAEf,OAAO,SAA8B4yB,EAAI/Y,EAAI8wC,EAAoBC,GAS7DH,EAAUpoD,KAAMuwB,GAAKj0B,IAAKkb,GAAK5V,eAAgB,IAC/CymD,EAAOroD,KAAMwX,GAAKxW,IAAKuvB,GAAKtZ,YAC5B4lC,EAAK78C,KAAMnD,KAAKypD,QAAStlD,IAAKonD,GAE9B,IAMII,EAAItlC,EAAIulC,EAASC,EANjBC,EAAkC,GAAtBp4B,EAAGpZ,WAAYK,GAC3BoxC,GAAQ/rD,KAAKu1B,UAAUpwB,IAAKqmD,GAC5BQ,EAAKhM,EAAK76C,IAAKnF,KAAKu1B,WACpBhf,GAAOypC,EAAK76C,IAAKqmD,GACjBnyD,EAAI2mD,EAAK/lC,WACT4H,EAAMvkB,KAAK6c,IAAK,EAAI4xC,EAAMA,GAG9B,GAAKlqC,EAAM,EAQP,GAHAwE,EAAK0lC,EAAMC,EAAKz1C,EAChBs1C,EAASC,EAAYjqC,GAFrB8pC,EAAKI,EAAMx1C,EAAKy1C,IAIL,EAEP,GAAK3lC,IAAQwlC,EAET,GAAKxlC,GAAMwlC,EAAS,CAKhB,IAAII,EAAS,EAAIpqC,EAGjB+pC,GAFAD,GAAMM,IAEWN,EAAKI,GADtB1lC,GAAM4lC,GAC2B,EAAID,GAAO3lC,GAAO0lC,EAAMJ,EAAKtlC,EAAK,EAAI9P,GAAOld,OAM9EgtB,EAAKylC,EAELF,IADAD,EAAKruD,KAAKkH,IAAK,IAAOunD,EAAM1lC,EAAK2lC,KAChBL,EAAKtlC,GAAOA,EAAK,EAAI9P,GAAOld,OAQjDgtB,GAAOylC,EAEPF,IADAD,EAAKruD,KAAKkH,IAAK,IAAOunD,EAAM1lC,EAAK2lC,KAChBL,EAAKtlC,GAAOA,EAAK,EAAI9P,GAAOld,OAM5CgtB,IAAQwlC,EAMTD,IAFAD,EAAKruD,KAAKkH,IAAK,KAASunD,EAAMD,EAAYE,KAEzBL,GADjBtlC,EAAOslC,EAAK,GAAQG,EAAYxuD,KAAKmH,IAAKnH,KAAKkH,KAAOsnD,GAAav1C,GAAMu1C,KAC5CzlC,EAAK,EAAI9P,GAAOld,EAErCgtB,GAAMwlC,GAIdF,EAAK,EAELC,GADAvlC,EAAK/oB,KAAKmH,IAAKnH,KAAKkH,KAAOsnD,GAAav1C,GAAMu1C,KAC7BzlC,EAAK,EAAI9P,GAAOld,GAQjCuyD,IAFAD,EAAKruD,KAAKkH,IAAK,IAAOunD,EAAMD,EAAYE,KAEvBL,GADjBtlC,EAAOslC,EAAK,EAAMG,EAAYxuD,KAAKmH,IAAKnH,KAAKkH,KAAOsnD,GAAav1C,GAAMu1C,KAC1CzlC,EAAK,EAAI9P,GAAOld,OAUrDgtB,EAAO0lC,EAAM,GAAQD,EAAYA,EAEjCF,IADAD,EAAKruD,KAAKkH,IAAK,IAAOunD,EAAM1lC,EAAK2lC,KAChBL,EAAKtlC,GAAOA,EAAK,EAAI9P,GAAOld,EAgBjD,OAZKoyD,GAEDA,EAAmBtoD,KAAMnD,KAAKu1B,WAAYxwB,eAAgB4mD,GAAKlsD,IAAKO,KAAKypD,QAIxEiC,GAEDA,EAAuBvoD,KAAMqoD,GAASzmD,eAAgBshB,GAAK5mB,IAAK8rD,GAI7DK,GAzHM,GA+HrBM,gBAAiB,WAEb,IAAIvxC,EAAK,IAAI7Z,GAEb,OAAO,SAA0BtC,EAAQqC,GAErC8Z,EAAG/Q,WAAYpL,EAAOyM,OAAQjL,KAAKypD,QACnC,IAAI0C,EAAMxxC,EAAGxV,IAAKnF,KAAKu1B,WACnBxf,EAAK4E,EAAGxV,IAAKwV,GAAOwxC,EAAMA,EAC1BC,EAAU5tD,EAAOmG,OAASnG,EAAOmG,OAErC,GAAKoR,EAAKq2C,EAAU,OAAO,KAE3B,IAAIC,EAAM/uD,KAAKoN,KAAM0hD,EAAUr2C,GAG3Bu2C,EAAKH,EAAME,EAGXE,EAAKJ,EAAME,EAGf,OAAKC,EAAK,GAAKC,EAAK,EAAW,KAK1BD,EAAK,EAAWtsD,KAAKirD,GAAIsB,EAAI1rD,GAG3Bb,KAAKirD,GAAIqB,EAAIzrD,IA9BX,GAoCjBuyB,iBAAkB,SAAW50B,GAEzB,OAAOwB,KAAKqrD,kBAAmB7sD,EAAOyM,SAAczM,EAAOmG,OAASnG,EAAOmG,QAI/E6nD,gBAAiB,SAAWh5B,GAExB,IAAIiC,EAAcjC,EAAM/I,OAAOtlB,IAAKnF,KAAKu1B,WAEzC,GAAqB,IAAhBE,EAGD,OAA8C,IAAzCjC,EAAMa,gBAAiBr0B,KAAKypD,QAEtB,EAMJ,KAIX,IAAIvvD,IAAQ8F,KAAKypD,OAAOtkD,IAAKquB,EAAM/I,QAAW+I,EAAMzE,UAAa0G,EAIjE,OAAOv7B,GAAK,EAAIA,EAAI,MAIxBuyD,eAAgB,SAAWj5B,EAAO3yB,GAE9B,IAAI3G,EAAI8F,KAAKwsD,gBAAiBh5B,GAE9B,OAAW,OAANt5B,EAEM,KAIJ8F,KAAKirD,GAAI/wD,EAAG2G,IAIvB0yB,gBAAiB,SAAWC,GAIxB,IAAIk5B,EAAcl5B,EAAMa,gBAAiBr0B,KAAKypD,QAE9C,OAAqB,IAAhBiD,GAMal5B,EAAM/I,OAAOtlB,IAAKnF,KAAKu1B,WAEtBm3B,EAAc,GAYrCC,aAAc,SAAW16B,EAAKpxB,GAE1B,IAAI+rD,EAAMC,EAAMC,EAAOC,EAAOC,EAAOC,EAEjCC,EAAU,EAAIltD,KAAKu1B,UAAUn2B,EAC7B+tD,EAAU,EAAIntD,KAAKu1B,UAAUl2B,EAC7B+tD,EAAU,EAAIptD,KAAKu1B,UAAUj2B,EAE7BmqD,EAASzpD,KAAKypD,OA0BlB,OAxBKyD,GAAW,GAEZN,GAAS36B,EAAIxtB,IAAIrF,EAAIqqD,EAAOrqD,GAAM8tD,EAClCL,GAAS56B,EAAIztB,IAAIpF,EAAIqqD,EAAOrqD,GAAM8tD,IAIlCN,GAAS36B,EAAIztB,IAAIpF,EAAIqqD,EAAOrqD,GAAM8tD,EAClCL,GAAS56B,EAAIxtB,IAAIrF,EAAIqqD,EAAOrqD,GAAM8tD,GAIjCC,GAAW,GAEZL,GAAU76B,EAAIxtB,IAAIpF,EAAIoqD,EAAOpqD,GAAM8tD,EACnCJ,GAAU96B,EAAIztB,IAAInF,EAAIoqD,EAAOpqD,GAAM8tD,IAInCL,GAAU76B,EAAIztB,IAAInF,EAAIoqD,EAAOpqD,GAAM8tD,EACnCJ,GAAU96B,EAAIxtB,IAAIpF,EAAIoqD,EAAOpqD,GAAM8tD,GAIhCP,EAAOG,GAAaD,EAAQD,EAAgB,OAK9CC,EAAQF,GAAQA,GAASA,KAAOA,EAAOE,IAEvCC,EAAQF,GAAQA,GAASA,KAAOA,EAAOE,GAEvCK,GAAW,GAEZJ,GAAU/6B,EAAIxtB,IAAInF,EAAImqD,EAAOnqD,GAAM8tD,EACnCH,GAAUh7B,EAAIztB,IAAIlF,EAAImqD,EAAOnqD,GAAM8tD,IAInCJ,GAAU/6B,EAAIztB,IAAIlF,EAAImqD,EAAOnqD,GAAM8tD,EACnCH,GAAUh7B,EAAIxtB,IAAInF,EAAImqD,EAAOnqD,GAAM8tD,GAIhCR,EAAOK,GAAaD,EAAQH,EAAgB,OAE9CG,EAAQJ,GAAQA,GAASA,KAAOA,EAAOI,IAEvCC,EAAQJ,GAAQA,GAASA,KAAOA,EAAOI,GAIvCJ,EAAO,EAAW,KAEhB7sD,KAAKirD,GAAI2B,GAAQ,EAAIA,EAAOC,EAAMhsD,MAI7CsyB,cAAiB,WAEb,IAAI3rB,EAAI,IAAI1G,GAEZ,OAAO,SAAwBmxB,GAE3B,OAAuC,OAAhCjyB,KAAK2sD,aAAc16B,EAAKzqB,IANtB,GAYjB6lD,kBAAmB,WAGf,IAAIrN,EAAO,IAAIl/C,GACXwsD,EAAQ,IAAIxsD,GACZysD,EAAQ,IAAIzsD,GACZ2pB,EAAS,IAAI3pB,GAEjB,OAAO,SAA4BmY,EAAGC,EAAG7f,EAAGm0D,EAAiB3sD,GAIzDysD,EAAM1jD,WAAYsP,EAAGD,GACrBs0C,EAAM3jD,WAAYvQ,EAAG4f,GACrBwR,EAAO5iB,aAAcylD,EAAOC,GAO5B,IACIlhD,EADAohD,EAAMztD,KAAKu1B,UAAUpwB,IAAKslB,GAG9B,GAAKgjC,EAAM,EAAI,CAEX,GAAKD,EAAkB,OAAO,KAC9BnhD,EAAO,MAEJ,CAAA,KAAKohD,EAAM,GAOd,OAAO,KALPphD,GAAS,EACTohD,GAAQA,EAQZzN,EAAKp2C,WAAY5J,KAAKypD,OAAQxwC,GAC9B,IAAIy0C,EAASrhD,EAAOrM,KAAKu1B,UAAUpwB,IAAKooD,EAAM1lD,aAAcm4C,EAAMuN,IAGlE,GAAKG,EAAS,EAEV,OAAO,KAIX,IAAIC,EAASthD,EAAOrM,KAAKu1B,UAAUpwB,IAAKmoD,EAAMtzC,MAAOgmC,IAGrD,GAAK2N,EAAS,EAEV,OAAO,KAKX,GAAKD,EAASC,EAASF,EAEnB,OAAO,KAKX,IAAIG,GAAQvhD,EAAO2zC,EAAK76C,IAAKslB,GAG7B,OAAKmjC,EAAM,EAEA,KAKJ5tD,KAAKirD,GAAI2C,EAAMH,EAAK5sD,IA7EhB,GAmFnBogB,aAAc,SAAWoK,GAKrB,OAHArrB,KAAKypD,OAAOxoC,aAAcoK,GAC1BrrB,KAAKu1B,UAAUzL,mBAAoBuB,GAE5BrrB,MAIX6a,OAAQ,SAAWmwC,GAEf,OAAOA,EAAIvB,OAAO5uC,OAAQ7a,KAAKypD,SAAYuB,EAAIz1B,UAAU1a,OAAQ7a,KAAKu1B,cAmB9E77B,OAAO+S,OAAQi9C,IAEXmE,UAAW,WAEP,IAAIn6B,EAAK,IAAI5yB,GAEb,OAAO,SAAoBmY,EAAGC,EAAG7f,EAAGwH,QAEhBF,IAAXE,IAEDiI,QAAQC,KAAM,uDACdlI,EAAS,IAAIC,IAIjBD,EAAO+I,WAAYvQ,EAAG6f,GACtBwa,EAAG9pB,WAAYqP,EAAGC,GAClBrY,EAAOmZ,MAAO0Z,GAEd,IAAIo6B,EAAiBjtD,EAAOoZ,WAC5B,OAAK6zC,EAAiB,EAEXjtD,EAAOkE,eAAgB,EAAIzH,KAAKoN,KAAMojD,IAI1CjtD,EAAO/D,IAAK,EAAG,EAAG,IAxBtB,GAgCXixD,aAAc,WAEV,IAAIr6B,EAAK,IAAI5yB,GACT6Z,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GAEb,OAAO,SAAuBuxB,EAAOpZ,EAAGC,EAAG7f,EAAGwH,GAE1C6yB,EAAG9pB,WAAYvQ,EAAG4f,GAClB0B,EAAG/Q,WAAYsP,EAAGD,GAClB2B,EAAGhR,WAAYyoB,EAAOpZ,GAEtB,IAAI+0C,EAAQt6B,EAAGvuB,IAAKuuB,GAChBu6B,EAAQv6B,EAAGvuB,IAAKwV,GAChBuzC,EAAQx6B,EAAGvuB,IAAKyV,GAChBuzC,EAAQxzC,EAAGxV,IAAKwV,GAChByzC,EAAQzzC,EAAGxV,IAAKyV,GAEhByzC,EAAUL,EAAQG,EAAQF,EAAQA,EAUtC,QARgBttD,IAAXE,IAEDiI,QAAQC,KAAM,0DACdlI,EAAS,IAAIC,IAKF,IAAVutD,EAID,OAAOxtD,EAAO/D,KAAO,GAAK,GAAK,GAInC,IAAIwxD,EAAW,EAAID,EACf7uB,GAAM2uB,EAAQD,EAAQD,EAAQG,GAAUE,EACxC9mD,GAAMwmD,EAAQI,EAAQH,EAAQC,GAAUI,EAG5C,OAAOztD,EAAO/D,IAAK,EAAI0iC,EAAIh4B,EAAGA,EAAGg4B,IAzC3B,GA+CdxM,cAAe,WAEX,IAAIrY,EAAK,IAAI7Z,GAEb,OAAO,SAAwBuxB,EAAOpZ,EAAGC,EAAG7f,GAIxC,OAFAqwD,GAASqE,aAAc17B,EAAOpZ,EAAGC,EAAG7f,EAAGshB,GAE9BA,EAAGvb,GAAK,GAASub,EAAGtb,GAAK,GAAWsb,EAAGvb,EAAIub,EAAGtb,GAAO,GARvD,GAcfkvD,MAAO,WAEH,IAAIC,EAAY,IAAI1tD,GAEpB,OAAO,SAAgBuxB,EAAOnD,EAAIC,EAAIC,EAAIq/B,EAAKxR,EAAKyR,EAAK7tD,GASrD,OAPAb,KAAK+tD,aAAc17B,EAAOnD,EAAIC,EAAIC,EAAIo/B,GAEtC3tD,EAAO/D,IAAK,EAAG,GACf+D,EAAOsY,gBAAiBs1C,EAAKD,EAAUpvD,GACvCyB,EAAOsY,gBAAiB8jC,EAAKuR,EAAUnvD,GACvCwB,EAAOsY,gBAAiBu1C,EAAKF,EAAUlvD,GAEhCuB,GAbR,KAqBXnH,OAAO+S,OAAQi9C,GAAS9uD,WAEpBkC,IAAK,SAAWmc,EAAGC,EAAG7f,GAMlB,OAJA2G,KAAKiZ,EAAE9V,KAAM8V,GACbjZ,KAAKkZ,EAAE/V,KAAM+V,GACblZ,KAAK3G,EAAE8J,KAAM9J,GAEN2G,MAIX2uD,wBAAyB,SAAWn9B,EAAQo9B,EAAIC,EAAIC,GAMhD,OAJA9uD,KAAKiZ,EAAE9V,KAAMquB,EAAQo9B,IACrB5uD,KAAKkZ,EAAE/V,KAAMquB,EAAQq9B,IACrB7uD,KAAK3G,EAAE8J,KAAMquB,EAAQs9B,IAEd9uD,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAWixB,GAMb,OAJAp0B,KAAKiZ,EAAE9V,KAAMixB,EAASnb,GACtBjZ,KAAKkZ,EAAE/V,KAAMixB,EAASlb,GACtBlZ,KAAK3G,EAAE8J,KAAMixB,EAAS/6B,GAEf2G,MAIX+uD,QAAS,WAEL,IAAIr7B,EAAK,IAAI5yB,GACT6Z,EAAK,IAAI7Z,GAEb,OAAO,WAKH,OAHA4yB,EAAG9pB,WAAY5J,KAAK3G,EAAG2G,KAAKkZ,GAC5ByB,EAAG/Q,WAAY5J,KAAKiZ,EAAGjZ,KAAKkZ,GAEK,GAA1Bwa,EAAG1Z,MAAOW,GAAK5a,UAVrB,GAgBTivD,YAAa,SAAWnuD,GASpB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,yDACdlI,EAAS,IAAIC,IAIVD,EAAOkY,WAAY/Y,KAAKiZ,EAAGjZ,KAAKkZ,GAAIzZ,IAAKO,KAAK3G,GAAI0L,eAAgB,EAAI,IAIjF8oD,UAAW,SAAWhtD,GAElB,OAAO6oD,GAASmE,UAAW7tD,KAAKiZ,EAAGjZ,KAAKkZ,EAAGlZ,KAAK3G,EAAGwH,IAIvDouD,SAAU,SAAWpuD,GASjB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,sDACdlI,EAAS,IAAIC,IAIVD,EAAOo0B,sBAAuBj1B,KAAKiZ,EAAGjZ,KAAKkZ,EAAGlZ,KAAK3G,IAI9D00D,aAAc,SAAW17B,EAAOxxB,GAE5B,OAAO6oD,GAASqE,aAAc17B,EAAOryB,KAAKiZ,EAAGjZ,KAAKkZ,EAAGlZ,KAAK3G,EAAGwH,IAIjEmyB,cAAe,SAAWX,GAEtB,OAAOq3B,GAAS12B,cAAeX,EAAOryB,KAAKiZ,EAAGjZ,KAAKkZ,EAAGlZ,KAAK3G,IAI/Dk1D,MAAO,SAAWl8B,EAAOo8B,EAAKxR,EAAKyR,EAAKQ,GAEpC,OAAOxF,GAAS6E,MAAOl8B,EAAOryB,KAAKiZ,EAAGjZ,KAAKkZ,EAAGlZ,KAAK3G,EAAGo1D,EAAKxR,EAAKyR,EAAKQ,IAIzE/7B,cAAe,SAAWlB,GAEtB,OAAOA,EAAIwB,mBAAoBzzB,OAInCmrD,oBAAqB,WAEjB,IAAIgE,EAAM,IAAIruD,GACVsuD,EAAM,IAAItuD,GACVuuD,EAAM,IAAIvuD,GACVwuD,EAAM,IAAIxuD,GACVyuD,EAAM,IAAIzuD,GACV0uD,EAAM,IAAI1uD,GAEd,OAAO,SAA8BhG,EAAG+F,QAEpBF,IAAXE,IAEDiI,QAAQC,KAAM,iEACdlI,EAAS,IAAIC,IAIjB,IACI0G,EAAGuQ,EADHkB,EAAIjZ,KAAKiZ,EAAGC,EAAIlZ,KAAKkZ,EAAG7f,EAAI2G,KAAK3G,EASrC81D,EAAIvlD,WAAYsP,EAAGD,GACnBm2C,EAAIxlD,WAAYvQ,EAAG4f,GACnBq2C,EAAI1lD,WAAY9O,EAAGme,GACnB,IAAInD,EAAKq5C,EAAIhqD,IAAKmqD,GACdv5C,EAAKq5C,EAAIjqD,IAAKmqD,GAClB,GAAKx5C,GAAM,GAAKC,GAAM,EAGlB,OAAOlV,EAAOsC,KAAM8V,GAIxBs2C,EAAI3lD,WAAY9O,EAAGoe,GACnB,IAAIlD,EAAKm5C,EAAIhqD,IAAKoqD,GACdE,EAAKL,EAAIjqD,IAAKoqD,GAClB,GAAKv5C,GAAM,GAAKy5C,GAAMz5C,EAGlB,OAAOnV,EAAOsC,KAAM+V,GAIxB,IAAIw2C,EAAK55C,EAAK25C,EAAKz5C,EAAKD,EACxB,GAAK25C,GAAM,GAAK55C,GAAM,GAAKE,GAAM,EAI7B,OAFAxO,EAAIsO,GAAOA,EAAKE,GAETnV,EAAOsC,KAAM8V,GAAIE,gBAAiBg2C,EAAK3nD,GAIlDgoD,EAAI5lD,WAAY9O,EAAGzB,GACnB,IAAIs2D,EAAKR,EAAIhqD,IAAKqqD,GACdI,EAAKR,EAAIjqD,IAAKqqD,GAClB,GAAKI,GAAM,GAAKD,GAAMC,EAGlB,OAAO/uD,EAAOsC,KAAM9J,GAIxB,IAAIw2D,EAAKF,EAAK55C,EAAKD,EAAK85C,EACxB,GAAKC,GAAM,GAAK95C,GAAM,GAAK65C,GAAM,EAI7B,OAFA73C,EAAIhC,GAAOA,EAAK65C,GAET/uD,EAAOsC,KAAM8V,GAAIE,gBAAiBi2C,EAAKr3C,GAIlD,IAAI+3C,EAAK95C,EAAK45C,EAAKD,EAAKF,EACxB,GAAKK,GAAM,GAAOL,EAAKz5C,GAAQ,GAAO25C,EAAKC,GAAQ,EAK/C,OAHAP,EAAIzlD,WAAYvQ,EAAG6f,GACnBnB,GAAM03C,EAAKz5C,IAAWy5C,EAAKz5C,GAAS25C,EAAKC,IAElC/uD,EAAOsC,KAAM+V,GAAIC,gBAAiBk2C,EAAKt3C,GAKlD,IAAIs2C,EAAQ,GAAMyB,EAAKD,EAAKH,GAI5B,OAFAloD,EAAIqoD,EAAKxB,EACTt2C,EAAI23C,EAAKrB,EACFxtD,EAAOsC,KAAM8V,GAAIE,gBAAiBg2C,EAAK3nD,GAAI2R,gBAAiBi2C,EAAKr3C,IA5F3D,GAkGrB8C,OAAQ,SAAWuZ,GAEf,OAAOA,EAASnb,EAAE4B,OAAQ7a,KAAKiZ,IAAOmb,EAASlb,EAAE2B,OAAQ7a,KAAKkZ,IAAOkb,EAAS/6B,EAAEwhB,OAAQ7a,KAAK3G,MAgFrGswD,GAAkB/uD,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACtD+uD,GAAkB/uD,UAAUmQ,YAAc4+C,GAE1CA,GAAkB/uD,UAAUm1D,qBAAsB,EAElDpG,GAAkB/uD,UAAUuI,KAAO,SAAW2J,GA+B1C,OA7BAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAExB+B,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK4sC,SAAW9/B,EAAO8/B,SACvB5sC,KAAK6sC,kBAAoB//B,EAAO+/B,kBAEhC7sC,KAAKysC,MAAQ3/B,EAAO2/B,MACpBzsC,KAAK0sC,eAAiB5/B,EAAO4/B,eAE7B1sC,KAAKisC,YAAcn/B,EAAOm/B,YAE1BjsC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAKmsC,OAASr/B,EAAOq/B,OACrBnsC,KAAK4pD,QAAU98C,EAAO88C,QACtB5pD,KAAKqsC,aAAev/B,EAAOu/B,aAC3BrsC,KAAKssC,gBAAkBx/B,EAAOw/B,gBAE9BtsC,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBACjC5oD,KAAK6pD,iBAAmB/8C,EAAO+8C,iBAC/B7pD,KAAK8pD,kBAAoBh9C,EAAOg9C,kBAEhC9pD,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAEpB16C,MA0BXb,GAAKvE,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEpDmQ,YAAa5L,GAEbs6C,QAAQ,EAERuW,YAAa,SAAW/1D,GAEpB+F,KAAK+pD,SAAW9vD,GAIpBkJ,KAAM,SAAW2J,GAkBb,OAhBAmpC,GAASr7C,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK+pD,SAAWj9C,EAAOi9C,cAEeppD,IAAjCmM,EAAOmjD,wBAERjwD,KAAKiwD,sBAAwBnjD,EAAOmjD,sBAAsBxiD,cAIxB9M,IAAjCmM,EAAOojD,wBAERlwD,KAAKkwD,sBAAwBx2D,OAAO+S,UAAYK,EAAOojD,wBAIpDlwD,MAIXgqD,mBAAoB,WAEhB,IACI5wD,EAAG+2D,EAAI52D,EADPm5B,EAAW1yB,KAAK0yB,SAGpB,GAAKA,EAASG,iBAAmB,CAE7B,IAAI0wB,EAAkB7wB,EAAS6wB,gBAC3BxhD,EAAOrI,OAAOqI,KAAMwhD,GAExB,GAAKxhD,EAAKhC,OAAS,EAAI,CAEnB,IAAI8mD,EAAiBtD,EAAiBxhD,EAAM,IAE5C,QAAwBpB,IAAnBkmD,EAKD,IAHA7mD,KAAKiwD,yBACLjwD,KAAKkwD,yBAEC92D,EAAI,EAAG+2D,EAAKtJ,EAAe9mD,OAAQ3G,EAAI+2D,EAAI/2D,IAE7CG,EAAOstD,EAAgBztD,GAAIG,MAAQ62D,OAAQh3D,GAE3C4G,KAAKiwD,sBAAsB7iD,KAAM,GACjCpN,KAAKkwD,sBAAuB32D,GAASH,OAQ9C,CAEH,IAAIshD,EAAehoB,EAASgoB,aAE5B,QAAsB/5C,IAAjB+5C,GAA8BA,EAAa36C,OAAS,EAKrD,IAHAC,KAAKiwD,yBACLjwD,KAAKkwD,yBAEC92D,EAAI,EAAG+2D,EAAKzV,EAAa36C,OAAQ3G,EAAI+2D,EAAI/2D,IAE3CG,EAAOmhD,EAActhD,GAAIG,MAAQ62D,OAAQh3D,GAEzC4G,KAAKiwD,sBAAsB7iD,KAAM,GACjCpN,KAAKkwD,sBAAuB32D,GAASH,IAUrDw/C,QAAW,WAEP,IAAIyX,EAAgB,IAAIz4C,GACpBozC,EAAM,IAAIxB,GACVhrD,EAAS,IAAIqwB,GAEb8uB,EAAK,IAAI78C,GACT88C,EAAK,IAAI98C,GACT+8C,EAAK,IAAI/8C,GAETwvD,EAAQ,IAAIxvD,GACZyvD,EAAQ,IAAIzvD,GACZ0vD,EAAQ,IAAI1vD,GAEZ2vD,EAAM,IAAI/pD,GACVgqD,EAAM,IAAIhqD,GACViqD,EAAM,IAAIjqD,GAEVkqD,EAAoB,IAAI9vD,GACxB+vD,EAAyB,IAAI/vD,GAEjC,SAASgwD,EAAmBp2D,EAAQqD,EAAUgzD,EAAW/F,EAAK7E,EAAIC,EAAIC,EAAIh0B,GActE,GAAmB,QAVdt0B,EAASkpD,OAASh5C,EAEP+8C,EAAIqC,kBAAmBhH,EAAID,EAAID,GAAI,EAAM9zB,GAIzC24B,EAAIqC,kBAAmBlH,EAAIC,EAAIC,EAAItoD,EAASkpD,OAAS/4C,EAAYmkB,IAIvD,OAAO,KAEjCw+B,EAAuB1tD,KAAMkvB,GAC7Bw+B,EAAuB5vC,aAAcvmB,EAAOmvB,aAE5C,IAAIpiB,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYu2C,GAEhD,OAAKppD,EAAWspD,EAAU3sC,MAAQ3c,EAAWspD,EAAU1sC,IAAa,MAGhE5c,SAAUA,EACV4qB,MAAOw+B,EAAuBruD,QAC9B9H,OAAQA,GAKhB,SAASs2D,EAAiCt2D,EAAQqD,EAAUgzD,EAAW/F,EAAKnuD,EAAUwzB,EAAIpX,EAAGC,EAAG7f,GAE5FskD,EAAG3iC,oBAAqBne,EAAUoc,GAClC2kC,EAAG5iC,oBAAqBne,EAAUqc,GAClC2kC,EAAG7iC,oBAAqBne,EAAUxD,GAElC,IAAI43D,EAAeH,EAAmBp2D,EAAQqD,EAAUgzD,EAAW/F,EAAKrN,EAAIC,EAAIC,EAAI+S,GAEpF,GAAKK,EAAe,CAEX5gC,IAEDogC,EAAIz1C,oBAAqBqV,EAAIpX,GAC7By3C,EAAI11C,oBAAqBqV,EAAInX,GAC7By3C,EAAI31C,oBAAqBqV,EAAIh3B,GAE7B43D,EAAa5gC,GAAKq5B,GAAS6E,MAAOqC,EAAmBjT,EAAIC,EAAIC,EAAI4S,EAAKC,EAAKC,EAAK,IAAIjqD,KAIxF,IAAIg2C,EAAO,IAAInI,GAAOt7B,EAAGC,EAAG7f,GAC5BqwD,GAASmE,UAAWlQ,EAAIC,EAAIC,EAAInB,EAAKjyB,QAErCwmC,EAAavU,KAAOA,EAIxB,OAAOuU,EAIX,OAAO,SAAkBF,EAAWG,GAEhC,IA4BID,EA5BAv+B,EAAW1yB,KAAK0yB,SAChB30B,EAAWiC,KAAKjC,SAChB8rB,EAAc7pB,KAAK6pB,YAEvB,QAAkBlpB,IAAb5C,IAI4B,OAA5B20B,EAAS6E,gBAA0B7E,EAAS8E,wBAEjDh5B,EAAO2E,KAAMuvB,EAAS6E,gBACtB/4B,EAAOyiB,aAAc4I,IAE6B,IAA7CknC,EAAU/F,IAAI53B,iBAAkB50B,KAIrC6xD,EAAc9uC,WAAYsI,GAC1BmhC,EAAI7nD,KAAM4tD,EAAU/F,KAAM/pC,aAAcovC,GAIV,OAAzB39B,EAASqoB,cAEyC,IAA9CiQ,EAAI73B,cAAeT,EAASqoB,eAMrC,GAAKroB,EAASG,iBAAmB,CAE7B,IAAI5Z,EAAGC,EAAG7f,EAMNL,EAAGm7B,EAAGzC,EAAIirB,EACVW,EAAO6T,EANPvkD,EAAQ8lB,EAAS9lB,MACjB/P,EAAW61B,EAASI,WAAWj2B,SAC/BwzB,EAAKqC,EAASI,WAAWzC,GACzBmsB,EAAS9pB,EAAS8pB,OAClBgH,EAAY9wB,EAAS8wB,UAKzB,GAAe,OAAV52C,EAID,GAAKsjB,MAAMC,QAASpyB,GAEhB,IAAM/E,EAAI,EAAG04B,EAAK8qB,EAAOz8C,OAAQ/G,EAAI04B,EAAI14B,IAQrC,IALAm4D,EAAgBpzD,GADhBu/C,EAAQd,EAAQxjD,IACgBw7C,eAK1BrgB,EAHE72B,KAAKkH,IAAK84C,EAAM5nB,MAAO8tB,EAAU9tB,OAGxBinB,EAFXr/C,KAAKmH,IAAO64C,EAAM5nB,MAAQ4nB,EAAMv8B,MAAWyiC,EAAU9tB,MAAQ8tB,EAAUziC,OAElDoT,EAAIwoB,EAAIxoB,GAAK,EAEpClb,EAAIrM,EAAMsO,KAAMiZ,GAChBjb,EAAItM,EAAMsO,KAAMiZ,EAAI,GACpB96B,EAAIuT,EAAMsO,KAAMiZ,EAAI,IAEpB88B,EAAeD,EAAiChxD,KAAMmxD,EAAeJ,EAAW/F,EAAKnuD,EAAUwzB,EAAIpX,EAAGC,EAAG7f,MAIrG43D,EAAaG,UAAY9zD,KAAK8O,MAAO+nB,EAAI,GACzC+8B,EAAW9jD,KAAM6jD,SAa7B,IAAMj4D,EAHEsE,KAAKkH,IAAK,EAAGg/C,EAAU9tB,OAGdhE,EAFXp0B,KAAKmH,IAAKmI,EAAMmU,MAASyiC,EAAU9tB,MAAQ8tB,EAAUziC,OAEhC/nB,EAAI04B,EAAI14B,GAAK,EAEpCigB,EAAIrM,EAAMsO,KAAMliB,GAChBkgB,EAAItM,EAAMsO,KAAMliB,EAAI,GACpBK,EAAIuT,EAAMsO,KAAMliB,EAAI,IAEpBi4D,EAAeD,EAAiChxD,KAAMjC,EAAUgzD,EAAW/F,EAAKnuD,EAAUwzB,EAAIpX,EAAGC,EAAG7f,MAIhG43D,EAAaG,UAAY9zD,KAAK8O,MAAOpT,EAAI,GACzCk4D,EAAW9jD,KAAM6jD,SAQ1B,QAAkBtwD,IAAb9D,EAIR,GAAKqzB,MAAMC,QAASpyB,GAEhB,IAAM/E,EAAI,EAAG04B,EAAK8qB,EAAOz8C,OAAQ/G,EAAI04B,EAAI14B,IAQrC,IALAm4D,EAAgBpzD,GADhBu/C,EAAQd,EAAQxjD,IACgBw7C,eAK1BrgB,EAHE72B,KAAKkH,IAAK84C,EAAM5nB,MAAO8tB,EAAU9tB,OAGxBinB,EAFXr/C,KAAKmH,IAAO64C,EAAM5nB,MAAQ4nB,EAAMv8B,MAAWyiC,EAAU9tB,MAAQ8tB,EAAUziC,OAElDoT,EAAIwoB,EAAIxoB,GAAK,GAMpC88B,EAAeD,EAAiChxD,KAAMmxD,EAAeJ,EAAW/F,EAAKnuD,EAAUwzB,EAJ/FpX,EAAIkb,EACJjb,EAAIib,EAAI,EACR96B,EAAI86B,EAAI,MAMJ88B,EAAaG,UAAY9zD,KAAK8O,MAAO+nB,EAAI,GACzC+8B,EAAW9jD,KAAM6jD,SAa7B,IAAMj4D,EAHEsE,KAAKkH,IAAK,EAAGg/C,EAAU9tB,OAGdhE,EAFXp0B,KAAKmH,IAAK5H,EAASkkB,MAASyiC,EAAU9tB,MAAQ8tB,EAAUziC,OAEnC/nB,EAAI04B,EAAI14B,GAAK,GAMpCi4D,EAAeD,EAAiChxD,KAAMjC,EAAUgzD,EAAW/F,EAAKnuD,EAAUwzB,EAJ1FpX,EAAIjgB,EACJkgB,EAAIlgB,EAAI,EACRK,EAAIL,EAAI,MAMJi4D,EAAaG,UAAY9zD,KAAK8O,MAAOpT,EAAI,GACzCk4D,EAAW9jD,KAAM6jD,SAU9B,GAAKv+B,EAASC,WAAa,CAE9B,IAAI0+B,EAAKC,EAAKC,EAKVjV,EAJAkV,EAAkBthC,MAAMC,QAASpyB,GAEjC60B,EAAWF,EAASE,SACpB4nB,EAAQ9nB,EAAS8nB,MAGjBC,EAAgB/nB,EAAS+nB,cAAe,GACvCA,EAAc16C,OAAS,IAAIu8C,EAAM7B,GAEtC,IAAM,IAAIj9B,EAAI,EAAGkgC,EAAKlD,EAAMz6C,OAAQyd,EAAIkgC,EAAIlgC,IAAO,CAE/C,IAAIk/B,EAAOlC,EAAOh9B,GACdi0C,EAAeD,EAAkBzzD,EAAU2+C,EAAKlI,eAAkBz2C,EAEtE,QAAsB4C,IAAjB8wD,EAAL,CAMA,GAJAJ,EAAMz+B,EAAU8pB,EAAKzjC,GACrBq4C,EAAM1+B,EAAU8pB,EAAKxjC,GACrBq4C,EAAM3+B,EAAU8pB,EAAKrjD,IAEc,IAA9Bo4D,EAAa/W,aAAwB,CAEtC,IAAIA,EAAehoB,EAASgoB,aACxBgX,EAAkB1xD,KAAKiwD,sBAE3BtS,EAAG7gD,IAAK,EAAG,EAAG,GACd8gD,EAAG9gD,IAAK,EAAG,EAAG,GACd+gD,EAAG/gD,IAAK,EAAG,EAAG,GAEd,IAAM,IAAI5C,EAAI,EAAGy3D,EAAKjX,EAAa36C,OAAQ7F,EAAIy3D,EAAIz3D,IAAO,CAEtD,IAAI03D,EAAYF,EAAiBx3D,GAEjC,GAAmB,IAAd03D,EAAL,CAEA,IAAIC,EAAUnX,EAAcxgD,GAAI04B,SAEhC+qB,EAAGxkC,gBAAiBm3C,EAAM1mD,WAAYioD,EAASnV,EAAKzjC,GAAKo4C,GAAOO,GAChEhU,EAAGzkC,gBAAiBo3C,EAAM3mD,WAAYioD,EAASnV,EAAKxjC,GAAKo4C,GAAOM,GAChE/T,EAAG1kC,gBAAiBq3C,EAAM5mD,WAAYioD,EAASnV,EAAKrjD,GAAKk4D,GAAOK,IAIpEjU,EAAGl+C,IAAK4xD,GACRzT,EAAGn+C,IAAK6xD,GACRzT,EAAGp+C,IAAK8xD,GAERF,EAAM1T,EACN2T,EAAM1T,EACN2T,EAAM1T,EAMV,GAFAoT,EAAeH,EAAmB9wD,KAAMyxD,EAAcV,EAAW/F,EAAKqG,EAAKC,EAAKC,EAAKX,GAEjE,CAEhB,GAAKtU,GAAOA,EAAK9+B,GAAM,CAEnB,IAAIs0C,EAAQxV,EAAK9+B,GACjBizC,EAAIttD,KAAM2uD,EAAO,IACjBpB,EAAIvtD,KAAM2uD,EAAO,IACjBnB,EAAIxtD,KAAM2uD,EAAO,IAEjBb,EAAa5gC,GAAKq5B,GAAS6E,MAAOqC,EAAmBS,EAAKC,EAAKC,EAAKd,EAAKC,EAAKC,EAAK,IAAIjqD,IAI3FuqD,EAAavU,KAAOA,EACpBuU,EAAaG,UAAY5zC,EACzB0zC,EAAW9jD,KAAM6jD,QA5T1B,GAwUXzuD,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAK0yB,SAAU1yB,KAAKjC,UAAWoF,KAAMnD,SAsgC1EkqD,GAAYtvD,UAAYlB,OAAOY,OAAQoyB,GAAQ9xB,WAC/CsvD,GAAYtvD,UAAUmQ,YAAcm/C,GAEpCA,GAAYtvD,UAAUm3D,eAAgB,EAEtCr4D,OAAOC,eAAgBuwD,GAAYtvD,UAAW,UAE1Cf,IAAK,WAED,OAAOmG,KAAK+rB,OAIhBjvB,IAAK,SAAW7C,GAEZ+F,KAAK+rB,MAAQ9xB,KAgCrBkwD,GAAcvvD,UAAYlB,OAAOY,OAAQoyB,GAAQ9xB,WACjDuvD,GAAcvvD,UAAUmQ,YAAco/C,GACtCA,GAAcvvD,UAAUo3D,iBAAkB,EAqD1C,IAAIC,GAAe,IAAIvlC,GACnBwlC,GAAiB,IAAI/H,GACrBgI,GAAmB,IAAIjI,GAI3B,SAASkI,KAELpyD,KAAKqyD,OACLryD,KAAK6rC,OAQT,IAAIymB,MACAC,MAIAC,GAAY,IAAIrf,aAAc,IAC9Bsf,GAAY,IAAItf,aAAc,GAC9Buf,GAAY,IAAIvf,aAAc,GAIlC,SAASwf,GAASnlD,EAAOolD,EAASC,GAE9B,IAAIC,EAAYtlD,EAAO,GAEvB,GAAKslD,GAAa,GAAKA,EAAY,EAAI,OAAOtlD,EAI9C,IAAI/S,EAAIm4D,EAAUC,EACd/4D,EAAIw4D,GAAe73D,GASvB,QAPWkG,IAAN7G,IAEDA,EAAI,IAAIq5C,aAAc14C,GACtB63D,GAAe73D,GAAMX,GAIR,IAAZ84D,EAAgB,CAEjBE,EAAU/3C,QAASjhB,EAAG,GAEtB,IAAM,IAAId,EAAI,EAAG0K,EAAS,EAAG1K,IAAM45D,IAAY55D,EAE3C0K,GAAUmvD,EACVrlD,EAAOxU,GAAI+hB,QAASjhB,EAAG4J,GAM/B,OAAO5J,EAIX,SAASi5D,GAAa95C,EAAGC,GAErB,GAAKD,EAAElZ,SAAWmZ,EAAEnZ,OAAS,OAAO,EAEpC,IAAM,IAAI/G,EAAI,EAAGC,EAAIggB,EAAElZ,OAAQ/G,EAAIC,EAAGD,IAElC,GAAKigB,EAAGjgB,KAAQkgB,EAAGlgB,GAAM,OAAO,EAIpC,OAAO,EAIX,SAASkpD,GAAWjpC,EAAGC,GAEnB,IAAM,IAAIlgB,EAAI,EAAGC,EAAIigB,EAAEnZ,OAAQ/G,EAAIC,EAAGD,IAElCigB,EAAGjgB,GAAMkgB,EAAGlgB,GAQpB,SAASg6D,GAAe73D,EAAUV,GAE9B,IAAIX,EAAIy4D,GAAe93D,QAEZkG,IAAN7G,IAEDA,EAAI,IAAI65C,WAAYl5C,GACpB83D,GAAe93D,GAAMX,GAIzB,IAAM,IAAId,EAAI,EAAGA,IAAMyB,IAAMzB,EACzBc,EAAGd,GAAMmC,EAAS83D,mBAEtB,OAAOn5D,EAWX,SAASo5D,GAAYhhB,EAAI1qC,GAErB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZA,EAAO,KAAQxyC,IAEpB0qC,EAAGihB,UAAWnzD,KAAKozD,KAAM5rD,GAEzBwyC,EAAO,GAAMxyC,GAIjB,SAAS6rD,GAAYnhB,EAAI1qC,GAErB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZA,EAAO,KAAQxyC,IAEpB0qC,EAAGohB,UAAWtzD,KAAKozD,KAAM5rD,GAEzBwyC,EAAO,GAAMxyC,GAMjB,SAAS+rD,GAAarhB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEjB,QAAar5C,IAAR6G,EAAEpI,EAEE46C,EAAO,KAAQxyC,EAAEpI,GAAK46C,EAAO,KAAQxyC,EAAEnI,IAExC6yC,EAAGshB,UAAWxzD,KAAKozD,KAAM5rD,EAAEpI,EAAGoI,EAAEnI,GAEhC26C,EAAO,GAAMxyC,EAAEpI,EACf46C,EAAO,GAAMxyC,EAAEnI,OAIhB,CAEH,GAAK0zD,GAAa/Y,EAAOxyC,GAAM,OAE/B0qC,EAAGuhB,WAAYzzD,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAM1B,SAASksD,GAAaxhB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEjB,QAAar5C,IAAR6G,EAAEpI,EAEE46C,EAAO,KAAQxyC,EAAEpI,GAAK46C,EAAO,KAAQxyC,EAAEnI,GAAK26C,EAAO,KAAQxyC,EAAElI,IAE9D4yC,EAAGyhB,UAAW3zD,KAAKozD,KAAM5rD,EAAEpI,EAAGoI,EAAEnI,EAAGmI,EAAElI,GAErC06C,EAAO,GAAMxyC,EAAEpI,EACf46C,EAAO,GAAMxyC,EAAEnI,EACf26C,EAAO,GAAMxyC,EAAElI,QAIhB,QAAaqB,IAAR6G,EAAE1N,EAELkgD,EAAO,KAAQxyC,EAAE1N,GAAKkgD,EAAO,KAAQxyC,EAAE2jB,GAAK6uB,EAAO,KAAQxyC,EAAE0R,IAE9Dg5B,EAAGyhB,UAAW3zD,KAAKozD,KAAM5rD,EAAE1N,EAAG0N,EAAE2jB,EAAG3jB,EAAE0R,GAErC8gC,EAAO,GAAMxyC,EAAE1N,EACfkgD,EAAO,GAAMxyC,EAAE2jB,EACf6uB,EAAO,GAAMxyC,EAAE0R,OAIhB,CAEH,GAAK65C,GAAa/Y,EAAOxyC,GAAM,OAE/B0qC,EAAG0hB,WAAY5zD,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAM1B,SAASqsD,GAAa3hB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEjB,QAAar5C,IAAR6G,EAAEpI,EAEE46C,EAAO,KAAQxyC,EAAEpI,GAAK46C,EAAO,KAAQxyC,EAAEnI,GAAK26C,EAAO,KAAQxyC,EAAElI,GAAK06C,EAAO,KAAQxyC,EAAEuQ,IAEpFm6B,EAAG4hB,UAAW9zD,KAAKozD,KAAM5rD,EAAEpI,EAAGoI,EAAEnI,EAAGmI,EAAElI,EAAGkI,EAAEuQ,GAE1CiiC,EAAO,GAAMxyC,EAAEpI,EACf46C,EAAO,GAAMxyC,EAAEnI,EACf26C,EAAO,GAAMxyC,EAAElI,EACf06C,EAAO,GAAMxyC,EAAEuQ,OAIhB,CAEH,GAAKg7C,GAAa/Y,EAAOxyC,GAAM,OAE/B0qC,EAAG6hB,WAAY/zD,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAQ1B,SAASwsD,GAAa9hB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbniC,EAAWrQ,EAAEqQ,SAEjB,QAAkBlX,IAAbkX,EAAyB,CAE1B,GAAKk7C,GAAa/Y,EAAOxyC,GAAM,OAE/B0qC,EAAG+hB,iBAAkBj0D,KAAKozD,MAAM,EAAO5rD,GAEvC06C,GAAWlI,EAAOxyC,OAEf,CAEH,GAAKurD,GAAa/Y,EAAOniC,GAAa,OAEtC66C,GAAU51D,IAAK+a,GAEfq6B,EAAG+hB,iBAAkBj0D,KAAKozD,MAAM,EAAOV,IAEvCxQ,GAAWlI,EAAOniC,IAM1B,SAASq8C,GAAahiB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbniC,EAAWrQ,EAAEqQ,SAEjB,QAAkBlX,IAAbkX,EAAyB,CAE1B,GAAKk7C,GAAa/Y,EAAOxyC,GAAM,OAE/B0qC,EAAGiiB,iBAAkBn0D,KAAKozD,MAAM,EAAO5rD,GAEvC06C,GAAWlI,EAAOxyC,OAEf,CAEH,GAAKurD,GAAa/Y,EAAOniC,GAAa,OAEtC46C,GAAU31D,IAAK+a,GAEfq6B,EAAGiiB,iBAAkBn0D,KAAKozD,MAAM,EAAOX,IAEvCvQ,GAAWlI,EAAOniC,IAM1B,SAASu8C,GAAaliB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbniC,EAAWrQ,EAAEqQ,SAEjB,QAAkBlX,IAAbkX,EAAyB,CAE1B,GAAKk7C,GAAa/Y,EAAOxyC,GAAM,OAE/B0qC,EAAGmiB,iBAAkBr0D,KAAKozD,MAAM,EAAO5rD,GAEvC06C,GAAWlI,EAAOxyC,OAEf,CAEH,GAAKurD,GAAa/Y,EAAOniC,GAAa,OAEtC26C,GAAU11D,IAAK+a,GAEfq6B,EAAGmiB,iBAAkBr0D,KAAKozD,MAAM,EAAOZ,IAEvCtQ,GAAWlI,EAAOniC,IAQ1B,SAASy8C,GAAYpiB,EAAI1qC,EAAGrM,GAExB,IAAI6+C,EAAQh6C,KAAKg6C,MACbua,EAAOp5D,EAAS83D,mBAEfjZ,EAAO,KAAQua,IAEhBriB,EAAGohB,UAAWtzD,KAAKozD,KAAMmB,GACzBva,EAAO,GAAMua,GAIjBp5D,EAASq5D,aAAchtD,GAAKyqD,GAAcsC,GAI9C,SAASE,GAAcviB,EAAI1qC,EAAGrM,GAE1B,IAAI6+C,EAAQh6C,KAAKg6C,MACbua,EAAOp5D,EAAS83D,mBAEfjZ,EAAO,KAAQua,IAEhBriB,EAAGohB,UAAWtzD,KAAKozD,KAAMmB,GACzBva,EAAO,GAAMua,GAIjBp5D,EAASu5D,aAAcltD,GAAK0qD,GAAgBqC,GAIhD,SAASI,GAAYziB,EAAI1qC,EAAGrM,GAExB,IAAI6+C,EAAQh6C,KAAKg6C,MACbua,EAAOp5D,EAAS83D,mBAEfjZ,EAAO,KAAQua,IAEhBriB,EAAGohB,UAAWtzD,KAAKozD,KAAMmB,GACzBva,EAAO,GAAMua,GAIjBp5D,EAASy5D,eAAgBptD,GAAK2qD,GAAkBoC,GAMpD,SAASM,GAAa3iB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZ+Y,GAAa/Y,EAAOxyC,KAEzB0qC,EAAG4iB,WAAY90D,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAItB,SAASutD,GAAa7iB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZ+Y,GAAa/Y,EAAOxyC,KAEzB0qC,EAAG8iB,WAAYh1D,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAItB,SAASytD,GAAa/iB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZ+Y,GAAa/Y,EAAOxyC,KAEzB0qC,EAAGgjB,WAAYl1D,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAkCtB,SAAS2tD,GAAajjB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZ+Y,GAAa/Y,EAAOxyC,KAEzB0qC,EAAGkjB,WAAYp1D,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAGtB,SAAS6tD,GAAanjB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MAEZ+Y,GAAa/Y,EAAOxyC,KAEzB0qC,EAAGojB,WAAYt1D,KAAKozD,KAAM5rD,GAE1B06C,GAAWlI,EAAOxyC,IAMtB,SAAS+tD,GAAarjB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbrrB,EAAOgkC,GAASnrD,EAAGxH,KAAK6xB,KAAM,GAE7BkhC,GAAa/Y,EAAOrrB,KAEzBujB,EAAGuhB,WAAYzzD,KAAKozD,KAAMzkC,GAE1B3uB,KAAKw1D,YAAa7mC,IAItB,SAAS8mC,GAAavjB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbrrB,EAAOgkC,GAASnrD,EAAGxH,KAAK6xB,KAAM,GAE7BkhC,GAAa/Y,EAAOrrB,KAEzBujB,EAAG0hB,WAAY5zD,KAAKozD,KAAMzkC,GAE1B3uB,KAAKw1D,YAAa7mC,IAItB,SAAS+mC,GAAaxjB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbrrB,EAAOgkC,GAASnrD,EAAGxH,KAAK6xB,KAAM,GAE7BkhC,GAAa/Y,EAAOrrB,KAEzBujB,EAAG6hB,WAAY/zD,KAAKozD,KAAMzkC,GAE1B3uB,KAAKw1D,YAAa7mC,IAMtB,SAASgnC,GAAazjB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbrrB,EAAOgkC,GAASnrD,EAAGxH,KAAK6xB,KAAM,GAE7BkhC,GAAa/Y,EAAOrrB,KAEzBujB,EAAG+hB,iBAAkBj0D,KAAKozD,MAAM,EAAOzkC,GAEvC3uB,KAAKw1D,YAAa7mC,IAItB,SAASinC,GAAa1jB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbrrB,EAAOgkC,GAASnrD,EAAGxH,KAAK6xB,KAAM,GAE7BkhC,GAAa/Y,EAAOrrB,KAEzBujB,EAAGiiB,iBAAkBn0D,KAAKozD,MAAM,EAAOzkC,GAEvC3uB,KAAKw1D,YAAa7mC,IAItB,SAASknC,GAAa3jB,EAAI1qC,GAEtB,IAAIwyC,EAAQh6C,KAAKg6C,MACbrrB,EAAOgkC,GAASnrD,EAAGxH,KAAK6xB,KAAM,IAE7BkhC,GAAa/Y,EAAOrrB,KAEzBujB,EAAGmiB,iBAAkBr0D,KAAKozD,MAAM,EAAOzkC,GAEvC3uB,KAAKw1D,YAAa7mC,IAMtB,SAASmnC,GAAa5jB,EAAI1qC,EAAGrM,GAEzB,IAAI6+C,EAAQh6C,KAAKg6C,MACbv/C,EAAI+M,EAAEzH,OAENg2D,EAAQ/C,GAAe73D,EAAUV,IAEA,IAAhCs4D,GAAa/Y,EAAO+b,KAErB7jB,EAAGojB,WAAYt1D,KAAKozD,KAAM2C,GAC1B7T,GAAWlI,EAAO+b,IAItB,IAAM,IAAI/8D,EAAI,EAAGA,IAAMyB,IAAMzB,EAEzBmC,EAASq5D,aAAchtD,EAAGxO,IAAOi5D,GAAc8D,EAAO/8D,IAM9D,SAASg9D,GAAa9jB,EAAI1qC,EAAGrM,GAEzB,IAAI6+C,EAAQh6C,KAAKg6C,MACbv/C,EAAI+M,EAAEzH,OAENg2D,EAAQ/C,GAAe73D,EAAUV,IAEA,IAAhCs4D,GAAa/Y,EAAO+b,KAErB7jB,EAAGojB,WAAYt1D,KAAKozD,KAAM2C,GAC1B7T,GAAWlI,EAAO+b,IAItB,IAAM,IAAI/8D,EAAI,EAAGA,IAAMyB,IAAMzB,EAEzBmC,EAASy5D,eAAgBptD,EAAGxO,IAAOm5D,GAAkB4D,EAAO/8D,IAmCpE,SAASi9D,GAAe5d,EAAI6d,EAAY9C,GAEpCpzD,KAAKq4C,GAAKA,EACVr4C,KAAKozD,KAAOA,EACZpzD,KAAKg6C,SACLh6C,KAAKm2D,SArNT,SAA4BnwD,GAExB,OAASA,GAEL,KAAK,KAAQ,OAAOktD,GACpB,KAAK,MAAQ,OAAOK,GACpB,KAAK,MAAQ,OAAOG,GACpB,KAAK,MAAQ,OAAOG,GAEpB,KAAK,MAAQ,OAAOG,GACpB,KAAK,MAAQ,OAAOE,GACpB,KAAK,MAAQ,OAAOE,GAEpB,KAAK,MAAQ,KAAK,MAAQ,OAAOE,GACjC,KAAK,MAAQ,OAAOG,GACpB,KAAK,MAAQ,OAAOE,GAEpB,KAAK,KAAQ,KAAK,MAAQ,OAAOtB,GACjC,KAAK,MAAQ,KAAK,MAAQ,OAAOwB,GACjC,KAAK,MAAQ,KAAK,MAAQ,OAAOE,GACjC,KAAK,MAAQ,KAAK,MAAQ,OAAOE,IAiMrBmB,CAAmBF,EAAWlwD,MAMlD,SAASqwD,GAAkBhe,EAAI6d,EAAY9C,GAEvCpzD,KAAKq4C,GAAKA,EACVr4C,KAAKozD,KAAOA,EACZpzD,KAAKg6C,SACLh6C,KAAK6xB,KAAOqkC,EAAWrkC,KACvB7xB,KAAKm2D,SA5CT,SAA6BnwD,GAEzB,OAASA,GAEL,KAAK,KAAQ,OAAOmvD,GACpB,KAAK,MAAQ,OAAOI,GACpB,KAAK,MAAQ,OAAOE,GACpB,KAAK,MAAQ,OAAOC,GAEpB,KAAK,MAAQ,OAAOC,GACpB,KAAK,MAAQ,OAAOC,GACpB,KAAK,MAAQ,OAAOC,GAEpB,KAAK,MAAQ,OAAOC,GACpB,KAAK,MAAQ,OAAOE,GAEpB,KAAK,KAAQ,KAAK,MAAQ,OAAOX,GACjC,KAAK,MAAQ,KAAK,MAAQ,OAAOR,GACjC,KAAK,MAAQ,KAAK,MAAQ,OAAOE,GACjC,KAAK,MAAQ,KAAK,MAAQ,OAAOE,IAyBrBqB,CAAoBJ,EAAWlwD,MAoBnD,SAASuwD,GAAmBle,GAExBr4C,KAAKq4C,GAAKA,EAEV+Z,GAAiBj5D,KAAM6G,MAlB3Bq2D,GAAiBz7D,UAAU46D,YAAc,SAAW7mC,GAEhD,IAAIqrB,EAAQh6C,KAAKg6C,MAEZrrB,aAAgBwkB,cAAgB6G,EAAMj6C,SAAW4uB,EAAK5uB,SAEvDC,KAAKg6C,MAAQ,IAAI7G,aAAcxkB,EAAK5uB,SAIxCmiD,GAAWlI,EAAOrrB,IAYtB4nC,GAAkB37D,UAAUu7D,SAAW,SAAWjkB,EAAIj4C,EAAOkB,GAIzD,IAFA,IAAIk3D,EAAMryD,KAAKqyD,IAELr5D,EAAI,EAAGyB,EAAI43D,EAAItyD,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAE7C,IAAIwmC,EAAI6yB,EAAKr5D,GACbwmC,EAAE22B,SAAUjkB,EAAIj4C,EAAOulC,EAAE6Y,IAAMl9C,KAUvC,IAAIq7D,GAAa,2BAWjB,SAASC,GAAYC,EAAWC,GAE5BD,EAAUrE,IAAIjlD,KAAMupD,GACpBD,EAAU7qB,IAAK8qB,EAActe,IAAOse,EAIxC,SAASC,GAAcV,EAAY9C,EAAMsD,GAErC,IAAIG,EAAOX,EAAW38D,KAClBu9D,EAAaD,EAAK92D,OAKtB,IAFAy2D,GAAWO,UAAY,IAER,CAEX,IAAIvqD,EAAQgqD,GAAW7sB,KAAMktB,GACzBG,EAAWR,GAAWO,UAEtB1e,EAAK7rC,EAAO,GACZyqD,EAA2B,MAAfzqD,EAAO,GACnB0qD,EAAY1qD,EAAO,GAIvB,GAFKyqD,IAAY5e,GAAU,QAER13C,IAAdu2D,GAAyC,MAAdA,GAAqBF,EAAW,IAAMF,EAAa,CAI/EL,GAAYC,OAAyB/1D,IAAdu2D,EACnB,IAAIjB,GAAe5d,EAAI6d,EAAY9C,GACnC,IAAIiD,GAAkBhe,EAAI6d,EAAY9C,IAE1C,MAMA,IAAyB+D,EAAfT,EAAU7qB,IAAiBwM,QAEvB13C,IAATw2D,GAGDV,GAAYC,EADZS,EAAO,IAAIZ,GAAmBle,IAKlCqe,EAAYS,GAUxB,SAASC,GAAellB,EAAImlB,EAASl8D,GAEjCi3D,GAAiBj5D,KAAM6G,MAEvBA,KAAK7E,SAAWA,EAIhB,IAFA,IAAIV,EAAIy3C,EAAGolB,oBAAqBD,EAASnlB,EAAGqlB,iBAElCv+D,EAAI,EAAGA,EAAIyB,IAAMzB,EAAI,CAE3B,IAAIw+D,EAAOtlB,EAAGulB,iBAAkBJ,EAASr+D,GAGzC49D,GAAcY,EAFHtlB,EAAGwlB,mBAAoBL,EAASG,EAAKj+D,MAEtByG,OA4ElC,SAAS23D,GAAazlB,EAAIlsC,EAAMyjC,GAE5B,IAAImuB,EAAS1lB,EAAG2lB,aAAc7xD,GAoB9B,OAlBAksC,EAAG4lB,aAAcF,EAAQnuB,GACzByI,EAAG6lB,cAAeH,IAE0C,IAAvD1lB,EAAG8lB,mBAAoBJ,EAAQ1lB,EAAG+lB,iBAEnCnvD,QAAQgP,MAAO,+CAIoB,KAAlCo6B,EAAGgmB,iBAAkBN,IAEtB9uD,QAAQC,KAAM,2CAA4C/C,IAASksC,EAAGimB,cAAgB,SAAW,WAAYjmB,EAAGgmB,iBAAkBN,GA7B1I,SAAyBnuB,GAIrB,IAFA,IAAI2uB,EAAQ3uB,EAAO4uB,MAAO,MAEhBr/D,EAAI,EAAGA,EAAIo/D,EAAMr4D,OAAQ/G,IAE/Bo/D,EAAOp/D,GAAQA,EAAI,EAAM,KAAOo/D,EAAOp/D,GAI3C,OAAOo/D,EAAME,KAAM,MAmB6HC,CAAgB9uB,IAOzJmuB,EA5FXR,GAAcx8D,UAAUu7D,SAAW,SAAWjkB,EAAI34C,EAAMU,GAEpD,IAAIulC,EAAIx/B,KAAK6rC,IAAKtyC,QAEPoH,IAAN6+B,GAAkBA,EAAE22B,SAAUjkB,EAAIj4C,EAAO+F,KAAK7E,WAIvDi8D,GAAcx8D,UAAU49D,YAAc,SAAWtmB,EAAIx3C,EAAQnB,GAEzD,IAAIiO,EAAI9M,EAAQnB,QAELoH,IAAN6G,GAAkBxH,KAAKm2D,SAAUjkB,EAAI34C,EAAMiO,IAOpD4vD,GAAcqB,OAAS,SAAWvmB,EAAImgB,EAAKpY,EAAQ9+C,GAE/C,IAAM,IAAInC,EAAI,EAAGyB,EAAI43D,EAAItyD,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAE7C,IAAIwmC,EAAI6yB,EAAKr5D,GACTwO,EAAIyyC,EAAQza,EAAE6Y,KAEK,IAAlB7wC,EAAEo+C,aAGHpmB,EAAE22B,SAAUjkB,EAAI1qC,EAAEvN,MAAOkB,KAQrCi8D,GAAcsB,aAAe,SAAWrG,EAAKpY,GAIzC,IAFA,IAAIngD,KAEMd,EAAI,EAAGyB,EAAI43D,EAAItyD,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAE7C,IAAIwmC,EAAI6yB,EAAKr5D,GACRwmC,EAAE6Y,MAAM4B,GAASngD,EAAEsT,KAAMoyB,GAIlC,OAAO1lC,GAoDX,IAAI6+D,GAAiB,EAErB,SAASC,GAAuB1rC,GAE5B,OAASA,GAEL,KAAKrY,GACD,OAAS,SAAU,aACvB,KAAKC,GACD,OAAS,OAAQ,aACrB,KAAKE,GACD,OAAS,OAAQ,aACrB,KAAKC,GACD,OAAS,OAAQ,kBACrB,KAAKC,GACD,OAAS,OAAQ,mBACrB,KAAKC,GACD,OAAS,OAAQ,oBACrB,KAAKJ,GACD,OAAS,QAAS,oCACtB,QACI,MAAM,IAAI8D,MAAO,yBAA2BqU,IAMxD,SAAS2rC,GAA0BC,EAAc5rC,GAE7C,IAAI0c,EAAagvB,GAAuB1rC,GACxC,MAAO,QAAU4rC,EAAe,2BAA6BlvB,EAAY,GAAM,WAAaA,EAAY,GAAM,MAgGlH,SAASmvB,GAAiBtvB,GAEtB,MAAkB,KAAXA,EAIX,SAASuvB,GAAkBvvB,EAAQmQ,GAE/B,OAAOnQ,EACFwvB,QAAS,kBAAmBrf,EAAWsf,cACvCD,QAAS,mBAAoBrf,EAAWuf,eACxCF,QAAS,wBAAyBrf,EAAWwf,mBAC7CH,QAAS,oBAAqBrf,EAAWyf,gBACzCJ,QAAS,mBAAoBrf,EAAW0f,eAIjD,SAASC,GAA0B9vB,EAAQmQ,GAEvC,OAAOnQ,EACFwvB,QAAS,uBAAwBrf,EAAW4f,mBAC5CP,QAAS,yBAA4Brf,EAAW4f,kBAAoB5f,EAAW6f,qBAIxF,SAASC,GAAejwB,GAkBpB,OAAOA,EAAOwvB,QAhBA,mCAEd,SAAkBzsD,EAAOmtD,GAErB,IAAIV,EAAUrhC,GAAa+hC,GAE3B,QAAiBh5D,IAAZs4D,EAED,MAAM,IAAIpgD,MAAO,6BAA+B8gD,EAAU,KAI9D,OAAOD,GAAeT,KAQ9B,SAASW,GAAanwB,GAkBlB,OAAOA,EAAOwvB,QAhBA,+FAEd,SAAkBzsD,EAAOkpB,EAAOI,EAAK+jC,GAIjC,IAFA,IAAIC,EAAS,GAEH9gE,EAAI6wC,SAAUnU,GAAS18B,EAAI6wC,SAAU/T,GAAO98B,IAElD8gE,GAAUD,EAAQZ,QAAS,WAAY,KAAOjgE,EAAI,MAItD,OAAO8gE,IAQf,SAASC,GAAc5+D,EAAU4tD,EAAYiR,EAAMj8D,EAAU65D,EAAQhe,EAAYqgB,GAE7E,IAAI/nB,EAAK/2C,EAASgxB,QAEds8B,EAAU1qD,EAAS0qD,QAEnB1Y,EAAe6nB,EAAO7nB,aACtBC,EAAiB4nB,EAAO5nB,eAExBkqB,EAAsB,uBAErBtgB,EAAWugB,gBAAkBrsD,EAE9BosD,EAAsB,qBAEdtgB,EAAWugB,gBAAkBpsD,IAErCmsD,EAAsB,2BAI1B,IAAIE,EAAmB,mBACnBC,EAAmB,yBACnBC,EAAuB,2BAE3B,GAAK1gB,EAAWzN,OAAS,CAErB,OAASpuC,EAASouC,OAAOxf,SAErB,KAAK/b,EACL,KAAKC,GACDupD,EAAmB,mBACnB,MAEJ,KAAKnpD,GACL,KAAKC,GACDkpD,EAAmB,sBACnB,MAEJ,KAAKtpD,GACL,KAAKC,GACDqpD,EAAmB,sBACnB,MAEJ,KAAKppD,GACDopD,EAAmB,qBAK3B,OAASr8D,EAASouC,OAAOxf,SAErB,KAAK9b,GACL,KAAKE,GACDspD,EAAmB,yBAK3B,OAASt8D,EAAS6rD,SAEd,KAAKx5C,EACDkqD,EAAuB,2BACvB,MAEJ,KAAKjqD,EACDiqD,EAAuB,sBACvB,MAEJ,KAAKhqD,EACDgqD,EAAuB,uBAOnC,IAcIC,EAAcC,EAddC,EAAsBt/D,EAAS6uC,YAAc,EAAM7uC,EAAS6uC,YAAc,EAM1E0wB,EAAmBT,EAAaU,SAAW,GA9MnD,SAA6B5R,EAAYnP,EAAYghB,GAWjD,QATA7R,EAAaA,OAGIC,aAAepP,EAAWihB,cAAgBjhB,EAAW3M,SAAa2M,EAAWxM,YAAewM,EAAWkhB,sBAA0BlhB,EAAW17C,YAAgB,kDAAoD,IAC3N6qD,EAAWE,WAAarP,EAAWmhB,yBAA4BH,EAAmB/gE,IAAK,kBAAqB,wCAA0C,GACtJkvD,EAAWG,aAAiB0R,EAAmB/gE,IAAK,sBAAyB,2CAA6C,IAC1HkvD,EAAWI,kBAAoBvP,EAAWzN,SAAYyuB,EAAmB/gE,IAAK,0BAA6B,gDAAkD,IAGrJmhE,OAAQjC,IAAkBT,KAAM,MAmMM2C,CAAoBl9D,EAASgrD,WAAYnP,EAAYmP,GAErGmS,EAjMR,SAA0BzS,GAEtB,IAAI0S,KAEJ,IAAM,IAAI5hE,KAAQkvD,EAAU,CAExB,IAAIxuD,EAAQwuD,EAASlvD,IAEN,IAAVU,GAELkhE,EAAO/tD,KAAM,WAAa7T,EAAO,IAAMU,GAI3C,OAAOkhE,EAAO7C,KAAM,MAmLA8C,CAAiB3S,GAIjC4O,EAAUnlB,EAAGmpB,gBAmOjB,GA/NKt9D,EAASu9D,sBAEVf,GAEIW,GAEFF,OAAQjC,IAAkBT,KAAM,OAEhBv4D,OAAS,IAEvBw6D,GAAgB,OAIpBC,GAEIE,EACAQ,GAEFF,OAAQjC,IAAkBT,KAAM,OAEdv4D,OAAS,IAEzBy6D,GAAkB,QAMtBD,GAEI,aAAe3gB,EAAWiG,UAAY,UACtC,aAAejG,EAAWiG,UAAY,QAEtC,uBAAyB+X,EAAOr+D,KAEhC2hE,EAEAthB,EAAW2hB,uBAAyB,0BAA4B,GAEhE,wBAA0Bd,EAE1B,qBAAuB7gB,EAAW4hB,SAChC5hB,EAAW6hB,QAAU7hB,EAAWv9C,IAAQ,kBAAoB,GAC5Du9C,EAAW6hB,QAAU7hB,EAAW8hB,OAAW,mBAAqB,GAElE9hB,EAAW/N,IAAM,kBAAoB,GACrC+N,EAAWzN,OAAS,qBAAuB,GAC3CyN,EAAWzN,OAAS,WAAakuB,EAAmB,GACpDzgB,EAAWhN,SAAW,uBAAyB,GAC/CgN,EAAWnN,MAAQ,oBAAsB,GACzCmN,EAAW7M,YAAc,0BAA4B,GACrD6M,EAAW3M,QAAU,sBAAwB,GAC7C2M,EAAWxM,UAAY,wBAA0B,GAC/CwM,EAAWxM,WAAawM,EAAWkhB,qBAAyB,gCAAkC,GAChGlhB,EAAWrM,iBAAmBqM,EAAW2hB,uBAAyB,8BAAgC,GAClG3hB,EAAW3N,YAAc,0BAA4B,GACrD2N,EAAWjM,aAAe,2BAA6B,GACvDiM,EAAW/L,aAAe,2BAA6B,GACvD+L,EAAW7N,SAAW,uBAAyB,GAC/C6N,EAAWlF,aAAe,oBAAsB,GAEhDkF,EAAW17C,YAAc,sBAAwB,GAEjD07C,EAAWkP,SAAW,uBAAyB,GAC/ClP,EAAW+hB,iBAAmB,uBAAyB,GAEvD/hB,EAAWc,aAAe,2BAA6B,GACvDd,EAAWe,eAA2C,IAA3Bf,EAAW17C,YAAwB,2BAA6B,GAC3F07C,EAAWgiB,YAAc,uBAAyB,GAClDhiB,EAAWiiB,UAAY,qBAAuB,GAE9CjiB,EAAWkiB,iBAAmB,wBAA0B,GACxDliB,EAAWkiB,iBAAmB,WAAa5B,EAAsB,GAEjEtgB,EAAW+Q,gBAAkB,8BAAgC,GAE7D/Q,EAAWmhB,uBAAyB,0BAA4B,GAChEnhB,EAAWmhB,yBAA4Bd,EAAaU,UAAY5R,EAAWlvD,IAAK,mBAAuB,8BAAgC,GAEvI,4BACA,gCACA,iCACA,2BACA,6BACA,+BAEA,2BACA,yBACA,qBAEA,mBAEA,0BAEA,SAEA,0BAEA,iCACA,iCACA,iCACA,iCAEA,4BAEA,mCACA,mCACA,mCACA,mCAEA,UAEA,mCACA,mCACA,mCACA,mCAEA,WAEA,SAEA,sBAEA,8BACA,+BAEA,SAEA,MAEFmhE,OAAQjC,IAAkBT,KAAM,MAElCkC,GAEIE,EAEA,aAAe9gB,EAAWiG,UAAY,UACtC,aAAejG,EAAWiG,UAAY,QAEtC,uBAAyB+X,EAAOr+D,KAEhC2hE,EAEAthB,EAAWyO,UAAY,qBAAuBzO,EAAWyO,WAAczO,EAAWyO,UAAY,EAAI,GAAK,MAAS,GAEhH,wBAA0BoS,EAExB7gB,EAAW6hB,QAAU7hB,EAAWv9C,IAAQ,kBAAoB,GAC5Du9C,EAAW6hB,QAAU7hB,EAAW8hB,OAAW,mBAAqB,GAElE9hB,EAAW/N,IAAM,kBAAoB,GACrC+N,EAAWzN,OAAS,qBAAuB,GAC3CyN,EAAWzN,OAAS,WAAaiuB,EAAmB,GACpDxgB,EAAWzN,OAAS,WAAakuB,EAAmB,GACpDzgB,EAAWzN,OAAS,WAAamuB,EAAuB,GACxD1gB,EAAWhN,SAAW,uBAAyB,GAC/CgN,EAAWnN,MAAQ,oBAAsB,GACzCmN,EAAW7M,YAAc,0BAA4B,GACrD6M,EAAW3M,QAAU,sBAAwB,GAC7C2M,EAAWxM,UAAY,wBAA0B,GAC/CwM,EAAWxM,WAAawM,EAAWkhB,qBAAyB,gCAAkC,GAChGlhB,EAAW3N,YAAc,0BAA4B,GACrD2N,EAAWjM,aAAe,2BAA6B,GACvDiM,EAAW/L,aAAe,2BAA6B,GACvD+L,EAAW7N,SAAW,uBAAyB,GAC/C6N,EAAWlF,aAAe,oBAAsB,GAEhDkF,EAAW7L,YAAc,0BAA4B,GAErD6L,EAAW17C,YAAc,sBAAwB,GAEjD07C,EAAWgiB,YAAc,uBAAyB,GAClDhiB,EAAWiiB,UAAY,qBAAuB,GAE9CjiB,EAAWkiB,iBAAmB,wBAA0B,GACxDliB,EAAWkiB,iBAAmB,WAAa5B,EAAsB,GAEjEtgB,EAAW0O,mBAAqB,8BAAgC,GAEhE1O,EAAWmiB,wBAA0B,oCAAsC,GAE3EniB,EAAWmhB,uBAAyB,0BAA4B,GAChEnhB,EAAWmhB,yBAA4Bd,EAAaU,UAAY5R,EAAWlvD,IAAK,mBAAuB,8BAAgC,GAEvI+/C,EAAWzN,SAAY8tB,EAAaU,UAAY5R,EAAWlvD,IAAK,2BAA+B,0BAA4B,GAE3H,2BACA,+BAEE+/C,EAAWoiB,cAAgBzrD,EAAkB,uBAAyB,GACtEqpC,EAAWoiB,cAAgBzrD,EAAkBqnB,GAAA,0BAA6C,GAC1FgiB,EAAWoiB,cAAgBzrD,EAvbzC,SAAiCuoD,EAAckD,GAE3C,IAAIC,EAEJ,OAASD,GAEL,KAAKxrD,EACDyrD,EAAkB,SAClB,MAEJ,KAAKxrD,EACDwrD,EAAkB,WAClB,MAEJ,KAAKvrD,EACDurD,EAAkB,aAClB,MAEJ,KAAKtrD,EACDsrD,EAAkB,kBAClB,MAEJ,QACI,MAAM,IAAIpjD,MAAO,4BAA8BmjD,GAIvD,MAAO,QAAUlD,EAAe,2BAA6BmD,EAAkB,0BA4ZxBC,CAAwB,cAAetiB,EAAWoiB,aAAgB,GAEjHpiB,EAAWwO,UAAY,oBAAsB,GAE3CxO,EAAWuiB,gBAAkBviB,EAAWwiB,aAAexiB,EAAWyiB,gBAAkBziB,EAAW0iB,gBAAkB1iB,EAAW2iB,oBAC1H3kC,GAAA,wBAA2C,GAC/CgiB,EAAWwiB,YAAcvD,GAA0B,mBAAoBjf,EAAWwiB,aAAgB,GAClGxiB,EAAWyiB,eAAiBxD,GAA0B,sBAAuBjf,EAAWyiB,gBAAmB,GAC3GziB,EAAW0iB,eAAiBzD,GAA0B,sBAAuBjf,EAAW0iB,gBAAmB,GAC3G1iB,EAAW2iB,oBAAsB1D,GAA0B,2BAA4Bjf,EAAW2iB,qBAAwB,GAC1H3iB,EAAWuiB,eAxcvB,SAAmCrD,EAAc5rC,GAE7C,IAAI0c,EAAagvB,GAAuB1rC,GACxC,MAAO,QAAU4rC,EAAe,mCAAqClvB,EAAY,GAAMA,EAAY,GAAM,MAqcrE4yB,CAA0B,sBAAuB5iB,EAAWuiB,gBAAmB,GAE3GviB,EAAW6iB,aAAe,yBAA2B1+D,EAAS0+D,aAAe,GAE7E,MAEFzB,OAAQjC,IAAkBT,KAAM,OAMtCvoB,EAAewpB,GADfxpB,EAAeipB,GADfjpB,EAAe2pB,GAAe3pB,GACiB6J,GACQA,GAIvD5J,EAAiBupB,GADjBvpB,EAAiBgpB,GADjBhpB,EAAiB0pB,GAAe1pB,GACmB4J,GACQA,GAE3D7J,EAAe6pB,GAAa7pB,GAC5BC,EAAiB4pB,GAAa5pB,GAEzBiqB,EAAaU,WAAc58D,EAASu9D,oBAAsB,CAE3D,IAAIoB,GAAwB,EAExBC,EAAe,+BAEd5+D,EAASgtD,kBAC6B,OAAvChb,EAAavjC,MAAOmwD,IACqB,OAAzC3sB,EAAexjC,MAAOmwD,KAEtBD,GAAwB,EAExB3sB,EAAeA,EAAakpB,QAAS0D,EAAc,IACnD3sB,EAAiBA,EAAeipB,QAAS0D,EAAc,KAK3DpC,GACI,oBACA,uBACA,sBACA,6BACFjC,KAAM,MAAS,KAAOiC,EAExBC,GACI,oBACA,qBACAkC,EAAwB,GAAK,+BAC7BA,EAAwB,GAAK,oCAC7B,uCACA,4BACA,8BACA,oCACA,qCACA,6CACA,uCACA,uCACA,+CACA,0CACFpE,KAAM,MAAS,KAAOkC,EAI5B,IAAIoC,EAAarC,EAAexqB,EAC5B8sB,EAAerC,EAAiBxqB,EAKhC8sB,EAAiBnF,GAAazlB,EAAIA,EAAGimB,cAAeyE,GACpDG,EAAmBpF,GAAazlB,EAAIA,EAAG8qB,gBAAiBH,GAE5D3qB,EAAG+qB,aAAc5F,EAASyF,GAC1B5qB,EAAG+qB,aAAc5F,EAAS0F,QAIYp8D,IAAjC5C,EAASsrD,oBAEVnX,EAAGgrB,mBAAoB7F,EAAS,EAAGt5D,EAASsrD,sBAER,IAA5BzP,EAAWc,cAGnBxI,EAAGgrB,mBAAoB7F,EAAS,EAAG,YAIvCnlB,EAAGirB,YAAa9F,GAEhB,IA4DI+F,EAgBAC,EA5EAC,EAAaprB,EAAGqrB,kBAAmBlG,GAAUmG,OAC7CC,EAAYvrB,EAAGgmB,iBAAkB4E,GAAiBU,OAClDE,EAAcxrB,EAAGgmB,iBAAkB6E,GAAmBS,OAEtDG,GAAW,EACXC,GAAkB,EAiItB,OA5H2D,IAAtD1rB,EAAGolB,oBAAqBD,EAASnlB,EAAG2rB,cAErCF,GAAW,EAEX70D,QAAQgP,MAAO,qCAAsCo6B,EAAG4rB,WAAY,qBAAsB5rB,EAAGolB,oBAAqBD,EAASnlB,EAAG6rB,iBAAmB,uBAAwBT,EAAYG,EAAWC,IAEzK,KAAfJ,EAERx0D,QAAQC,KAAM,6CAA8Cu0D,GAEtC,KAAdG,GAAoC,KAAhBC,IAE5BE,GAAkB,GAIjBA,IAED59D,KAAKg+D,aAEDL,SAAUA,EACV5/D,SAAUA,EAEVu/D,WAAYA,EAEZvtB,cAEIt4B,IAAKgmD,EACLQ,OAAQ1D,GAIZvqB,gBAEIv4B,IAAKimD,EACLO,OAAQzD,KAUpBtoB,EAAGgsB,aAAcpB,GACjB5qB,EAAGgsB,aAAcnB,GAMjB/8D,KAAKm+D,YAAc,WAQf,YANwBx9D,IAAnBy8D,IAEDA,EAAiB,IAAIhG,GAAellB,EAAImlB,EAASl8D,IAI9CiiE,GAQXp9D,KAAKo+D,cAAgB,WAQjB,YAN0Bz9D,IAArB08D,IAEDA,EA/iBZ,SAAkCnrB,EAAImlB,GAMlC,IAJA,IAAIvkC,KAEAr4B,EAAIy3C,EAAGolB,oBAAqBD,EAASnlB,EAAGmsB,mBAElCrlE,EAAI,EAAGA,EAAIyB,EAAGzB,IAAO,CAE3B,IACIO,EADO24C,EAAGosB,gBAAiBjH,EAASr+D,GACxBO,KAIhBu5B,EAAYv5B,GAAS24C,EAAGqsB,kBAAmBlH,EAAS99D,GAIxD,OAAOu5B,EA8hBoB0rC,CAAyBtsB,EAAImlB,IAI7CgG,GAMXr9D,KAAKy+D,QAAU,WAEXvsB,EAAGwsB,cAAerH,GAClBr3D,KAAKq3D,aAAU12D,GAMnBjH,OAAOsR,iBAAkBhL,MAErBs/B,UACIzlC,IAAK,WAGD,OADAiP,QAAQC,KAAM,wDACP/I,KAAKm+D,gBAKpBrrC,YACIj5B,IAAK,WAGD,OADAiP,QAAQC,KAAM,4DACP/I,KAAKo+D,oBAUxBp+D,KAAKzG,KAAOq+D,EAAOr+D,KACnByG,KAAKq4C,GAAKsgB,KACV34D,KAAKg6D,KAAOA,EACZh6D,KAAK2+D,UAAY,EACjB3+D,KAAKq3D,QAAUA,EACfr3D,KAAK+vC,aAAe+sB,EACpB98D,KAAKgwC,eAAiB+sB,EAEf/8D,KAQX,SAAS4+D,GAAezjE,EAAU4tD,EAAYkR,GAE1C,IAAI4E,KAEAC,GACAC,kBAAmB,QACnBC,qBAAsB,eACtBC,mBAAoB,SACpBtV,kBAAmB,QACnBuV,oBAAqB,UACrBlhE,kBAAmB,QACnBmhE,iBAAkB,QAClBC,qBAAsB,WACtBC,qBAAsB,WACtBC,mBAAoB,SACpBC,kBAAmB,QACnBC,mBAAoB,SACpBC,eAAgB,SAChBC,eAAgB,SAChBC,eAAgB,UAGhBC,GACA,YAAa,yBAA0B,MAAO,cAAe,iBAAkB,SAAU,aAAc,iBACvG,WAAY,QAAS,cAAe,sBAAuB,UAAW,YAAa,uBAAwB,kBAAmB,cAC9H,eAAgB,eAAgB,cAChC,WAAY,UAAW,eAAgB,MAAO,SAAU,SACxD,cAAe,kBAAmB,yBAA0B,WAC5D,WAAY,mBAAoB,eAAgB,eAChD,kBAAmB,kBAAmB,qBACtC,eAAgB,iBAAkB,gBAAiB,gBAAiB,oBACpE,mBAAoB,gBAAiB,cAAe,0BACpD,YAAa,cAAe,YAAa,oBAAqB,sBAAuB,eAAgB,aAwCzG,SAASC,EAA2Bh0B,EAAKi0B,GAErC,IAAI5yC,EAwBJ,OAtBO2e,EAIKA,EAAIrc,UAEZtC,EAAW2e,EAAI3e,SAEP2e,EAAIlb,sBAEZ7nB,QAAQC,KAAM,6HACdmkB,EAAW2e,EAAI1d,QAAQjB,UATvBA,EAAWrY,GAcVqY,IAAarY,IAAkBirD,IAEhC5yC,EAAWnY,IAIRmY,EAIXltB,KAAK+/D,cAAgB,SAAWhiE,EAAUqwC,EAAQ4xB,EAAS3jE,EAAK4jE,EAAaC,EAAmBxlE,GAE5F,IAAIylE,EAAWrB,EAAW/gE,EAASiI,MAK/Bw1D,EAAW9gE,EAAO0lE,cAzE1B,SAAwB1lE,GAEpB,IACI2lE,EADW3lE,EAAO4lE,SACDD,MAErB,GAAKpG,EAAasG,oBAEd,OAAO,KAWP,IAAIC,EAAkBvG,EAAawG,kBAC/BC,EAAkBpjE,KAAK8O,OAASo0D,EAAkB,IAAO,GAEzDhF,EAAWl+D,KAAKmH,IAAKi8D,EAAiBL,EAAMtgE,QAEhD,OAAKy7D,EAAW6E,EAAMtgE,QAElB+I,QAAQC,KAAM,qCAAuCs3D,EAAMtgE,OAAS,6BAA+By7D,EAAW,KACvG,GAIJA,EA2C2BmF,CAAejmE,GAAW,EAC5DmlD,EAAYoa,EAAapa,UAED,OAAvB9hD,EAAS8hD,YAEVA,EAAYoa,EAAa2G,gBAAiB7iE,EAAS8hD,cAEhC9hD,EAAS8hD,WAExB/2C,QAAQC,KAAM,oCAAqChL,EAAS8hD,UAAW,uBAAwBA,EAAW,YAMlH,IAAIghB,EAAsB1lE,EAAS2lE,kBAiFnC,OA7EIX,SAAUA,EAEVtgB,UAAWA,EACX0b,uBAAwBtB,EAAa8G,eACrC5E,eAAgB0D,EAA+BgB,EAA+BA,EAAoB1yC,QAA3B,KAAoChzB,EAAS6lE,aACpHn1B,MAAQ9tC,EAAS8tC,IACjBuwB,YAAayD,EAA2B9hE,EAAS8tC,IAAK1wC,EAAS8lE,YAC/DvwB,SAAW3yC,EAAS2yC,OACpB2rB,eAAgBwD,EAA2B9hE,EAAS2yC,OAAQv1C,EAAS8lE,YACrE90B,SAAWpuC,EAASouC,OACpB+0B,WAAYnjE,EAASouC,QAAUpuC,EAASouC,OAAOxf,QAC/C2vC,eAAgBuD,EAA2B9hE,EAASouC,OAAQhxC,EAAS8lE,YACrEpG,eAAmB98D,EAASouC,SAAgBpuC,EAASouC,OAAOxf,UAAY1b,IAA+BlT,EAASouC,OAAOxf,UAAYzb,IACnI07B,WAAa7uC,EAAS6uC,SACtBH,QAAU1uC,EAAS0uC,MACnBM,cAAgBhvC,EAASgvC,YACzBwvB,oBAAqBsD,EAA2B9hE,EAASgvC,YAAa5xC,EAAS8lE,YAC/Eh0B,UAAYlvC,EAASkvC,QACrBG,YAAcrvC,EAASqvC,UACvB0tB,qBAAsB/8D,EAAS2sD,gBAAkBn1C,GACjDg4B,kBAAoBxvC,EAASwvC,gBAC7BI,eAAiB5vC,EAAS4vC,aAC1BE,eAAiB9vC,EAAS8vC,aAC1B5B,cAAgBluC,EAASkuC,YACzBF,WAAahuC,EAASguC,SAEtBgC,cAAgBhwC,EAASgwC,YAEzB6b,QAAS7rD,EAAS6rD,QAElBlV,aAAc32C,EAAS22C,aAEvBr4C,MAAQA,EACRo/D,OAAQ19D,EAAS1B,IACjBq/D,OAAUr/D,GAAOA,EAAI8kE,UAErBjjE,YAAaH,EAASG,YAEtBysD,gBAAiB5sD,EAAS4sD,gBAC1BoQ,uBAAwBd,EAAac,uBAErCjS,SAAU/qD,EAAS+qD,UAAY0S,EAAW,EAC1CA,SAAUA,EACVG,iBAAkB1B,EAAasG,oBAE/B7lB,aAAc38C,EAAS28C,aACvBC,aAAc58C,EAAS48C,aACvBymB,gBAAiBjmE,EAASimE,gBAC1BC,gBAAiBlmE,EAASkmE,gBAE1BnI,aAAc9qB,EAAOkzB,YAAYvhE,OACjCs5D,eAAgBjrB,EAAO/b,MAAMtyB,OAC7Bo5D,cAAe/qB,EAAOmzB,KAAKxhE,OAC3Bq5D,kBAAmBhrB,EAAOozB,SAASzhE,OACnCu5D,cAAelrB,EAAOqzB,KAAK1hE,OAE3By5D,kBAAmByG,EACnBxG,oBAAqByG,EAErB9X,UAAWrqD,EAASqqD,UAEpB0T,iBAAkB3gE,EAASumE,UAAU9gE,SAAWlG,EAAOg8C,eAAiBspB,EAAQjgE,OAAS,EACzFo6D,cAAeh/D,EAASumE,UAAU17D,KAElCg2D,YAAa7gE,EAAS6gE,YACtBD,wBAAyB5gE,EAAS4gE,wBAElCzT,mBAAoBvqD,EAASuqD,mBAE7BD,UAAWtqD,EAASsqD,UACpBuT,YAAa79D,EAASkpD,OAAS/4C,EAC/B2tD,UAAW99D,EAASkpD,OAASh5C,EAE7BwuD,kBAA0C97D,IAA1B5C,EAAS0+D,cAA+B1+D,EAAS0+D,eAQzEz8D,KAAK2hE,eAAiB,SAAW5jE,EAAU67C,GAEvC,IAAIpsC,KAaJ,GAXKosC,EAAWumB,SAEZ3yD,EAAMJ,KAAMwsC,EAAWumB,WAIvB3yD,EAAMJ,KAAMrP,EAASiyC,gBACrBxiC,EAAMJ,KAAMrP,EAASgyC,oBAICpvC,IAArB5C,EAAS0qD,QAEV,IAAM,IAAIlvD,KAAQwE,EAAS0qD,QAEvBj7C,EAAMJ,KAAM7T,GACZiU,EAAMJ,KAAMrP,EAAS0qD,QAASlvD,IAMtC,IAAM,IAAIP,EAAI,EAAGA,EAAI4mE,EAAe7/D,OAAQ/G,IAExCwU,EAAMJ,KAAMwsC,EAAYgmB,EAAgB5mE,KAQ5C,OAJAwU,EAAMJ,KAAMrP,EAASssD,gBAAgB99C,YAErCiB,EAAMJ,KAAMjS,EAAS6lE,aAEdxzD,EAAM8qD,QAIjBt4D,KAAK4hE,eAAiB,SAAW7jE,EAAU65D,EAAQhe,EAAYogB,GAK3D,IAHA,IAAI3C,EAGMv8D,EAAI,EAAG+mE,EAAKhD,EAAS9+D,OAAQjF,EAAI+mE,EAAI/mE,IAAO,CAElD,IAAIgnE,EAAcjD,EAAU/jE,GAE5B,GAAKgnE,EAAY9H,OAASA,EAAO,IAE7B3C,EAAUyK,GACCnD,UAEX,OAaR,YAPiBh+D,IAAZ02D,IAEDA,EAAU,IAAI0C,GAAc5+D,EAAU4tD,EAAYiR,EAAMj8D,EAAU65D,EAAQhe,EAAYqgB,GACtF4E,EAASzxD,KAAMiqD,IAIZA,GAIXr3D,KAAK+hE,eAAiB,SAAW1K,GAE7B,GAA8B,KAAtBA,EAAQsH,UAAkB,CAG9B,IAAI3lE,EAAI6lE,EAAS1xD,QAASkqD,GAC1BwH,EAAU7lE,GAAM6lE,EAAUA,EAAS9+D,OAAS,GAC5C8+D,EAASmD,MAGT3K,EAAQoH,YAOhBz+D,KAAK6+D,SAAWA,EA0DpB,SAASoD,GAAmBhpD,EAAGC,GAE3B,OAAKD,EAAE29B,cAAgB19B,EAAE09B,YAEd39B,EAAE29B,YAAc19B,EAAE09B,YAEjB39B,EAAEo+C,SAAWn+C,EAAEm+C,SAAWp+C,EAAEo+C,UAAYn+C,EAAEm+C,QAE3Cp+C,EAAEo+C,QAAQhf,GAAKn/B,EAAEm+C,QAAQhf,GAExBp/B,EAAElb,SAASs6C,KAAOn/B,EAAEnb,SAASs6C,GAE9Bp/B,EAAElb,SAASs6C,GAAKn/B,EAAEnb,SAASs6C,GAE1Bp/B,EAAE3Z,IAAM4Z,EAAE5Z,EAEX2Z,EAAE3Z,EAAI4Z,EAAE5Z,EAIR2Z,EAAEo/B,GAAKn/B,EAAEm/B,GAMxB,SAAS6pB,GAA0BjpD,EAAGC,GAElC,OAAKD,EAAE29B,cAAgB19B,EAAE09B,YAEd39B,EAAE29B,YAAc19B,EAAE09B,YAEtB39B,EAAE3Z,IAAM4Z,EAAE5Z,EAEN4Z,EAAE5Z,EAAI2Z,EAAE3Z,EAIR2Z,EAAEo/B,GAAKn/B,EAAEm/B,GAkFxB,SAAS8pB,KAEL,IAAIC,KA0BJ,OACIvoE,IAzBJ,SAAcqB,EAAOF,GAEjB,IAAIomD,EAAOlmD,EAAMm9C,GAAK,IAAMr9C,EAAOq9C,GAC/BgqB,EAAOD,EAAOhhB,GAWlB,YATczgD,IAAT0hE,IAIDA,EAAO,IAxFnB,WAEI,IAAIC,KACAC,EAAmB,EAEnBC,KACAtb,KAyDJ,OACIsb,OAAQA,EACRtb,YAAaA,EAEb5mD,KA3DJ,WAEIiiE,EAAmB,EAEnBC,EAAOziE,OAAS,EAChBmnD,EAAYnnD,OAAS,GAuDrBqN,KAnDJ,SAAe1S,EAAQg4B,EAAU30B,EAAUuB,EAAGg+C,GAE1C,IAAImlB,EAAaH,EAAaC,QAEV5hE,IAAf8hE,GAEDA,GACIpqB,GAAI39C,EAAO29C,GACX39C,OAAQA,EACRg4B,SAAUA,EACV30B,SAAUA,EACVs5D,QAASt5D,EAASs5D,QAClBzgB,YAAal8C,EAAOk8C,YACpBt3C,EAAGA,EACHg+C,MAAOA,GAGXglB,EAAaC,GAAqBE,IAIlCA,EAAWpqB,GAAK39C,EAAO29C,GACvBoqB,EAAW/nE,OAASA,EACpB+nE,EAAW/vC,SAAWA,EACtB+vC,EAAW1kE,SAAWA,EACtB0kE,EAAWpL,QAAUt5D,EAASs5D,QAC9BoL,EAAW7rB,YAAcl8C,EAAOk8C,YAChC6rB,EAAWnjE,EAAIA,EACfmjE,EAAWnlB,MAAQA,KAKI,IAAzBv/C,EAASmpD,YAAuBA,EAAcsb,GAASp1D,KAAMq1D,GAE/DF,KAkBApiB,KAdJ,WAESqiB,EAAOziE,OAAS,GAAIyiE,EAAOriB,KAAM8hB,IACjC/a,EAAYnnD,OAAS,GAAImnD,EAAY/G,KAAM+hB,OA8B5CE,EAAOhhB,GAASihB,GAIbA,GAYPh9D,QARJ,WAEI+8D,OA4GR,IAy7NI1vC,GAz7NA3R,GAAQ,EAEZ,SAAS2hD,KAEL,IAAI1oB,EAAQ,IAjGhB,WAEI,IAAI5L,KAEJ,OAEIv0C,IAAK,SAAWsG,GAEZ,QAA4BQ,IAAvBytC,EAAQjuC,EAAMk4C,IAEf,OAAOjK,EAAQjuC,EAAMk4C,IAIzB,IAAI/Y,EAEJ,OAASn/B,EAAM6F,MAEX,IAAK,mBACDs5B,GACI/J,UAAW,IAAIz0B,GACf7C,MAAO,IAAI7B,GAEXoyC,QAAQ,EACRC,WAAY,EACZC,aAAc,EACdC,cAAe,IAAIjoC,IAEvB,MAEJ,IAAK,YACD44B,GACIziC,SAAU,IAAIiE,GACdy0B,UAAW,IAAIz0B,GACf7C,MAAO,IAAI7B,GACXqL,SAAU,EACVsnC,QAAS,EACTC,YAAa,EACbC,MAAO,EAEPT,QAAQ,EACRC,WAAY,EACZC,aAAc,EACdC,cAAe,IAAIjoC,IAEvB,MAEJ,IAAK,aACD44B,GACIziC,SAAU,IAAIiE,GACd7C,MAAO,IAAI7B,GACXqL,SAAU,EACVwnC,MAAO,EAEPT,QAAQ,EACRC,WAAY,EACZC,aAAc,EACdC,cAAe,IAAIjoC,GACnB2oC,iBAAkB,EAClBC,gBAAiB,KAErB,MAEJ,IAAK,kBACDhQ,GACI/J,UAAW,IAAIz0B,GACf4uC,SAAU,IAAItzC,GACduzC,YAAa,IAAIvzC,IAErB,MAEJ,IAAK,gBACDkjC,GACIrhC,MAAO,IAAI7B,GACXS,SAAU,IAAIiE,GACd6hE,UAAW,IAAI7hE,GACf8hE,WAAY,IAAI9hE,IAS5B,OAFAstC,EAAQjuC,EAAMk4C,IAAO/Y,EAEdA,KAcX/7B,GAEA80C,GAAIt3B,KAEJqgC,MACIyhB,SAAW,EACXC,mBAAqB,EACrBC,aAAe,EACfC,YAAc,EACdC,gBAAkB,EAClBC,YAAc,EACdC,eAAiB,GAGrBC,SAAW,EAAG,EAAG,GACjB9B,eACA1yB,wBACAC,2BACA0yB,QACAryB,iBACAC,oBACAqyB,YACAnvC,SACAkd,kBACAC,qBACAiyB,SAIA4B,EAAU,IAAIviE,GACduqB,EAAU,IAAIzT,GACd0rD,EAAW,IAAI1rD,GAqMnB,OACI2rD,MApMJ,SAAgBn1B,EAAQ4xB,EAAShlE,GAY7B,IAVA,IAAIlB,EAAI,EAAGqxB,EAAI,EAAGjS,EAAI,EAElB4pD,EAAoB,EACpBC,EAAc,EACdC,EAAa,EACbC,EAAiB,EACjBC,EAAa,EAEbM,EAAaxoE,EAAO0uB,mBAEd1wB,EAAI,EAAGC,EAAIm1C,EAAOruC,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAImH,EAAQiuC,EAAQp1C,GAEhBiF,EAAQkC,EAAMlC,MACdwlE,EAAYtjE,EAAMsjE,UAClBh8D,EAAWtH,EAAMsH,SAEjBi6D,EAAcvhE,EAAMquC,QAAUruC,EAAMquC,OAAO3C,IAAQ1rC,EAAMquC,OAAO3C,IAAI1d,QAAU,KAElF,GAAKhuB,EAAMujE,eAEP5pE,GAAKmE,EAAMnE,EAAI2pE,EACft4C,GAAKltB,EAAMktB,EAAIs4C,EACfvqD,GAAKjb,EAAMib,EAAIuqD,OAEZ,GAAKtjE,EAAMwjE,mBAAqB,CAYnC,IAVIrkC,EAAW0a,EAAMngD,IAAKsG,IAEjBlC,MAAMkF,KAAMhD,EAAMlC,OAAQ8G,eAAgB5E,EAAMsjE,WACzDnkC,EAAS/J,UAAUxK,sBAAuB5qB,EAAM0pB,aAChDw5C,EAAQt4C,sBAAuB5qB,EAAMU,OAAOgpB,aAC5CyV,EAAS/J,UAAUpxB,IAAKk/D,GACxB/jC,EAAS/J,UAAUzL,mBAAoB05C,GAEvClkC,EAASkP,OAASruC,EAAMs2C,WAEnBt2C,EAAMs2C,WAAa,CAEpB,IAAIjI,EAASruC,EAAMquC,OAEnBlP,EAASmP,WAAaD,EAAOo1B,KAC7BtkC,EAASoP,aAAeF,EAAO7pC,OAC/B26B,EAASqP,cAAgBH,EAAOq1B,QAIpCtgE,EAAMqrC,qBAAsBk0B,GAAsBpB,EAClDn+D,EAAMsrC,wBAAyBi0B,GAAsB3iE,EAAMquC,OAAOjmC,OAClEhF,EAAM+9D,YAAawB,GAAsBxjC,EAEzCwjC,SAEG,GAAK3iE,EAAM2jE,aAEVxkC,EAAW0a,EAAMngD,IAAKsG,IAEjBtD,SAASkuB,sBAAuB5qB,EAAM0pB,aAC/CyV,EAASziC,SAASokB,aAAcuiD,GAEhClkC,EAASrhC,MAAMkF,KAAMlF,GAAQ8G,eAAgB0+D,GAC7CnkC,EAAS73B,SAAWA,EAEpB63B,EAAS/J,UAAUxK,sBAAuB5qB,EAAM0pB,aAChDw5C,EAAQt4C,sBAAuB5qB,EAAMU,OAAOgpB,aAC5CyV,EAAS/J,UAAUpxB,IAAKk/D,GACxB/jC,EAAS/J,UAAUzL,mBAAoB05C,GAEvClkC,EAASyP,QAAUzxC,KAAK+d,IAAKlb,EAAMkH,OACnCi4B,EAAS0P,YAAc1xC,KAAK+d,IAAKlb,EAAMkH,OAAU,EAAIlH,EAAM4jE,WAC3DzkC,EAAS2P,MAAQ9uC,EAAM8uC,MAEvB3P,EAASkP,OAASruC,EAAMs2C,WAEnBt2C,EAAMs2C,aAEHjI,EAASruC,EAAMquC,OAEnBlP,EAASmP,WAAaD,EAAOo1B,KAC7BtkC,EAASoP,aAAeF,EAAO7pC,OAC/B26B,EAASqP,cAAgBH,EAAOq1B,SAIpCtgE,EAAM2rC,cAAe8zB,GAAetB,EACpCn+D,EAAM4rC,iBAAkB6zB,GAAe7iE,EAAMquC,OAAOjmC,OACpDhF,EAAMg+D,KAAMyB,GAAe1jC,EAE3B0jC,SAEG,GAAK7iE,EAAM6jE,iBAEV1kC,EAAW0a,EAAMngD,IAAKsG,IAMjBlC,MAAMkF,KAAMlF,GAAQ8G,eAAgB0+D,GAE7CnkC,EAASziC,SAASkuB,sBAAuB5qB,EAAM0pB,aAC/CyV,EAASziC,SAASokB,aAAcuiD,GAGhCF,EAAS7mD,WACT4O,EAAQloB,KAAMhD,EAAM0pB,aACpBwB,EAAQxM,YAAa2kD,GACrBF,EAASrmD,gBAAiBoO,GAE1BiU,EAASqjC,UAAU7lE,IAAmB,GAAdqD,EAAMkY,MAAa,EAAK,GAChDinB,EAASsjC,WAAW9lE,IAAK,EAAoB,GAAfqD,EAAMmY,OAAc,GAElDgnB,EAASqjC,UAAU1hD,aAAcqiD,GACjChkC,EAASsjC,WAAW3hD,aAAcqiD,GAKlC//D,EAAMi+D,SAAUyB,GAAmB3jC,EAEnC2jC,SAEG,GAAK9iE,EAAM8jE,cAEV3kC,EAAW0a,EAAMngD,IAAKsG,IAEjBtD,SAASkuB,sBAAuB5qB,EAAM0pB,aAC/CyV,EAASziC,SAASokB,aAAcuiD,GAEhClkC,EAASrhC,MAAMkF,KAAMhD,EAAMlC,OAAQ8G,eAAgB5E,EAAMsjE,WACzDnkC,EAAS73B,SAAWtH,EAAMsH,SAC1B63B,EAAS2P,MAAQ9uC,EAAM8uC,MAEvB3P,EAASkP,OAASruC,EAAMs2C,WAEnBt2C,EAAMs2C,aAEHjI,EAASruC,EAAMquC,OAEnBlP,EAASmP,WAAaD,EAAOo1B,KAC7BtkC,EAASoP,aAAeF,EAAO7pC,OAC/B26B,EAASqP,cAAgBH,EAAOq1B,QAChCvkC,EAAS+P,iBAAmBb,EAAOxzC,OAAOopB,KAC1Ckb,EAASgQ,gBAAkBd,EAAOxzC,OAAOqpB,KAI7C9gB,EAAMgsC,eAAgBwzB,GAAgBrB,EACtCn+D,EAAMisC,kBAAmBuzB,GAAgB5iE,EAAMquC,OAAOjmC,OACtDhF,EAAM8uB,MAAO0wC,GAAgBzjC,EAE7ByjC,SAEG,GAAK5iE,EAAM+jE,kBAAoB,CAElC,IAAI5kC,GAAAA,EAAW0a,EAAMngD,IAAKsG,IAEjBo1B,UAAUxK,sBAAuB5qB,EAAM0pB,aAChDyV,EAAS/J,UAAUzL,mBAAoB05C,GACvClkC,EAAS/J,UAAUnb,YAEnBklB,EAASoQ,SAASvsC,KAAMhD,EAAMlC,OAAQ8G,eAAgB0+D,GACtDnkC,EAASqQ,YAAYxsC,KAAMhD,EAAMwvC,aAAc5qC,eAAgB0+D,GAE/DlgE,EAAMk+D,KAAMyB,GAAe5jC,EAE3B4jC,KAMR3/D,EAAM6/D,QAAS,GAAMtpE,EACrByJ,EAAM6/D,QAAS,GAAMj4C,EACrB5nB,EAAM6/D,QAAS,GAAMlqD,EAErB3V,EAAM+9D,YAAYvhE,OAAS+iE,EAC3Bv/D,EAAMg+D,KAAKxhE,OAASijE,EACpBz/D,EAAMi+D,SAASzhE,OAASkjE,EACxB1/D,EAAM8uB,MAAMtyB,OAASgjE,EACrBx/D,EAAMk+D,KAAK1hE,OAASmjE,EAEpB3/D,EAAM69C,KAAKyhB,QAAUt/D,EAAM80C,GAC3B90C,EAAM69C,KAAK0hB,kBAAoBA,EAC/Bv/D,EAAM69C,KAAK2hB,YAAcA,EACzBx/D,EAAM69C,KAAK4hB,WAAaA,EACxBz/D,EAAM69C,KAAK6hB,eAAiBA,EAC5B1/D,EAAM69C,KAAK8hB,WAAaA,EACxB3/D,EAAM69C,KAAK+hB,cAAgBnD,EAAQjgE,QAMnCwD,MAAOA,GASf,SAAS4gE,KAEL,IAAI/1B,EAAS,IAAIs0B,GAEb0B,KACAC,KAkCJ,OACI/jE,KAjCJ,WAEI8jE,EAAYrkE,OAAS,EACrBskE,EAAatkE,OAAS,GA+BtBwD,OARA6gE,YAAaA,EACbC,aAAcA,EAEdj2B,OAAQA,GAMRk2B,YAhBJ,SAAsBtpE,GAElBozC,EAAOm1B,MAAOa,EAAaC,EAAcrpE,IAgBzCupE,UA9BJ,SAAoBpkE,GAEhBikE,EAAYh3D,KAAMjN,IA6BlBqkE,WAzBJ,SAAqBC,GAEjBJ,EAAaj3D,KAAMq3D,KAiG3B,SAAS1F,GAAmBnlB,GAExBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,oBAEZhG,KAAKy8D,aAAernD,GAEpBpV,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EAEpB16C,KAAK6rC,IAAM,KAEX7rC,KAAK+rC,SAAW,KAEhB/rC,KAAKutC,gBAAkB,KACvBvtC,KAAKwtC,kBAAoB,EACzBxtC,KAAKytC,iBAAmB,EAExBztC,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAE1B5oD,KAAK3D,KAAM,EACX2D,KAAKouC,QAAS,EAEdpuC,KAAKupD,UAAW3P,GAwDpB,SAASolB,GAAsBplB,GAE3BmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,uBAEZhG,KAAKqxC,kBAAoB,IAAIvwC,GAC7Bd,KAAKsxC,aAAe,EACpBtxC,KAAKuxC,YAAc,IAEnBvxC,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EAEpB16C,KAAK6rC,IAAM,KAEX7rC,KAAK+rC,SAAW,KAEhB/rC,KAAKutC,gBAAkB,KACvBvtC,KAAKwtC,kBAAoB,EACzBxtC,KAAKytC,iBAAmB,EAExBztC,KAAK3D,KAAM,EACX2D,KAAKouC,QAAS,EAEdpuC,KAAKupD,UAAW3P,GAqCpB,SAAS8qB,GAAgBC,EAAWC,EAAUC,GAwC1C,IAtCA,IAAIC,EAAW,IAAI91C,GACf+1C,EAAoB,IAAIntD,GAExBotD,EAAiB,IAAIt+D,GACrBu+D,EAAoB,IAAIv+D,GAASm+D,EAAgBA,GAEjDK,EAAc,IAAIpkE,GAClBqkE,EAAsB,IAAIrkE,GAE1BskE,EAAgB,EAChBC,EAAgB,EAEhBC,EAAgE,GAAlCF,EAAgBC,GAE9CE,EAAkB,IAAIr1C,MAAOo1C,GAC7BE,EAAqB,IAAIt1C,MAAOo1C,GAEhCG,KAEA1d,GAAe2d,EAAGz3D,EAAU03D,EAAG33D,EAAW43D,EAAG13D,GAE7C23D,GACA,IAAI/kE,GAAS,EAAG,EAAG,GAAK,IAAIA,IAAW,EAAG,EAAG,GAAK,IAAIA,GAAS,EAAG,EAAG,GACrE,IAAIA,GAAS,EAAG,GAAK,GAAK,IAAIA,GAAS,EAAG,EAAG,GAAK,IAAIA,GAAS,GAAK,EAAG,IAGvEglE,GACA,IAAIhlE,GAAS,EAAG,EAAG,GAAK,IAAIA,GAAS,EAAG,EAAG,GAAK,IAAIA,GAAS,EAAG,EAAG,GACnE,IAAIA,GAAS,EAAG,EAAG,GAAK,IAAIA,GAAS,EAAG,EAAG,GAAK,IAAIA,GAAS,EAAG,GAAK,IAGrEilE,GACA,IAAIl4C,GAAW,IAAIA,GAAW,IAAIA,GAClC,IAAIA,GAAW,IAAIA,GAAW,IAAIA,IAK5B70B,EAAI,EAAGA,IAAMssE,IAA8BtsE,EAAI,CAErD,IAAIgtE,EAAwC,IAAxBhtE,EAAIosE,GACpBa,EAAwC,IAAxBjtE,EAAIqsE,GAEpBa,EAAgB,IAAInH,IAEpBtC,aAAcpnD,GAEdqlC,aAAcsrB,EACdld,SAAUmd,IAIdV,EAAiBvsE,GAAMktE,EAIvB,IAAIC,EAAmB,IAAInH,IAEvBtkB,aAAcsrB,EACdld,SAAUmd,IAIdT,EAAoBxsE,GAAMmtE,EAM9B,IAAIjjE,EAAQlD,KAgLZ,SAASomE,EAAkB1rE,EAAQqD,EAAUkmE,EAAcoC,EAAoBh3B,EAAkBC,GAE7F,IAAI5c,EAAWh4B,EAAOg4B,SAElBw8B,EAAS,KAEToX,EAAmBf,EACnBgB,EAAiB7rE,EAAO8rE,oBAS5B,GAPKvC,IAEDqC,EAAmBd,EACnBe,EAAiB7rE,EAAO+rE,wBAIrBF,EAmCHrX,EAASqX,MAnCW,CAEpB,IAAIP,GAAc,EAEbjoE,EAAS28C,eAELhoB,GAAYA,EAASG,iBAEtBmzC,EAActzC,EAAS6wB,iBAAmB7wB,EAAS6wB,gBAAgB1mD,UAAY61B,EAAS6wB,gBAAgB1mD,SAASkD,OAAS,EAElH2yB,GAAYA,EAASC,aAE7BqzC,EAActzC,EAASgoB,cAAgBhoB,EAASgoB,aAAa36C,OAAS,IAMzErF,EAAO0lE,gBAAuC,IAAtBriE,EAAS+qD,UAElChgD,QAAQC,KAAM,+EAAgFrO,GAIlG,IAAIurE,EAAcvrE,EAAO0lE,eAAiBriE,EAAS+qD,SAE/C4d,EAAe,EAEdV,IAAcU,GAAgBtB,GAC9Ba,IAAcS,GAAgBrB,GAEnCnW,EAASoX,EAAkBI,GAQ/B,GAAK/B,EAAUgC,uBACc,IAAzB5oE,EAAS+pD,aAC0B,IAAnC/pD,EAAS6pD,eAAe7nD,OAAe,CAKvC,IAAI6mE,EAAO1X,EAAOrvD,KAAMgnE,EAAO9oE,EAAS8B,KAEpCinE,EAAsBrB,EAAgBmB,QAEbjmE,IAAxBmmE,IAEDA,KACArB,EAAgBmB,GAASE,GAI7B,IAAIC,EAAiBD,EAAqBD,QAElBlmE,IAAnBomE,IAEDA,EAAiB7X,EAAO1sD,QACxBskE,EAAqBD,GAASE,GAIlC7X,EAAS6X,EAwBb,OApBA7X,EAAO1Y,QAAUz4C,EAASy4C,QAC1B0Y,EAAOvG,UAAY5qD,EAAS4qD,UAE5BuG,EAAOjI,KAAgC,MAAvBlpD,EAASgqD,WAAuBhqD,EAASgqD,WAAaA,EAAYhqD,EAASkpD,MAE3FiI,EAAOpH,YAAc/pD,EAAS+pD,YAC9BoH,EAAOtH,eAAiB7pD,EAAS6pD,eACjCsH,EAAOrH,iBAAmB9pD,EAAS8pD,iBAEnCqH,EAAOtG,mBAAqB7qD,EAAS6qD,mBACrCsG,EAAOxG,UAAY3qD,EAAS2qD,UAEvBub,GAAgB/U,EAAO8X,yBAExB9X,EAAO7d,kBAAkBluC,KAAMkjE,GAC/BnX,EAAO5d,aAAejC,EACtB6f,EAAO3d,YAAcjC,GAIlB4f,EAIX,SAAS+X,EAAcvsE,EAAQM,EAAQksE,EAAcjD,GAEjD,IAAwB,IAAnBvpE,EAAO87C,QAAZ,CAIA,GAFc97C,EAAOq7C,OAAOD,KAAM96C,EAAO+6C,UAEvBr7C,EAAO++C,QAAU/+C,EAAOg/C,QAAUh/C,EAAOi/C,WAElDj/C,EAAO+7C,cAAkB/7C,EAAOi8C,eAAiBmuB,EAASxtC,iBAAkB58B,IAAa,CAE1FA,EAAO27C,gBAAgBz3B,iBAAkBsoD,EAAax9C,mBAAoBhvB,EAAOmvB,aAEjF,IAAI6I,EAAWkyC,EAASnkE,OAAQ/F,GAC5BqD,EAAWrD,EAAOqD,SAEtB,GAAKmyB,MAAMC,QAASpyB,GAIhB,IAFA,IAAIy+C,EAAS9pB,EAAS8pB,OAEZ6E,EAAI,EAAGC,EAAK9E,EAAOz8C,OAAQshD,EAAIC,EAAID,IAAO,CAEhD,IAAI/D,EAAQd,EAAQ6E,GAChB8P,EAAgBpzD,EAAUu/C,EAAM9I,eAEpC,GAAK2c,GAAiBA,EAAc3a,QAAU,CAE1C,IAAI0vB,EAAgBE,EAAkB1rE,EAAQy2D,EAAe8S,EAAckB,EAAqB+B,EAAa9iD,KAAM8iD,EAAa7iD,KAChIsgD,EAAUwC,mBAAoBD,EAAc,KAAMx0C,EAAUwzC,EAAexrE,EAAQ4iD,SAMxF,GAAKv/C,EAASy4C,QAAU,CAEvB0vB,EAAgBE,EAAkB1rE,EAAQqD,EAAUkmE,EAAckB,EAAqB+B,EAAa9iD,KAAM8iD,EAAa7iD,KAC3HsgD,EAAUwC,mBAAoBD,EAAc,KAAMx0C,EAAUwzC,EAAexrE,EAAQ,OAU/F,IAFA,IAAIy7C,EAAWz7C,EAAOy7C,SAEZn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzCiuE,EAAc9wB,EAAUn9C,GAAKgC,EAAQksE,EAAcjD,IA5U3DjkE,KAAKY,SAAU,EAEfZ,KAAKonE,YAAa,EAClBpnE,KAAK4lD,aAAc,EAEnB5lD,KAAKgG,KAAO8H,EAEZ9N,KAAKU,OAAS,SAAW0tC,EAAQlzC,EAAOF,GAEpC,IAAuB,IAAlBkI,EAAMtC,WACe,IAArBsC,EAAMkkE,aAA8C,IAAtBlkE,EAAM0iD,cAElB,IAAlBxX,EAAOruC,OAAZ,CAGA,IAWIsnE,EAXAC,EAAM3C,EAAUx4C,QAChBo7C,EAAS5C,EAAUphE,MAGvBgkE,EAAO1xB,QAASyxB,EAAIE,OACpBD,EAAOp1B,QAAQl0C,MAAMwpE,SAAU,EAAG,EAAG,EAAG,GACxCF,EAAOp1B,QAAQrB,MAAM42B,SAAS,GAC9BH,EAAOI,gBAAgB,GAMvB,IAAM,IAAI3uE,EAAI,EAAG04B,EAAK0c,EAAOruC,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEhD,IAAImH,EAAQiuC,EAAQp1C,GAChBw1C,EAASruC,EAAMquC,OACfy1B,EAAe9jE,GAASA,EAAM8jE,aAElC,QAAgBtjE,IAAX6tC,EAAL,CAOA,IAAI04B,EAAe14B,EAAOxzC,OAK1B,GAHAgqE,EAAe7hE,KAAMqrC,EAAOq1B,SAC5BmB,EAAevgE,IAAKwgE,GAEfhB,EAAe,CAEhB,IAAI2D,EAAU5C,EAAe5lE,EACzByoE,EAAW7C,EAAe3lE,EAgB9B0mE,EAAiB,GAAIjpE,IAAe,EAAV8qE,EAAaC,EAAUD,EAASC,GAE1D9B,EAAiB,GAAIjpE,IAAK,EAAG+qE,EAAUD,EAASC,GAEhD9B,EAAiB,GAAIjpE,IAAe,EAAV8qE,EAAaC,EAAUD,EAASC,GAE1D9B,EAAiB,GAAIjpE,IAAK8qE,EAASC,EAAUD,EAASC,GAEtD9B,EAAiB,GAAIjpE,IAAe,EAAV8qE,EAAa,EAAGA,EAASC,GAEnD9B,EAAiB,GAAIjpE,IAAK8qE,EAAS,EAAGA,EAASC,GAE/C7C,EAAe5lE,GAAK,EACpB4lE,EAAe3lE,GAAK,EAIxB,GAAoB,OAAfmvC,EAAO3C,IAAe,CAEvB,IAAIi8B,GAAS/6C,UAAWzb,GAAewb,UAAWxb,GAAe0b,OAAQta,IAEzE87B,EAAO3C,IAAM,IAAI/d,GAAmBk3C,EAAe5lE,EAAG4lE,EAAe3lE,EAAGyoE,GACxEt5B,EAAO3C,IAAI1d,QAAQ50B,KAAO4G,EAAM5G,KAAO,aAEvC2tE,EAAazrE,yBAIZ+yC,EAAOu5B,mBAERv5B,EAAO/tC,OAAQN,GAInB,IAAIuhE,EAAYlzB,EAAO3C,IACnBm8B,EAAex5B,EAAOjmC,OAE1B48D,EAAoBp6C,sBAAuB5qB,EAAM0pB,aACjDq9C,EAAarqE,SAASsG,KAAMgiE,GAEvBlB,GAEDoD,EAAY,EAKZW,EAAa5lD,iBAAmB+iD,EAAoB/lE,GAAK+lE,EAAoB9lE,GAAK8lE,EAAoB7lE,KAItG+nE,EAAY,EAEZnC,EAAYn6C,sBAAuB5qB,EAAMU,OAAOgpB,aAChDq9C,EAAapiE,OAAQogE,GACrBgC,EAAan0C,oBAIbi1C,EAAalrE,IACT,GAAK,EAAK,EAAK,GACf,EAAK,GAAK,EAAK,GACf,EAAK,EAAK,GAAK,GACf,EAAK,EAAK,EAAK,GAGnBkrE,EAAa3uD,SAAU6tD,EAAav9C,kBACpCq+C,EAAa3uD,SAAU6tD,EAAax9C,qBAIxCi7C,EAAUsD,gBAAiBvG,GAC3BiD,EAAUuD,QAKV,IAAM,IAAIxrB,EAAO,EAAGA,EAAO2qB,EAAW3qB,IAAU,CAE5C,GAAKunB,EAAe,CAEhBiB,EAAY/hE,KAAM+jE,EAAarqE,UAC/BqoE,EAAYzlE,IAAKomE,EAAgBnpB,IACjCwqB,EAAapjE,GAAGX,KAAM2iE,EAASppB,IAC/BwqB,EAAapiE,OAAQogE,GACrBgC,EAAan0C,oBAEb,IAAIo1C,EAAepC,EAAiBrpB,GACpC6qB,EAAOr5C,SAAUi6C,GAMrBpD,EAAkBnmD,iBAAkBsoD,EAAav9C,iBAAkBu9C,EAAax9C,oBAChFo7C,EAASzuC,cAAe0uC,GAIxBkC,EAAc/rE,EAAOF,EAAQksE,EAAcjD,SAhI3Cn7D,QAAQC,KAAM,wBAAyB5I,EAAO,kBAsItD+C,EAAM0iD,aAAc,IA2nC5B,SAASwiB,GAAed,EAAKve,EAAYxlD,EAAOgrC,EAAY0rB,EAAcoO,EAAO7Q,GAE7E,IACI8Q,EADAC,KAKJ,SAASC,EAAgBz8C,EAAO08C,GAE5B,GAAK18C,EAAM1T,MAAQowD,GAAW18C,EAAMzT,OAASmwD,EAAU,CAEnD,GAAK,SAAU18C,EAGX,YADAjjB,QAAQC,KAAM,yDAA2DgjB,EAAM1T,MAAQ,IAAM0T,EAAMzT,OAAS,MAQhH,IAAIpZ,EAAQupE,EAAUnrE,KAAKkH,IAAKunB,EAAM1T,MAAO0T,EAAMzT,QAE/C0T,EAASnwB,SAASqwB,gBAAiB,+BAAgC,UASvE,OARAF,EAAO3T,MAAQ/a,KAAK8O,MAAO2f,EAAM1T,MAAQnZ,GACzC8sB,EAAO1T,OAAShb,KAAK8O,MAAO2f,EAAMzT,OAASpZ,GAE7B8sB,EAAOI,WAAY,MACzBG,UAAWR,EAAO,EAAG,EAAGA,EAAM1T,MAAO0T,EAAMzT,OAAQ,EAAG,EAAG0T,EAAO3T,MAAO2T,EAAO1T,QAEtFxP,QAAQC,KAAM,0CAA4CgjB,EAAM1T,MAAQ,IAAM0T,EAAMzT,OAAS,iBAAmB0T,EAAO3T,MAAQ,IAAM2T,EAAO1T,QAErI0T,EAIX,OAAOD,EAIX,SAASzU,EAAcyU,GAEnB,OAAOvW,GAAM8B,aAAcyU,EAAM1T,QAAW7C,GAAM8B,aAAcyU,EAAMzT,QAmC1E,SAASowD,EAA6Bv6C,EAAS7W,GAE3C,OAAO6W,EAAQZ,iBAAmBjW,GAC9B6W,EAAQpB,YAAczb,IAAiB6c,EAAQpB,YAActb,GAIrE,SAASk3D,EAAgB9nE,EAAQstB,EAAS9V,EAAOC,GAE7CgvD,EAAIqB,eAAgB9nE,GAEI0tC,EAAW10C,IAAKs0B,GAGtBy6C,cAAgBtrE,KAAKma,IAAKna,KAAKkH,IAAK6T,EAAOC,IAAahb,KAAKurE,MAInF,SAASC,EAAmBC,EAAUC,GAElC,IAAO/O,EAAaU,SAAW,OAAOoO,EAEtC,GAAKA,IAAazB,EAAI2B,IAAM,CAExB,GAAKD,IAAW1B,EAAIp0B,MAAQ,OAAOo0B,EAAI4B,KACvC,GAAKF,IAAW1B,EAAI6B,WAAa,OAAO7B,EAAI8B,KAC5C,GAAKJ,IAAW1B,EAAItzB,cAAgB,OAAOszB,EAAI+B,GAInD,GAAKN,IAAazB,EAAIgC,IAAM,CAExB,GAAKN,IAAW1B,EAAIp0B,MAAQ,OAAOo0B,EAAIiC,OACvC,GAAKP,IAAW1B,EAAI6B,WAAa,OAAO7B,EAAIkC,OAC5C,GAAKR,IAAW1B,EAAItzB,cAAgB,OAAOszB,EAAImC,KAInD,GAAKV,IAAazB,EAAIoC,KAAO,CAEzB,GAAKV,IAAW1B,EAAIp0B,MAAQ,OAAOo0B,EAAIqC,QACvC,GAAKX,IAAW1B,EAAI6B,WAAa,OAAO7B,EAAIsC,QAC5C,GAAKZ,IAAW1B,EAAItzB,cAAgB,OAAOszB,EAAIuC,MAInD,OAAOd,EAMX,SAASe,EAAgBtsD,GAErB,OAAKA,IAAMlM,IAAiBkM,IAAMjM,IAA8BiM,IAAMhM,GAE3D81D,EAAIyC,QAIRzC,EAAI0C,OAMf,SAASC,EAAkB7gE,GAEvB,IAAI+kB,EAAU/kB,EAAMvI,OAEpBstB,EAAQ7oB,oBAAqB,UAAW2kE,GA4B5C,SAA4B97C,GAExB,IAAI+7C,EAAoB37B,EAAW10C,IAAKs0B,GAExC,GAAKA,EAAQpC,OAASm+C,EAAkBC,0BAIpC7C,EAAI8C,cAAeF,EAAkBC,+BAElC,CAIH,QAAuCxpE,IAAlCupE,EAAkBG,YAA4B,OAEnD/C,EAAI8C,cAAeF,EAAkBI,gBAKzC/7B,EAAWruC,OAAQiuB,GA/CnBo8C,CAAmBp8C,GAEdA,EAAQq8C,uBAEFjC,EAAgBp6C,EAAQkqB,IAInCmf,EAAKiT,OAAO76C,WAIhB,SAAS86C,EAAuBthE,GAE5B,IAAIuhE,EAAevhE,EAAMvI,OAEzB8pE,EAAarlE,oBAAqB,UAAWolE,GAmCjD,SAAiCC,GAE7B,IAAIC,EAAyBr8B,EAAW10C,IAAK8wE,GACzCT,EAAoB37B,EAAW10C,IAAK8wE,EAAax8C,SAErD,IAAOw8C,EAAe,YAEoBhqE,IAArCupE,EAAkBI,gBAEnBhD,EAAI8C,cAAeF,EAAkBI,gBAIpCK,EAAar8C,cAEdq8C,EAAar8C,aAAajpB,UAI9B,GAAKslE,EAAa/5C,wBAEd,IAAM,IAAI53B,EAAI,EAAGA,EAAI,EAAGA,IAEpBsuE,EAAIuD,kBAAmBD,EAAuBE,mBAAoB9xE,IAC7D4xE,EAAuBG,oBAAqBzD,EAAI0D,mBAAoBJ,EAAuBG,mBAAoB/xE,SAMxHsuE,EAAIuD,kBAAmBD,EAAuBE,oBACzCF,EAAuBG,oBAAqBzD,EAAI0D,mBAAoBJ,EAAuBG,oBAIpGx8B,EAAWruC,OAAQyqE,EAAax8C,SAChCogB,EAAWruC,OAAQyqE,GArEnBM,CAAwBN,GAExBnT,EAAKiT,OAAO76C,WA2EhB,SAAS4kC,EAAcrmC,EAAS+8C,GAE5B,IAAIhB,EAAoB37B,EAAW10C,IAAKs0B,GAIxC,GAFKA,EAAQq8C,gBA0pBjB,SAA6Br8C,GAEzB,IAAIkqB,EAAKlqB,EAAQkqB,GACbxG,EAAQ2lB,EAAK92D,OAAOmxC,MAInB02B,EAAgBlwB,KAASxG,IAE1B02B,EAAgBlwB,GAAOxG,EACvB1jB,EAAQ1tB,UApqBkB0qE,CAAoBh9C,GAE7CA,EAAQR,QAAU,GAAKu8C,EAAkBkB,YAAcj9C,EAAQR,QAAU,CAE1E,IAAI5B,EAAQoC,EAAQpC,MAEpB,QAAeprB,IAAVorB,EAEDjjB,QAAQC,KAAM,6EAEX,CAAA,IAAwB,IAAnBgjB,EAAMs/C,SAOd,YADAC,EAAepB,EAAmB/7C,EAAS+8C,GAJ3CpiE,QAAQC,KAAM,2EAWtBxF,EAAMgoE,cAAejE,EAAIkE,SAAWN,GACpC3nE,EAAMkoE,YAAanE,EAAIoE,WAAYxB,EAAkBI,gBA4JzD,SAASqB,EAAsBC,EAAaz9C,EAAS09C,GAEjD,IAAIC,EAkCJ,GAhCKD,GAEDvE,EAAIyE,cAAeH,EAAatE,EAAI0E,eAAgB3D,EAAM4D,QAAS99C,EAAQvB,QAC3E06C,EAAIyE,cAAeH,EAAatE,EAAI4E,eAAgB7D,EAAM4D,QAAS99C,EAAQtB,QAE3Ey6C,EAAIyE,cAAeH,EAAatE,EAAI6E,mBAAoB9D,EAAM4D,QAAS99C,EAAQrB,YAC/Ew6C,EAAIyE,cAAeH,EAAatE,EAAI8E,mBAAoB/D,EAAM4D,QAAS99C,EAAQpB,cAI/Eu6C,EAAIyE,cAAeH,EAAatE,EAAI0E,eAAgB1E,EAAI+E,eACxD/E,EAAIyE,cAAeH,EAAatE,EAAI4E,eAAgB5E,EAAI+E,eAEnDl+C,EAAQvB,QAAUxb,IAAuB+c,EAAQtB,QAAUzb,IAE5DtI,QAAQC,KAAM,iIAIlBu+D,EAAIyE,cAAeH,EAAatE,EAAI6E,mBAAoBrC,EAAgB37C,EAAQrB,YAChFw6C,EAAIyE,cAAeH,EAAatE,EAAI8E,mBAAoBtC,EAAgB37C,EAAQpB,YAE3EoB,EAAQpB,YAAczb,IAAiB6c,EAAQpB,YAActb,IAE9D3I,QAAQC,KAAM,oIAMtB+iE,EAAY/iB,EAAWlvD,IAAK,kCAEX,CAEb,GAAKs0B,EAAQnoB,OAASkM,IAA8D,OAAjD62C,EAAWlvD,IAAK,4BAAwC,OAC3F,GAAKs0B,EAAQnoB,OAASmM,IAAoG,QAAjF8nD,EAAaU,UAAY5R,EAAWlvD,IAAK,kCAA+C,QAE5Hs0B,EAAQlB,WAAa,GAAKshB,EAAW10C,IAAKs0B,GAAUm+C,uBAErDhF,EAAIiF,cAAeX,EAAaE,EAAUU,2BAA4BlvE,KAAKmH,IAAK0pB,EAAQlB,WAAYgtC,EAAawS,qBACjHl+B,EAAW10C,IAAKs0B,GAAUm+C,oBAAsBn+C,EAAQlB,aAQpE,SAASq+C,EAAepB,EAAmB/7C,EAAS+8C,GAEhD,IAAIU,EAIAA,EAFCz9C,EAAQ6jC,gBAEKsV,EAAIoF,WAIJpF,EAAIoE,gBAKiB/qE,IAAlCupE,EAAkBG,cAEnBH,EAAkBG,aAAc,EAEhCl8C,EAAQrvB,iBAAkB,UAAWmrE,GAErCC,EAAkBI,eAAiBhD,EAAIqF,gBAEvCnV,EAAKiT,OAAO76C,YAGhBrsB,EAAMgoE,cAAejE,EAAIkE,SAAWN,GAGpC3nE,EAAMkoE,YAAaG,EAAa1B,EAAkBI,gBAIlDhD,EAAIsF,YAAatF,EAAIuF,oBAAqB1+C,EAAQV,OAClD65C,EAAIsF,YAAatF,EAAIwF,+BAAgC3+C,EAAQX,kBAC7D85C,EAAIsF,YAAatF,EAAIyF,iBAAkB5+C,EAAQT,iBAE/C,IAAI3B,EAAQy8C,EAAgBr6C,EAAQpC,MAAOkuC,EAAa4K,iBAjc5D,SAAiC12C,GAE7B,OAAK8rC,EAAaU,WAETxsC,EAAQvB,QAAUxb,IAAuB+c,EAAQtB,QAAUzb,IAC9D+c,EAAQpB,YAAczb,IAAiB6c,EAAQpB,YAActb,KA8b9Du7D,CAAwB7+C,KAAuC,IAA1B7W,EAAcyU,KAEpDA,EA3dR,SAAyBA,GAErB,OAAKA,aAAiBkhD,kBAAoBlhD,aAAiBE,mBAAqBF,aAAiBmhD,kBAE5EvsE,IAAZ2nE,IAAwBA,EAAUzsE,SAASqwB,gBAAiB,+BAAgC,WAEjGo8C,EAAQjwD,MAAQ7C,GAAMmC,gBAAiBoU,EAAM1T,OAC7CiwD,EAAQhwD,OAAS9C,GAAMmC,gBAAiBoU,EAAMzT,QAEhCgwD,EAAQl8C,WAAY,MAC1BG,UAAWR,EAAO,EAAG,EAAGu8C,EAAQjwD,MAAOiwD,EAAQhwD,QAEvDxP,QAAQC,KAAM,mDAAqDgjB,EAAM1T,MAAQ,IAAM0T,EAAMzT,OAAS,iBAAmBgwD,EAAQjwD,MAAQ,IAAMiwD,EAAQhwD,QAEhJgwD,GAIJv8C,EAycKohD,CAAgBphD,IAI5B,IAAI8/C,EAAoBv0D,EAAcyU,GAClCg9C,EAAWV,EAAM4D,QAAS99C,EAAQnB,QAClCg8C,EAASX,EAAM4D,QAAS99C,EAAQnoB,MAChConE,EAAmBtE,EAAmBC,EAAUC,GAEpD2C,EAAsBC,EAAaz9C,EAAS09C,GAE5C,IAAIwB,EAAQjgD,EAAUe,EAAQf,QAE9B,GAAKe,EAAQm/C,eAAiB,CAM1B,GAFAF,EAAmB9F,EAAIiG,gBAElBp/C,EAAQnoB,OAASkM,GAAY,CAE9B,IAAO+nD,EAAaU,SAAW,MAAM,IAAI9hD,MAAO,kDAChDu0D,EAAmB9F,EAAIkG,wBAEfvT,EAAaU,WAGrByS,EAAmB9F,EAAImG,mBAItBt/C,EAAQnB,SAAWla,IAAes6D,IAAqB9F,EAAIiG,iBAKvDp/C,EAAQnoB,OAAS+L,IAAqBoc,EAAQnoB,OAASiM,KAExDnJ,QAAQC,KAAM,+FAEdolB,EAAQnoB,KAAO+L,GACfi3D,EAASX,EAAM4D,QAAS99C,EAAQnoB,OAQnCmoB,EAAQnB,SAAWja,KAEpBq6D,EAAmB9F,EAAIoG,cAKlBv/C,EAAQnoB,OAASuM,KAElBzJ,QAAQC,KAAM,oFAEdolB,EAAQnoB,KAAOuM,GACfy2D,EAASX,EAAM4D,QAAS99C,EAAQnoB,QAMxCzC,EAAMoqE,WAAYrG,EAAIoE,WAAY,EAAG0B,EAAkBrhD,EAAM1T,MAAO0T,EAAMzT,OAAQ,EAAGywD,EAAUC,EAAQ,WAEpG,GAAK76C,EAAQ0C,cAMhB,GAAKzD,EAAQrtB,OAAS,GAAK8rE,EAAoB,CAE3C,IAAM,IAAI7yE,EAAI,EAAG04B,EAAKtE,EAAQrtB,OAAQ/G,EAAI04B,EAAI14B,IAE1Cq0E,EAASjgD,EAASp0B,GAClBuK,EAAMoqE,WAAYrG,EAAIoE,WAAY1yE,EAAGo0E,EAAkBC,EAAOh1D,MAAOg1D,EAAO/0D,OAAQ,EAAGywD,EAAUC,EAAQqE,EAAO1+C,MAIpHR,EAAQZ,iBAAkB,EAC1B28C,EAAkBtB,cAAgBx7C,EAAQrtB,OAAS,OAInDwD,EAAMoqE,WAAYrG,EAAIoE,WAAY,EAAG0B,EAAkBrhD,EAAM1T,MAAO0T,EAAMzT,OAAQ,EAAGywD,EAAUC,EAAQj9C,EAAM4C,MAC7Gu7C,EAAkBtB,cAAgB,OAInC,GAAKz6C,EAAQy/C,oBAAsB,CAEtC,IAAU50E,EAAI,EAAG04B,EAAKtE,EAAQrtB,OAAQ/G,EAAI04B,EAAI14B,IAE1Cq0E,EAASjgD,EAASp0B,GAEbm1B,EAAQnB,SAAWta,IAAcyb,EAAQnB,SAAWva,GAEhDlP,EAAMsqE,8BAA8B1gE,QAAS47D,IAAe,EAE7DxlE,EAAMuqE,qBAAsBxG,EAAIoE,WAAY1yE,EAAGo0E,EAAkBC,EAAOh1D,MAAOg1D,EAAO/0D,OAAQ,EAAG+0D,EAAO1+C,MAIxG7lB,QAAQC,KAAM,kGAMlBxF,EAAMoqE,WAAYrG,EAAIoE,WAAY1yE,EAAGo0E,EAAkBC,EAAOh1D,MAAOg1D,EAAO/0D,OAAQ,EAAGywD,EAAUC,EAAQqE,EAAO1+C,MAMxHu7C,EAAkBtB,cAAgBx7C,EAAQrtB,OAAS,OAEhD,GAAKouB,EAAQ6jC,gBAEhBzuD,EAAMwqE,WAAYzG,EAAIoF,WAAY,EAAGU,EAAkBrhD,EAAM1T,MAAO0T,EAAMzT,OAAQyT,EAAM+kB,MAAO,EAAGi4B,EAAUC,EAAQj9C,EAAM4C,MAC1Hu7C,EAAkBtB,cAAgB,OAUlC,GAAKx7C,EAAQrtB,OAAS,GAAK8rE,EAAoB,CAE3C,IAAU7yE,EAAI,EAAG04B,EAAKtE,EAAQrtB,OAAQ/G,EAAI04B,EAAI14B,IAE1Cq0E,EAASjgD,EAASp0B,GAClBuK,EAAMoqE,WAAYrG,EAAIoE,WAAY1yE,EAAGo0E,EAAkBrE,EAAUC,EAAQqE,GAI7El/C,EAAQZ,iBAAkB,EAC1B28C,EAAkBtB,cAAgBx7C,EAAQrtB,OAAS,OAInDwD,EAAMoqE,WAAYrG,EAAIoE,WAAY,EAAG0B,EAAkBrE,EAAUC,EAAQj9C,GACzEm+C,EAAkBtB,cAAgB,EAMrCF,EAA6Bv6C,EAAS09C,IAEvClD,EAAgBrB,EAAIoE,WAAYv9C,EAASpC,EAAM1T,MAAO0T,EAAMzT,QAIhE4xD,EAAkBkB,UAAYj9C,EAAQR,QAEjCQ,EAAQP,UAAWO,EAAQP,SAAUO,GAO9C,SAAS6/C,EAAyBC,EAAatD,EAAcuD,EAAYC,GAErE,IAAIpF,EAAWV,EAAM4D,QAAStB,EAAax8C,QAAQnB,QAC/Cg8C,EAASX,EAAM4D,QAAStB,EAAax8C,QAAQnoB,MAC7ConE,EAAmBtE,EAAmBC,EAAUC,GACpDzlE,EAAMoqE,WAAYQ,EAAe,EAAGf,EAAkBzC,EAAatyD,MAAOsyD,EAAaryD,OAAQ,EAAGywD,EAAUC,EAAQ,MACpH1B,EAAI8G,gBAAiB9G,EAAI+G,YAAaJ,GACtC3G,EAAIgH,qBAAsBhH,EAAI+G,YAAaH,EAAYC,EAAe5/B,EAAW10C,IAAK8wE,EAAax8C,SAAUm8C,eAAgB,GAC7HhD,EAAI8G,gBAAiB9G,EAAI+G,YAAa,MAK1C,SAASE,EAA0BC,EAAc7D,GAE7CrD,EAAImH,iBAAkBnH,EAAIoH,aAAcF,GAEnC7D,EAAav8C,cAAiBu8C,EAAat8C,eAE5Ci5C,EAAIqH,oBAAqBrH,EAAIoH,aAAcpH,EAAImG,kBAAmB9C,EAAatyD,MAAOsyD,EAAaryD,QACnGgvD,EAAIsH,wBAAyBtH,EAAI+G,YAAa/G,EAAIuH,iBAAkBvH,EAAIoH,aAAcF,IAE9E7D,EAAav8C,aAAeu8C,EAAat8C,eAEjDi5C,EAAIqH,oBAAqBrH,EAAIoH,aAAcpH,EAAIoG,cAAe/C,EAAatyD,MAAOsyD,EAAaryD,QAC/FgvD,EAAIsH,wBAAyBtH,EAAI+G,YAAa/G,EAAIwH,yBAA0BxH,EAAIoH,aAAcF,IAK9FlH,EAAIqH,oBAAqBrH,EAAIoH,aAAcpH,EAAIyH,MAAOpE,EAAatyD,MAAOsyD,EAAaryD,QAI3FgvD,EAAImH,iBAAkBnH,EAAIoH,aAAc,MAkD5C,SAASM,EAAwBrE,GAE7B,IAAIC,EAAyBr8B,EAAW10C,IAAK8wE,GAEzCsE,GAAoD,IAAzCtE,EAAa/5C,wBAE5B,GAAK+5C,EAAar8C,aAAe,CAE7B,GAAK2gD,EAAS,MAAM,IAAIp2D,MAAO,6DArDvC,SAA4Bo1D,EAAatD,GAGrC,GADeA,GAAgBA,EAAa/5C,wBAC9B,MAAM,IAAI/X,MAAO,2DAI/B,GAFAyuD,EAAI8G,gBAAiB9G,EAAI+G,YAAaJ,IAE7BtD,EAAar8C,eAAgBq8C,EAAar8C,aAAag/C,eAE5D,MAAM,IAAIz0D,MAAO,uEAKd01B,EAAW10C,IAAK8wE,EAAar8C,cAAeg8C,gBAC/CK,EAAar8C,aAAavC,MAAM1T,QAAUsyD,EAAatyD,OACvDsyD,EAAar8C,aAAavC,MAAMzT,SAAWqyD,EAAaryD,SAExDqyD,EAAar8C,aAAavC,MAAM1T,MAAQsyD,EAAatyD,MACrDsyD,EAAar8C,aAAavC,MAAMzT,OAASqyD,EAAaryD,OACtDqyD,EAAar8C,aAAas3B,aAAc,GAI5C4O,EAAcmW,EAAar8C,aAAc,GAEzC,IAAI4gD,EAAoB3gC,EAAW10C,IAAK8wE,EAAar8C,cAAeg8C,eAEpE,GAAKK,EAAar8C,aAAatB,SAAWla,GAEtCw0D,EAAIgH,qBAAsBhH,EAAI+G,YAAa/G,EAAIuH,iBAAkBvH,EAAIoE,WAAYwD,EAAmB,OAEjG,CAAA,GAAKvE,EAAar8C,aAAatB,SAAWja,GAM7C,MAAM,IAAI8F,MAAO,+BAJjByuD,EAAIgH,qBAAsBhH,EAAI+G,YAAa/G,EAAIwH,yBAA0BxH,EAAIoE,WAAYwD,EAAmB,IAqB5GC,CAAmBvE,EAAuBE,mBAAoBH,QAI9D,GAAKsE,EAAS,CAEVrE,EAAuBG,sBAEvB,IAAM,IAAI/xE,EAAI,EAAGA,EAAI,EAAGA,IAEpBsuE,EAAI8G,gBAAiB9G,EAAI+G,YAAazD,EAAuBE,mBAAoB9xE,IACjF4xE,EAAuBG,mBAAoB/xE,GAAMsuE,EAAI8H,qBACrDb,EAA0B3D,EAAuBG,mBAAoB/xE,GAAK2xE,QAM9ErD,EAAI8G,gBAAiB9G,EAAI+G,YAAazD,EAAuBE,oBAC7DF,EAAuBG,mBAAqBzD,EAAI8H,qBAChDb,EAA0B3D,EAAuBG,mBAAoBJ,GAM7ErD,EAAI8G,gBAAiB9G,EAAI+G,YAAa,MAsH1CruE,KAAKw0D,aAAeA,EACpBx0D,KAAK00D,aA/oBL,SAAuBvmC,EAAS+8C,GAE5B,IAAIhB,EAAoB37B,EAAW10C,IAAKs0B,GAEnCA,EAAQR,QAAU,GAAKu8C,EAAkBkB,YAAcj9C,EAAQR,QAEhE29C,EAAepB,EAAmB/7C,EAAS+8C,IAK/C3nE,EAAMgoE,cAAejE,EAAIkE,SAAWN,GACpC3nE,EAAMkoE,YAAanE,EAAIoF,WAAYxC,EAAkBI,kBAooBzDtqE,KAAK40D,eA/nBL,SAAyBzmC,EAAS+8C,GAE9B,IAAIhB,EAAoB37B,EAAW10C,IAAKs0B,GAExC,GAA8B,IAAzBA,EAAQpC,MAAMhsB,OAEf,GAAKouB,EAAQR,QAAU,GAAKu8C,EAAkBkB,YAAcj9C,EAAQR,QAAU,CAEnEu8C,EAAkBC,4BAErBh8C,EAAQrvB,iBAAkB,UAAWmrE,GAErCC,EAAkBC,0BAA4B7C,EAAIqF,gBAElDnV,EAAKiT,OAAO76C,YAIhBrsB,EAAMgoE,cAAejE,EAAIkE,SAAWN,GACpC3nE,EAAMkoE,YAAanE,EAAI+H,iBAAkBnF,EAAkBC,2BAE3D7C,EAAIsF,YAAatF,EAAIuF,oBAAqB1+C,EAAQV,OAOlD,IALA,IAAI6hD,EAAiBnhD,GAAWA,EAAQy/C,oBACpC/8C,EAAkB1C,EAAQpC,MAAO,IAAOoC,EAAQpC,MAAO,GAAI8E,cAE3D0+C,KAEMv2E,EAAI,EAAGA,EAAI,EAAGA,IAQhBu2E,EAAWv2E,GANRs2E,GAAkBz+C,EAMJA,EAAgB1C,EAAQpC,MAAO/yB,GAAI+yB,MAAQoC,EAAQpC,MAAO/yB,GAJ1DwvE,EAAgBr6C,EAAQpC,MAAO/yB,GAAKihE,EAAauV,gBAU1E,IAAIzjD,EAAQwjD,EAAW,GACnB1D,EAAoBv0D,EAAcyU,GAClCg9C,EAAWV,EAAM4D,QAAS99C,EAAQnB,QAClCg8C,EAASX,EAAM4D,QAAS99C,EAAQnoB,MAChConE,EAAmBtE,EAAmBC,EAAUC,GAIpD,IAFA2C,EAAsBrE,EAAI+H,iBAAkBlhD,EAAS09C,GAE3C7yE,EAAI,EAAGA,EAAI,EAAGA,IAEpB,GAAOs2E,EAgBH,IAFA,IAAIjC,EAAQjgD,EAAUmiD,EAAWv2E,GAAIo0B,QAE3B+G,EAAI,EAAGwoB,EAAKvvB,EAAQrtB,OAAQo0B,EAAIwoB,EAAIxoB,IAE1Ck5C,EAASjgD,EAAS+G,GAEbhG,EAAQnB,SAAWta,IAAcyb,EAAQnB,SAAWva,GAEhDlP,EAAMsqE,8BAA8B1gE,QAAS47D,IAAe,EAE7DxlE,EAAMuqE,qBAAsBxG,EAAImI,4BAA8Bz2E,EAAGm7B,EAAGi5C,EAAkBC,EAAOh1D,MAAOg1D,EAAO/0D,OAAQ,EAAG+0D,EAAO1+C,MAI7H7lB,QAAQC,KAAM,mGAMlBxF,EAAMoqE,WAAYrG,EAAImI,4BAA8Bz2E,EAAGm7B,EAAGi5C,EAAkBC,EAAOh1D,MAAOg1D,EAAO/0D,OAAQ,EAAGywD,EAAUC,EAAQqE,EAAO1+C,WAhCxIkC,EAEDttB,EAAMoqE,WAAYrG,EAAImI,4BAA8Bz2E,EAAG,EAAGo0E,EAAkBmC,EAAWv2E,GAAIqf,MAAOk3D,EAAWv2E,GAAIsf,OAAQ,EAAGywD,EAAUC,EAAQuG,EAAWv2E,GAAI21B,MAI7JprB,EAAMoqE,WAAYrG,EAAImI,4BAA8Bz2E,EAAG,EAAGo0E,EAAkBrE,EAAUC,EAAQuG,EAAWv2E,IA0CjHkxE,EAAkBtB,cANf0G,EAM+BliD,EAAQrtB,OAAS,EAJjB,EAQjC2oE,EAA6Bv6C,EAAS09C,IAGvClD,EAAgBrB,EAAI+H,iBAAkBlhD,EAASpC,EAAM1T,MAAO0T,EAAMzT,QAItE4xD,EAAkBkB,UAAYj9C,EAAQR,QAEjCQ,EAAQP,UAAWO,EAAQP,SAAUO,QAI1C5qB,EAAMgoE,cAAejE,EAAIkE,SAAWN,GACpC3nE,EAAMkoE,YAAanE,EAAI+H,iBAAkBnF,EAAkBC,4BAwgBvEnqE,KAAK0vE,sBAhgBL,SAAgCvhD,EAAS+8C,GAErC3nE,EAAMgoE,cAAejE,EAAIkE,SAAWN,GACpC3nE,EAAMkoE,YAAanE,EAAI+H,iBAAkB9gC,EAAW10C,IAAKs0B,GAAUm8C,iBA8fvEtqE,KAAK2vE,kBArHL,SAA4BhF,GAExB,IAAIC,EAAyBr8B,EAAW10C,IAAK8wE,GACzCT,EAAoB37B,EAAW10C,IAAK8wE,EAAax8C,SAErDw8C,EAAa7rE,iBAAkB,UAAW4rE,GAE1CR,EAAkBI,eAAiBhD,EAAIqF,gBAEvCnV,EAAKiT,OAAO76C,WAEZ,IAAIq/C,GAAoD,IAAzCtE,EAAa/5C,wBACxBg/C,EAAqBt4D,EAAcqzD,GAIvC,GAAKsE,EAAS,CAEVrE,EAAuBE,sBAEvB,IAAM,IAAI9xE,EAAI,EAAGA,EAAI,EAAGA,IAEpB4xE,EAAuBE,mBAAoB9xE,GAAMsuE,EAAIuI,yBAMzDjF,EAAuBE,mBAAqBxD,EAAIuI,oBAMpD,GAAKZ,EAAS,CAKV,IAHA1rE,EAAMkoE,YAAanE,EAAI+H,iBAAkBnF,EAAkBI,gBAC3DqB,EAAsBrE,EAAI+H,iBAAkB1E,EAAax8C,QAASyhD,GAExD52E,EAAI,EAAGA,EAAI,EAAGA,IAEpBg1E,EAAyBpD,EAAuBE,mBAAoB9xE,GAAK2xE,EAAcrD,EAAIwI,kBAAmBxI,EAAImI,4BAA8Bz2E,GAI/I0vE,EAA6BiC,EAAax8C,QAASyhD,IAEpDjH,EAAgBrB,EAAI+H,iBAAkB1E,EAAax8C,QAASw8C,EAAatyD,MAAOsyD,EAAaryD,QAIjG/U,EAAMkoE,YAAanE,EAAI+H,iBAAkB,WAIzC9rE,EAAMkoE,YAAanE,EAAIoE,WAAYxB,EAAkBI,gBACrDqB,EAAsBrE,EAAIoE,WAAYf,EAAax8C,QAASyhD,GAC5D5B,EAAyBpD,EAAuBE,mBAAoBH,EAAcrD,EAAIwI,kBAAmBxI,EAAIoE,YAExGhD,EAA6BiC,EAAax8C,QAASyhD,IAEpDjH,EAAgBrB,EAAIoE,WAAYf,EAAax8C,QAASw8C,EAAatyD,MAAOsyD,EAAaryD,QAI3F/U,EAAMkoE,YAAanE,EAAIoE,WAAY,MAMlCf,EAAav8C,aAEd4gD,EAAwBrE,IA6ChC3qE,KAAK+vE,yBAvCL,SAAmCpF,GAE/B,IAAIx8C,EAAUw8C,EAAax8C,QAG3B,GAAKu6C,EAA6Bv6C,EAFT7W,EAAcqzD,IAE2B,CAE9D,IAAI9pE,EAAS8pE,EAAa/5C,wBAA0B02C,EAAI+H,iBAAmB/H,EAAIoE,WAC3EsE,EAAezhC,EAAW10C,IAAKs0B,GAAUm8C,eAE7C/mE,EAAMkoE,YAAa5qE,EAAQmvE,GAC3BrH,EAAgB9nE,EAAQstB,EAASw8C,EAAatyD,MAAOsyD,EAAaryD,QAClE/U,EAAMkoE,YAAa5qE,EAAQ,QAmCvC,SAASovE,GAAY/9B,EAAI6W,EAAYkR,GA4JjC,OAASgS,QA1JT,SAAkBnxE,GAEd,IAAIgxE,EAEJ,GAAKhxE,IAAMqW,GAAiB,OAAO+gC,EAAGg+B,OACtC,GAAKp1E,IAAMsW,GAAsB,OAAO8gC,EAAGm6B,cAC3C,GAAKvxE,IAAMuW,GAAyB,OAAO6gC,EAAGi+B,gBAE9C,GAAKr1E,IAAMwW,GAAgB,OAAO4gC,EAAG63B,QACrC,GAAKjvE,IAAMyW,GAA6B,OAAO2gC,EAAGk+B,uBAClD,GAAKt1E,IAAM0W,GAA4B,OAAO0gC,EAAGm+B,sBAEjD,GAAKv1E,IAAM2W,GAAe,OAAOygC,EAAG83B,OACpC,GAAKlvE,IAAM4W,GAA4B,OAAOwgC,EAAGo+B,sBACjD,GAAKx1E,IAAM6W,GAA2B,OAAOugC,EAAGq+B,qBAEhD,GAAKz1E,IAAM8W,GAAmB,OAAOsgC,EAAG8B,cACxC,GAAKl5C,IAAMsX,GAAwB,OAAO8/B,EAAGs+B,uBAC7C,GAAK11E,IAAMuX,GAAwB,OAAO6/B,EAAGu+B,uBAC7C,GAAK31E,IAAMwX,GAAuB,OAAO4/B,EAAGw+B,qBAE5C,GAAK51E,IAAM+W,GAAW,OAAOqgC,EAAG4B,KAChC,GAAKh5C,IAAMgX,GAAY,OAAOogC,EAAGsB,MACjC,GAAK14C,IAAMiX,GAAoB,OAAOmgC,EAAGoB,eACzC,GAAKx4C,IAAMkX,GAAU,OAAOkgC,EAAG0B,IAC/B,GAAK94C,IAAMmX,GAAkB,OAAOigC,EAAGwB,aACvC,GAAK54C,IAAMoX,GAAY,OAAOggC,EAAGgB,MAEjC,GAAKp4C,IAAMqX,GAAgB,CAEvB,GAAK8nD,EAAaU,SAAW,OAAOzoB,EAAGi3B,WAIvC,GAAmB,QAFnB2C,EAAY/iB,EAAWlvD,IAAK,2BAEF,OAAOiyE,EAAU6E,eAI/C,GAAK71E,IAAM0X,GAAc,OAAO0/B,EAAG0+B,MACnC,GAAK91E,IAAM2X,GAAY,OAAOy/B,EAAGo3B,IACjC,GAAKxuE,IAAM4X,GAAa,OAAOw/B,EAAGw3B,KAClC,GAAK5uE,IAAM6X,GAAkB,OAAOu/B,EAAG2+B,UACvC,GAAK/1E,IAAM8X,GAAuB,OAAOs/B,EAAG4+B,gBAC5C,GAAKh2E,IAAMgY,GAAc,OAAOo/B,EAAGq7B,gBACnC,GAAKzyE,IAAMiY,GAAqB,OAAOm/B,EAAGw7B,cAC1C,GAAK5yE,IAAMkY,GAAY,OAAOk/B,EAAG+2B,IAEjC,GAAKnuE,IAAM8T,EAAc,OAAOsjC,EAAG6+B,SACnC,GAAKj2E,IAAM+T,EAAmB,OAAOqjC,EAAG8+B,cACxC,GAAKl2E,IAAMgU,EAA0B,OAAOojC,EAAG++B,sBAE/C,GAAKn2E,IAAMmU,EAAa,OAAOijC,EAAGg/B,KAClC,GAAKp2E,IAAMoU,EAAY,OAAOgjC,EAAGi/B,IACjC,GAAKr2E,IAAMqU,EAAiB,OAAO+iC,EAAGk/B,UACtC,GAAKt2E,IAAMsU,EAAyB,OAAO8iC,EAAGm/B,oBAC9C,GAAKv2E,IAAMuU,EAAiB,OAAO6iC,EAAGo/B,UACtC,GAAKx2E,IAAMwU,EAAyB,OAAO4iC,EAAGq/B,oBAC9C,GAAKz2E,IAAMyU,EAAiB,OAAO2iC,EAAGs/B,UACtC,GAAK12E,IAAM0U,EAAyB,OAAO0iC,EAAGu/B,oBAE9C,GAAK32E,IAAM2U,EAAiB,OAAOyiC,EAAGw/B,UACtC,GAAK52E,IAAM4U,EAAyB,OAAOwiC,EAAGy/B,oBAC9C,GAAK72E,IAAM6U,EAAyB,OAAOuiC,EAAG0/B,mBAE9C,IAAK92E,IAAMmY,IAAwBnY,IAAMoY,IACrCpY,IAAMqY,IAAyBrY,IAAMsY,KAIlB,QAFnB04D,EAAY/iB,EAAWlvD,IAAK,kCAEF,CAEtB,GAAKiB,IAAMmY,GAAuB,OAAO64D,EAAU+F,6BACnD,GAAK/2E,IAAMoY,GAAwB,OAAO44D,EAAUgG,8BACpD,GAAKh3E,IAAMqY,GAAwB,OAAO24D,EAAUiG,8BACpD,GAAKj3E,IAAMsY,GAAwB,OAAO04D,EAAUkG,8BAM5D,IAAKl3E,IAAMuY,IAA2BvY,IAAMwY,IACxCxY,IAAMyY,IAA4BzY,IAAM0Y,KAIrB,QAFnBs4D,EAAY/iB,EAAWlvD,IAAK,mCAEF,CAEtB,GAAKiB,IAAMuY,GAA0B,OAAOy4D,EAAUmG,gCACtD,GAAKn3E,IAAMwY,GAA0B,OAAOw4D,EAAUoG,gCACtD,GAAKp3E,IAAMyY,GAA2B,OAAOu4D,EAAUqG,iCACvD,GAAKr3E,IAAM0Y,GAA2B,OAAOs4D,EAAUsG,iCAM/D,GAAKt3E,IAAM2Y,IAIY,QAFnBq4D,EAAY/iB,EAAWlvD,IAAK,kCAEF,OAAOiyE,EAAUuG,0BAI/C,IAAKv3E,IAAM4Y,IAAwB5Y,IAAM6Y,IAAwB7Y,IAAM8Y,IACnE9Y,IAAM+Y,IAAwB/Y,IAAMgZ,IAAwBhZ,IAAMiZ,IAClEjZ,IAAMkZ,IAAwBlZ,IAAMmZ,IAAwBnZ,IAAMoZ,IAClEpZ,IAAMqZ,IAAyBrZ,IAAMsZ,IAAyBtZ,IAAMuZ,IACpEvZ,IAAMwZ,IAA0BxZ,IAAMyZ,KAInB,QAFnBu3D,EAAY/iB,EAAWlvD,IAAK,kCAIxB,OAAOiB,EAMf,GAAKA,IAAMiU,GAAejU,IAAMkU,EAAc,CAE1C,GAAKirD,EAAaU,SAAW,CAEzB,GAAK7/D,IAAMiU,EAAc,OAAOmjC,EAAGogC,IACnC,GAAKx3E,IAAMkU,EAAc,OAAOkjC,EAAGqgC,IAMvC,GAAmB,QAFnBzG,EAAY/iB,EAAWlvD,IAAK,qBAEF,CAEtB,GAAKiB,IAAMiU,EAAc,OAAO+8D,EAAU0G,QAC1C,GAAK13E,IAAMkU,EAAc,OAAO88D,EAAU2G,SAMlD,GAAK33E,IAAMyX,GAAqB,CAE5B,GAAK0nD,EAAaU,SAAW,OAAOzoB,EAAGwgC,kBAIvC,GAAmB,QAFnB5G,EAAY/iB,EAAWlvD,IAAK,wBAEF,OAAOiyE,EAAU6G,wBAI/C,OAAO,IAYf,SAASC,KAEL38B,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,QAkBhB,SAAS6sE,KAEL58B,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,SAEZhG,KAAK0pB,mBAAqB,IAAI9R,GAE9B5X,KAAK2pB,iBAAmB,IAAI/R,GAC5B5X,KAAK8yE,wBAA0B,IAAIl7D,GA+DvC,SAAShb,GAAmByL,EAAKhN,EAAQ+oB,EAAMC,GAE3CwuD,GAAO15E,KAAM6G,MAEbA,KAAKgG,KAAO,oBAEZhG,KAAKqI,SAAc1H,IAAR0H,EAAoBA,EAAM,GACrCrI,KAAK2C,KAAO,EAEZ3C,KAAKokB,UAAgBzjB,IAATyjB,EAAqBA,EAAO,GACxCpkB,KAAKqkB,SAAc1jB,IAAR0jB,EAAoBA,EAAM,IACrCrkB,KAAK+yE,MAAQ,GAEb/yE,KAAK3E,YAAoBsF,IAAXtF,EAAuBA,EAAS,EAC9C2E,KAAKgzE,KAAO,KAEZhzE,KAAKizE,UAAY,GACjBjzE,KAAKkzE,WAAa,EAElBlzE,KAAKvE,yBAwNT,SAAS03E,GAAa3lE,GAElB5Q,GAAkBzD,KAAM6G,MAExBA,KAAKozE,QAAU5lE,MAgBnB,SAAS6lE,GAAcl4E,GAEnB,IAAI+H,EAAQlD,KAERszE,EAAS,KACTC,EAAY,KAEZC,EAAa,KAEbC,KACAC,EAAiB,IAAI97D,GACrB+7D,EAAwB,IAAI/7D,GAE5Bg8D,EAAuB,QAEJ,oBAAXt4E,QAA0B,gBAAiBA,SAEnDi4E,EAAY,IAAIj4E,OAAOu4E,YACvBv4E,OAAOwD,iBAAkB,yBAA0Bg1E,GAA0B,IAIjF,IAAIpqD,EAAqB,IAAI9R,GACzBm8D,EAAiB,IAAInwE,GACrBowE,EAAe,IAAIlzE,GAEnBmzE,EAAU,IAAIr3E,GAClBq3E,EAAQC,OAAS,IAAIrmD,GAAS,EAAK,EAAK,GAAK,GAC7ComD,EAAQl+B,OAAOJ,OAAQ,GAEvB,IAAIw+B,EAAU,IAAIv3E,GAClBu3E,EAAQD,OAAS,IAAIrmD,GAAS,GAAK,EAAK,GAAK,GAC7CsmD,EAAQp+B,OAAOJ,OAAQ,GAEvB,IAYIy+B,EAAaC,EAZbC,EAAW,IAAInB,IAAec,EAASE,IAM3C,SAASI,IAEL,OAAkB,OAAXjB,IAA2C,IAAxBA,EAAOiB,aAMrC,SAAST,IAEL,GAAKS,IAAiB,CAElB,IAAIC,EAAgBlB,EAAOmB,iBAAkB,QACzCC,EAAcF,EAAcE,YAC5BC,EAAeH,EAAcG,aAEjCN,EAAoBl5E,EAASy5E,gBAC7BR,EAAcj5E,EAASi3B,UAEvBj3B,EAAS05E,qBAAoC,EAAdH,EAAiBC,EAAc,GAE9DG,EAAUp/C,aAILxyB,EAAMtC,SAEPzF,EAAS05E,qBAAsBT,EAAY/7D,MAAO+7D,EAAY97D,OAAQ+7D,GAI1ES,EAAUhjC,OApClBwiC,EAASv+B,OAAOJ,OAAQ,GACxB2+B,EAASv+B,OAAOJ,OAAQ,GA2CxB,IAAIo/B,KAEJ,SAASC,EAAa38B,GAIlB,IAFA,IAAI48B,EAAWC,UAAUC,aAAeD,UAAUC,cAExCn8E,EAAI,EAAGm7B,EAAI,EAAGl7B,EAAIg8E,EAASl1E,OAAQ/G,EAAIC,EAAGD,IAAO,CAEvD,IAAIo8E,EAAUH,EAAUj8E,GAExB,GAAKo8E,IAA4B,wBAAfA,EAAQ/8B,IACH,uBAAf+8B,EAAQ/8B,IAA8C,yBAAf+8B,EAAQ/8B,IAChC,mBAAf+8B,EAAQ/8B,IAA2B+8B,EAAQ/8B,GAAGg9B,WAAY,iBAC1DD,EAAQ/8B,GAAGg9B,WAAY,uBAA2B,CAEtD,GAAKlhD,IAAMkkB,EAAK,OAAO+8B,EAEvBjhD,MAmEZn0B,KAAKY,SAAU,EAEfZ,KAAKs1E,cAAgB,SAAWj9B,GAE5B,IAAIk9B,EAAa9B,EAAap7B,GAY9B,YAVoB13C,IAAf40E,KAEDA,EAAa,IAAI3C,IACNpzE,kBAAmB,EAC9B+1E,EAAW/+B,SAAU,EAErBi9B,EAAap7B,GAAOk9B,GAIjBA,GAIXv1E,KAAKw1E,UAAY,WAEb,OAAOlC,GAIXtzE,KAAKy1E,UAAY,SAAWx7E,QAET0G,IAAV1G,IAAsBq5E,EAASr5E,GAEpC66E,EAAU9iC,WAAY/3C,IAI1B+F,KAAK01E,wBAA0B,SAAWz7E,GAEtC25E,EAAuB35E,GAI3B+F,KAAK21E,cAAgB,SAAWj7E,QAEZiG,IAAXjG,IAAuB84E,EAAa94E,IAI7CsF,KAAK41E,UAAY,SAAW56E,GAExB,IAAI66E,EAAsC,UAAzBjC,EAAmC,IAAM,EAE1D,GAAgB,OAAXN,EAGD,OADAt4E,EAAO6B,SAASC,IAAK,EAAG+4E,EAAY,GAC7B76E,EAWX,GAPAs4E,EAAOwC,UAAY96E,EAAOopB,KAC1BkvD,EAAOyC,SAAW/6E,EAAOqpB,IAEzBivD,EAAO0C,aAAczC,GAIS,UAAzBK,EAAmC,CAEpC,IAAIqC,EAAkB3C,EAAO2C,gBAExBA,EAEDvC,EAAe54D,UAAWm7D,EAAgBC,4BAI1CxC,EAAetxD,gBAAiB,EAAGyzD,EAAY,GAOvD,IAAIM,EAAO5C,EAAU4C,KACjBC,EAA4B,OAAf5C,EAAsBA,EAAax4E,EAwBpD,GArBAo7E,EAAW7tE,OAAOpF,KAAMuwE,GACxB0C,EAAW7tE,OAAOsb,UAAWuyD,EAAWv5E,SAAUu5E,EAAWhxE,WAAYgxE,EAAWl3E,OAE1D,OAArBi3E,EAAKE,cAENtC,EAAej5D,UAAWq7D,EAAKE,aAC/BD,EAAWhxE,WAAWiU,SAAU06D,IAIb,OAAlBoC,EAAKt5E,WAENk3E,EAAe7vD,sBAAuBwvD,GACtCM,EAAal5D,UAAWq7D,EAAKt5E,UAC7Bm3E,EAAa5vE,gBAAiB2vE,GAC9BqC,EAAWv5E,SAAS4C,IAAKu0E,IAI7BoC,EAAWrjD,qBAEkB,IAAxBugD,EAAOiB,aAAyB,OAAOv5E,EAI5Ci5E,EAAQ7vD,KAAOppB,EAAOopB,KACtB+vD,EAAQ/vD,KAAOppB,EAAOopB,KAEtB6vD,EAAQ5vD,IAAMrpB,EAAOqpB,IACrB8vD,EAAQ9vD,IAAMrpB,EAAOqpB,IAErBiwD,EAASzqD,YAAY1mB,KAAMnI,EAAO6uB,aAClCyqD,EAAS5qD,mBAAmBvmB,KAAMnI,EAAO0uB,oBAEzCuqD,EAAQvqD,mBAAmB5O,UAAWy4D,EAAU+C,gBAChDnC,EAAQzqD,mBAAmB5O,UAAWy4D,EAAUgD,iBAIhD5C,EAAsBpyD,WAAYmyD,GAEJ,UAAzBE,IAEDK,EAAQvqD,mBAAmBrQ,SAAUs6D,GACrCQ,EAAQzqD,mBAAmBrQ,SAAUs6D,IAIzC,IAAIz9B,EAASkgC,EAAWlgC,OAER,OAAXA,IAEDxsB,EAAmBnI,WAAY20B,EAAOrsB,aAEtCoqD,EAAQvqD,mBAAmBrQ,SAAUqQ,GACrCyqD,EAAQzqD,mBAAmBrQ,SAAUqQ,IAMzCuqD,EAAQpqD,YAAYtI,WAAY0yD,EAAQvqD,oBACxCyqD,EAAQtqD,YAAYtI,WAAY4yD,EAAQzqD,oBAExCuqD,EAAQtqD,iBAAiB7O,UAAWy4D,EAAUiD,sBAC9CrC,EAAQxqD,iBAAiB7O,UAAWy4D,EAAUkD,uBAK9CnC,EAAS3qD,iBAAiBxmB,KAAM8wE,EAAQtqD,kBAIxC,IAAIosB,EAASu9B,EAAOoD,YAEpB,GAAK3gC,EAAOh2C,OAAS,CAEjB,IAAI42E,EAAQ5gC,EAAQ,GAEM,OAArB4gC,EAAMC,YAAmD,IAA5BD,EAAMC,WAAW72E,QAE/Ck0E,EAAQC,OAAOp5D,UAAW67D,EAAMC,YAIT,OAAtBD,EAAME,aAAqD,IAA7BF,EAAME,YAAY92E,QAEjDo0E,EAAQD,OAAOp5D,UAAW67D,EAAME,aAQxC,OAhPJ,WAEI,IAAM,IAAI79E,EAAI,EAAGA,EAAIy6E,EAAY1zE,OAAQ/G,IAAO,CAE5C,IAAIu8E,EAAa9B,EAAaz6E,GAE1Bo8E,EAAUJ,EAAah8E,GAE3B,QAAiB2H,IAAZy0E,QAA0Cz0E,IAAjBy0E,EAAQe,KAAqB,CAEvD,GAAsB,OAAjBf,EAAQe,KAAgB,OAI7B,IAAIA,EAAOf,EAAQe,MAEO,IAArBA,EAAKW,aAAwBvB,EAAW14E,SAASC,IAAK,IAAO,IAAO,KAElD,OAAlBq5E,EAAKt5E,UAAoB04E,EAAW14E,SAASie,UAAWq7D,EAAKt5E,UACxC,OAArBs5E,EAAKE,aAAuBd,EAAWnwE,WAAW0V,UAAWq7D,EAAKE,aACvEd,EAAWhtE,OAAOmW,QAAS62D,EAAW14E,SAAU04E,EAAWnwE,WAAYmwE,EAAWr2E,OAClFq2E,EAAWhtE,OAAOsW,YAAa60D,GAC/B6B,EAAWhtE,OAAOsb,UAAW0xD,EAAW14E,SAAU04E,EAAWnwE,WAAYmwE,EAAWr2E,OACpFq2E,EAAWh/B,wBAAyB,EACpCg/B,EAAW/+B,SAAU,EAIrB,IAAIugC,EAA0B,wBAAf3B,EAAQ/8B,GAA+B,EAAI,EAErD08B,EAAU/7E,KAAQo8E,EAAQ4B,QAASD,GAAWE,UAE/ClC,EAAU/7E,GAAMo8E,EAAQ4B,QAASD,GAAWE,SAErB,IAAlBlC,EAAU/7E,GAEXu8E,EAAWlyE,eAAiB2C,KAAM,iBAIlCuvE,EAAWlyE,eAAiB2C,KAAM,cAClCuvE,EAAWlyE,eAAiB2C,KAAM,kBAQ1CuvE,EAAW/+B,SAAU,GA6L7B0gC,GAEO5C,GAIXt0E,KAAKm3E,kBAAoB,WAErB,OAAOzD,GAIX1zE,KAAKu0E,aAAeA,EAIpB,IAAIO,EAAY,IAAItjC,GAEpBxxC,KAAK+xC,iBAAmB,SAAWppB,GAE/BmsD,EAAU/iC,iBAAkBppB,IAIhC3oB,KAAKo3E,YAAc,WAEV7C,KAAiBjB,EAAO8D,eAIjCp3E,KAAKqF,QAAU,WAEY,oBAAX/J,QAERA,OAAOgK,oBAAqB,yBAA0BwuE,IAuTlE,SAASv3E,GAAeq9C,GAEpB9wC,QAAQ2O,IAAK,sBAAuB/J,GAIpC,IAAI46D,OAAgC3nE,KAFpCi5C,EAAaA,OAEY5tB,OAAuB4tB,EAAW5tB,OAASnwB,SAASqwB,gBAAiB,+BAAgC,UAC1HmrD,OAAkC12E,IAAvBi5C,EAAWztB,QAAwBytB,EAAWztB,QAAU,KAEnEmrD,OAA8B32E,IAArBi5C,EAAWn/B,OAAsBm/B,EAAWn/B,MACrD88D,OAA8B52E,IAArBi5C,EAAW9I,OAAsB8I,EAAW9I,MACrD0mC,OAAkC72E,IAAvBi5C,EAAW69B,SAAwB79B,EAAW69B,QACzDC,OAAsC/2E,IAAzBi5C,EAAWp9C,WAA0Bo9C,EAAWp9C,UAC7Dm7E,OAAwDh3E,IAAlCi5C,EAAW0O,oBAAmC1O,EAAW0O,mBAC/EsvB,OAA8Dj3E,IAArCi5C,EAAWi+B,uBAAsCj+B,EAAWi+B,sBACrFC,OAAkDn3E,IAA/Bi5C,EAAWm+B,gBAAgCn+B,EAAWm+B,gBAAkB,UAE3FC,EAAoB,KACpBC,EAAqB,KAIzBj4E,KAAKrD,WAAa2rE,EAClBtoE,KAAKmsB,QAAU,KAIfnsB,KAAKk4E,WAAY,EACjBl4E,KAAKm4E,gBAAiB,EACtBn4E,KAAKo4E,gBAAiB,EACtBp4E,KAAKq4E,kBAAmB,EAIxBr4E,KAAKs4E,aAAc,EAInBt4E,KAAK4nD,kBACL5nD,KAAK2mE,sBAAuB,EAI5B3mE,KAAKgqC,YAAc,EACnBhqC,KAAKihE,YAAa,EAClBjhE,KAAKghE,aAAc,EAInBhhE,KAAK+7D,yBAA0B,EAI/B/7D,KAAKg8D,YAAcxrD,EACnBxQ,KAAKu4E,oBAAsB,EAC3Bv4E,KAAKw4E,sBAAwB,EAI7Bx4E,KAAKohE,gBAAkB,EACvBphE,KAAKqhE,gBAAkB,EAIvB,IAkEIiG,EAqDAve,EAAYkR,EAAc12D,EAAOi0D,EACjCjpB,EAAY3e,EAAUkD,EAAYomB,EAAYu/B,EAC9CC,EAAcC,EAAaC,EAE3Bz8E,EAAY08E,EAAcC,EAAgBC,EAE1C1Q,EA7HA2Q,EAAQh5E,KAERi5E,IAAiB,EAIjBC,GAAe,KAEfC,GAAuB,KACvBC,GAAsB,KACtBC,IAAuB,EAIvBC,IACI5mD,SAAU,KACV2kC,QAAS,KACT1O,WAAW,GAGf4wB,GAAiB,KACjBC,GAAsB,KAEtBC,GAAmB,IAAI5rD,GACvB6rD,GAAkB,IAAI7rD,GACtB8rD,GAAsB,KAItBC,GAAoB,EAIpBC,GAASvR,EAAQjwD,MACjByhE,GAAUxR,EAAQhwD,OAElByhE,GAAc,EAEdC,GAAY,IAAInsD,GAAS,EAAG,EAAGgsD,GAAQC,IACvCG,GAAW,IAAIpsD,GAAS,EAAG,EAAGgsD,GAAQC,IACtCI,IAAe,EAIfpV,GAAW,IAAI91C,GAIfmrD,GAAY,IA9/NpB,WAEI,IAAIj3E,EAAQlD,KAERo6E,EAAc,KACdC,EAAkB,EAClB1T,GAAuB,EACvB2T,GAAmB,EAEnB9mD,EAAQ,IAAI1E,GACZyrD,EAAmB,IAAIniE,GAEvBoiE,GAAYvgF,MAAO,KAAM2rD,aAAa,GAmF1C,SAAS60B,IAEAD,EAAQvgF,QAAUmgF,IAEnBI,EAAQvgF,MAAQmgF,EAChBI,EAAQ50B,YAAcy0B,EAAkB,GAI5Cn3E,EAAMw3E,UAAYL,EAClBn3E,EAAMy3E,gBAAkB,EAI5B,SAASC,EAAerrD,EAAQv0B,EAAQ8pB,EAAW+1D,GAE/C,IAAIC,EAAqB,OAAXvrD,EAAkBA,EAAOxvB,OAAS,EAC5Cg7E,EAAW,KAEf,GAAiB,IAAZD,EAAgB,CAIjB,GAFAC,EAAWP,EAAQvgF,OAEI,IAAlB4gF,GAAuC,OAAbE,EAAoB,CAE/C,IAAIC,EAAWl2D,EAAsB,EAAVg2D,EACvBtX,EAAaxoE,EAAO0uB,mBAExB6wD,EAAiBnvD,gBAAiBo4C,IAEhB,OAAbuX,GAAqBA,EAASh7E,OAASi7E,KAExCD,EAAW,IAAI5nC,aAAc6nC,IAIjC,IAAM,IAAIhiF,EAAI,EAAGiiF,EAAKn2D,EAAW9rB,IAAM8hF,IAAY9hF,EAAGiiF,GAAM,EAExDznD,EAAMrwB,KAAMosB,EAAQv2B,IAAMioB,aAAcuiD,EAAY+W,GAEpD/mD,EAAM/I,OAAO1P,QAASggE,EAAUE,GAChCF,EAAUE,EAAK,GAAMznD,EAAMzE,SAMnCyrD,EAAQvgF,MAAQ8gF,EAChBP,EAAQ50B,aAAc,EAM1B,OAFA1iD,EAAMw3E,UAAYI,EAEXC,EAvIX/6E,KAAKw6E,QAAUA,EACfx6E,KAAK06E,UAAY,EACjB16E,KAAK26E,gBAAkB,EAEvB36E,KAAKM,KAAO,SAAWivB,EAAQ2rD,EAAqBlgF,GAEhD,IAAI4F,EACkB,IAAlB2uB,EAAOxvB,QACPm7E,GAGoB,IAApBb,GACA1T,EAOJ,OALAA,EAAuBuU,EAEvBd,EAAcQ,EAAerrD,EAAQv0B,EAAQ,GAC7Cq/E,EAAkB9qD,EAAOxvB,OAElBa,GAIXZ,KAAKm7E,aAAe,WAEhBb,GAAmB,EACnBM,EAAe,OAInB56E,KAAKo7E,WAAa,WAEdd,GAAmB,EACnBG,KAIJz6E,KAAKq7E,SAAW,SAAW9rD,EAAQs4B,EAAkBC,EAAa9sD,EAAQg/C,EAAOshC,GAE7E,IAAO3U,GAAmC,OAAXp3C,GAAqC,IAAlBA,EAAOxvB,QAAgBu6E,IAAsBxyB,EAItFwyB,EAIDM,EAAe,MAIfH,QAID,CAEH,IAAIc,EAAUjB,EAAmB,EAAID,EACjCmB,EAAoB,EAAVD,EAEVR,EAAW/gC,EAAMyhC,eAAiB,KAEtCjB,EAAQvgF,MAAQ8gF,EAEhBA,EAAWH,EAAerrD,EAAQv0B,EAAQwgF,EAASF,GAEnD,IAAM,IAAItiF,EAAI,EAAGA,IAAMwiF,IAAYxiF,EAE/B+hF,EAAU/hF,GAAMohF,EAAaphF,GAIjCghD,EAAMyhC,cAAgBV,EACtB/6E,KAAK26E,gBAAkB9yB,EAAmB7nD,KAAK06E,UAAY,EAC3D16E,KAAK06E,WAAaa,KAu6NtBG,IAAmB,EACnBC,IAAwB,EAIxB5W,GAAoB,IAAIntD,GAExBgkE,GAAW,IAAI96E,GAEnB,SAAS+6E,KAEL,OAAgC,OAAzB1C,GAAgCY,GAAc,EAQzD,IAEI,IAAI+B,IACArhE,MAAO68D,EACPxmC,MAAOymC,EACPE,QAASD,EACTh7E,UAAWk7E,EACXpvB,mBAAoBqvB,EACpBE,sBAAuBD,EACvBG,gBAAiBD,GAUrB,GALAxP,EAAQxpE,iBAAkB,mBAAoBi9E,IAAe,GAC7DzT,EAAQxpE,iBAAkB,uBAAwBk9E,IAAkB,GAIvD,QAFb1U,EAAM+P,GAAY/O,EAAQl8C,WAAY,QAAS0vD,KAAuBxT,EAAQl8C,WAAY,qBAAsB0vD,KAI5G,MAAuC,OAAlCxT,EAAQl8C,WAAY,SAEf,IAAIvT,MAAO,+DAIX,IAAIA,MAAO,sCAQalY,IAAjC2mE,EAAI2U,2BAEL3U,EAAI2U,yBAA2B,WAE3B,OAASC,SAAY,EAAGC,SAAY,EAAGt8B,UAAa,KAM9D,MAAQ/nC,GAENhP,QAAQgP,MAAO,wBAA0BA,EAAMskE,SAYnD,SAASC,KAELtzB,EAAa,IAh7NrB,SAA0B7W,GAEtB,IAAI6W,KAEJ,OAEIlvD,IAAK,SAAWN,GAEZ,QAA4BoH,IAAvBooD,EAAYxvD,GAEb,OAAOwvD,EAAYxvD,GAIvB,IAAIuyE,EAEJ,OAASvyE,GAEL,IAAK,sBACDuyE,EAAY55B,EAAGoqC,aAAc,wBAA2BpqC,EAAGoqC,aAAc,4BAA+BpqC,EAAGoqC,aAAc,8BACzH,MAEJ,IAAK,iCACDxQ,EAAY55B,EAAGoqC,aAAc,mCAAsCpqC,EAAGoqC,aAAc,uCAA0CpqC,EAAGoqC,aAAc,yCAC/I,MAEJ,IAAK,gCACDxQ,EAAY55B,EAAGoqC,aAAc,kCAAqCpqC,EAAGoqC,aAAc,sCAAyCpqC,EAAGoqC,aAAc,wCAC7I,MAEJ,IAAK,iCACDxQ,EAAY55B,EAAGoqC,aAAc,mCAAsCpqC,EAAGoqC,aAAc,yCACpF,MAEJ,QACIxQ,EAAY55B,EAAGoqC,aAAc/iF,GAYrC,OARmB,OAAduyE,GAEDhjE,QAAQC,KAAM,wBAA0BxP,EAAO,6BAInDwvD,EAAYxvD,GAASuyE,EAEdA,IAi4NE,CAAqBxE,IAElCrN,EAAe,IAnsOvB,SAA4B/nB,EAAI6W,EAAYnP,GAExC,IAAI2iC,EAsBJ,SAAS3b,EAAiB/gB,GAEtB,GAAmB,UAAdA,EAAwB,CAEzB,GAAK3N,EAAG+pC,yBAA0B/pC,EAAGimB,cAAejmB,EAAGsqC,YAAa38B,UAAY,GAC5E3N,EAAG+pC,yBAA0B/pC,EAAG8qB,gBAAiB9qB,EAAGsqC,YAAa38B,UAAY,EAE7E,MAAO,QAIXA,EAAY,UAIhB,MAAmB,YAAdA,GAEI3N,EAAG+pC,yBAA0B/pC,EAAGimB,cAAejmB,EAAGuqC,cAAe58B,UAAY,GAC9E3N,EAAG+pC,yBAA0B/pC,EAAG8qB,gBAAiB9qB,EAAGuqC,cAAe58B,UAAY,EAExE,UAMR,OAIX,IAAI8a,EAA6C,oBAA3B+hB,wBAA0CxqC,aAAcwqC,uBAE1E78B,OAAqCl/C,IAAzBi5C,EAAWiG,UAA0BjG,EAAWiG,UAAY,QACxE88B,EAAe/b,EAAiB/gB,GAE/B88B,IAAiB98B,IAElB/2C,QAAQC,KAAM,uBAAwB82C,EAAW,uBAAwB88B,EAAc,YACvF98B,EAAY88B,GAIhB,IAAI5hB,GAA+D,IAAtCnhB,EAAWmhB,uBAEpC6hB,EAAc1qC,EAAGhf,aAAcgf,EAAG2qC,yBAClCC,EAAoB5qC,EAAGhf,aAAcgf,EAAG6qC,gCACxClY,EAAiB3yB,EAAGhf,aAAcgf,EAAG8qC,kBACrCxN,EAAiBt9B,EAAGhf,aAAcgf,EAAG+qC,2BAErCC,EAAgBhrC,EAAGhf,aAAcgf,EAAGirC,oBACpC1c,EAAoBvuB,EAAGhf,aAAcgf,EAAGkrC,4BACxCC,EAAcnrC,EAAGhf,aAAcgf,EAAGorC,qBAClCC,EAAsBrrC,EAAGhf,aAAcgf,EAAGsrC,8BAE1Czc,EAAiB+b,EAAoB,EACrCW,EAAwB9iB,KAAe5R,EAAWlvD,IAAK,qBAG3D,OAEI8gE,SAAUA,EAEV8R,iBAlFJ,WAEI,QAAuB9rE,IAAlB47E,EAA8B,OAAOA,EAE1C,IAAIzQ,EAAY/iB,EAAWlvD,IAAK,kCAYhC,OARI0iF,EAFe,OAAdzQ,EAEe55B,EAAGhf,aAAc44C,EAAU4R,gCAI3B,GAuEpB9c,gBAAiBA,EAEjB/gB,UAAWA,EACXkb,uBAAwBA,EAExB6hB,YAAaA,EACbE,kBAAmBA,EACnBjY,eAAgBA,EAChB2K,eAAgBA,EAEhB0N,cAAeA,EACfzc,kBAAmBA,EACnB4c,YAAaA,EACbE,oBAAqBA,EAErBxc,eAAgBA,EAChB0c,sBAAuBA,EACvBld,oBAxBsBQ,GAAkB0c,GAmnOzB,CAAuBnW,EAAKve,EAAYnP,IAEnC+gB,WAEhB5R,EAAWlvD,IAAK,uBAChBkvD,EAAWlvD,IAAK,qBAChBkvD,EAAWlvD,IAAK,0BAChBkvD,EAAWlvD,IAAK,iCAChBkvD,EAAWlvD,IAAK,4BAChBkvD,EAAWlvD,IAAK,0BAChBkvD,EAAWlvD,IAAK,2BAIpBkvD,EAAWlvD,IAAK,4BAEhBwuE,EAAQ,IAAI4H,GAAY3I,EAAKve,EAAYkR,IAEzC12D,EAAQ,IAjwGhB,SAAqB2uC,EAAI6W,EAAYsf,EAAOpO,GA+SxC,IAAI0jB,EAAc,IA7SlB,WAEI,IAAIC,GAAS,EAET3/E,EAAQ,IAAI4vB,GACZgwD,EAAmB,KACnBC,EAAoB,IAAIjwD,GAAS,EAAG,EAAG,EAAG,GAE9C,OAEIkwD,QAAS,SAAWC,GAEXH,IAAqBG,GAAeJ,IAErC1rC,EAAG8rC,UAAWA,EAAWA,EAAWA,EAAWA,GAC/CH,EAAmBG,IAM3BC,UAAW,SAAWC,GAElBN,EAASM,GAIbzW,SAAU,SAAW3tE,EAAGqxB,EAAGjS,EAAGD,EAAGqvC,IAED,IAAvBA,IAEDxuD,GAAKmf,EAAGkS,GAAKlS,EAAGC,GAAKD,GAIzBhb,EAAMnB,IAAKhD,EAAGqxB,EAAGjS,EAAGD,IAEuB,IAAtC6kE,EAAkBjjE,OAAQ5c,KAE3Bi0C,EAAGisC,WAAYrkF,EAAGqxB,EAAGjS,EAAGD,GACxB6kE,EAAkB36E,KAAMlF,KAMhCmF,MAAO,WAEHw6E,GAAS,EAETC,EAAmB,KACnBC,EAAkBhhF,KAAO,EAAG,EAAG,EAAG,MA2P1CsxB,EAAc,IAnPlB,WAEI,IAAIwvD,GAAS,EAETQ,EAAmB,KACnBC,EAAmB,KACnBC,EAAoB,KAExB,OAEI5W,QAAS,SAAWhgB,GAEXA,EAED/R,GAAQzD,EAAGqsC,YAIX1oC,GAAS3D,EAAGqsC,aAMpBR,QAAS,SAAWS,GAEXJ,IAAqBI,GAAeZ,IAErC1rC,EAAGssC,UAAWA,GACdJ,EAAmBI,IAM3BC,QAAS,SAAWh3B,GAEhB,GAAK42B,IAAqB52B,EAAY,CAElC,GAAKA,EAED,OAASA,GAEL,KAAK73C,EAEDsiC,EAAGuV,UAAWvV,EAAGwsC,OACjB,MAEJ,KAAK7uE,EAEDqiC,EAAGuV,UAAWvV,EAAGysC,QACjB,MAEJ,KAAK7uE,EAEDoiC,EAAGuV,UAAWvV,EAAG0sC,MACjB,MAEJ,KAAK7uE,EAEDmiC,EAAGuV,UAAWvV,EAAG2sC,QACjB,MAEJ,KAAK7uE,EAEDkiC,EAAGuV,UAAWvV,EAAG4sC,OACjB,MAEJ,KAAK7uE,EAEDiiC,EAAGuV,UAAWvV,EAAG6sC,QACjB,MAEJ,KAAK7uE,EAEDgiC,EAAGuV,UAAWvV,EAAG8sC,SACjB,MAEJ,KAAK7uE,EAED+hC,EAAGuV,UAAWvV,EAAG+sC,UACjB,MAEJ,QAEI/sC,EAAGuV,UAAWvV,EAAG2sC,aAMzB3sC,EAAGuV,UAAWvV,EAAG2sC,QAIrBR,EAAmB52B,IAM3Bw2B,UAAW,SAAWC,GAElBN,EAASM,GAIbzW,SAAU,SAAW32B,GAEZwtC,IAAsBxtC,IAEvBoB,EAAGgtC,WAAYpuC,GACfwtC,EAAoBxtC,IAM5B1tC,MAAO,WAEHw6E,GAAS,EAETQ,EAAmB,KACnBC,EAAmB,KACnBC,EAAoB,QAwH5BjwD,EAAgB,IAhHpB,WAEI,IAAIuvD,GAAS,EAETuB,EAAqB,KACrBC,EAAqB,KACrBC,EAAoB,KACpBC,EAAyB,KACzBC,EAAqB,KACrBC,EAAsB,KACtBC,EAAsB,KACtBC,EAAsB,KAE1B,OAEIhY,QAAS,SAAWiY,GAEXA,EAEDhqC,GAAQzD,EAAG0tC,cAIX/pC,GAAS3D,EAAG0tC,eAMpB7B,QAAS,SAAW8B,GAEXV,IAAuBU,GAAiBjC,IAEzC1rC,EAAG2tC,YAAaA,GAChBV,EAAqBU,IAM7BpB,QAAS,SAAWqB,EAAaC,EAAYF,GAEpCT,IAAuBU,GACxBT,IAAuBU,GACvBT,IAA2BO,IAE3B3tC,EAAG4tC,YAAaA,EAAaC,EAAYF,GAEzCT,EAAqBU,EACrBT,EAAoBU,EACpBT,EAAyBO,IAMjCG,MAAO,SAAWC,EAAaC,EAAcC,GAEpCZ,IAAwBU,GACzBT,IAAwBU,GACxBT,IAAwBU,IAExBjuC,EAAGkuC,UAAWH,EAAaC,EAAcC,GAEzCZ,EAAqBU,EACrBT,EAAsBU,EACtBT,EAAsBU,IAM9BlC,UAAW,SAAWC,GAElBN,EAASM,GAIbzW,SAAU,SAAWgQ,GAEZiI,IAAwBjI,IAEzBvlC,EAAGmuC,aAAc5I,GACjBiI,EAAsBjI,IAM9Br0E,MAAO,WAEHw6E,GAAS,EAETuB,EAAqB,KACrBC,EAAqB,KACrBC,EAAoB,KACpBC,EAAyB,KACzBC,EAAqB,KACrBC,EAAsB,KACtBC,EAAsB,KACtBC,EAAsB,QAc9BY,EAAsBpuC,EAAGhf,aAAcgf,EAAGirC,oBAC1CoD,EAAgB,IAAIxsC,WAAYusC,GAChCE,EAAoB,IAAIzsC,WAAYusC,GACpCG,EAAoB,IAAI1sC,WAAYusC,GAEpCI,KAEAC,EAA2B,KAE3BC,EAAiB,KAEjBC,EAAyB,KACzBC,EAAkB,KAClBC,EAAuB,KACvBC,EAAkB,KAClBC,EAAkB,KAClBC,EAA4B,KAC5BC,EAAuB,KACvBC,EAAuB,KACvBC,GAA2B,EAE3BC,EAAmB,KACnBC,EAAkB,KAElBC,EAAmB,KAEnBC,EAA6B,KAC7BC,EAA4B,KAE5B9E,EAAc1qC,EAAGhf,aAAcgf,EAAGyvC,kCAElCC,GAAqB,EACrBj0D,EAAU,EACVk0D,EAAY3vC,EAAGhf,aAAcgf,EAAG4vC,UAEI,IAAnCD,EAAU10E,QAAS,UAEpBwgB,EAAU+b,WAAY,kBAAkBC,KAAMk4C,GAAa,IAC3DD,EAAuBj0D,GAAW,IAEa,IAAvCk0D,EAAU10E,QAAS,eAE3BwgB,EAAU+b,WAAY,uBAAuBC,KAAMk4C,GAAa,IAChED,EAAuBj0D,GAAW,GAItC,IAAIo0D,EAAqB,KACrBC,KAEAC,GAAiB,IAAIp0D,GACrBq0D,GAAkB,IAAIr0D,GAE1B,SAAS8+C,GAAe3mE,EAAMnF,EAAQkgB,GAElC,IAAI4N,EAAO,IAAIolB,WAAY,GACvB5lB,EAAU+jB,EAAGy6B,gBAEjBz6B,EAAGu5B,YAAazlE,EAAMmoB,GACtB+jB,EAAG65B,cAAe/lE,EAAMksC,EAAGk6B,mBAAoBl6B,EAAG63B,SAClD73B,EAAG65B,cAAe/lE,EAAMksC,EAAGi6B,mBAAoBj6B,EAAG63B,SAElD,IAAM,IAAI/wE,EAAI,EAAGA,EAAI+nB,EAAO/nB,IAExBk5C,EAAGy7B,WAAY9sE,EAAS7H,EAAG,EAAGk5C,EAAGw3B,KAAM,EAAG,EAAG,EAAGx3B,EAAGw3B,KAAMx3B,EAAG8B,cAAerlB,GAI/E,OAAOR,EAIX,IAAIg0D,MAqCJ,SAASC,GAA2BnnE,EAAWonE,GAE3C9B,EAAetlE,GAAc,EAEW,IAAnCulE,EAAmBvlE,KAEpBi3B,EAAGowC,wBAAyBrnE,GAC5BulE,EAAmBvlE,GAAc,GAIhCwlE,EAAmBxlE,KAAgBonE,KAEpBpoB,EAAaU,SAAWzoB,EAAK6W,EAAWlvD,IAAK,2BAElDogE,EAAaU,SAAW,sBAAwB,4BAA8B1/C,EAAWonE,GACpG5B,EAAmBxlE,GAAconE,GAqBzC,SAAS1sC,GAAQ0C,IAEsB,IAA9BqoC,EAAqBroC,KAEtBnG,EAAGyD,OAAQ0C,GACXqoC,EAAqBroC,IAAO,GAMpC,SAASxC,GAASwC,IAEqB,IAA9BqoC,EAAqBroC,KAEtBnG,EAAG2D,QAASwC,GACZqoC,EAAqBroC,IAAO,GAiDpC,SAASkqC,GAAav7B,EAAUK,EAAeF,EAAUC,EAAUI,EAAoBF,EAAeC,EAAee,GAEjH,GAAKtB,IAAa14C,GAoBlB,GAPOuyE,IAEHlrC,GAAQzD,EAAGs1B,OACXqZ,GAAyB,GAIxB75B,IAAar4C,EAmFlB64C,EAAqBA,GAAsBH,EAC3CC,EAAgBA,GAAiBH,EACjCI,EAAgBA,GAAiBH,EAE5BC,IAAkB05B,GAAwBv5B,IAAuB05B,IAElEhvC,EAAGswC,sBAAuBna,EAAM4D,QAAS5kB,GAAiBghB,EAAM4D,QAASzkB,IAEzEu5B,EAAuB15B,EACvB65B,EAA4B15B,GAI3BL,IAAa65B,GAAmB55B,IAAa65B,GAAmB35B,IAAkB65B,GAAwB55B,IAAkB65B,IAE7HlvC,EAAGuwC,kBAAmBpa,EAAM4D,QAAS9kB,GAAYkhB,EAAM4D,QAAS7kB,GAAYihB,EAAM4D,QAAS3kB,GAAiB+gB,EAAM4D,QAAS1kB,IAE3Hy5B,EAAkB75B,EAClB85B,EAAkB75B,EAClB+5B,EAAuB75B,EACvB85B,EAAuB75B,GAI3Bu5B,EAAkB95B,EAClBq6B,EAA2B,UA1GvB,GAAKr6B,IAAa85B,GAAmBx4B,IAAuB+4B,EAA2B,CAWnF,GATKN,IAAyBnyE,GAAesyE,IAA8BtyE,IAEvEsjC,EAAGmV,cAAenV,EAAG6+B,UAErBgQ,EAAuBnyE,EACvBsyE,EAA4BtyE,GAI3B05C,EAED,OAAStB,GAEL,KAAKz4C,EACD2jC,EAAGuwC,kBAAmBvwC,EAAGi/B,IAAKj/B,EAAGq/B,oBAAqBr/B,EAAGi/B,IAAKj/B,EAAGq/B,qBACjE,MAEJ,KAAK/iE,EACD0jC,EAAGwwC,UAAWxwC,EAAGi/B,IAAKj/B,EAAGi/B,KACzB,MAEJ,KAAK1iE,EACDyjC,EAAGuwC,kBAAmBvwC,EAAGg/B,KAAMh/B,EAAGg/B,KAAMh/B,EAAGm/B,oBAAqBn/B,EAAGq/B,qBACnE,MAEJ,KAAK7iE,EACDwjC,EAAGuwC,kBAAmBvwC,EAAGg/B,KAAMh/B,EAAGk/B,UAAWl/B,EAAGg/B,KAAMh/B,EAAGo/B,WACzD,MAEJ,QACIxoE,QAAQgP,MAAO,uCAAwCkvC,QAO/D,OAASA,GAEL,KAAKz4C,EACD2jC,EAAGuwC,kBAAmBvwC,EAAGo/B,UAAWp/B,EAAGq/B,oBAAqBr/B,EAAGi/B,IAAKj/B,EAAGq/B,qBACvE,MAEJ,KAAK/iE,EACD0jC,EAAGwwC,UAAWxwC,EAAGo/B,UAAWp/B,EAAGi/B,KAC/B,MAEJ,KAAK1iE,EACDyjC,EAAGwwC,UAAWxwC,EAAGg/B,KAAMh/B,EAAGm/B,qBAC1B,MAEJ,KAAK3iE,EACDwjC,EAAGwwC,UAAWxwC,EAAGg/B,KAAMh/B,EAAGk/B,WAC1B,MAEJ,QACItoE,QAAQgP,MAAO,uCAAwCkvC,GAOnEg6B,EAAkB,KAClBC,EAAkB,KAClBE,EAAuB,KACvBC,EAAuB,KAEvBN,EAAkB95B,EAClBq6B,EAA2B/4B,QA3F1Bu4B,IAEDhrC,GAAS3D,EAAGs1B,OACZqZ,GAAyB,GAyJrC,SAAS8B,GAAc9mB,GAEdylB,IAAqBzlB,IAEjBA,EAED3pB,EAAG0wC,UAAW1wC,EAAG2wC,IAIjB3wC,EAAG0wC,UAAW1wC,EAAG4wC,KAIrBxB,EAAmBzlB,GAM3B,SAASknB,GAAaC,GAEbA,IAAar1E,GAEdgoC,GAAQzD,EAAG+wC,WAEND,IAAazB,IAETyB,IAAap1E,EAEdskC,EAAG8wC,SAAU9wC,EAAGgxC,MAERF,IAAan1E,EAErBqkC,EAAG8wC,SAAU9wC,EAAGixC,OAIhBjxC,EAAG8wC,SAAU9wC,EAAGkxC,kBAQxBvtC,GAAS3D,EAAG+wC,WAIhB1B,EAAkByB,EAgBtB,SAASK,GAAkBp7B,EAAeq7B,EAAQvtB,GAEzC9N,GAEDtS,GAAQzD,EAAGqxC,qBAEN9B,IAA+B6B,GAAU5B,IAA8B3rB,IAExE7jB,EAAG+V,cAAeq7B,EAAQvtB,GAE1B0rB,EAA6B6B,EAC7B5B,EAA4B3rB,IAMhClgB,GAAS3D,EAAGqxC,qBAsBpB,SAAShY,GAAeiY,QAED7iF,IAAd6iF,IAA0BA,EAAYtxC,EAAGs5B,SAAWoR,EAAc,GAElEmF,IAAuByB,IAExBtxC,EAAGq5B,cAAeiY,GAClBzB,EAAqByB,GAuI7B,OAjiBArB,GAAejwC,EAAGw5B,YAAeiB,GAAez6B,EAAGw5B,WAAYx5B,EAAGw5B,WAAY,GAC9EyW,GAAejwC,EAAGm9B,kBAAqB1C,GAAez6B,EAAGm9B,iBAAkBn9B,EAAGu9B,4BAA6B,GAI3GkO,EAAYlW,SAAU,EAAG,EAAG,EAAG,GAC/Br5C,EAAYq5C,SAAU,GACtBp5C,EAAco5C,SAAU,GAExB9xB,GAAQzD,EAAGqsC,YACXnwD,EAAYqwD,QAAS1uE,GAErB4yE,IAAc,GACdI,GAAan1E,GACb+nC,GAAQzD,EAAG+wC,WAEXV,GAAaj0E,IAmhBT6jC,SACIl0C,MAAO0/E,EACP7sC,MAAO1iB,EACPqpD,QAASppD,GAGbo1D,eArhBJ,WAEI,IAAM,IAAIzqF,EAAI,EAAGC,EAAIsnF,EAAcxgF,OAAQ/G,EAAIC,EAAGD,IAE9CunF,EAAevnF,GAAM,GAkhBzB0qF,gBA5gBJ,SAA0BzoE,GAEtBmnE,GAA2BnnE,EAAW,IA2gBtCmnE,0BAA2BA,GAC3BuB,wBAlfJ,WAEI,IAAM,IAAI3qF,EAAI,EAAGC,EAAIunF,EAAkBzgF,OAAQ/G,IAAMC,IAAMD,EAElDwnF,EAAmBxnF,KAAQunF,EAAevnF,KAE3Ck5C,EAAG0xC,yBAA0B5qF,GAC7BwnF,EAAmBxnF,GAAM,IA4ejC28C,OAAQA,GACRE,QAASA,GACTg4B,4BAhdJ,WAEI,GAAkC,OAA7B8S,IAEDA,KAEK53B,EAAWlvD,IAAK,mCACjBkvD,EAAWlvD,IAAK,kCAChBkvD,EAAWlvD,IAAK,kCAChBkvD,EAAWlvD,IAAK,kCAIhB,IAFA,IAAIgqF,EAAU3xC,EAAGhf,aAAcgf,EAAG4xC,4BAExB9qF,EAAI,EAAGA,EAAI6qF,EAAQ9jF,OAAQ/G,IAEjC2nF,EAAyBvzE,KAAMy2E,EAAS7qF,IAQpD,OAAO2nF,GA2bPoD,WAvbJ,SAAqB1sB,GAEjB,OAAKupB,IAAmBvpB,IAEpBnlB,EAAG6xC,WAAY1sB,GAEfupB,EAAiBvpB,GAEV,IAibXkrB,YAAaA,GACbyB,YApSJ,SAAsBjmF,EAAUkmF,GAE5BlmF,EAASkpD,OAAS/4C,EACZ2nC,GAAS3D,EAAG+wC,WACZttC,GAAQzD,EAAG+wC,WAEjB,IAAIpnB,EAAc99D,EAASkpD,OAASh5C,EAC/Bg2E,IAAcpoB,GAAcA,GAEjC8mB,GAAc9mB,GAEZ99D,EAASipD,WAAaz4C,IAA2C,IAAzBxQ,EAASmpD,YAC7Cq7B,GAAaj0E,GACbi0E,GAAaxkF,EAASipD,SAAUjpD,EAASspD,cAAetpD,EAASopD,SAAUppD,EAASqpD,SAAUrpD,EAASypD,mBAAoBzpD,EAASupD,cAAevpD,EAASwpD,cAAexpD,EAASuqD,oBAE1Ll6B,EAAYqwD,QAAS1gF,EAAS0pD,WAC9Br5B,EAAYs5C,QAAS3pE,EAAS2pD,WAC9Bt5B,EAAY2vD,QAAShgF,EAAS4pD,YAC9Bg2B,EAAYI,QAAShgF,EAASiqD,YAE9Bq7B,GAAkBtlF,EAASkqD,cAAelqD,EAASmqD,oBAAqBnqD,EAASoqD,qBAkRjFw6B,aAAcA,GACdI,YAAaA,GAEbmB,aAzNJ,SAAuB7rE,GAEdA,IAAUmpE,IAENI,GAAqB1vC,EAAGiyC,UAAW9rE,GAExCmpE,EAAmBnpE,IAoNvBgrE,iBAAkBA,GAElB1b,eAzLJ,SAAyB15C,GAEhBA,EAED0nB,GAAQzD,EAAGkyC,cAIXvuC,GAAS3D,EAAGkyC,eAmLhB7Y,cAAeA,GACfE,YA/JJ,SAAsB4Y,EAAWrU,GAED,OAAvB+R,GAEDxW,KAIJ,IAAI+Y,EAAetC,EAAsBD,QAEnBphF,IAAjB2jF,IAEDA,GAAiBt+E,UAAMrF,EAAWwtB,aAASxtB,GAC3CqhF,EAAsBD,GAAuBuC,GAI5CA,EAAat+E,OAASq+E,GAAaC,EAAan2D,UAAY6hD,IAE7D99B,EAAGu5B,YAAa4Y,EAAWrU,GAAgBmS,GAAekC,IAE1DC,EAAat+E,KAAOq+E,EACpBC,EAAan2D,QAAU6hD,IA0I3BlC,qBApIJ,WAEI,IAEI57B,EAAG47B,qBAAqBhiE,MAAOomC,EAAIrlC,WAErC,MAAQiL,GAENhP,QAAQgP,MAAO,oBAAqBA,KA6HxC61D,WAvHJ,WAEI,IAEIz7B,EAAGy7B,WAAW7hE,MAAOomC,EAAIrlC,WAE3B,MAAQiL,GAENhP,QAAQgP,MAAO,oBAAqBA,KAgHxCi2D,WA1GJ,WAEI,IAEI77B,EAAG67B,WAAWjiE,MAAOomC,EAAIrlC,WAE3B,MAAQiL,GAENhP,QAAQgP,MAAO,oBAAqBA,KAoGxCkW,QA5FJ,SAAkBA,IAE4B,IAArCi0D,GAAepnE,OAAQmT,KAExBkkB,EAAGlkB,QAASA,EAAQ5uB,EAAG4uB,EAAQ3uB,EAAG2uB,EAAQ1uB,EAAG0uB,EAAQjW,GACrDkqE,GAAe9+E,KAAM6qB,KAwFzBE,SAlFJ,SAAmBA,IAE6B,IAAvCg0D,GAAgBrnE,OAAQqT,KAEzBgkB,EAAGhkB,SAAUA,EAAS9uB,EAAG8uB,EAAS7uB,EAAG6uB,EAAS5uB,EAAG4uB,EAASnW,GAC1DmqE,GAAgB/+E,KAAM+qB,KA+E1B9qB,MAvEJ,WAEI,IAAM,IAAIpK,EAAI,EAAGA,EAAIwnF,EAAkBzgF,OAAQ/G,IAEX,IAA3BwnF,EAAmBxnF,KAEpBk5C,EAAG0xC,yBAA0B5qF,GAC7BwnF,EAAmBxnF,GAAM,GAMjC0nF,KAEAC,EAA2B,KAE3BoB,EAAqB,KACrBC,KAEApB,EAAiB,KAEjBE,EAAkB,KAElBQ,EAAmB,KACnBC,EAAkB,KAElB5D,EAAYv6E,QACZgrB,EAAYhrB,QACZirB,EAAcjrB,UAw2EN,CAAgBkkE,EAAKve,EAAYsf,EAAOpO,IAC1CjsC,QAAS0rD,GAAgBv2E,KAAM82E,IAAWl1E,eAAgBg1E,KAChEx2E,EAAM2qB,SAAUurD,GAAiBt2E,KAAM62E,IAAYj1E,eAAgBg1E,KAEnEviB,EAAO,IAxpNf,SAAoBtlB,GAEhB,IAKIxxC,GACAmxC,MAAO,EACP0yC,MAAO,EACPC,UAAW,EACXhzD,OAAQ,EACR4mC,MAAO,GAsDX,OACIqS,QAhEAvxB,WAAY,EACZtpB,SAAU,GAgEVlvB,OAAQA,EACRm+D,SAAU,KACV4lB,WAAW,EACXrhF,MAfJ,WAEI1C,EAAOmxC,QACPnxC,EAAO6jF,MAAQ,EACf7jF,EAAO8jF,UAAY,EACnB9jF,EAAO8wB,OAAS,EAChB9wB,EAAO03D,MAAQ,GAUf33D,OAzDJ,SAAiBsgB,EAAO5mB,EAAMuqF,GAM1B,OAJAA,EAAgBA,GAAiB,EAEjChkF,EAAO6jF,QAEEpqF,GAEL,KAAK+3C,EAAGyyC,UACJjkF,EAAO8jF,WAAaE,GAAkB3jE,EAAQ,GAC9C,MAEJ,KAAKmxB,EAAG0yC,eACR,KAAK1yC,EAAG2yC,aACJnkF,EAAO8jF,WAAaE,GAAkB3jE,EAAQ,GAC9C,MAEJ,KAAKmxB,EAAG4yC,MACJpkF,EAAO03D,OAASssB,GAAkB3jE,EAAQ,GAC1C,MAEJ,KAAKmxB,EAAG6yC,WACJrkF,EAAO03D,OAASssB,GAAkB3jE,EAAQ,GAC1C,MAEJ,KAAKmxB,EAAG8yC,UACJtkF,EAAO03D,OAASssB,EAAgB3jE,EAChC,MAEJ,KAAKmxB,EAAG+yC,OACJvkF,EAAO8wB,QAAUkzD,EAAgB3jE,EACjC,MAEJ,QACIjY,QAAQgP,MAAO,sCAAuC3d,MAumNvD,CAAemtE,GACtB/4B,EAAa,IA/8IrB,WAEI,IAAIA,EAAa,IAAI6D,QAmCrB,OACIv4C,IAlCJ,SAAca,GAEV,IAAImxC,EAAM0C,EAAW10C,IAAKa,GAS1B,YAPaiG,IAARkrC,IAEDA,KACA0C,EAAWzxC,IAAKpC,EAAQmxC,IAIrBA,GAwBP3rC,OApBJ,SAAiBxF,GAEb6zC,EAAWiE,OAAQ93C,IAmBnB+F,OAfJ,SAAiB/F,EAAQH,EAAKN,GAE1Bs0C,EAAW10C,IAAKa,GAAUH,GAAQN,GAclCoL,QAVJ,WAEIkpC,EAAa,IAAI6D,WA+6IjBxiB,EAAW,IAAIw4C,GAAed,EAAKve,EAAYxlD,EAAOgrC,EAAY0rB,EAAcoO,EAAO7Q,GACvF1kC,EAAa,IAAImf,GAAiBq1B,GAClCpuB,EAAa,IAj5NrB,SAA0BhH,EAAIpf,EAAY0kC,GAEtC,IAAIte,KACAgsC,KAEJ,SAASC,EAAmB/7E,GAExB,IAAIspB,EAAWtpB,EAAMvI,OACjBukF,EAAiBlsC,EAAYxmB,EAAS2lB,IAQ1C,IAAM,IAAI9+C,KANoB,OAAzB6rF,EAAex4E,OAEhBkmB,EAAW5yB,OAAQklF,EAAex4E,OAIpBw4E,EAAetyD,WAE7BA,EAAW5yB,OAAQklF,EAAetyD,WAAYv5B,IAIlDm5B,EAASptB,oBAAqB,UAAW6/E,UAElCjsC,EAAYxmB,EAAS2lB,IAE5B,IAAIp9B,EAAYiqE,EAAqBE,EAAe/sC,IAE/Cp9B,IAED6X,EAAW5yB,OAAQ+a,UACZiqE,EAAqBE,EAAe/sC,KAM/Cmf,EAAKiT,OAAOvxB,aA8HhB,OAEIr/C,IA5HJ,SAAca,EAAQg4B,GAElB,IAAI0yD,EAAiBlsC,EAAYxmB,EAAS2lB,IAE1C,OAAK+sC,IAEL1yD,EAAS5zB,iBAAkB,UAAWqmF,GAEjCzyD,EAASG,iBAEVuyD,EAAiB1yD,EAETA,EAASC,kBAEiBhyB,IAA7B+xB,EAAS2yD,kBAEV3yD,EAAS2yD,iBAAkB,IAAI/hC,IAAiBvxB,cAAer3B,IAInE0qF,EAAiB1yD,EAAS2yD,iBAI9BnsC,EAAYxmB,EAAS2lB,IAAO+sC,EAE5B5tB,EAAKiT,OAAOvxB,aAELksC,IAiGP3kF,OA7FJ,SAAiBiyB,GAEb,IAAI9lB,EAAQ8lB,EAAS9lB,MACjB04E,EAAqB5yD,EAASI,WAQlC,IAAM,IAAIv5B,KANK,OAAVqT,GAEDkmB,EAAWryB,OAAQmM,EAAOslC,EAAGqzC,sBAIfD,EAEdxyD,EAAWryB,OAAQ6kF,EAAoB/rF,GAAQ24C,EAAGszC,cAMtD,IAAIjiC,EAAkB7wB,EAAS6wB,gBAE/B,IAAM,IAAIhqD,KAAQgqD,EAId,IAFA,IAAI/1C,EAAQ+1C,EAAiBhqD,GAEnBP,EAAI,EAAGC,EAAIuU,EAAMzN,OAAQ/G,EAAIC,EAAGD,IAEtC85B,EAAWryB,OAAQ+M,EAAOxU,GAAKk5C,EAAGszC,eAoE1CC,sBA5DJ,SAAgC/yD,GAE5B,IAAIzX,EAAYiqE,EAAqBxyD,EAAS2lB,IAE9C,GAAKp9B,EAAY,OAAOA,EAExB,IAuBQzN,EAvBJuvC,KAEA2oC,EAAgBhzD,EAAS9lB,MACzB04E,EAAqB5yD,EAASI,WAIlC,GAAuB,OAAlB4yD,EAID,IAFA,IAEU1sF,EAAI,EAAGC,GAFbuU,EAAQk4E,EAAcl4E,OAECzN,OAAQ/G,EAAIC,EAAGD,GAAK,EAAI,CAE/C,IAAIigB,EAAIzL,EAAOxU,EAAI,GACfkgB,EAAI1L,EAAOxU,EAAI,GACfK,EAAImU,EAAOxU,EAAI,GAEnB+jD,EAAQ3vC,KAAM6L,EAAGC,EAAGA,EAAG7f,EAAGA,EAAG4f,QAQjC,IAAUjgB,EAAI,EAAGC,GAFbuU,EAAQ83E,EAAmBzoF,SAAS2Q,OAEXzN,OAAS,EAAM,EAAG/G,EAAIC,EAAGD,GAAK,EAEnDigB,EAAIjgB,EAAI,EACRkgB,EAAIlgB,EAAI,EACRK,EAAIL,EAAI,EAEZ+jD,EAAQ3vC,KAAM6L,EAAGC,EAAGA,EAAG7f,EAAGA,EAAG4f,GAcrC,OANAgC,EAAY,IAAMwhC,GAAUM,GAAY,MAAQd,GAAwBF,IAAyBgB,EAAS,GAE1GjqB,EAAWryB,OAAQwa,EAAWi3B,EAAGqzC,sBAEjCL,EAAqBxyD,EAAS2lB,IAAOp9B,EAE9BA,IAkvNM,CAAqBqsD,EAAKx0C,EAAY0kC,GACnDihB,EAAU,IA/9MlB,SAAuBv/B,EAAYse,GAE/B,IAAImuB,KAmCJ,OAEIllF,OAnCJ,SAAiB/F,GAEb,IAAIm3C,EAAQ2lB,EAAK92D,OAAOmxC,MAEpBnf,EAAWh4B,EAAOg4B,SAClB0yD,EAAiBlsC,EAAWr/C,IAAKa,EAAQg4B,GAkB7C,OAdKizD,EAAYP,EAAe/sC,MAASxG,IAEhCnf,EAASC,YAEVyyD,EAAev/B,iBAAkBnrD,GAIrCw+C,EAAWz4C,OAAQ2kF,GAEnBO,EAAYP,EAAe/sC,IAAOxG,GAI/BuzC,GAaP//E,QATJ,WAEIsgF,OA87MU,CAAkBzsC,EAAYse,GACxCqhB,EAAe,IAvkNvB,SAA4B3mC,GAExB,IAAI0zC,KACAl0B,EAAkB,IAAIve,aAAc,GAwFxC,OAEI1yC,OAxFJ,SAAiB/F,EAAQg4B,EAAU30B,EAAUs5D,GAEzC,IAAIwuB,EAAmBnrF,EAAOu1D,sBAE1BlwD,EAAS8lF,EAAiB9lF,OAE1B+lF,EAAaF,EAAgBlzD,EAAS2lB,IAE1C,QAAoB13C,IAAfmlF,EAA2B,CAI5BA,KAEA,IAAM,IAAI9sF,EAAI,EAAGA,EAAI+G,EAAQ/G,IAEzB8sF,EAAY9sF,IAAQA,EAAG,GAI3B4sF,EAAgBlzD,EAAS2lB,IAAOytC,EAIpC,IAAIprC,EAAe38C,EAAS28C,cAAgBhoB,EAAS6wB,gBAAgB1mD,SACjE89C,EAAe58C,EAAS48C,cAAgBjoB,EAAS6wB,gBAAgB94B,OAIrE,IAAUzxB,EAAI,EAAGA,EAAI+G,EAAQ/G,IAID,KAFpB44D,EAAYk0B,EAAY9sF,IAEZ,KAEP0hD,GAAehoB,EAAS+yB,gBAAiB,cAAgBzsD,GACzD2hD,GAAejoB,EAAS+yB,gBAAiB,cAAgBzsD,IAQtE,IAAUA,EAAI,EAAGA,EAAI+G,EAAQ/G,KAErB44D,EAAYk0B,EAAY9sF,IAEjB,GAAMA,EACjB44D,EAAW,GAAMi0B,EAAkB7sF,GAQvC,IAJA8sF,EAAW3lC,KAAM8J,IAIPjxD,EAAI,EAAGA,EAAI,EAAGA,IAAO,CAE3B,IAAI44D,EAEJ,GAFIA,EAAYk0B,EAAY9sF,GAEX,CAEb,IAAI4T,EAAQglD,EAAW,GACnB33D,EAAQ23D,EAAW,GAEvB,GAAK33D,EAAQ,CAEJygD,GAAehoB,EAASsyB,aAAc,cAAgBhsD,EAAG0hD,EAAc9tC,IACvE+tC,GAAejoB,EAASsyB,aAAc,cAAgBhsD,EAAG2hD,EAAc/tC,IAE5E8kD,EAAiB14D,GAAMiB,EACvB,UAMRy3D,EAAiB14D,GAAM,EAI3Bq+D,EAAQ8G,cAAchI,SAAUjkB,EAAI,wBAAyBwf,KAg/M9C,CAAuB4V,GACtCoR,EAAe,IAAI9Z,GAAeoa,EAAOjwB,EAAYkR,GACrD0e,EAAc,IAAIxW,GAClByW,EAAe,IAl4HvB,WAEI,IAAIA,KAqCJ,OACI/+E,IApCJ,SAAcqB,EAAOF,GAEjB,IAAI+qF,EAuBJ,YArBkCplF,IAA7Bi4E,EAAc19E,EAAMm9C,KAErB0tC,EAAc,IAAI5hB,GAClByU,EAAc19E,EAAMm9C,OACpBugC,EAAc19E,EAAMm9C,IAAMr9C,EAAOq9C,IAAO0tC,QAIOplF,IAA1Ci4E,EAAc19E,EAAMm9C,IAAMr9C,EAAOq9C,KAElC0tC,EAAc,IAAI5hB,GAClByU,EAAc19E,EAAMm9C,IAAMr9C,EAAOq9C,IAAO0tC,GAIxCA,EAAcnN,EAAc19E,EAAMm9C,IAAMr9C,EAAOq9C,IAMhD0tC,GAYP1gF,QARJ,WAEIuzE,QAi2HAz8E,EAAa,IAp6OrB,SAA0BhB,EAAUoI,EAAOk1E,EAASnwB,GAEhD,IAGI09B,EACAC,EAJA9H,EAAa,IAAI/hF,GAAO,GACxB8pF,EAAa,EA2FjB,SAASze,EAAUxpE,EAAOwc,GAEtBlX,EAAM4uC,QAAQl0C,MAAMwpE,SAAUxpE,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,EAAGuB,EAAO6tC,GAIpE,OAEI69B,cAAe,WAEX,OAAOhI,GAGXiI,cAAe,SAAWnoF,EAAOwc,GAE7B0jE,EAAWrhF,IAAKmB,GAEhBwpE,EAAU0W,EADV+H,OAAuBvlF,IAAV8Z,EAAsBA,EAAQ,IAI/C4rE,cAAe,WAEX,OAAOH,GAGXI,cAAe,SAAW7rE,GAGtBgtD,EAAU0W,EADV+H,EAAazrE,IAIjB/Z,OArHJ,SAAiB6lF,EAAYrrF,EAAOF,EAAQwrF,GAExC,IAAIrqF,EAAajB,EAAMiB,WAEH,OAAfA,EAEDsrE,EAAU0W,EAAY+H,GAEd/pF,GAAcA,EAAWyjC,UAEjC6nC,EAAUtrE,EAAY,GACtBqqF,GAAa,IAIZrrF,EAAS+8E,WAAasO,IAEvBrrF,EAAS+sE,MAAO/sE,EAASg9E,eAAgBh9E,EAASi9E,eAAgBj9E,EAASk9E,kBAI1El8E,GAAcA,EAAW41D,oBAETpxD,IAAZslF,KAEDA,EAAU,IAAI9mF,GACV,IAAI0kD,GAAmB,EAAG,EAAG,GAC7B,IAAI2E,IACAlpB,SAAUF,GAAc58B,MAAOqtC,GAAUtxC,KAAK+gC,UAC9CyQ,aAAcF,GAAUtxC,KAAKwxC,aAC7BC,eAAgBH,GAAUtxC,KAAKyxC,eAC/BiX,KAAMh5C,EACNy5C,WAAW,EACXC,YAAY,EACZtrD,KAAK,MAILq2B,SAAS+yB,gBAAiB,UAClCwgC,EAAQvzD,SAAS+yB,gBAAiB,MAElCwgC,EAAQlvC,eAAiB,SAAW57C,EAAUD,EAAOF,GAEjDgF,KAAK6pB,YAAYlN,aAAc3hB,EAAO6uB,cAI1C4uD,EAAQh4E,OAAQwlF,IAIpBA,EAAQloF,SAASuhC,SAAS0R,MAAM/2C,MAAQkC,EAExCoqF,EAAWn5E,KAAM64E,EAASA,EAAQvzD,SAAUuzD,EAAQloF,SAAU,EAAG,OAEzD5B,GAAcA,EAAWqzB,iBAEd7uB,IAAdqlF,KAEDA,EAAY,IAAI7mF,GACZ,IAAI+lD,GAAqB,EAAG,GAC5B,IAAIsD,IACAlpB,SAAUF,GAAc58B,MAAOqtC,GAAU1zC,WAAWmjC,UACpDyQ,aAAcF,GAAU1zC,WAAW4zC,aACnCC,eAAgBH,GAAU1zC,WAAW6zC,eACrCiX,KAAMj5C,EACN05C,WAAW,EACXC,YAAY,EACZtrD,KAAK,MAIHq2B,SAAS+yB,gBAAiB,UAEpCgzB,EAAQh4E,OAAQulF,IAIpBA,EAAUjoF,SAASuhC,SAASyR,IAAI92C,MAAQkC,EAExCoqF,EAAWn5E,KAAM44E,EAAWA,EAAUtzD,SAAUszD,EAAUjoF,SAAU,EAAG,SA40O9D,CAAqBi7E,EAAOz1E,EAAOk1E,EAASd,GAEzDmB,EAAiB,IA/xOzB,SAA8B5mC,EAAI6W,EAAYyO,EAAMyC,GAEhD,IAAI9/D,EA6CJ6F,KAAKymF,QA3CL,SAAkBxsF,GAEdE,EAAOF,GA0CX+F,KAAKU,OAtCL,SAAiBg1B,EAAO3U,GAEpBmxB,EAAGw0C,WAAYvsF,EAAMu7B,EAAO3U,GAE5By2C,EAAK/2D,OAAQsgB,EAAO5mB,IAmCxB6F,KAAK2mF,gBA/BL,SAA0Bj0D,EAAUgD,EAAO3U,GAEvC,IAAI+qD,EAEJ,GAAK7R,EAAaU,SAEdmR,EAAY55B,OAMZ,GAAmB,QAFnB45B,EAAY/iB,EAAWlvD,IAAK,2BAKxB,YADAiP,QAAQgP,MAAO,kIAOvBg0D,EAAW7R,EAAaU,SAAW,sBAAwB,4BAA8BxgE,EAAMu7B,EAAO3U,EAAO2R,EAASk0D,mBAEtHpvB,EAAK/2D,OAAQsgB,EAAO5mB,EAAMu4B,EAASk0D,oBAsvOlB,CAAyBtf,EAAKve,EAAYyO,EAAMyC,GACjE8e,EAAwB,IAzuNhC,SAAqC7mC,EAAI6W,EAAYyO,EAAMyC,GAEvD,IAAI9/D,EAQA6L,EAAMiuC,EA8CVj0C,KAAKymF,QApDL,SAAkBxsF,GAEdE,EAAOF,GAmDX+F,KAAK+kD,SA7CL,SAAmB9qD,GAEf+L,EAAO/L,EAAM+L,KACbiuC,EAAkBh6C,EAAMg6C,iBA2C5Bj0C,KAAKU,OAvCL,SAAiBg1B,EAAO3U,GAEpBmxB,EAAG20C,aAAc1sF,EAAM4mB,EAAO/a,EAAM0vB,EAAQue,GAE5CujB,EAAK/2D,OAAQsgB,EAAO5mB,IAoCxB6F,KAAK2mF,gBAhCL,SAA0Bj0D,EAAUgD,EAAO3U,GAEvC,IAQQ+qD,EANR,GAAK7R,EAAaU,SAEdmR,EAAY55B,OAMZ,GAAmB,QAFf45B,EAAY/iB,EAAWlvD,IAAK,2BAK5B,YADAiP,QAAQgP,MAAO,yIAOvBg0D,EAAW7R,EAAaU,SAAW,wBAA0B,8BAAgCxgE,EAAM4mB,EAAO/a,EAAM0vB,EAAQue,EAAiBvhB,EAASk0D,mBAElJpvB,EAAK/2D,OAAQsgB,EAAO5mB,EAAMu4B,EAASk0D,oBAurNX,CAAgCtf,EAAKve,EAAYyO,EAAMyC,GAE/EzC,EAAKqH,SAAW6Z,EAAa7Z,SAE7Bma,EAAM7sD,QAAUm7C,EAChB0R,EAAM/e,aAAeA,EACrB+e,EAAMjwB,WAAaA,EACnBiwB,EAAMzqC,WAAaA,EACnByqC,EAAML,YAAcA,EACpBK,EAAMz1E,MAAQA,EACdy1E,EAAMxhB,KAAOA,EAIjB6kB,KAIA,IAAIyK,GAAK,KAEiB,oBAAd5R,YAER4R,GAAO,OAAQ5R,UAAc,IAxiBrC,SAAuB/5E,GAEnB,IAAI+2C,EAAK/2C,EAASgxB,QAEdmnD,EAAS,KACTyT,EAAU,KAEVC,EAAmB,KACnBpT,EAAuB,QAEvBuC,EAAO,KAEP1C,KACAwT,KAEJ,SAAS1S,IAEL,OAAmB,OAAZwS,GAAyC,OAArBC,EAM/B,IAAI/S,EAAU,IAAIr3E,GAClBq3E,EAAQl+B,OAAOJ,OAAQ,GACvBs+B,EAAQ/lD,SAAW,IAAIL,GAEvB,IAAIsmD,EAAU,IAAIv3E,GAClBu3E,EAAQp+B,OAAOJ,OAAQ,GACvBw+B,EAAQjmD,SAAW,IAAIL,GAEvB,IAAIymD,EAAW,IAAInB,IAAec,EAASE,IAyC3C,SAAS+S,EAAgB99E,GAErB,IAAImsE,EAAa9B,EAAawT,EAAa95E,QAAS/D,EAAM+9E,cACrD5R,GAAaA,EAAWlyE,eAAiB2C,KAAMoD,EAAMpD,OAI9D,SAASohF,IAELjsF,EAASksF,eAAgB,MACzBvS,EAAUhjC,OAgDd,SAASw1C,EAActsF,EAAQk7C,GAEX,OAAXA,EAEDl7C,EAAO6uB,YAAY1mB,KAAMnI,EAAOuN,QAIhCvN,EAAO6uB,YAAYjL,iBAAkBs3B,EAAOrsB,YAAa7uB,EAAOuN,QAIpEvN,EAAO0uB,mBAAmBnI,WAAYvmB,EAAO6uB,aA9GjDyqD,EAASv+B,OAAOJ,OAAQ,GACxB2+B,EAASv+B,OAAOJ,OAAQ,GAIxB31C,KAAKY,SAAU,EAEfZ,KAAKs1E,cAAgB,SAAWj9B,GAE5B,IAAIk9B,EAAa9B,EAAap7B,GAY9B,YAVoB13C,IAAf40E,KAEDA,EAAa,IAAI3C,IACNpzE,kBAAmB,EAC9B+1E,EAAW/+B,SAAU,EAErBi9B,EAAap7B,GAAOk9B,GAIjBA,GAIXv1E,KAAKw1E,UAAY,WAEb,OAAOlC,GAIXtzE,KAAKy1E,UAAY,SAAWx7E,QAET0G,IAAV1G,IAAsBq5E,EAASr5E,GAC/BA,aAAiBstF,UAAWr1C,EAAGs1C,sBAAuBvtF,IAoB/D+F,KAAK01E,wBAA0B,SAAWz7E,GAEtC25E,EAAuB35E,GAI3B+F,KAAKynF,WAAa,SAAWxtF,GAIR,QAFjB8sF,EAAU9sF,KAIN8sF,EAAQjoF,iBAAkB,SAAUooF,GACpCH,EAAQjoF,iBAAkB,cAAeooF,GACzCH,EAAQjoF,iBAAkB,YAAaooF,GACvCH,EAAQjoF,iBAAkB,MAAOsoF,GAEjCL,EAAQW,UAAY,IAAIC,aAAcZ,EAAS70C,GAC/C60C,EAAQa,wBAAyBhU,GAAuBiU,KAAM,SAAW5tF,GAErE+sF,EAAmB/sF,EAEnBkB,EAASksF,eAAgBN,EAAQW,UAAUzZ,aAE3C6G,EAAU9iC,WAAY+0C,GACtBjS,EAAUp/C,UAMduxD,EAAeF,EAAQe,kBAEvBf,EAAQjoF,iBAAkB,qBAAsB,WAE5CmoF,EAAeF,EAAQe,kBACvBh/E,QAAQ2O,IAAKwvE,OAwBzBjnF,KAAK41E,UAAY,SAAW56E,GAExB,GAAKu5E,IAAiB,CAElB,IAAIr+B,EAASl7C,EAAOk7C,OAChBk9B,EAAUkB,EAASlB,QAIvBkU,EAAchT,EAAUp+B,GAExB,IAAM,IAAIl9C,EAAI,EAAGA,EAAIo6E,EAAQrzE,OAAQ/G,IAEjCsuF,EAAclU,EAASp6E,GAAKk9C,GAMhCl7C,EAAO6uB,YAAY1mB,KAAMmxE,EAASzqD,aAIlC,IAFA,IAAIssB,EAAWn7C,EAAOm7C,SAELl9C,GAAPD,EAAI,EAAOm9C,EAASp2C,QAAQ/G,EAAIC,EAAGD,IAEzCm9C,EAAUn9C,GAAI+5B,mBAAmB,GAIrC,OAAOuhD,EAIX,OAAOt5E,GAIXgF,KAAKu0E,aAAeA,EAIpB,IAAIwT,EAA2B,KAgF3BjT,EAAY,IAAItjC,GACpBsjC,EAAU/iC,iBA/EV,SAA2BH,EAAMC,GAI7B,GAAc,QAFdskC,EAAOtkC,EAAMm2C,cAAehB,IAOxB,IAHA,IAAIrQ,EAAQoQ,EAAQW,UAChBO,EAAQp2C,EAAMo2C,MAERjvF,EAAI,EAAGA,EAAIivF,EAAMloF,OAAQ/G,IAAO,CAEtC,IAAIg6E,EAAOiV,EAAOjvF,GACdk1B,EAAWyoD,EAAMuR,YAAalV,GAC9BxP,EAAa2S,EAAKgS,cAAenV,GAEjCh4E,EAASs5E,EAASlB,QAASp6E,GAC/BgC,EAAOuN,OAAOuS,UAAW0oD,GAAajiD,WAAYvmB,EAAOuN,QACzDvN,EAAO2uB,iBAAiB7O,UAAWk4D,EAAKrpD,kBACxC3uB,EAAOkzB,SAASpxB,IAAKoxB,EAAS9uB,EAAG8uB,EAAS7uB,EAAG6uB,EAAS7V,MAAO6V,EAAS5V,QAE3D,IAANtf,IAEDs7E,EAAS/rE,OAAOpF,KAAMnI,EAAOuN,QAK7B+rE,EAAS3qD,iBAAiBxmB,KAAMnI,EAAO2uB,mBAUnD,IAAU3wB,EAAI,EAAGA,EAAIy6E,EAAY1zE,OAAQ/G,IAAO,CAE5C,IAAIu8E,EAAa9B,EAAaz6E,GAE1BmuF,EAAcF,EAAcjuF,GAEhC,GAAKmuF,EAAc,CAEf,IAAIiB,EAAYv2C,EAAMw2C,aAAclB,EAAaH,GAEjD,GAAmB,OAAdoB,EAAqB,CAEjB,cAAeA,EAEhB7S,EAAWhtE,OAAOsP,SAAWuwE,EAAUE,UAAUC,gBAEzC,kBAAmBH,IAI3B7S,EAAWhtE,OAAOsP,SAAWuwE,EAAUI,eAI3CjT,EAAWhtE,OAAOsb,UAAW0xD,EAAW14E,SAAU04E,EAAW/pD,SAAU+pD,EAAWr2E,OAClFq2E,EAAW/+B,SAAU,EAErB,UAMR++B,EAAW/+B,SAAU,EAIpBuxC,GAA2BA,EAA0Bn2C,KAO9D5xC,KAAK+xC,iBAAmB,SAAWppB,GAE/Bo/D,EAA2Bp/D,GAI/B3oB,KAAKqF,QAAU,aAIfrF,KAAKm3E,kBAAoB,WAGrB,OADAruE,QAAQC,KAAM,gEACP,IAAI9M,MAAM2b,SAIrB5X,KAAKo3E,YAAc,aAyQc,CAAkB4B,GAAU,IAAI3F,GAAc2F,IAI/Eh5E,KAAK8mF,GAAKA,GAIV,IAAIplB,GAAY,IAAIgD,GAAgBsU,EAAOP,EAASxe,EAAa4K,gBAgNjE,SAASkX,GAAe3yE,GAEpBA,EAAMnK,iBAEN6J,QAAQ2O,IAAK,sCAEbwhE,IAAiB,EAIrB,SAAS+C,KAELlzE,QAAQ2O,IAAK,0CAEbwhE,IAAiB,EAEjBoD,KAIJ,SAASoM,GAAmBr/E,GAExB,IAAIrL,EAAWqL,EAAMvI,OAErB9C,EAASuH,oBAAqB,UAAWmjF,IAQ7C,SAA6B1qF,GAEzB2qF,GAAiC3qF,GAEjCwwC,EAAWruC,OAAQnC,GAVnB4qF,CAAoB5qF,GAexB,SAAS2qF,GAAiC3qF,GAEtC,IAAI+jE,EAAcvzB,EAAW10C,IAAKkE,GAAWs5D,QAE7Ct5D,EAASs5D,aAAU12D,OAEEA,IAAhBmhE,GAED4W,EAAa3W,eAAgBD,GA/PrC9hE,KAAK0hE,UAAYA,GAIjB1hE,KAAKosB,WAAa,WAEd,OAAOk7C,GAIXtnE,KAAK4oF,qBAAuB,WAExB,OAAOthB,EAAIshB,wBAIf5oF,KAAK6oF,iBAAmB,WAEpB,IAAI/c,EAAY/iB,EAAWlvD,IAAK,sBAC3BiyE,GAAYA,EAAUgd,eAI/B9oF,KAAK+oF,oBAAsB,WAEvB,IAAIjd,EAAY/iB,EAAWlvD,IAAK,sBAC3BiyE,GAAYA,EAAUkd,kBAI/BhpF,KAAK40E,cAAgB,WAEjB,OAAOmF,IAIX/5E,KAAKvD,cAAgB,SAAWxC,QAEb0G,IAAV1G,IAEL8/E,GAAc9/E,EAEd+F,KAAKtE,QAASm+E,GAAQC,IAAS,KAInC95E,KAAKoyB,QAAU,WAEX,OACI/Z,MAAOwhE,GACPvhE,OAAQwhE,KAKhB95E,KAAKtE,QAAU,SAAW2c,EAAOC,EAAQ2wE,GAEhCnC,GAAGvS,eAEJzrE,QAAQC,KAAM,0EAKlB8wE,GAASxhE,EACTyhE,GAAUxhE,EAEVgwD,EAAQjwD,MAAQA,EAAQ0hE,GACxBzR,EAAQhwD,OAASA,EAASyhE,IAEL,IAAhBkP,IAED3gB,EAAQ/+B,MAAMlxB,MAAQA,EAAQ,KAC9BiwD,EAAQ/+B,MAAMjxB,OAASA,EAAS,MAIpCtY,KAAKkpF,YAAa,EAAG,EAAG7wE,EAAOC,KAInCtY,KAAKmpF,qBAAuB,WAExB,OACI9wE,MAAOwhE,GAASE,GAChBzhE,OAAQwhE,GAAUC,KAK1B/5E,KAAK60E,qBAAuB,SAAWx8D,EAAOC,EAAQ8wE,GAElDvP,GAASxhE,EACTyhE,GAAUxhE,EAEVyhE,GAAcqP,EAEd9gB,EAAQjwD,MAAQA,EAAQ+wE,EACxB9gB,EAAQhwD,OAASA,EAAS8wE,EAE1BppF,KAAKkpF,YAAa,EAAG,EAAG7wE,EAAOC,IAInCtY,KAAKqpF,mBAAqB,WAEtB,OAAO5P,IAIXz5E,KAAKkpF,YAAc,SAAW9pF,EAAGC,EAAGgZ,EAAOC,GAEvC0hE,GAAUl9E,IAAKsC,EAAG06E,GAAUz6E,EAAIiZ,EAAQD,EAAOC,GAC/C/U,EAAM2qB,SAAUurD,GAAiBt2E,KAAM62E,IAAYj1E,eAAgBg1E,MAIvE/5E,KAAKspF,WAAa,SAAWlqF,EAAGC,EAAGgZ,EAAOC,GAEtC2hE,GAASn9E,IAAKsC,EAAG06E,GAAUz6E,EAAIiZ,EAAQD,EAAOC,GAC9C/U,EAAMyqB,QAAS0rD,GAAgBv2E,KAAM82E,IAAWl1E,eAAgBg1E,MAIpE/5E,KAAK2nE,eAAiB,SAAW4hB,GAE7BhmF,EAAMokE,eAAgBuS,GAAeqP,IAMzCvpF,KAAKmmF,cAAgB,WAEjB,OAAOhqF,EAAWgqF,iBAItBnmF,KAAKomF,cAAgB,WAEjBjqF,EAAWiqF,cAAct6E,MAAO3P,EAAY0Q,YAIhD7M,KAAKqmF,cAAgB,WAEjB,OAAOlqF,EAAWkqF,iBAItBrmF,KAAKsmF,cAAgB,WAEjBnqF,EAAWmqF,cAAcx6E,MAAO3P,EAAY0Q,YAIhD7M,KAAKkoE,MAAQ,SAAWjqE,EAAO6yC,EAAO2mC,GAElC,IAAI+R,EAAO,QAEI7oF,IAAV1C,GAAuBA,KAAQurF,GAAQliB,EAAImiB,wBACjC9oF,IAAVmwC,GAAuBA,KAAQ04C,GAAQliB,EAAIoiB,wBAC/B/oF,IAAZ82E,GAAyBA,KAAU+R,GAAQliB,EAAIqiB,oBAEpDriB,EAAIY,MAAOshB,IAIfxpF,KAAKm+E,WAAa,WAEdn+E,KAAKkoE,OAAO,GAAM,GAAO,IAI7BloE,KAAKk/E,WAAa,WAEdl/E,KAAKkoE,OAAO,GAAO,GAAM,IAI7BloE,KAAKqgF,aAAe,WAEhBrgF,KAAKkoE,OAAO,GAAO,GAAO,IAM9BloE,KAAKqF,QAAU,WAEXijE,EAAQhjE,oBAAqB,mBAAoBy2E,IAAe,GAChEzT,EAAQhjE,oBAAqB,uBAAwB02E,IAAkB,GAEvErD,EAAYtzE,UACZuzE,EAAavzE,UACbkpC,EAAWlpC,UACXozE,EAAQpzE,UAERyhF,GAAGzhF,UAEHyvE,GAAUhjC,QAyEd9xC,KAAK4pF,sBAAwB,SAAWlvF,EAAQ28D,GAE5C9zD,EAAMkgF,iBAEN,IAAItxC,EAAU5D,EAAW10C,IAAKa,GAEzBA,EAAOmvF,eAAkB13C,EAAQt1C,WAAWs1C,EAAQt1C,SAAWyqE,EAAIx0B,gBACnEp4C,EAAOovF,aAAgB33C,EAAQ1nB,SAAS0nB,EAAQ1nB,OAAS68C,EAAIx0B,gBAC7Dp4C,EAAOqvF,SAAY53C,EAAQ9hB,KAAK8hB,EAAQ9hB,GAAKi3C,EAAIx0B,gBACjDp4C,EAAOsvF,YAAe73C,EAAQl0C,QAAQk0C,EAAQl0C,MAAQqpE,EAAIx0B,gBAE/D,IAAIm3C,EAAoB5yB,EAAQ+G,gBAE3B1jE,EAAOmvF,eAERviB,EAAIv0B,WAAYu0B,EAAIke,aAAcrzC,EAAQt1C,UAC1CyqE,EAAIt0B,WAAYs0B,EAAIke,aAAc9qF,EAAOwvF,cAAe5iB,EAAI10B,cAE5DrvC,EAAMmgF,gBAAiBuG,EAAkBptF,UACzCyqE,EAAI6iB,oBAAqBF,EAAkBptF,SAAU,EAAGyqE,EAAIp0B,OAAO,EAAO,EAAG,IAI5Ex4C,EAAOovF,aAERxiB,EAAIv0B,WAAYu0B,EAAIke,aAAcrzC,EAAQ1nB,QAC1C68C,EAAIt0B,WAAYs0B,EAAIke,aAAc9qF,EAAO0vF,YAAa9iB,EAAI10B,cAE1DrvC,EAAMmgF,gBAAiBuG,EAAkBx/D,QACzC68C,EAAI6iB,oBAAqBF,EAAkBx/D,OAAQ,EAAG68C,EAAIp0B,OAAO,EAAO,EAAG,IAI1Ex4C,EAAOqvF,SAERziB,EAAIv0B,WAAYu0B,EAAIke,aAAcrzC,EAAQ9hB,IAC1Ci3C,EAAIt0B,WAAYs0B,EAAIke,aAAc9qF,EAAO2vF,QAAS/iB,EAAI10B,cAEtDrvC,EAAMmgF,gBAAiBuG,EAAkB55D,IACzCi3C,EAAI6iB,oBAAqBF,EAAkB55D,GAAI,EAAGi3C,EAAIp0B,OAAO,EAAO,EAAG,IAItEx4C,EAAOsvF,YAER1iB,EAAIv0B,WAAYu0B,EAAIke,aAAcrzC,EAAQl0C,OAC1CqpE,EAAIt0B,WAAYs0B,EAAIke,aAAc9qF,EAAO4vF,WAAYhjB,EAAI10B,cAEzDrvC,EAAMmgF,gBAAiBuG,EAAkBhsF,OACzCqpE,EAAI6iB,oBAAqBF,EAAkBhsF,MAAO,EAAGqpE,EAAIp0B,OAAO,EAAO,EAAG,IAI9E3vC,EAAMogF,0BAENrc,EAAIof,WAAYpf,EAAIqd,UAAW,EAAGjqF,EAAOqmB,OAEzCrmB,EAAOqmB,MAAQ,GAInB/gB,KAAKmnE,mBAAqB,SAAWnsE,EAAQqB,EAAKq2B,EAAU30B,EAAUrD,EAAQ4iD,GAE1E,IAAI2mC,EAAgBvpF,EAAO++C,QAAU/+C,EAAOw7B,aAAa/U,cAAgB,EAEzE5d,EAAMygF,YAAajmF,EAAUkmF,GAE7B,IAAI5sB,EAAUkzB,GAAYvvF,EAAQqB,EAAK0B,EAAUrD,GAE7C8vF,GAAgB,EAEflR,GAAwB5mD,WAAaA,EAAS2lB,IAC/CihC,GAAwBjiB,UAAYA,EAAQhf,IAC5CihC,GAAwB3wB,cAAuC,IAAvB5qD,EAAS4qD,aAEjD2wB,GAAwB5mD,SAAWA,EAAS2lB,GAC5CihC,GAAwBjiB,QAAUA,EAAQhf,GAC1CihC,GAAwB3wB,WAAmC,IAAvB5qD,EAAS4qD,UAC7C6hC,GAAgB,GAIf9vF,EAAOu1D,wBAER4oB,EAAap4E,OAAQ/F,EAAQg4B,EAAU30B,EAAUs5D,GAEjDmzB,GAAgB,GAMpB,IAWIvvE,EAXArO,EAAQ8lB,EAAS9lB,MACjB/P,EAAW61B,EAASI,WAAWj2B,SAC/B4tF,EAAc,GAEU,IAAvB1sF,EAAS4qD,YAEV/7C,EAAQssC,EAAWusC,sBAAuB/yD,GAC1C+3D,EAAc,GAKlB,IAAItvF,EAAW29E,EAEA,OAAVlsE,IAEDqO,EAAY6X,EAAWj5B,IAAK+S,IAE5BzR,EAAW49E,GACFh0B,SAAU9pC,IAIlBuvE,KAqHT,SAAgCzsF,EAAUs5D,EAAS3kC,GAE/C,GAAKA,GAAYA,EAASg4D,2BAA8BzwB,EAAaU,UAEb,OAA/C5R,EAAWlvD,IAAK,0BAGjB,YADAiP,QAAQgP,MAAO,kJAOvBvU,EAAMkgF,iBAEN,IAAI6B,EAAqB5yD,EAASI,WAE9Bm3D,EAAoB5yB,EAAQ+G,gBAE5BusB,EAAiC5sF,EAASqrD,uBAE9C,IAAM,IAAI7vD,KAAQ0wF,EAAoB,CAElC,IAAIW,EAAmBX,EAAmB1wF,GAE1C,GAAKqxF,GAAoB,EAAI,CAEzB,IAAIC,EAAoBvF,EAAoB/rF,GAE5C,QAA2BoH,IAAtBkqF,EAAkC,CAEnC,IAAIpvC,EAAaovC,EAAkBpvC,WAC/B5pB,EAAOg5D,EAAkBrvC,SAEzBvgC,EAAY6X,EAAWj5B,IAAKgxF,GAIhC,QAAmBlqF,IAAdsa,EAA0B,SAE/B,IAAIs3B,EAASt3B,EAAUs3B,OACnBvsC,EAAOiV,EAAUjV,KACjBiuC,EAAkBh5B,EAAUg5B,gBAEhC,GAAK42C,EAAkBx4C,6BAA+B,CAElD,IAAI1jB,EAAOk8D,EAAkBl8D,KACzBm8D,EAASn8D,EAAKm8D,OACdpnF,EAASmnF,EAAkBnnF,OAE1BirB,GAAQA,EAAKo8D,8BAEdxnF,EAAM6+E,0BAA2BwI,EAAkBj8D,EAAK0zD,uBAEpB1hF,IAA/B+xB,EAASk0D,oBAEVl0D,EAASk0D,kBAAoBj4D,EAAK0zD,iBAAmB1zD,EAAK5N,QAM9Dxd,EAAMmgF,gBAAiBkH,GAI3BtjB,EAAIv0B,WAAYu0B,EAAIke,aAAcjzC,GAClC+0B,EAAI6iB,oBAAqBS,EAAkB/4D,EAAM7rB,EAAMy1C,EAAYqvC,EAAS72C,EAAiBvwC,EAASuwC,QAIjG42C,EAAkBG,4BAEnBznF,EAAM6+E,0BAA2BwI,EAAkBC,EAAkBxI,uBAEjC1hF,IAA/B+xB,EAASk0D,oBAEVl0D,EAASk0D,kBAAoBiE,EAAkBxI,iBAAmBwI,EAAkB9pE,QAMxFxd,EAAMmgF,gBAAiBkH,GAI3BtjB,EAAIv0B,WAAYu0B,EAAIke,aAAcjzC,GAClC+0B,EAAI6iB,oBAAqBS,EAAkB/4D,EAAM7rB,EAAMy1C,EAAY,EAAG,QAIvE,QAAwC96C,IAAnCgqF,EAA+C,CAEvD,IAAI1wF,EAAQ0wF,EAAgCpxF,GAE5C,QAAeoH,IAAV1G,EAED,OAASA,EAAM8F,QAEX,KAAK,EACDunE,EAAI2jB,gBAAiBL,EAAkB3wF,GACvC,MAEJ,KAAK,EACDqtE,EAAI4jB,gBAAiBN,EAAkB3wF,GACvC,MAEJ,KAAK,EACDqtE,EAAI6jB,gBAAiBP,EAAkB3wF,GACvC,MAEJ,QACIqtE,EAAI8jB,gBAAiBR,EAAkB3wF,MAY/DsJ,EAAMogF,0BAhPF0H,CAAuBttF,EAAUs5D,EAAS3kC,GAE3B,OAAV9lB,GAED06D,EAAIv0B,WAAYu0B,EAAIie,qBAAsBtqE,EAAUs3B,SAQ5D,IAAI+4C,EAAYvqF,EAAAA,EAED,OAAV6L,EAED0+E,EAAY1+E,EAAMmU,WAEGpgB,IAAb9D,IAERyuF,EAAYzuF,EAASkkB,OAIzB,IAAIwqE,EAAa74D,EAAS8wB,UAAU9tB,MAAQ+0D,EACxCe,EAAa94D,EAAS8wB,UAAUziC,MAAQ0pE,EAExC1mC,EAAuB,OAAVzG,EAAiBA,EAAM5nB,MAAQ+0D,EAAc,EAC1D5lC,EAAuB,OAAVvH,EAAiBA,EAAMv8B,MAAQ0pE,EAAc1pF,EAAAA,EAE1D0qF,EAAYnuF,KAAKkH,IAAK+mF,EAAYxnC,GAClC2nC,EAAUpuF,KAAKmH,IAAK6mF,EAAWC,EAAaC,EAAYznC,EAAac,GAAe,EAEpF8mC,EAAYruF,KAAKkH,IAAK,EAAGknF,EAAUD,EAAY,GAEnD,GAAmB,IAAdE,EAAL,CAIA,GAAKjxF,EAAO++C,OAER,IAA4B,IAAvB17C,EAAS4qD,UAEVplD,EAAM2gF,aAAcnmF,EAAS6qD,mBAAqBizB,MAClD1gF,EAASsrF,QAASnf,EAAIwd,YAItB,OAASpqF,EAAOqvD,UAEZ,KAAKr1C,GACDvZ,EAASsrF,QAASnf,EAAIqd,WACtB,MAEJ,KAAKhwE,GACDxZ,EAASsrF,QAASnf,EAAIsd,gBACtB,MAEJ,KAAKhwE,GACDzZ,EAASsrF,QAASnf,EAAIud,mBAQ/B,GAAKnqF,EAAOg/C,OAAS,CAExB,IAAIyqC,EAAYpmF,EAAS2qD,eAEN/nD,IAAdwjF,IAA0BA,EAAY,GAE3C5gF,EAAM2gF,aAAcC,EAAYtI,MAE3BnhF,EAAOkxF,eAERzwF,EAASsrF,QAASnf,EAAIwd,OAEdpqF,EAAOmxF,WAEf1wF,EAASsrF,QAASnf,EAAI0d,WAItB7pF,EAASsrF,QAASnf,EAAIyd,iBAIlBrqF,EAAOi/C,SAEfx+C,EAASsrF,QAASnf,EAAI2d,QAEdvqF,EAAOoxF,UAEf3wF,EAASsrF,QAASnf,EAAIqd,WAIrBjyD,GAAYA,EAASg4D,0BAEjBh4D,EAASk0D,kBAAoB,GAE9BzrF,EAASwrF,gBAAiBj0D,EAAU+4D,EAAWE,GAMnDxwF,EAASuF,OAAQ+qF,EAAWE,KAyIpC3rF,KAAK+rF,QAAU,SAAW7wF,EAAOF,IAE7Bi9E,EAAqBW,EAAa/+E,IAAKqB,EAAOF,IAC3BsF,OAEnBpF,EAAMs3B,SAAU,SAAW93B,GAElBA,EAAOsxF,UAER/T,EAAmB1T,UAAW7pE,GAEzBA,EAAO+7C,YAERwhC,EAAmBzT,WAAY9pE,MAQ3Cu9E,EAAmB3T,YAAatpE,GAEhCE,EAAMs3B,SAAU,SAAW93B,GAEvB,GAAKA,EAAOqD,SAER,GAAKmyB,MAAMC,QAASz1B,EAAOqD,UAEvB,IAAM,IAAI/E,EAAI,EAAGA,EAAI0B,EAAOqD,SAASgC,OAAQ/G,IAEzCizF,GAAcvxF,EAAOqD,SAAU/E,GAAKkC,EAAMmB,IAAK3B,QAMnDuxF,GAAcvxF,EAAOqD,SAAU7C,EAAMmB,IAAK3B,MAY1D,IAAIqtF,GAA2B,KAS/B,IAAIjT,GAAY,IAAItjC,GA6TpB,SAAS06C,GAAe3F,EAAYrrF,EAAOF,EAAQmxF,GAE/C,IAAM,IAAInzF,EAAI,EAAGC,EAAIstF,EAAWxmF,OAAQ/G,EAAIC,EAAGD,IAAO,CAElD,IAAIypE,EAAa8jB,EAAYvtF,GAEzB0B,EAAS+nE,EAAW/nE,OACpBg4B,EAAW+vC,EAAW/vC,SACtB30B,OAAgC4C,IAArBwrF,EAAiC1pB,EAAW1kE,SAAWouF,EAClE7uC,EAAQmlB,EAAWnlB,MAEvB,GAAKtiD,EAAOoxF,cAAgB,CAExB5S,GAAsBx+E,EAItB,IAFA,IAAIo4E,EAAUp4E,EAAOo4E,QAEXj/C,EAAI,EAAGwoB,EAAKy2B,EAAQrzE,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAEjD,IAAIk4D,EAAUjZ,EAASj/C,GAEvB,GAAKz5B,EAAOq7C,OAAOD,KAAMu2C,EAAQt2C,QAAW,CAExC,GAAK,aAAcs2C,EAEf9oF,EAAM2qB,SAAUurD,GAAiBt2E,KAAMkpF,EAAQn+D,eAE5C,CAEH,IAAIgmD,EAASmY,EAAQnY,OAEjB90E,EAAI80E,EAAO90E,EAAIy6E,GACfx6E,EAAI60E,EAAO70E,EAAIy6E,GACfzhE,EAAQ67D,EAAO50E,EAAIu6E,GACnBvhE,EAAS47D,EAAOn8D,EAAI+hE,GAExBv2E,EAAM2qB,SAAUurD,GAAiB38E,IAAKsC,EAAGC,EAAGgZ,EAAOC,GAASvT,eAAgBg1E,KAIhF9B,EAAmB3T,YAAa+nB,GAEhCplB,GAAcvsE,EAAQQ,EAAOmxF,EAAS35D,EAAU30B,EAAUu/C,UAQlEk8B,GAAsB,KAEtBvS,GAAcvsE,EAAQQ,EAAOF,EAAQ03B,EAAU30B,EAAUu/C,IAQrE,SAAS2pB,GAAcvsE,EAAQQ,EAAOF,EAAQ03B,EAAU30B,EAAUu/C,GAQ9D,GANA5iD,EAAOq8C,eAAgBiiC,EAAO99E,EAAOF,EAAQ03B,EAAU30B,EAAUu/C,GACjE26B,EAAqBW,EAAa/+E,IAAKqB,EAAOs+E,IAAuBx+E,GAErEN,EAAO27C,gBAAgBz3B,iBAAkB5jB,EAAO0uB,mBAAoBhvB,EAAOmvB,aAC3EnvB,EAAOw7B,aAAa9K,gBAAiB1wB,EAAO27C,iBAEvC37C,EAAO4xF,wBAA0B,CAElC/oF,EAAMygF,YAAajmF,GAEnB,IAAIs5D,EAAUkzB,GAAYvvF,EAAQE,EAAMmB,IAAK0B,EAAUrD,GAEvD4+E,GAAwB5mD,SAAW,KACnC4mD,GAAwBjiB,QAAU,KAClCiiB,GAAwB3wB,WAAY,EAxzB5C,SAAgCjuD,EAAQ28D,GAEpC38D,EAAOgG,OAAQ,SAAWhG,GAEtBs+E,EAAM4Q,sBAAuBlvF,EAAQ28D,KAszBrCk1B,CAAuB7xF,EAAQ28D,QAI/B2hB,EAAM7R,mBAAoBnsE,EAAQE,EAAMmB,IAAKq2B,EAAU30B,EAAUrD,EAAQ4iD,GAI7E5iD,EAAOs8C,cAAegiC,EAAO99E,EAAOF,EAAQ03B,EAAU30B,EAAUu/C,GAChE26B,EAAqBW,EAAa/+E,IAAKqB,EAAOs+E,IAAuBx+E,GAIzE,SAASixF,GAAcluF,EAAU1B,EAAK3B,GAElC,IAAI8xF,EAAqBj+C,EAAW10C,IAAKkE,GAErCqwC,EAAS6pC,EAAmB10E,MAAM6qC,OAClCi2B,EAAe4T,EAAmB10E,MAAM8gE,aAExCooB,EAAaD,EAAmBC,WAChCC,EAAkBt+C,EAAO7qC,MAAM69C,KAE/BxH,EAAa8+B,EAAa3Y,cAC1BhiE,EAAUqwC,EAAO7qC,MAAO8gE,EAAchoE,EAAK89E,GAAUO,UAAWP,GAAUQ,gBAAiBjgF,GAE3Fs/D,EAAO0e,EAAa/W,eAAgB5jE,EAAU67C,GAE9Cyd,EAAUm1B,EAAmBn1B,QAC7Bs1B,GAAgB,EAEpB,QAAiBhsF,IAAZ02D,EAGDt5D,EAASe,iBAAkB,UAAW2pF,SAEnC,GAAKpxB,EAAQ2C,OAASA,EAGzB0uB,GAAiC3qF,QAE9B,GAAK0uF,EAAW5pB,UAAY6pB,EAAgB7pB,SAC/C4pB,EAAW3pB,oBAAsB4pB,EAAgB5pB,mBACjD2pB,EAAW1pB,cAAgB2pB,EAAgB3pB,aAC3C0pB,EAAWzpB,aAAe0pB,EAAgB1pB,YAC1CypB,EAAWxpB,iBAAmBypB,EAAgBzpB,gBAC9CwpB,EAAWvpB,aAAewpB,EAAgBxpB,YAC1CupB,EAAWtpB,gBAAkBupB,EAAgBvpB,cAE7CspB,EAAW5pB,QAAU6pB,EAAgB7pB,QACrC4pB,EAAW3pB,kBAAoB4pB,EAAgB5pB,kBAC/C2pB,EAAW1pB,YAAc2pB,EAAgB3pB,YACzC0pB,EAAWzpB,WAAa0pB,EAAgB1pB,WACxCypB,EAAWxpB,eAAiBypB,EAAgBzpB,eAC5CwpB,EAAWvpB,WAAawpB,EAAgBxpB,WACxCupB,EAAWtpB,cAAgBupB,EAAgBvpB,cAE3CwpB,GAAgB,MAEb,CAAA,QAA6BhsF,IAAxBi5C,EAAWumB,SAGnB,OAKAwsB,GAAgB,EAIpB,GAAKA,EAAgB,CAEjB,GAAK/yC,EAAWumB,SAAW,CAEvB,IAAIvI,EAAS/nB,GAAW+J,EAAWumB,UAEnCqsB,EAAmB50B,QACfr+D,KAAMwE,EAASiI,KACfs5B,SAAUF,GAAc58B,MAAOo1D,EAAOt4B,UACtCyQ,aAAc6nB,EAAO7nB,aACrBC,eAAgB4nB,EAAO5nB,qBAK3Bw8C,EAAmB50B,QACfr+D,KAAMwE,EAASiI,KACfs5B,SAAUvhC,EAASuhC,SACnByQ,aAAchyC,EAASgyC,aACvBC,eAAgBjyC,EAASiyC,gBAKjCjyC,EAASssD,gBAAiBmiC,EAAmB50B,OAAQohB,GAGrDhf,EAAO0e,EAAa/W,eAAgB5jE,EAAU67C,GAE9Cyd,EAAUqhB,EAAa9W,eAAgB7jE,EAAUyuF,EAAmB50B,OAAQhe,EAAYogB,GAExFwyB,EAAmBn1B,QAAUA,EAC7Bt5D,EAASs5D,QAAUA,EAIvB,IAAI4yB,EAAoB5yB,EAAQ+G,gBAEhC,GAAKrgE,EAAS28C,aAAe,CAEzB38C,EAAS6uF,yBAA2B,EAEpC,IAAM,IAAI5zF,EAAI,EAAGA,EAAIggF,EAAM5X,gBAAiBpoE,IAEnCixF,EAAmB,cAAgBjxF,IAAO,GAE3C+E,EAAS6uF,2BAQrB,GAAK7uF,EAAS48C,aAAe,CAEzB58C,EAAS8uF,yBAA2B,EAEpC,IAAU7zF,EAAI,EAAGA,EAAIggF,EAAM3X,gBAAiBroE,IAEnCixF,EAAmB,cAAgBjxF,IAAO,GAE3C+E,EAAS8uF,2BAQrB,IAAIvtD,EAAWktD,EAAmB50B,OAAOt4B,UAElCvhC,EAASgtD,kBACVhtD,EAASu9D,uBACW,IAAtBv9D,EAAS8qD,WAET2jC,EAAmBhzB,kBAAoB2gB,GAAUO,UACjD8R,EAAmB7R,gBAAkBR,GAAUQ,gBAC/Cr7C,EAASsoB,eAAiBuyB,GAAUK,SAIxCgS,EAAmBnwF,IAAMA,OAGLsE,IAAf8rF,IAEDD,EAAmBC,WAAaA,MAIpCA,EAAW5pB,QAAU6pB,EAAgB7pB,QACrC4pB,EAAW3pB,kBAAoB4pB,EAAgB5pB,kBAC/C2pB,EAAW1pB,YAAc2pB,EAAgB3pB,YACzC0pB,EAAWzpB,WAAa0pB,EAAgB1pB,WACxCypB,EAAWxpB,eAAiBypB,EAAgBzpB,eAC5CwpB,EAAWvpB,WAAawpB,EAAgBxpB,WACxCupB,EAAWtpB,cAAgBupB,EAAgBvpB,cAEtCplE,EAASqwC,SAIV9O,EAAS+O,kBAAkBp0C,MAAQm0C,EAAO7qC,MAAM6/D,QAChD9jC,EAASgP,kBAAkBr0C,MAAQm0C,EAAO7qC,MAAM+9D,YAChDhiC,EAASwP,WAAW70C,MAAQm0C,EAAO7qC,MAAMg+D,KACzCjiC,EAASsQ,eAAe31C,MAAQm0C,EAAO7qC,MAAMi+D,SAC7CliC,EAAS8P,YAAYn1C,MAAQm0C,EAAO7qC,MAAM8uB,MAC1CiN,EAASmQ,iBAAiBx1C,MAAQm0C,EAAO7qC,MAAMk+D,KAE/CniC,EAASsP,qBAAqB30C,MAAQm0C,EAAO7qC,MAAMqrC,qBACnDtP,EAASuP,wBAAwB50C,MAAQm0C,EAAO7qC,MAAMsrC,wBACtDvP,EAAS4P,cAAcj1C,MAAQm0C,EAAO7qC,MAAM2rC,cAC5C5P,EAAS6P,iBAAiBl1C,MAAQm0C,EAAO7qC,MAAM4rC,iBAC/C7P,EAASiQ,eAAet1C,MAAQm0C,EAAO7qC,MAAMgsC,eAC7CjQ,EAASkQ,kBAAkBv1C,MAAQm0C,EAAO7qC,MAAMisC,mBAKpD,IAAIs9C,EAAeN,EAAmBn1B,QAAQ8G,cAC1C4uB,EACI31B,GAAcsB,aAAco0B,EAAaz6B,IAAK/yB,GAEtDktD,EAAmBO,aAAeA,EAItC,SAASxC,GAAYvvF,EAAQqB,EAAK0B,EAAUrD,GAExCk/E,GAAoB,EAEpB,IAAI4S,EAAqBj+C,EAAW10C,IAAKkE,GACrCqwC,EAAS6pC,EAAmB10E,MAAM6qC,OAElCq+C,EAAaD,EAAmBC,WAChCC,EAAkBt+C,EAAO7qC,MAAM69C,KAEnC,GAAKs6B,KAEIC,IAAyB3gF,IAAWu+E,IAAiB,CAEtD,IAAIyT,EACAhyF,IAAWu+E,IACXx7E,EAASs6C,KAAOghC,GAKpBc,GAAUkB,SACNt9E,EAAS6pD,eAAgB7pD,EAAS8pD,iBAAkB9pD,EAAS+pD,YAC7D9sD,EAAQwxF,EAAoBQ,IAMV,IAAzBjvF,EAAS6nD,mBAE0BjlD,IAA/B6rF,EAAmBn1B,QAEpBt5D,EAAS6nD,aAAc,EAEf7nD,EAAS1B,KAAOmwF,EAAmBnwF,MAAQA,EAEnD0B,EAAS6nD,aAAc,IAEf7nD,EAASqwC,QAAYq+C,EAAW5pB,UAAY6pB,EAAgB7pB,SAChE4pB,EAAW3pB,oBAAsB4pB,EAAgB5pB,mBACjD2pB,EAAW1pB,cAAgB2pB,EAAgB3pB,aAC3C0pB,EAAWzpB,aAAe0pB,EAAgB1pB,YAC1CypB,EAAWxpB,iBAAmBypB,EAAgBzpB,gBAC9CwpB,EAAWvpB,aAAewpB,EAAgBxpB,YAC1CupB,EAAWtpB,gBAAkBupB,EAAgBvpB,sBAIAxiE,IAAzC6rF,EAAmBhzB,mBACzBgzB,EAAmBhzB,oBAAsB2gB,GAAUO,WACjD8R,EAAmB7R,kBAAoBR,GAAUQ,mBAJrD58E,EAAS6nD,aAAc,IAY1B7nD,EAAS6nD,cAEVqmC,GAAcluF,EAAU1B,EAAK3B,GAC7BqD,EAAS6nD,aAAc,GAI3B,IAAIqnC,GAAiB,EACjBC,GAAkB,EAClBC,GAAgB,EAEhB91B,EAAUm1B,EAAmBn1B,QAC7B+1B,EAAa/1B,EAAQ8G,cACrBkvB,EAAab,EAAmB50B,OAAOt4B,SAkB3C,GAhBK/7B,EAAMwgF,WAAY1sB,EAAQA,WAE3B41B,GAAiB,EACjBC,GAAkB,EAClBC,GAAgB,GAIfpvF,EAASs6C,KAAOghC,KAEjBA,GAAqBt7E,EAASs6C,GAE9B60C,GAAkB,GAIjBD,GAAkB1T,KAAmBv+E,EAAS,CA2B/C,GAzBAoyF,EAAWj3B,SAAUmR,EAAK,mBAAoBtsE,EAAO2uB,kBAEhDswC,EAAac,wBAEdqyB,EAAWj3B,SAAUmR,EAAK,gBACtB,GAAQhqE,KAAKma,IAAKzc,EAAOqpB,IAAM,GAAQ/mB,KAAKoa,MAI/C6hE,KAAmBv+E,IAEpBu+E,GAAiBv+E,EAMjBkyF,GAAkB,EAClBC,GAAgB,GAOfpvF,EAASgtD,kBACVhtD,EAASuvF,qBACTvvF,EAASwvF,wBACTxvF,EAASouC,OAAS,CAElB,IAAIqhD,EAAUJ,EAAWvhD,IAAI4hD,oBAEZ9sF,IAAZ6sF,GAEDA,EAAQr3B,SAAUmR,EACdsU,GAAS7wD,sBAAuB/vB,EAAO6uB,eAM9C9rB,EAASuvF,qBACVvvF,EAAS2vF,uBACT3vF,EAASgyD,qBACThyD,EAASwvF,wBACTxvF,EAASgtD,kBACThtD,EAAS+qD,WAETskC,EAAWj3B,SAAUmR,EAAK,aAActsE,EAAO0uB,oBAUvD,GAAK3rB,EAAS+qD,SAAW,CAErBskC,EAAW50B,YAAa8O,EAAK5sE,EAAQ,cACrC0yF,EAAW50B,YAAa8O,EAAK5sE,EAAQ,qBAErC,IAAI4lE,EAAW5lE,EAAO4lE,SAEtB,GAAKA,EAAW,CAEZ,IAAID,EAAQC,EAASD,MAErB,GAAKpG,EAAasG,oBAAsB,CAEpC,QAA8B5/D,IAAzB2/D,EAASqtB,YAA4B,CAUtC,IAAI97D,EAAOv0B,KAAKoN,KAAqB,EAAf21D,EAAMtgE,QAC5B8xB,EAAOrc,GAAM+B,eAAgBsa,GAC7BA,EAAOv0B,KAAKkH,IAAKqtB,EAAM,GAEvB,IAAI+7D,EAAe,IAAIz6C,aAActhB,EAAOA,EAAO,GACnD+7D,EAAa9wF,IAAKwjE,EAASstB,cAE3B,IAAID,EAAc,IAAIj/D,GAAak/D,EAAc/7D,EAAMA,EAAMnf,GAAYR,IACzEy7E,EAAY/nC,aAAc,EAE1B0a,EAASstB,aAAeA,EACxBttB,EAASqtB,YAAcA,EACvBrtB,EAASutB,gBAAkBh8D,EAI/Bu7D,EAAWj3B,SAAUmR,EAAK,cAAehH,EAASqtB,aAClDP,EAAWj3B,SAAUmR,EAAK,kBAAmBhH,EAASutB,sBAItDT,EAAW50B,YAAa8O,EAAKhH,EAAU,iBAoJnD,OA5IK4sB,IAEDE,EAAWj3B,SAAUmR,EAAK,sBAAuB0R,EAAMT,qBACvD6U,EAAWj3B,SAAUmR,EAAK,wBAAyB0R,EAAMR,uBAEpDz6E,EAASqwC,QAyjBtB,SAAwC9O,EAAUrlC,GAE9CqlC,EAAS+O,kBAAkBuX,YAAc3rD,EAEzCqlC,EAASgP,kBAAkBsX,YAAc3rD,EACzCqlC,EAAS8P,YAAYwW,YAAc3rD,EACnCqlC,EAASwP,WAAW8W,YAAc3rD,EAClCqlC,EAASsQ,eAAegW,YAAc3rD,EACtCqlC,EAASmQ,iBAAiBmW,YAAc3rD,EAtjBhC6zF,CAA+BT,EAAYF,GAM1C9wF,GAAO0B,EAAS1B,KA6T7B,SAA6BijC,EAAUjjC,GAEnCijC,EAAS6O,SAASl0C,MAAQoC,EAAI4B,MAEzB5B,EAAI0xF,OAELzuD,EAAS2O,QAAQh0C,MAAQoC,EAAI+nB,KAC7Bkb,EAAS4O,OAAOj0C,MAAQoC,EAAIgoB,KAEpBhoB,EAAI8kE,YAEZ7hC,EAAS0O,WAAW/zC,MAAQoC,EAAI2xF,SAtU5BC,CAAoBZ,EAAYhxF,GAI/B0B,EAASgyD,oBAEVm+B,GAAuBb,EAAYtvF,GAE3BA,EAAS2vF,uBAEjBQ,GAAuBb,EAAYtvF,GAkU/C,SAAiCuhC,EAAUvhC,GAElCA,EAASgvC,cAEVzN,EAASyN,YAAY9yC,MAAQ8D,EAASgvC,aArUlCohD,CAAwBd,EAAYtvF,IAE5BA,EAASuvF,qBAEjBY,GAAuBb,EAAYtvF,GAE9BA,EAASqwF,mBA0W1B,SAA8B9uD,EAAUvhC,GAEpCswF,GAAsB/uD,EAAUvhC,GAE3BA,EAASgwC,cAEVzO,EAASyO,YAAY9zC,MAAQ8D,EAASgwC,aA9W9BugD,CAAqBjB,EAAYtvF,GAIjCswF,GAAsBhB,EAAYtvF,IAI9BA,EAASwvF,wBAEjBW,GAAuBb,EAAYtvF,GAE9BA,EAASwwF,uBAga1B,SAAkCjvD,EAAUvhC,GAExCywF,GAAyBlvD,EAAUvhC,GAEnCuhC,EAAS+M,aAAapyC,MAAQ8D,EAASsuC,aAEvC/M,EAAS2V,UAAUh7C,MAAQ8D,EAASk3C,UACpC3V,EAAS4V,mBAAmBj7C,MAAQ8D,EAASm3C,mBArajCu5C,CAAyBpB,EAAYtvF,GAIrCywF,GAAyBnB,EAAYtvF,IAIjCA,EAAS2wF,sBAEjBR,GAAuBb,EAAYtvF,GA+Z/C,SAAgCuhC,EAAUvhC,GAEjCA,EAAS2yC,SAEVpR,EAASoR,OAAOz2C,MAAQ8D,EAAS2yC,QAIhC3yC,EAASkvC,UAEV3N,EAAS2N,QAAQhzC,MAAQ8D,EAASkvC,QAClC3N,EAAS4N,UAAUjzC,MAAQ8D,EAASmvC,UAC/BnvC,EAASkpD,OAASh5C,IAAWqxB,EAAS4N,UAAUjzC,QAAW,IAI/D8D,EAASqvC,YAEV9N,EAAS8N,UAAUnzC,MAAQ8D,EAASqvC,UACpC9N,EAAS+N,YAAYpzC,MAAMkJ,KAAMpF,EAASsvC,aACrCtvC,EAASkpD,OAASh5C,GAAWqxB,EAAS+N,YAAYpzC,MAAM8f,UAI5Dhc,EAASwvC,kBAEVjO,EAASiO,gBAAgBtzC,MAAQ8D,EAASwvC,gBAC1CjO,EAASkO,kBAAkBvzC,MAAQ8D,EAASyvC,kBAC5ClO,EAASmO,iBAAiBxzC,MAAQ8D,EAAS0vC,kBAzbvCkhD,CAAuBtB,EAAYtvF,IAE3BA,EAAS6wF,qBAEjBV,GAAuBb,EAAYtvF,GA2b/C,SAA+BuhC,EAAUvhC,GAEhCA,EAASwvC,kBAEVjO,EAASiO,gBAAgBtzC,MAAQ8D,EAASwvC,gBAC1CjO,EAASkO,kBAAkBvzC,MAAQ8D,EAASyvC,kBAC5ClO,EAASmO,iBAAiBxzC,MAAQ8D,EAAS0vC,kBAhcvCohD,CAAsBxB,EAAYtvF,IAE1BA,EAASipE,wBAEjBknB,GAAuBb,EAAYtvF,GAkc/C,SAAkCuhC,EAAUvhC,GAEnCA,EAASwvC,kBAEVjO,EAASiO,gBAAgBtzC,MAAQ8D,EAASwvC,gBAC1CjO,EAASkO,kBAAkBvzC,MAAQ8D,EAASyvC,kBAC5ClO,EAASmO,iBAAiBxzC,MAAQ8D,EAAS0vC,kBAI/CnO,EAAS+R,kBAAkBp3C,MAAMkJ,KAAMpF,EAASszC,mBAChD/R,EAASgS,aAAar3C,MAAQ8D,EAASuzC,aACvChS,EAASiS,YAAYt3C,MAAQ8D,EAASwzC,YA7c9Bu9C,CAAyBzB,EAAYtvF,IAE7BA,EAASgxF,sBAEjBb,GAAuBb,EAAYtvF,GA6c/C,SAAgCuhC,EAAUvhC,GAEjCA,EAASkvC,UAEV3N,EAAS2N,QAAQhzC,MAAQ8D,EAASkvC,QAClC3N,EAAS4N,UAAUjzC,MAAQ8D,EAASmvC,UAC/BnvC,EAASkpD,OAASh5C,IAAWqxB,EAAS4N,UAAUjzC,QAAW,IAI/D8D,EAASqvC,YAEV9N,EAAS8N,UAAUnzC,MAAQ8D,EAASqvC,UACpC9N,EAAS+N,YAAYpzC,MAAMkJ,KAAMpF,EAASsvC,aACrCtvC,EAASkpD,OAASh5C,GAAWqxB,EAAS+N,YAAYpzC,MAAM8f,UAI5Dhc,EAASwvC,kBAEVjO,EAASiO,gBAAgBtzC,MAAQ8D,EAASwvC,gBAC1CjO,EAASkO,kBAAkBvzC,MAAQ8D,EAASyvC,kBAC5ClO,EAASmO,iBAAiBxzC,MAAQ8D,EAAS0vC,kBAlevCuhD,CAAuB3B,EAAYtvF,IAE3BA,EAASkxF,qBAkM7B,SAA8B3vD,EAAUvhC,GAEpCuhC,EAASqM,QAAQ1xC,MAAQ8D,EAASE,MAClCqhC,EAASsM,QAAQ3xC,MAAQ8D,EAAS6tC,QAnM1BsjD,CAAqB7B,EAAYtvF,GAE5BA,EAASoxF,sBAqM1B,SAA8B7vD,EAAUvhC,GAEpCuhC,EAASsR,SAAS32C,MAAQ8D,EAAS6yC,SACnCtR,EAASuR,UAAU52C,MAAQ8D,EAAS6yC,SAAW7yC,EAAS6sD,QACxDtrB,EAASpgC,MAAMjF,MAAQ8D,EAASmB,MAvMpBkwF,CAAqB/B,EAAYtvF,IAI7BA,EAASsxF,iBAuM7B,SAAgC/vD,EAAUvhC,GAEtCuhC,EAASqM,QAAQ1xC,MAAQ8D,EAASE,MAClCqhC,EAASsM,QAAQ3xC,MAAQ8D,EAAS6tC,QAClCtM,EAASzN,KAAK53B,MAAQ8D,EAAS8zB,KAAOkoD,GACtCz6C,EAASpgC,MAAMjF,MAAkB,GAAV6/E,GAEvBx6C,EAASuM,IAAI5xC,MAAQ8D,EAAS8tC,IAER,OAAjB9tC,EAAS8tC,OAE6B,IAAlC9tC,EAAS8tC,IAAIrsC,kBAEdzB,EAAS8tC,IAAItsC,eAIjB+/B,EAASwM,YAAY7xC,MAAMkJ,KAAMpF,EAAS8tC,IAAItjC,SAtN1C+mF,CAAuBjC,EAAYtvF,GAE3BA,EAASwxF,iBA0N7B,SAAiCjwD,EAAUvhC,GAEvCuhC,EAASqM,QAAQ1xC,MAAQ8D,EAASE,MAClCqhC,EAASsM,QAAQ3xC,MAAQ8D,EAAS6tC,QAClCtM,EAAS9T,SAASvxB,MAAQ8D,EAASytB,SACnC8T,EAASuM,IAAI5xC,MAAQ8D,EAAS8tC,IAER,OAAjB9tC,EAAS8tC,OAE6B,IAAlC9tC,EAAS8tC,IAAIrsC,kBAEdzB,EAAS8tC,IAAItsC,eAIjB+/B,EAASwM,YAAY7xC,MAAMkJ,KAAMpF,EAAS8tC,IAAItjC,SAvO1CinF,CAAwBnC,EAAYtvF,GAE5BA,EAAS0xF,mBAEjBpC,EAAWpvF,MAAMhE,MAAQ8D,EAASE,MAClCovF,EAAWzhD,QAAQ3xC,MAAQ8D,EAAS6tC,cAOdjrC,IAArB0sF,EAAWqC,QAAsBrC,EAAWqC,MAAMz1F,MAAQyxC,GAAYikD,YACjDhvF,IAArB0sF,EAAWuC,QAAsBvC,EAAWuC,MAAM31F,MAAQyxC,GAAYmkD,OAE3Ez4B,GAAcqB,OAAQ6O,EAAKklB,EAAmBO,aAAcM,EAAYrU,IAIvEj7E,EAASgtD,mBAAoD,IAAhChtD,EAASurD,qBAEvC8N,GAAcqB,OAAQ6O,EAAKklB,EAAmBO,aAAcM,EAAYrU,GACxEj7E,EAASurD,oBAAqB,GAI7BvrD,EAASwxF,kBAEVnC,EAAWj3B,SAAUmR,EAAK,SAAU5sE,EAAOuQ,QAM/CmiF,EAAWj3B,SAAUmR,EAAK,kBAAmB5sE,EAAO27C,iBACpD+2C,EAAWj3B,SAAUmR,EAAK,eAAgB5sE,EAAOw7B,cACjDk3D,EAAWj3B,SAAUmR,EAAK,cAAe5sE,EAAOmvB,aAEzCwtC,EAMX,SAAS62B,GAAuB5uD,EAAUvhC,GAyEtC,IAAI+xF,EAvEJxwD,EAASsM,QAAQ3xC,MAAQ8D,EAAS6tC,QAE7B7tC,EAASE,QAEVqhC,EAASqM,QAAQ1xC,MAAQ8D,EAASE,OAIjCF,EAASmyC,UAEV5Q,EAAS4Q,SAASj2C,MAAMkJ,KAAMpF,EAASmyC,UAAWnrC,eAAgBhH,EAAS0sD,mBAI1E1sD,EAAS8tC,MAEVvM,EAASuM,IAAI5xC,MAAQ8D,EAAS8tC,KAI7B9tC,EAASguC,WAEVzM,EAASyM,SAAS9xC,MAAQ8D,EAASguC,UAIlChuC,EAASkuC,cAEV3M,EAAS2M,YAAYhyC,MAAQ8D,EAASkuC,aAIrCluC,EAASouC,SAEV7M,EAAS6M,OAAOlyC,MAAQ8D,EAASouC,OAMjC7M,EAAS8M,WAAWnyC,MAAc8D,EAASouC,QAAUpuC,EAASouC,OAAO4lB,eAA0B,EAAN,EAEzFzyB,EAAS+M,aAAapyC,MAAQ8D,EAASsuC,aACvC/M,EAASgN,gBAAgBryC,MAAQ8D,EAASuuC,gBAE1ChN,EAASiN,YAAYtyC,MAAQs0C,EAAW10C,IAAKkE,EAASouC,QAASy8B,eAI9D7qE,EAAS6uC,WAEVtN,EAASsN,SAAS3yC,MAAQ8D,EAAS6uC,SACnCtN,EAASuN,kBAAkB5yC,MAAQ8D,EAAS8uC,mBAI3C9uC,EAAS0uC,QAEVnN,EAASmN,MAAMxyC,MAAQ8D,EAAS0uC,MAChCnN,EAASoN,eAAezyC,MAAQ8D,EAAS2uC,gBAcxC3uC,EAAS8tC,IAEVikD,EAAa/xF,EAAS8tC,IAEd9tC,EAASkuC,YAEjB6jD,EAAa/xF,EAASkuC,YAEdluC,EAASwvC,gBAEjBuiD,EAAa/xF,EAASwvC,gBAEdxvC,EAASqvC,UAEjB0iD,EAAa/xF,EAASqvC,UAEdrvC,EAASkvC,QAEjB6iD,EAAa/xF,EAASkvC,QAEdlvC,EAAS4vC,aAEjBmiD,EAAa/xF,EAAS4vC,aAEd5vC,EAAS8vC,aAEjBiiD,EAAa/xF,EAAS8vC,aAEd9vC,EAASguC,SAEjB+jD,EAAa/xF,EAASguC,SAEdhuC,EAASgvC,cAEjB+iD,EAAa/xF,EAASgvC,kBAINpsC,IAAfmvF,IAGIA,EAAWn/D,sBAEZm/D,EAAaA,EAAW3hE,UAIS,IAAhC2hE,EAAWtwF,kBAEZswF,EAAWvwF,eAIf+/B,EAASwM,YAAY7xC,MAAMkJ,KAAM2sF,EAAWvnF,SA4FpD,SAAS8lF,GAAsB/uD,EAAUvhC,GAErCuhC,EAAS8Q,SAASn2C,MAAQ8D,EAASqyC,SACnC9Q,EAAS+Q,UAAUp2C,MAAQqD,KAAKkH,IAAKzG,EAASsyC,UAAW,MAEpDtyC,EAASgvC,cAEVzN,EAASyN,YAAY9yC,MAAQ8D,EAASgvC,aAIrChvC,EAASkvC,UAEV3N,EAAS2N,QAAQhzC,MAAQ8D,EAASkvC,QAClC3N,EAAS4N,UAAUjzC,MAAQ8D,EAASmvC,UAC/BnvC,EAASkpD,OAASh5C,IAAWqxB,EAAS4N,UAAUjzC,QAAW,IAI/D8D,EAASqvC,YAEV9N,EAAS8N,UAAUnzC,MAAQ8D,EAASqvC,UACpC9N,EAAS+N,YAAYpzC,MAAMkJ,KAAMpF,EAASsvC,aACrCtvC,EAASkpD,OAASh5C,GAAWqxB,EAAS+N,YAAYpzC,MAAM8f,UAI5Dhc,EAASwvC,kBAEVjO,EAASiO,gBAAgBtzC,MAAQ8D,EAASwvC,gBAC1CjO,EAASkO,kBAAkBvzC,MAAQ8D,EAASyvC,kBAC5ClO,EAASmO,iBAAiBxzC,MAAQ8D,EAAS0vC,kBAkBnD,SAAS+gD,GAAyBlvD,EAAUvhC,GAExCuhC,EAASiR,UAAUt2C,MAAQ8D,EAASwyC,UACpCjR,EAASkR,UAAUv2C,MAAQ8D,EAASyyC,UAE/BzyC,EAAS4vC,eAEVrO,EAASqO,aAAa1zC,MAAQ8D,EAAS4vC,cAItC5vC,EAAS8vC,eAEVvO,EAASuO,aAAa5zC,MAAQ8D,EAAS8vC,cAItC9vC,EAASgvC,cAEVzN,EAASyN,YAAY9yC,MAAQ8D,EAASgvC,aAIrChvC,EAASkvC,UAEV3N,EAAS2N,QAAQhzC,MAAQ8D,EAASkvC,QAClC3N,EAAS4N,UAAUjzC,MAAQ8D,EAASmvC,UAC/BnvC,EAASkpD,OAASh5C,IAAWqxB,EAAS4N,UAAUjzC,QAAW,IAI/D8D,EAASqvC,YAEV9N,EAAS8N,UAAUnzC,MAAQ8D,EAASqvC,UACpC9N,EAAS+N,YAAYpzC,MAAMkJ,KAAMpF,EAASsvC,aACrCtvC,EAASkpD,OAASh5C,GAAWqxB,EAAS+N,YAAYpzC,MAAM8f,UAI5Dhc,EAASwvC,kBAEVjO,EAASiO,gBAAgBtzC,MAAQ8D,EAASwvC,gBAC1CjO,EAASkO,kBAAkBvzC,MAAQ8D,EAASyvC,kBAC5ClO,EAASmO,iBAAiBxzC,MAAQ8D,EAAS0vC,kBAI1C1vC,EAASouC,SAGV7M,EAASmR,gBAAgBx2C,MAAQ8D,EAAS0yC,iBA5uClDqkC,GAAU/iC,iBARV,SAA2BH,GAElBk1C,GAAGvS,gBACHwT,IAA2BA,GAA0Bn2C,KAOvC,oBAAXt2C,QAAyBw5E,GAAU9iC,WAAY12C,QAE3D0E,KAAK+xC,iBAAmB,SAAWppB,GAE/Bo/D,GAA2Bp/D,EAC3Bm+D,GAAG/0C,iBAAkBppB,GAErBmsD,GAAUp/C,SAMd11B,KAAKU,OAAS,SAAWxF,EAAOF,EAAQ2vE,EAAc6b,GAElD,GAASxrF,GAAUA,EAAOm9C,UAO1B,IAAK8gC,GAAL,CAIAK,GAAwB5mD,SAAW,KACnC4mD,GAAwBjiB,QAAU,KAClCiiB,GAAwB3wB,WAAY,EACpC0wB,IAAuB,EACvBE,GAAiB,MAIS,IAArBr+E,EAAMksE,YAAsBlsE,EAAM63B,oBAIhB,OAAlB/3B,EAAOk7C,QAAkBl7C,EAAO+3B,oBAEhC+zD,GAAGlmF,UAEJ5F,EAAS8rF,GAAGlR,UAAW56E,KAM3Bi9E,EAAqBW,EAAa/+E,IAAKqB,EAAOF,IAC3BsF,OAEnBpF,EAAM67C,eAAgBiiC,EAAO99E,EAAOF,EAAQ2vE,GAE5C5F,GAAkBnmD,iBAAkB5jB,EAAO2uB,iBAAkB3uB,EAAO0uB,oBACpEo7C,GAASzuC,cAAe0uC,IAExB4W,GAAwB37E,KAAK2mE,qBAC7B+U,GAAmBvB,GAAU75E,KAAMN,KAAK4nD,eAAgB+zB,GAAuB3gF,IAE/Eg9E,EAAoBW,EAAY9+E,IAAKqB,EAAOF,IAC1BsF,OAoJtB,SAASyvF,EAAer1F,EAAQM,EAAQs9E,GAEpC,IAAwB,IAAnB59E,EAAO87C,QAAoB,OAEhC,IAAIA,EAAU97C,EAAOq7C,OAAOD,KAAM96C,EAAO+6C,QAEzC,GAAKS,EAED,GAAK97C,EAAOsxF,QAER/T,EAAmB1T,UAAW7pE,GAEzBA,EAAO+7C,YAERwhC,EAAmBzT,WAAY9pE,QAIhC,GAAKA,EAAOoxF,UAEf,IAAOpxF,EAAOi8C,eAAiBmuB,GAASrtC,iBAAkB/8B,GAAW,CAE5D49E,GAEDsD,GAAS7wD,sBAAuBrwB,EAAOmvB,aAClC5I,aAAc8jD,IAIvB,IAAIryC,EAAW+lD,EAAQh4E,OAAQ/F,GAC3BqD,EAAWrD,EAAOqD,SAEtBi6E,EAAkB5qE,KAAM1S,EAAQg4B,EAAU30B,EAAU69E,GAASt8E,EAAG,YAIjE,GAAK5E,EAAO4xF,wBAEVhU,GAEDsD,GAAS7wD,sBAAuBrwB,EAAOmvB,aAClC5I,aAAc8jD,IAIvBiT,EAAkB5qE,KAAM1S,EAAQ,KAAMA,EAAOqD,SAAU69E,GAASt8E,EAAG,WAEhE,IAAK5E,EAAO++C,QAAU/+C,EAAOg/C,QAAUh/C,EAAOi/C,YAE5Cj/C,EAAO0lE,eAER1lE,EAAO4lE,SAAS7/D,UAIb/F,EAAOi8C,eAAiBmuB,GAASxtC,iBAAkB58B,IAAW,CAE5D49E,GAEDsD,GAAS7wD,sBAAuBrwB,EAAOmvB,aAClC5I,aAAc8jD,IAIvB,IAAIryC,EAAW+lD,EAAQh4E,OAAQ/F,GAC3BqD,EAAWrD,EAAOqD,SAEtB,GAAKmyB,MAAMC,QAASpyB,GAIhB,IAFA,IAAIy+C,EAAS9pB,EAAS8pB,OAEZxjD,EAAI,EAAGC,EAAIujD,EAAOz8C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAIskD,EAAQd,EAAQxjD,GAChBm4D,EAAgBpzD,EAAUu/C,EAAM9I,eAE/B2c,GAAiBA,EAAc3a,SAEhCwhC,EAAkB5qE,KAAM1S,EAAQg4B,EAAUy+B,EAAeyqB,GAASt8E,EAAGg+C,QAMrEv/C,EAASy4C,SAEjBwhC,EAAkB5qE,KAAM1S,EAAQg4B,EAAU30B,EAAU69E,GAASt8E,EAAG,MAUhF,IAAI62C,EAAWz7C,EAAOy7C,SAEtB,IAAM,IAAIn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzC+2F,EAAe55C,EAAUn9C,GAAKgC,EAAQs9E,GAtP1CyX,CAAe70F,EAAOF,EAAQg+E,EAAMV,cAET,IAAtBU,EAAMV,aAEPN,EAAkB73B,OAMjBu7B,IAAmBvB,GAAUgB,eAElC,IAAI9W,EAAe4T,EAAmB10E,MAAM8gE,aAE5C3C,GAAUhhE,OAAQ2jE,EAAcnpE,EAAOF,GAEvCi9E,EAAmB3T,YAAatpE,GAE3B0gF,IAAmBvB,GAAUiB,aAI7Bp7E,KAAKw3D,KAAKitB,WAAYzkF,KAAKw3D,KAAKp0D,aAEfzC,IAAjBgqE,IAEDA,EAAe,MAInB3qE,KAAKioE,gBAAiB0C,GAItBxuE,EAAWuE,OAAQs3E,EAAmB98E,EAAOF,EAAQwrF,GAIrD,IAAIwJ,EAAgBhY,EAAkBxV,OAClCytB,EAAqBjY,EAAkB9wB,YAE3C,GAAKhsD,EAAMixF,iBAAmB,CAE1B,IAAIA,EAAmBjxF,EAAMixF,iBAExB6D,EAAcjwF,QAASmsF,GAAe8D,EAAe90F,EAAOF,EAAQmxF,GACpE8D,EAAmBlwF,QAASmsF,GAAe+D,EAAoB/0F,EAAOF,EAAQmxF,QAM9E6D,EAAcjwF,QAASmsF,GAAe8D,EAAe90F,EAAOF,GAI5Di1F,EAAmBlwF,QAASmsF,GAAe+D,EAAoB/0F,EAAOF,GAM1E2vE,GAED/6C,EAASmgD,yBAA0BpF,GAMvCpnE,EAAM4uC,QAAQrB,MAAM42B,SAAS,GAC7BnkE,EAAM4uC,QAAQrB,MAAMitC,SAAS,GAC7Bx6E,EAAM4uC,QAAQl0C,MAAM8/E,SAAS,GAE7Bx6E,EAAM8/E,kBAAkB,GAExBnoF,EAAM87C,cAAegiC,EAAO99E,EAAOF,GAE9B8rF,GAAGlmF,SAEJkmF,GAAG1P,cAMPY,EAAoB,KACpBC,EAAqB,WApIjBnvE,QAAQgP,MAAO,2EAo2CvB9X,KAAKizD,iBAhBL,WAEI,IAAIi9B,EAActW,GAUlB,OARKsW,GAAej2B,EAAa2iB,aAE7B9zE,QAAQC,KAAM,sCAAwCmnF,EAAc,+CAAiDj2B,EAAa2iB,aAItIhD,IAAqB,EAEdsW,GAOXlwF,KAAKw0D,aAAiB,WAElB,IAAI27B,GAAS,EAGb,OAAO,SAAuBhiE,EAAS+8C,GAE9B/8C,GAAWA,EAAQwC,sBAEbw/D,IAEHrnF,QAAQC,KAAM,gHACdonF,GAAS,GAIbhiE,EAAUA,EAAQA,SAItByB,EAAS4kC,aAAcrmC,EAAS+8C,IApBlB,GA0BtBlrE,KAAK00D,aAGM,SAAuBvmC,EAAS+8C,GAEnCt7C,EAAS8kC,aAAcvmC,EAAS+8C,IAMxClrE,KAAKowF,WAAe,WAEhB,IAAID,GAAS,EAEb,OAAO,SAAqBhiE,EAAS+8C,GAE1BilB,IAEHrnF,QAAQC,KAAM,6EACdonF,GAAS,GAIbvgE,EAAS4kC,aAAcrmC,EAAS+8C,IAbpB,GAmBpBlrE,KAAK40D,eAAmB,WAEpB,IAAIu7B,GAAS,EAEb,OAAO,SAAyBhiE,EAAS+8C,GAGhC/8C,GAAWA,EAAQyC,0BAEbu/D,IAEHrnF,QAAQC,KAAM,uHACdonF,GAAS,GAIbhiE,EAAUA,EAAQA,SAMfA,GAAWA,EAAQ4jC,eACpB7hC,MAAMC,QAAShC,EAAQpC,QAAoC,IAAzBoC,EAAQpC,MAAMhsB,OAKlD6vB,EAASglC,eAAgBzmC,EAAS+8C,GAMlCt7C,EAAS8/C,sBAAuBvhD,EAAS+8C,IAlC7B,GA4CxBlrE,KAAKqnF,eAAiB,SAAWptF,GAE7Bi/E,GAAej/E,GAInB+F,KAAK8gE,gBAAkB,WAEnB,OAAOqY,IAIXn5E,KAAKioE,gBAAkB,SAAW0C,GAE9BwO,GAAuBxO,EAElBA,QAAsEhqE,IAAtD4tC,EAAW10C,IAAK8wE,GAAeG,oBAEhDl7C,EAAS+/C,kBAAmBhF,GAIhC,IAAIsD,EAAciL,GACdjK,GAAS,EAEb,GAAKtE,EAAe,CAEhB,IAAIG,EAAqBv8B,EAAW10C,IAAK8wE,GAAeG,mBAEnDH,EAAa/5C,yBAEdq9C,EAAcnD,EAAoBH,EAAan8C,gBAC/CygD,GAAS,GAIThB,EAAcnD,EAIlB2O,GAAiBt2E,KAAMwnE,EAAaz8C,UACpCwrD,GAAgBv2E,KAAMwnE,EAAa38C,SACnC2rD,GAAsBhP,EAAa18C,iBAInCwrD,GAAiBt2E,KAAM62E,IAAYj1E,eAAgBg1E,IACnDL,GAAgBv2E,KAAM82E,IAAWl1E,eAAgBg1E,IACjDJ,GAAsBO,GAe1B,GAXKd,KAAwBnL,IAEzB3G,EAAI8G,gBAAiB9G,EAAI+G,YAAaJ,GACtCmL,GAAsBnL,GAI1B1qE,EAAM2qB,SAAUurD,IAChBl2E,EAAMyqB,QAAS0rD,IACfn2E,EAAMokE,eAAgBgS,IAEjB1K,EAAS,CAEV,IAAI/E,EAAoB37B,EAAW10C,IAAK8wE,EAAax8C,SACrDm5C,EAAIgH,qBAAsBhH,EAAI+G,YAAa/G,EAAIwI,kBAAmBxI,EAAImI,4BAA8B9E,EAAan8C,eAAgB07C,EAAkBI,eAAgBK,EAAal8C,qBAMxLzuB,KAAKqwF,uBAAyB,SAAW1lB,EAAcvrE,EAAGC,EAAGgZ,EAAOC,EAAQi6B,GAExE,GAASo4B,GAAgBA,EAAah6C,oBAAtC,CAOA,IAAIs9C,EAAc1/B,EAAW10C,IAAK8wE,GAAeG,mBAEjD,GAAKmD,EAAc,CAEf,IAAIqiB,GAAU,EAETriB,IAAgBmL,KAEjB9R,EAAI8G,gBAAiB9G,EAAI+G,YAAaJ,GAEtCqiB,GAAU,GAId,IAEI,IAAIniE,EAAUw8C,EAAax8C,QACvBoiE,EAAgBpiE,EAAQnB,OACxB4+C,EAAcz9C,EAAQnoB,KAE1B,GAAKuqF,IAAkB79E,IAAc21D,EAAM4D,QAASskB,KAAoBjpB,EAAIp0C,aAAco0C,EAAIkpB,kCAG1F,YADA1nF,QAAQgP,MAAO,6GAKnB,KAAK8zD,IAAgBh6D,IAAoBy2D,EAAM4D,QAASL,KAAkBtE,EAAIp0C,aAAco0C,EAAImpB,iCACxF7kB,IAAgB15D,KAAe+nD,EAAaU,UAAY5R,EAAWlvD,IAAK,sBAAyBkvD,EAAWlvD,IAAK,8BACjH+xE,IAAgBz5D,KAAmB8nD,EAAaU,SAAW5R,EAAWlvD,IAAK,0BAA6BkvD,EAAWlvD,IAAK,iCAG5H,YADAiP,QAAQgP,MAAO,uHAKdwvD,EAAIopB,uBAAwBppB,EAAI+G,eAAkB/G,EAAIqpB,qBAIhDvxF,GAAK,GAAKA,GAAOurE,EAAatyD,MAAQA,GAAehZ,GAAK,GAAKA,GAAOsrE,EAAaryD,OAASA,GAE/FgvD,EAAIspB,WAAYxxF,EAAGC,EAAGgZ,EAAOC,EAAQ+vD,EAAM4D,QAASskB,GAAiBloB,EAAM4D,QAASL,GAAer5B,GAMvGzpC,QAAQgP,MAAO,8GAlCvB,QAwCSw4E,GAEDhpB,EAAI8G,gBAAiB9G,EAAI+G,YAAa+K,WA7D9CtwE,QAAQgP,MAAO,6FAuEvB9X,KAAK6wF,yBAA2B,SAAWh0F,EAAUsxB,EAAS2iE,GAE1D,IAAIz4E,EAAQ8V,EAAQpC,MAAM1T,MACtBC,EAAS6V,EAAQpC,MAAMzT,OACvBywD,EAAWV,EAAM4D,QAAS99C,EAAQnB,QAEtChtB,KAAKw0D,aAAcrmC,EAAS,GAE5Bm5C,EAAIypB,eAAgBzpB,EAAIoE,WAAYolB,GAAS,EAAG/nB,EAAUlsE,EAASuC,EAAGvC,EAASwC,EAAGgZ,EAAOC,EAAQ,IAIrGtY,KAAKgxF,qBAAuB,SAAWn0F,EAAUo0F,EAAYC,EAAYJ,GAErE,IAAIz4E,EAAQ44E,EAAWllE,MAAM1T,MACzBC,EAAS24E,EAAWllE,MAAMzT,OAC1BywD,EAAWV,EAAM4D,QAASilB,EAAWlkE,QACrCg8C,EAASX,EAAM4D,QAASilB,EAAWlrF,MAEvChG,KAAKw0D,aAAc08B,EAAY,GAE1BD,EAAWpgE,cAEZy2C,EAAI6pB,cAAe7pB,EAAIoE,WAAYolB,GAAS,EAAGj0F,EAASuC,EAAGvC,EAASwC,EAAGgZ,EAAOC,EAAQywD,EAAUC,EAAQioB,EAAWllE,MAAM4C,MAIzH24C,EAAI6pB,cAAe7pB,EAAIoE,WAAYolB,GAAS,EAAGj0F,EAASuC,EAAGvC,EAASwC,EAAG0pE,EAAUC,EAAQioB,EAAWllE,QAahH,SAASzvB,GAAS2B,EAAO+vF,GAErBhuF,KAAKzG,KAAO,GAEZyG,KAAK/B,MAAQ,IAAI7B,GAAO6B,GACxB+B,KAAKguF,aAAwBrtF,IAAZqtF,EAA0BA,EAAU,MA2BzD,SAASoD,GAAKnzF,EAAOmmB,EAAMC,GAEvBrkB,KAAKzG,KAAO,GAEZyG,KAAK/B,MAAQ,IAAI7B,GAAO6B,GAExB+B,KAAKokB,UAAkBzjB,IAATyjB,EAAuBA,EAAO,EAC5CpkB,KAAKqkB,SAAgB1jB,IAAR0jB,EAAsBA,EAAM,IA2B7C,SAASnoB,KAEL+5C,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,QAEZhG,KAAK7D,WAAa,KAClB6D,KAAK3D,IAAM,KACX2D,KAAKmsF,iBAAmB,KAExBnsF,KAAKonE,YAAa,EAwCtB,SAASiqB,GAAmB7jF,EAAOs9E,GAE/B9qF,KAAKwN,MAAQA,EACbxN,KAAK8qF,OAASA,EACd9qF,KAAK+gB,WAAkBpgB,IAAV6M,EAAsBA,EAAMzN,OAAS+qF,EAAS,EAE3D9qF,KAAK2yC,SAAU,EACf3yC,KAAKm0C,aAAgBzwC,OAAQ,EAAGqd,OAAS,GAEzC/gB,KAAK2tB,QAAU,EAmGnB,SAAS2jE,GAA4BC,EAAmB/1C,EAAU93C,EAAQ+3C,GAEtEz7C,KAAK2uB,KAAO4iE,EACZvxF,KAAKw7C,SAAWA,EAChBx7C,KAAK0D,OAASA,EAEd1D,KAAKy7C,YAA4B,IAAfA,EAyItB,SAASkkB,GAAgB/lB,GAErBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,iBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UACxB4D,KAAK6rC,IAAM,KAEX7rC,KAAKwrB,SAAW,EAEhBxrB,KAAK2qD,iBAAkB,EAEvB3qD,KAAKouC,QAAS,EACdpuC,KAAKknD,aAAc,EAEnBlnD,KAAKupD,UAAW3P,GA8BpB,SAAS43C,GAAQzzF,GAMb,GAJAk4C,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,cAEMrF,IAAb+xB,GAAyB,CAE1BA,GAAW,IAAI4wB,GAEf,IAOIiuC,EAAoB,IAAIF,GAPT,IAAIl+C,eACjB,IAAO,GAAK,EAAG,EAAG,EACpB,IAAO,GAAK,EAAG,EAAG,EAClB,GAAK,GAAK,EAAG,EAAG,GACd,GAAK,GAAK,EAAG,EAAG,IAGuC,GAE7DzgB,GAASqyB,UAAY,EAAG,EAAG,EAAG,EAAG,EAAG,IACpCryB,GAASsyB,aAAc,WAAY,IAAIssC,GAA4BC,EAAmB,EAAG,GAAG,IAC5F7+D,GAASsyB,aAAc,KAAM,IAAIssC,GAA4BC,EAAmB,EAAG,GAAG,IAI1FvxF,KAAK0yB,SAAWA,GAChB1yB,KAAKjC,cAA0B4C,IAAb5C,EAA2BA,EAAW,IAAI4hE,GAE5D3/D,KAAKiL,OAAS,IAAIvE,GAAS,GAAK,IA6IpC,SAAS+qF,KAELx7C,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,MAEZtM,OAAOsR,iBAAkBhL,MACrB0xF,QACI93F,YAAY,EACZK,YAmKZ,SAAS03F,GAAUtxB,EAAOuxB,GAWtB,GAPAvxB,EAAQA,MAERrgE,KAAKqgE,MAAQA,EAAM5yD,MAAO,GAC1BzN,KAAK4tF,aAAe,IAAIz6C,aAAkC,GAApBnzC,KAAKqgE,MAAMtgE,aAI3BY,IAAjBixF,EAED5xF,KAAK6xF,yBAIL,GAAK7xF,KAAKqgE,MAAMtgE,SAAW6xF,EAAa7xF,OAEpCC,KAAK4xF,aAAeA,EAAankF,MAAO,OAErC,CAEH3E,QAAQC,KAAM,oDAEd/I,KAAK4xF,gBAEL,IAAM,IAAI54F,EAAI,EAAG04B,EAAK1xB,KAAKqgE,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,IAE7CgH,KAAK4xF,aAAaxkF,KAAM,IAAIwK,KAgJ5C,SAASk6E,KAEL77C,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,OAkBhB,SAAS+rF,GAAar/D,EAAU30B,GAE5BoB,GAAKhG,KAAM6G,KAAM0yB,EAAU30B,GAE3BiC,KAAKgG,KAAO,cAEZhG,KAAKgyF,SAAW,WAChBhyF,KAAKiyF,WAAa,IAAIr6E,GACtB5X,KAAKkyF,kBAAoB,IAAIt6E,GAE7B,IACI0oD,EAAW,IAAIqxB,GADP3xF,KAAKmyF,aAGjBnyF,KAAKxF,KAAM8lE,EAAUtgE,KAAK6pB,aAE1B7pB,KAAKoyF,uBAkMT,SAAS7yB,GAAmB3lB,GAExBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,oBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UAExB4D,KAAK0oD,UAAY,EACjB1oD,KAAKqyF,QAAU,QACfryF,KAAKsyF,SAAW,QAEhBtyF,KAAKouC,QAAS,EAEdpuC,KAAKupD,UAAW3P,GA2BpB,SAAS24C,GAAM7/D,EAAU30B,EAAU5D,GAEjB,IAATA,GAED2O,QAAQgP,MAAO,+FAInBm+B,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,OAEZhG,KAAK0yB,cAAwB/xB,IAAb+xB,EAAyBA,EAAW,IAAI4wB,GACxDtjD,KAAKjC,cAAwB4C,IAAb5C,EAAyBA,EAAW,IAAIwhE,IAAqBthE,MAAuB,SAAhBX,KAAKM,WAwO7F,SAAS40F,GAAc9/D,EAAU30B,GAE7Bw0F,GAAKp5F,KAAM6G,KAAM0yB,EAAU30B,GAE3BiC,KAAKgG,KAAO,eA2EhB,SAASysF,GAAU//D,EAAU30B,GAEzBw0F,GAAKp5F,KAAM6G,KAAM0yB,EAAU30B,GAE3BiC,KAAKgG,KAAO,WA4BhB,SAASy5D,GAAgB7lB,GAErBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,iBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UAExB4D,KAAK6rC,IAAM,KAEX7rC,KAAK6xB,KAAO,EACZ7xB,KAAK2qD,iBAAkB,EAEvB3qD,KAAK06C,cAAe,EAEpB16C,KAAKouC,QAAS,EAEdpuC,KAAKupD,UAAW3P,GA8BpB,SAAS84C,GAAQhgE,EAAU30B,GAEvBk4C,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,SAEZhG,KAAK0yB,cAAwB/xB,IAAb+xB,EAAyBA,EAAW,IAAI4wB,GACxDtjD,KAAKjC,cAAwB4C,IAAb5C,EAAyBA,EAAW,IAAI0hE,IAAkBxhE,MAAuB,SAAhBX,KAAKM,WAmI1F,SAAS+0F,GAAcC,EAAOjmE,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,GAErFP,GAAQvzB,KAAM6G,KAAM4yF,EAAOjmE,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,GAEtFjtB,KAAKutB,iBAAkB,EA4B3B,SAASslE,GAAmBzlE,EAAS/U,EAAOC,EAAQ0U,EAAQhnB,EAAM2mB,EAASC,EAAOC,EAAOC,EAAWC,EAAWE,EAAYC,GAEvHR,GAAQvzB,KAAM6G,KAAM,KAAM2sB,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,EAAYC,GAEjGltB,KAAK+rB,OAAU1T,MAAOA,EAAOC,OAAQA,GACrCtY,KAAKotB,QAAUA,EAKfptB,KAAKytB,OAAQ,EAKbztB,KAAKutB,iBAAkB,EAa3B,SAASulE,GAAe9mE,EAAQW,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,GAEvFP,GAAQvzB,KAAM6G,KAAMgsB,EAAQW,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,GAEvFjtB,KAAK4lD,aAAc,EAavB,SAASmtC,GAAc16E,EAAOC,EAAQtS,EAAM2mB,EAASC,EAAOC,EAAOC,EAAWC,EAAWE,EAAYD,GAIjG,IAFAA,OAAoBrsB,IAAXqsB,EAAuBA,EAASla,MAEzBA,IAAeka,IAAWja,GAEtC,MAAM,IAAI8F,MAAO,yFAIPlY,IAATqF,GAAsBgnB,IAAWla,KAAc9M,EAAO+L,SAC7CpR,IAATqF,GAAsBgnB,IAAWja,KAAqB/M,EAAOuM,IAElEma,GAAQvzB,KAAM6G,KAAM,KAAM2sB,EAASC,EAAOC,EAAOC,EAAWC,EAAWC,EAAQhnB,EAAMinB,GAErFjtB,KAAK+rB,OAAU1T,MAAOA,EAAOC,OAAQA,GAErCtY,KAAK8sB,eAA0BnsB,IAAdmsB,EAA0BA,EAAYxb,GACvDtR,KAAK+sB,eAA0BpsB,IAAdosB,EAA0BA,EAAYzb,GAEvDtR,KAAKytB,OAAQ,EACbztB,KAAKutB,iBAAkB,EAa3B,SAASylE,GAAmBtgE,GAExB4wB,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,oBAIZ,IAIIhN,EAAGm7B,EAAGl7B,EAAGQ,EAAGw5F,EACiBl0F,EAAGuuD,EAAOC,EACvChzD,EACA+lD,EAPA1tB,KAKAsgE,GAAS,EAAG,GAAKC,KACZpxF,GAAS,IAAK,IAAK,KAK5B,GAAK2wB,GAAYA,EAASC,WAAa,CAInC,IAAI6nB,EAAQ9nB,EAAS8nB,MAErB,IAAMxhD,EAAI,EAAGC,EAAIuhD,EAAMz6C,OAAQ/G,EAAIC,EAAGD,IAAO,CAEzC,IAAI0jD,EAAOlC,EAAOxhD,GAElB,IAAMm7B,EAAI,EAAGA,EAAI,EAAGA,IAEhBm5B,EAAQ5Q,EAAM36C,EAAMoyB,IACpBo5B,EAAQ7Q,EAAM36C,GAAQoyB,EAAI,GAAM,IAChC++D,EAAM,GAAM51F,KAAKmH,IAAK6oD,EAAOC,GAC7B2lC,EAAM,GAAM51F,KAAKkH,IAAK8oD,EAAOC,QAIP5sD,IAAjBwyF,EAFL54F,EAAM24F,EAAM,GAAM,IAAMA,EAAM,MAI1BC,EAAO54F,IAAUynD,OAAQkxC,EAAM,GAAKjxC,OAAQixC,EAAM,KAU9D,IAAM34F,KAAO44F,EAETp0F,EAAIo0F,EAAO54F,GAEX+lD,EAAS5tB,EAASE,SAAU7zB,EAAEijD,QAC9BpvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAE1CghD,EAAS5tB,EAASE,SAAU7zB,EAAEkjD,QAC9BrvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,QAI3C,GAAKozB,GAAYA,EAASG,iBAAmB,CAEhD,IAAIh2B,EAAUkgD,EAASP,EACnBc,EAAO5nB,EACPssB,EAAQC,EAIZ,GAFA3B,EAAS,IAAIx/C,GAEW,OAAnB4xB,EAAS9lB,MAAiB,CAgB3B,IAZA/P,EAAW61B,EAASI,WAAWj2B,SAC/BkgD,EAAUrqB,EAAS9lB,MAGI,KAFvB4vC,EAAS9pB,EAAS8pB,QAENz8C,SAERy8C,IAAa9mB,MAAO,EAAG3U,MAAOg8B,EAAQh8B,MAAOyzB,cAAe,KAM1D/6C,EAAI,EAAGw5F,EAAKz2C,EAAOz8C,OAAQtG,EAAIw5F,IAAOx5F,EAOxC,IAAMT,EAHN08B,GAFA4nB,EAAQd,EAAQ/iD,IAEFi8B,MAGGz8B,EAAMy8B,EAFf4nB,EAAMv8B,MAE0B/nB,EAAIC,EAAGD,GAAK,EAEhD,IAAMm7B,EAAI,EAAGA,EAAI,EAAGA,IAEhBm5B,EAAQvQ,EAAQ7hC,KAAMliB,EAAIm7B,GAC1Bo5B,EAAQxQ,EAAQ7hC,KAAMliB,GAAMm7B,EAAI,GAAM,GACtC++D,EAAM,GAAM51F,KAAKmH,IAAK6oD,EAAOC,GAC7B2lC,EAAM,GAAM51F,KAAKkH,IAAK8oD,EAAOC,QAIP5sD,IAAjBwyF,EAFL54F,EAAM24F,EAAM,GAAM,IAAMA,EAAM,MAI1BC,EAAO54F,IAAUynD,OAAQkxC,EAAM,GAAKjxC,OAAQixC,EAAM,KAYlE,IAAM34F,KAAO44F,EAETp0F,EAAIo0F,EAAO54F,GAEX+lD,EAAOtlC,oBAAqBne,EAAUkC,EAAEijD,QACxCpvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAE1CghD,EAAOtlC,oBAAqBne,EAAUkC,EAAEkjD,QACxCrvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,QAU9C,IAAMtG,EAAI,EAAGC,GAFb4D,EAAW61B,EAASI,WAAWj2B,UAEHkkB,MAAQ,EAAK/nB,EAAIC,EAAGD,IAE5C,IAAMm7B,EAAI,EAAGA,EAAI,EAAGA,IAKhB6tB,EAAS,EAAIhpD,EAAIm7B,EACjBmsB,EAAOtlC,oBAAqBne,EAAUmlD,GACtCpvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAE1C2iD,EAAS,EAAIjpD,GAAQm7B,EAAI,GAAM,EAC/BmsB,EAAOtlC,oBAAqBne,EAAUolD,GACtCrvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAY1DU,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IAiBzE,SAASwgE,GAAoBC,EAAMC,EAAQC,GAEvCj5C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,qBAEZhG,KAAK45C,YACDy5C,KAAMA,EACNC,OAAQA,EACRC,OAAQA,GAGZvzF,KAAK88C,mBAAoB,IAAI02C,GAA0BH,EAAMC,EAAQC,IACrEvzF,KAAKy/C,gBAST,SAAS+zC,GAA0BH,EAAMC,EAAQC,GAE7CjwC,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,2BAEZhG,KAAK45C,YACDy5C,KAAMA,EACNC,OAAQA,EACRC,OAAQA,GAKZ,IAYIv6F,EAAGm7B,EAZH4oB,KACAnqB,KACAypB,KACAC,KAIA7xB,EAAS,IAAI3pB,GAEbmuB,EAAK,IAAInuB,GAAWouB,EAAK,IAAIpuB,GAC7B2yF,EAAK,IAAI3yF,GAAW4yF,EAAK,IAAI5yF,GAI5BuyF,EAAKtzF,OAAS,GAEf+I,QAAQgP,MAAO,oFAMnB,IAAI67E,EAAaL,EAAS,EAE1B,IAAMt6F,EAAI,EAAGA,GAAKu6F,EAAQv6F,IAAO,CAE7B,IAAIwO,EAAIxO,EAAIu6F,EAEZ,IAAMp/D,EAAI,EAAGA,GAAKm/D,EAAQn/D,IAAO,CAE7B,IAAIqL,EAAIrL,EAAIm/D,EAIZD,EAAM7zD,EAAGh4B,EAAGynB,GACZ2D,EAASxlB,KAAM6hB,EAAG7vB,EAAG6vB,EAAG5vB,EAAG4vB,EAAG3vB,GAMzBkgC,EApCH,MAoCc,GAEZ6zD,EAAM7zD,EAtCR,KAsCiBh4B,EAAG0nB,GAClBukE,EAAG7pF,WAAYqlB,EAAIC,KAInBmkE,EAAM7zD,EA3CR,KA2CiBh4B,EAAG0nB,GAClBukE,EAAG7pF,WAAYslB,EAAID,IAIlBznB,EAhDH,MAgDc,GAEZ6rF,EAAM7zD,EAAGh4B,EAlDX,KAkDoB0nB,GAClBwkE,EAAG9pF,WAAYqlB,EAAIC,KAInBmkE,EAAM7zD,EAAGh4B,EAvDX,KAuDoB0nB,GAClBwkE,EAAG9pF,WAAYslB,EAAID,IAMvBxE,EAAO5iB,aAAc4rF,EAAIC,GAAKt5E,YAC9BiiC,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAIzCg9C,EAAIlvC,KAAMoyB,EAAGh4B,IAQrB,IAAMxO,EAAI,EAAGA,EAAIu6F,EAAQv6F,IAErB,IAAMm7B,EAAI,EAAGA,EAAIm/D,EAAQn/D,IAAO,CAE5B,IAAIlb,EAAIjgB,EAAI26F,EAAax/D,EACrBjb,EAAIlgB,EAAI26F,EAAax/D,EAAI,EACzB96B,GAAML,EAAI,GAAM26F,EAAax/D,EAAI,EACjC76B,GAAMN,EAAI,GAAM26F,EAAax/D,EAIjC4oB,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAQ5B0G,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IAgB9D,SAASs3C,GAAoBhhE,EAAUmqB,EAASp4C,EAAQkvF,GAEpDv5C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,qBAEZhG,KAAK45C,YACDhnB,SAAUA,EACVmqB,QAASA,EACTp4C,OAAQA,EACRkvF,OAAQA,GAGZ7zF,KAAK88C,mBAAoB,IAAIg3C,GAA0BlhE,EAAUmqB,EAASp4C,EAAQkvF,IAClF7zF,KAAKy/C,gBAST,SAASq0C,GAA0BlhE,EAAUmqB,EAASp4C,EAAQkvF,GAE1DvwC,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,2BAEZhG,KAAK45C,YACDhnB,SAAUA,EACVmqB,QAASA,EACTp4C,OAAQA,EACRkvF,OAAQA,GAGZlvF,EAASA,GAAU,EAKnB,IAAIovF,KACAC,KAwDJ,SAASC,EAAeh7E,EAAGC,EAAG7f,EAAGw6F,GAE7B,IAMI76F,EAAGm7B,EANH+/D,EAAO52F,KAAK8J,IAAK,EAAGysF,GAIpBrsF,KAMJ,IAAMxO,EAAI,EAAGA,GAAKk7F,EAAMl7F,IAAO,CAE3BwO,EAAGxO,MAEH,IAAIm7F,EAAKl7E,EAAEzW,QAAQiU,KAAMpd,EAAGL,EAAIk7F,GAC5BE,EAAKl7E,EAAE1W,QAAQiU,KAAMpd,EAAGL,EAAIk7F,GAE5BG,EAAOH,EAAOl7F,EAElB,IAAMm7B,EAAI,EAAGA,GAAKkgE,EAAMlgE,IAIhB3sB,EAAGxO,GAAKm7B,GAFD,IAANA,GAAWn7B,IAAMk7F,EAEJC,EAIAA,EAAG3xF,QAAQiU,KAAM29E,EAAIjgE,EAAIkgE,GAUnD,IAAMr7F,EAAI,EAAGA,EAAIk7F,EAAMl7F,IAEnB,IAAMm7B,EAAI,EAAGA,EAAI,GAAM+/D,EAAOl7F,GAAM,EAAGm7B,IAAO,CAE1C,IAAIktB,EAAI/jD,KAAK8O,MAAO+nB,EAAI,GAEnBA,EAAI,GAAM,GAEXmgE,EAAY9sF,EAAGxO,GAAKqoD,EAAI,IACxBizC,EAAY9sF,EAAGxO,EAAI,GAAKqoD,IACxBizC,EAAY9sF,EAAGxO,GAAKqoD,MAIpBizC,EAAY9sF,EAAGxO,GAAKqoD,EAAI,IACxBizC,EAAY9sF,EAAGxO,EAAI,GAAKqoD,EAAI,IAC5BizC,EAAY9sF,EAAGxO,EAAI,GAAKqoD,MAmFxC,SAASizC,EAAYh0C,GAEjByzC,EAAa3mF,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAIlD,SAASi1F,EAAkB3nF,EAAO0zC,GAE9B,IAAIwqC,EAAiB,EAARl+E,EAEb0zC,EAAOlhD,EAAIwzB,EAAUk4D,EAAS,GAC9BxqC,EAAOjhD,EAAIuzB,EAAUk4D,EAAS,GAC9BxqC,EAAOhhD,EAAIszB,EAAUk4D,EAAS,GAsClC,SAAS0J,EAAWnkE,EAAIy6D,EAAQhnE,EAAQ2wE,GAE7BA,EAAU,GAAkB,IAATpkE,EAAGjxB,IAEzB40F,EAAUlJ,GAAWz6D,EAAGjxB,EAAI,GAIZ,IAAb0kB,EAAO1kB,GAA4B,IAAb0kB,EAAOxkB,IAEhC00F,EAAUlJ,GAAW2J,EAAU,EAAIn3F,KAAKC,GAAK,IAQrD,SAASk3F,EAAS3wE,GAEd,OAAOxmB,KAAK+c,MAAOyJ,EAAOxkB,GAAKwkB,EAAO1kB,GAO1C,SAASs1F,EAAa5wE,GAElB,OAAOxmB,KAAK+c,OAASyJ,EAAOzkB,EAAG/B,KAAKoN,KAAQoZ,EAAO1kB,EAAI0kB,EAAO1kB,EAAQ0kB,EAAOxkB,EAAIwkB,EAAOxkB,KAjP5F,SAAoBu0F,GAQhB,IANA,IAAI56E,EAAI,IAAInY,GACRoY,EAAI,IAAIpY,GACRzH,EAAI,IAAIyH,GAIF9H,EAAI,EAAGA,EAAI+jD,EAAQh9C,OAAQ/G,GAAK,EAItCu7F,EAAkBx3C,EAAS/jD,EAAI,GAAKigB,GACpCs7E,EAAkBx3C,EAAS/jD,EAAI,GAAKkgB,GACpCq7E,EAAkBx3C,EAAS/jD,EAAI,GAAKK,GAIpC46F,EAAeh7E,EAAGC,EAAG7f,EAAGw6F,GA9ChCc,CATAd,EAASA,GAAU,GA8HnB,SAAuBlvF,GAMnB,IAJA,IAAI27C,EAAS,IAAIx/C,GAIP9H,EAAI,EAAGA,EAAI+6F,EAAah0F,OAAQ/G,GAAK,EAE3CsnD,EAAOlhD,EAAI20F,EAAc/6F,EAAI,GAC7BsnD,EAAOjhD,EAAI00F,EAAc/6F,EAAI,GAC7BsnD,EAAOhhD,EAAIy0F,EAAc/6F,EAAI,GAE7BsnD,EAAOlmC,YAAYrV,eAAgBJ,GAEnCovF,EAAc/6F,EAAI,GAAMsnD,EAAOlhD,EAC/B20F,EAAc/6F,EAAI,GAAMsnD,EAAOjhD,EAC/B00F,EAAc/6F,EAAI,GAAMsnD,EAAOhhD,EAjIvCs1F,CAAcjwF,GAuId,WAII,IAFA,IAAI27C,EAAS,IAAIx/C,GAEP9H,EAAI,EAAGA,EAAI+6F,EAAah0F,OAAQ/G,GAAK,EAAI,CAE/CsnD,EAAOlhD,EAAI20F,EAAc/6F,EAAI,GAC7BsnD,EAAOjhD,EAAI00F,EAAc/6F,EAAI,GAC7BsnD,EAAOhhD,EAAIy0F,EAAc/6F,EAAI,GAE7B,IAAIwmC,EAAIi1D,EAASn0C,GAAW,EAAIhjD,KAAKC,GAAK,GACtCiK,EAAIktF,EAAap0C,GAAWhjD,KAAKC,GAAK,GAC1Cy2F,EAAS5mF,KAAMoyB,EAAG,EAAIh4B,IAuD9B,WAYI,IAVA,IAAIyR,EAAI,IAAInY,GACRoY,EAAI,IAAIpY,GACRzH,EAAI,IAAIyH,GAER+zF,EAAW,IAAI/zF,GAEf2vD,EAAM,IAAI/pD,GACVgqD,EAAM,IAAIhqD,GACViqD,EAAM,IAAIjqD,GAEJ1N,EAAI,EAAGm7B,EAAI,EAAGn7B,EAAI+6F,EAAah0F,OAAQ/G,GAAK,EAAGm7B,GAAK,EAAI,CAE9Dlb,EAAEnc,IAAKi3F,EAAc/6F,EAAI,GAAK+6F,EAAc/6F,EAAI,GAAK+6F,EAAc/6F,EAAI,IACvEkgB,EAAEpc,IAAKi3F,EAAc/6F,EAAI,GAAK+6F,EAAc/6F,EAAI,GAAK+6F,EAAc/6F,EAAI,IACvEK,EAAEyD,IAAKi3F,EAAc/6F,EAAI,GAAK+6F,EAAc/6F,EAAI,GAAK+6F,EAAc/6F,EAAI,IAEvEy3D,EAAI3zD,IAAKk3F,EAAU7/D,EAAI,GAAK6/D,EAAU7/D,EAAI,IAC1Cu8B,EAAI5zD,IAAKk3F,EAAU7/D,EAAI,GAAK6/D,EAAU7/D,EAAI,IAC1Cw8B,EAAI7zD,IAAKk3F,EAAU7/D,EAAI,GAAK6/D,EAAU7/D,EAAI,IAE1C0gE,EAAS1xF,KAAM8V,GAAIxZ,IAAKyZ,GAAIzZ,IAAKpG,GAAIkgB,aAAc,GAEnD,IAAIu7E,EAAML,EAASI,GAEnBL,EAAW/jC,EAAKt8B,EAAI,EAAGlb,EAAG67E,GAC1BN,EAAW9jC,EAAKv8B,EAAI,EAAGjb,EAAG47E,GAC1BN,EAAW7jC,EAAKx8B,EAAI,EAAG96B,EAAGy7F,KA/E9BC,GAMJ,WAII,IAAM,IAAI/7F,EAAI,EAAGA,EAAIg7F,EAASj0F,OAAQ/G,GAAK,EAAI,CAI3C,IAAImsB,EAAK6uE,EAAUh7F,EAAI,GACnBusB,EAAKyuE,EAAUh7F,EAAI,GACnB8pB,EAAKkxE,EAAUh7F,EAAI,GAEnBwL,EAAMlH,KAAKkH,IAAK2gB,EAAII,EAAIzC,GACxBre,EAAMnH,KAAKmH,IAAK0gB,EAAII,EAAIzC,GAIvBte,EAAM,IAAOC,EAAM,KAEf0gB,EAAK,KAAM6uE,EAAUh7F,EAAI,IAAO,GAChCusB,EAAK,KAAMyuE,EAAUh7F,EAAI,IAAO,GAChC8pB,EAAK,KAAMkxE,EAAUh7F,EAAI,IAAO,KAzB7Cg8F,GArJJC,GAIAj1F,KAAKglD,aAAc,WAAY,IAAI9I,GAAwB63C,EAAc,IACzE/zF,KAAKglD,aAAc,SAAU,IAAI9I,GAAwB63C,EAAatmF,QAAS,IAC/EzN,KAAKglD,aAAc,KAAM,IAAI9I,GAAwB83C,EAAU,IAE/C,IAAXH,EAED7zF,KAAK89C,uBAIL99C,KAAKsmD,mBAuQb,SAAS4uC,GAAqBvwF,EAAQkvF,GAElCv5C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,sBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAGZ7zF,KAAK88C,mBAAoB,IAAIq4C,GAA2BxwF,EAAQkvF,IAChE7zF,KAAKy/C,gBAST,SAAS01C,GAA2BxwF,EAAQkvF,GAUxCC,GAAyB36F,KAAM6G,MAP3B,EAAG,EAAG,GAAM,GAAK,EAAG,GAAM,EAAG,GAAK,EAAI,GAAK,GAAK,IAIhD,EAAG,EAAG,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAGkB2E,EAAQkvF,GAEhE7zF,KAAKgG,KAAO,4BAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAehB,SAASuB,GAAoBzwF,EAAQkvF,GAEjCv5C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,qBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAGZ7zF,KAAK88C,mBAAoB,IAAIu4C,GAA0B1wF,EAAQkvF,IAC/D7zF,KAAKy/C,gBAST,SAAS41C,GAA0B1wF,EAAQkvF,GAavCC,GAAyB36F,KAAM6G,MAV3B,EAAG,EAAG,GAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAC3B,GAAK,EAAG,EAAI,EAAG,EAAG,EAAG,EAAG,GAAK,IAI7B,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACxB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EACxB,EAAG,EAAG,EAAG,EAAG,EAAG,GAGqC2E,EAAQkvF,GAEhE7zF,KAAKgG,KAAO,2BAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAehB,SAASyB,GAAqB3wF,EAAQkvF,GAElCv5C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,sBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAGZ7zF,KAAK88C,mBAAoB,IAAIy4C,GAA2B5wF,EAAQkvF,IAChE7zF,KAAKy/C,gBAST,SAAS81C,GAA2B5wF,EAAQkvF,GAExC,IAAI35F,GAAM,EAAIoD,KAAKoN,KAAM,IAAQ,EAE7BkoB,IACE,EAAG14B,EAAG,EAAI,EAAGA,EAAG,GAAM,GAAKA,EAAG,EAAI,GAAKA,EAAG,EAC5C,GAAK,EAAGA,EAAI,EAAG,EAAGA,EAAG,GAAK,GAAKA,EAAI,EAAG,GAAKA,EAC3CA,EAAG,GAAK,EAAIA,EAAG,EAAG,GAAMA,EAAG,GAAK,GAAMA,EAAG,EAAG,GAUhD45F,GAAyB36F,KAAM6G,KAAM4yB,GANjC,EAAG,GAAI,EAAI,EAAG,EAAG,EAAI,EAAG,EAAG,EAAI,EAAG,EAAG,GAAK,EAAG,GAAI,GACjD,EAAG,EAAG,EAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAC/C,EAAG,EAAG,EAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAC3C,EAAG,EAAG,EAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAGOjuB,EAAQkvF,GAEhE7zF,KAAKgG,KAAO,4BAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAehB,SAAS2B,GAAsB7wF,EAAQkvF,GAEnCv5C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,uBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAGZ7zF,KAAK88C,mBAAoB,IAAI24C,GAA4B9wF,EAAQkvF,IACjE7zF,KAAKy/C,gBAST,SAASg2C,GAA4B9wF,EAAQkvF,GAEzC,IAAI35F,GAAM,EAAIoD,KAAKoN,KAAM,IAAQ,EAC7B5Q,EAAI,EAAII,EAER04B,IAGE,GAAK,GAAK,GAAK,GAAK,EAAG,GACvB,EAAG,GAAK,GAAK,EAAG,EAAG,EACrB,GAAK,GAAK,EAAG,GAAK,EAAG,EACrB,EAAG,GAAK,EAAG,EAAG,EAAG,EAGjB,GAAK94B,GAAKI,EAAG,GAAKJ,EAAGI,EACrB,EAAGJ,GAAKI,EAAG,EAAGJ,EAAGI,GAGfJ,GAAKI,EAAG,GAAKJ,EAAGI,EAAG,EACrBJ,GAAKI,EAAG,EAAGJ,EAAGI,EAAG,GAGfA,EAAG,GAAKJ,EAAGI,EAAG,GAAKJ,GACnBI,EAAG,EAAGJ,EAAGI,EAAG,EAAGJ,GAkBrBg6F,GAAyB36F,KAAM6G,KAAM4yB,GAdjC,EAAG,GAAI,EAAI,EAAG,EAAG,GAAK,EAAG,GAAI,GAC7B,EAAG,GAAI,GAAK,EAAG,GAAI,EAAI,EAAG,EAAG,GAC7B,GAAI,EAAG,EAAI,GAAI,EAAG,GAAK,GAAI,GAAI,EAC/B,EAAG,EAAG,GAAK,EAAG,GAAI,EAAI,EAAG,EAAG,GAC5B,EAAG,GAAI,EAAI,EAAG,EAAG,GAAK,EAAG,GAAI,GAC7B,EAAG,GAAI,EAAI,EAAG,EAAG,GAAK,EAAG,GAAI,GAC7B,EAAG,GAAI,GAAK,EAAG,GAAI,EAAI,EAAG,EAAG,GAC7B,GAAI,EAAG,EAAI,GAAI,EAAG,GAAK,GAAI,GAAI,EAC/B,EAAG,GAAI,GAAK,EAAG,GAAI,EAAI,EAAG,EAAG,EAC7B,GAAI,EAAG,EAAI,GAAI,EAAG,GAAK,GAAI,GAAI,EAC/B,GAAI,EAAG,GAAK,GAAI,GAAI,EAAI,GAAI,EAAG,GAC/B,EAAG,GAAI,GAAK,EAAG,GAAI,EAAI,EAAG,EAAG,GAGuBjuB,EAAQkvF,GAEhE7zF,KAAKgG,KAAO,6BAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkvF,OAAQA,GAoBhB,SAAS6B,GAAc7+B,EAAM8+B,EAAiBhxF,EAAQixF,EAAgBC,EAAQC,GAE1Ex7C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,eAEZhG,KAAK45C,YACDid,KAAMA,EACN8+B,gBAAiBA,EACjBhxF,OAAQA,EACRixF,eAAgBA,EAChBC,OAAQA,QAGGl1F,IAAVm1F,GAAsBhtF,QAAQC,KAAM,+CAEzC,IAAIgtF,EAAiB,IAAIC,GAAoBn/B,EAAM8+B,EAAiBhxF,EAAQixF,EAAgBC,GAI5F71F,KAAKi2F,SAAWF,EAAeE,SAC/Bj2F,KAAKq8C,QAAU05C,EAAe15C,QAC9Br8C,KAAKk2F,UAAYH,EAAeG,UAIhCl2F,KAAK88C,mBAAoBi5C,GACzB/1F,KAAKy/C,gBAST,SAASu2C,GAAoBn/B,EAAM8+B,EAAiBhxF,EAAQixF,EAAgBC,GAExEvyC,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,qBAEZhG,KAAK45C,YACDid,KAAMA,EACN8+B,gBAAiBA,EACjBhxF,OAAQA,EACRixF,eAAgBA,EAChBC,OAAQA,GAGZF,EAAkBA,GAAmB,GACrChxF,EAASA,GAAU,EACnBixF,EAAiBA,GAAkB,EACnCC,EAASA,IAAU,EAEnB,IAAIM,EAASt/B,EAAKu/B,oBAAqBT,EAAiBE,GAIxD71F,KAAKi2F,SAAWE,EAAOF,SACvBj2F,KAAKq8C,QAAU85C,EAAO95C,QACtBr8C,KAAKk2F,UAAYC,EAAOD,UAIxB,IAKIl9F,EAAGm7B,EALHmsB,EAAS,IAAIx/C,GACb2pB,EAAS,IAAI3pB,GACbuvB,EAAK,IAAI3pB,GACT2vF,EAAI,IAAIv1F,GAMR8xB,KACAypB,KACAC,KACAS,KAyCJ,SAASu5C,EAAiBt9F,GAItBq9F,EAAIx/B,EAAK0/B,WAAYv9F,EAAI28F,EAAiBU,GAI1C,IAAIG,EAAIL,EAAO95C,QAASrjD,GACpBy9F,EAAIN,EAAOD,UAAWl9F,GAI1B,IAAMm7B,EAAI,EAAGA,GAAKyhE,EAAgBzhE,IAAO,CAErC,IAAI3sB,EAAI2sB,EAAIyhE,EAAiBt4F,KAAKC,GAAK,EAEnC+d,EAAMhe,KAAKge,IAAK9T,GAChB6T,GAAQ/d,KAAK+d,IAAK7T,GAItBijB,EAAOrrB,EAAMic,EAAMm7E,EAAEp3F,EAAIkc,EAAMm7E,EAAEr3F,EACjCqrB,EAAOprB,EAAMgc,EAAMm7E,EAAEn3F,EAAIic,EAAMm7E,EAAEp3F,EACjCorB,EAAOnrB,EAAM+b,EAAMm7E,EAAEl3F,EAAIgc,EAAMm7E,EAAEn3F,EACjCmrB,EAAOrQ,YAEPiiC,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAIzCghD,EAAOlhD,EAAIi3F,EAAEj3F,EAAIuF,EAAS8lB,EAAOrrB,EACjCkhD,EAAOjhD,EAAIg3F,EAAEh3F,EAAIsF,EAAS8lB,EAAOprB,EACjCihD,EAAOhhD,EAAI+2F,EAAE/2F,EAAIqF,EAAS8lB,EAAOnrB,EAEjCszB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,KA7DlD,WAEI,IAAMtG,EAAI,EAAGA,EAAI28F,EAAiB38F,IAE9Bs9F,EAAiBt9F,GASrBs9F,GAA8B,IAAXT,EAAqBF,EAAkB,GA4E9D,WAEI,IAAM38F,EAAI,EAAGA,GAAK28F,EAAiB38F,IAE/B,IAAMm7B,EAAI,EAAGA,GAAKyhE,EAAgBzhE,IAE9B9D,EAAGjxB,EAAIpG,EAAI28F,EACXtlE,EAAGhxB,EAAI80B,EAAIyhE,EAEXt5C,EAAIlvC,KAAMijB,EAAGjxB,EAAGixB,EAAGhxB,GAhF3B41F,GAiDJ,WAEI,IAAM9gE,EAAI,EAAGA,GAAKwhE,EAAiBxhE,IAE/B,IAAMn7B,EAAI,EAAGA,GAAK48F,EAAgB58F,IAAO,CAErC,IAAIigB,GAAM28E,EAAiB,IAAQzhE,EAAI,IAAQn7B,EAAI,GAC/CkgB,GAAM08E,EAAiB,GAAMzhE,GAAMn7B,EAAI,GACvCK,GAAMu8F,EAAiB,GAAMzhE,EAAIn7B,EACjCM,GAAMs8F,EAAiB,IAAQzhE,EAAI,GAAMn7B,EAI7C+jD,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,IA3D5Bo9F,GAjCJC,GAIA32F,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IA4H9D,SAASs6C,GAAmBjyF,EAAQkyF,EAAMlB,EAAiBC,EAAgB96F,EAAG2jB,EAAGq4E,GAE7Ex8C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,oBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkyF,KAAMA,EACNlB,gBAAiBA,EACjBC,eAAgBA,EAChB96F,EAAGA,EACH2jB,EAAGA,QAGc9d,IAAhBm2F,GAA4BhuF,QAAQC,KAAM,4FAE/C/I,KAAK88C,mBAAoB,IAAIi6C,GAAyBpyF,EAAQkyF,EAAMlB,EAAiBC,EAAgB96F,EAAG2jB,IACxGze,KAAKy/C,gBAST,SAASs3C,GAAyBpyF,EAAQkyF,EAAMlB,EAAiBC,EAAgB96F,EAAG2jB,GAEhF6kC,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,0BAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkyF,KAAMA,EACNlB,gBAAiBA,EACjBC,eAAgBA,EAChB96F,EAAGA,EACH2jB,EAAGA,GAGP9Z,EAASA,GAAU,EACnBkyF,EAAOA,GAAQ,GACflB,EAAkBr4F,KAAK8O,MAAOupF,IAAqB,GACnDC,EAAiBt4F,KAAK8O,MAAOwpF,IAAoB,EACjD96F,EAAIA,GAAK,EACT2jB,EAAIA,GAAK,EAIT,IAOIzlB,EAAGm7B,EAPH4oB,KACAnqB,KACAypB,KACAC,KAMAgE,EAAS,IAAIx/C,GACb2pB,EAAS,IAAI3pB,GAEbk2F,EAAK,IAAIl2F,GACTm2F,EAAK,IAAIn2F,GAET21F,EAAI,IAAI31F,GACRo2F,EAAI,IAAIp2F,GACR01F,EAAI,IAAI11F,GAIZ,IAAM9H,EAAI,EAAGA,GAAK28F,IAAoB38F,EAAI,CAItC,IAAIwmC,EAAIxmC,EAAI28F,EAAkB76F,EAAIwC,KAAKC,GAAK,EAoB5C,IAfA45F,EAA0B33D,EAAG1kC,EAAG2jB,EAAG9Z,EAAQqyF,GAC3CG,EAA0B33D,EAAI,IAAM1kC,EAAG2jB,EAAG9Z,EAAQsyF,GAIlDC,EAAEttF,WAAYqtF,EAAID,GAClBR,EAAEz9E,WAAYk+E,EAAID,GAClBP,EAAE5uF,aAAcqvF,EAAGV,GACnBA,EAAE3uF,aAAc4uF,EAAGS,GAInBT,EAAEr8E,YACFo8E,EAAEp8E,YAEI+Z,EAAI,EAAGA,GAAKyhE,IAAmBzhE,EAAI,CAKrC,IAAI3sB,EAAI2sB,EAAIyhE,EAAiBt4F,KAAKC,GAAK,EACnCkuB,GAAOorE,EAAOv5F,KAAK+d,IAAK7T,GACxBkkB,EAAKmrE,EAAOv5F,KAAKge,IAAK9T,GAK1B84C,EAAOlhD,EAAI43F,EAAG53F,GAAMqsB,EAAK+qE,EAAEp3F,EAAIssB,EAAK+qE,EAAEr3F,GACtCkhD,EAAOjhD,EAAI23F,EAAG33F,GAAMosB,EAAK+qE,EAAEn3F,EAAIqsB,EAAK+qE,EAAEp3F,GACtCihD,EAAOhhD,EAAI03F,EAAG13F,GAAMmsB,EAAK+qE,EAAEl3F,EAAIosB,EAAK+qE,EAAEn3F,GAEtCszB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1CmrB,EAAO7gB,WAAY02C,EAAQ02C,GAAK58E,YAEhCiiC,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAIzCg9C,EAAIlvC,KAAMpU,EAAI28F,GACdr5C,EAAIlvC,KAAM+mB,EAAIyhE,IAQtB,IAAMzhE,EAAI,EAAGA,GAAKwhE,EAAiBxhE,IAE/B,IAAMn7B,EAAI,EAAGA,GAAK48F,EAAgB58F,IAAO,CAIrC,IAAIigB,GAAM28E,EAAiB,IAAQzhE,EAAI,IAAQn7B,EAAI,GAC/CkgB,GAAM08E,EAAiB,GAAMzhE,GAAMn7B,EAAI,GACvCK,GAAMu8F,EAAiB,GAAMzhE,EAAIn7B,EACjCM,GAAMs8F,EAAiB,IAAQzhE,EAAI,GAAMn7B,EAI7C+jD,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAe5B,SAAS69F,EAA0B33D,EAAG1kC,EAAG2jB,EAAG9Z,EAAQ9H,GAEhD,IAAIu6F,EAAK95F,KAAK+d,IAAKmkB,GACf63D,EAAK/5F,KAAKge,IAAKkkB,GACf83D,EAAU74E,EAAI3jB,EAAI0kC,EAClB+3D,EAAKj6F,KAAK+d,IAAKi8E,GAEnBz6F,EAASuC,EAAIuF,GAAW,EAAI4yF,GAAO,GAAMH,EACzCv6F,EAASwC,EAAIsF,GAAW,EAAI4yF,GAAOF,EAAK,GACxCx6F,EAASyC,EAAIqF,EAASrH,KAAKge,IAAKg8E,GAAY,GAhBhDt3F,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IA8B9D,SAASk7C,GAAe7yF,EAAQkyF,EAAMjB,EAAgBD,EAAiB8B,GAEnEn9C,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,gBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkyF,KAAMA,EACNjB,eAAgBA,EAChBD,gBAAiBA,EACjB8B,IAAKA,GAGTz3F,KAAK88C,mBAAoB,IAAI46C,GAAqB/yF,EAAQkyF,EAAMjB,EAAgBD,EAAiB8B,IACjGz3F,KAAKy/C,gBAST,SAASi4C,GAAqB/yF,EAAQkyF,EAAMjB,EAAgBD,EAAiB8B,GAEzEn0C,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,sBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRkyF,KAAMA,EACNjB,eAAgBA,EAChBD,gBAAiBA,EACjB8B,IAAKA,GAGT9yF,EAASA,GAAU,EACnBkyF,EAAOA,GAAQ,GACfjB,EAAiBt4F,KAAK8O,MAAOwpF,IAAoB,EACjDD,EAAkBr4F,KAAK8O,MAAOupF,IAAqB,EACnD8B,EAAMA,GAAiB,EAAVn6F,KAAKC,GAIlB,IAWI42B,EAAGn7B,EAXH+jD,KACAnqB,KACAypB,KACAC,KAIArxC,EAAS,IAAInK,GACbw/C,EAAS,IAAIx/C,GACb2pB,EAAS,IAAI3pB,GAMjB,IAAMqzB,EAAI,EAAGA,GAAKyhE,EAAgBzhE,IAE9B,IAAMn7B,EAAI,EAAGA,GAAK28F,EAAiB38F,IAAO,CAEtC,IAAIwmC,EAAIxmC,EAAI28F,EAAkB8B,EAC1BjwF,EAAI2sB,EAAIyhE,EAAiBt4F,KAAKC,GAAK,EAIvC+iD,EAAOlhD,GAAMuF,EAASkyF,EAAOv5F,KAAK+d,IAAK7T,IAAQlK,KAAK+d,IAAKmkB,GACzD8gB,EAAOjhD,GAAMsF,EAASkyF,EAAOv5F,KAAK+d,IAAK7T,IAAQlK,KAAKge,IAAKkkB,GACzD8gB,EAAOhhD,EAAIu3F,EAAOv5F,KAAKge,IAAK9T,GAE5BorB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1C2L,EAAO7L,EAAIuF,EAASrH,KAAK+d,IAAKmkB,GAC9Bv0B,EAAO5L,EAAIsF,EAASrH,KAAKge,IAAKkkB,GAC9B/U,EAAO7gB,WAAY02C,EAAQr1C,GAASmP,YAEpCiiC,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAIzCg9C,EAAIlvC,KAAMpU,EAAI28F,GACdr5C,EAAIlvC,KAAM+mB,EAAIyhE,GAQtB,IAAMzhE,EAAI,EAAGA,GAAKyhE,EAAgBzhE,IAE9B,IAAMn7B,EAAI,EAAGA,GAAK28F,EAAiB38F,IAAO,CAItC,IAAIigB,GAAM08E,EAAkB,GAAMxhE,EAAIn7B,EAAI,EACtCkgB,GAAMy8E,EAAkB,IAAQxhE,EAAI,GAAMn7B,EAAI,EAC9CK,GAAMs8F,EAAkB,IAAQxhE,EAAI,GAAMn7B,EAC1CM,GAAMq8F,EAAkB,GAAMxhE,EAAIn7B,EAItC+jD,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAQ5B0G,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IA52S9DyiB,GAAkBnkE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACtDmkE,GAAkBnkE,UAAUmQ,YAAcg0D,GAE1CA,GAAkBnkE,UAAUg0F,qBAAsB,EAElD7vB,GAAkBnkE,UAAUuI,KAAO,SAAW2J,GAoB1C,OAlBAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAKy8D,aAAe3vD,EAAO2vD,aAE3Bz8D,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAE3B16C,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAKutC,gBAAkBzgC,EAAOygC,gBAC9BvtC,KAAKwtC,kBAAoB1gC,EAAO0gC,kBAChCxtC,KAAKytC,iBAAmB3gC,EAAO2gC,iBAE/BztC,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBAE1B5oD,MAuDXg/D,GAAqBpkE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACzDokE,GAAqBpkE,UAAUmQ,YAAci0D,GAE7CA,GAAqBpkE,UAAUosE,wBAAyB,EAExDhI,GAAqBpkE,UAAUuI,KAAO,SAAW2J,GAmB7C,OAjBAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAKqxC,kBAAkBluC,KAAM2J,EAAOukC,mBACpCrxC,KAAKsxC,aAAexkC,EAAOwkC,aAC3BtxC,KAAKuxC,YAAczkC,EAAOykC,YAE1BvxC,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAE3B16C,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAKutC,gBAAkBzgC,EAAOygC,gBAC9BvtC,KAAKwtC,kBAAoB1gC,EAAO0gC,kBAChCxtC,KAAKytC,iBAAmB3gC,EAAO2gC,iBAExBztC,MAk9EX4yE,GAAMh4E,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAErDmQ,YAAa6nE,GAEb+kB,SAAS,IAuBb9kB,GAAOj4E,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEtDmQ,YAAa8nE,GAEb16B,UAAU,EAEVh1C,KAAM,SAAW2J,EAAQotC,GASrB,OAPAjE,GAASr7C,UAAUuI,KAAKhK,KAAM6G,KAAM8M,EAAQotC,GAE5Cl6C,KAAK0pB,mBAAmBvmB,KAAM2J,EAAO4c,oBAErC1pB,KAAK2pB,iBAAiBxmB,KAAM2J,EAAO6c,kBACnC3pB,KAAK8yE,wBAAwB3vE,KAAM2J,EAAOgmE,yBAEnC9yE,MAIX24C,kBAAmB,SAAW93C,QAEVF,IAAXE,IAEDiI,QAAQC,KAAM,6DACdlI,EAAS,IAAIC,IAIjBd,KAAK+yB,mBAAmB,GAExB,IAAIh0B,EAAIiB,KAAK6pB,YAAYhS,SAEzB,OAAOhX,EAAO/D,KAAOiC,EAAG,IAAOA,EAAG,IAAOA,EAAG,KAAOqb,aAIvD2Y,kBAAmB,SAAWgmB,GAE1B9C,GAASr7C,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,GAEjD/4C,KAAK0pB,mBAAmBnI,WAAYvhB,KAAK6pB,cAI7CrnB,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,SAoC5CpD,GAAkBhC,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQu4E,GAAOj4E,YAE/DmQ,YAAanO,GAEbsL,qBAAqB,EAErB/E,KAAM,SAAW2J,EAAQotC,GAiBrB,OAfA24B,GAAOj4E,UAAUuI,KAAKhK,KAAM6G,KAAM8M,EAAQotC,GAE1Cl6C,KAAKqI,IAAMyE,EAAOzE,IAClBrI,KAAK2C,KAAOmK,EAAOnK,KAEnB3C,KAAKokB,KAAOtX,EAAOsX,KACnBpkB,KAAKqkB,IAAMvX,EAAOuX,IAClBrkB,KAAK+yE,MAAQjmE,EAAOimE,MAEpB/yE,KAAK3E,OAASyR,EAAOzR,OACrB2E,KAAKgzE,KAAuB,OAAhBlmE,EAAOkmE,KAAgB,KAAOt5E,OAAO+S,UAAYK,EAAOkmE,MAEpEhzE,KAAKizE,UAAYnmE,EAAOmmE,UACxBjzE,KAAKkzE,WAAapmE,EAAOomE,WAElBlzE,MAYX43F,eAAgB,SAAWC,GAGvB,IAAIC,EAAe,GAAM93F,KAAK+3F,gBAAkBF,EAEhD73F,KAAKqI,IAAsB,EAAhBmN,GAAME,QAAcpY,KAAK06F,KAAMF,GAC1C93F,KAAKvE,0BAOTw8F,eAAgB,WAEZ,IAAIH,EAAex6F,KAAK8K,IAAqB,GAAhBoN,GAAMC,QAAgBzV,KAAKqI,KAExD,MAAO,GAAMrI,KAAK+3F,gBAAkBD,GAIxCI,gBAAiB,WAEb,OAAuB,EAAhB1iF,GAAME,QAAcpY,KAAK06F,KAC5B16F,KAAK8K,IAAqB,GAAhBoN,GAAMC,QAAgBzV,KAAKqI,KAAQrI,KAAK2C,OAI1Dw1F,aAAc,WAGV,OAAOn4F,KAAKizE,UAAY31E,KAAKmH,IAAKzE,KAAK3E,OAAQ,IAInD08F,cAAe,WAGX,OAAO/3F,KAAKizE,UAAY31E,KAAKkH,IAAKxE,KAAK3E,OAAQ,IAuCnD+8F,cAAe,SAAWC,EAAWC,EAAYl5F,EAAGC,EAAGgZ,EAAOC,GAE1DtY,KAAK3E,OAASg9F,EAAYC,EAEP,OAAdt4F,KAAKgzE,OAENhzE,KAAKgzE,MACDpyE,SAAS,EACTy3F,UAAW,EACXC,WAAY,EACZC,QAAS,EACTC,QAAS,EACTngF,MAAO,EACPC,OAAQ,IAKhBtY,KAAKgzE,KAAKpyE,SAAU,EACpBZ,KAAKgzE,KAAKqlB,UAAYA,EACtBr4F,KAAKgzE,KAAKslB,WAAaA,EACvBt4F,KAAKgzE,KAAKulB,QAAUn5F,EACpBY,KAAKgzE,KAAKwlB,QAAUn5F,EACpBW,KAAKgzE,KAAK36D,MAAQA,EAClBrY,KAAKgzE,KAAK16D,OAASA,EAEnBtY,KAAKvE,0BAITg9F,gBAAiB,WAEM,OAAdz4F,KAAKgzE,OAENhzE,KAAKgzE,KAAKpyE,SAAU,GAIxBZ,KAAKvE,0BAITA,uBAAwB,WAEpB,IAAI2oB,EAAOpkB,KAAKokB,KACZxb,EAAMwb,EAAO9mB,KAAK8K,IAAqB,GAAhBoN,GAAMC,QAAgBzV,KAAKqI,KAAQrI,KAAK2C,KAC/D2V,EAAS,EAAI1P,EACbyP,EAAQrY,KAAK3E,OAASid,EACtB5P,GAAS,GAAM2P,EACf26D,EAAOhzE,KAAKgzE,KAEhB,GAAmB,OAAdhzE,KAAKgzE,MAAiBhzE,KAAKgzE,KAAKpyE,QAAU,CAE3C,IAAIy3F,EAAYrlB,EAAKqlB,UACjBC,EAAatlB,EAAKslB,WAEtB5vF,GAAQsqE,EAAKulB,QAAUlgF,EAAQggF,EAC/BzvF,GAAOoqE,EAAKwlB,QAAUlgF,EAASggF,EAC/BjgF,GAAS26D,EAAK36D,MAAQggF,EACtB//E,GAAU06D,EAAK16D,OAASggF,EAI5B,IAAII,EAAO14F,KAAKkzE,WACF,IAATwlB,IAAahwF,GAAQ0b,EAAOs0E,EAAO14F,KAAKm4F,gBAE7Cn4F,KAAK2pB,iBAAiBxF,gBAAiBzb,EAAMA,EAAO2P,EAAOzP,EAAKA,EAAM0P,EAAQ8L,EAAMpkB,KAAKqkB,KAEzFrkB,KAAK8yE,wBAAwBvxD,WAAYvhB,KAAK2pB,mBAIlD8F,OAAQ,SAAWC,GAEf,IAAIf,EAAOsnB,GAASr7C,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAgBjD,OAdAf,EAAKj0B,OAAO2N,IAAMrI,KAAKqI,IACvBsmB,EAAKj0B,OAAOiI,KAAO3C,KAAK2C,KAExBgsB,EAAKj0B,OAAO0pB,KAAOpkB,KAAKokB,KACxBuK,EAAKj0B,OAAO2pB,IAAMrkB,KAAKqkB,IACvBsK,EAAKj0B,OAAOq4E,MAAQ/yE,KAAK+yE,MAEzBpkD,EAAKj0B,OAAOW,OAAS2E,KAAK3E,OAEP,OAAd2E,KAAKgzE,OAAgBrkD,EAAKj0B,OAAOs4E,KAAOt5E,OAAO+S,UAAYzM,KAAKgzE,OAErErkD,EAAKj0B,OAAOu4E,UAAYjzE,KAAKizE,UAC7BtkD,EAAKj0B,OAAOw4E,WAAalzE,KAAKkzE,WAEvBvkD,KAkBfwkD,GAAYv4E,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQsC,GAAkBhC,YAEpEmQ,YAAaooE,GAEbiZ,eAAe,IAuxGnB9vF,GAAQ1B,UAAUumE,WAAY,EAE9B7kE,GAAQ1B,UAAU4H,MAAQ,WAEtB,OAAO,IAAIlG,GAAS0D,KAAK/B,MAAO+B,KAAKguF,UAIzC1xF,GAAQ1B,UAAU60B,OAAS,WAEvB,OACIzpB,KAAM,UACN/H,MAAO+B,KAAK/B,MAAM0sC,SAClBqjD,QAAShuF,KAAKguF,UAqBtBoD,GAAIx2F,UAAUmzF,OAAQ,EAEtBqD,GAAIx2F,UAAU4H,MAAQ,WAElB,OAAO,IAAI4uF,GAAKpxF,KAAK/B,MAAO+B,KAAKokB,KAAMpkB,KAAKqkB,MAIhD+sE,GAAIx2F,UAAU60B,OAAS,WAEnB,OACIzpB,KAAM,MACN/H,MAAO+B,KAAK/B,MAAM0sC,SAClBvmB,KAAMpkB,KAAKokB,KACXC,IAAKrkB,KAAKqkB,MAuBlBnoB,GAAMtB,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAErDmQ,YAAa7O,GAEbiH,KAAM,SAAW2J,EAAQotC,GAWrB,OATAjE,GAASr7C,UAAUuI,KAAKhK,KAAM6G,KAAM8M,EAAQotC,GAEjB,OAAtBptC,EAAO3Q,aAAsB6D,KAAK7D,WAAa2Q,EAAO3Q,WAAWqG,SAClD,OAAfsK,EAAOzQ,MAAe2D,KAAK3D,IAAMyQ,EAAOzQ,IAAImG,SAChB,OAA5BsK,EAAOq/E,mBAA4BnsF,KAAKmsF,iBAAmBr/E,EAAOq/E,iBAAiB3pF,SAExFxC,KAAKonE,WAAat6D,EAAOs6D,WACzBpnE,KAAKR,iBAAmBsN,EAAOtN,iBAExBQ,MAIXyvB,OAAQ,SAAWC,GAEf,IAAIf,EAAOsnB,GAASr7C,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAKjD,OAHyB,OAApB1vB,KAAK7D,aAAsBwyB,EAAKj0B,OAAOyB,WAAa6D,KAAK7D,WAAWszB,OAAQC,IAC/D,OAAb1vB,KAAK3D,MAAesyB,EAAKj0B,OAAO2B,IAAM2D,KAAK3D,IAAIozB,UAE7Cd,KAuBfj1B,OAAOC,eAAgB03F,GAAkBz2F,UAAW,eAEhDkC,IAAK,SAAW7C,IAEG,IAAVA,GAAiB+F,KAAK2tB,aAMnCj0B,OAAO+S,OAAQ4kF,GAAkBz2F,WAE7B+9F,qBAAqB,EAErB1lD,iBAAkB,aAElB4O,SAAU,SAAWr0C,GAEjB,GAAK0iB,MAAMC,QAAS3iB,GAEhB,MAAM,IAAId,UAAW,yDAOzB,OAHA1M,KAAK+gB,WAAkBpgB,IAAV6M,EAAsBA,EAAMzN,OAASC,KAAK8qF,OAAS,EAChE9qF,KAAKwN,MAAQA,EAENxN,MAIX8hD,WAAY,SAAW7nD,GAInB,OAFA+F,KAAK2yC,QAAU14C,EAER+F,MAIXmD,KAAM,SAAW2J,GAOb,OALA9M,KAAKwN,MAAQ,IAAIV,EAAOU,MAAMzC,YAAa+B,EAAOU,OAClDxN,KAAK+gB,MAAQjU,EAAOiU,MACpB/gB,KAAK8qF,OAASh+E,EAAOg+E,OACrB9qF,KAAK2yC,QAAU7lC,EAAO6lC,QAEf3yC,MAIX+hD,OAAQ,SAAWC,EAAQ/mC,EAAWgnC,GAElCD,GAAUhiD,KAAK8qF,OACf7oC,GAAUhnC,EAAU6vE,OAEpB,IAAM,IAAI9xF,EAAI,EAAGC,EAAI+G,KAAK8qF,OAAQ9xF,EAAIC,EAAGD,IAErCgH,KAAKwN,MAAOw0C,EAAShpD,GAAMiiB,EAAUzN,MAAOy0C,EAASjpD,GAIzD,OAAOgH,MAIXlD,IAAK,SAAW7C,EAAOyJ,GAMnB,YAJgB/C,IAAX+C,IAAuBA,EAAS,GAErC1D,KAAKwN,MAAM1Q,IAAK7C,EAAOyJ,GAEhB1D,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxC0iD,SAAU,SAAW/5B,GAIjB,OAFA3oB,KAAKizC,iBAAmBtqB,EAEjB3oB,QAoBftG,OAAOsR,iBAAkBsmF,GAA2B12F,WAEhDmmB,OAEIlnB,IAAK,WAED,OAAOmG,KAAK2uB,KAAK5N,QAMzBvT,OAEI3T,IAAK,WAED,OAAOmG,KAAK2uB,KAAKnhB,UAQ7B9T,OAAO+S,OAAQ6kF,GAA2B12F,WAEtCy3C,8BAA8B,EAE9B35B,KAAM,SAAW9L,EAAOxN,GAIpB,OAFAY,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,QAAWtE,EAErDY,MAIX2Y,KAAM,SAAW/L,EAAOvN,GAIpB,OAFAW,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAAS,GAAMrE,EAEzDW,MAIX6oB,KAAM,SAAWjc,EAAOtN,GAIpB,OAFAU,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAAS,GAAMpE,EAEzDU,MAIXuwB,KAAM,SAAW3jB,EAAOmL,GAIpB,OAFA/X,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAAS,GAAMqU,EAEzD/X,MAIXkb,KAAM,SAAWtO,GAEb,OAAO5M,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,SAI5DyX,KAAM,SAAWvO,GAEb,OAAO5M,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAAS,IAIrEsd,KAAM,SAAWpU,GAEb,OAAO5M,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAAS,IAIrEgtB,KAAM,SAAW9jB,GAEb,OAAO5M,KAAK2uB,KAAKnhB,MAAOZ,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAAS,IAIrE8+C,MAAO,SAAW51C,EAAOxN,EAAGC,GAOxB,OALAuN,EAAQA,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAExC1D,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMxN,EAC/BY,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMvN,EAExBW,MAIXkhB,OAAQ,SAAWtU,EAAOxN,EAAGC,EAAGC,GAQ5B,OANAsN,EAAQA,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAExC1D,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMxN,EAC/BY,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMvN,EAC/BW,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMtN,EAExBU,MAIXyiD,QAAS,SAAW71C,EAAOxN,EAAGC,EAAGC,EAAGyY,GAShC,OAPAnL,EAAQA,EAAQ5M,KAAK2uB,KAAKm8D,OAAS9qF,KAAK0D,OAExC1D,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMxN,EAC/BY,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMvN,EAC/BW,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMtN,EAC/BU,KAAK2uB,KAAKnhB,MAAOZ,EAAQ,GAAMmL,EAExB/X,QAqCf2/D,GAAe/kE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACnD+kE,GAAe/kE,UAAUmQ,YAAc40D,GACvCA,GAAe/kE,UAAU20F,kBAAmB,EAE5C5vB,GAAe/kE,UAAUuI,KAAO,SAAW2J,GAWvC,OATAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OACxB+B,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAKwrB,SAAW1e,EAAO0e,SAEvBxrB,KAAK2qD,gBAAkB79C,EAAO69C,gBAEvB3qD,MA2CXwxF,GAAO52F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEtDmQ,YAAaymF,GAEb1F,UAAU,EAEVlzC,QAAW,WAEP,IAAIggD,EAAiB,IAAI93F,GACrB+3F,EAAa,IAAI/3F,GACjBg4F,EAAa,IAAIh4F,GAEjBi4F,EAAkB,IAAIryF,GACtBsyF,EAAkB,IAAItyF,GACtBuyF,EAAkB,IAAIrhF,GAEtB+lC,EAAK,IAAI78C,GACT88C,EAAK,IAAI98C,GACT+8C,EAAK,IAAI/8C,GAET2vD,EAAM,IAAI/pD,GACVgqD,EAAM,IAAIhqD,GACViqD,EAAM,IAAIjqD,GAEd,SAASwyF,EAAiBC,EAAgBL,EAAY7tF,EAAQ/L,EAAOoc,EAAKD,GAGtE09E,EAAgBnvF,WAAYuvF,EAAgBluF,GAAS+N,UAAW,IAAMK,SAAUna,QAGnEyB,IAAR2a,GAED09E,EAAgB55F,EAAMic,EAAM09E,EAAgB35F,EAAQkc,EAAMy9E,EAAgB15F,EAC1E25F,EAAgB35F,EAAMic,EAAMy9E,EAAgB35F,EAAQic,EAAM09E,EAAgB15F,GAI1E25F,EAAgB71F,KAAM41F,GAK1BI,EAAeh2F,KAAM21F,GACrBK,EAAe/5F,GAAK45F,EAAgB55F,EACpC+5F,EAAe95F,GAAK25F,EAAgB35F,EAGpC85F,EAAel4E,aAAcg4E,GAIjC,OAAO,SAAkBloC,EAAWG,GAEhC2nC,EAAW7tE,mBAAoBhrB,KAAK6pB,aACpCovE,EAAgB13E,WAAYvhB,KAAKq2C,iBAAkBx3B,YAAa7e,KAAK6pB,aACrEivE,EAAW/tE,sBAAuB/qB,KAAKq2C,iBAEvC,IACI/6B,EAAKD,EADLmQ,EAAWxrB,KAAKjC,SAASytB,SAEX,IAAbA,IAEDnQ,EAAM/d,KAAK+d,IAAKmQ,GAChBlQ,EAAMhe,KAAKge,IAAKkQ,IAIpB,IAAIvgB,EAASjL,KAAKiL,OAElBiuF,EAAiBv7C,EAAG7gD,KAAO,IAAO,GAAK,GAAKg8F,EAAY7tF,EAAQ4tF,EAAYv9E,EAAKD,GACjF69E,EAAiBt7C,EAAG9gD,IAAK,IAAO,GAAK,GAAKg8F,EAAY7tF,EAAQ4tF,EAAYv9E,EAAKD,GAC/E69E,EAAiBr7C,EAAG/gD,IAAK,GAAK,GAAK,GAAKg8F,EAAY7tF,EAAQ4tF,EAAYv9E,EAAKD,GAE7Eo1C,EAAI3zD,IAAK,EAAG,GACZ4zD,EAAI5zD,IAAK,EAAG,GACZ6zD,EAAI7zD,IAAK,EAAG,GAGZ,IAAIy3B,EAAYw8B,EAAU/F,IAAIqC,kBAAmB1P,EAAIC,EAAIC,GAAI,EAAO+6C,GAEpE,GAAmB,OAAdrkE,IAGD2kE,EAAiBt7C,EAAG9gD,KAAO,GAAK,GAAK,GAAKg8F,EAAY7tF,EAAQ4tF,EAAYv9E,EAAKD,GAC/Eq1C,EAAI5zD,IAAK,EAAG,GAGO,QADnBy3B,EAAYw8B,EAAU/F,IAAIqC,kBAAmB1P,EAAIE,EAAID,GAAI,EAAOg7C,KANpE,CAeA,IAAInxF,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYs+E,GAE3CnxF,EAAWspD,EAAU3sC,MAAQ3c,EAAWspD,EAAU1sC,KAEvD6sC,EAAW9jD,MAEP3F,SAAUA,EACV4qB,MAAOumE,EAAep2F,QACtB6tB,GAAIq5B,GAAS6E,MAAOqqC,EAAgBj7C,EAAIC,EAAIC,EAAI4S,EAAKC,EAAKC,EAAK,IAAIjqD,IACnEg2C,KAAM,KACNhiD,OAAQsF,SAlGT,GA0GXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAKjC,UAAWoF,KAAMnD,OAIvDmD,KAAM,SAAW2J,GAMb,OAJAmpC,GAASr7C,UAAUuI,KAAKhK,KAAM6G,KAAM8M,QAEbnM,IAAlBmM,EAAO7B,QAAuBjL,KAAKiL,OAAO9H,KAAM2J,EAAO7B,QAErDjL,QA4BfyxF,GAAI72F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEnDmQ,YAAa0mF,GAEbtuF,KAAM,SAAW2J,GAEbmpC,GAASr7C,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAAQ,GAI5C,IAFA,IAAI4kF,EAAS5kF,EAAO4kF,OAEV14F,EAAI,EAAGC,EAAIy4F,EAAO3xF,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAI83F,EAAQY,EAAQ14F,GAEpBgH,KAAKo5F,SAAUtI,EAAMp2F,OAAO8H,QAASsuF,EAAMrpF,UAI/C,OAAOzH,MAIXo5F,SAAU,SAAW1+F,EAAQ+M,QAEP9G,IAAb8G,IAAyBA,EAAW,GAEzCA,EAAWnK,KAAK6c,IAAK1S,GAIrB,IAFA,IAAIiqF,EAAS1xF,KAAK0xF,OAERz4F,EAAI,EAAGA,EAAIy4F,EAAO3xF,UAEnB0H,EAAWiqF,EAAQz4F,GAAIwO,UAFIxO,KAUpCy4F,EAAOnkF,OAAQtU,EAAG,GAAKwO,SAAUA,EAAU/M,OAAQA,IAEnDsF,KAAKP,IAAK/E,IAId2+F,qBAAsB,SAAW5xF,GAI7B,IAFA,IAAIiqF,EAAS1xF,KAAK0xF,OAER14F,EAAI,EAAGC,EAAIy4F,EAAO3xF,OAAQ/G,EAAIC,KAE/BwO,EAAWiqF,EAAQ14F,GAAIyO,UAFWzO,KAU3C,OAAO04F,EAAQ14F,EAAI,GAAI0B,QAI3Bk+C,QAAW,WAEP,IAAI0gD,EAAiB,IAAIx4F,GAEzB,OAAO,SAAkBiwD,EAAWG,GAEhCooC,EAAevuE,sBAAuB/qB,KAAK6pB,aAE3C,IAAIpiB,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYg/E,GAEhDt5F,KAAKq5F,qBAAsB5xF,GAAWmxC,QAASmY,EAAWG,IAVvD,GAgBXzwD,OAAQ,WAEJ,IAAIka,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GAEb,OAAO,SAAiB9F,GAEpB,IAAI02F,EAAS1xF,KAAK0xF,OAElB,GAAKA,EAAO3xF,OAAS,EAAI,CAErB4a,EAAGoQ,sBAAuB/vB,EAAO6uB,aACjCjP,EAAGmQ,sBAAuB/qB,KAAK6pB,aAE/B,IAAIpiB,EAAWkT,EAAGL,WAAYM,GAE9B82E,EAAQ,GAAIh3F,OAAO87C,SAAU,EAE7B,IAAM,IAAIx9C,EAAI,EAAGC,EAAIy4F,EAAO3xF,OAAQ/G,EAAIC,GAE/BwO,GAAYiqF,EAAQ14F,GAAIyO,SAFUzO,IAInC04F,EAAQ14F,EAAI,GAAI0B,OAAO87C,SAAU,EACjCk7C,EAAQ14F,GAAI0B,OAAO87C,SAAU,EAUrC,KAAQx9C,EAAIC,EAAGD,IAEX04F,EAAQ14F,GAAI0B,OAAO87C,SAAU,IAnCrC,GA6CR/mB,OAAQ,SAAWC,GAEf,IAAIf,EAAOsnB,GAASr7C,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAEjDf,EAAKj0B,OAAOg3F,UAIZ,IAFA,IAAIA,EAAS1xF,KAAK0xF,OAER14F,EAAI,EAAGC,EAAIy4F,EAAO3xF,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAI83F,EAAQY,EAAQ14F,GAEpB21B,EAAKj0B,OAAOg3F,OAAOtkF,MACf1S,OAAQo2F,EAAMp2F,OAAOmF,KACrB4H,SAAUqpF,EAAMrpF,WAKxB,OAAOknB,KAoDfj1B,OAAO+S,OAAQklF,GAAS/2F,WAEpBi3F,kBAAmB,WAEf7xF,KAAK4xF,gBAEL,IAAM,IAAI54F,EAAI,EAAG04B,EAAK1xB,KAAKqgE,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEpD,IAAIgL,EAAU,IAAI4T,GAEb5X,KAAKqgE,MAAOrnE,IAEbgL,EAAQud,WAAYvhB,KAAKqgE,MAAOrnE,GAAI6wB,aAIxC7pB,KAAK4xF,aAAaxkF,KAAMpJ,KAMhCmyE,KAAM,WAEF,IAAIojB,EAAMvgG,EAAG04B,EAIb,IAAM14B,EAAI,EAAG04B,EAAK1xB,KAAKqgE,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,KAEzCugG,EAAOv5F,KAAKqgE,MAAOrnE,KAIfugG,EAAK1vE,YAAYtI,WAAYvhB,KAAK4xF,aAAc54F,IAQxD,IAAMA,EAAI,EAAG04B,EAAK1xB,KAAKqgE,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,KAEzCugG,EAAOv5F,KAAKqgE,MAAOrnE,MAIVugG,EAAKrjD,QAAUqjD,EAAKrjD,OAAOsjD,QAE5BD,EAAKhxF,OAAOgZ,WAAYg4E,EAAKrjD,OAAOrsB,aACpC0vE,EAAKhxF,OAAO8Q,SAAUkgF,EAAK1vE,cAI3B0vE,EAAKhxF,OAAOpF,KAAMo2F,EAAK1vE,aAI3B0vE,EAAKhxF,OAAOsb,UAAW01E,EAAK18F,SAAU08F,EAAKn0F,WAAYm0F,EAAKr6F,SAQxEuB,OAAU,WAEN,IAAIg5F,EAAe,IAAI7hF,GACnB8hF,EAAiB,IAAI9hF,GAEzB,OAAO,WASH,IAPA,IAAIyoD,EAAQrgE,KAAKqgE,MACbuxB,EAAe5xF,KAAK4xF,aACpBhE,EAAe5tF,KAAK4tF,aACpBD,EAAc3tF,KAAK2tF,YAIb30F,EAAI,EAAG04B,EAAK2uC,EAAMtgE,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAI/C,IAAIuP,EAAS83D,EAAOrnE,GAAMqnE,EAAOrnE,GAAI6wB,YAAc6vE,EAEnDD,EAAa76E,iBAAkBrW,EAAQqpF,EAAc54F,IACrDygG,EAAa1+E,QAAS6yE,EAAkB,GAAJ50F,QAInB2H,IAAhBgtF,IAEDA,EAAY/nC,aAAc,IA3B5B,GAmCVpjD,MAAO,WAEH,OAAO,IAAImvF,GAAU3xF,KAAKqgE,MAAOrgE,KAAK4xF,eAI1C+H,cAAe,SAAWpgG,GAEtB,IAAM,IAAIP,EAAI,EAAG04B,EAAK1xB,KAAKqgE,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEpD,IAAIugG,EAAOv5F,KAAKqgE,MAAOrnE,GAEvB,GAAKugG,EAAKhgG,OAASA,EAEf,OAAOggG,MA0BvBzH,GAAKl3F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEpDmQ,YAAa+mF,GAEb0H,QAAQ,IA6BZzH,GAAYn3F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ6E,GAAKvE,YAEvDmQ,YAAagnF,GAEb3xB,eAAe,EAEf+xB,UAAW,WAEP,IAAgBoH,EAAMK,EAClB5gG,EAAG04B,EADH2uC,KAGJ,GAAKrgE,KAAK0yB,eAAoC/xB,IAAxBX,KAAK0yB,SAAS2tC,MAAsB,CAItD,IAAMrnE,EAAI,EAAG04B,EAAK1xB,KAAK0yB,SAAS2tC,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,IAElD4gG,EAAQ55F,KAAK0yB,SAAS2tC,MAAOrnE,GAI7BugG,EAAO,IAAIzH,GACXzxB,EAAMjzD,KAAMmsF,GAIZA,EAAKhgG,KAAOqgG,EAAMrgG,KAClBggG,EAAK18F,SAASie,UAAW8+E,EAAMC,KAC/BN,EAAKn0F,WAAW0V,UAAW8+E,EAAME,WACdn5F,IAAdi5F,EAAMG,KAAoBR,EAAKr6F,MAAM4b,UAAW8+E,EAAMG,KAM/D,IAAM/gG,EAAI,EAAG04B,EAAK1xB,KAAK0yB,SAAS2tC,MAAMtgE,OAAQ/G,EAAI04B,EAAI14B,KAIxB,KAF1B4gG,EAAQ55F,KAAK0yB,SAAS2tC,MAAOrnE,IAEhBk9C,QAAuC,OAAjB0jD,EAAM1jD,aAAiDv1C,IAA1B0/D,EAAOu5B,EAAM1jD,QAIzEmqB,EAAOu5B,EAAM1jD,QAASz2C,IAAK4gE,EAAOrnE,IAMlCgH,KAAKP,IAAK4gE,EAAOrnE,IAa7B,OAFAgH,KAAK+yB,mBAAmB,GAEjBstC,GAIX7lE,KAAM,SAAW8lE,EAAU2xB,GAEvBjyF,KAAKsgE,SAAWA,OAEI3/D,IAAfsxF,IAEDjyF,KAAK+yB,mBAAmB,GAExB/yB,KAAKsgE,SAASuxB,oBAEdI,EAAajyF,KAAK6pB,aAItB7pB,KAAKiyF,WAAW9uF,KAAM8uF,GACtBjyF,KAAKkyF,kBAAkB3wE,WAAY0wE,IAIvC9b,KAAM,WAEFn2E,KAAKsgE,SAAS6V,QAIlBic,qBAAsB,WAElB,IAAIlzF,EAAOlG,EAEX,GAAKgH,KAAK0yB,UAAY1yB,KAAK0yB,SAASC,WAEhC,IAAM35B,EAAI,EAAGA,EAAIgH,KAAK0yB,SAASkoB,YAAY76C,OAAQ/G,IAAO,CAEtD,IAAIghG,EAAKh6F,KAAK0yB,SAASkoB,YAAa5hD,IAEpCkG,EAAQ,EAAM86F,EAAG9/E,qBAEFnZ,EAAAA,EAEXi5F,EAAGj1F,eAAgB7F,GAInB86F,EAAGl9F,IAAK,EAAG,EAAG,EAAG,QAMtB,GAAKkD,KAAK0yB,UAAY1yB,KAAK0yB,SAASG,iBAAmB,CAE1D,IAAIonE,EAAM,IAAIpsE,GAEVqsE,EAAal6F,KAAK0yB,SAASI,WAAWonE,WAE1C,IAAMlhG,EAAI,EAAGA,EAAIkhG,EAAWn5E,MAAO/nB,IAE/BihG,EAAI76F,EAAI86F,EAAWh/E,KAAMliB,GACzBihG,EAAI56F,EAAI66F,EAAW/+E,KAAMniB,GACzBihG,EAAI36F,EAAI46F,EAAWl5E,KAAMhoB,GACzBihG,EAAIliF,EAAImiF,EAAWxpE,KAAM13B,IAEzBkG,EAAQ,EAAM+6F,EAAI//E,qBAEHnZ,EAAAA,EAEXk5F,EAAIl1F,eAAgB7F,GAIpB+6F,EAAIn9F,IAAK,EAAG,EAAG,EAAG,GAItBo9F,EAAWz3C,QAASzpD,EAAGihG,EAAI76F,EAAG66F,EAAI56F,EAAG46F,EAAI36F,EAAG26F,EAAIliF,KAQ5Dgb,kBAAmB,SAAWgmB,GAE1B55C,GAAKvE,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,GAEtB,aAAlB/4C,KAAKgyF,SAENhyF,KAAKkyF,kBAAkB3wE,WAAYvhB,KAAK6pB,aAEd,aAAlB7pB,KAAKgyF,SAEbhyF,KAAKkyF,kBAAkB3wE,WAAYvhB,KAAKiyF,YAIxCnpF,QAAQC,KAAM,6CAA+C/I,KAAKgyF,WAM1ExvF,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAK0yB,SAAU1yB,KAAKjC,UAAWoF,KAAMnD,SAsC1Eu/D,GAAkB3kE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACtD2kE,GAAkB3kE,UAAUmQ,YAAcw0D,GAE1CA,GAAkB3kE,UAAUq0F,qBAAsB,EAElD1vB,GAAkB3kE,UAAUuI,KAAO,SAAW2J,GAU1C,OARAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAExB+B,KAAK0oD,UAAY57C,EAAO47C,UACxB1oD,KAAKqyF,QAAUvlF,EAAOulF,QACtBryF,KAAKsyF,SAAWxlF,EAAOwlF,SAEhBtyF,MAyBXuyF,GAAK33F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEpDmQ,YAAawnF,GAEb74C,QAAQ,EAERygD,qBAAwB,WAEpB,IAAIzkE,EAAQ,IAAI50B,GACZg1B,EAAM,IAAIh1B,GAEd,OAAO,WAEH,IAAI4xB,EAAW1yB,KAAK0yB,SAEpB,GAAKA,EAASG,iBAIV,GAAwB,OAAnBH,EAAS9lB,MAAiB,CAK3B,IAHA,IAAIwtF,EAAoB1nE,EAASI,WAAWj2B,SACxCi+C,GAAkB,GAEZ9hD,EAAI,EAAGC,EAAImhG,EAAkBr5E,MAAO/nB,EAAIC,EAAGD,IAEjD08B,EAAM1a,oBAAqBo/E,EAAmBphG,EAAI,GAClD88B,EAAI9a,oBAAqBo/E,EAAmBphG,GAE5C8hD,EAAe9hD,GAAM8hD,EAAe9hD,EAAI,GACxC8hD,EAAe9hD,IAAO08B,EAAMpb,WAAYwb,GAI5CpD,EAASsyB,aAAc,eAAgB,IAAI9I,GAAwBpB,EAAe,SAIlFhyC,QAAQC,KAAM,sGAIf,GAAK2pB,EAASC,WAAa,CAE9B,IAAIC,EAAWF,EAASE,UACpBkoB,EAAgBpoB,EAASooB,eAEd,GAAM,EAErB,IAAU9hD,EAAI,EAAGC,EAAI25B,EAAS7yB,OAAQ/G,EAAIC,EAAGD,IAEzC8hD,EAAe9hD,GAAM8hD,EAAe9hD,EAAI,GACxC8hD,EAAe9hD,IAAO45B,EAAU55B,EAAI,GAAIshB,WAAYsY,EAAU55B,IAMtE,OAAOgH,MApDS,GA0DxB44C,QAAW,WAEP,IAAIyX,EAAgB,IAAIz4C,GACpBozC,EAAM,IAAIxB,GACVhrD,EAAS,IAAIqwB,GAEjB,OAAO,SAAkBkiC,EAAWG,GAEhC,IAAIrR,EAAYkR,EAAUspC,cAEtB3nE,EAAW1yB,KAAK0yB,SAChB7I,EAAc7pB,KAAK6pB,YAUvB,GANiC,OAA5B6I,EAAS6E,gBAA0B7E,EAAS8E,wBAEjDh5B,EAAO2E,KAAMuvB,EAAS6E,gBACtB/4B,EAAOyiB,aAAc4I,GACrBrrB,EAAOmG,QAAUk7C,GAEiC,IAA7CkR,EAAU/F,IAAI53B,iBAAkB50B,GAArC,CAIA6xD,EAAc9uC,WAAYsI,GAC1BmhC,EAAI7nD,KAAM4tD,EAAU/F,KAAM/pC,aAAcovC,GAExC,IAAIiqC,EAAiBz6C,IAAgB7/C,KAAKd,MAAME,EAAIY,KAAKd,MAAMG,EAAIW,KAAKd,MAAMI,GAAM,GAChFi7F,EAAmBD,EAAiBA,EAEpCE,EAAS,IAAI15F,GACb25F,EAAO,IAAI35F,GACX45F,EAAe,IAAI55F,GACnB65F,EAAW,IAAI75F,GACf2mB,EAASznB,MAAQA,KAAK4rF,eAAmB,EAAI,EAEjD,GAAKl5D,EAASG,iBAAmB,CAE7B,IAAIjmB,EAAQ8lB,EAAS9lB,MAEjBowC,EADatqB,EAASI,WACCj2B,SAAS2Q,MAEpC,GAAe,OAAVZ,EAID,IAFA,IAAImwC,EAAUnwC,EAAMY,MAEVxU,EAAI,EAAGC,EAAI8jD,EAAQh9C,OAAS,EAAG/G,EAAIC,EAAGD,GAAKyuB,EAAO,CAExD,IAAIxO,EAAI8jC,EAAS/jD,GACbkgB,EAAI6jC,EAAS/jD,EAAI,GAOrB,GALAwhG,EAAO1/E,UAAWkiC,EAAe,EAAJ/jC,GAC7BwhF,EAAK3/E,UAAWkiC,EAAe,EAAJ9jC,KAEd8xC,EAAIM,oBAAqBkvC,EAAQC,EAAME,EAAUD,GAEhDH,GAEdI,EAAS15E,aAAcjhB,KAAK6pB,cAExBpiB,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYqgF,IAEhC5pC,EAAU3sC,MAAQ3c,EAAWspD,EAAU1sC,KAEvD6sC,EAAW9jD,MAEP3F,SAAUA,EAGV4qB,MAAOqoE,EAAal4F,QAAQye,aAAcjhB,KAAK6pB,aAC/Cjd,MAAO5T,EACP0jD,KAAM,KACN0U,UAAW,KACX12D,OAAQsF,YAQhB,IAAUhH,EAAI,EAAGC,EAAI+jD,EAAUj9C,OAAS,EAAI,EAAG/G,EAAIC,EAAGD,GAAKyuB,EAAO,CAO9D,GALA+yE,EAAO1/E,UAAWkiC,EAAW,EAAIhkD,GACjCyhG,EAAK3/E,UAAWkiC,EAAW,EAAIhkD,EAAI,KAEtBgyD,EAAIM,oBAAqBkvC,EAAQC,EAAME,EAAUD,GAEhDH,GAEdI,EAAS15E,aAAcjhB,KAAK6pB,cAExBpiB,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYqgF,IAEhC5pC,EAAU3sC,MAAQ3c,EAAWspD,EAAU1sC,KAEvD6sC,EAAW9jD,MAEP3F,SAAUA,EAGV4qB,MAAOqoE,EAAal4F,QAAQye,aAAcjhB,KAAK6pB,aAC/Cjd,MAAO5T,EACP0jD,KAAM,KACN0U,UAAW,KACX12D,OAAQsF,aAQjB,GAAK0yB,EAASC,WAEjB,CAAA,IAAIC,EAAWF,EAASE,SACpBgoE,EAAahoE,EAAS7yB,OAE1B,IAAU/G,EAAI,EAAGA,EAAI4hG,EAAa,EAAG5hG,GAAKyuB,EAAO,CAE7C,IAMIhgB,EAJJ,KAFaujD,EAAIM,oBAAqB14B,EAAU55B,GAAK45B,EAAU55B,EAAI,GAAK2hG,EAAUD,GAEpEH,GAEdI,EAAS15E,aAAcjhB,KAAK6pB,cAExBpiB,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYqgF,IAEhC5pC,EAAU3sC,MAAQ3c,EAAWspD,EAAU1sC,KAEvD6sC,EAAW9jD,MAEP3F,SAAUA,EAGV4qB,MAAOqoE,EAAal4F,QAAQye,aAAcjhB,KAAK6pB,aAC/Cjd,MAAO5T,EACP0jD,KAAM,KACN0U,UAAW,KACX12D,OAAQsF,WA5IjB,GAwJXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAK0yB,SAAU1yB,KAAKjC,UAAWoF,KAAMnD,SAkB1EwyF,GAAa53F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi4F,GAAK33F,YAExDmQ,YAAaynF,GAEb5G,gBAAgB,EAEhBuO,qBAAwB,WAEpB,IAAIzkE,EAAQ,IAAI50B,GACZg1B,EAAM,IAAIh1B,GAEd,OAAO,WAEH,IAAI4xB,EAAW1yB,KAAK0yB,SAEpB,GAAKA,EAASG,iBAIV,GAAwB,OAAnBH,EAAS9lB,MAAiB,CAK3B,IAHA,IAAIwtF,EAAoB1nE,EAASI,WAAWj2B,SACxCi+C,KAEM9hD,EAAI,EAAGC,EAAImhG,EAAkBr5E,MAAO/nB,EAAIC,EAAGD,GAAK,EAEtD08B,EAAM1a,oBAAqBo/E,EAAmBphG,GAC9C88B,EAAI9a,oBAAqBo/E,EAAmBphG,EAAI,GAEhD8hD,EAAe9hD,GAAc,IAANA,EAAY,EAAI8hD,EAAe9hD,EAAI,GAC1D8hD,EAAe9hD,EAAI,GAAM8hD,EAAe9hD,GAAM08B,EAAMpb,WAAYwb,GAIpEpD,EAASsyB,aAAc,eAAgB,IAAI9I,GAAwBpB,EAAe,SAIlFhyC,QAAQC,KAAM,8GAIf,GAAK2pB,EAASC,WAEjB,CAAA,IAAIC,EAAWF,EAASE,SAGxB,IAFIkoB,EAAgBpoB,EAASooB,cAEnB9hD,EAAI,EAAGC,EAAI25B,EAAS7yB,OAAQ/G,EAAIC,EAAGD,GAAK,EAE9C08B,EAAMvyB,KAAMyvB,EAAU55B,IACtB88B,EAAI3yB,KAAMyvB,EAAU55B,EAAI,IAExB8hD,EAAe9hD,GAAc,IAANA,EAAY,EAAI8hD,EAAe9hD,EAAI,GAC1D8hD,EAAe9hD,EAAI,GAAM8hD,EAAe9hD,GAAM08B,EAAMpb,WAAYwb,GAMxE,OAAO91B,MArDS,KAyE5ByyF,GAAS73F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi4F,GAAK33F,YAEpDmQ,YAAa0nF,GAEb5G,YAAY,IAyChBpsB,GAAe7kE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACnD6kE,GAAe7kE,UAAUmQ,YAAc00D,GAEvCA,GAAe7kE,UAAUy0F,kBAAmB,EAE5C5vB,GAAe7kE,UAAUuI,KAAO,SAAW2J,GAavC,OAXAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAExB+B,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK6xB,KAAO/kB,EAAO+kB,KACnB7xB,KAAK2qD,gBAAkB79C,EAAO69C,gBAE9B3qD,KAAK06C,aAAe5tC,EAAO4tC,aAEpB16C,MAmBX0yF,GAAO93F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAEtDmQ,YAAa2nF,GAEb/4C,UAAU,EAEVf,QAAW,WAEP,IAAIyX,EAAgB,IAAIz4C,GACpBozC,EAAM,IAAIxB,GACVhrD,EAAS,IAAIqwB,GAEjB,OAAO,SAAkBkiC,EAAWG,GAEhC,IAAIx2D,EAASsF,KACT0yB,EAAW1yB,KAAK0yB,SAChB7I,EAAc7pB,KAAK6pB,YACnBgxE,EAAY9pC,EAAU+pC,OAAOpI,OAAOmI,UAUxC,GANiC,OAA5BnoE,EAAS6E,gBAA0B7E,EAAS8E,wBAEjDh5B,EAAO2E,KAAMuvB,EAAS6E,gBACtB/4B,EAAOyiB,aAAc4I,GACrBrrB,EAAOmG,QAAUk2F,GAEiC,IAA7C9pC,EAAU/F,IAAI53B,iBAAkB50B,GAArC,CAIA6xD,EAAc9uC,WAAYsI,GAC1BmhC,EAAI7nD,KAAM4tD,EAAU/F,KAAM/pC,aAAcovC,GAExC,IAAI0qC,EAAiBF,IAAgB76F,KAAKd,MAAME,EAAIY,KAAKd,MAAMG,EAAIW,KAAKd,MAAMI,GAAM,GAChF07F,EAAmBD,EAAiBA,EACpCl+F,EAAW,IAAIiE,GACf83F,EAAiB,IAAI93F,GA8BzB,GAAK4xB,EAASG,iBAAmB,CAE7B,IAAIjmB,EAAQ8lB,EAAS9lB,MAEjBowC,EADatqB,EAASI,WACCj2B,SAAS2Q,MAEpC,GAAe,OAAVZ,EAID,IAFA,IAAImwC,EAAUnwC,EAAMY,MAEVxU,EAAI,EAAG04B,EAAKqrB,EAAQh9C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEjD,IAAIigB,EAAI8jC,EAAS/jD,GAEjB6D,EAASie,UAAWkiC,EAAe,EAAJ/jC,GAE/BgiF,EAAWp+F,EAAUoc,OAMnB,CAAIjgB,EAAI,EAAd,IAAM,IAAWC,EAAI+jD,EAAUj9C,OAAS,EAAG/G,EAAIC,EAAGD,IAE9C6D,EAASie,UAAWkiC,EAAe,EAAJhkD,GAE/BiiG,EAAWp+F,EAAU7D,QAQ7B,CAAA,IAAI45B,EAAWF,EAASE,SAExB,IAAU55B,EAAI,EAAGC,EAAI25B,EAAS7yB,OAAQ/G,EAAIC,EAAGD,IAEzCiiG,EAAWroE,EAAU55B,GAAKA,IAlElC,SAASiiG,EAAW5oE,EAAOzlB,GAEvB,IAAIsuF,EAAqBlwC,EAAIK,kBAAmBh5B,GAEhD,GAAK6oE,EAAqBF,EAAmB,CAEzChwC,EAAIG,oBAAqB94B,EAAOumE,GAChCA,EAAe33E,aAAc4I,GAE7B,IAAIpiB,EAAWspD,EAAU/F,IAAIvB,OAAOnvC,WAAYs+E,GAEhD,GAAKnxF,EAAWspD,EAAU3sC,MAAQ3c,EAAWspD,EAAU1sC,IAAM,OAE7D6sC,EAAW9jD,MAEP3F,SAAUA,EACV0zF,cAAe79F,KAAKoN,KAAMwwF,GAC1B7oE,MAAOumE,EAAep2F,QACtBoK,MAAOA,EACP8vC,KAAM,KACNhiD,OAAQA,OArDjB,GA6GX8H,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,YAAa/K,KAAK0yB,SAAU1yB,KAAKjC,UAAWoF,KAAMnD,SAkB1E2yF,GAAa/3F,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQoyB,GAAQ9xB,YAE3DmQ,YAAa4nF,GAEbnoB,gBAAgB,EAEhB/pE,OAAQ,WAEJ,IAAImyF,EAAQ5yF,KAAK+rB,MAEZ6mE,EAAMwI,YAAcxI,EAAMyI,oBAE3Br7F,KAAK4lD,aAAc,MA+B/BitC,GAAkBj4F,UAAYlB,OAAOY,OAAQoyB,GAAQ9xB,WACrDi4F,GAAkBj4F,UAAUmQ,YAAc8nF,GAE1CA,GAAkBj4F,UAAUgzE,qBAAsB,EAclDklB,GAAcl4F,UAAYlB,OAAOY,OAAQoyB,GAAQ9xB,WACjDk4F,GAAcl4F,UAAUmQ,YAAc+nF,GACtCA,GAAcl4F,UAAU0gG,iBAAkB,EAgC1CvI,GAAan4F,UAAYlB,OAAOY,OAAQoyB,GAAQ9xB,WAChDm4F,GAAan4F,UAAUmQ,YAAcgoF,GACrCA,GAAan4F,UAAU0yE,gBAAiB,EA4KxC0lB,GAAkBp4F,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC5Do4F,GAAkBp4F,UAAUmQ,YAAcioF,GA6B1CI,GAAmBx4F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACvDw4F,GAAmBx4F,UAAUmQ,YAAcqoF,GA6H3CI,GAAyB54F,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WACnE44F,GAAyB54F,UAAUmQ,YAAcyoF,GA6BjDI,GAAmBh5F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACvDg5F,GAAmBh5F,UAAUmQ,YAAc6oF,GA8S3CE,GAAyBl5F,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WACnEk5F,GAAyBl5F,UAAUmQ,YAAc+oF,GAyBjDoB,GAAoBt6F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACxDs6F,GAAoBt6F,UAAUmQ,YAAcmqF,GAyB5CC,GAA0Bv6F,UAAYlB,OAAOY,OAAQw5F,GAAyBl5F,WAC9Eu6F,GAA0Bv6F,UAAUmQ,YAAcoqF,GAyBlDC,GAAmBx6F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACvDw6F,GAAmBx6F,UAAUmQ,YAAcqqF,GA4B3CC,GAAyBz6F,UAAYlB,OAAOY,OAAQw5F,GAAyBl5F,WAC7Ey6F,GAAyBz6F,UAAUmQ,YAAcsqF,GAyBjDC,GAAoB16F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACxD06F,GAAoB16F,UAAUmQ,YAAcuqF,GAgC5CC,GAA0B36F,UAAYlB,OAAOY,OAAQw5F,GAAyBl5F,WAC9E26F,GAA0B36F,UAAUmQ,YAAcwqF,GAyBlDC,GAAqB56F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACzD46F,GAAqB56F,UAAUmQ,YAAcyqF,GAwD7CC,GAA2B76F,UAAYlB,OAAOY,OAAQw5F,GAAyBl5F,WAC/E66F,GAA2B76F,UAAUmQ,YAAc0qF,GA6CnDC,GAAa96F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACjD86F,GAAa96F,UAAUmQ,YAAc2qF,GAwKrCM,GAAmBp7F,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC7Do7F,GAAmBp7F,UAAUmQ,YAAcirF,GAiC3CY,GAAkBh8F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACtDg8F,GAAkBh8F,UAAUmQ,YAAc6rF,GAwJ1CG,GAAwBn8F,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAClEm8F,GAAwBn8F,UAAUmQ,YAAcgsF,GA6BhDS,GAAc58F,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WAClD48F,GAAc58F,UAAUmQ,YAAcysF,GAwGtCE,GAAoB98F,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC9D88F,GAAoB98F,UAAUmQ,YAAc2sF,GAO5C,IAAI6D,GAEa,SAAW5sE,EAAM6sE,EAAaC,GAEvCA,EAAMA,GAAO,EAEb,IAOIzqE,EAAMC,EAAME,EAAMC,EAAMhyB,EAAGC,EAAGq8F,EAP9BC,EAAWH,GAAeA,EAAYz7F,OACtC67F,EAAWD,EAAWH,EAAa,GAAMC,EAAM9sE,EAAK5uB,OACpD87F,EAAYC,GAAYntE,EAAM,EAAGitE,EAAUH,GAAK,GAChDjX,KAEJ,IAAOqX,EAAY,OAAOrX,EAQ1B,GAJKmX,IAAWE,EAmUxB,SAAyBltE,EAAM6sE,EAAaK,EAAWJ,GAEnD,IAAgBziG,EAAG6sB,EAAK6P,EAAOI,EAAKusC,EAAhC05B,KAEJ,IAAM/iG,EAAI,EAAG6sB,EAAM21E,EAAYz7F,OAAQ/G,EAAI6sB,EAAK7sB,IAE5C08B,EAAQ8lE,EAAaxiG,GAAMyiG,EAC3B3lE,EAAM98B,EAAI6sB,EAAM,EAAI21E,EAAaxiG,EAAI,GAAMyiG,EAAM9sE,EAAK5uB,QACtDsiE,EAAOy5B,GAAYntE,EAAM+G,EAAOI,EAAK2lE,GAAK,MAC5Bp5B,EAAKlL,OAAOkL,EAAK25B,SAAU,GACzCD,EAAM3uF,KAAM6uF,GAAa55B,IAQ7B,IAJA05B,EAAM57C,KAAM+7C,IAINljG,EAAI,EAAGA,EAAI+iG,EAAMh8F,OAAQ/G,IAE3BmjG,GAAeJ,EAAO/iG,GAAK6iG,GAC3BA,EAAYO,GAAcP,EAAWA,EAAU1kC,MAInD,OAAO0kC,EA5VyBQ,CAAgB1tE,EAAM6sE,EAAaK,EAAWJ,IAIrE9sE,EAAK5uB,OAAS,GAAK07F,EAAM,CAE1BzqE,EAAOG,EAAOxC,EAAM,GACpBsC,EAAOG,EAAOzC,EAAM,GAEpB,IAAM,IAAI31B,EAAIyiG,EAAKziG,EAAI4iG,EAAU5iG,GAAKyiG,EAElCr8F,EAAIuvB,EAAM31B,GACVqG,EAAIsvB,EAAM31B,EAAI,GACToG,EAAI4xB,IAAOA,EAAO5xB,GAClBC,EAAI4xB,IAAOA,EAAO5xB,GAClBD,EAAI+xB,IAAOA,EAAO/xB,GAClBC,EAAI+xB,IAAOA,EAAO/xB,GAO3Bq8F,EAAsB,KADtBA,EAAUp+F,KAAKkH,IAAK2sB,EAAOH,EAAMI,EAAOH,IACd,EAAIyqE,EAAU,EAM5C,OAFAY,GAAcT,EAAWrX,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,GAE9ClX,GAQf,SAASsX,GAAYntE,EAAM+G,EAAOI,EAAK2lE,EAAKc,GAExC,IAAIvjG,EAAGwjG,EAEP,GAAKD,IA6tBT,SAAqB5tE,EAAM+G,EAAOI,EAAK2lE,GAInC,IAFA,IAAIgB,EAAM,EAEAzjG,EAAI08B,EAAOvB,EAAI2B,EAAM2lE,EAAKziG,EAAI88B,EAAK98B,GAAKyiG,EAE9CgB,IAAS9tE,EAAMwF,GAAMxF,EAAM31B,KAAU21B,EAAM31B,EAAI,GAAM21B,EAAMwF,EAAI,IAC/DA,EAAIn7B,EAIR,OAAOyjG,EAxuBcC,CAAY/tE,EAAM+G,EAAOI,EAAK2lE,GAAQ,EAEvD,IAAMziG,EAAI08B,EAAO18B,EAAI88B,EAAK98B,GAAKyiG,EAAMe,EAAOG,GAAY3jG,EAAG21B,EAAM31B,GAAK21B,EAAM31B,EAAI,GAAKwjG,QAIrF,IAAMxjG,EAAI88B,EAAM2lE,EAAKziG,GAAK08B,EAAO18B,GAAKyiG,EAAMe,EAAOG,GAAY3jG,EAAG21B,EAAM31B,GAAK21B,EAAM31B,EAAI,GAAKwjG,GAWhG,OAPKA,GAAQ3hF,GAAQ2hF,EAAMA,EAAKrlC,QAE5BylC,GAAYJ,GACZA,EAAOA,EAAKrlC,MAITqlC,EAMX,SAASJ,GAAc1mE,EAAOI,GAE1B,IAAOJ,EAAQ,OAAOA,EACfI,IAAMA,EAAMJ,GAEnB,IAAemnE,EAAX/hG,EAAI46B,EAER,GAII,GAFAmnE,GAAQ,EAED/hG,EAAEkhG,UAAanhF,GAAQ/f,EAAGA,EAAEq8D,OAAwC,IAA9B2lC,GAAMhiG,EAAEiiG,KAAMjiG,EAAGA,EAAEq8D,MAS5Dr8D,EAAIA,EAAEq8D,SATuE,CAI7E,GAFAylC,GAAY9hG,IACZA,EAAIg7B,EAAMh7B,EAAEiiG,QACDjiG,EAAEq8D,KAAO,MACpB0lC,GAAQ,SAQNA,GAAS/hG,IAAMg7B,GAEzB,OAAOA,EAMX,SAASwmE,GAAcU,EAAKxY,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,EAASuB,GAE7D,GAAOD,EAAP,EAIOC,GAAQvB,GAkWnB,SAAqBhmE,EAAO1E,EAAMC,EAAMyqE,GAEpC,IAAI5gG,EAAI46B,EAER,GAEiB,OAAR56B,EAAEwE,IAAaxE,EAAEwE,EAAI49F,GAAQpiG,EAAEsE,EAAGtE,EAAEuE,EAAG2xB,EAAMC,EAAMyqE,IACxD5gG,EAAEqiG,MAAQriG,EAAEiiG,KACZjiG,EAAEsiG,MAAQtiG,EAAEq8D,KACZr8D,EAAIA,EAAEq8D,WAEAr8D,IAAM46B,GAEhB56B,EAAEqiG,MAAMC,MAAQ,KAChBtiG,EAAEqiG,MAAQ,KASd,SAAqB96B,GAEjB,IAAIrpE,EAAG8B,EAAG2jB,EAAG1f,EAAGs+F,EAAMC,EAAWC,EAAOC,EAAOC,EAAS,EAExD,EAAG,CAOC,IALA3iG,EAAIunE,EACJA,EAAO,KACPg7B,EAAO,KACPC,EAAY,EAEJxiG,GAAI,CAMR,IAJAwiG,IACA7+E,EAAI3jB,EACJyiG,EAAQ,EAEFvkG,EAAI,EAAGA,EAAIykG,IAEbF,IACA9+E,EAAIA,EAAE2+E,OAHepkG,KAUzB,IAFAwkG,EAAQC,EAEAF,EAAQ,GAAOC,EAAQ,GAAK/+E,GAEjB,IAAV8+E,IAA2B,IAAVC,IAAiB/+E,GAAK3jB,EAAEwE,GAAKmf,EAAEnf,IAEjDP,EAAIjE,EACJA,EAAIA,EAAEsiG,MACNG,MAIAx+F,EAAI0f,EACJA,EAAIA,EAAE2+E,MACNI,KAICH,EAAOA,EAAKD,MAAQr+F,EACpBsjE,EAAOtjE,EAEZA,EAAEo+F,MAAQE,EACVA,EAAOt+F,EAIXjE,EAAI2jB,EAIR4+E,EAAKD,MAAQ,KACbK,GAAU,QAEJH,EAAY,GAjEtBI,CAAY5iG,GAlXa6iG,CAAYX,EAAKhsE,EAAMC,EAAMyqE,GAMtD,IAJA,IAAgBqB,EAAM5lC,EAAlBrlB,EAAOkrD,EAIHA,EAAID,OAASC,EAAI7lC,MAKrB,GAHA4lC,EAAOC,EAAID,KACX5lC,EAAO6lC,EAAI7lC,KAENukC,EAAUkC,GAAaZ,EAAKhsE,EAAMC,EAAMyqE,GAAYmC,GAAOb,GAG5DxY,EAAUp3E,KAAM2vF,EAAK/jG,EAAIyiG,GACzBjX,EAAUp3E,KAAM4vF,EAAIhkG,EAAIyiG,GACxBjX,EAAUp3E,KAAM+pD,EAAKn+D,EAAIyiG,GAEzBmB,GAAYI,GAGZA,EAAM7lC,EAAKA,KACXrlB,EAAOqlB,EAAKA,UAUhB,IAJA6lC,EAAM7lC,KAIOrlB,EAAO,CAITmrD,EAMc,IAATA,EAGRX,GADAU,EAAMc,GAAwBd,EAAKxY,EAAWiX,GAC3BjX,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,EAAS,GAIvC,IAATuB,GAERc,GAAaf,EAAKxY,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,GAb9CY,GAAcF,GAAcY,GAAOxY,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,EAAS,GAiB5E,QAUZ,SAASmC,GAAOb,GAEZ,IAAI/jF,EAAI+jF,EAAID,KACR7jF,EAAI8jF,EACJ3jG,EAAI2jG,EAAI7lC,KAEZ,GAAK2lC,GAAM7jF,EAAGC,EAAG7f,IAAO,EAAI,OAAO,EAKnC,IAFA,IAAIyB,EAAIkiG,EAAI7lC,KAAKA,KAETr8D,IAAMkiG,EAAID,MAAO,CAErB,GAAKiB,GAAiB/kF,EAAE7Z,EAAG6Z,EAAE5Z,EAAG6Z,EAAE9Z,EAAG8Z,EAAE7Z,EAAGhG,EAAE+F,EAAG/F,EAAEgG,EAAGvE,EAAEsE,EAAGtE,EAAEuE,IAAOy9F,GAAMhiG,EAAEiiG,KAAMjiG,EAAGA,EAAEq8D,OAAU,EAE3F,OAAO,EAIXr8D,EAAIA,EAAEq8D,KAIV,OAAO,EAIX,SAASymC,GAAaZ,EAAKhsE,EAAMC,EAAMyqE,GAEnC,IAAIziF,EAAI+jF,EAAID,KACR7jF,EAAI8jF,EACJ3jG,EAAI2jG,EAAI7lC,KAEZ,GAAK2lC,GAAM7jF,EAAGC,EAAG7f,IAAO,EAAI,OAAO,EAkBnC,IAdA,IAAI4kG,EAAQhlF,EAAE7Z,EAAI8Z,EAAE9Z,EAAM6Z,EAAE7Z,EAAI/F,EAAE+F,EAAI6Z,EAAE7Z,EAAI/F,EAAE+F,EAAQ8Z,EAAE9Z,EAAI/F,EAAE+F,EAAI8Z,EAAE9Z,EAAI/F,EAAE+F,EACtE8+F,EAAQjlF,EAAE5Z,EAAI6Z,EAAE7Z,EAAM4Z,EAAE5Z,EAAIhG,EAAEgG,EAAI4Z,EAAE5Z,EAAIhG,EAAEgG,EAAQ6Z,EAAE7Z,EAAIhG,EAAEgG,EAAI6Z,EAAE7Z,EAAIhG,EAAEgG,EACtE8+F,EAAQllF,EAAE7Z,EAAI8Z,EAAE9Z,EAAM6Z,EAAE7Z,EAAI/F,EAAE+F,EAAI6Z,EAAE7Z,EAAI/F,EAAE+F,EAAQ8Z,EAAE9Z,EAAI/F,EAAE+F,EAAI8Z,EAAE9Z,EAAI/F,EAAE+F,EACtEg/F,EAAQnlF,EAAE5Z,EAAI6Z,EAAE7Z,EAAM4Z,EAAE5Z,EAAIhG,EAAEgG,EAAI4Z,EAAE5Z,EAAIhG,EAAEgG,EAAQ6Z,EAAE7Z,EAAIhG,EAAEgG,EAAI6Z,EAAE7Z,EAAIhG,EAAEgG,EAItE6xB,EAAOgsE,GAAQe,EAAOC,EAAOltE,EAAMC,EAAMyqE,GACzCrqE,EAAO6rE,GAAQiB,EAAOC,EAAOptE,EAAMC,EAAMyqE,GAIzC5gG,EAAIkiG,EAAII,MAEJtiG,GAAKA,EAAEwE,GAAK+xB,GAAO,CAEvB,GAAKv2B,IAAMkiG,EAAID,MAAQjiG,IAAMkiG,EAAI7lC,MAC7B6mC,GAAiB/kF,EAAE7Z,EAAG6Z,EAAE5Z,EAAG6Z,EAAE9Z,EAAG8Z,EAAE7Z,EAAGhG,EAAE+F,EAAG/F,EAAEgG,EAAGvE,EAAEsE,EAAGtE,EAAEuE,IACtDy9F,GAAMhiG,EAAEiiG,KAAMjiG,EAAGA,EAAEq8D,OAAU,EAAI,OAAO,EAC5Cr8D,EAAIA,EAAEsiG,MAQV,IAFAtiG,EAAIkiG,EAAIG,MAEAriG,GAAKA,EAAEwE,GAAK4xB,GAAO,CAEvB,GAAKp2B,IAAMkiG,EAAID,MAAQjiG,IAAMkiG,EAAI7lC,MAC7B6mC,GAAiB/kF,EAAE7Z,EAAG6Z,EAAE5Z,EAAG6Z,EAAE9Z,EAAG8Z,EAAE7Z,EAAGhG,EAAE+F,EAAG/F,EAAEgG,EAAGvE,EAAEsE,EAAGtE,EAAEuE,IACtDy9F,GAAMhiG,EAAEiiG,KAAMjiG,EAAGA,EAAEq8D,OAAU,EAAI,OAAO,EAE5Cr8D,EAAIA,EAAEqiG,MAIV,OAAO,EAMX,SAASW,GAAwBpoE,EAAO8uD,EAAWiX,GAE/C,IAAI3gG,EAAI46B,EAER,EAAG,CAEC,IAAIzc,EAAIne,EAAEiiG,KAAM7jF,EAAIpe,EAAEq8D,KAAKA,MAEpBt8C,GAAQ5B,EAAGC,IAAOg4C,GAAYj4C,EAAGne,EAAGA,EAAEq8D,KAAMj+C,IAAOmlF,GAAeplF,EAAGC,IAAOmlF,GAAenlF,EAAGD,KAEjGurE,EAAUp3E,KAAM6L,EAAEjgB,EAAIyiG,GACtBjX,EAAUp3E,KAAMtS,EAAE9B,EAAIyiG,GACtBjX,EAAUp3E,KAAM8L,EAAElgB,EAAIyiG,GAItBmB,GAAY9hG,GACZ8hG,GAAY9hG,EAAEq8D,MAEdr8D,EAAI46B,EAAQxc,GAIhBpe,EAAIA,EAAEq8D,WAEAr8D,IAAM46B,GAEhB,OAAO56B,EAMX,SAASijG,GAAaroE,EAAO8uD,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,GAIrD,IAAIziF,EAAIyc,EAER,EAAG,CAIC,IAFA,IAAIxc,EAAID,EAAEk+C,KAAKA,KAEPj+C,IAAMD,EAAE8jF,MAAO,CAEnB,GAAK9jF,EAAEjgB,IAAMkgB,EAAElgB,GAAKslG,GAAiBrlF,EAAGC,GAAM,CAI1C,IAAI7f,EAAIklG,GAActlF,EAAGC,GAWzB,OAPAD,EAAImjF,GAAcnjF,EAAGA,EAAEk+C,MACvB99D,EAAI+iG,GAAc/iG,EAAGA,EAAE89D,MAIvBmlC,GAAcrjF,EAAGurE,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,QAC7CY,GAAcjjG,EAAGmrF,EAAWiX,EAAKzqE,EAAMC,EAAMyqE,GAKjDxiF,EAAIA,EAAEi+C,KAIVl+C,EAAIA,EAAEk+C,WAEAl+C,IAAMyc,GAmCpB,SAASwmE,GAAUjjF,EAAGC,GAElB,OAAOD,EAAE7Z,EAAI8Z,EAAE9Z,EAMnB,SAAS+8F,GAAeqC,EAAM3C,GAI1B,GAFAA,EAcJ,SAAyB2C,EAAM3C,GAE3B,IAIIziG,EAJA0B,EAAI+gG,EACJ4C,EAAKD,EAAKp/F,EACVs/F,EAAKF,EAAKn/F,EACV4pB,GAAOloB,EAAAA,EAMX,EAAG,CAEC,GAAK29F,GAAM5jG,EAAEuE,GAAKq/F,GAAM5jG,EAAEq8D,KAAK93D,GAAKvE,EAAEq8D,KAAK93D,IAAMvE,EAAEuE,EAAI,CAEnD,IAAID,EAAItE,EAAEsE,GAAMs/F,EAAK5jG,EAAEuE,IAAQvE,EAAEq8D,KAAK/3D,EAAItE,EAAEsE,IAAQtE,EAAEq8D,KAAK93D,EAAIvE,EAAEuE,GAEjE,GAAKD,GAAKq/F,GAAMr/F,EAAI6pB,EAAK,CAIrB,GAFAA,EAAK7pB,EAEAA,IAAMq/F,EAAK,CAEZ,GAAKC,IAAO5jG,EAAEuE,EAAI,OAAOvE,EACzB,GAAK4jG,IAAO5jG,EAAEq8D,KAAK93D,EAAI,OAAOvE,EAAEq8D,KAIpC/9D,EAAI0B,EAAEsE,EAAItE,EAAEq8D,KAAK/3D,EAAItE,EAAIA,EAAEq8D,MAMnCr8D,EAAIA,EAAEq8D,WAEAr8D,IAAM+gG,GAEhB,IAAOziG,EAAI,OAAO,KAElB,GAAKqlG,IAAOx1E,EAAK,OAAO7vB,EAAE2jG,KAM1B,IAII30F,EAJA0pC,EAAO14C,EACPulG,EAAKvlG,EAAEgG,EACPw/F,EAAKxlG,EAAEiG,EACPw/F,EAAS99F,EAAAA,EAGbjG,EAAI1B,EAAE+9D,KAEN,KAAQr8D,IAAMg3C,GAEL2sD,GAAM3jG,EAAEsE,GAAKtE,EAAEsE,GAAKu/F,GAAMF,IAAO3jG,EAAEsE,GACpC4+F,GAAiBU,EAAKE,EAAKH,EAAKx1E,EAAIy1E,EAAIC,EAAIC,EAAIF,EAAKE,EAAK31E,EAAKw1E,EAAIC,EAAI5jG,EAAEsE,EAAGtE,EAAEuE,MAE9E+I,EAAM9K,KAAK6c,IAAKukF,EAAK5jG,EAAEuE,IAAQo/F,EAAK3jG,EAAEsE,IAEzBy/F,GAAYz2F,IAAQy2F,GAAU/jG,EAAEsE,EAAIhG,EAAEgG,IAASi/F,GAAevjG,EAAG0jG,KAE1EplG,EAAI0B,EACJ+jG,EAASz2F,GAMjBtN,EAAIA,EAAEq8D,KAIV,OAAO/9D,EAxFK0lG,CAAgBN,EAAM3C,GAEjB,CAEb,IAAI3iF,EAAIqlF,GAAc1C,EAAW2C,GAEjCpC,GAAcljF,EAAGA,EAAEi+C,OAiL3B,SAAS+lC,GAAQ99F,EAAGC,EAAG2xB,EAAMC,EAAMyqE,GAiB/B,OAPAt8F,EAAyB,aADzBA,EAAyB,YADzBA,EAAyB,YADzBA,EAAyB,WAHzBA,EAAI,OAAUA,EAAI4xB,GAAS0qE,GAGft8F,GAAK,IACLA,GAAK,IACLA,GAAK,IACLA,GAAK,KAKjBC,EAAyB,aADzBA,EAAyB,YADzBA,EAAyB,YADzBA,EAAyB,WAPzBA,EAAI,OAAUA,EAAI4xB,GAASyqE,GAOfr8F,GAAK,IACLA,GAAK,IACLA,GAAK,IACLA,GAAK,KAEC,EAMtB,SAAS48F,GAAavmE,GAElB,IAAI56B,EAAI46B,EAAOqpE,EAAWrpE,EAE1B,GAES56B,EAAEsE,EAAI2/F,EAAS3/F,IAAI2/F,EAAWjkG,GACnCA,EAAIA,EAAEq8D,WAEAr8D,IAAM46B,GAEhB,OAAOqpE,EAMX,SAASf,GAAiBj0E,EAAIC,EAAIE,EAAIC,EAAIsB,EAAIC,EAAIszE,EAAIC,GAElD,OAASxzE,EAAKuzE,IAASh1E,EAAKi1E,IAASl1E,EAAKi1E,IAAStzE,EAAKuzE,IAAQ,IAC1Dl1E,EAAKi1E,IAAS70E,EAAK80E,IAAS/0E,EAAK80E,IAASh1E,EAAKi1E,IAAQ,IACvD/0E,EAAK80E,IAAStzE,EAAKuzE,IAASxzE,EAAKuzE,IAAS70E,EAAK80E,IAAQ,EAMjE,SAASX,GAAiBrlF,EAAGC,GAEzB,OAAOD,EAAEk+C,KAAKn+D,IAAMkgB,EAAElgB,GAAKigB,EAAE8jF,KAAK/jG,IAAMkgB,EAAElgB,IAmC9C,SAA4BigB,EAAGC,GAE3B,IAAIpe,EAAIme,EAER,EAAG,CAEC,GAAKne,EAAE9B,IAAMigB,EAAEjgB,GAAK8B,EAAEq8D,KAAKn+D,IAAMigB,EAAEjgB,GAAK8B,EAAE9B,IAAMkgB,EAAElgB,GAAK8B,EAAEq8D,KAAKn+D,IAAMkgB,EAAElgB,GAClEk4D,GAAYp2D,EAAGA,EAAEq8D,KAAMl+C,EAAGC,GAE1B,OAAO,EAIXpe,EAAIA,EAAEq8D,WAEAr8D,IAAMme,GAEhB,OAAO,EApD0CimF,CAAmBjmF,EAAGC,IACnEmlF,GAAeplF,EAAGC,IAAOmlF,GAAenlF,EAAGD,IAmEnD,SAAuBA,EAAGC,GAEtB,IAAIpe,EAAIme,EACJkmF,GAAS,EACTH,GAAO/lF,EAAE7Z,EAAI8Z,EAAE9Z,GAAM,EACrB6/F,GAAOhmF,EAAE5Z,EAAI6Z,EAAE7Z,GAAM,EAEzB,GAEavE,EAAEuE,EAAI4/F,GAAWnkG,EAAEq8D,KAAK93D,EAAI4/F,GAAUnkG,EAAEq8D,KAAK93D,IAAMvE,EAAEuE,GACxD2/F,GAAOlkG,EAAEq8D,KAAK/3D,EAAItE,EAAEsE,IAAQ6/F,EAAKnkG,EAAEuE,IAAQvE,EAAEq8D,KAAK93D,EAAIvE,EAAEuE,GAAMvE,EAAEsE,IAElE+/F,GAAWA,GAIfrkG,EAAIA,EAAEq8D,WAEAr8D,IAAMme,GAEhB,OAAOkmF,EAvF+CC,CAAcnmF,EAAGC,GAM3E,SAAS4jF,GAAMhiG,EAAG2jB,EAAG3kB,GAEjB,OAAS2kB,EAAEpf,EAAIvE,EAAEuE,IAAQvF,EAAEsF,EAAIqf,EAAErf,IAAQqf,EAAErf,EAAItE,EAAEsE,IAAQtF,EAAEuF,EAAIof,EAAEpf,GAMrE,SAASwb,GAAQqU,EAAIC,GAEjB,OAAOD,EAAG9vB,IAAM+vB,EAAG/vB,GAAK8vB,EAAG7vB,IAAM8vB,EAAG9vB,EAMxC,SAAS6xD,GAAYhiC,EAAIqoB,EAAIpoB,EAAIkwE,GAE7B,SAAOxkF,GAAQqU,EAAIqoB,IAAQ18B,GAAQsU,EAAIkwE,IACjCxkF,GAAQqU,EAAImwE,IAAQxkF,GAAQsU,EAAIooB,KAE/BulD,GAAM5tE,EAAIqoB,EAAIpoB,GAAO,GAAM2tE,GAAM5tE,EAAIqoB,EAAI8nD,GAAO,GACnDvC,GAAM3tE,EAAIkwE,EAAInwE,GAAO,GAAM4tE,GAAM3tE,EAAIkwE,EAAI9nD,GAAO,EA6BxD,SAAS8mD,GAAeplF,EAAGC,GAEvB,OAAO4jF,GAAM7jF,EAAE8jF,KAAM9jF,EAAGA,EAAEk+C,MAAS,EAC/B2lC,GAAM7jF,EAAGC,EAAGD,EAAEk+C,OAAU,GAAK2lC,GAAM7jF,EAAGA,EAAE8jF,KAAM7jF,IAAO,EACrD4jF,GAAM7jF,EAAGC,EAAGD,EAAE8jF,MAAS,GAAKD,GAAM7jF,EAAGA,EAAEk+C,KAAMj+C,GAAM,EAiC3D,SAASqlF,GAActlF,EAAGC,GAEtB,IAAI5C,EAAK,IAAIgpF,GAAMrmF,EAAEjgB,EAAGigB,EAAE7Z,EAAG6Z,EAAE5Z,GAC3BmX,EAAK,IAAI8oF,GAAMpmF,EAAElgB,EAAGkgB,EAAE9Z,EAAG8Z,EAAE7Z,GAC3BkgG,EAAKtmF,EAAEk+C,KACPqoC,EAAKtmF,EAAE6jF,KAcX,OAZA9jF,EAAEk+C,KAAOj+C,EACTA,EAAE6jF,KAAO9jF,EAET3C,EAAG6gD,KAAOooC,EACVA,EAAGxC,KAAOzmF,EAEVE,EAAG2gD,KAAO7gD,EACVA,EAAGymF,KAAOvmF,EAEVgpF,EAAGroC,KAAO3gD,EACVA,EAAGumF,KAAOyC,EAEHhpF,EAMX,SAASmmF,GAAY3jG,EAAGoG,EAAGC,EAAGm9F,GAE1B,IAAI1hG,EAAI,IAAIwkG,GAAMtmG,EAAGoG,EAAGC,GAgBxB,OAdOm9F,GAOH1hG,EAAEq8D,KAAOqlC,EAAKrlC,KACdr8D,EAAEiiG,KAAOP,EACTA,EAAKrlC,KAAK4lC,KAAOjiG,EACjB0hG,EAAKrlC,KAAOr8D,IARZA,EAAEiiG,KAAOjiG,EACTA,EAAEq8D,KAAOr8D,GAWNA,EAIX,SAAS8hG,GAAY9hG,GAEjBA,EAAEq8D,KAAK4lC,KAAOjiG,EAAEiiG,KAChBjiG,EAAEiiG,KAAK5lC,KAAOr8D,EAAEq8D,KAEXr8D,EAAEqiG,QAAQriG,EAAEqiG,MAAMC,MAAQtiG,EAAEsiG,OAC5BtiG,EAAEsiG,QAAQtiG,EAAEsiG,MAAMD,MAAQriG,EAAEqiG,OAIrC,SAASmC,GAAMtmG,EAAGoG,EAAGC,GAGjBW,KAAKhH,EAAIA,EAGTgH,KAAKZ,EAAIA,EACTY,KAAKX,EAAIA,EAGTW,KAAK+8F,KAAO,KACZ/8F,KAAKm3D,KAAO,KAGZn3D,KAAKV,EAAI,KAGTU,KAAKm9F,MAAQ,KACbn9F,KAAKo9F,MAAQ,KAGbp9F,KAAKg8F,SAAU,EAuBnB,IAAIyD,IAIA3C,KAAM,SAAW4C,GAKb,IAHA,IAAIjlG,EAAIilG,EAAQ3/F,OACZkZ,EAAI,EAEEne,EAAIL,EAAI,EAAGgkB,EAAI,EAAGA,EAAIhkB,EAAGK,EAAI2jB,IAEnCxF,GAAKymF,EAAS5kG,GAAIsE,EAAIsgG,EAASjhF,GAAIpf,EAAIqgG,EAASjhF,GAAIrf,EAAIsgG,EAAS5kG,GAAIuE,EAIzE,MAAW,GAAJ4Z,GAIX0mF,YAAa,SAAWC,GAEpB,OAAOH,GAAW3C,KAAM8C,GAAQ,GAIpCC,iBAAkB,SAAWH,EAASI,GAElC,IAAIltE,KACA4oE,KACAhhD,KAEJulD,GAAiBL,GACjBM,GAAYptE,EAAU8sE,GAItB,IAAIO,EAAYP,EAAQ3/F,OAExB+/F,EAAMI,QAASH,IAEf,IAAM,IAAI/mG,EAAI,EAAGA,EAAI8mG,EAAM//F,OAAQ/G,IAE/BwiG,EAAYpuF,KAAM6yF,GAClBA,GAAaH,EAAO9mG,GAAI+G,OACxBigG,GAAYptE,EAAUktE,EAAO9mG,IAMjC,IAAIwrF,EAAY+W,GAAoB3oE,EAAU4oE,GAI9C,IAAUxiG,EAAI,EAAGA,EAAIwrF,EAAUzkF,OAAQ/G,GAAK,EAExCwhD,EAAMptC,KAAMo3E,EAAU/2E,MAAOzU,EAAGA,EAAI,IAIxC,OAAOwhD,IAMf,SAASulD,GAAiBvuE,GAEtB,IAAIv4B,EAAIu4B,EAAOzxB,OAEV9G,EAAI,GAAKu4B,EAAQv4B,EAAI,GAAI4hB,OAAQ2W,EAAQ,KAE1CA,EAAOwwC,MAMf,SAASg+B,GAAYptE,EAAU8sE,GAE3B,IAAM,IAAI1mG,EAAI,EAAGA,EAAI0mG,EAAQ3/F,OAAQ/G,IAEjC45B,EAASxlB,KAAMsyF,EAAS1mG,GAAIoG,GAC5BwzB,EAASxlB,KAAMsyF,EAAS1mG,GAAIqG,GA+BpC,SAAS8gG,GAAiB/mD,EAAQrrB,GAE9BusB,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,kBAEZhG,KAAK45C,YACDR,OAAQA,EACRrrB,QAASA,GAGb/tB,KAAK88C,mBAAoB,IAAIsjD,GAAuBhnD,EAAQrrB,IAC5D/tB,KAAKy/C,gBAoBT,SAAS2gD,GAAuBhnD,EAAQrrB,GAEpCu1B,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,wBAEZhG,KAAK45C,YACDR,OAAQA,EACRrrB,QAASA,GAUb,IALA,IAAI7qB,EAAQlD,KAERqgG,KACAhW,KAEMrxF,EAAI,EAAGC,GAPjBmgD,EAASlpB,MAAMC,QAASipB,GAAWA,GAAWA,IAOlBr5C,OAAQ/G,EAAIC,EAAGD,IAAO,CAG9CsnG,EADYlnD,EAAQpgD,IAcxB,SAASsnG,EAAUzmD,GAEf,IAAI0mD,KAIAC,OAA0C7/F,IAA1BotB,EAAQyyE,cAA8BzyE,EAAQyyE,cAAgB,GAC9EC,OAA0B9/F,IAAlBotB,EAAQ0yE,MAAsB1yE,EAAQ0yE,MAAQ,EACtD3vD,OAA0BnwC,IAAlBotB,EAAQ+iB,MAAsB/iB,EAAQ+iB,MAAQ,IAEtD4vD,OAAwC//F,IAAzBotB,EAAQ2yE,cAA6B3yE,EAAQ2yE,aAC5DC,OAA4ChgG,IAA3BotB,EAAQ4yE,eAA+B5yE,EAAQ4yE,eAAiB,EACjFC,OAAkCjgG,IAAtBotB,EAAQ6yE,UAA0B7yE,EAAQ6yE,UAAYD,EAAiB,EACnFE,OAA0ClgG,IAA1BotB,EAAQ8yE,cAA8B9yE,EAAQ8yE,cAAgB,EAE9EC,EAAc/yE,EAAQ+yE,YAEtBC,OAAgCpgG,IAAxBotB,EAAQizE,YAA4BjzE,EAAQizE,YAAcC,QAI9CtgG,IAAnBotB,EAAQmzE,SAETp4F,QAAQC,KAAM,kEACd+nC,EAAQ/iB,EAAQmzE,QAMpB,IAAIC,EACAC,EAAYC,EAAU52E,EAAQ62E,EAmC9BC,EAAOh9E,EAAGi9E,EApCEC,GAAgB,EAG3BX,IAEDK,EAAaL,EAAYY,gBAAiBjB,GAE1CgB,GAAgB,EAChBf,GAAe,EAMfU,EAAaN,EAAY1K,oBAAqBqK,GAAO,GAIrDY,EAAW,IAAIvgG,GACf2pB,EAAS,IAAI3pB,GACbwgG,EAAY,IAAIxgG,IAMb4/F,IAEHG,EAAgB,EAChBF,EAAiB,EACjBC,EAAY,GAQhB,IAAIe,EAAc9nD,EAAM+nD,cAAepB,GAEnC5tE,EAAW+uE,EAAY9nD,MACvBimD,EAAQ6B,EAAY7B,MAIxB,IAFgBL,GAAWE,YAAa/sE,GAQpC,IAJAA,EAAWA,EAASivE,UAIdt9E,EAAI,EAAGi9E,EAAK1B,EAAM//F,OAAQwkB,EAAIi9E,EAAIj9E,IAEpCg9E,EAAQzB,EAAOv7E,GAEVk7E,GAAWE,YAAa4B,KAEzBzB,EAAOv7E,GAAMg9E,EAAMM,WAS/B,IAAIrnD,EAAQilD,GAAWI,iBAAkBjtE,EAAUktE,GAI/CJ,EAAU9sE,EAEd,IAAMrO,EAAI,EAAGi9E,EAAK1B,EAAM//F,OAAQwkB,EAAIi9E,EAAIj9E,IAEpCg9E,EAAQzB,EAAOv7E,GAEfqO,EAAWA,EAASkvE,OAAQP,GAKhC,SAASQ,EAAUC,EAAI/H,EAAKpoE,GAIxB,OAFOooE,GAAMnxF,QAAQgP,MAAO,6CAErBmiF,EAAIz3F,QAAQuC,eAAgB8sB,GAAOpyB,IAAKuiG,GAInD,IAAI9oF,EAAG+oF,EAAI/nG,EAAGoF,EACV4iG,EACAxlD,EADMylD,EAAOvvE,EAAS7yB,OAChBqiG,EAAO5nD,EAAMz6C,OAMvB,SAASsiG,EAAaC,EAAMC,EAAQC,GAShC,IAAIC,EAAWC,EAAWC,EAKtBC,EAAWN,EAAKljG,EAAImjG,EAAOnjG,EAC3ByjG,EAAWP,EAAKjjG,EAAIkjG,EAAOljG,EAC3ByjG,EAAWN,EAAOpjG,EAAIkjG,EAAKljG,EAC3B2jG,EAAWP,EAAOnjG,EAAIijG,EAAKjjG,EAE3B2jG,EAAiBJ,EAAWA,EAAWC,EAAWA,EAGlDI,EAAeL,EAAWG,EAAWF,EAAWC,EAEpD,GAAKxlG,KAAK6c,IAAK8oF,GAAej3F,OAAOC,QAAU,CAM3C,IAAIi3F,EAAa5lG,KAAKoN,KAAMs4F,GACxBG,EAAa7lG,KAAKoN,KAAMo4F,EAAWA,EAAWC,EAAWA,GAIzDK,EAAkBb,EAAOnjG,EAAIyjG,EAAWK,EACxCG,EAAkBd,EAAOljG,EAAIujG,EAAWM,EAOxCI,IALkBd,EAAOpjG,EAAI2jG,EAAWI,EAKfC,GAAkBL,GAJzBP,EAAOnjG,EAAIyjG,EAAWK,EAKtBE,GAAkBP,IAClCF,EAAWG,EAAWF,EAAWC,GASnCS,GALJd,EAAcW,EAAgBR,EAAWU,EAAKhB,EAAKljG,GAKjBqjG,GAJlCC,EAAcW,EAAgBR,EAAWS,EAAKhB,EAAKjjG,GAIOqjG,EAC1D,GAAKa,GAAiB,EAElB,OAAO,IAAI78F,GAAS+7F,EAAWC,GAI/BC,EAAYrlG,KAAKoN,KAAM64F,EAAgB,OAIxC,CAIH,IAAIC,GAAe,EACdZ,EAAW52F,OAAOC,QAEd62F,EAAW92F,OAAOC,UAEnBu3F,GAAe,GAMdZ,GAAa52F,OAAOC,QAEhB62F,GAAa92F,OAAOC,UAErBu3F,GAAe,GAMdlmG,KAAK+O,KAAMw2F,KAAevlG,KAAK+O,KAAM02F,KAEtCS,GAAe,GAQtBA,GAGDf,GAAcI,EACdH,EAAYE,EACZD,EAAYrlG,KAAKoN,KAAMs4F,KAKvBP,EAAYG,EACZF,EAAYG,EACZF,EAAYrlG,KAAKoN,KAAMs4F,EAAe,IAM9C,OAAO,IAAIt8F,GAAS+7F,EAAYE,EAAWD,EAAYC,GAO3D,IAFA,IAAIc,KAEMzqG,EAAI,EAAG04B,EAAKguE,EAAQ3/F,OAAQo0B,EAAIzC,EAAK,EAAG2vB,EAAIroD,EAAI,EAAGA,EAAI04B,EAAI14B,IAAMm7B,IAAMktB,IAExEltB,IAAMzC,IAAKyC,EAAI,GACfktB,IAAM3vB,IAAK2vB,EAAI,GAKpBoiD,EAAkBzqG,GAAMqpG,EAAa3C,EAAS1mG,GAAK0mG,EAASvrE,GAAKurE,EAASr+C,IAI9E,IACIqiD,EA6FA3oG,EA9FA4oG,KACkBC,EAAoBH,EAAiB3B,SAE3D,IAAMv9E,EAAI,EAAGi9E,EAAK1B,EAAM//F,OAAQwkB,EAAIi9E,EAAIj9E,IAAO,CAM3C,IAJAg9E,EAAQzB,EAAOv7E,GAEfm/E,KAEM1qG,EAAI,EAAsBm7B,GAAnBzC,EAAK6vE,EAAMxhG,QAAiB,EAAGshD,EAAIroD,EAAI,EAAGA,EAAI04B,EAAI14B,IAAMm7B,IAAMktB,IAElEltB,IAAMzC,IAAKyC,EAAI,GACfktB,IAAM3vB,IAAK2vB,EAAI,GAGpBqiD,EAAkB1qG,GAAMqpG,EAAad,EAAOvoG,GAAKuoG,EAAOptE,GAAKotE,EAAOlgD,IAIxEsiD,EAAev2F,KAAMs2F,GACrBE,EAAoBA,EAAkB9B,OAAQ4B,GAOlD,IAAMxqF,EAAI,EAAGA,EAAI2nF,EAAe3nF,IAAO,CAUnC,IANAhf,EAAIgf,EAAI2nF,EACRvhG,EAAIqhG,EAAiBrjG,KAAK+d,IAAKnhB,EAAIoD,KAAKC,GAAK,GAC7C0kG,EAAKrB,EAAYtjG,KAAKge,IAAKphB,EAAIoD,KAAKC,GAAK,GAInCvE,EAAI,EAAG04B,EAAKguE,EAAQ3/F,OAAQ/G,EAAI04B,EAAI14B,IAItCwO,GAFA06F,EAAOH,EAAUrC,EAAS1mG,GAAKyqG,EAAkBzqG,GAAKipG,IAE9C7iG,EAAG8iG,EAAK7iG,GAAKC,GAMzB,IAAMilB,EAAI,EAAGi9E,EAAK1B,EAAM//F,OAAQwkB,EAAIi9E,EAAIj9E,IAKpC,IAHAg9E,EAAQzB,EAAOv7E,GACfm/E,EAAmBC,EAAgBp/E,GAE7BvrB,EAAI,EAAG04B,EAAK6vE,EAAMxhG,OAAQ/G,EAAI04B,EAAI14B,IAIpCwO,GAFA06F,EAAOH,EAAUR,EAAOvoG,GAAK0qG,EAAkB1qG,GAAKipG,IAE5C7iG,EAAG8iG,EAAK7iG,GAAKC,GAYjC,IAJA2iG,EAAKrB,EAIC5nG,EAAI,EAAGA,EAAImpG,EAAMnpG,IAEnBkpG,EAAOxB,EAAeqB,EAAUnvE,EAAU55B,GAAK4qG,EAAmB5qG,GAAKipG,GAAOrvE,EAAU55B,GAEjFyoG,GAQHh3E,EAAOtnB,KAAMi+F,EAAW/kD,QAAS,IAAMt3C,eAAgBm9F,EAAK9iG,GAC5DiiG,EAASl+F,KAAMi+F,EAAWlL,UAAW,IAAMnxF,eAAgBm9F,EAAK7iG,GAEhEiiG,EAAUn+F,KAAMg+F,EAAY,IAAM1hG,IAAKgrB,GAAShrB,IAAK4hG,GAErD75F,EAAG85F,EAAUliG,EAAGkiG,EAAUjiG,EAAGiiG,EAAUhiG,IAXvCkI,EAAG06F,EAAK9iG,EAAG8iG,EAAK7iG,EAAG,GAsB3B,IAAMtE,EAAI,EAAGA,GAAK0lG,EAAO1lG,IAErB,IAAM/B,EAAI,EAAGA,EAAImpG,EAAMnpG,IAEnBkpG,EAAOxB,EAAeqB,EAAUnvE,EAAU55B,GAAK4qG,EAAmB5qG,GAAKipG,GAAOrvE,EAAU55B,GAEjFyoG,GAQHh3E,EAAOtnB,KAAMi+F,EAAW/kD,QAASthD,IAAMgK,eAAgBm9F,EAAK9iG,GAC5DiiG,EAASl+F,KAAMi+F,EAAWlL,UAAWn7F,IAAMgK,eAAgBm9F,EAAK7iG,GAEhEiiG,EAAUn+F,KAAMg+F,EAAYpmG,IAAM0E,IAAKgrB,GAAShrB,IAAK4hG,GAErD75F,EAAG85F,EAAUliG,EAAGkiG,EAAUjiG,EAAGiiG,EAAUhiG,IAXvCkI,EAAG06F,EAAK9iG,EAAG8iG,EAAK7iG,EAAGyxC,EAAQ2vD,EAAQ1lG,GAuB/C,IAAMme,EAAI2nF,EAAgB,EAAG3nF,GAAK,EAAGA,IAAO,CAQxC,IANAhf,EAAIgf,EAAI2nF,EACRvhG,EAAIqhG,EAAiBrjG,KAAK+d,IAAKnhB,EAAIoD,KAAKC,GAAK,GAC7C0kG,EAAKrB,EAAYtjG,KAAKge,IAAKphB,EAAIoD,KAAKC,GAAK,GAInCvE,EAAI,EAAG04B,EAAKguE,EAAQ3/F,OAAQ/G,EAAI04B,EAAI14B,IAGtCwO,GADA06F,EAAOH,EAAUrC,EAAS1mG,GAAKyqG,EAAkBzqG,GAAKipG,IAC9C7iG,EAAG8iG,EAAK7iG,EAAGyxC,EAAQxxC,GAM/B,IAAMilB,EAAI,EAAGi9E,EAAK1B,EAAM//F,OAAQwkB,EAAIi9E,EAAIj9E,IAKpC,IAHAg9E,EAAQzB,EAAOv7E,GACfm/E,EAAmBC,EAAgBp/E,GAE7BvrB,EAAI,EAAG04B,EAAK6vE,EAAMxhG,OAAQ/G,EAAI04B,EAAI14B,IAEpCkpG,EAAOH,EAAUR,EAAOvoG,GAAK0qG,EAAkB1qG,GAAKipG,GAE7CR,EAMHj6F,EAAG06F,EAAK9iG,EAAG8iG,EAAK7iG,EAAI8hG,EAAYV,EAAQ,GAAIphG,EAAG8hG,EAAYV,EAAQ,GAAIrhG,EAAIE,GAJ3EkI,EAAG06F,EAAK9iG,EAAG8iG,EAAK7iG,EAAGyxC,EAAQxxC,GA4G3C,SAASukG,EAAWnE,EAASoE,GAEzB,IAAI3vE,EAAGktB,EAGP,IAFAroD,EAAI0mG,EAAQ3/F,SAED/G,GAAK,GAAI,CAEhBm7B,EAAIn7B,GACJqoD,EAAIroD,EAAI,GACC,IAAIqoD,EAAIq+C,EAAQ3/F,OAAS,GAIlC,IAAIhF,EAAI,EACJgpG,EAAKtD,EAAwB,EAAhBI,EAEjB,IAAM9lG,EAAI,EAAGA,EAAIgpG,EAAIhpG,IAAO,CAExB,IAAIipG,EAAQ7B,EAAOpnG,EACfkpG,EAAQ9B,GAASpnG,EAAI,GAOzBmpG,EALQJ,EAAc3vE,EAAI6vE,EAClBF,EAAcziD,EAAI2iD,EAClBF,EAAcziD,EAAI4iD,EAClBH,EAAc3vE,EAAI8vE,KAUtC,SAASz8F,EAAGpI,EAAGC,EAAGC,GAEdihG,EAAYnzF,KAAMhO,GAClBmhG,EAAYnzF,KAAM/N,GAClBkhG,EAAYnzF,KAAM9N,GAKtB,SAAS6kG,EAAIlrF,EAAGC,EAAG7f,GAEf+qG,EAAWnrF,GACXmrF,EAAWlrF,GACXkrF,EAAW/qG,GAEX,IAAIgrG,EAAYhE,EAActgG,OAAS,EACnCu8C,EAAMykD,EAAMuD,cAAephG,EAAOm9F,EAAegE,EAAY,EAAGA,EAAY,EAAGA,EAAY,GAE/FE,EAAOjoD,EAAK,IACZioD,EAAOjoD,EAAK,IACZioD,EAAOjoD,EAAK,IAIhB,SAAS4nD,EAAIjrF,EAAGC,EAAG7f,EAAGC,GAElB8qG,EAAWnrF,GACXmrF,EAAWlrF,GACXkrF,EAAW9qG,GAEX8qG,EAAWlrF,GACXkrF,EAAW/qG,GACX+qG,EAAW9qG,GAGX,IAAI+qG,EAAYhE,EAActgG,OAAS,EACnCu8C,EAAMykD,EAAMyD,mBAAoBthG,EAAOm9F,EAAegE,EAAY,EAAGA,EAAY,EAAGA,EAAY,EAAGA,EAAY,GAEnHE,EAAOjoD,EAAK,IACZioD,EAAOjoD,EAAK,IACZioD,EAAOjoD,EAAK,IAEZioD,EAAOjoD,EAAK,IACZioD,EAAOjoD,EAAK,IACZioD,EAAOjoD,EAAK,IAIhB,SAAS8nD,EAAWx3F,GAEhByzF,EAAcjzF,KAAMmzF,EAAqB,EAAR3zF,EAAY,IAC7CyzF,EAAcjzF,KAAMmzF,EAAqB,EAAR3zF,EAAY,IAC7CyzF,EAAcjzF,KAAMmzF,EAAqB,EAAR3zF,EAAY,IAKjD,SAAS23F,EAAOE,GAEZpa,EAAQj9E,KAAMq3F,EAAQrlG,GACtBirF,EAAQj9E,KAAMq3F,EAAQplG,IA/K1B,WAEI,IAAIq2B,EAAQ2qE,EAActgG,OAAS,EAEnC,GAAK2gG,EAAe,CAEhB,IAAI/pB,EAAQ,EACRjzE,EAASy+F,EAAOxrB,EAIpB,IAAM39E,EAAI,EAAGA,EAAIopG,EAAMppG,IAGnBmrG,GADAznD,EAAOlC,EAAOxhD,IACJ,GAAM0K,EAAQg5C,EAAM,GAAMh5C,EAAQg5C,EAAM,GAAMh5C,GAS5D,IAJAA,EAASy+F,GADTxrB,EAAQ8pB,EAAwB,EAAhBI,GAKV7nG,EAAI,EAAGA,EAAIopG,EAAMppG,IAGnBmrG,GADAznD,EAAOlC,EAAOxhD,IACJ,GAAM0K,EAAQg5C,EAAM,GAAMh5C,EAAQg5C,EAAM,GAAMh5C,OAIzD,CAIH,IAAM1K,EAAI,EAAGA,EAAIopG,EAAMppG,IAGnBmrG,GADAznD,EAAOlC,EAAOxhD,IACJ,GAAK0jD,EAAM,GAAKA,EAAM,IAMpC,IAAM1jD,EAAI,EAAGA,EAAIopG,EAAMppG,IAGnBmrG,GADAznD,EAAOlC,EAAOxhD,IACJ,GAAMmpG,EAAO1B,EAAO/jD,EAAM,GAAMylD,EAAO1B,EAAO/jD,EAAM,GAAMylD,EAAO1B,GAMnFv9F,EAAM4hD,SAAUpvB,EAAO2qE,EAActgG,OAAS,EAAI21B,EAAO,GA7D7DgvE,GAmEA,WAEI,IAAIhvE,EAAQ2qE,EAActgG,OAAS,EAC/B+jG,EAAc,EAIlB,IAHAD,EAAWnE,EAASoE,GACpBA,GAAepE,EAAQ3/F,OAEjBwkB,EAAI,EAAGi9E,EAAK1B,EAAM//F,OAAQwkB,EAAIi9E,EAAIj9E,IAGpCs/E,EADAtC,EAAQzB,EAAOv7E,GACGu/E,GAGlBA,GAAevC,EAAMxhG,OAKzBmD,EAAM4hD,SAAUpvB,EAAO2qE,EAActgG,OAAS,EAAI21B,EAAO,GAjF7DivE,GAhcJ3kG,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBmkD,EAAe,IAC1ErgG,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBmuC,EAAS,IAE9DrqF,KAAK89C,uBA9CTqiD,GAAgBvlG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACpDulG,GAAgBvlG,UAAUmQ,YAAco1F,GAExCA,GAAgBvlG,UAAU60B,OAAS,WAE/B,IAAId,EAAO2rB,GAAS1/C,UAAU60B,OAAOt2B,KAAM6G,MAK3C,OAAOyvB,GAHMzvB,KAAK45C,WAAWR,OACfp5C,KAAK45C,WAAW7rB,QAEEY,IA6pBpCyxE,GAAsBxlG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAChEwlG,GAAsBxlG,UAAUmQ,YAAcq1F,GAE9CA,GAAsBxlG,UAAU60B,OAAS,WAErC,IAAId,EAAO20B,GAAe1oD,UAAU60B,OAAOt2B,KAAM6G,MAKjD,OAAOyvB,GAHMzvB,KAAK45C,WAAWR,OACfp5C,KAAK45C,WAAW7rB,QAEEY,IAMpC,IAAIsyE,IAEAqD,cAAe,SAAW5xE,EAAUE,EAAUgyE,EAAQC,EAAQC,GAE1D,IAAIC,EAAMnyE,EAAmB,EAATgyE,GAChBI,EAAMpyE,EAAmB,EAATgyE,EAAa,GAC7BK,EAAMryE,EAAmB,EAATiyE,GAChBK,EAAMtyE,EAAmB,EAATiyE,EAAa,GAC7BM,EAAMvyE,EAAmB,EAATkyE,GAChBM,EAAMxyE,EAAmB,EAATkyE,EAAa,GAEjC,OACI,IAAIp+F,GAASq+F,EAAKC,GAClB,IAAIt+F,GAASu+F,EAAKC,GAClB,IAAIx+F,GAASy+F,EAAKC,KAK1BZ,mBAAoB,SAAW9xE,EAAUE,EAAUgyE,EAAQC,EAAQC,EAAQO,GAEvE,IAAIN,EAAMnyE,EAAmB,EAATgyE,GAChBI,EAAMpyE,EAAmB,EAATgyE,EAAa,GAC7BU,EAAM1yE,EAAmB,EAATgyE,EAAa,GAC7BK,EAAMryE,EAAmB,EAATiyE,GAChBK,EAAMtyE,EAAmB,EAATiyE,EAAa,GAC7BU,EAAM3yE,EAAmB,EAATiyE,EAAa,GAC7BM,EAAMvyE,EAAmB,EAATkyE,GAChBM,EAAMxyE,EAAmB,EAATkyE,EAAa,GAC7BU,EAAM5yE,EAAmB,EAATkyE,EAAa,GAC7BW,EAAM7yE,EAAmB,EAATyyE,GAChBK,EAAM9yE,EAAmB,EAATyyE,EAAa,GAC7BM,EAAM/yE,EAAmB,EAATyyE,EAAa,GAEjC,OAAK/nG,KAAK6c,IAAK6qF,EAAME,GAAQ,KAGrB,IAAIx+F,GAASq+F,EAAK,EAAIO,GACtB,IAAI5+F,GAASu+F,EAAK,EAAIM,GACtB,IAAI7+F,GAASy+F,EAAK,EAAIK,GACtB,IAAI9+F,GAAS++F,EAAK,EAAIE,KAMtB,IAAIj/F,GAASs+F,EAAK,EAAIM,GACtB,IAAI5+F,GAASw+F,EAAK,EAAIK,GACtB,IAAI7+F,GAAS0+F,EAAK,EAAII,GACtB,IAAI9+F,GAASg/F,EAAK,EAAIC,MAQtC,SAASl2E,GAAQ2pB,EAAQrrB,EAASY,GAM9B,GAFAA,EAAKyqB,UAEAlpB,MAAMC,QAASipB,GAEhB,IAAM,IAAIpgD,EAAI,EAAGC,EAAImgD,EAAOr5C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAI6gD,EAAQT,EAAQpgD,GAEpB21B,EAAKyqB,OAAOhsC,KAAMysC,EAAMh6C,WAM5B8uB,EAAKyqB,OAAOhsC,KAAMgsC,EAAOv5C,MAQ7B,YAF6Bc,IAAxBotB,EAAQ+yE,cAA4BnyE,EAAKZ,QAAQ+yE,YAAc/yE,EAAQ+yE,YAAYrxE,UAEjFd,EAyBX,SAASi3E,GAAcC,EAAMjsD,GAEzBU,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,eAEZhG,KAAK45C,YACDisD,KAAMA,EACNjsD,WAAYA,GAGhB55C,KAAK88C,mBAAoB,IAAIgpD,GAAoBD,EAAMjsD,IACvD55C,KAAKy/C,gBAST,SAASqmD,GAAoBD,EAAMjsD,GAI/B,IAAImsD,GAFJnsD,EAAaA,OAESmsD,KAEtB,IAASA,IAAQA,EAAKC,OAGlB,OADAl9F,QAAQgP,MAAO,wEACR,IAAIwiC,GAIf,IAAIlB,EAAS2sD,EAAKE,eAAgBJ,EAAMjsD,EAAW/nB,MAInD+nB,EAAW9I,WAA8BnwC,IAAtBi5C,EAAWthC,OAAuBshC,EAAWthC,OAAS,QAItC3X,IAA9Bi5C,EAAW+mD,iBAA+B/mD,EAAW+mD,eAAiB,SAC7ChgG,IAAzBi5C,EAAWgnD,YAA0BhnD,EAAWgnD,UAAY,QAChCjgG,IAA5Bi5C,EAAW8mD,eAA6B9mD,EAAW8mD,cAAe,GAEvEN,GAAsBjnG,KAAM6G,KAAMo5C,EAAQQ,GAE1C55C,KAAKgG,KAAO,qBAehB,SAASrI,GAAgBgH,EAAQ++C,EAAeC,EAAgBuiD,EAAUC,EAAWC,EAAYC,GAE7F/rD,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,iBAEZhG,KAAK45C,YACDj1C,OAAQA,EACR++C,cAAeA,EACfC,eAAgBA,EAChBuiD,SAAUA,EACVC,UAAWA,EACXC,WAAYA,EACZC,YAAaA,GAGjBrmG,KAAK88C,mBAAoB,IAAIwpD,GAAsB3hG,EAAQ++C,EAAeC,EAAgBuiD,EAAUC,EAAWC,EAAYC,IAC3HrmG,KAAKy/C,gBAST,SAAS6mD,GAAsB3hG,EAAQ++C,EAAeC,EAAgBuiD,EAAUC,EAAWC,EAAYC,GAEnG/iD,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,uBAEZhG,KAAK45C,YACDj1C,OAAQA,EACR++C,cAAeA,EACfC,eAAgBA,EAChBuiD,SAAUA,EACVC,UAAWA,EACXC,WAAYA,EACZC,YAAaA,GAGjB1hG,EAASA,GAAU,EAEnB++C,EAAgBpmD,KAAKkH,IAAK,EAAGlH,KAAK8O,MAAOs3C,IAAmB,GAC5DC,EAAiBrmD,KAAKkH,IAAK,EAAGlH,KAAK8O,MAAOu3C,IAAoB,GAE9DuiD,OAAwBvlG,IAAbulG,EAAyBA,EAAW,EAC/CC,OAA0BxlG,IAAdwlG,EAA0BA,EAAsB,EAAV7oG,KAAKC,GAKvD,IAEI8rB,EAAIC,EAFJi9E,GAHJH,OAA4BzlG,IAAfylG,EAA2BA,EAAa,IACrDC,OAA8B1lG,IAAhB0lG,EAA4BA,EAAc/oG,KAAKC,IAMzDqP,EAAQ,EACR45F,KAEAlmD,EAAS,IAAIx/C,GACb2pB,EAAS,IAAI3pB,GAIbi8C,KACAnqB,KACAypB,KACAC,KAIJ,IAAMhzB,EAAK,EAAGA,GAAMq6B,EAAgBr6B,IAAQ,CAExC,IAAIm9E,KAEAj/F,EAAI8hB,EAAKq6B,EAEb,IAAMt6B,EAAK,EAAGA,GAAMq6B,EAAer6B,IAAQ,CAEvC,IAAImW,EAAInW,EAAKq6B,EAIbpD,EAAOlhD,GAAMuF,EAASrH,KAAK+d,IAAK6qF,EAAW1mE,EAAI2mE,GAAc7oG,KAAKge,IAAK8qF,EAAa5+F,EAAI6+F,GACxF/lD,EAAOjhD,EAAIsF,EAASrH,KAAK+d,IAAK+qF,EAAa5+F,EAAI6+F,GAC/C/lD,EAAOhhD,EAAIqF,EAASrH,KAAKge,IAAK4qF,EAAW1mE,EAAI2mE,GAAc7oG,KAAKge,IAAK8qF,EAAa5+F,EAAI6+F,GAEtFzzE,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1CmrB,EAAO3tB,IAAKwjD,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAAI8a,YAC3CiiC,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAIzCg9C,EAAIlvC,KAAMoyB,EAAG,EAAIh4B,GAEjBi/F,EAAYr5F,KAAMR,KAItB45F,EAAKp5F,KAAMq5F,GAMf,IAAMn9E,EAAK,EAAGA,EAAKq6B,EAAgBr6B,IAE/B,IAAMD,EAAK,EAAGA,EAAKq6B,EAAer6B,IAAQ,CAEtC,IAAIpQ,EAAIutF,EAAMl9E,GAAMD,EAAK,GACrBnQ,EAAIstF,EAAMl9E,GAAMD,GAChBhwB,EAAImtG,EAAMl9E,EAAK,GAAKD,GACpB/vB,EAAIktG,EAAMl9E,EAAK,GAAKD,EAAK,IAEjB,IAAPC,GAAY88E,EAAa,IAAIrpD,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,IACjDgwB,IAAOq6B,EAAiB,GAAK4iD,EAAWjpG,KAAKC,KAAKw/C,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAQnF0G,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IAc9D,SAASoqD,GAAcC,EAAaC,EAAaC,EAAeC,EAAaV,EAAYC,GAErF/rD,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,eAEZhG,KAAK45C,YACD+sD,YAAaA,EACbC,YAAaA,EACbC,cAAeA,EACfC,YAAaA,EACbV,WAAYA,EACZC,YAAaA,GAGjBrmG,KAAK88C,mBAAoB,IAAIiqD,GAAoBJ,EAAaC,EAAaC,EAAeC,EAAaV,EAAYC,IACnHrmG,KAAKy/C,gBAST,SAASsnD,GAAoBJ,EAAaC,EAAaC,EAAeC,EAAaV,EAAYC,GAE3F/iD,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,qBAEZhG,KAAK45C,YACD+sD,YAAaA,EACbC,YAAaA,EACbC,cAAeA,EACfC,YAAaA,EACbV,WAAYA,EACZC,YAAaA,GAGjBM,EAAcA,GAAe,GAC7BC,EAAcA,GAAe,EAE7BR,OAA4BzlG,IAAfylG,EAA2BA,EAAa,EACrDC,OAA8B1lG,IAAhB0lG,EAA4BA,EAAwB,EAAV/oG,KAAKC,GAE7DspG,OAAkClmG,IAAlBkmG,EAA8BvpG,KAAKkH,IAAK,EAAGqiG,GAAkB,EAK7E,IAOIG,EAKA7yE,EAAGn7B,EAZH+jD,KACAnqB,KACAypB,KACAC,KAKA33C,EAASgiG,EACTM,GAAiBL,EAAcD,IAbnCG,OAA8BnmG,IAAhBmmG,EAA4BxpG,KAAKkH,IAAK,EAAGsiG,GAAgB,GAcnExmD,EAAS,IAAIx/C,GACbuvB,EAAK,IAAI3pB,GAKb,IAAMytB,EAAI,EAAGA,GAAK2yE,EAAa3yE,IAAO,CAElC,IAAMn7B,EAAI,EAAGA,GAAK6tG,EAAe7tG,IAI7BguG,EAAUZ,EAAaptG,EAAI6tG,EAAgBR,EAI3C/lD,EAAOlhD,EAAIuF,EAASrH,KAAK+d,IAAK2rF,GAC9B1mD,EAAOjhD,EAAIsF,EAASrH,KAAKge,IAAK0rF,GAE9Bp0E,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1C+8C,EAAQjvC,KAAM,EAAG,EAAG,GAIpBijB,EAAGjxB,GAAMkhD,EAAOlhD,EAAIwnG,EAAc,GAAM,EACxCv2E,EAAGhxB,GAAMihD,EAAOjhD,EAAIunG,EAAc,GAAM,EAExCtqD,EAAIlvC,KAAMijB,EAAGjxB,EAAGixB,EAAGhxB,GAMvBsF,GAAUsiG,EAMd,IAAM9yE,EAAI,EAAGA,EAAI2yE,EAAa3yE,IAAO,CAEjC,IAAI+yE,EAAoB/yE,GAAM0yE,EAAgB,GAE9C,IAAM7tG,EAAI,EAAGA,EAAI6tG,EAAe7tG,IAAO,CAInC,IAAIigB,EAFJ+tF,EAAUhuG,EAAIkuG,EAGVhuF,EAAI8tF,EAAUH,EAAgB,EAC9BxtG,EAAI2tG,EAAUH,EAAgB,EAC9BvtG,EAAI0tG,EAAU,EAIlBjqD,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,IAQ5B0G,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IAe9D,SAAS6qD,GAAe31E,EAAQ41E,EAAUlB,EAAUC,GAEhD7rD,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,gBAEZhG,KAAK45C,YACDpoB,OAAQA,EACR41E,SAAUA,EACVlB,SAAUA,EACVC,UAAWA,GAGfnmG,KAAK88C,mBAAoB,IAAIuqD,GAAqB71E,EAAQ41E,EAAUlB,EAAUC,IAC9EnmG,KAAKy/C,gBAST,SAAS4nD,GAAqB71E,EAAQ41E,EAAUlB,EAAUC,GAEtD7iD,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,sBAEZhG,KAAK45C,YACDpoB,OAAQA,EACR41E,SAAUA,EACVlB,SAAUA,EACVC,UAAWA,GAGfiB,EAAW9pG,KAAK8O,MAAOg7F,IAAc,GACrClB,EAAWA,GAAY,EACvBC,EAAYA,GAAuB,EAAV7oG,KAAKC,GAI9B4oG,EAAY3wF,GAAMU,MAAOiwF,EAAW,EAAa,EAAV7oG,KAAKC,IAK5C,IAMI+pG,EAIAtuG,EAAGm7B,EAVH4oB,KACAnqB,KACA0pB,KAKAirD,EAAkB,EAAMH,EACxB9mD,EAAS,IAAIx/C,GACbuvB,EAAK,IAAI3pB,GAKb,IAAM1N,EAAI,EAAGA,GAAKouG,EAAUpuG,IAAO,CAE/B,IAAI8J,EAAMojG,EAAWltG,EAAIuuG,EAAkBpB,EAEvC7qF,EAAMhe,KAAKge,IAAKxY,GAChBuY,EAAM/d,KAAK+d,IAAKvY,GAEpB,IAAMqxB,EAAI,EAAGA,GAAO3C,EAAOzxB,OAAS,EAAKo0B,IAIrCmsB,EAAOlhD,EAAIoyB,EAAQ2C,GAAI/0B,EAAIkc,EAC3BglC,EAAOjhD,EAAImyB,EAAQ2C,GAAI90B,EACvBihD,EAAOhhD,EAAIkyB,EAAQ2C,GAAI/0B,EAAIic,EAE3BuX,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1C+wB,EAAGjxB,EAAIpG,EAAIouG,EACX/2E,EAAGhxB,EAAI80B,GAAM3C,EAAOzxB,OAAS,GAE7Bu8C,EAAIlvC,KAAMijB,EAAGjxB,EAAGixB,EAAGhxB,GAS3B,IAAMrG,EAAI,EAAGA,EAAIouG,EAAUpuG,IAEvB,IAAMm7B,EAAI,EAAGA,EAAM3C,EAAOzxB,OAAS,EAAKo0B,IAAO,CAI3C,IAAIlb,EAFJquF,EAAOnzE,EAAIn7B,EAAIw4B,EAAOzxB,OAGlBmZ,EAAIouF,EAAO91E,EAAOzxB,OAClB1G,EAAIiuG,EAAO91E,EAAOzxB,OAAS,EAC3BzG,EAAIguG,EAAO,EAIfvqD,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAmB5B,GAXA0G,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IAI1Dt8C,KAAK89C,uBAKAqoD,IAAwB,EAAV7oG,KAAKC,GAAS,CAE7B,IAAI8+C,EAAUr8C,KAAK8yB,WAAWrI,OAAOjd,MACjCg6F,EAAK,IAAI1mG,GACT2mG,EAAK,IAAI3mG,GACTrG,EAAI,IAAIqG,GAMZ,IAFAwmG,EAAOF,EAAW51E,EAAOzxB,OAAS,EAE5B/G,EAAI,EAAGm7B,EAAI,EAAGn7B,EAAIw4B,EAAOzxB,OAAQ/G,IAAMm7B,GAAK,EAI9CqzE,EAAGpoG,EAAIi9C,EAASloB,EAAI,GACpBqzE,EAAGnoG,EAAIg9C,EAASloB,EAAI,GACpBqzE,EAAGloG,EAAI+8C,EAASloB,EAAI,GAIpBszE,EAAGroG,EAAIi9C,EAASirD,EAAOnzE,EAAI,GAC3BszE,EAAGpoG,EAAIg9C,EAASirD,EAAOnzE,EAAI,GAC3BszE,EAAGnoG,EAAI+8C,EAASirD,EAAOnzE,EAAI,GAI3B15B,EAAEse,WAAYyuF,EAAIC,GAAKrtF,YAIvBiiC,EAASloB,EAAI,GAAMkoB,EAASirD,EAAOnzE,EAAI,GAAM15B,EAAE2E,EAC/Ci9C,EAASloB,EAAI,GAAMkoB,EAASirD,EAAOnzE,EAAI,GAAM15B,EAAE4E,EAC/Cg9C,EAASloB,EAAI,GAAMkoB,EAASirD,EAAOnzE,EAAI,GAAM15B,EAAE6E,GAkB3D,SAASooG,GAAetuD,EAAQonD,GAE5BlmD,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,gBAEkB,iBAAzB,IAAOw6F,EAAP,YAAA90F,EAAO80F,MAER13F,QAAQC,KAAM,4DAEdy3F,EAAgBA,EAAcA,eAIlCxgG,KAAK45C,YACDR,OAAQA,EACRonD,cAAeA,GAGnBxgG,KAAK88C,mBAAoB,IAAI6qD,GAAqBvuD,EAAQonD,IAC1DxgG,KAAKy/C,gBAmBT,SAASkoD,GAAqBvuD,EAAQonD,GAElCl9C,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,sBAEZhG,KAAK45C,YACDR,OAAQA,EACRonD,cAAeA,GAGnBA,EAAgBA,GAAiB,GAIjC,IAAIzjD,KACAnqB,KACAypB,KACAC,KAIAyH,EAAa,EACbc,EAAa,EAIjB,IAAiC,IAA5B30B,MAAMC,QAASipB,GAEhBknD,EAAUlnD,QAIV,IAAM,IAAIpgD,EAAI,EAAGA,EAAIogD,EAAOr5C,OAAQ/G,IAEhCsnG,EAAUlnD,EAAQpgD,IAElBgH,KAAK8kD,SAAUf,EAAYc,EAAY7rD,GAEvC+qD,GAAcc,EACdA,EAAa,EAgBrB,SAASy7C,EAAUzmD,GAEf,IAAI7gD,EAAGC,EAAG2uG,EAENC,EAAcj1E,EAAS7yB,OAAS,EAChCyxB,EAASqoB,EAAM+nD,cAAepB,GAE9BsH,EAAgBt2E,EAAOqoB,MACvBkuD,EAAav2E,EAAOsuE,MAIxB,IAAiD,IAA5CL,GAAWE,YAAamI,GAMzB,IAJAA,EAAgBA,EAAcjG,UAIxB7oG,EAAI,EAAGC,EAAI8uG,EAAWhoG,OAAQ/G,EAAIC,EAAGD,IAEvC4uG,EAAYG,EAAY/uG,IAEqB,IAAxCymG,GAAWE,YAAaiI,KAEzBG,EAAY/uG,GAAM4uG,EAAU/F,WAQxC,IAAIrnD,EAAQilD,GAAWI,iBAAkBiI,EAAeC,GAIxD,IAAM/uG,EAAI,EAAGC,EAAI8uG,EAAWhoG,OAAQ/G,EAAIC,EAAGD,IAEvC4uG,EAAYG,EAAY/uG,GACxB8uG,EAAgBA,EAAchG,OAAQ8F,GAM1C,IAAM5uG,EAAI,EAAGC,EAAI6uG,EAAc/nG,OAAQ/G,EAAIC,EAAGD,IAAO,CAEjD,IAAIsnD,EAASwnD,EAAe9uG,GAE5B45B,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAG,GACnCg9C,EAAQjvC,KAAM,EAAG,EAAG,GACpBkvC,EAAIlvC,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,GAM/B,IAAMrG,EAAI,EAAGC,EAAIuhD,EAAMz6C,OAAQ/G,EAAIC,EAAGD,IAAO,CAEzC,IAAI0jD,EAAOlC,EAAOxhD,GAEdigB,EAAIyjC,EAAM,GAAMmrD,EAChB3uF,EAAIwjC,EAAM,GAAMmrD,EAChBxuG,EAAIqjD,EAAM,GAAMmrD,EAEpB9qD,EAAQ3vC,KAAM6L,EAAGC,EAAG7f,GACpBwrD,GAAc,GA1EtB7kD,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IA8F9D,SAAS0rD,GAAU5uD,EAAQzqB,GAIvB,GAFAA,EAAKyqB,UAEAlpB,MAAMC,QAASipB,GAEhB,IAAM,IAAIpgD,EAAI,EAAGC,EAAImgD,EAAOr5C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAI6gD,EAAQT,EAAQpgD,GAEpB21B,EAAKyqB,OAAOhsC,KAAMysC,EAAMh6C,WAM5B8uB,EAAKyqB,OAAOhsC,KAAMgsC,EAAOv5C,MAI7B,OAAO8uB,EASX,SAASs5E,GAAev1E,EAAUw1E,GAE9B5kD,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,gBAEZhG,KAAK45C,YACDsuD,eAAgBA,GAGpBA,OAAsCvnG,IAAnBunG,EAAiCA,EAAiB,EAIrE,IAKiC56C,EAAOC,EACpChzD,EAIAosD,EAVA/zB,KAIAu1E,EAAe7qG,KAAK+d,IAAK7F,GAAMC,QAAUyyF,GACzChV,GAAS,EAAG,GAAKC,KACZpxF,GAAS,IAAK,IAAK,KAMvB2wB,EAASG,kBAEV8zB,EAAY,IAAIrM,IACNwC,mBAAoBpqB,GAI9Bi0B,EAAYj0B,EAASlwB,QAIzBmkD,EAAUlH,gBACVkH,EAAUpJ,qBAOV,IALA,IAAI6qD,EAAiBzhD,EAAU/zB,SAC3B4nB,EAAQmM,EAAUnM,MAIZxhD,EAAI,EAAGC,EAAIuhD,EAAMz6C,OAAQ/G,EAAIC,EAAGD,IAItC,IAFA,IAAI0jD,EAAOlC,EAAOxhD,GAERm7B,EAAI,EAAGA,EAAI,EAAGA,IAEpBm5B,EAAQ5Q,EAAM36C,EAAMoyB,IACpBo5B,EAAQ7Q,EAAM36C,GAAQoyB,EAAI,GAAM,IAChC++D,EAAM,GAAM51F,KAAKmH,IAAK6oD,EAAOC,GAC7B2lC,EAAM,GAAM51F,KAAKkH,IAAK8oD,EAAOC,QAIP5sD,IAAjBwyF,EAFL54F,EAAM24F,EAAM,GAAM,IAAMA,EAAM,IAI1BC,EAAO54F,IAAUynD,OAAQkxC,EAAM,GAAKjxC,OAAQixC,EAAM,GAAKmV,MAAOrvG,EAAGsvG,WAAO3nG,GAIxEwyF,EAAO54F,GAAM+tG,MAAQtvG,EAUjC,IAAMuB,KAAO44F,EAAQ,CAEjB,IAAIp0F,EAAIo0F,EAAO54F,GAIf,QAAiBoG,IAAZ5B,EAAEupG,OAAuB9tD,EAAOz7C,EAAEspG,OAAQ59E,OAAOtlB,IAAKq1C,EAAOz7C,EAAEupG,OAAQ79E,SAAY09E,EAAe,CAEnG,IAAI7nD,EAAS8nD,EAAgBrpG,EAAEijD,QAC/BpvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAE1CghD,EAAS8nD,EAAgBrpG,EAAEkjD,QAC3BrvB,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,IAQlDU,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IAczE,SAAS21E,GAAkBC,EAAWC,EAAcnwF,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,GAE/G/rD,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,mBAEZhG,KAAK45C,YACD4uD,UAAWA,EACXC,aAAcA,EACdnwF,OAAQA,EACRs9E,eAAgBA,EAChBjyC,eAAgBA,EAChB+kD,UAAWA,EACXtC,WAAYA,EACZC,YAAaA,GAGjBrmG,KAAK88C,mBAAoB,IAAIr/C,GAAwB+qG,EAAWC,EAAcnwF,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,IAC7IrmG,KAAKy/C,gBAST,SAAShiD,GAAwB+qG,EAAWC,EAAcnwF,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,GAErH/iD,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,yBAEZhG,KAAK45C,YACD4uD,UAAWA,EACXC,aAAcA,EACdnwF,OAAQA,EACRs9E,eAAgBA,EAChBjyC,eAAgBA,EAChB+kD,UAAWA,EACXtC,WAAYA,EACZC,YAAaA,GAGjB,IAAInjG,EAAQlD,KAEZwoG,OAA0B7nG,IAAd6nG,EAA0BA,EAAY,EAClDC,OAAgC9nG,IAAjB8nG,EAA6BA,EAAe,EAC3DnwF,EAASA,GAAU,EAEnBs9E,EAAiBt4F,KAAK8O,MAAOwpF,IAAoB,EACjDjyC,EAAiBrmD,KAAK8O,MAAOu3C,IAAoB,EAEjD+kD,OAA0B/nG,IAAd+nG,GAA0BA,EACtCtC,OAA4BzlG,IAAfylG,EAA2BA,EAAa,EACrDC,OAA8B1lG,IAAhB0lG,EAA4BA,EAAwB,EAAV/oG,KAAKC,GAI7D,IAAIw/C,KACAnqB,KACAypB,KACAC,KAIA1vC,EAAQ,EACR+7F,KACA/lC,EAAatqD,EAAS,EACtByrC,EAAa,EAoHjB,SAAS6kD,EAAahgG,GAElB,IAAIxJ,EAAGypG,EAAkBC,EAErBz4E,EAAK,IAAI3pB,GACT45C,EAAS,IAAIx/C,GAEb+jD,EAAa,EAEblgD,GAAmB,IAARiE,EAAiB4/F,EAAYC,EACxCp8F,GAAiB,IAARzD,EAAiB,GAAM,EASpC,IANAigG,EAAmBj8F,EAMbxN,EAAI,EAAGA,GAAKw2F,EAAgBx2F,IAI9BwzB,EAASxlB,KAAM,EAAGw1D,EAAav2D,EAAM,GAIrCgwC,EAAQjvC,KAAM,EAAGf,EAAM,GAIvBiwC,EAAIlvC,KAAM,GAAK,IAIfR,IAUJ,IAJAk8F,EAAiBl8F,EAIXxN,EAAI,EAAGA,GAAKw2F,EAAgBx2F,IAAO,CAErC,IACI4D,EADI5D,EAAIw2F,EACIyQ,EAAcD,EAE1B2C,EAAWzrG,KAAK+d,IAAKrY,GACrBgmG,EAAW1rG,KAAKge,IAAKtY,GAIzBs9C,EAAOlhD,EAAIuF,EAASqkG,EACpB1oD,EAAOjhD,EAAIujE,EAAav2D,EACxBi0C,EAAOhhD,EAAIqF,EAASokG,EACpBn2E,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1C+8C,EAAQjvC,KAAM,EAAGf,EAAM,GAIvBgkB,EAAGjxB,EAAiB,GAAX2pG,EAAmB,GAC5B14E,EAAGhxB,EAAiB,GAAX2pG,EAAiB38F,EAAS,GACnCiwC,EAAIlvC,KAAMijB,EAAGjxB,EAAGixB,EAAGhxB,GAInBuN,IAMJ,IAAMxN,EAAI,EAAGA,EAAIw2F,EAAgBx2F,IAAO,CAEpC,IAAI/F,EAAIwvG,EAAmBzpG,EACvBpG,EAAI8vG,EAAiB1pG,GAEZ,IAARwJ,EAIDm0C,EAAQ3vC,KAAMpU,EAAGA,EAAI,EAAGK,GAMxB0jD,EAAQ3vC,KAAMpU,EAAI,EAAGA,EAAGK,GAI5BwrD,GAAc,EAMlB3hD,EAAM4hD,SAAUf,EAAYc,GAAoB,IAARj8C,EAAe,EAAI,GAI3Dm7C,GAAcc,GA3MlB,WAEI,IAAIzlD,EAAGC,EACHorB,EAAS,IAAI3pB,GACbw/C,EAAS,IAAIx/C,GAEb+jD,EAAa,EAGbokD,GAAUR,EAAeD,GAAclwF,EAI3C,IAAMjZ,EAAI,EAAGA,GAAKskD,EAAgBtkD,IAAO,CAErC,IAAI6pG,KAEA1hG,EAAInI,EAAIskD,EAIRh/C,EAAS6C,GAAMihG,EAAeD,GAAcA,EAEhD,IAAMppG,EAAI,EAAGA,GAAKw2F,EAAgBx2F,IAAO,CAErC,IAAIogC,EAAIpgC,EAAIw2F,EAER5yF,EAAQw8B,EAAI6mE,EAAcD,EAE1B4C,EAAW1rG,KAAKge,IAAKtY,GACrB+lG,EAAWzrG,KAAK+d,IAAKrY,GAIzBs9C,EAAOlhD,EAAIuF,EAASqkG,EACpB1oD,EAAOjhD,GAAMmI,EAAI8Q,EAASsqD,EAC1BtiB,EAAOhhD,EAAIqF,EAASokG,EACpBn2E,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1CmrB,EAAO3tB,IAAKksG,EAAUC,EAAOF,GAAW3uF,YACxCiiC,EAAQjvC,KAAMqd,EAAOrrB,EAAGqrB,EAAOprB,EAAGorB,EAAOnrB,GAIzCg9C,EAAIlvC,KAAMoyB,EAAG,EAAIh4B,GAIjB0hG,EAAS97F,KAAMR,KAMnB+7F,EAAWv7F,KAAM87F,GAMrB,IAAM9pG,EAAI,EAAGA,EAAIw2F,EAAgBx2F,IAE7B,IAAMC,EAAI,EAAGA,EAAIskD,EAAgBtkD,IAAO,CAIpC,IAAI4Z,EAAI0vF,EAAYtpG,GAAKD,GACrB8Z,EAAIyvF,EAAYtpG,EAAI,GAAKD,GACzB/F,EAAIsvG,EAAYtpG,EAAI,GAAKD,EAAI,GAC7B9F,EAAIqvG,EAAYtpG,GAAKD,EAAI,GAI7B29C,EAAQ3vC,KAAM6L,EAAGC,EAAG5f,GACpByjD,EAAQ3vC,KAAM8L,EAAG7f,EAAGC,GAIpBurD,GAAc,EAQtB3hD,EAAM4hD,SAAUf,EAAYc,EAAY,GAIxCd,GAAcc,EA5GlBskD,IAEmB,IAAdT,IAEIF,EAAY,GAAII,GAAa,GAC7BH,EAAe,GAAIG,GAAa,IAMzC5oG,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IA4N9D,SAAS8sD,GAAczkG,EAAQ2T,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,GAE1FkC,GAAiBpvG,KAAM6G,KAAM,EAAG2E,EAAQ2T,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,GAEvGrmG,KAAKgG,KAAO,eAEZhG,KAAK45C,YACDj1C,OAAQA,EACR2T,OAAQA,EACRs9E,eAAgBA,EAChBjyC,eAAgBA,EAChB+kD,UAAWA,EACXtC,WAAYA,EACZC,YAAaA,GAUrB,SAASgD,GAAoB1kG,EAAQ2T,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,GAEhG5oG,GAAuBtE,KAAM6G,KAAM,EAAG2E,EAAQ2T,EAAQs9E,EAAgBjyC,EAAgB+kD,EAAWtC,EAAYC,GAE7GrmG,KAAKgG,KAAO,qBAEZhG,KAAK45C,YACDj1C,OAAQA,EACR2T,OAAQA,EACRs9E,eAAgBA,EAChBjyC,eAAgBA,EAChB+kD,UAAWA,EACXtC,WAAYA,EACZC,YAAaA,GAgBrB,SAASiD,GAAgB3kG,EAAQyiG,EAAUhB,EAAYC,GAEnD/rD,GAASnhD,KAAM6G,MAEfA,KAAKgG,KAAO,iBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRyiG,SAAUA,EACVhB,WAAYA,EACZC,YAAaA,GAGjBrmG,KAAK88C,mBAAoB,IAAIysD,GAAsB5kG,EAAQyiG,EAAUhB,EAAYC,IACjFrmG,KAAKy/C,gBAST,SAAS8pD,GAAsB5kG,EAAQyiG,EAAUhB,EAAYC,GAEzD/iD,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,uBAEZhG,KAAK45C,YACDj1C,OAAQA,EACRyiG,SAAUA,EACVhB,WAAYA,EACZC,YAAaA,GAGjB1hG,EAASA,GAAU,EACnByiG,OAAwBzmG,IAAbymG,EAAyB9pG,KAAKkH,IAAK,EAAG4iG,GAAa,EAE9DhB,OAA4BzlG,IAAfylG,EAA2BA,EAAa,EACrDC,OAA8B1lG,IAAhB0lG,EAA4BA,EAAwB,EAAV/oG,KAAKC,GAI7D,IAOIvE,EAAG+B,EAPHgiD,KACAnqB,KACAypB,KACAC,KAKAgE,EAAS,IAAIx/C,GACbuvB,EAAK,IAAI3pB,GAQb,IAJAksB,EAASxlB,KAAM,EAAG,EAAG,GACrBivC,EAAQjvC,KAAM,EAAG,EAAG,GACpBkvC,EAAIlvC,KAAM,GAAK,IAETrS,EAAI,EAAG/B,EAAI,EAAG+B,GAAKqsG,EAAUrsG,IAAM/B,GAAK,EAAI,CAE9C,IAAIguG,EAAUZ,EAAarrG,EAAIqsG,EAAWf,EAI1C/lD,EAAOlhD,EAAIuF,EAASrH,KAAK+d,IAAK2rF,GAC9B1mD,EAAOjhD,EAAIsF,EAASrH,KAAKge,IAAK0rF,GAE9Bp0E,EAASxlB,KAAMkzC,EAAOlhD,EAAGkhD,EAAOjhD,EAAGihD,EAAOhhD,GAI1C+8C,EAAQjvC,KAAM,EAAG,EAAG,GAIpBijB,EAAGjxB,GAAMwzB,EAAU55B,GAAM2L,EAAS,GAAM,EACxC0rB,EAAGhxB,GAAMuzB,EAAU55B,EAAI,GAAM2L,EAAS,GAAM,EAE5C23C,EAAIlvC,KAAMijB,EAAGjxB,EAAGixB,EAAGhxB,GAMvB,IAAMrG,EAAI,EAAGA,GAAKouG,EAAUpuG,IAExB+jD,EAAQ3vC,KAAMpU,EAAGA,EAAI,EAAG,GAM5BgH,KAAK+kD,SAAUhI,GACf/8C,KAAKglD,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACrE5yB,KAAKglD,aAAc,SAAU,IAAI9I,GAAwBG,EAAS,IAClEr8C,KAAKglD,aAAc,KAAM,IAAI9I,GAAwBI,EAAK,IA1wC9DspD,GAAahrG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACjDgrG,GAAahrG,UAAUmQ,YAAc66F,GAmCrCE,GAAmBlrG,UAAYlB,OAAOY,OAAQ8lG,GAAsBxlG,WACpEkrG,GAAmBlrG,UAAUmQ,YAAc+6F,GA+B3CnoG,GAAe/C,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACnD+C,GAAe/C,UAAUmQ,YAAcpN,GAgHvC2oG,GAAqB1rG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC/D0rG,GAAqB1rG,UAAUmQ,YAAcu7F,GA6B7CI,GAAa9rG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACjD8rG,GAAa9rG,UAAUmQ,YAAc27F,GAiHrCK,GAAmBnsG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC7DmsG,GAAmBnsG,UAAUmQ,YAAcg8F,GA4B3CI,GAAcvsG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WAClDusG,GAAcvsG,UAAUmQ,YAAco8F,GAmJtCE,GAAoBzsG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC9DysG,GAAoBzsG,UAAUmQ,YAAcs8F,GAiC5CK,GAAc9sG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WAClD8sG,GAAc9sG,UAAUmQ,YAAc28F,GAEtCA,GAAc9sG,UAAU60B,OAAS,WAE7B,IAAId,EAAO2rB,GAAS1/C,UAAU60B,OAAOt2B,KAAM6G,MAI3C,OAAOgoG,GAFMhoG,KAAK45C,WAAWR,OAEJzqB,IAwI7Bg5E,GAAoB/sG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC9D+sG,GAAoB/sG,UAAUmQ,YAAc48F,GAE5CA,GAAoB/sG,UAAU60B,OAAS,WAEnC,IAAId,EAAO20B,GAAe1oD,UAAU60B,OAAOt2B,KAAM6G,MAIjD,OAAOgoG,GAFMhoG,KAAK45C,WAAWR,OAEJzqB,IAqI7Bs5E,GAAcrtG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WACxDqtG,GAAcrtG,UAAUmQ,YAAck9F,GA+BtCM,GAAiB3tG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACrD2tG,GAAiB3tG,UAAUmQ,YAAcw9F,GAmRzC9qG,GAAuB7C,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WACjE6C,GAAuB7C,UAAUmQ,YAActN,GA0B/C2rG,GAAaxuG,UAAYlB,OAAOY,OAAQiuG,GAAiB3tG,WACzDwuG,GAAaxuG,UAAUmQ,YAAcq+F,GAsBrCC,GAAmBzuG,UAAYlB,OAAOY,OAAQmD,GAAuB7C,WACrEyuG,GAAmBzuG,UAAUmQ,YAAcs+F,GA4B3CC,GAAe1uG,UAAYlB,OAAOY,OAAQggD,GAAS1/C,WACnD0uG,GAAe1uG,UAAUmQ,YAAcu+F,GAmFvCC,GAAqB3uG,UAAYlB,OAAOY,OAAQgpD,GAAe1oD,WAC/D2uG,GAAqB3uG,UAAUmQ,YAAcw+F,GAI7C,IAAIC,GAA0B9vG,OAAO+vG,QACjCzW,kBAAmBA,GACnBI,mBAAoBA,GACpBI,yBAA0BA,GAC1B0B,oBAAqBA,GACrBC,0BAA2BA,GAC3BC,mBAAoBA,GACpBC,yBAA0BA,GAC1BC,oBAAqBA,GACrBC,0BAA2BA,GAC3BC,qBAAsBA,GACtBC,2BAA4BA,GAC5B7B,mBAAoBA,GACpBE,yBAA0BA,GAC1B4B,aAAcA,GACdM,mBAAoBA,GACpBY,kBAAmBA,GACnBG,wBAAyBA,GACzBS,cAAeA,GACfE,oBAAqBA,GACrBkO,aAAcA,GACdE,mBAAoBA,GACpBnoG,eAAgBA,GAChB2oG,qBAAsBA,GACtBI,aAAcA,GACdK,mBAAoBA,GACpB9hD,cAAeA,GACfC,oBAAqBA,GACrBiiD,cAAeA,GACfE,oBAAqBA,GACrBK,cAAeA,GACfC,oBAAqBA,GACrBxH,gBAAiBA,GACjBC,sBAAuBA,GACvB6H,cAAeA,GACfmB,aAAcA,GACdC,mBAAoBA,GACpBd,iBAAkBA,GAClB9qG,uBAAwBA,GACxB6rG,eAAgBA,GAChBC,qBAAsBA,GACtB9lD,YAAaA,GACbI,kBAAmBA,KAWvB,SAAS6b,GAAgB9lB,GAErBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,iBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,GACxB4D,KAAKknD,aAAc,EAEnBlnD,KAAKupD,UAAW3P,GAuBpB,SAAS8vD,GAAmB9vD,GAExB4O,GAAervD,KAAM6G,KAAM45C,GAE3B55C,KAAKgG,KAAO,oBA6DhB,SAASo5D,GAAsBxlB,GAE3BmN,GAAS5tD,KAAM6G,MAEfA,KAAKyoD,SAAYkhD,SAAY,IAE7B3pG,KAAKgG,KAAO,uBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UACxB4D,KAAKuwC,UAAY,GACjBvwC,KAAKwwC,UAAY,GAEjBxwC,KAAK6rC,IAAM,KAEX7rC,KAAK4sC,SAAW,KAChB5sC,KAAK6sC,kBAAoB,EAEzB7sC,KAAKysC,MAAQ,KACbzsC,KAAK0sC,eAAiB,EAEtB1sC,KAAKkwC,SAAW,IAAI9zC,GAAO,GAC3B4D,KAAKyqD,kBAAoB,EACzBzqD,KAAK+sC,YAAc,KAEnB/sC,KAAKitC,QAAU,KACfjtC,KAAKktC,UAAY,EAEjBltC,KAAKotC,UAAY,KACjBptC,KAAK0qD,cAAgBp1C,GACrBtV,KAAKqtC,YAAc,IAAI3mC,GAAS,EAAG,GAEnC1G,KAAKutC,gBAAkB,KACvBvtC,KAAKwtC,kBAAoB,EACzBxtC,KAAKytC,iBAAmB,EAExBztC,KAAK2tC,aAAe,KAEpB3tC,KAAK6tC,aAAe,KAEpB7tC,KAAK+rC,SAAW,KAEhB/rC,KAAKmsC,OAAS,KACdnsC,KAAKywC,gBAAkB,EAEvBzwC,KAAKssC,gBAAkB,IAEvBtsC,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAC1B5oD,KAAK6pD,iBAAmB,QACxB7pD,KAAK8pD,kBAAoB,QAEzB9pD,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EACpB16C,KAAK26C,cAAe,EAEpB36C,KAAKupD,UAAW3P,GA0EpB,SAASylB,GAAsBzlB,GAE3BwlB,GAAqBjmE,KAAM6G,MAE3BA,KAAKyoD,SAAYmhD,SAAY,IAE7B5pG,KAAKgG,KAAO,uBAEZhG,KAAKqsC,aAAe,GAEpBrsC,KAAKi1C,UAAY,EACjBj1C,KAAKk1C,mBAAqB,EAE1Bl1C,KAAKupD,UAAW3P,GA2EpB,SAAS57C,GAAmB47C,GAExBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,oBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UACxB4D,KAAKowC,SAAW,IAAIh0C,GAAO,SAC3B4D,KAAKqwC,UAAY,GAEjBrwC,KAAK6rC,IAAM,KAEX7rC,KAAK4sC,SAAW,KAChB5sC,KAAK6sC,kBAAoB,EAEzB7sC,KAAKysC,MAAQ,KACbzsC,KAAK0sC,eAAiB,EAEtB1sC,KAAKkwC,SAAW,IAAI9zC,GAAO,GAC3B4D,KAAKyqD,kBAAoB,EACzBzqD,KAAK+sC,YAAc,KAEnB/sC,KAAKitC,QAAU,KACfjtC,KAAKktC,UAAY,EAEjBltC,KAAKotC,UAAY,KACjBptC,KAAK0qD,cAAgBp1C,GACrBtV,KAAKqtC,YAAc,IAAI3mC,GAAS,EAAG,GAEnC1G,KAAKutC,gBAAkB,KACvBvtC,KAAKwtC,kBAAoB,EACzBxtC,KAAKytC,iBAAmB,EAExBztC,KAAKisC,YAAc,KAEnBjsC,KAAK+rC,SAAW,KAEhB/rC,KAAKmsC,OAAS,KACdnsC,KAAK4pD,QAAUx5C,EACfpQ,KAAKqsC,aAAe,EACpBrsC,KAAKssC,gBAAkB,IAEvBtsC,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAC1B5oD,KAAK6pD,iBAAmB,QACxB7pD,KAAK8pD,kBAAoB,QAEzB9pD,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EACpB16C,KAAK26C,cAAe,EAEpB36C,KAAKupD,UAAW3P,GAsEpB,SAASulB,GAAkBvlB,GAEvB57C,GAAkB7E,KAAM6G,MAExBA,KAAKyoD,SAAYohD,KAAQ,IAEzB7pG,KAAKgG,KAAO,mBAEZhG,KAAK+tC,YAAc,KAEnB/tC,KAAKupD,UAAW3P,GA8CpB,SAASqlB,GAAoBrlB,GAEzBmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,qBAEZhG,KAAKitC,QAAU,KACfjtC,KAAKktC,UAAY,EAEjBltC,KAAKotC,UAAY,KACjBptC,KAAK0qD,cAAgBp1C,GACrBtV,KAAKqtC,YAAc,IAAI3mC,GAAS,EAAG,GAEnC1G,KAAKutC,gBAAkB,KACvBvtC,KAAKwtC,kBAAoB,EACzBxtC,KAAKytC,iBAAmB,EAExBztC,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAE1B5oD,KAAK3D,KAAM,EACX2D,KAAKouC,QAAS,EAEdpuC,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EACpB16C,KAAK26C,cAAe,EAEpB36C,KAAKupD,UAAW3P,GAyEpB,SAASslB,GAAqBtlB,GAE1BmN,GAAS5tD,KAAM6G,MAEfA,KAAKgG,KAAO,sBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UAExB4D,KAAK6rC,IAAM,KAEX7rC,KAAK4sC,SAAW,KAChB5sC,KAAK6sC,kBAAoB,EAEzB7sC,KAAKysC,MAAQ,KACbzsC,KAAK0sC,eAAiB,EAEtB1sC,KAAKkwC,SAAW,IAAI9zC,GAAO,GAC3B4D,KAAKyqD,kBAAoB,EACzBzqD,KAAK+sC,YAAc,KAEnB/sC,KAAKisC,YAAc,KAEnBjsC,KAAK+rC,SAAW,KAEhB/rC,KAAKmsC,OAAS,KACdnsC,KAAK4pD,QAAUx5C,EACfpQ,KAAKqsC,aAAe,EACpBrsC,KAAKssC,gBAAkB,IAEvBtsC,KAAK2oD,WAAY,EACjB3oD,KAAK4oD,mBAAqB,EAC1B5oD,KAAK6pD,iBAAmB,QACxB7pD,KAAK8pD,kBAAoB,QAEzB9pD,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EACpB16C,KAAK26C,cAAe,EAEpB36C,KAAKupD,UAAW3P,GA+EpB,SAAS0lB,GAAoB1lB,GAqCzB,GAnCAmN,GAAS5tD,KAAM6G,MAEfA,KAAKyoD,SAAYqhD,OAAU,IAE3B9pG,KAAKgG,KAAO,qBAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO,UAExB4D,KAAK0wC,OAAS,KAEd1wC,KAAK6rC,IAAM,KAEX7rC,KAAKitC,QAAU,KACfjtC,KAAKktC,UAAY,EAEjBltC,KAAKotC,UAAY,KACjBptC,KAAK0qD,cAAgBp1C,GACrBtV,KAAKqtC,YAAc,IAAI3mC,GAAS,EAAG,GAEnC1G,KAAKutC,gBAAkB,KACvBvtC,KAAKwtC,kBAAoB,EACzBxtC,KAAKytC,iBAAmB,EAExBztC,KAAK+rC,SAAW,KAEhB/rC,KAAK8oD,UAAW,EAChB9oD,KAAK06C,cAAe,EACpB16C,KAAK26C,cAAe,EAEpB36C,KAAKouC,QAAS,EAEdpuC,KAAKupD,UAAW3P,GAIK,OAAhB55C,KAAK0wC,OAAkB,CAExB,IAAI1kB,EAASnwB,SAAS8D,cAAe,UACrCqsB,EAAO3T,MAAQ,EACf2T,EAAO1T,OAAS,EAEhB,IAAI6T,EAAUH,EAAOI,WAAY,MAEjCD,EAAQ49E,UAAY,OACpB59E,EAAQ69E,SAAU,EAAG,EAAG,EAAG,GAE3BhqG,KAAK0wC,OAAS,IAAIz0C,MAAM62F,cAAe9mE,IA2D/C,SAASwzC,GAAoB5lB,GAEzB2lB,GAAkBpmE,KAAM6G,MAExBA,KAAKgG,KAAO,qBAEZhG,KAAKd,MAAQ,EACbc,KAAK4wC,SAAW,EAChB5wC,KAAK4qD,QAAU,EAEf5qD,KAAKupD,UAAW3P,GA5yBpB8lB,GAAe9kE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACnD8kE,GAAe9kE,UAAUmQ,YAAc20D,GAEvCA,GAAe9kE,UAAU60F,kBAAmB,EAE5C/vB,GAAe9kE,UAAUuI,KAAO,SAAW2J,GAMvC,OAJAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAEjB+B,MAgBX0pG,GAAkB9uG,UAAYlB,OAAOY,OAAQkuD,GAAe5tD,WAC5D8uG,GAAkB9uG,UAAUmQ,YAAc2+F,GAE1CA,GAAkB9uG,UAAU0gE,qBAAsB,EAiHlD8D,GAAqBxkE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACzDwkE,GAAqBxkE,UAAUmQ,YAAcq0D,GAE7CA,GAAqBxkE,UAAU2yF,wBAAyB,EAExDnuB,GAAqBxkE,UAAUuI,KAAO,SAAW2J,GAqD7C,OAnDAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAKyoD,SAAYkhD,SAAY,IAE7B3pG,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OACxB+B,KAAKuwC,UAAYzjC,EAAOyjC,UACxBvwC,KAAKwwC,UAAY1jC,EAAO0jC,UAExBxwC,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK4sC,SAAW9/B,EAAO8/B,SACvB5sC,KAAK6sC,kBAAoB//B,EAAO+/B,kBAEhC7sC,KAAKysC,MAAQ3/B,EAAO2/B,MACpBzsC,KAAK0sC,eAAiB5/B,EAAO4/B,eAE7B1sC,KAAKkwC,SAAS/sC,KAAM2J,EAAOojC,UAC3BlwC,KAAK+sC,YAAcjgC,EAAOigC,YAC1B/sC,KAAKyqD,kBAAoB39C,EAAO29C,kBAEhCzqD,KAAKitC,QAAUngC,EAAOmgC,QACtBjtC,KAAKktC,UAAYpgC,EAAOogC,UAExBltC,KAAKotC,UAAYtgC,EAAOsgC,UACxBptC,KAAK0qD,cAAgB59C,EAAO49C,cAC5B1qD,KAAKqtC,YAAYlqC,KAAM2J,EAAOugC,aAE9BrtC,KAAKutC,gBAAkBzgC,EAAOygC,gBAC9BvtC,KAAKwtC,kBAAoB1gC,EAAO0gC,kBAChCxtC,KAAKytC,iBAAmB3gC,EAAO2gC,iBAE/BztC,KAAK2tC,aAAe7gC,EAAO6gC,aAE3B3tC,KAAK6tC,aAAe/gC,EAAO+gC,aAE3B7tC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAKmsC,OAASr/B,EAAOq/B,OACrBnsC,KAAKywC,gBAAkB3jC,EAAO2jC,gBAE9BzwC,KAAKssC,gBAAkBx/B,EAAOw/B,gBAE9BtsC,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBACjC5oD,KAAK6pD,iBAAmB/8C,EAAO+8C,iBAC/B7pD,KAAK8pD,kBAAoBh9C,EAAOg9C,kBAEhC9pD,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAC3B16C,KAAK26C,aAAe7tC,EAAO6tC,aAEpB36C,MA6BXq/D,GAAqBzkE,UAAYlB,OAAOY,OAAQ8kE,GAAqBxkE,WACrEykE,GAAqBzkE,UAAUmQ,YAAcs0D,GAE7CA,GAAqBzkE,UAAU2zF,wBAAyB,EAExDlvB,GAAqBzkE,UAAUuI,KAAO,SAAW2J,GAW7C,OATAsyD,GAAqBxkE,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEhD9M,KAAKyoD,SAAYmhD,SAAY,IAE7B5pG,KAAKqsC,aAAev/B,EAAOu/B,aAE3BrsC,KAAKi1C,UAAYnoC,EAAOmoC,UACxBj1C,KAAKk1C,mBAAqBpoC,EAAOooC,mBAE1Bl1C,MA8GXhC,GAAkBpD,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACtDoD,GAAkBpD,UAAUmQ,YAAc/M,GAE1CA,GAAkBpD,UAAU0yF,qBAAsB,EAElDtvF,GAAkBpD,UAAUuI,KAAO,SAAW2J,GAiD1C,OA/CAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OACxB+B,KAAKowC,SAASjtC,KAAM2J,EAAOsjC,UAC3BpwC,KAAKqwC,UAAYvjC,EAAOujC,UAExBrwC,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK4sC,SAAW9/B,EAAO8/B,SACvB5sC,KAAK6sC,kBAAoB//B,EAAO+/B,kBAEhC7sC,KAAKysC,MAAQ3/B,EAAO2/B,MACpBzsC,KAAK0sC,eAAiB5/B,EAAO4/B,eAE7B1sC,KAAKkwC,SAAS/sC,KAAM2J,EAAOojC,UAC3BlwC,KAAK+sC,YAAcjgC,EAAOigC,YAC1B/sC,KAAKyqD,kBAAoB39C,EAAO29C,kBAEhCzqD,KAAKitC,QAAUngC,EAAOmgC,QACtBjtC,KAAKktC,UAAYpgC,EAAOogC,UAExBltC,KAAKotC,UAAYtgC,EAAOsgC,UACxBptC,KAAK0qD,cAAgB59C,EAAO49C,cAC5B1qD,KAAKqtC,YAAYlqC,KAAM2J,EAAOugC,aAE9BrtC,KAAKutC,gBAAkBzgC,EAAOygC,gBAC9BvtC,KAAKwtC,kBAAoB1gC,EAAO0gC,kBAChCxtC,KAAKytC,iBAAmB3gC,EAAO2gC,iBAE/BztC,KAAKisC,YAAcn/B,EAAOm/B,YAE1BjsC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAKmsC,OAASr/B,EAAOq/B,OACrBnsC,KAAK4pD,QAAU98C,EAAO88C,QACtB5pD,KAAKqsC,aAAev/B,EAAOu/B,aAC3BrsC,KAAKssC,gBAAkBx/B,EAAOw/B,gBAE9BtsC,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBACjC5oD,KAAK6pD,iBAAmB/8C,EAAO+8C,iBAC/B7pD,KAAK8pD,kBAAoBh9C,EAAOg9C,kBAEhC9pD,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAC3B16C,KAAK26C,aAAe7tC,EAAO6tC,aAEpB36C,MA0BXm/D,GAAiBvkE,UAAYlB,OAAOY,OAAQ0D,GAAkBpD,WAC9DukE,GAAiBvkE,UAAUmQ,YAAco0D,GAEzCA,GAAiBvkE,UAAUwzF,oBAAqB,EAEhDjvB,GAAiBvkE,UAAUuI,KAAO,SAAW2J,GAMzC,OAJA9O,GAAkBpD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAE7C9M,KAAK+tC,YAAcjhC,EAAOihC,YAEnB/tC,MA8DXi/D,GAAmBrkE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACvDqkE,GAAmBrkE,UAAUmQ,YAAck0D,GAE3CA,GAAmBrkE,UAAUm0F,sBAAuB,EAEpD9vB,GAAmBrkE,UAAUuI,KAAO,SAAW2J,GAsB3C,OApBAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAKitC,QAAUngC,EAAOmgC,QACtBjtC,KAAKktC,UAAYpgC,EAAOogC,UAExBltC,KAAKotC,UAAYtgC,EAAOsgC,UACxBptC,KAAK0qD,cAAgB59C,EAAO49C,cAC5B1qD,KAAKqtC,YAAYlqC,KAAM2J,EAAOugC,aAE9BrtC,KAAKutC,gBAAkBzgC,EAAOygC,gBAC9BvtC,KAAKwtC,kBAAoB1gC,EAAO0gC,kBAChCxtC,KAAKytC,iBAAmB3gC,EAAO2gC,iBAE/BztC,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBAEjC5oD,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAC3B16C,KAAK26C,aAAe7tC,EAAO6tC,aAEpB36C,MAoFXk/D,GAAoBtkE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACxDskE,GAAoBtkE,UAAUmQ,YAAcm0D,GAE5CA,GAAoBtkE,UAAU8yF,uBAAwB,EAEtDxuB,GAAoBtkE,UAAUuI,KAAO,SAAW2J,GAoC5C,OAlCAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAExB+B,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAK4sC,SAAW9/B,EAAO8/B,SACvB5sC,KAAK6sC,kBAAoB//B,EAAO+/B,kBAEhC7sC,KAAKysC,MAAQ3/B,EAAO2/B,MACpBzsC,KAAK0sC,eAAiB5/B,EAAO4/B,eAE7B1sC,KAAKkwC,SAAS/sC,KAAM2J,EAAOojC,UAC3BlwC,KAAK+sC,YAAcjgC,EAAOigC,YAC1B/sC,KAAKyqD,kBAAoB39C,EAAO29C,kBAEhCzqD,KAAKisC,YAAcn/B,EAAOm/B,YAE1BjsC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAKmsC,OAASr/B,EAAOq/B,OACrBnsC,KAAK4pD,QAAU98C,EAAO88C,QACtB5pD,KAAKqsC,aAAev/B,EAAOu/B,aAC3BrsC,KAAKssC,gBAAkBx/B,EAAOw/B,gBAE9BtsC,KAAK2oD,UAAY77C,EAAO67C,UACxB3oD,KAAK4oD,mBAAqB97C,EAAO87C,mBACjC5oD,KAAK6pD,iBAAmB/8C,EAAO+8C,iBAC/B7pD,KAAK8pD,kBAAoBh9C,EAAOg9C,kBAEhC9pD,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAC3B16C,KAAK26C,aAAe7tC,EAAO6tC,aAEpB36C,MAwFXs/D,GAAmB1kE,UAAYlB,OAAOY,OAAQysD,GAASnsD,WACvD0kE,GAAmB1kE,UAAUmQ,YAAcu0D,GAE3CA,GAAmB1kE,UAAU8zF,sBAAuB,EAEpDpvB,GAAmB1kE,UAAUuI,KAAO,SAAW2J,GA6B3C,OA3BAi6C,GAASnsD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAKyoD,SAAYqhD,OAAU,IAE3B9pG,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OAExB+B,KAAK0wC,OAAS5jC,EAAO4jC,OAErB1wC,KAAK6rC,IAAM/+B,EAAO++B,IAElB7rC,KAAKitC,QAAUngC,EAAOmgC,QACtBjtC,KAAKktC,UAAYpgC,EAAOogC,UAExBltC,KAAKotC,UAAYtgC,EAAOsgC,UACxBptC,KAAK0qD,cAAgB59C,EAAO49C,cAC5B1qD,KAAKqtC,YAAYlqC,KAAM2J,EAAOugC,aAE9BrtC,KAAKutC,gBAAkBzgC,EAAOygC,gBAC9BvtC,KAAKwtC,kBAAoB1gC,EAAO0gC,kBAChCxtC,KAAKytC,iBAAmB3gC,EAAO2gC,iBAE/BztC,KAAK+rC,SAAWj/B,EAAOi/B,SAEvB/rC,KAAK8oD,SAAWh8C,EAAOg8C,SACvB9oD,KAAK06C,aAAe5tC,EAAO4tC,aAC3B16C,KAAK26C,aAAe7tC,EAAO6tC,aAEpB36C,MAiCXw/D,GAAmB5kE,UAAYlB,OAAOY,OAAQilE,GAAkB3kE,WAChE4kE,GAAmB5kE,UAAUmQ,YAAcy0D,GAE3CA,GAAmB5kE,UAAUu0F,sBAAuB,EAEpD3vB,GAAmB5kE,UAAUuI,KAAO,SAAW2J,GAQ3C,OANAyyD,GAAkB3kE,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAE7C9M,KAAKd,MAAQ4N,EAAO5N,MACpBc,KAAK4wC,SAAW9jC,EAAO8jC,SACvB5wC,KAAK4qD,QAAU99C,EAAO89C,QAEf5qD,MAMX,IAAIiqG,GAAyBvwG,OAAO+vG,QAChC/pC,eAAgBA,GAChBC,eAAgBA,GAChB+pC,kBAAmBA,GACnBlhD,eAAgBA,GAChBiX,eAAgBA,GAChBJ,qBAAsBA,GACtBD,qBAAsBA,GACtBphE,kBAAmBA,GACnBmhE,iBAAkBA,GAClBF,mBAAoBA,GACpBC,oBAAqBA,GACrBH,kBAAmBA,GACnBC,qBAAsBA,GACtBrV,kBAAmBA,GACnB2V,mBAAoBA,GACpBE,mBAAoBA,GACpBD,kBAAmBA,GACnBxY,SAAUA,KAOVmjD,IAEAtpG,SAAS,EAETupG,SAEA1qG,IAAK,SAAWlF,EAAK6vG,IAEK,IAAjBpqG,KAAKY,UAIVZ,KAAKmqG,MAAO5vG,GAAQ6vG,IAIxBvwG,IAAK,SAAWU,GAEZ,IAAsB,IAAjByF,KAAKY,QAIV,OAAOZ,KAAKmqG,MAAO5vG,IAIvB2F,OAAQ,SAAW3F,UAERyF,KAAKmqG,MAAO5vG,IAIvB2tE,MAAO,WAEHloE,KAAKmqG,WAUb,SAASE,GAAgBC,EAAQC,EAAYC,GAEzC,IAAItnG,EAAQlD,KAERyqG,GAAY,EACZC,EAAc,EACdC,EAAa,EACbC,OAAcjqG,EAKlBX,KAAK6qG,aAAUlqG,EACfX,KAAKsqG,OAASA,EACdtqG,KAAKuqG,WAAaA,EAClBvqG,KAAKwqG,QAAUA,EAEfxqG,KAAK8qG,UAAY,SAAW76E,GAExB06E,KAEmB,IAAdF,QAEsB9pG,IAAlBuC,EAAM2nG,SAEP3nG,EAAM2nG,QAAS56E,EAAKy6E,EAAaC,GAMzCF,GAAY,GAIhBzqG,KAAK+qG,QAAU,SAAW96E,GAEtBy6E,SAE0B/pG,IAArBuC,EAAMqnG,YAEPrnG,EAAMqnG,WAAYt6E,EAAKy6E,EAAaC,GAInCD,IAAgBC,IAEjBF,GAAY,OAEU9pG,IAAjBuC,EAAMonG,QAEPpnG,EAAMonG,WAQlBtqG,KAAKgrG,UAAY,SAAW/6E,QAEDtvB,IAAlBuC,EAAMsnG,SAEPtnG,EAAMsnG,QAASv6E,IAMvBjwB,KAAKirG,WAAa,SAAWh7E,GAEzB,OAAK26E,EAEMA,EAAa36E,GAIjBA,GAIXjwB,KAAKkrG,eAAiB,SAAWC,GAG7B,OADAP,EAAcO,EACPnrG,MAMf,IAAIorG,GAAwB,IAAIf,GAM5BgB,MAEJ,SAASC,GAAYC,GAEjBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAwTzD,SAASI,GAAyBD,GAE9BvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAGrDprG,KAAKyrG,QAAU,KAiInB,SAASC,GAAmBH,GAExBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAGrDprG,KAAKyrG,QAAU,KAkFnB,SAASE,GAAaJ,GAElBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAqGzD,SAASQ,GAAmBL,GAExBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAqEzD,SAASS,GAAeN,GAEpBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAyFzD,SAASU,KAEL9rG,KAAKgG,KAAO,QAEZhG,KAAK+rG,mBAAqB,IA4X9B,SAASC,GAAcC,EAAIC,EAAIC,EAASC,EAASC,EAAaC,EAAWC,EAAYC,GAEjFV,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,eAEZhG,KAAKisG,GAAKA,GAAM,EAChBjsG,KAAKksG,GAAKA,GAAM,EAEhBlsG,KAAKmsG,QAAUA,GAAW,EAC1BnsG,KAAKosG,QAAUA,GAAW,EAE1BpsG,KAAKqsG,YAAcA,GAAe,EAClCrsG,KAAKssG,UAAYA,GAAa,EAAIhvG,KAAKC,GAEvCyC,KAAKusG,WAAaA,IAAc,EAEhCvsG,KAAKwsG,UAAYA,GAAa,EAuIlC,SAASC,GAAUR,EAAIC,EAAIQ,EAASL,EAAaC,EAAWC,GAExDP,GAAa7yG,KAAM6G,KAAMisG,EAAIC,EAAIQ,EAASA,EAASL,EAAaC,EAAWC,GAE3EvsG,KAAKgG,KAAO,WA+BhB,SAAS2mG,KAEL,IAAIC,EAAK,EAAG1mF,EAAK,EAAGC,EAAK,EAAGC,EAAK,EAUjC,SAAS9lB,EAAM6kB,EAAII,EAAI+mC,EAAIC,GAEvBqgD,EAAKznF,EACLe,EAAKomC,EACLnmC,GAAO,EAAIhB,EAAK,EAAII,EAAK,EAAI+mC,EAAKC,EAClCnmC,EAAK,EAAIjB,EAAK,EAAII,EAAK+mC,EAAKC,EAIhC,OAEIsgD,eAAgB,SAAW1nF,EAAII,EAAIzC,EAAIgqF,EAAIC,GAEvCzsG,EAAMilB,EAAIzC,EAAIiqF,GAAYjqF,EAAKqC,GAAM4nF,GAAYD,EAAKvnF,KAI1DynF,yBAA0B,SAAW7nF,EAAII,EAAIzC,EAAIgqF,EAAIG,EAAKC,EAAKC,GAG3D,IAAI5gD,GAAOhnC,EAAKJ,GAAO8nF,GAAQnqF,EAAKqC,IAAS8nF,EAAMC,IAAUpqF,EAAKyC,GAAO2nF,EACrEE,GAAOtqF,EAAKyC,GAAO2nF,GAAQJ,EAAKvnF,IAAS2nF,EAAMC,IAAUL,EAAKhqF,GAAOqqF,EAMzE7sG,EAAMilB,EAAIzC,EAHVypC,GAAM2gD,EACNE,GAAMF,IAMVG,KAAM,SAAWnzG,GAEb,IAAIkzG,EAAKlzG,EAAIA,EAEb,OAAO0yG,EAAK1mF,EAAKhsB,EAAIisB,EAAKinF,EAAKhnF,GADtBgnF,EAAKlzG,KAn4C1BR,OAAO+S,OAAQ6+F,GAAW1wG,WAEtB0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,QAEzB7pG,IAARsvB,IAAoBA,EAAM,SAEZtvB,IAAdX,KAAK62D,OAAqB5mC,EAAMjwB,KAAK62D,KAAO5mC,GAEjDA,EAAMjwB,KAAKurG,QAAQN,WAAYh7E,GAE/B,IAAI/sB,EAAQlD,KAERutG,EAASrD,GAAMrwG,IAAKo2B,GAExB,QAAgBtvB,IAAX4sG,EAYD,OAVArqG,EAAMqoG,QAAQT,UAAW76E,GAEzBu9E,WAAY,WAEHlD,GAASA,EAAQiD,GAEtBrqG,EAAMqoG,QAAQR,QAAS96E,IAExB,GAEIs9E,EAMX,QAAwB5sG,IAAnB0qG,GAASp7E,GAAd,CAeA,IACIw9E,EAAqBx9E,EAAIzjB,MADV,+BAInB,GAAKihG,EAAqB,CAEtB,IAAIC,EAAWD,EAAoB,GAC/BE,IAAcF,EAAoB,GAClC9+E,EAAO8+E,EAAoB,GAE/B9+E,EAAOrzB,OAAOsyG,mBAAoBj/E,GAE7Bg/E,IAAWh/E,EAAOrzB,OAAOuyG,KAAMl/E,IAEpC,IAEI,IAAIm/E,EACAC,GAAiB/tG,KAAK+tG,cAAgB,IAAKC,cAE/C,OAASD,GAEL,IAAK,cACL,IAAK,OAID,IAFA,IAAI/6B,EAAO,IAAIj/B,WAAYplB,EAAK5uB,QAEtB/G,EAAI,EAAGA,EAAI21B,EAAK5uB,OAAQ/G,IAE9Bg6E,EAAMh6E,GAAM21B,EAAKs/E,WAAYj1G,GAM7B80G,EAFkB,SAAjBC,EAEU,IAAIG,MAAQl7B,EAAKzgC,SAAYvsC,KAAM0nG,IAInC16B,EAAKzgC,OAIpB,MAEJ,IAAK,WAED,IAAI47D,EAAS,IAAIC,UACjBN,EAAWK,EAAOE,gBAAiB1/E,EAAM++E,GAEzC,MAEJ,IAAK,OAEDI,EAAWv0D,KAAKY,MAAOxrB,GAEvB,MAEJ,QAEIm/E,EAAWn/E,EAOnBrzB,OAAOkyG,WAAY,WAEVlD,GAASA,EAAQwD,GAEtB5qG,EAAMqoG,QAAQR,QAAS96E,IAExB,GAEL,MAAQnY,GAGNxc,OAAOkyG,WAAY,WAEVhD,GAAUA,EAAS1yF,GAExB5U,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,IAE1B,QAIJ,CAIHo7E,GAASp7E,MAETo7E,GAASp7E,GAAM7iB,MAEXk9F,OAAQA,EACRC,WAAYA,EACZC,QAASA,IAIb,IAAI8D,EAAU,IAAIC,eAoGlB,IAAM,IAAIC,KAlGVF,EAAQG,KAAM,MAAOx+E,GAAK,GAE1Bq+E,EAAQxvG,iBAAkB,OAAQ,SAAWsK,GAEzC,IAAI0kG,EAAW9tG,KAAK8tG,SAEpB5D,GAAMzqG,IAAKwwB,EAAK69E,GAEhB,IAAIY,EAAYrD,GAASp7E,GAIzB,UAFOo7E,GAASp7E,GAEK,MAAhBjwB,KAAK2uG,QAAkC,IAAhB3uG,KAAK2uG,OAAe,CAKvB,IAAhB3uG,KAAK2uG,QAAe7lG,QAAQC,KAAM,6CAEvC,IAAM,IAAI/P,EAAI,EAAG04B,EAAKg9E,EAAU3uG,OAAQ/G,EAAI04B,EAAI14B,IAAO,EAE/C2vB,EAAW+lF,EAAW11G,IACZsxG,QAAS3hF,EAAS2hF,OAAQwD,GAI5C5qG,EAAMqoG,QAAQR,QAAS96E,OAEpB,CAEH,IAAUj3B,EAAI,EAAG04B,EAAKg9E,EAAU3uG,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEnD,IAAI2vB,GAAAA,EAAW+lF,EAAW11G,IACZwxG,SAAU7hF,EAAS6hF,QAASphG,GAI9ClG,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,MAI9B,GAEHq+E,EAAQxvG,iBAAkB,WAAY,SAAWsK,GAI7C,IAFA,IAAIslG,EAAYrD,GAASp7E,GAEfj3B,EAAI,EAAG04B,EAAKg9E,EAAU3uG,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEnD,IAAI2vB,EAAW+lF,EAAW11G,GACrB2vB,EAAS4hF,YAAa5hF,EAAS4hF,WAAYnhG,MAIrD,GAEHklG,EAAQxvG,iBAAkB,QAAS,SAAWsK,GAE1C,IAAIslG,EAAYrD,GAASp7E,UAElBo7E,GAASp7E,GAEhB,IAAM,IAAIj3B,EAAI,EAAG04B,EAAKg9E,EAAU3uG,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEnD,IAAI2vB,EAAW+lF,EAAW11G,GACrB2vB,EAAS6hF,SAAU7hF,EAAS6hF,QAASphG,GAI9ClG,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,KAE1B,GAEHq+E,EAAQxvG,iBAAkB,QAAS,SAAWsK,GAE1C,IAAIslG,EAAYrD,GAASp7E,UAElBo7E,GAASp7E,GAEhB,IAAM,IAAIj3B,EAAI,EAAG04B,EAAKg9E,EAAU3uG,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEnD,IAAI2vB,EAAW+lF,EAAW11G,GACrB2vB,EAAS6hF,SAAU7hF,EAAS6hF,QAASphG,GAI9ClG,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,KAE1B,QAEwBtvB,IAAtBX,KAAK+tG,eAA6BO,EAAQP,aAAe/tG,KAAK+tG,mBACrCptG,IAAzBX,KAAK4uG,kBAAgCN,EAAQM,gBAAkB5uG,KAAK4uG,iBAEpEN,EAAQO,kBAAmBP,EAAQO,sBAAoCluG,IAAlBX,KAAK0tG,SAAyB1tG,KAAK0tG,SAAW,cAEpF1tG,KAAK8uG,cAErBR,EAAQS,iBAAkBP,EAAQxuG,KAAK8uG,cAAeN,IAI1DF,EAAQU,KAAM,MAMlB,OAFA9rG,EAAMqoG,QAAQT,UAAW76E,GAElBq+E,EAnOHjD,GAASp7E,GAAM7iB,MAEXk9F,OAAQA,EACRC,WAAYA,EACZC,QAASA,KAmOrByE,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,MAIXkvG,gBAAiB,SAAWj1G,GAGxB,OADA+F,KAAK+tG,aAAe9zG,EACb+F,MAIXmvG,mBAAoB,SAAWl1G,GAG3B,OADA+F,KAAK4uG,gBAAkB30G,EAChB+F,MAIXovG,YAAa,SAAWn1G,GAGpB,OADA+F,KAAK0tG,SAAWzzG,EACT+F,MAIX+uG,iBAAkB,SAAW90G,GAGzB,OADA+F,KAAK8uG,cAAgB70G,EACd+F,QAqBftG,OAAO+S,OAAQ++F,GAAwB5wG,WAEnC0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAItnG,EAAQlD,KAERgwB,KAEA7B,EAAU,IAAI0kE,GAClB1kE,EAAQpC,MAAQiE,EAEhB,IAAIq/E,EAAS,IAAI/D,GAAYtrG,KAAKurG,SAIlC,SAAS+D,EAAat2G,GAElBq2G,EAAO/B,KAAMr9E,EAAKj3B,GAAK,SAAWu5C,GAE9B,IAAIg9D,EAAWrsG,EAAMuoG,QAASl5D,GAAQ,GAEtCviB,EAAQh3B,IACJqf,MAAOk3F,EAASl3F,MAChBC,OAAQi3F,EAASj3F,OACjB0U,OAAQuiF,EAASviF,OACjBI,QAASmiF,EAASniF,SAKN,KAFhBoiF,GAAU,KAIwB,IAAzBD,EAASE,cACVthF,EAAQpB,UAAYtb,IAExB0c,EAAQnB,OAASuiF,EAASviF,OAC1BmB,EAAQy3B,aAAc,EAEjB0kD,GAASA,EAAQn8E,KAI3Bo8E,EAAYC,GAInB,GAlCA6E,EAAOJ,QAASjvG,KAAK62D,MACrBw4C,EAAOH,gBAAiB,eAiCnBh/E,MAAMC,QAASF,GAIhB,IAFA,IAAIu/E,EAAS,EAEHx2G,EAAI,EAAG04B,EAAKzB,EAAIlwB,OAAQ/G,EAAI04B,IAAO14B,EAEzCs2G,EAAat2G,QAQjBq2G,EAAO/B,KAAMr9E,EAAK,SAAWsiB,GAEzB,IAAIg9D,EAAWrsG,EAAMuoG,QAASl5D,GAAQ,GAEtC,GAAKg9D,EAASG,UAIV,IAFA,IAAIl1D,EAAQ+0D,EAASniF,QAAQrtB,OAASwvG,EAASE,YAErCjyF,EAAI,EAAGA,EAAIg9B,EAAOh9B,IAAO,CAE/BwS,EAAQxS,IAAQ4P,YAEhB,IAAM,IAAIp0B,EAAI,EAAGA,EAAIu2G,EAASE,YAAaz2G,IAEvCg3B,EAAQxS,GAAI4P,QAAQhgB,KAAMmiG,EAASniF,QAAS5P,EAAI+xF,EAASE,YAAcz2G,IACvEg3B,EAAQxS,GAAIwP,OAASuiF,EAASviF,OAC9BgD,EAAQxS,GAAInF,MAAQk3F,EAASl3F,MAC7B2X,EAAQxS,GAAIlF,OAASi3F,EAASj3F,YAQtC6V,EAAQpC,MAAM1T,MAAQk3F,EAASl3F,MAC/B8V,EAAQpC,MAAMzT,OAASi3F,EAASj3F,OAChC6V,EAAQf,QAAUmiF,EAASniF,QAID,IAAzBmiF,EAASE,cAEVthF,EAAQpB,UAAYtb,IAIxB0c,EAAQnB,OAASuiF,EAASviF,OAC1BmB,EAAQy3B,aAAc,EAEjB0kD,GAASA,EAAQn8E,IAEvBo8E,EAAYC,GAInB,OAAOr8E,GAIX8gF,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,QAqBftG,OAAO+S,OAAQi/F,GAAkB9wG,WAE7B0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAItnG,EAAQlD,KAERmuB,EAAU,IAAIO,GAEd2gF,EAAS,IAAI/D,GAAYtrG,KAAKurG,SA2DlC,OA1DA8D,EAAOH,gBAAiB,eAExBG,EAAO/B,KAAMr9E,EAAK,SAAWsiB,GAEzB,IAAIo9D,EAAUzsG,EAAMuoG,QAASl5D,GAEtBo9D,SAEFhvG,IAAcgvG,EAAQ5jF,MAEvBoC,EAAQpC,MAAQ4jF,EAAQ5jF,WAEhBprB,IAAcgvG,EAAQhhF,OAE9BR,EAAQpC,MAAM1T,MAAQs3F,EAAQt3F,MAC9B8V,EAAQpC,MAAMzT,OAASq3F,EAAQr3F,OAC/B6V,EAAQpC,MAAM4C,KAAOghF,EAAQhhF,MAIjCR,EAAQvB,WAAQjsB,IAAcgvG,EAAQ/iF,MAAQ+iF,EAAQ/iF,MAAQxb,GAC9D+c,EAAQtB,WAAQlsB,IAAcgvG,EAAQ9iF,MAAQ8iF,EAAQ9iF,MAAQzb,GAE9D+c,EAAQrB,eAAYnsB,IAAcgvG,EAAQ7iF,UAAY6iF,EAAQ7iF,UAAYrb,GAC1E0c,EAAQpB,eAAYpsB,IAAcgvG,EAAQ5iF,UAAY4iF,EAAQ5iF,UAAYpb,GAE1Ewc,EAAQlB,gBAAatsB,IAAcgvG,EAAQ1iF,WAAa0iF,EAAQ1iF,WAAa,OAExEtsB,IAAcgvG,EAAQ3iF,SAEvBmB,EAAQnB,OAAS2iF,EAAQ3iF,aAGxBrsB,IAAcgvG,EAAQ3pG,OAEvBmoB,EAAQnoB,KAAO2pG,EAAQ3pG,WAItBrF,IAAcgvG,EAAQviF,UAEvBe,EAAQf,QAAUuiF,EAAQviF,SAIzB,IAAMuiF,EAAQF,cAEfthF,EAAQpB,UAAYtb,IAIxB0c,EAAQy3B,aAAc,EAEjB0kD,GAASA,EAAQn8E,EAASwhF,KAEhCpF,EAAYC,GAGRr8E,KAiBfz0B,OAAO+S,OAAQk/F,GAAY/wG,WAEvBg1G,YAAa,YAEbtC,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,QAEzB7pG,IAARsvB,IAAoBA,EAAM,SAEZtvB,IAAdX,KAAK62D,OAAqB5mC,EAAMjwB,KAAK62D,KAAO5mC,GAEjDA,EAAMjwB,KAAKurG,QAAQN,WAAYh7E,GAE/B,IAAI/sB,EAAQlD,KAERutG,EAASrD,GAAMrwG,IAAKo2B,GAExB,QAAgBtvB,IAAX4sG,EAYD,OAVArqG,EAAMqoG,QAAQT,UAAW76E,GAEzBu9E,WAAY,WAEHlD,GAASA,EAAQiD,GAEtBrqG,EAAMqoG,QAAQR,QAAS96E,IAExB,GAEIs9E,EAIX,IAAIxhF,EAAQlwB,SAASqwB,gBAAiB,+BAAgC,OAEtE,SAAS2jF,IAEL9jF,EAAMzmB,oBAAqB,OAAQuqG,GAAa,GAChD9jF,EAAMzmB,oBAAqB,QAASwqG,GAAc,GAElD5F,GAAMzqG,IAAKwwB,EAAKjwB,MAEXsqG,GAASA,EAAQtqG,MAEtBkD,EAAMqoG,QAAQR,QAAS96E,GAI3B,SAAS6/E,EAAc1mG,GAEnB2iB,EAAMzmB,oBAAqB,OAAQuqG,GAAa,GAChD9jF,EAAMzmB,oBAAqB,QAASwqG,GAAc,GAE7CtF,GAAUA,EAASphG,GAExBlG,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,GAiB7B,OAbAlE,EAAMjtB,iBAAkB,OAAQ+wG,GAAa,GAC7C9jF,EAAMjtB,iBAAkB,QAASgxG,GAAc,GAEnB,UAAvB7/E,EAAI8/E,OAAQ,EAAG,SAEUpvG,IAArBX,KAAK4vG,cAA4B7jF,EAAM6jF,YAAc5vG,KAAK4vG,aAInE1sG,EAAMqoG,QAAQT,UAAW76E,GAEzBlE,EAAMikF,IAAM//E,EAELlE,GAIXkkF,eAAgB,SAAWh2G,GAGvB,OADA+F,KAAK4vG,YAAc31G,EACZ+F,MAIXivG,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,QAiBftG,OAAO+S,OAAQm/F,GAAkBhxG,WAE7Bg1G,YAAa,YAEbtC,KAAM,SAAW4C,EAAM5F,EAAQC,EAAYC,GAEvC,IAAIr8E,EAAU,IAAI+7B,GAEdmlD,EAAS,IAAI1D,GAAa3rG,KAAKurG,SACnC8D,EAAOY,eAAgBjwG,KAAK4vG,aAC5BP,EAAOJ,QAASjvG,KAAK62D,MAErB,IAAI24C,EAAS,EAEb,SAASF,EAAat2G,GAElBq2G,EAAO/B,KAAM4C,EAAMl3G,GAAK,SAAW+yB,GAE/BoC,EAAQ6B,OAAQh3B,GAAM+yB,EAIN,MAFhByjF,IAIIrhF,EAAQy3B,aAAc,EAEjB0kD,GAASA,EAAQn8E,UAI3BxtB,EAAW6pG,GAIlB,IAAM,IAAIxxG,EAAI,EAAGA,EAAIk3G,EAAKnwG,SAAW/G,EAEjCs2G,EAAat2G,GAIjB,OAAOm1B,GAIX8hF,eAAgB,SAAWh2G,GAGvB,OADA+F,KAAK4vG,YAAc31G,EACZ+F,MAIXivG,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,QAiBftG,OAAO+S,OAAQo/F,GAAcjxG,WAEzBg1G,YAAa,YAEbtC,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAIr8E,EAAU,IAAIzB,GAEd2iF,EAAS,IAAI1D,GAAa3rG,KAAKurG,SAsBnC,OArBA8D,EAAOY,eAAgBjwG,KAAK4vG,aAC5BP,EAAOJ,QAASjvG,KAAK62D,MAErBw4C,EAAO/B,KAAMr9E,EAAK,SAAWlE,GAEzBoC,EAAQpC,MAAQA,EAGhB,IAAIokF,EAASlgF,EAAImgF,OAAQ,aAAgB,GAA4C,IAAvCngF,EAAImgF,OAAQ,sBAE1DjiF,EAAQnB,OAASmjF,EAAS19F,GAAYC,GACtCyb,EAAQy3B,aAAc,OAENjlD,IAAX2pG,GAEDA,EAAQn8E,IAIbo8E,EAAYC,GAERr8E,GAIX8hF,eAAgB,SAAWh2G,GAGvB,OADA+F,KAAK4vG,YAAc31G,EACZ+F,MAIXivG,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,QAiDftG,OAAO+S,OAAQq/F,GAAMlxG,WAKjBy1G,SAAU,WAGN,OADAvnG,QAAQC,KAAM,6CACP,MAOXwtF,WAAY,SAAW/2D,EAAG8wE,GAEtB,IAAIp2G,EAAI8F,KAAKuwG,eAAgB/wE,GAC7B,OAAOx/B,KAAKqwG,SAAUn2G,EAAGo2G,IAM7BE,UAAW,SAAWC,QAEC9vG,IAAd8vG,IAA0BA,EAAY,GAI3C,IAFA,IAAIj/E,KAEMl4B,EAAI,EAAGA,GAAKm3G,EAAWn3G,IAE7Bk4B,EAAOpkB,KAAMpN,KAAKqwG,SAAU/2G,EAAIm3G,IAIpC,OAAOj/E,GAMXkwE,gBAAiB,SAAW+O,QAEL9vG,IAAd8vG,IAA0BA,EAAY,GAI3C,IAFA,IAAIj/E,KAEMl4B,EAAI,EAAGA,GAAKm3G,EAAWn3G,IAE7Bk4B,EAAOpkB,KAAMpN,KAAKu2F,WAAYj9F,EAAIm3G,IAItC,OAAOj/E,GAMXk/E,UAAW,WAEP,IAAIC,EAAU3wG,KAAK4wG,aACnB,OAAOD,EAASA,EAAQ5wG,OAAS,IAMrC6wG,WAAY,SAAWH,GAInB,QAFmB9vG,IAAd8vG,IAA0BA,EAAYzwG,KAAK+rG,oBAE3C/rG,KAAK6wG,iBACJ7wG,KAAK6wG,gBAAgB9wG,SAAW0wG,EAAY,IAC5CzwG,KAAK4lD,YAEP,OAAO5lD,KAAK6wG,gBAIhB7wG,KAAK4lD,aAAc,EAEnB,IACIkrD,EACAh2G,EAFAk/C,KACSwiD,EAAOx8F,KAAKqwG,SAAU,GAC5B5T,EAAM,EAIb,IAFAziD,EAAM5sC,KAAM,GAENtS,EAAI,EAAGA,GAAK21G,EAAW31G,IAGzB2hG,IADAqU,EAAU9wG,KAAKqwG,SAAUv1G,EAAI21G,IACdn2F,WAAYkiF,GAC3BxiD,EAAM5sC,KAAMqvF,GACZD,EAAOsU,EAMX,OAFA9wG,KAAK6wG,gBAAkB72D,EAEhBA,GAIX+2D,iBAAkB,WAEd/wG,KAAK4lD,aAAc,EACnB5lD,KAAK4wG,cAMTL,eAAgB,SAAW/wE,EAAG/3B,GAE1B,IAIIupG,EAJAC,EAAajxG,KAAK4wG,aAElB53G,EAAI,EAAG04B,EAAKu/E,EAAWlxG,OAMvBixG,EAFCvpG,GAMiB+3B,EAAIyxE,EAAYv/E,EAAK,GAQ3C,IAFA,IAA4Bw/E,EAAxBr6F,EAAM,EAAGC,EAAO4a,EAAK,EAEjB7a,GAAOC,GAMX,IAFAo6F,EAAaD,EAFbj4G,EAAIsE,KAAK8O,MAAOyK,GAAQC,EAAOD,GAAQ,IAERm6F,GAEb,EAEdn6F,EAAM7d,EAAI,MAEP,CAAA,KAAKk4G,EAAa,GAIlB,CAEHp6F,EAAO9d,EACP,MALA8d,EAAO9d,EAAI,EAenB,GAAKi4G,EAFLj4G,EAAI8d,KAEqBk6F,EAErB,OAAOh4G,GAAM04B,EAAK,GAMtB,IAAIy/E,EAAeF,EAAYj4G,GAa/B,OAFUA,GAJcg4G,EAAkBG,IANxBF,EAAYj4G,EAAI,GAEAm4G,KAQEz/E,EAAK,IAW7C0/E,WAAY,SAAWl3G,GAEnB,IACIqyD,EAAKryD,EADG,KAERkzG,EAAKlzG,EAFG,KAMPqyD,EAAK,IAAIA,EAAK,GACd6gD,EAAK,IAAIA,EAAK,GAEnB,IAAIiE,EAAMrxG,KAAKqwG,SAAU9jD,GAIzB,OAHUvsD,KAAKqwG,SAAUjD,GAEX5qG,QAAQ2B,IAAKktG,GAChBj3F,aAIfk3F,aAAc,SAAW9xE,GAErB,IAAItlC,EAAI8F,KAAKuwG,eAAgB/wE,GAC7B,OAAOx/B,KAAKoxG,WAAYl3G,IAI5Bk8F,oBAAqB,SAAWgR,EAAUvR,GAItC,IASI78F,EAAGwmC,EAAGx8B,EATNynB,EAAS,IAAI3pB,GAEbm1F,KACA55C,KACA65C,KAEA+D,EAAM,IAAIn5F,GACVywG,EAAM,IAAI35F,GAMd,IAAM5e,EAAI,EAAGA,GAAKouG,EAAUpuG,IAExBwmC,EAAIxmC,EAAIouG,EAERnR,EAAUj9F,GAAMgH,KAAKsxG,aAAc9xE,GACnCy2D,EAAUj9F,GAAIohB,YAOlBiiC,EAAS,GAAM,IAAIv7C,GACnBo1F,EAAW,GAAM,IAAIp1F,GACrB,IAAI2D,EAAMuH,OAAOwlG,UACb9uF,EAAKplB,KAAK6c,IAAK87E,EAAU,GAAI72F,GAC7BujB,EAAKrlB,KAAK6c,IAAK87E,EAAU,GAAI52F,GAC7BoyG,EAAKn0G,KAAK6c,IAAK87E,EAAU,GAAI32F,GA8BjC,IA5BKojB,GAAMje,IAEPA,EAAMie,EACN+H,EAAO3tB,IAAK,EAAG,EAAG,IAIjB6lB,GAAMle,IAEPA,EAAMke,EACN8H,EAAO3tB,IAAK,EAAG,EAAG,IAIjB20G,GAAMhtG,GAEPgmB,EAAO3tB,IAAK,EAAG,EAAG,GAItBm9F,EAAIpyF,aAAcouF,EAAU,GAAKxrE,GAASrQ,YAE1CiiC,EAAS,GAAIx0C,aAAcouF,EAAU,GAAKgE,GAC1C/D,EAAW,GAAIruF,aAAcouF,EAAU,GAAK55C,EAAS,IAK/CrjD,EAAI,EAAGA,GAAKouG,EAAUpuG,IAExBqjD,EAASrjD,GAAMqjD,EAASrjD,EAAI,GAAIwJ,QAEhC0zF,EAAWl9F,GAAMk9F,EAAWl9F,EAAI,GAAIwJ,QAEpCy3F,EAAIpyF,aAAcouF,EAAUj9F,EAAI,GAAKi9F,EAAUj9F,IAE1CihG,EAAIl6F,SAAWiM,OAAOC,UAEvBguF,EAAI7/E,YAEJpX,EAAQ1F,KAAKiqB,KAAM/R,GAAMU,MAAO+/E,EAAUj9F,EAAI,GAAImM,IAAK8wF,EAAUj9F,KAAS,EAAG,IAE7EqjD,EAASrjD,GAAIioB,aAAcswF,EAAI/uF,iBAAkBy3E,EAAKj3F,KAI1DkzF,EAAWl9F,GAAI6O,aAAcouF,EAAUj9F,GAAKqjD,EAASrjD,IAMzD,IAAgB,IAAX68F,EAWD,IATA7yF,EAAQ1F,KAAKiqB,KAAM/R,GAAMU,MAAOmmC,EAAS,GAAIl3C,IAAKk3C,EAAS+qD,KAAgB,EAAG,IAC9EpkG,GAASokG,EAEJnR,EAAU,GAAI9wF,IAAK80F,EAAIpyF,aAAcw0C,EAAS,GAAKA,EAAS+qD,KAAiB,IAE9EpkG,GAAUA,GAIRhK,EAAI,EAAGA,GAAKouG,EAAUpuG,IAGxBqjD,EAASrjD,GAAIioB,aAAcswF,EAAI/uF,iBAAkByzE,EAAUj9F,GAAKgK,EAAQhK,IACxEk9F,EAAWl9F,GAAI6O,aAAcouF,EAAUj9F,GAAKqjD,EAASrjD,IAM7D,OACIi9F,SAAUA,EACV55C,QAASA,EACT65C,UAAWA,IAKnB1zF,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW2J,GAIb,OAFA9M,KAAK+rG,mBAAqBj/F,EAAOi/F,mBAE1B/rG,MAIXyvB,OAAQ,WAEJ,IAAId,GACAkB,UACIlC,QAAS,IACT3nB,KAAM,QACN8pB,UAAW,iBAOnB,OAHAnB,EAAKo9E,mBAAqB/rG,KAAK+rG,mBAC/Bp9E,EAAK3oB,KAAOhG,KAAKgG,KAEV2oB,GAIX+iF,SAAU,SAAWC,GAIjB,OAFA3xG,KAAK+rG,mBAAqB4F,EAAK5F,mBAExB/rG,QA2BfgsG,GAAapxG,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAC9CoxG,GAAapxG,UAAUmQ,YAAcihG,GAErCA,GAAapxG,UAAUg3G,gBAAiB,EAExC5F,GAAapxG,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAS5C,IAPA,IAAIj+E,EAAQi+E,GAAkB,IAAI5pG,GAE9BmrG,EAAkB,EAAVv0G,KAAKC,GACbu0G,EAAa9xG,KAAKssG,UAAYtsG,KAAKqsG,YACnC0F,EAAaz0G,KAAK6c,IAAK23F,GAAe9lG,OAAOC,QAGzC6lG,EAAa,GAAIA,GAAcD,EACvC,KAAQC,EAAaD,GAAQC,GAAcD,EAEtCC,EAAa9lG,OAAOC,UAIjB6lG,EAFCC,EAEY,EAIAF,IAMI,IAApB7xG,KAAKusG,YAAyBwF,IAE1BD,IAAeD,EAEhBC,GAAeD,EAIfC,GAA0BD,GAMlC,IAAIxqG,EAAQrH,KAAKqsG,YAAcnyG,EAAI43G,EAC/B1yG,EAAIY,KAAKisG,GAAKjsG,KAAKmsG,QAAU7uG,KAAK+d,IAAKhU,GACvChI,EAAIW,KAAKksG,GAAKlsG,KAAKosG,QAAU9uG,KAAKge,IAAKjU,GAE3C,GAAwB,IAAnBrH,KAAKwsG,UAAkB,CAExB,IAAInxF,EAAM/d,KAAK+d,IAAKrb,KAAKwsG,WACrBlxF,EAAMhe,KAAKge,IAAKtb,KAAKwsG,WAErB9pF,EAAKtjB,EAAIY,KAAKisG,GACdtpF,EAAKtjB,EAAIW,KAAKksG,GAGlB9sG,EAAIsjB,EAAKrH,EAAMsH,EAAKrH,EAAMtb,KAAKisG,GAC/B5sG,EAAIqjB,EAAKpH,EAAMqH,EAAKtH,EAAMrb,KAAKksG,GAInC,OAAO75E,EAAMv1B,IAAKsC,EAAGC,IAIzB2sG,GAAapxG,UAAUuI,KAAO,SAAW2J,GAiBrC,OAfAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKisG,GAAKn/F,EAAOm/F,GACjBjsG,KAAKksG,GAAKp/F,EAAOo/F,GAEjBlsG,KAAKmsG,QAAUr/F,EAAOq/F,QACtBnsG,KAAKosG,QAAUt/F,EAAOs/F,QAEtBpsG,KAAKqsG,YAAcv/F,EAAOu/F,YAC1BrsG,KAAKssG,UAAYx/F,EAAOw/F,UAExBtsG,KAAKusG,WAAaz/F,EAAOy/F,WAEzBvsG,KAAKwsG,UAAY1/F,EAAO0/F,UAEjBxsG,MAKXgsG,GAAapxG,UAAU60B,OAAS,WAE5B,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAexC,OAbA2uB,EAAKs9E,GAAKjsG,KAAKisG,GACft9E,EAAKu9E,GAAKlsG,KAAKksG,GAEfv9E,EAAKw9E,QAAUnsG,KAAKmsG,QACpBx9E,EAAKy9E,QAAUpsG,KAAKosG,QAEpBz9E,EAAK09E,YAAcrsG,KAAKqsG,YACxB19E,EAAK29E,UAAYtsG,KAAKssG,UAEtB39E,EAAK49E,WAAavsG,KAAKusG,WAEvB59E,EAAK69E,UAAYxsG,KAAKwsG,UAEf79E,GAIXq9E,GAAapxG,UAAU82G,SAAW,SAAWC,GAiBzC,OAfA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAKisG,GAAK0F,EAAK1F,GACfjsG,KAAKksG,GAAKyF,EAAKzF,GAEflsG,KAAKmsG,QAAUwF,EAAKxF,QACpBnsG,KAAKosG,QAAUuF,EAAKvF,QAEpBpsG,KAAKqsG,YAAcsF,EAAKtF,YACxBrsG,KAAKssG,UAAYqF,EAAKrF,UAEtBtsG,KAAKusG,WAAaoF,EAAKpF,WAEvBvsG,KAAKwsG,UAAYmF,EAAKnF,UAEfxsG,MAYXysG,GAAS7xG,UAAYlB,OAAOY,OAAQ0xG,GAAapxG,WACjD6xG,GAAS7xG,UAAUmQ,YAAc0hG,GAEjCA,GAAS7xG,UAAUo3G,YAAa,EAiFhC,IAAI3wF,GAAM,IAAIvgB,GACVk+F,GAAK,IAAI2N,GAAa1N,GAAK,IAAI0N,GAAasF,GAAK,IAAItF,GAEzD,SAASuF,GAAkB1gF,EAAQqkE,EAAQsc,EAAWpF,GAElDjB,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,mBAEZhG,KAAKwxB,OAASA,MACdxxB,KAAK61F,OAASA,IAAU,EACxB71F,KAAKmyG,UAAYA,GAAa,cAC9BnyG,KAAK+sG,QAAUA,GAAW,GAsK9B,SAASqF,GAAYl4G,EAAG+0B,EAAIC,EAAIC,EAAIC,GAEhC,IAAIsE,EAAmB,IAAZvE,EAAKF,GACZtU,EAAmB,IAAZyU,EAAKF,GACZk+E,EAAKlzG,EAAIA,EAEb,OAAS,EAAIg1B,EAAK,EAAIC,EAAKuE,EAAK/Y,IADvBzgB,EAAIkzG,KACmC,EAAIl+E,EAAK,EAAIC,EAAK,EAAIuE,EAAK/Y,GAAOyyF,EAAK15E,EAAKx5B,EAAIg1B,EAyBpG,SAASmjF,GAAiBn4G,EAAG+0B,EAAIC,EAAIC,GAEjC,OArBJ,SAA4Bj1B,EAAGY,GAE3B,IAAIumD,EAAI,EAAInnD,EACZ,OAAOmnD,EAAIA,EAAIvmD,EAkBRw3G,CAAmBp4G,EAAG+0B,GAdjC,SAA4B/0B,EAAGY,GAE3B,OAAO,GAAM,EAAIZ,GAAMA,EAAIY,EAYSy3G,CAAmBr4G,EAAGg1B,GAR9D,SAA4Bh1B,EAAGY,GAE3B,OAAOZ,EAAIA,EAAIY,EAOX03G,CAAmBt4G,EAAGi1B,GAgC9B,SAASsjF,GAAav4G,EAAG+0B,EAAIC,EAAIC,EAAIC,GAEjC,OA5BJ,SAAwBl1B,EAAGY,GAEvB,IAAIumD,EAAI,EAAInnD,EACZ,OAAOmnD,EAAIA,EAAIA,EAAIvmD,EAyBZ43G,CAAex4G,EAAG+0B,GArB7B,SAAwB/0B,EAAGY,GAEvB,IAAIumD,EAAI,EAAInnD,EACZ,OAAO,EAAImnD,EAAIA,EAAInnD,EAAIY,EAkBS63G,CAAez4G,EAAGg1B,GAdtD,SAAwBh1B,EAAGY,GAEvB,OAAO,GAAM,EAAIZ,GAAMA,EAAIA,EAAIY,EAY0B83G,CAAe14G,EAAGi1B,GAR/E,SAAwBj1B,EAAGY,GAEvB,OAAOZ,EAAIA,EAAIA,EAAIY,EAOf+3G,CAAe34G,EAAGk1B,GAI1B,SAAS0jF,GAAkBp/E,EAAI/Y,EAAIC,EAAIm4F,GAEnCjH,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,mBAEZhG,KAAK0zB,GAAKA,GAAM,IAAIhtB,GACpB1G,KAAK2a,GAAKA,GAAM,IAAIjU,GACpB1G,KAAK4a,GAAKA,GAAM,IAAIlU,GACpB1G,KAAK+yG,GAAKA,GAAM,IAAIrsG,GA+DxB,SAASssG,GAAmBt/E,EAAI/Y,EAAIC,EAAIm4F,GAEpCjH,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,oBAEZhG,KAAK0zB,GAAKA,GAAM,IAAI5yB,GACpBd,KAAK2a,GAAKA,GAAM,IAAI7Z,GACpBd,KAAK4a,GAAKA,GAAM,IAAI9Z,GACpBd,KAAK+yG,GAAKA,GAAM,IAAIjyG,GAgExB,SAASmyG,GAAWt4F,EAAIC,GAEpBkxF,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,YAEZhG,KAAK2a,GAAKA,GAAM,IAAIjU,GACpB1G,KAAK4a,GAAKA,GAAM,IAAIlU,GA6ExB,SAASwsG,GAAYv4F,EAAIC,GAErBkxF,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,aAEZhG,KAAK2a,GAAKA,GAAM,IAAI7Z,GACpBd,KAAK4a,GAAKA,GAAM,IAAI9Z,GAqExB,SAASqyG,GAAsBz/E,EAAI/Y,EAAIC,GAEnCkxF,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,uBAEZhG,KAAK0zB,GAAKA,GAAM,IAAIhtB,GACpB1G,KAAK2a,GAAKA,GAAM,IAAIjU,GACpB1G,KAAK4a,GAAKA,GAAM,IAAIlU,GA4DxB,SAAS0sG,GAAuB1/E,EAAI/Y,EAAIC,GAEpCkxF,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,wBAEZhG,KAAK0zB,GAAKA,GAAM,IAAI5yB,GACpBd,KAAK2a,GAAKA,GAAM,IAAI7Z,GACpBd,KAAK4a,GAAKA,GAAM,IAAI9Z,GA6DxB,SAASuyG,GAAa7hF,GAElBs6E,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,cAEZhG,KAAKwxB,OAASA,MA3qBlB0gF,GAAiBt3G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAClDs3G,GAAiBt3G,UAAUmQ,YAAcmnG,GAEzCA,GAAiBt3G,UAAU04G,oBAAqB,EAEhDpB,GAAiBt3G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAEhD,IAoBIrhF,EAAIC,EAAIC,EAAIC,EApBZiD,EAAQi+E,GAAkB,IAAIxvG,GAE9B0wB,EAASxxB,KAAKwxB,OACdv4B,EAAIu4B,EAAOzxB,OAEXjF,GAAM7B,GAAM+G,KAAK61F,OAAS,EAAI,IAAQ37F,EACtCq5G,EAAWj2G,KAAK8O,MAAOtR,GACvB04G,EAAS14G,EAAIy4G,EA0CjB,GAxCKvzG,KAAK61F,OAEN0d,GAAYA,EAAW,EAAI,GAAMj2G,KAAK8O,MAAO9O,KAAK6c,IAAKo5F,GAAat6G,GAAM,GAAMA,EAE7D,IAAXu6G,GAAgBD,IAAat6G,EAAI,IAEzCs6G,EAAWt6G,EAAI,EACfu6G,EAAS,GAMRxzG,KAAK61F,QAAU0d,EAAW,EAE3BtkF,EAAKuC,GAAU+hF,EAAW,GAAMt6G,IAKhCooB,GAAIzX,WAAY4nB,EAAQ,GAAKA,EAAQ,IAAM/xB,IAAK+xB,EAAQ,IACxDvC,EAAK5N,IAIT6N,EAAKsC,EAAQ+hF,EAAWt6G,GACxBk2B,EAAKqC,GAAU+hF,EAAW,GAAMt6G,GAE3B+G,KAAK61F,QAAU0d,EAAW,EAAIt6G,EAE/Bm2B,EAAKoC,GAAU+hF,EAAW,GAAMt6G,IAKhCooB,GAAIzX,WAAY4nB,EAAQv4B,EAAI,GAAKu4B,EAAQv4B,EAAI,IAAMwG,IAAK+xB,EAAQv4B,EAAI,IACpEm2B,EAAK/N,IAIe,gBAAnBrhB,KAAKmyG,WAAkD,YAAnBnyG,KAAKmyG,UAA0B,CAGpE,IAAI/qG,EAAyB,YAAnBpH,KAAKmyG,UAA0B,GAAM,IAC3ClF,EAAM3vG,KAAK8J,IAAK6nB,EAAGhqB,kBAAmBiqB,GAAM9nB,GAC5C8lG,EAAM5vG,KAAK8J,IAAK8nB,EAAGjqB,kBAAmBkqB,GAAM/nB,GAC5C+lG,EAAM7vG,KAAK8J,IAAK+nB,EAAGlqB,kBAAmBmqB,GAAMhoB,GAG3C8lG,EAAM,OAAOA,EAAM,GACnBD,EAAM,OAAOA,EAAMC,GACnBC,EAAM,OAAOA,EAAMD,GAExBlO,GAAGgO,yBAA0B/9E,EAAG7vB,EAAG8vB,EAAG9vB,EAAG+vB,EAAG/vB,EAAGgwB,EAAGhwB,EAAG6tG,EAAKC,EAAKC,GAC/DlO,GAAG+N,yBAA0B/9E,EAAG5vB,EAAG6vB,EAAG7vB,EAAG8vB,EAAG9vB,EAAG+vB,EAAG/vB,EAAG4tG,EAAKC,EAAKC,GAC/D8E,GAAGjF,yBAA0B/9E,EAAG3vB,EAAG4vB,EAAG5vB,EAAG6vB,EAAG7vB,EAAG8vB,EAAG9vB,EAAG2tG,EAAKC,EAAKC,OAEpC,eAAnBntG,KAAKmyG,YAEbnT,GAAG6N,eAAgB59E,EAAG7vB,EAAG8vB,EAAG9vB,EAAG+vB,EAAG/vB,EAAGgwB,EAAGhwB,EAAGY,KAAK+sG,SAChD9N,GAAG4N,eAAgB59E,EAAG5vB,EAAG6vB,EAAG7vB,EAAG8vB,EAAG9vB,EAAG+vB,EAAG/vB,EAAGW,KAAK+sG,SAChDkF,GAAGpF,eAAgB59E,EAAG3vB,EAAG4vB,EAAG5vB,EAAG6vB,EAAG7vB,EAAG8vB,EAAG9vB,EAAGU,KAAK+sG,UAUpD,OANA16E,EAAMv1B,IACFkiG,GAAGqO,KAAMmG,GACTvU,GAAGoO,KAAMmG,GACTvB,GAAG5E,KAAMmG,IAGNnhF,GAIX6/E,GAAiBt3G,UAAUuI,KAAO,SAAW2J,GAEzCg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKwxB,UAEL,IAAM,IAAIx4B,EAAI,EAAGC,EAAI6T,EAAO0kB,OAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAErD,IAAIq5B,EAAQvlB,EAAO0kB,OAAQx4B,GAE3BgH,KAAKwxB,OAAOpkB,KAAMilB,EAAM7vB,SAQ5B,OAJAxC,KAAK61F,OAAS/oF,EAAO+oF,OACrB71F,KAAKmyG,UAAYrlG,EAAOqlG,UACxBnyG,KAAK+sG,QAAUjgG,EAAOigG,QAEf/sG,MAIXkyG,GAAiBt3G,UAAU60B,OAAS,WAEhC,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAExC2uB,EAAK6C,UAEL,IAAM,IAAIx4B,EAAI,EAAGC,EAAI+G,KAAKwxB,OAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAEnD,IAAIq5B,EAAQryB,KAAKwxB,OAAQx4B,GACzB21B,EAAK6C,OAAOpkB,KAAMilB,EAAMtX,WAQ5B,OAJA4T,EAAKknE,OAAS71F,KAAK61F,OACnBlnE,EAAKwjF,UAAYnyG,KAAKmyG,UACtBxjF,EAAKo+E,QAAU/sG,KAAK+sG,QAEbp+E,GAIXujF,GAAiBt3G,UAAU82G,SAAW,SAAWC,GAE7C7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAKwxB,UAEL,IAAM,IAAIx4B,EAAI,EAAGC,EAAI04G,EAAKngF,OAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAEnD,IAAIq5B,EAAQs/E,EAAKngF,OAAQx4B,GACzBgH,KAAKwxB,OAAOpkB,MAAM,IAAItM,IAAUga,UAAWuX,IAQ/C,OAJAryB,KAAK61F,OAAS8b,EAAK9b,OACnB71F,KAAKmyG,UAAYR,EAAKQ,UACtBnyG,KAAK+sG,QAAU4E,EAAK5E,QAEb/sG,MAiGX8yG,GAAiBl4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAClDk4G,GAAiBl4G,UAAUmQ,YAAc+nG,GAEzCA,GAAiBl4G,UAAU64G,oBAAqB,EAEhDX,GAAiBl4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAEhD,IAAIj+E,EAAQi+E,GAAkB,IAAI5pG,GAE9BgtB,EAAK1zB,KAAK0zB,GAAI/Y,EAAK3a,KAAK2a,GAAIC,EAAK5a,KAAK4a,GAAIm4F,EAAK/yG,KAAK+yG,GAOxD,OALA1gF,EAAMv1B,IACF21G,GAAav4G,EAAGw5B,EAAGt0B,EAAGub,EAAGvb,EAAGwb,EAAGxb,EAAG2zG,EAAG3zG,GACrCqzG,GAAav4G,EAAGw5B,EAAGr0B,EAAGsb,EAAGtb,EAAGub,EAAGvb,EAAG0zG,EAAG1zG,IAGlCgzB,GAIXygF,GAAiBl4G,UAAUuI,KAAO,SAAW2J,GASzC,OAPAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK0zB,GAAGvwB,KAAM2J,EAAO4mB,IACrB1zB,KAAK2a,GAAGxX,KAAM2J,EAAO6N,IACrB3a,KAAK4a,GAAGzX,KAAM2J,EAAO8N,IACrB5a,KAAK+yG,GAAG5vG,KAAM2J,EAAOimG,IAEd/yG,MAIX8yG,GAAiBl4G,UAAU60B,OAAS,WAEhC,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAOxC,OALA2uB,EAAK+E,GAAK1zB,KAAK0zB,GAAG3Y,UAClB4T,EAAKhU,GAAK3a,KAAK2a,GAAGI,UAClB4T,EAAK/T,GAAK5a,KAAK4a,GAAGG,UAClB4T,EAAKokF,GAAK/yG,KAAK+yG,GAAGh4F,UAEX4T,GAIXmkF,GAAiBl4G,UAAU82G,SAAW,SAAWC,GAS7C,OAPA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAK0zB,GAAG5Y,UAAW62F,EAAKj+E,IACxB1zB,KAAK2a,GAAGG,UAAW62F,EAAKh3F,IACxB3a,KAAK4a,GAAGE,UAAW62F,EAAK/2F,IACxB5a,KAAK+yG,GAAGj4F,UAAW62F,EAAKoB,IAEjB/yG,MAiBXgzG,GAAkBp4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WACnDo4G,GAAkBp4G,UAAUmQ,YAAcioG,GAE1CA,GAAkBp4G,UAAU84G,qBAAsB,EAElDV,GAAkBp4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAEjD,IAAIj+E,EAAQi+E,GAAkB,IAAIxvG,GAE9B4yB,EAAK1zB,KAAK0zB,GAAI/Y,EAAK3a,KAAK2a,GAAIC,EAAK5a,KAAK4a,GAAIm4F,EAAK/yG,KAAK+yG,GAQxD,OANA1gF,EAAMv1B,IACF21G,GAAav4G,EAAGw5B,EAAGt0B,EAAGub,EAAGvb,EAAGwb,EAAGxb,EAAG2zG,EAAG3zG,GACrCqzG,GAAav4G,EAAGw5B,EAAGr0B,EAAGsb,EAAGtb,EAAGub,EAAGvb,EAAG0zG,EAAG1zG,GACrCozG,GAAav4G,EAAGw5B,EAAGp0B,EAAGqb,EAAGrb,EAAGsb,EAAGtb,EAAGyzG,EAAGzzG,IAGlC+yB,GAIX2gF,GAAkBp4G,UAAUuI,KAAO,SAAW2J,GAS1C,OAPAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK0zB,GAAGvwB,KAAM2J,EAAO4mB,IACrB1zB,KAAK2a,GAAGxX,KAAM2J,EAAO6N,IACrB3a,KAAK4a,GAAGzX,KAAM2J,EAAO8N,IACrB5a,KAAK+yG,GAAG5vG,KAAM2J,EAAOimG,IAEd/yG,MAIXgzG,GAAkBp4G,UAAU60B,OAAS,WAEjC,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAOxC,OALA2uB,EAAK+E,GAAK1zB,KAAK0zB,GAAG3Y,UAClB4T,EAAKhU,GAAK3a,KAAK2a,GAAGI,UAClB4T,EAAK/T,GAAK5a,KAAK4a,GAAGG,UAClB4T,EAAKokF,GAAK/yG,KAAK+yG,GAAGh4F,UAEX4T,GAIXqkF,GAAkBp4G,UAAU82G,SAAW,SAAWC,GAS9C,OAPA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAK0zB,GAAG5Y,UAAW62F,EAAKj+E,IACxB1zB,KAAK2a,GAAGG,UAAW62F,EAAKh3F,IACxB3a,KAAK4a,GAAGE,UAAW62F,EAAK/2F,IACxB5a,KAAK+yG,GAAGj4F,UAAW62F,EAAKoB,IAEjB/yG,MAeXizG,GAAUr4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAC3Cq4G,GAAUr4G,UAAUmQ,YAAckoG,GAElCA,GAAUr4G,UAAU+4G,aAAc,EAElCV,GAAUr4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAEzC,IAAIj+E,EAAQi+E,GAAkB,IAAI5pG,GAalC,OAXW,IAANxM,EAEDm4B,EAAMlvB,KAAMnD,KAAK4a,KAIjByX,EAAMlvB,KAAMnD,KAAK4a,IAAKzW,IAAKnE,KAAK2a,IAChC0X,EAAMttB,eAAgB7K,GAAIuF,IAAKO,KAAK2a,KAIjC0X,GAMX4gF,GAAUr4G,UAAU27F,WAAa,SAAW/2D,EAAG8wE,GAE3C,OAAOtwG,KAAKqwG,SAAU7wE,EAAG8wE,IAI7B2C,GAAUr4G,UAAUw2G,WAAa,WAI7B,OAFcpxG,KAAK4a,GAAGpY,QAAQ2B,IAAKnE,KAAK2a,IAEzBP,aAInB64F,GAAUr4G,UAAUuI,KAAO,SAAW2J,GAOlC,OALAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK2a,GAAGxX,KAAM2J,EAAO6N,IACrB3a,KAAK4a,GAAGzX,KAAM2J,EAAO8N,IAEd5a,MAIXizG,GAAUr4G,UAAU60B,OAAS,WAEzB,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAKxC,OAHA2uB,EAAKhU,GAAK3a,KAAK2a,GAAGI,UAClB4T,EAAK/T,GAAK5a,KAAK4a,GAAGG,UAEX4T,GAIXskF,GAAUr4G,UAAU82G,SAAW,SAAWC,GAOtC,OALA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAK2a,GAAGG,UAAW62F,EAAKh3F,IACxB3a,KAAK4a,GAAGE,UAAW62F,EAAK/2F,IAEjB5a,MAeXkzG,GAAWt4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAC5Cs4G,GAAWt4G,UAAUmQ,YAAcmoG,GAEnCA,GAAWt4G,UAAUg5G,cAAe,EAEpCV,GAAWt4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAE1C,IAAIj+E,EAAQi+E,GAAkB,IAAIxvG,GAalC,OAXW,IAAN5G,EAEDm4B,EAAMlvB,KAAMnD,KAAK4a,KAIjByX,EAAMlvB,KAAMnD,KAAK4a,IAAKzW,IAAKnE,KAAK2a,IAChC0X,EAAMttB,eAAgB7K,GAAIuF,IAAKO,KAAK2a,KAIjC0X,GAMX6gF,GAAWt4G,UAAU27F,WAAa,SAAW/2D,EAAG8wE,GAE5C,OAAOtwG,KAAKqwG,SAAU7wE,EAAG8wE,IAI7B4C,GAAWt4G,UAAUuI,KAAO,SAAW2J,GAOnC,OALAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK2a,GAAGxX,KAAM2J,EAAO6N,IACrB3a,KAAK4a,GAAGzX,KAAM2J,EAAO8N,IAEd5a,MAIXkzG,GAAWt4G,UAAU60B,OAAS,WAE1B,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAKxC,OAHA2uB,EAAKhU,GAAK3a,KAAK2a,GAAGI,UAClB4T,EAAK/T,GAAK5a,KAAK4a,GAAGG,UAEX4T,GAIXukF,GAAWt4G,UAAU82G,SAAW,SAAWC,GAOvC,OALA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAK2a,GAAGG,UAAW62F,EAAKh3F,IACxB3a,KAAK4a,GAAGE,UAAW62F,EAAK/2F,IAEjB5a,MAgBXmzG,GAAqBv4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WACtDu4G,GAAqBv4G,UAAUmQ,YAAcooG,GAE7CA,GAAqBv4G,UAAUi5G,wBAAyB,EAExDV,GAAqBv4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAEpD,IAAIj+E,EAAQi+E,GAAkB,IAAI5pG,GAE9BgtB,EAAK1zB,KAAK0zB,GAAI/Y,EAAK3a,KAAK2a,GAAIC,EAAK5a,KAAK4a,GAO1C,OALAyX,EAAMv1B,IACFu1G,GAAiBn4G,EAAGw5B,EAAGt0B,EAAGub,EAAGvb,EAAGwb,EAAGxb,GACnCizG,GAAiBn4G,EAAGw5B,EAAGr0B,EAAGsb,EAAGtb,EAAGub,EAAGvb,IAGhCgzB,GAIX8gF,GAAqBv4G,UAAUuI,KAAO,SAAW2J,GAQ7C,OANAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK0zB,GAAGvwB,KAAM2J,EAAO4mB,IACrB1zB,KAAK2a,GAAGxX,KAAM2J,EAAO6N,IACrB3a,KAAK4a,GAAGzX,KAAM2J,EAAO8N,IAEd5a,MAIXmzG,GAAqBv4G,UAAU60B,OAAS,WAEpC,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAMxC,OAJA2uB,EAAK+E,GAAK1zB,KAAK0zB,GAAG3Y,UAClB4T,EAAKhU,GAAK3a,KAAK2a,GAAGI,UAClB4T,EAAK/T,GAAK5a,KAAK4a,GAAGG,UAEX4T,GAIXwkF,GAAqBv4G,UAAU82G,SAAW,SAAWC,GAQjD,OANA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAK0zB,GAAG5Y,UAAW62F,EAAKj+E,IACxB1zB,KAAK2a,GAAGG,UAAW62F,EAAKh3F,IACxB3a,KAAK4a,GAAGE,UAAW62F,EAAK/2F,IAEjB5a,MAgBXozG,GAAsBx4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WACvDw4G,GAAsBx4G,UAAUmQ,YAAcqoG,GAE9CA,GAAsBx4G,UAAUk5G,yBAA0B,EAE1DV,GAAsBx4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAErD,IAAIj+E,EAAQi+E,GAAkB,IAAIxvG,GAE9B4yB,EAAK1zB,KAAK0zB,GAAI/Y,EAAK3a,KAAK2a,GAAIC,EAAK5a,KAAK4a,GAQ1C,OANAyX,EAAMv1B,IACFu1G,GAAiBn4G,EAAGw5B,EAAGt0B,EAAGub,EAAGvb,EAAGwb,EAAGxb,GACnCizG,GAAiBn4G,EAAGw5B,EAAGr0B,EAAGsb,EAAGtb,EAAGub,EAAGvb,GACnCgzG,GAAiBn4G,EAAGw5B,EAAGp0B,EAAGqb,EAAGrb,EAAGsb,EAAGtb,IAGhC+yB,GAIX+gF,GAAsBx4G,UAAUuI,KAAO,SAAW2J,GAQ9C,OANAg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK0zB,GAAGvwB,KAAM2J,EAAO4mB,IACrB1zB,KAAK2a,GAAGxX,KAAM2J,EAAO6N,IACrB3a,KAAK4a,GAAGzX,KAAM2J,EAAO8N,IAEd5a,MAIXozG,GAAsBx4G,UAAU60B,OAAS,WAErC,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAMxC,OAJA2uB,EAAK+E,GAAK1zB,KAAK0zB,GAAG3Y,UAClB4T,EAAKhU,GAAK3a,KAAK2a,GAAGI,UAClB4T,EAAK/T,GAAK5a,KAAK4a,GAAGG,UAEX4T,GAIXykF,GAAsBx4G,UAAU82G,SAAW,SAAWC,GAQlD,OANA7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAK0zB,GAAG5Y,UAAW62F,EAAKj+E,IACxB1zB,KAAK2a,GAAGG,UAAW62F,EAAKh3F,IACxB3a,KAAK4a,GAAGE,UAAW62F,EAAK/2F,IAEjB5a,MAcXqzG,GAAYz4G,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAC7Cy4G,GAAYz4G,UAAUmQ,YAAcsoG,GAEpCA,GAAYz4G,UAAUm5G,eAAgB,EAEtCV,GAAYz4G,UAAUy1G,SAAW,SAAWn2G,EAAGo2G,GAE3C,IAAIj+E,EAAQi+E,GAAkB,IAAI5pG,GAE9B8qB,EAASxxB,KAAKwxB,OACd12B,GAAM02B,EAAOzxB,OAAS,GAAM7F,EAE5Bq5G,EAAWj2G,KAAK8O,MAAOtR,GACvB04G,EAAS14G,EAAIy4G,EAEbtkF,EAAKuC,EAAqB,IAAb+hF,EAAiBA,EAAWA,EAAW,GACpDrkF,EAAKsC,EAAQ+hF,GACbpkF,EAAKqC,EAAQ+hF,EAAW/hF,EAAOzxB,OAAS,EAAIyxB,EAAOzxB,OAAS,EAAIwzG,EAAW,GAC3EnkF,EAAKoC,EAAQ+hF,EAAW/hF,EAAOzxB,OAAS,EAAIyxB,EAAOzxB,OAAS,EAAIwzG,EAAW,GAO/E,OALAlhF,EAAMv1B,IACFs1G,GAAYoB,EAAQvkF,EAAG7vB,EAAG8vB,EAAG9vB,EAAG+vB,EAAG/vB,EAAGgwB,EAAGhwB,GACzCgzG,GAAYoB,EAAQvkF,EAAG5vB,EAAG6vB,EAAG7vB,EAAG8vB,EAAG9vB,EAAG+vB,EAAG/vB,IAGtCgzB,GAIXghF,GAAYz4G,UAAUuI,KAAO,SAAW2J,GAEpCg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKwxB,UAEL,IAAM,IAAIx4B,EAAI,EAAGC,EAAI6T,EAAO0kB,OAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAErD,IAAIq5B,EAAQvlB,EAAO0kB,OAAQx4B,GAE3BgH,KAAKwxB,OAAOpkB,KAAMilB,EAAM7vB,SAI5B,OAAOxC,MAIXqzG,GAAYz4G,UAAU60B,OAAS,WAE3B,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAExC2uB,EAAK6C,UAEL,IAAM,IAAIx4B,EAAI,EAAGC,EAAI+G,KAAKwxB,OAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAEnD,IAAIq5B,EAAQryB,KAAKwxB,OAAQx4B,GACzB21B,EAAK6C,OAAOpkB,KAAMilB,EAAMtX,WAI5B,OAAO4T,GAIX0kF,GAAYz4G,UAAU82G,SAAW,SAAWC,GAExC7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAKwxB,UAEL,IAAM,IAAIx4B,EAAI,EAAGC,EAAI04G,EAAKngF,OAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAEnD,IAAIq5B,EAAQs/E,EAAKngF,OAAQx4B,GACzBgH,KAAKwxB,OAAOpkB,MAAM,IAAI1G,IAAUoU,UAAWuX,IAI/C,OAAOryB,MAMX,IAAIg0G,GAAsBt6G,OAAO+vG,QAC7BgD,SAAUA,GACVyF,iBAAkBA,GAClBY,iBAAkBA,GAClBE,kBAAmBA,GACnBhH,aAAcA,GACdiH,UAAWA,GACXC,WAAYA,GACZC,qBAAsBA,GACtBC,sBAAuBA,GACvBC,YAAaA,KAajB,SAASY,KAELnI,GAAM3yG,KAAM6G,MAEZA,KAAKgG,KAAO,YAEZhG,KAAKk0G,UACLl0G,KAAKm0G,WAAY,EAoPrB,SAASC,GAAM5iF,GAEXyiF,GAAU96G,KAAM6G,MAEhBA,KAAKgG,KAAO,OAEZhG,KAAKq0G,aAAe,IAAI3tG,GAEnB8qB,GAEDxxB,KAAKuxB,cAAeC,GAyK5B,SAAS8iF,GAAO9iF,GAEZ4iF,GAAKj7G,KAAM6G,KAAMwxB,GAEjBxxB,KAAKH,KAAO2V,GAAMG,eAElB3V,KAAKgG,KAAO,QAEZhG,KAAK8/F,SAgGT,SAASyU,GAAOt2G,EAAOwlE,GAEnBxtB,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,QAEZhG,KAAK/B,MAAQ,IAAI7B,GAAO6B,GACxB+B,KAAKyjE,eAA0B9iE,IAAd8iE,EAA0BA,EAAY,EAEvDzjE,KAAK02C,mBAAgB/1C,EA+CzB,SAAS6zG,GAAiB9kE,EAAUC,EAAa8zB,GAE7C8wC,GAAMp7G,KAAM6G,KAAM0vC,EAAU+zB,GAE5BzjE,KAAKgG,KAAO,kBAEZhG,KAAKy2C,gBAAa91C,EAElBX,KAAKnD,SAASsG,KAAM8yC,GAASG,WAC7Bp2C,KAAKT,eAELS,KAAK2vC,YAAc,IAAIvzC,GAAOuzC,GA0BlC,SAAS8kE,GAAaz5G,GAElBgF,KAAKhF,OAASA,EAEdgF,KAAK4jE,KAAO,EACZ5jE,KAAK2E,OAAS,EAEd3E,KAAK6jE,QAAU,IAAIn9D,GAAS,IAAK,KAEjC1G,KAAK6rC,IAAM,KACX7rC,KAAKuI,OAAS,IAAIqP,GA8CtB,SAAS88F,KAELD,GAAYt7G,KAAM6G,KAAM,IAAIpD,GAAmB,GAAI,EAAG,GAAK,MAmC/D,SAAS+3G,GAAW12G,EAAOwlE,EAAWh8D,EAAUJ,EAAO08D,EAAU90B,GAE7DslE,GAAMp7G,KAAM6G,KAAM/B,EAAOwlE,GAEzBzjE,KAAKgG,KAAO,YAEZhG,KAAKnD,SAASsG,KAAM8yC,GAASG,WAC7Bp2C,KAAKT,eAELS,KAAKa,OAAS,IAAIo1C,GAElBv8C,OAAOC,eAAgBqG,KAAM,SACzBnG,IAAK,WAID,OAAOmG,KAAKyjE,UAAYnmE,KAAKC,IAGjCT,IAAK,SAAW83G,GAIZ50G,KAAKyjE,UAAYmxC,EAAQt3G,KAAKC,MAKtCyC,KAAKyH,cAA0B9G,IAAb8G,EAA2BA,EAAW,EACxDzH,KAAKqH,WAAoB1G,IAAV0G,EAAwBA,EAAQ/J,KAAKC,GAAK,EACzDyC,KAAK+jE,cAA0BpjE,IAAbojE,EAA2BA,EAAW,EACxD/jE,KAAKivC,WAAoBtuC,IAAVsuC,EAAwBA,EAAQ,EAE/CjvC,KAAKwuC,OAAS,IAAIkmE,GAkCtB,SAASG,GAAY52G,EAAOwlE,EAAWh8D,EAAUwnC,GAE7CslE,GAAMp7G,KAAM6G,KAAM/B,EAAOwlE,GAEzBzjE,KAAKgG,KAAO,aAEZtM,OAAOC,eAAgBqG,KAAM,SACzBnG,IAAK,WAID,OAAwB,EAAjBmG,KAAKyjE,UAAgBnmE,KAAKC,IAGrCT,IAAK,SAAW83G,GAIZ50G,KAAKyjE,UAAYmxC,GAAU,EAAIt3G,KAAKC,OAK5CyC,KAAKyH,cAA0B9G,IAAb8G,EAA2BA,EAAW,EACxDzH,KAAKivC,WAAoBtuC,IAAVsuC,EAAwBA,EAAQ,EAE/CjvC,KAAKwuC,OAAS,IAAIimE,GAAa,IAAI73G,GAAmB,GAAI,EAAG,GAAK,MA8BtE,SAASk4G,GAAoBpsG,EAAMD,EAAOG,EAAKC,EAAQub,EAAMC,GAEzDwuD,GAAO15E,KAAM6G,MAEbA,KAAKgG,KAAO,qBAEZhG,KAAK2C,KAAO,EACZ3C,KAAKgzE,KAAO,KAEZhzE,KAAK0I,KAAOA,EACZ1I,KAAKyI,MAAQA,EACbzI,KAAK4I,IAAMA,EACX5I,KAAK6I,OAASA,EAEd7I,KAAKokB,UAAkBzjB,IAATyjB,EAAuBA,EAAO,GAC5CpkB,KAAKqkB,SAAgB1jB,IAAR0jB,EAAsBA,EAAM,IAEzCrkB,KAAKvE,yBA4HT,SAASs5G,KAELN,GAAYt7G,KAAM6G,KAAM,IAAI80G,IAAsB,EAAG,EAAG,GAAK,EAAG,GAAK,MAezE,SAAS10G,GAAkBnC,EAAOwlE,GAE9B8wC,GAAMp7G,KAAM6G,KAAM/B,EAAOwlE,GAEzBzjE,KAAKgG,KAAO,mBAEZhG,KAAKnD,SAASsG,KAAM8yC,GAASG,WAC7Bp2C,KAAKT,eAELS,KAAKa,OAAS,IAAIo1C,GAElBj2C,KAAKwuC,OAAS,IAAIumE,GA4BtB,SAAS10G,GAAcpC,EAAOwlE,GAE1B8wC,GAAMp7G,KAAM6G,KAAM/B,EAAOwlE,GAEzBzjE,KAAKgG,KAAO,eAEZhG,KAAKy2C,gBAAa91C,EAgBtB,SAASq0G,GAAe/2G,EAAOwlE,EAAWprD,EAAOC,GAE7Ci8F,GAAMp7G,KAAM6G,KAAM/B,EAAOwlE,GAEzBzjE,KAAKgG,KAAO,gBAEZhG,KAAKqY,WAAoB1X,IAAV0X,EAAwBA,EAAQ,GAC/CrY,KAAKsY,YAAsB3X,IAAX2X,EAAyBA,EAAS,GAliCtD27F,GAAUr5G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwxG,GAAMlxG,YAEtDmQ,YAAakpG,GAEbx0G,IAAK,SAAWw1G,GAEZj1G,KAAKk0G,OAAO9mG,KAAM6nG,IAItBC,UAAW,WAGP,IAAIC,EAAan1G,KAAKk0G,OAAQ,GAAI7D,SAAU,GACxC+E,EAAWp1G,KAAKk0G,OAAQl0G,KAAKk0G,OAAOn0G,OAAS,GAAIswG,SAAU,GAExD8E,EAAWt6F,OAAQu6F,IAEtBp1G,KAAKk0G,OAAO9mG,KAAM,IAAI6lG,GAAWmC,EAAUD,KAenD9E,SAAU,SAAWn2G,GAQjB,IANA,IAAIZ,EAAIY,EAAI8F,KAAK0wG,YACb2E,EAAer1G,KAAKs1G,kBACpBt8G,EAAI,EAIAA,EAAIq8G,EAAat1G,QAAS,CAE9B,GAAKs1G,EAAcr8G,IAAOM,EAAI,CAE1B,IAAI0mD,EAAOq1D,EAAcr8G,GAAMM,EAC3B27G,EAAQj1G,KAAKk0G,OAAQl7G,GAErBu8G,EAAgBN,EAAMvE,YACtBlxE,EAAsB,IAAlB+1E,EAAsB,EAAI,EAAIv1D,EAAOu1D,EAE7C,OAAON,EAAM1e,WAAY/2D,GAI7BxmC,IAIJ,OAAO,MAUX03G,UAAW,WAEP,IAAI8E,EAAOx1G,KAAKs1G,kBAChB,OAAOE,EAAMA,EAAKz1G,OAAS,IAK/BgxG,iBAAkB,WAEd/wG,KAAK4lD,aAAc,EACnB5lD,KAAKy1G,aAAe,KACpBz1G,KAAKs1G,mBAOTA,gBAAiB,WAIb,GAAKt1G,KAAKy1G,cAAgBz1G,KAAKy1G,aAAa11G,SAAWC,KAAKk0G,OAAOn0G,OAE/D,OAAOC,KAAKy1G,aAShB,IAFA,IAAI9E,KAAc+E,EAAO,EAEf18G,EAAI,EAAGC,EAAI+G,KAAKk0G,OAAOn0G,OAAQ/G,EAAIC,EAAGD,IAE5C08G,GAAQ11G,KAAKk0G,OAAQl7G,GAAI03G,YACzBC,EAAQvjG,KAAMsoG,GAMlB,OAFA11G,KAAKy1G,aAAe9E,EAEbA,GAIXjP,gBAAiB,SAAW+O,QAEL9vG,IAAd8vG,IAA0BA,EAAY,IAI3C,IAFA,IAAIj/E,KAEMx4B,EAAI,EAAGA,GAAKy3G,EAAWz3G,IAE7Bw4B,EAAOpkB,KAAMpN,KAAKqwG,SAAUr3G,EAAIy3G,IAUpC,OANKzwG,KAAKm0G,WAEN3iF,EAAOpkB,KAAMokB,EAAQ,IAIlBA,GAIXg/E,UAAW,SAAWC,GAElBA,EAAYA,GAAa,GAIzB,IAFA,IAAiBjU,EAAbhrE,KAEMx4B,EAAI,EAAGk7G,EAASl0G,KAAKk0G,OAAQl7G,EAAIk7G,EAAOn0G,OAAQ/G,IAUtD,IARA,IAAIi8G,EAAQf,EAAQl7G,GAChB28G,EAAeV,GAASA,EAAMrD,eAA+B,EAAZnB,EAC7CwE,IAAWA,EAAMtB,aAAesB,EAAMrB,cAAmB,EACrDqB,GAASA,EAAMlB,cAAkBtD,EAAYwE,EAAMzjF,OAAOzxB,OACxD0wG,EAEV7Q,EAAMqV,EAAMzE,UAAWmF,GAEjBxhF,EAAI,EAAGA,EAAIyrE,EAAI7/F,OAAQo0B,IAAO,CAEpC,IAAI9B,EAAQutE,EAAKzrE,GAEZqoE,GAAQA,EAAK3hF,OAAQwX,KAE1Bb,EAAOpkB,KAAMilB,GACbmqE,EAAOnqE,GAYf,OANKryB,KAAKm0G,WAAa3iF,EAAOzxB,OAAS,IAAOyxB,EAAQA,EAAOzxB,OAAS,GAAI8a,OAAQ2W,EAAQ,KAEtFA,EAAOpkB,KAAMokB,EAAQ,IAIlBA,GAIXruB,KAAM,SAAW2J,GAEbg/F,GAAMlxG,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKk0G,UAEL,IAAM,IAAIl7G,EAAI,EAAGC,EAAI6T,EAAOonG,OAAOn0G,OAAQ/G,EAAIC,EAAGD,IAAO,CAErD,IAAIi8G,EAAQnoG,EAAOonG,OAAQl7G,GAE3BgH,KAAKk0G,OAAO9mG,KAAM6nG,EAAMzyG,SAM5B,OAFAxC,KAAKm0G,UAAYrnG,EAAOqnG,UAEjBn0G,MAIXyvB,OAAQ,WAEJ,IAAId,EAAOm9E,GAAMlxG,UAAU60B,OAAOt2B,KAAM6G,MAExC2uB,EAAKwlF,UAAYn0G,KAAKm0G,UACtBxlF,EAAKulF,UAEL,IAAM,IAAIl7G,EAAI,EAAGC,EAAI+G,KAAKk0G,OAAOn0G,OAAQ/G,EAAIC,EAAGD,IAAO,CAEnD,IAAIi8G,EAAQj1G,KAAKk0G,OAAQl7G,GACzB21B,EAAKulF,OAAO9mG,KAAM6nG,EAAMxlF,UAI5B,OAAOd,GAIX+iF,SAAU,SAAWC,GAEjB7F,GAAMlxG,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAErC3xG,KAAKm0G,UAAYxC,EAAKwC,UACtBn0G,KAAKk0G,UAEL,IAAM,IAAIl7G,EAAI,EAAGC,EAAI04G,EAAKuC,OAAOn0G,OAAQ/G,EAAIC,EAAGD,IAAO,CAEnD,IAAIi8G,EAAQtD,EAAKuC,OAAQl7G,GACzBgH,KAAKk0G,OAAO9mG,MAAM,IAAI4mG,GAAQiB,EAAMjvG,OAAS0rG,SAAUuD,IAI3D,OAAOj1G,QA2Bfo0G,GAAKx5G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ25G,GAAUr5G,YAErDmQ,YAAaqpG,GAEb7iF,cAAe,SAAWC,GAEtBxxB,KAAK41G,OAAQpkF,EAAQ,GAAIpyB,EAAGoyB,EAAQ,GAAInyB,GAExC,IAAM,IAAIrG,EAAI,EAAGC,EAAIu4B,EAAOzxB,OAAQ/G,EAAIC,EAAGD,IAEvCgH,KAAK61G,OAAQrkF,EAAQx4B,GAAIoG,EAAGoyB,EAAQx4B,GAAIqG,IAMhDu2G,OAAQ,SAAWx2G,EAAGC,GAElBW,KAAKq0G,aAAav3G,IAAKsC,EAAGC,IAI9Bw2G,OAAQ,SAAWz2G,EAAGC,GAElB,IAAI41G,EAAQ,IAAIhC,GAAWjzG,KAAKq0G,aAAa7xG,QAAS,IAAIkE,GAAStH,EAAGC,IACtEW,KAAKk0G,OAAO9mG,KAAM6nG,GAElBj1G,KAAKq0G,aAAav3G,IAAKsC,EAAGC,IAI9By2G,iBAAkB,SAAWC,EAAMC,EAAM/J,EAAIC,GAEzC,IAAI+I,EAAQ,IAAI9B,GACZnzG,KAAKq0G,aAAa7xG,QAClB,IAAIkE,GAASqvG,EAAMC,GACnB,IAAItvG,GAASulG,EAAIC,IAGrBlsG,KAAKk0G,OAAO9mG,KAAM6nG,GAElBj1G,KAAKq0G,aAAav3G,IAAKmvG,EAAIC,IAI/B+J,cAAe,SAAWC,EAAOC,EAAOC,EAAOC,EAAOpK,EAAIC,GAEtD,IAAI+I,EAAQ,IAAInC,GACZ9yG,KAAKq0G,aAAa7xG,QAClB,IAAIkE,GAASwvG,EAAOC,GACpB,IAAIzvG,GAAS0vG,EAAOC,GACpB,IAAI3vG,GAASulG,EAAIC,IAGrBlsG,KAAKk0G,OAAO9mG,KAAM6nG,GAElBj1G,KAAKq0G,aAAav3G,IAAKmvG,EAAIC,IAI/BoK,WAAY,SAAW1W,GAEnB,IAEIqV,EAAQ,IAAI5B,IAFHrzG,KAAKq0G,aAAa7xG,SAAUs/F,OAAQlC,IAGjD5/F,KAAKk0G,OAAO9mG,KAAM6nG,GAElBj1G,KAAKq0G,aAAalxG,KAAMy8F,EAAKA,EAAI7/F,OAAS,KAI9C03F,IAAK,SAAWwU,EAAIC,EAAIQ,EAASL,EAAaC,EAAWC,GAErD,IAAIpnF,EAAKnlB,KAAKq0G,aAAaj1G,EACvBgmB,EAAKplB,KAAKq0G,aAAah1G,EAE3BW,KAAKu2G,OAAQtK,EAAK9mF,EAAI+mF,EAAK9mF,EAAIsnF,EAC3BL,EAAaC,EAAWC,IAIhCgK,OAAQ,SAAWtK,EAAIC,EAAIQ,EAASL,EAAaC,EAAWC,GAExDvsG,KAAKw2G,WAAYvK,EAAIC,EAAIQ,EAASA,EAASL,EAAaC,EAAWC,IAIvEkK,QAAS,SAAWxK,EAAIC,EAAIC,EAASC,EAASC,EAAaC,EAAWC,EAAYC,GAE9E,IAAIrnF,EAAKnlB,KAAKq0G,aAAaj1G,EACvBgmB,EAAKplB,KAAKq0G,aAAah1G,EAE3BW,KAAKw2G,WAAYvK,EAAK9mF,EAAI+mF,EAAK9mF,EAAI+mF,EAASC,EAASC,EAAaC,EAAWC,EAAYC,IAI7FgK,WAAY,SAAWvK,EAAIC,EAAIC,EAASC,EAASC,EAAaC,EAAWC,EAAYC,GAEjF,IAAIyI,EAAQ,IAAIjJ,GAAcC,EAAIC,EAAIC,EAASC,EAASC,EAAaC,EAAWC,EAAYC,GAE5F,GAAKxsG,KAAKk0G,OAAOn0G,OAAS,EAAI,CAG1B,IAAI22G,EAAazB,EAAM5E,SAAU,GAE1BqG,EAAW77F,OAAQ7a,KAAKq0G,eAE3Br0G,KAAK61G,OAAQa,EAAWt3G,EAAGs3G,EAAWr3G,GAM9CW,KAAKk0G,OAAO9mG,KAAM6nG,GAElB,IAAI0B,EAAY1B,EAAM5E,SAAU,GAChCrwG,KAAKq0G,aAAalxG,KAAMwzG,IAI5BxzG,KAAM,SAAW2J,GAMb,OAJAmnG,GAAUr5G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAErC9M,KAAKq0G,aAAalxG,KAAM2J,EAAOunG,cAExBr0G,MAIXyvB,OAAQ,WAEJ,IAAId,EAAOslF,GAAUr5G,UAAU60B,OAAOt2B,KAAM6G,MAI5C,OAFA2uB,EAAK0lF,aAAer0G,KAAKq0G,aAAat5F,UAE/B4T,GAIX+iF,SAAU,SAAWC,GAMjB,OAJAsC,GAAUr5G,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAEzC3xG,KAAKq0G,aAAav5F,UAAW62F,EAAK0C,cAE3Br0G,QA6Bfs0G,GAAM15G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ85G,GAAKx5G,YAEjDmQ,YAAaupG,GAEbsC,eAAgB,SAAWnG,GAIvB,IAFA,IAAIoG,KAEM79G,EAAI,EAAGC,EAAI+G,KAAK8/F,MAAM//F,OAAQ/G,EAAIC,EAAGD,IAE3C69G,EAAU79G,GAAMgH,KAAK8/F,MAAO9mG,GAAIw3G,UAAWC,GAI/C,OAAOoG,GAMXjV,cAAe,SAAW6O,GAEtB,OAEI52D,MAAO75C,KAAKwwG,UAAWC,GACvB3Q,MAAO9/F,KAAK42G,eAAgBnG,KAMpCttG,KAAM,SAAW2J,GAEbsnG,GAAKx5G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEhC9M,KAAK8/F,SAEL,IAAM,IAAI9mG,EAAI,EAAGC,EAAI6T,EAAOgzF,MAAM//F,OAAQ/G,EAAIC,EAAGD,IAAO,CAEpD,IAAIwlG,EAAO1xF,EAAOgzF,MAAO9mG,GAEzBgH,KAAK8/F,MAAM1yF,KAAMoxF,EAAKh8F,SAI1B,OAAOxC,MAIXyvB,OAAQ,WAEJ,IAAId,EAAOylF,GAAKx5G,UAAU60B,OAAOt2B,KAAM6G,MAEvC2uB,EAAK9uB,KAAOG,KAAKH,KACjB8uB,EAAKmxE,SAEL,IAAM,IAAI9mG,EAAI,EAAGC,EAAI+G,KAAK8/F,MAAM//F,OAAQ/G,EAAIC,EAAGD,IAAO,CAElD,IAAIwlG,EAAOx+F,KAAK8/F,MAAO9mG,GACvB21B,EAAKmxE,MAAM1yF,KAAMoxF,EAAK/uE,UAI1B,OAAOd,GAIX+iF,SAAU,SAAWC,GAEjByC,GAAKx5G,UAAU82G,SAASv4G,KAAM6G,KAAM2xG,GAEpC3xG,KAAKH,KAAO8xG,EAAK9xG,KACjBG,KAAK8/F,SAEL,IAAM,IAAI9mG,EAAI,EAAGC,EAAI04G,EAAK7R,MAAM//F,OAAQ/G,EAAIC,EAAGD,IAAO,CAElD,IAAIwlG,EAAOmT,EAAK7R,MAAO9mG,GACvBgH,KAAK8/F,MAAM1yF,MAAM,IAAIgnG,IAAO1C,SAAUlT,IAI1C,OAAOx+F,QAwBfu0G,GAAM35G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAErDmQ,YAAawpG,GAEbvoB,SAAS,EAET7oF,KAAM,SAAW2J,GAOb,OALAmpC,GAASr7C,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEpC9M,KAAK/B,MAAMkF,KAAM2J,EAAO7O,OACxB+B,KAAKyjE,UAAY32D,EAAO22D,UAEjBzjE,MAIXyvB,OAAQ,SAAWC,GAEf,IAAIf,EAAOsnB,GAASr7C,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAcjD,OAZAf,EAAKj0B,OAAOuD,MAAQ+B,KAAK/B,MAAM0sC,SAC/Bhc,EAAKj0B,OAAO+oE,UAAYzjE,KAAKyjE,eAEH9iE,IAArBX,KAAK2vC,cAA4BhhB,EAAKj0B,OAAOi1C,YAAc3vC,KAAK2vC,YAAYhF,eAE1DhqC,IAAlBX,KAAKyH,WAAyBknB,EAAKj0B,OAAO+M,SAAWzH,KAAKyH,eAC3C9G,IAAfX,KAAKqH,QAAsBsnB,EAAKj0B,OAAO2M,MAAQrH,KAAKqH,YACrC1G,IAAfX,KAAKivC,QAAsBtgB,EAAKj0B,OAAOu0C,MAAQjvC,KAAKivC,YAClCtuC,IAAlBX,KAAK+jE,WAAyBp1C,EAAKj0B,OAAOqpE,SAAW/jE,KAAK+jE,eAE1CpjE,IAAhBX,KAAKwuC,SAAuB7f,EAAKj0B,OAAO8zC,OAASxuC,KAAKwuC,OAAO/e,UAE3Dd,KAyBf6lF,GAAgB55G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi6G,GAAM35G,YAE5DmQ,YAAaypG,GAEbtwC,mBAAmB,EAEnB/gE,KAAM,SAAW2J,GAMb,OAJAynG,GAAM35G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAK2vC,YAAYxsC,KAAM2J,EAAO6iC,aAEvB3vC,QAwBftG,OAAO+S,OAAQgoG,GAAY75G,WAEvBuI,KAAM,SAAW2J,GASb,OAPA9M,KAAKhF,OAAS8R,EAAO9R,OAAOwH,QAE5BxC,KAAK4jE,KAAO92D,EAAO82D,KACnB5jE,KAAK2E,OAASmI,EAAOnI,OAErB3E,KAAK6jE,QAAQ1gE,KAAM2J,EAAO+2D,SAEnB7jE,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCyvB,OAAQ,WAEJ,IAAI/0B,KASJ,OAPmB,IAAdsF,KAAK4jE,OAAalpE,EAAOkpE,KAAO5jE,KAAK4jE,MACrB,IAAhB5jE,KAAK2E,SAAejK,EAAOiK,OAAS3E,KAAK2E,QACtB,MAAnB3E,KAAK6jE,QAAQzkE,GAAgC,MAAnBY,KAAK6jE,QAAQxkE,IAAY3E,EAAOmpE,QAAU7jE,KAAK6jE,QAAQ9oD,WAEtFrgB,EAAOM,OAASgF,KAAKhF,OAAOy0B,QAAQ,GAAQ/0B,cACrCA,EAAOM,OAAOuN,OAEd7N,KAgBfg6G,GAAgB95G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQm6G,GAAY75G,YAElEmQ,YAAa2pG,GAEb3sC,mBAAmB,EAEnBtnE,OAAQ,SAAWN,GAEf,IAAInF,EAASgF,KAAKhF,OAEdqN,EAAsB,EAAhBmN,GAAME,QAAcvV,EAAMkH,MAChChM,EAAS2E,KAAK6jE,QAAQxrD,MAAQrY,KAAK6jE,QAAQvrD,OAC3C+L,EAAMlkB,EAAMsH,UAAYzM,EAAOqpB,IAE9Bhc,IAAQrN,EAAOqN,KAAOhN,IAAWL,EAAOK,QAAUgpB,IAAQrpB,EAAOqpB,MAElErpB,EAAOqN,IAAMA,EACbrN,EAAOK,OAASA,EAChBL,EAAOqpB,IAAMA,EACbrpB,EAAOS,6BAiDnBk5G,GAAU/5G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi6G,GAAM35G,YAEtDmQ,YAAa4pG,GAEb7wC,aAAa,EAEb3gE,KAAM,SAAW2J,GAab,OAXAynG,GAAM35G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKyH,SAAWqF,EAAOrF,SACvBzH,KAAKqH,MAAQyF,EAAOzF,MACpBrH,KAAK+jE,SAAWj3D,EAAOi3D,SACvB/jE,KAAKivC,MAAQniC,EAAOmiC,MAEpBjvC,KAAKa,OAASiM,EAAOjM,OAAO2B,QAE5BxC,KAAKwuC,OAAS1hC,EAAO0hC,OAAOhsC,QAErBxC,QAyCf60G,GAAWj6G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi6G,GAAM35G,YAEvDmQ,YAAa8pG,GAEb5wC,cAAc,EAEd9gE,KAAM,SAAW2J,GASb,OAPAynG,GAAM35G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKyH,SAAWqF,EAAOrF,SACvBzH,KAAKivC,MAAQniC,EAAOmiC,MAEpBjvC,KAAKwuC,OAAS1hC,EAAO0hC,OAAOhsC,QAErBxC,QAgCf80G,GAAmBl6G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQu4E,GAAOj4E,YAEhEmQ,YAAa+pG,GAEbtsG,sBAAsB,EAEtBrF,KAAM,SAAW2J,EAAQotC,GAcrB,OAZA24B,GAAOj4E,UAAUuI,KAAKhK,KAAM6G,KAAM8M,EAAQotC,GAE1Cl6C,KAAK0I,KAAOoE,EAAOpE,KACnB1I,KAAKyI,MAAQqE,EAAOrE,MACpBzI,KAAK4I,IAAMkE,EAAOlE,IAClB5I,KAAK6I,OAASiE,EAAOjE,OACrB7I,KAAKokB,KAAOtX,EAAOsX,KACnBpkB,KAAKqkB,IAAMvX,EAAOuX,IAElBrkB,KAAK2C,KAAOmK,EAAOnK,KACnB3C,KAAKgzE,KAAuB,OAAhBlmE,EAAOkmE,KAAgB,KAAOt5E,OAAO+S,UAAYK,EAAOkmE,MAE7DhzE,MAIXo4F,cAAe,SAAWC,EAAWC,EAAYl5F,EAAGC,EAAGgZ,EAAOC,GAEvC,OAAdtY,KAAKgzE,OAENhzE,KAAKgzE,MACDpyE,SAAS,EACTy3F,UAAW,EACXC,WAAY,EACZC,QAAS,EACTC,QAAS,EACTngF,MAAO,EACPC,OAAQ,IAKhBtY,KAAKgzE,KAAKpyE,SAAU,EACpBZ,KAAKgzE,KAAKqlB,UAAYA,EACtBr4F,KAAKgzE,KAAKslB,WAAaA,EACvBt4F,KAAKgzE,KAAKulB,QAAUn5F,EACpBY,KAAKgzE,KAAKwlB,QAAUn5F,EACpBW,KAAKgzE,KAAK36D,MAAQA,EAClBrY,KAAKgzE,KAAK16D,OAASA,EAEnBtY,KAAKvE,0BAITg9F,gBAAiB,WAEM,OAAdz4F,KAAKgzE,OAENhzE,KAAKgzE,KAAKpyE,SAAU,GAIxBZ,KAAKvE,0BAITA,uBAAwB,WAEpB,IAAI+O,GAAOxK,KAAKyI,MAAQzI,KAAK0I,OAAW,EAAI1I,KAAK2C,MAC7C8H,GAAOzK,KAAK4I,IAAM5I,KAAK6I,SAAa,EAAI7I,KAAK2C,MAC7C8oB,GAAOzrB,KAAKyI,MAAQzI,KAAK0I,MAAS,EAClCgjB,GAAO1rB,KAAK4I,IAAM5I,KAAK6I,QAAW,EAElCH,EAAO+iB,EAAKjhB,EACZ/B,EAAQgjB,EAAKjhB,EACb5B,EAAM8iB,EAAKjhB,EACX5B,EAAS6iB,EAAKjhB,EAElB,GAAmB,OAAdzK,KAAKgzE,MAAiBhzE,KAAKgzE,KAAKpyE,QAAU,CAE3C,IAAIk2G,EAAQ92G,KAAK2C,MAAS3C,KAAKgzE,KAAK36D,MAAQrY,KAAKgzE,KAAKqlB,WAClD0e,EAAQ/2G,KAAK2C,MAAS3C,KAAKgzE,KAAK16D,OAAStY,KAAKgzE,KAAKslB,YACnD0e,GAAWh3G,KAAKyI,MAAQzI,KAAK0I,MAAS1I,KAAKgzE,KAAK36D,MAChD4+F,GAAWj3G,KAAK4I,IAAM5I,KAAK6I,QAAW7I,KAAKgzE,KAAK16D,OAGpD7P,GADAC,GAAQsuG,GAAWh3G,KAAKgzE,KAAKulB,QAAUue,IACxBE,GAAWh3G,KAAKgzE,KAAK36D,MAAQy+F,GAE5CjuG,GADAD,GAAOquG,GAAWj3G,KAAKgzE,KAAKwlB,QAAUue,IACvBE,GAAWj3G,KAAKgzE,KAAK16D,OAASy+F,GAIjD/2G,KAAK2pB,iBAAiBrF,iBAAkB5b,EAAMD,EAAOG,EAAKC,EAAQ7I,KAAKokB,KAAMpkB,KAAKqkB,KAElFrkB,KAAK8yE,wBAAwBvxD,WAAYvhB,KAAK2pB,mBAIlD8F,OAAQ,SAAWC,GAEf,IAAIf,EAAOsnB,GAASr7C,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAYjD,OAVAf,EAAKj0B,OAAOiI,KAAO3C,KAAK2C,KACxBgsB,EAAKj0B,OAAOgO,KAAO1I,KAAK0I,KACxBimB,EAAKj0B,OAAO+N,MAAQzI,KAAKyI,MACzBkmB,EAAKj0B,OAAOkO,IAAM5I,KAAK4I,IACvB+lB,EAAKj0B,OAAOmO,OAAS7I,KAAK6I,OAC1B8lB,EAAKj0B,OAAO0pB,KAAOpkB,KAAKokB,KACxBuK,EAAKj0B,OAAO2pB,IAAMrkB,KAAKqkB,IAEJ,OAAdrkB,KAAKgzE,OAAgBrkD,EAAKj0B,OAAOs4E,KAAOt5E,OAAO+S,UAAYzM,KAAKgzE,OAE9DrkD,KAgBfomF,GAAuBn6G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQm6G,GAAY75G,YAEzEmQ,YAAagqG,KAwBjB30G,GAAiBxF,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi6G,GAAM35G,YAE7DmQ,YAAa3K,GAEbujE,oBAAoB,EAEpBxgE,KAAM,SAAW2J,GAQb,OANAynG,GAAM35G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKa,OAASiM,EAAOjM,OAAO2B,QAE5BxC,KAAKwuC,OAAS1hC,EAAO0hC,OAAOhsC,QAErBxC,QAoBfK,GAAazF,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi6G,GAAM35G,YAEzDmQ,YAAa1K,GAEbqjE,gBAAgB,IAmBpBsxC,GAAcp6G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQi6G,GAAM35G,YAE1DmQ,YAAaiqG,GAEbhxC,iBAAiB,EAEjB7gE,KAAM,SAAW2J,GAOb,OALAynG,GAAM35G,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAEjC9M,KAAKqY,MAAQvL,EAAOuL,MACpBrY,KAAKsY,OAASxL,EAAOwL,OAEdtY,MAIXyvB,OAAQ,SAAWC,GAEf,IAAIf,EAAO4lF,GAAM35G,UAAU60B,OAAOt2B,KAAM6G,KAAM0vB,GAK9C,OAHAf,EAAKj0B,OAAO2d,MAAQrY,KAAKqY,MACzBsW,EAAKj0B,OAAO4d,OAAStY,KAAKsY,OAEnBqW,KAYf,IAAIuoF,IAGAC,WAAY,SAAW3pG,EAAO4pG,EAAMC,GAEhC,OAAKH,GAAeI,aAAc9pG,GAIvB,IAAIA,EAAMzC,YAAayC,EAAM6mC,SAAU+iE,OAAaz2G,IAAP02G,EAAmBA,EAAK7pG,EAAMzN,SAI/EyN,EAAMC,MAAO2pG,EAAMC,IAK9BE,aAAc,SAAW/pG,EAAOxH,EAAMwxG,GAElC,OAAOhqG,IACDgqG,GAAchqG,EAAMzC,cAAgB/E,EAAcwH,EAEjB,iBAA3BxH,EAAKkuC,kBAEN,IAAIluC,EAAMwH,GAId0iB,MAAMt1B,UAAU6S,MAAMtU,KAAMqU,IAIvC8pG,aAAc,SAAW58G,GAErB,OAAO+8G,YAAYC,OAAQh9G,MACnBA,aAAkBi9G,WAK9BC,iBAAkB,SAAWC,GAUzB,IAFA,IAAIp9G,EAAIo9G,EAAM93G,OACVmvD,EAAS,IAAIh/B,MAAOz1B,GACdzB,EAAI,EAAGA,IAAMyB,IAAMzB,EAAIk2D,EAAQl2D,GAAMA,EAI/C,OAFAk2D,EAAO/O,KAVP,SAAsBnnD,EAAGm7B,GAErB,OAAO0jF,EAAO7+G,GAAM6+G,EAAO1jF,KAUxB+6B,GAKX4oD,YAAa,SAAW79D,EAAQ6wC,EAAQrtE,GAKpC,IAHA,IAAIs6F,EAAU99D,EAAOl6C,OACjBmvD,EAAS,IAAIjV,EAAOlvC,YAAagtG,GAE3B/+G,EAAI,EAAG8rB,EAAY,EAAGA,IAAcizF,IAAY/+G,EAItD,IAFA,IAAIg/G,EAAYv6F,EAAOzkB,GAAM8xF,EAEnB32D,EAAI,EAAGA,IAAM22D,IAAW32D,EAE9B+6B,EAAQpqC,KAAiBm1B,EAAQ+9D,EAAY7jF,GAMrD,OAAO+6B,GAKX+oD,YAAa,SAAWC,EAAUL,EAAO59D,EAAQk+D,GAI7C,IAFA,IAAIn/G,EAAI,EAAGuB,EAAM29G,EAAU,QAEXv3G,IAARpG,QAAkDoG,IAA7BpG,EAAK49G,IAE9B59G,EAAM29G,EAAUl/G,KAIpB,QAAa2H,IAARpG,EAAL,CAEA,IAAIN,EAAQM,EAAK49G,GACjB,QAAex3G,IAAV1G,EAEL,GAAKi2B,MAAMC,QAASl2B,GAEhB,QAImB0G,KAFf1G,EAAQM,EAAK49G,MAITN,EAAMzqG,KAAM7S,EAAIq3C,MAChBqI,EAAO7sC,KAAKtB,MAAOmuC,EAAQhgD,IAI/BM,EAAM29G,EAAUl/G,gBAEF2H,IAARpG,QAEP,QAAuBoG,IAAlB1G,EAAM8gB,QAId,QAImBpa,KAFf1G,EAAQM,EAAK49G,MAITN,EAAMzqG,KAAM7S,EAAIq3C,MAChB33C,EAAM8gB,QAASk/B,EAAQA,EAAOl6C,SAIlCxF,EAAM29G,EAAUl/G,gBAEF2H,IAARpG,QAMV,QAImBoG,KAFf1G,EAAQM,EAAK49G,MAITN,EAAMzqG,KAAM7S,EAAIq3C,MAChBqI,EAAO7sC,KAAMnT,IAIjBM,EAAM29G,EAAUl/G,gBAEF2H,IAARpG,MA8BtB,SAAS69G,GAAaC,EAAoBC,EAAcC,EAAYC,GAEhEx4G,KAAKq4G,mBAAqBA,EAC1Br4G,KAAKy4G,aAAe,EAEpBz4G,KAAKw4G,kBAAgC73G,IAAjB63G,EAChBA,EAAe,IAAIF,EAAavtG,YAAawtG,GACjDv4G,KAAKs4G,aAAeA,EACpBt4G,KAAK04G,UAAYH,EA6OrB,SAASI,GAAkBN,EAAoBC,EAAcC,EAAYC,GAErEJ,GAAYj/G,KAAM6G,KAAMq4G,EAAoBC,EAAcC,EAAYC,GAEtEx4G,KAAK44G,aAAgB,EACrB54G,KAAK64G,aAAgB,EACrB74G,KAAK84G,aAAgB,EACrB94G,KAAK+4G,aAAgB,EAyIzB,SAASC,GAAmBX,EAAoBC,EAAcC,EAAYC,GAEtEJ,GAAYj/G,KAAM6G,KAAMq4G,EAAoBC,EAAcC,EAAYC,GA0C1E,SAASS,GAAqBZ,EAAoBC,EAAcC,EAAYC,GAExEJ,GAAYj/G,KAAM6G,KAAMq4G,EAAoBC,EAAcC,EAAYC,GA0B1E,SAASU,GAAe3/G,EAAMs+G,EAAO59D,EAAQk/D,GAEzC,QAAcx4G,IAATpH,EAAqB,MAAM,IAAIsf,MAAO,gDAC3C,QAAelY,IAAVk3G,GAAwC,IAAjBA,EAAM93G,OAAe,MAAM,IAAI8Y,MAAO,oDAAsDtf,GAExHyG,KAAKzG,KAAOA,EAEZyG,KAAK63G,MAAQX,GAAeK,aAAcM,EAAO73G,KAAKo5G,gBACtDp5G,KAAKi6C,OAASi9D,GAAeK,aAAct9D,EAAQj6C,KAAKq5G,iBAExDr5G,KAAKs5G,iBAAkBH,GAAiBn5G,KAAKu5G,sBAibjD,SAASC,GAAsBjgH,EAAMs+G,EAAO59D,GAExCi/D,GAAc//G,KAAM6G,KAAMzG,EAAMs+G,EAAO59D,GAgC3C,SAASw/D,GAAoBlgH,EAAMs+G,EAAO59D,EAAQk/D,GAE9CD,GAAc//G,KAAM6G,KAAMzG,EAAMs+G,EAAO59D,EAAQk/D,GA4BnD,SAASO,GAAqBngH,EAAMs+G,EAAO59D,EAAQk/D,GAE/CD,GAAc//G,KAAM6G,KAAMzG,EAAMs+G,EAAO59D,EAAQk/D,GAsBnD,SAASQ,GAA6BtB,EAAoBC,EAAcC,EAAYC,GAEhFJ,GAAYj/G,KAAM6G,KAAMq4G,EAAoBC,EAAcC,EAAYC,GAuC1E,SAASoB,GAAyBrgH,EAAMs+G,EAAO59D,EAAQk/D,GAEnDD,GAAc//G,KAAM6G,KAAMzG,EAAMs+G,EAAO59D,EAAQk/D,GAkCnD,SAASU,GAAqBtgH,EAAMs+G,EAAO59D,EAAQk/D,GAE/CD,GAAc//G,KAAM6G,KAAMzG,EAAMs+G,EAAO59D,EAAQk/D,GA6BnD,SAASW,GAAqBvgH,EAAMs+G,EAAO59D,EAAQk/D,GAE/CD,GAAc//G,KAAM6G,KAAMzG,EAAMs+G,EAAO59D,EAAQk/D,GAwBnD,SAASY,GAAexgH,EAAMygH,EAAUC,GAEpCj6G,KAAKzG,KAAOA,EACZyG,KAAKi6G,OAASA,EACdj6G,KAAKg6G,cAA0Br5G,IAAbq5G,EAA2BA,GAAa,EAE1Dh6G,KAAKH,KAAO2V,GAAMG,eAGb3V,KAAKg6G,SAAW,GAEjBh6G,KAAKk6G,gBAgDb,SAASC,GAAoBxI,GAEzB,QAAmBhxG,IAAdgxG,EAAK3rG,KAEN,MAAM,IAAI6S,MAAO,4DAIrB,IAAIuhG,EAlDR,SAAuCC,GAEnC,OAASA,EAASrM,eAEd,IAAK,SACL,IAAK,SACL,IAAK,QACL,IAAK,SACL,IAAK,UAED,OAAO0L,GAEX,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,UAED,OAAOI,GAEX,IAAK,QAED,OAAOL,GAEX,IAAK,aAED,OAAOG,GAEX,IAAK,OACL,IAAK,UAED,OAAOJ,GAEX,IAAK,SAED,OAAOK,GAIf,MAAM,IAAIhhG,MAAO,8CAAgDwhG,GAYjDC,CAA8B3I,EAAK3rG,MAEnD,QAAoBrF,IAAfgxG,EAAKkG,MAAsB,CAE5B,IAAIA,KAAY59D,KAEhBi9D,GAAee,YAAatG,EAAK5vG,KAAM81G,EAAO59D,EAAQ,SAEtD03D,EAAKkG,MAAQA,EACblG,EAAK13D,OAASA,EAKlB,YAAyBt5C,IAApBy5G,EAAUjgE,MAEJigE,EAAUjgE,MAAOw3D,GAKjB,IAAIyI,EAAWzI,EAAKp4G,KAAMo4G,EAAKkG,MAAOlG,EAAK13D,OAAQ03D,EAAKwH,eA6VvE,SAASoB,GAAgBhP,GAErBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GACrDprG,KAAK4vB,YAqNT,SAAS4qF,GAAsBjP,GAE3BvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAzuDzD1xG,OAAO+S,OAAQ2rG,GAAYx9G,WAEvB6/G,SAAU,SAAWvgH,GAEjB,IAAIwgH,EAAK16G,KAAKq4G,mBACVxpD,EAAK7uD,KAAKy4G,aAEVlsD,EAAKmuD,EAAI7rD,GACTvC,EAAKouD,EAAI7rD,EAAK,GAElB8rD,EAAmB,CAEfC,EAAM,CAEF,IAAInyG,EAEJoyG,EAAa,CAMTC,EAAc,KAAS5gH,EAAIqyD,GAAO,CAE9B,IAAM,IAAIwuD,EAAWlsD,EAAK,IAAO,CAE7B,QAAYluD,IAAP4rD,EAAmB,CAEpB,GAAKryD,EAAIoyD,EAAK,MAAMwuD,EAMpB,OAFAjsD,EAAK6rD,EAAG36G,OACRC,KAAKy4G,aAAe5pD,EACb7uD,KAAKg7G,UAAWnsD,EAAK,EAAG30D,EAAGoyD,GAItC,GAAKuC,IAAOksD,EAAW,MAKvB,GAHAzuD,EAAKC,EAGAryD,GAFLqyD,EAAKmuD,IAAO7rD,IAKR,MAAM+rD,EAOdnyG,EAAQiyG,EAAG36G,OACX,MAAM86G,EAMV,GAAS3gH,GAAKoyD,EAiDd,MAAMquD,EA7CF,IAAIM,EAAWP,EAAI,GAEdxgH,EAAI+gH,IAELpsD,EAAK,EACLvC,EAAK2uD,GAMT,IAAUF,EAAWlsD,EAAK,IAAO,CAE7B,QAAYluD,IAAP2rD,EAKD,OADAtsD,KAAKy4G,aAAe,EACbz4G,KAAKk7G,aAAc,EAAGhhH,EAAGqyD,GAIpC,GAAKsC,IAAOksD,EAAW,MAKvB,GAHAxuD,EAAKD,EAGApyD,IAFLoyD,EAAKouD,IAAO7rD,EAAK,IAKb,MAAM+rD,EAOdnyG,EAAQomD,EACRA,EAAK,EAab,KAAQA,EAAKpmD,GAAQ,CAEjB,IAAI0yG,EAAQtsD,EAAKpmD,IAAY,EAExBvO,EAAIwgH,EAAIS,GAET1yG,EAAQ0yG,EAIRtsD,EAAKssD,EAAM,EAWnB,GALA5uD,EAAKmuD,EAAI7rD,QAKGluD,KAJZ2rD,EAAKouD,EAAI7rD,EAAK,IAOV,OADA7uD,KAAKy4G,aAAe,EACbz4G,KAAKk7G,aAAc,EAAGhhH,EAAGqyD,GAIpC,QAAY5rD,IAAP4rD,EAID,OAFAsC,EAAK6rD,EAAG36G,OACRC,KAAKy4G,aAAe5pD,EACb7uD,KAAKg7G,UAAWnsD,EAAK,EAAGvC,EAAIpyD,GAM3C8F,KAAKy4G,aAAe5pD,EAEpB7uD,KAAKo7G,iBAAkBvsD,EAAIvC,EAAIC,GAInC,OAAOvsD,KAAKq7G,aAAcxsD,EAAIvC,EAAIpyD,EAAGqyD,IAIzC+uD,SAAU,KAKVC,oBAEAC,aAAc,WAEV,OAAOx7G,KAAKs7G,UAAYt7G,KAAKu7G,kBAIjCE,iBAAkB,SAAW7uG,GASzB,IALA,IAAIsiD,EAASlvD,KAAKw4G,aACdv+D,EAASj6C,KAAKs4G,aACdxtB,EAAS9qF,KAAK04G,UACdh1G,EAASkJ,EAAQk+E,EAEX9xF,EAAI,EAAGA,IAAM8xF,IAAW9xF,EAE9Bk2D,EAAQl2D,GAAMihD,EAAQv2C,EAAS1K,GAInC,OAAOk2D,GAMXmsD,aAAc,WAEV,MAAM,IAAIxiG,MAAO,4BAKrBuiG,iBAAkB;AAStB1hH,OAAO+S,OAAQ2rG,GAAYx9G,WAGvBsgH,aAAc9C,GAAYx9G,UAAU6gH,iBAGpCT,UAAW5C,GAAYx9G,UAAU6gH,mBAyBrC9C,GAAiB/9G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ89G,GAAYx9G,YAEnEmQ,YAAa4tG,GAEb4C,kBAEIG,YAAajnG,GACbknG,UAAWlnG,IAIf2mG,iBAAkB,SAAWvsD,EAAIvC,EAAIC,GAEjC,IAAImuD,EAAK16G,KAAKq4G,mBACVuD,EAAQ/sD,EAAK,EACbgtD,EAAQhtD,EAAK,EAEbitD,EAAQpB,EAAIkB,GACZG,EAAQrB,EAAImB,GAEhB,QAAel7G,IAAVm7G,EAED,OAAS97G,KAAKw7G,eAAeE,aAEzB,KAjslCM,KAoslCFE,EAAQ/sD,EACRitD,EAAQ,EAAIxvD,EAAKC,EAEjB,MAEJ,KAxslCO,KA4slCHuvD,EAAQxvD,EAAKouD,EADbkB,EAAQlB,EAAG36G,OAAS,GACO26G,EAAIkB,EAAQ,GAEvC,MAEJ,QAGIA,EAAQ/sD,EACRitD,EAAQvvD,EAMpB,QAAe5rD,IAAVo7G,EAED,OAAS/7G,KAAKw7G,eAAeG,WAEzB,KA/tlCM,KAkulCFE,EAAQhtD,EACRktD,EAAQ,EAAIxvD,EAAKD,EAEjB,MAEJ,KAtulCO,KAyulCHuvD,EAAQ,EACRE,EAAQxvD,EAAKmuD,EAAI,GAAMA,EAAI,GAE3B,MAEJ,QAGImB,EAAQhtD,EAAK,EACbktD,EAAQzvD,EAMpB,IAAI0vD,EAAuB,IAAZzvD,EAAKD,GAChBw+B,EAAS9qF,KAAK04G,UAElB14G,KAAK44G,YAAcoD,GAAW1vD,EAAKwvD,GACnC97G,KAAK84G,YAAckD,GAAWD,EAAQxvD,GACtCvsD,KAAK64G,YAAc+C,EAAQ9wB,EAC3B9qF,KAAK+4G,YAAc8C,EAAQ/wB,GAI/BuwB,aAAc,SAAWxsD,EAAIvC,EAAIpyD,EAAGqyD,GAuBhC,IArBA,IAAI2C,EAASlvD,KAAKw4G,aACdv+D,EAASj6C,KAAKs4G,aACdxtB,EAAS9qF,KAAK04G,UAEduD,EAAKptD,EAAKi8B,EAASoxB,EAAKD,EAAKnxB,EAC7BqxB,EAAKn8G,KAAK64G,YAAcuD,EAAKp8G,KAAK+4G,YAClCsD,EAAKr8G,KAAK44G,YAAa0D,EAAKt8G,KAAK84G,YAEjCh+G,GAAMZ,EAAIoyD,IAASC,EAAKD,GACxBouD,EAAK5/G,EAAIA,EACTyhH,EAAM7B,EAAK5/G,EAIX0hH,GAAOH,EAAKE,EAAM,EAAIF,EAAK3B,EAAK2B,EAAKvhH,EACrC6wD,GAAO,EAAI0wD,GAAOE,IAAU,IAAM,EAAIF,GAAO3B,IAAS,GAAM2B,GAAOvhH,EAAI,EACvEurB,IAAS,EAAIi2F,GAAOC,GAAQ,IAAMD,GAAO5B,EAAK,GAAM5/G,EACpD2hH,EAAKH,EAAKC,EAAMD,EAAK5B,EAIf1hH,EAAI,EAAGA,IAAM8xF,IAAW9xF,EAE9Bk2D,EAAQl2D,GACJwjH,EAAKviE,EAAQkiE,EAAKnjH,GAClB2yD,EAAK1R,EAAQiiE,EAAKljH,GAClBqtB,EAAK4zB,EAAQgiE,EAAKjjH,GAClByjH,EAAKxiE,EAAQmiE,EAAKpjH,GAI1B,OAAOk2D,KAgBf8pD,GAAkBp+G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ89G,GAAYx9G,YAEpEmQ,YAAaiuG,GAEbqC,aAAc,SAAWxsD,EAAIvC,EAAIpyD,EAAGqyD,GAYhC,IAVA,IAAI2C,EAASlvD,KAAKw4G,aACdv+D,EAASj6C,KAAKs4G,aACdxtB,EAAS9qF,KAAK04G,UAEdgE,EAAU7tD,EAAKi8B,EACf6xB,EAAUD,EAAU5xB,EAEpB8xB,GAAY1iH,EAAIoyD,IAASC,EAAKD,GAC9BuwD,EAAU,EAAID,EAER5jH,EAAI,EAAGA,IAAM8xF,IAAW9xF,EAE9Bk2D,EAAQl2D,GACJihD,EAAQ0iE,EAAU3jH,GAAM6jH,EACxB5iE,EAAQyiE,EAAU1jH,GAAM4jH,EAIhC,OAAO1tD,KAoBf+pD,GAAoBr+G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ89G,GAAYx9G,YAEtEmQ,YAAakuG,GAEboC,aAAc,SAAWxsD,GAErB,OAAO7uD,KAAKy7G,iBAAkB5sD,EAAK,MAgC3Cn1D,OAAO+S,OAAQysG,IAKXzpF,OAAQ,SAAWqtF,GAEf,IAEInL,EAFAyI,EAAY0C,EAAM/xG,YAKtB,QAA0BpK,IAArBy5G,EAAU3qF,OAEXkiF,EAAOyI,EAAU3qF,OAAQqtF,OAEtB,CAGHnL,GAEIp4G,KAAQujH,EAAMvjH,KACds+G,MAASX,GAAeK,aAAcuF,EAAMjF,MAAO3nF,OACnD+pB,OAAUi9D,GAAeK,aAAcuF,EAAM7iE,OAAQ/pB,QAIzD,IAAIipF,EAAgB2D,EAAMC,mBAErB5D,IAAkB2D,EAAMvD,uBAEzB5H,EAAKwH,cAAgBA,GAQ7B,OAFAxH,EAAK3rG,KAAO82G,EAAME,cAEXrL,KAMfj4G,OAAO+S,OAAQysG,GAAct+G,WAEzBmQ,YAAamuG,GAEbE,eAAgBjmE,aAEhBkmE,gBAAiBlmE,aAEjBomE,qBA97lCoB,KAg8lCpB0D,iCAAkC,SAAW/tD,GAEzC,OAAO,IAAI+pD,GAAqBj5G,KAAK63G,MAAO73G,KAAKi6C,OAAQj6C,KAAKk9G,eAAgBhuD,IAIlFiuD,+BAAgC,SAAWjuD,GAEvC,OAAO,IAAI8pD,GAAmBh5G,KAAK63G,MAAO73G,KAAKi6C,OAAQj6C,KAAKk9G,eAAgBhuD,IAIhFkuD,+BAAgC,SAAWluD,GAEvC,OAAO,IAAIypD,GAAkB34G,KAAK63G,MAAO73G,KAAKi6C,OAAQj6C,KAAKk9G,eAAgBhuD,IAI/EoqD,iBAAkB,SAAWH,GAEzB,IAAIkE,EAEJ,OAASlE,GAEL,KAz9lCc,KA29lCVkE,EAAgBr9G,KAAKi9G,iCAErB,MAEJ,KA99lCY,KAg+lCRI,EAAgBr9G,KAAKm9G,+BAErB,MAEJ,KAn+lCY,KAq+lCRE,EAAgBr9G,KAAKo9G,+BAM7B,QAAuBz8G,IAAlB08G,EAA8B,CAE/B,IAAIjhC,EAAU,iCACVp8E,KAAKg9G,cAAgB,yBAA2Bh9G,KAAKzG,KAEzD,QAAgCoH,IAA3BX,KAAKs9G,kBAAkC,CAGxC,GAAKnE,IAAkBn5G,KAAKu5G,qBAMxB,MAAM,IAAI1gG,MAAOujE,GAJjBp8E,KAAKs5G,iBAAkBt5G,KAAKu5G,sBAWpC,OADAzwG,QAAQC,KAAM,uBAAwBqzE,GAC/Bp8E,KAMX,OAFAA,KAAKs9G,kBAAoBD,EAElBr9G,MAIX+8G,iBAAkB,WAEd,OAAS/8G,KAAKs9G,mBAEV,KAAKt9G,KAAKi9G,iCAEN,OAlhmCU,KAohmCd,KAAKj9G,KAAKm9G,+BAEN,OArhmCQ,KAuhmCZ,KAAKn9G,KAAKo9G,+BAEN,OAxhmCQ,OA8hmCpBF,aAAc,WAEV,OAAOl9G,KAAKi6C,OAAOl6C,OAASC,KAAK63G,MAAM93G,QAK3Cw9G,MAAO,SAAWC,GAEd,GAAoB,IAAfA,EAID,IAFA,IAAI3F,EAAQ73G,KAAK63G,MAEP7+G,EAAI,EAAGyB,EAAIo9G,EAAM93G,OAAQ/G,IAAMyB,IAAMzB,EAE3C6+G,EAAO7+G,IAAOwkH,EAMtB,OAAOx9G,MAKXd,MAAO,SAAWu+G,GAEd,GAAmB,IAAdA,EAID,IAFA,IAAI5F,EAAQ73G,KAAK63G,MAEP7+G,EAAI,EAAGyB,EAAIo9G,EAAM93G,OAAQ/G,IAAMyB,IAAMzB,EAE3C6+G,EAAO7+G,IAAOykH,EAMtB,OAAOz9G,MAMXw9D,KAAM,SAAWkgD,EAAWC,GAOxB,IALA,IAAI9F,EAAQ73G,KAAK63G,MACb+F,EAAQ/F,EAAM93G,OACdq3G,EAAO,EACPC,EAAKuG,EAAQ,EAETxG,IAASwG,GAAS/F,EAAOT,GAASsG,KAEnCtG,EAIP,MAAiB,IAATC,GAAcQ,EAAOR,GAAOsG,KAE7BtG,EAMP,KAFGA,EAEW,IAATD,GAAcC,IAAOuG,EAAQ,CAGzBxG,GAAQC,IAA6BD,GAAxBC,EAAK/5G,KAAKkH,IAAK6yG,EAAI,IAAiB,GAEtD,IAAIvsB,EAAS9qF,KAAKk9G,eAClBl9G,KAAK63G,MAAQX,GAAeC,WAAYU,EAAOT,EAAMC,GACrDr3G,KAAKi6C,OAASi9D,GAAeC,WAAYn3G,KAAKi6C,OAAQm9D,EAAOtsB,EAAQusB,EAAKvsB,GAI9E,OAAO9qF,MAKX69G,SAAU,WAEN,IAAIC,GAAQ,EAERpF,EAAY14G,KAAKk9G,eAChBxE,EAAYp7G,KAAK8O,MAAOssG,IAAgB,IAEzC5vG,QAAQgP,MAAO,oDAAqD9X,MACpE89G,GAAQ,GAIZ,IAAIjG,EAAQ73G,KAAK63G,MACb59D,EAASj6C,KAAKi6C,OAEd2jE,EAAQ/F,EAAM93G,OAEH,IAAV69G,IAED90G,QAAQgP,MAAO,uCAAwC9X,MACvD89G,GAAQ,GAMZ,IAFA,IAAIC,EAAW,KAEL/kH,EAAI,EAAGA,IAAM4kH,EAAO5kH,IAAO,CAEjC,IAAIglH,EAAWnG,EAAO7+G,GAEtB,GAAyB,iBAAbglH,GAAyB93D,MAAO83D,GAAa,CAErDl1G,QAAQgP,MAAO,mDAAoD9X,KAAMhH,EAAGglH,GAC5EF,GAAQ,EACR,MAIJ,GAAkB,OAAbC,GAAqBA,EAAWC,EAAW,CAE5Cl1G,QAAQgP,MAAO,0CAA2C9X,KAAMhH,EAAGglH,EAAUD,GAC7ED,GAAQ,EACR,MAIJC,EAAWC,EAIf,QAAgBr9G,IAAXs5C,GAEIi9D,GAAeI,aAAcr9D,GAExB,CAAIjhD,EAAI,EAAd,IAAM,IAAWyB,EAAIw/C,EAAOl6C,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEhD,IAAIiB,EAAQggD,EAAQjhD,GAEpB,GAAKktD,MAAOjsD,GAAU,CAElB6O,QAAQgP,MAAO,oDAAqD9X,KAAMhH,EAAGiB,GAC7E6jH,GAAQ,EACR,QAUhB,OAAOA,GAMXG,SAAU,WAWN,IATA,IAAIpG,EAAQ73G,KAAK63G,MACb59D,EAASj6C,KAAKi6C,OACd6wC,EAAS9qF,KAAKk9G,eAEdgB,EArsmCY,OAqsmCUl+G,KAAK+8G,mBAE3BoB,EAAa,EACbpnD,EAAY8gD,EAAM93G,OAAS,EAErB/G,EAAI,EAAGA,EAAI+9D,IAAc/9D,EAAI,CAEnC,IAAIolH,GAAO,EAEPxsE,EAAOimE,EAAO7+G,GAKlB,GAAK44C,IAJUimE,EAAO7+G,EAAI,KAIQ,IAANA,GAAW44C,IAASA,EAAM,IAElD,GAAOssE,EAwBHE,GAAO,OAhBP,IAJA,IAAI16G,EAAS1K,EAAI8xF,EACbuzB,EAAU36G,EAASonF,EACnBwzB,EAAU56G,EAASonF,EAEb32D,EAAI,EAAGA,IAAM22D,IAAW32D,EAAI,CAElC,IAAIl6B,EAAQggD,EAAQv2C,EAASywB,GAE7B,GAAKl6B,IAAUggD,EAAQokE,EAAUlqF,IAC7Bl6B,IAAUggD,EAAQqkE,EAAUnqF,GAAM,CAElCiqF,GAAO,EACP,OAgBhB,GAAKA,EAAO,CAER,GAAKplH,IAAMmlH,EAAa,CAEpBtG,EAAOsG,GAAetG,EAAO7+G,GAE7B,IAAIulH,EAAavlH,EAAI8xF,EACjB0zB,EAAcL,EAAarzB,EAE/B,IAAU32D,EAAI,EAAGA,IAAM22D,IAAW32D,EAE9B8lB,EAAQukE,EAAcrqF,GAAM8lB,EAAQskE,EAAapqF,KAMtDgqF,GAQX,GAAKpnD,EAAY,EAAI,CAEjB8gD,EAAOsG,GAAetG,EAAO9gD,GAE7B,IAAUwnD,EAAaxnD,EAAY+zB,EAAQ0zB,EAAcL,EAAarzB,EAAQ32D,EAAI,EAAGA,IAAM22D,IAAW32D,EAElG8lB,EAAQukE,EAAcrqF,GAAM8lB,EAAQskE,EAAapqF,KAIlDgqF,EAWP,OAPKA,IAAetG,EAAM93G,SAEtBC,KAAK63G,MAAQX,GAAeC,WAAYU,EAAO,EAAGsG,GAClDn+G,KAAKi6C,OAASi9D,GAAeC,WAAYl9D,EAAQ,EAAGkkE,EAAarzB,IAI9D9qF,QAsBfw5G,GAAqB5+G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ4+G,GAAct+G,YAEzEmQ,YAAayuG,GAEbwD,cAAe,OACf3D,gBAAiBnpF,MAEjBqpF,qBAl0mCsB,KAo0mCtB4D,oCAAgCx8G,EAChCy8G,oCAAgCz8G,IAwBpC84G,GAAmB7+G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ4+G,GAAct+G,YAEvEmQ,YAAa0uG,GAEbuD,cAAe,UA0BnBtD,GAAoB9+G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ4+G,GAAct+G,YAExEmQ,YAAa2uG,GAEbsD,cAAe,WAoBnBrD,GAA4B/+G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ89G,GAAYx9G,YAE9EmQ,YAAa4uG,GAEb0B,aAAc,SAAWxsD,EAAIvC,EAAIpyD,EAAGqyD,GAUhC,IARA,IAAI2C,EAASlvD,KAAKw4G,aACdv+D,EAASj6C,KAAKs4G,aACdxtB,EAAS9qF,KAAK04G,UAEdh1G,EAASmrD,EAAKi8B,EAEdrwE,GAAUvgB,EAAIoyD,IAASC,EAAKD,GAEtBx2B,EAAMpyB,EAASonF,EAAQpnF,IAAWoyB,EAAKpyB,GAAU,EAEvDE,GAAWghB,UAAWsqC,EAAQ,EAAGjV,EAAQv2C,EAASonF,EAAQ7wC,EAAQv2C,EAAQ+W,GAI9E,OAAOy0C,KAqBf0qD,GAAwBh/G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ4+G,GAAct+G,YAE5EmQ,YAAa6uG,GAEboD,cAAe,aAIfzD,qBAn8mCoB,KAq8mCpB4D,+BAAgC,SAAWjuD,GAEvC,OAAO,IAAIyqD,GAA6B35G,KAAK63G,MAAO73G,KAAKi6C,OAAQj6C,KAAKk9G,eAAgBhuD,IAI1FkuD,oCAAgCz8G,IAoBpCk5G,GAAoBj/G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ4+G,GAAct+G,YAExEmQ,YAAa8uG,GAEbmD,cAAe,SACf3D,gBAAiBnpF,MAEjBqpF,qBAv+mCsB,KAy+mCtB4D,oCAAgCx8G,EAEhCy8G,oCAAgCz8G,IAoBpCm5G,GAAoBl/G,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ4+G,GAAct+G,YAExEmQ,YAAa+uG,GAEbkD,cAAe,WA8GnBtjH,OAAO+S,OAAQstG,IAEX5/D,MAAO,SAAWw3D,GAMd,IAJA,IAAIsI,KACAwE,EAAa9M,EAAKsI,OAClByE,EAAY,GAAQ/M,EAAKgN,KAAO,GAE1B3lH,EAAI,EAAGyB,EAAIgkH,EAAW1+G,OAAQ/G,IAAMyB,IAAMzB,EAEhDihH,EAAO7sG,KAAM+sG,GAAoBsE,EAAYzlH,IAAMkG,MAAOw/G,IAI9D,OAAO,IAAI3E,GAAepI,EAAKp4G,KAAMo4G,EAAKqI,SAAUC,IAIxDxqF,OAAQ,SAAWmvF,GAcf,IAZA,IAAI3E,KACA4E,EAAaD,EAAK3E,OAElBtI,GAEAp4G,KAAQqlH,EAAKrlH,KACbygH,SAAY4E,EAAK5E,SACjBC,OAAUA,EACVp6G,KAAQ++G,EAAK/+G,MAIP7G,EAAI,EAAGyB,EAAIokH,EAAW9+G,OAAQ/G,IAAMyB,IAAMzB,EAEhDihH,EAAO7sG,KAAM8rG,GAAczpF,OAAQovF,EAAY7lH,KAInD,OAAO24G,GAIXmN,8BAA+B,SAAWvlH,EAAMwlH,EAAqBJ,EAAKK,GAKtE,IAHA,IAAIC,EAAkBF,EAAoBh/G,OACtCk6G,KAEMjhH,EAAI,EAAGA,EAAIimH,EAAiBjmH,IAAO,CAEzC,IAAI6+G,KACA59D,KAEJ49D,EAAMzqG,MACApU,EAAIimH,EAAkB,GAAMA,EAC9BjmH,GACEA,EAAI,GAAMimH,GAEhBhlE,EAAO7sC,KAAM,EAAG,EAAG,GAEnB,IAAIqQ,EAAQy5F,GAAeU,iBAAkBC,GAC7CA,EAAQX,GAAeY,YAAaD,EAAO,EAAGp6F,GAC9Cw8B,EAASi9D,GAAeY,YAAa79D,EAAQ,EAAGx8B,GAIzCuhG,GAAyB,IAAfnH,EAAO,KAEpBA,EAAMzqG,KAAM6xG,GACZhlE,EAAO7sC,KAAM6sC,EAAQ,KAIzBggE,EAAO7sG,KACH,IAAIssG,GACA,0BAA4BqF,EAAqB/lH,GAAIO,KAAO,IAC5Ds+G,EAAO59D,GACT/6C,MAAO,EAAMy/G,IAIvB,OAAO,IAAI5E,GAAexgH,GAAQ,EAAG0gH,IAIzCiF,WAAY,SAAWC,EAAmB5lH,GAEtC,IAAI6lH,EAAYD,EAEhB,IAAOjvF,MAAMC,QAASgvF,GAAsB,CAExC,IAAI1lH,EAAI0lH,EACRC,EAAY3lH,EAAEi5B,UAAYj5B,EAAEi5B,SAAS2sF,YAAc5lH,EAAE4lH,WAIzD,IAAM,IAAIrmH,EAAI,EAAGA,EAAIomH,EAAUr/G,OAAQ/G,IAEnC,GAAKomH,EAAWpmH,GAAIO,OAASA,EAEzB,OAAO6lH,EAAWpmH,GAM1B,OAAO,MAIXsmH,oCAAqC,SAAW5kE,EAAcikE,EAAKK,GAU/D,IARA,IAAIO,KAIAC,EAAU,qBAIJxmH,EAAI,EAAG04B,EAAKgpB,EAAa36C,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEtD,IAAIwoD,EAAc9G,EAAc1hD,GAC5BymH,EAAQj+D,EAAYjoD,KAAKiT,MAAOgzG,GAEpC,GAAKC,GAASA,EAAM1/G,OAAS,EAAI,CAE7B,IAEI2/G,EAAwBH,EAFxBhmH,EAAOkmH,EAAO,IAGXC,IAEHH,EAAyBhmH,GAASmmH,MAItCA,EAAsBtyG,KAAMo0C,IAMpC,IAAIm+D,KAEJ,IAAM,IAAIpmH,KAAQgmH,EAEdI,EAAMvyG,KAAM2sG,GAAc+E,8BAA+BvlH,EAAMgmH,EAAyBhmH,GAAQolH,EAAKK,IAIzG,OAAOW,GAKXC,eAAgB,SAAW9qC,EAAWzU,GAElC,IAAOyU,EAGH,OADAhsE,QAAQgP,MAAO,yDACR,KAkCX,IA9BA,IAAI+nG,EAAmB,SAAWzF,EAAW0F,EAAWC,EAAeC,EAAcC,GAGjF,GAA8B,IAAzBF,EAAchgH,OAAe,CAE9B,IAAI83G,KACA59D,KAEJi9D,GAAee,YAAa8H,EAAelI,EAAO59D,EAAQ+lE,GAGpC,IAAjBnI,EAAM93G,QAEPkgH,EAAW7yG,KAAM,IAAIgtG,EAAW0F,EAAWjI,EAAO59D,MAQ1DggE,KAEAiG,EAAWprC,EAAUv7E,MAAQ,UAE7BygH,EAAWllC,EAAU/0E,SAAY,EACjC4+G,EAAM7pC,EAAU6pC,KAAO,GAEvBwB,EAAkBrrC,EAAUsrC,cAEtB77F,EAAI,EAAGA,EAAI47F,EAAgBpgH,OAAQwkB,IAAO,CAEhD,IAAIw7F,EAAgBI,EAAiB57F,GAAIxiB,KAGzC,GAAOg+G,GAA0C,IAAzBA,EAAchgH,OAGtC,GAAKggH,EAAe,GAAIrlE,aAAe,CAKnC,IAFA,IAAI2lE,KAEMh/D,EAAI,EAAGA,EAAI0+D,EAAchgH,OAAQshD,IAEvC,GAAK0+D,EAAe1+D,GAAI3G,aAEpB,IAAM,IAAIthD,EAAI,EAAGA,EAAI2mH,EAAe1+D,GAAI3G,aAAa36C,OAAQ3G,IAEzDinH,EAAkBN,EAAe1+D,GAAI3G,aAActhD,KAAU,EAWzE,IAAM,IAAIknH,KAAmBD,EAAmB,CAE5C,IAAIxI,KACA59D,KAEJ,IAAU7gD,EAAI,EAAGA,IAAM2mH,EAAe1+D,GAAI3G,aAAa36C,SAAW3G,EAAI,CAElE,IAAImnH,EAAeR,EAAe1+D,GAElCw2D,EAAMzqG,KAAMmzG,EAAa3uE,MACzBqI,EAAO7sC,KAAQmzG,EAAa/+D,cAAgB8+D,EAAoB,EAAI,GAIxErG,EAAO7sG,KAAM,IAAIssG,GAAqB,yBAA2B4G,EAAkB,IAAKzI,EAAO59D,IAInG+/D,EAAWqG,EAAiBtgH,QAAW4+G,GAAO,OAE3C,CAIH,IAAI6B,EAAW,UAAYngD,EAAO97C,GAAIhrB,KAAO,IAE7CsmH,EACI/F,GAAqB0G,EAAW,YAChCT,EAAe,MAAO9F,GAE1B4F,EACIjG,GAAyB4G,EAAW,cACpCT,EAAe,MAAO9F,GAE1B4F,EACI/F,GAAqB0G,EAAW,SAChCT,EAAe,MAAO9F,IAMlC,OAAuB,IAAlBA,EAAOl6G,OAED,KAIA,IAAIg6G,GAAemG,EAAUlG,EAAUC,MAQ1DvgH,OAAO+S,OAAQstG,GAAcn/G,WAEzBs/G,cAAe,WAIX,IAFA,IAA0BF,EAAW,EAE3BhhH,EAAI,EAAGyB,EAFJuF,KAAKi6G,OAEUl6G,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEhD,IAAI8jH,EAAQ98G,KAAKi6G,OAAQjhH,GAEzBghH,EAAW18G,KAAKkH,IAAKw1G,EAAU8C,EAAMjF,MAAOiF,EAAMjF,MAAM93G,OAAS,IAMrE,OAFAC,KAAKg6G,SAAWA,EAETh6G,MAIXw9D,KAAM,WAEF,IAAM,IAAIxkE,EAAI,EAAGA,EAAIgH,KAAKi6G,OAAOl6G,OAAQ/G,IAErCgH,KAAKi6G,OAAQjhH,GAAIwkE,KAAM,EAAGx9D,KAAKg6G,UAInC,OAAOh6G,MAIX69G,SAAU,WAIN,IAFA,IAAIC,GAAQ,EAEF9kH,EAAI,EAAGA,EAAIgH,KAAKi6G,OAAOl6G,OAAQ/G,IAErC8kH,EAAQA,GAAS99G,KAAKi6G,OAAQjhH,GAAI6kH,WAItC,OAAOC,GAIXG,SAAU,WAEN,IAAM,IAAIjlH,EAAI,EAAGA,EAAIgH,KAAKi6G,OAAOl6G,OAAQ/G,IAErCgH,KAAKi6G,OAAQjhH,GAAIilH,WAIrB,OAAOj+G,QAiBftG,OAAO+S,OAAQ8tG,GAAe3/G,WAE1B0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAItnG,EAAQlD,KAEC,IAAIsrG,GAAYpoG,EAAMqoG,SAC5B+B,KAAMr9E,EAAK,SAAW41E,GAEzByE,EAAQpnG,EAAMi3C,MAAOZ,KAAKY,MAAO0rD,MAElC0E,EAAYC,IAInBiW,YAAa,SAAWxmH,GAEpB+F,KAAK4vB,SAAW31B,GAIpBkgD,MAAO,SAAWw3D,GAEd,IAAI/hF,EAAW5vB,KAAK4vB,SAEpB,SAAS8wF,EAAYnnH,GAQjB,YAN0BoH,IAArBivB,EAAUr2B,IAEXuP,QAAQC,KAAM,0CAA2CxP,GAItDq2B,EAAUr2B,GAIrB,IAAIwE,EAAW,IAAIksG,GAAW0H,EAAK3rG,MAiDnC,QA/CmBrF,IAAdgxG,EAAK9xG,OAAqB9B,EAAS8B,KAAO8xG,EAAK9xG,WACjCc,IAAdgxG,EAAKp4G,OAAqBwE,EAASxE,KAAOo4G,EAAKp4G,WAChCoH,IAAfgxG,EAAK1zG,OAAsBF,EAASE,MAAMirC,OAAQyoE,EAAK1zG,YACpC0C,IAAnBgxG,EAAKphE,YAA0BxyC,EAASwyC,UAAYohE,EAAKphE,gBACtC5vC,IAAnBgxG,EAAKnhE,YAA0BzyC,EAASyyC,UAAYmhE,EAAKnhE,gBACvC7vC,IAAlBgxG,EAAKzhE,UAAyBnyC,EAASmyC,SAAShH,OAAQyoE,EAAKzhE,eAC3CvvC,IAAlBgxG,EAAKvhE,UAAyBryC,EAASqyC,SAASlH,OAAQyoE,EAAKvhE,eAC1CzvC,IAAnBgxG,EAAKthE,YAA0BtyC,EAASsyC,UAAYshE,EAAKthE,gBACtC1vC,IAAnBgxG,EAAK18D,YAA0Bl3C,EAASk3C,UAAY08D,EAAK18D,gBAC7Bt0C,IAA5BgxG,EAAKz8D,qBAAmCn3C,EAASm3C,mBAAqBy8D,EAAKz8D,yBACrDv0C,IAAtBgxG,EAAKj9D,eAA6B32C,EAAS22C,aAAei9D,EAAKj9D,mBAClD/zC,IAAbgxG,EAAKt1G,MAAoB0B,EAAS1B,IAAMs1G,EAAKt1G,UACxBsE,IAArBgxG,EAAKzzG,cAA4BH,EAASG,YAAcyzG,EAAKzzG,kBAC3CyC,IAAlBgxG,EAAK3qD,WAAyBjpD,EAASipD,SAAW2qD,EAAK3qD,eACtCrmD,IAAjBgxG,EAAK/nD,UAAwB7rD,EAAS6rD,QAAU+nD,EAAK/nD,cACvCjpD,IAAdgxG,EAAK1qD,OAAqBlpD,EAASkpD,KAAO0qD,EAAK1qD,WAC9BtmD,IAAjBgxG,EAAK/lE,UAAwB7tC,EAAS6tC,QAAU+lE,EAAK/lE,cAChCjrC,IAArBgxG,EAAKzqD,cAA4BnpD,EAASmpD,YAAcyqD,EAAKzqD,kBAC1CvmD,IAAnBgxG,EAAKtpD,YAA0BtqD,EAASsqD,UAAYspD,EAAKtpD,gBACtC1nD,IAAnBgxG,EAAKjqD,YAA0B3pD,EAAS2pD,UAAYiqD,EAAKjqD,gBACrC/mD,IAApBgxG,EAAKhqD,aAA2B5pD,EAAS4pD,WAAagqD,EAAKhqD,iBACvChnD,IAApBgxG,EAAK3pD,aAA2BjqD,EAASiqD,WAAa2pD,EAAK3pD,iBACxCrnD,IAAnBgxG,EAAKhpD,YAA0B5qD,EAAS4qD,UAAYgpD,EAAKhpD,gBAC7BhoD,IAA5BgxG,EAAK/oD,qBAAmC7qD,EAAS6qD,mBAAqB+oD,EAAK/oD,yBACjDjoD,IAA1BgxG,EAAK9nD,mBAAiC9rD,EAAS8rD,iBAAmB8nD,EAAK9nD,uBAC5ClpD,IAA3BgxG,EAAK7nD,oBAAkC/rD,EAAS+rD,kBAAoB6nD,EAAK7nD,wBAEvDnpD,IAAlBgxG,EAAKnmF,WAAyBztB,EAASytB,SAAWmmF,EAAKnmF,UAEpC,IAAnBmmF,EAAKjpD,YAAkB3qD,EAAS2qD,UAAYipD,EAAKjpD,gBAC/B/nD,IAAlBgxG,EAAK/gE,WAAyB7yC,EAAS6yC,SAAW+gE,EAAK/gE,eACtCjwC,IAAjBgxG,EAAK/mD,UAAwB7sD,EAAS6sD,QAAU+mD,EAAK/mD,cACtCjqD,IAAfgxG,EAAKzyG,QAAsBnB,EAASmB,MAAQyyG,EAAKzyG,YAE1ByB,IAAvBgxG,EAAK1pD,gBAA8BlqD,EAASkqD,cAAgB0pD,EAAK1pD,oBACpCtnD,IAA7BgxG,EAAKzpD,sBAAoCnqD,EAASmqD,oBAAsBypD,EAAKzpD,0BACjDvnD,IAA5BgxG,EAAKxpD,qBAAmCpqD,EAASoqD,mBAAqBwpD,EAAKxpD,yBAEzDxnD,IAAlBgxG,EAAK7oD,WAAyB/qD,EAAS+qD,SAAW6oD,EAAK7oD,eACjCnoD,IAAtBgxG,EAAKj3D,eAA6B38C,EAAS28C,aAAei3D,EAAKj3D,mBAC5C/5C,IAAnBgxG,EAAKvpD,YAA0BrqD,EAASqqD,UAAYupD,EAAKvpD,gBAExCznD,IAAjBgxG,EAAKn7D,UAAwBz4C,EAASy4C,QAAUm7D,EAAKn7D,cACnC71C,IAAlBgxG,EAAK96D,WAAyB94C,EAAS84C,SAAW86D,EAAK96D,eAIrCl2C,IAAlBgxG,EAAKryE,SAEN,IAAM,IAAI/lC,KAAQo4G,EAAKryE,SAAW,CAE9B,IAAIk7C,EAAUm3B,EAAKryE,SAAU/lC,GAI7B,OAFAwE,EAASuhC,SAAU/lC,MAEVihF,EAAQx0E,MAEb,IAAK,IACDjI,EAASuhC,SAAU/lC,GAAOU,MAAQymH,EAAYlmC,EAAQvgF,OACtD,MAEJ,IAAK,IACD8D,EAASuhC,SAAU/lC,GAAOU,OAAQ,IAAImC,IAAQ8sC,OAAQsxC,EAAQvgF,OAC9D,MAEJ,IAAK,KACD8D,EAASuhC,SAAU/lC,GAAOU,OAAQ,IAAIyM,IAAUoU,UAAW0/D,EAAQvgF,OACnE,MAEJ,IAAK,KACD8D,EAASuhC,SAAU/lC,GAAOU,OAAQ,IAAI6G,IAAUga,UAAW0/D,EAAQvgF,OACnE,MAEJ,IAAK,KACD8D,EAASuhC,SAAU/lC,GAAOU,OAAQ,IAAI4zB,IAAU/S,UAAW0/D,EAAQvgF,OACnE,MAEJ,IAAK,KACD8D,EAASuhC,SAAU/lC,GAAOU,OAAQ,IAAI2d,IAAUkD,UAAW0/D,EAAQvgF,OACnE,MAEJ,QACI8D,EAASuhC,SAAU/lC,GAAOU,MAAQugF,EAAQvgF,OAqC1D,QA7BsB0G,IAAjBgxG,EAAKlpD,UAAwB1qD,EAAS0qD,QAAUkpD,EAAKlpD,cAC/B9nD,IAAtBgxG,EAAK5hE,eAA6BhyC,EAASgyC,aAAe4hE,EAAK5hE,mBACvCpvC,IAAxBgxG,EAAK3hE,iBAA+BjyC,EAASiyC,eAAiB2hE,EAAK3hE,qBAIlDrvC,IAAjBgxG,EAAKgP,UAAwB5iH,EAASG,YAA+B,IAAjByzG,EAAKgP,cAI3ChgH,IAAdgxG,EAAK9/E,OAAqB9zB,EAAS8zB,KAAO8/E,EAAK9/E,WACtBlxB,IAAzBgxG,EAAKhnD,kBAAgC5sD,EAAS4sD,gBAAkBgnD,EAAKhnD,sBAIxDhqD,IAAbgxG,EAAK9lE,MAAoB9tC,EAAS8tC,IAAM60E,EAAY/O,EAAK9lE,WAEvClrC,IAAlBgxG,EAAK5lE,WAENhuC,EAASguC,SAAW20E,EAAY/O,EAAK5lE,UACrChuC,EAASmpD,aAAc,QAILvmD,IAAjBgxG,EAAK1kE,UAAwBlvC,EAASkvC,QAAUyzE,EAAY/O,EAAK1kE,eAC9CtsC,IAAnBgxG,EAAKzkE,YAA0BnvC,EAASmvC,UAAYykE,EAAKzkE,gBAEtCvsC,IAAnBgxG,EAAKvkE,YAA0BrvC,EAASqvC,UAAYszE,EAAY/O,EAAKvkE,iBAC9CzsC,IAAvBgxG,EAAKjnD,gBAA8B3sD,EAAS2sD,cAAgBinD,EAAKjnD,oBAC5C/pD,IAArBgxG,EAAKtkE,YAA4B,CAElC,IAAIA,EAAcskE,EAAKtkE,aAEe,IAAjCnd,MAAMC,QAASkd,KAIhBA,GAAgBA,EAAaA,IAIjCtvC,EAASsvC,aAAc,IAAI3mC,IAAUoU,UAAWuyB,GA6BpD,YAzB8B1sC,IAAzBgxG,EAAKpkE,kBAAgCxvC,EAASwvC,gBAAkBmzE,EAAY/O,EAAKpkE,uBACtD5sC,IAA3BgxG,EAAKnkE,oBAAkCzvC,EAASyvC,kBAAoBmkE,EAAKnkE,wBAC/C7sC,IAA1BgxG,EAAKlkE,mBAAiC1vC,EAAS0vC,iBAAmBkkE,EAAKlkE,uBAEjD9sC,IAAtBgxG,EAAKhkE,eAA6B5vC,EAAS4vC,aAAe+yE,EAAY/O,EAAKhkE,oBACrDhtC,IAAtBgxG,EAAK9jE,eAA6B9vC,EAAS8vC,aAAe6yE,EAAY/O,EAAK9jE,oBAEtDltC,IAArBgxG,EAAK5kE,cAA4BhvC,EAASgvC,YAAc2zE,EAAY/O,EAAK5kE,mBAC9CpsC,IAA3BgxG,EAAKlnD,oBAAkC1sD,EAAS0sD,kBAAoBknD,EAAKlnD,wBAEpD9pD,IAArBgxG,EAAK1lE,cAA4BluC,EAASkuC,YAAcy0E,EAAY/O,EAAK1lE,mBAEzDtrC,IAAhBgxG,EAAKxlE,SAAuBpuC,EAASouC,OAASu0E,EAAY/O,EAAKxlE,cACtCxrC,IAAzBgxG,EAAKlhE,kBAAgC1yC,EAAS0yC,gBAAkBkhE,EAAKlhE,sBAE/C9vC,IAAtBgxG,EAAKtlE,eAA6BtuC,EAASsuC,aAAeslE,EAAKtlE,mBAE7C1rC,IAAlBgxG,EAAK/kE,WAAyB7uC,EAAS6uC,SAAW8zE,EAAY/O,EAAK/kE,gBACxCjsC,IAA3BgxG,EAAK9kE,oBAAkC9uC,EAAS8uC,kBAAoB8kE,EAAK9kE,wBAE1DlsC,IAAfgxG,EAAKllE,QAAsB1uC,EAAS0uC,MAAQi0E,EAAY/O,EAAKllE,aACrC9rC,IAAxBgxG,EAAKjlE,iBAA+B3uC,EAAS2uC,eAAiBilE,EAAKjlE,qBAE9C/rC,IAArBgxG,EAAK5jE,cAA4BhwC,EAASgwC,YAAc2yE,EAAY/O,EAAK5jE,cAEvEhwC,KAgBfrE,OAAO+S,OAAQ+tG,GAAqB5/G,WAEhC0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAItnG,EAAQlD,KAEC,IAAIsrG,GAAYpoG,EAAMqoG,SAC5B+B,KAAMr9E,EAAK,SAAW41E,GAEzByE,EAAQpnG,EAAMi3C,MAAOZ,KAAKY,MAAO0rD,MAElC0E,EAAYC,IAInBrwD,MAAO,SAAWw3D,GAEd,IAAIj/E,EAAW,IAAI4wB,GAEf12C,EAAQ+kG,EAAKhjF,KAAK/hB,MAEtB,QAAejM,IAAViM,EAAsB,CAEvB,IAAIg0G,EAAa,IAAIC,GAAcj0G,EAAM5G,MAAQ4G,EAAMY,OACvDklB,EAASqyB,SAAU,IAAIxJ,GAAiBqlE,EAAY,IAIxD,IAAI9tF,EAAa6+E,EAAKhjF,KAAKmE,WAE3B,IAAM,IAAIv4B,KAAOu4B,EAAa,CAE1B,IAAI7X,EAAY6X,EAAYv4B,GACxBqmH,EAAa,IAAIC,GAAc5lG,EAAUjV,MAAQiV,EAAUzN,OAE/DklB,EAASsyB,aAAczqD,EAAK,IAAIghD,GAAiBqlE,EAAY3lG,EAAUugC,SAAUvgC,EAAUwgC,aAI/F,IAAIe,EAASm1D,EAAKhjF,KAAK6tB,QAAUm1D,EAAKhjF,KAAKmyF,WAAanP,EAAKhjF,KAAKoyF,QAElE,QAAgBpgH,IAAX67C,EAED,IAAM,IAAIxjD,EAAI,EAAGyB,EAAI+hD,EAAOz8C,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEhD,IAAIskD,EAAQd,EAAQxjD,GAEpB05B,EAASoyB,SAAUxH,EAAM5nB,MAAO4nB,EAAMv8B,MAAOu8B,EAAM9I,eAM3D,IAAIjd,EAAiBo6E,EAAKhjF,KAAK4I,eAE/B,QAAwB52B,IAAnB42B,EAA+B,CAEhC,IAAItsB,EAAS,IAAInK,QAEcH,IAA1B42B,EAAetsB,QAEhBA,EAAO6P,UAAWyc,EAAetsB,QAIrCynB,EAAS6E,eAAiB,IAAI1I,GAAQ5jB,EAAQssB,EAAe5yB,QAIjE,OAAO+tB,KAMf,IAAImuF,IACAhtE,UAAWA,UACXE,WAAYA,WAEZ8H,kBAAgD,oBAAtBA,kBAAoCA,kBAAoB9H,WAClFR,WAAYA,WACZF,YAAaA,YACbM,WAAYA,WACZF,YAAaA,YACbN,aAAcA,aACdC,aAAcA,cAOlB,SAAS4tE,MAETA,GAAOC,UAEHC,YAEAzhH,IAAK,SAAW0hH,EAAO9R,GAEnBrvG,KAAKkhH,SAAS9zG,KAAM+zG,EAAO9R,IAI/Bx1G,IAAK,SAAWuwG,GAIZ,IAFA,IAAI8W,EAAWlhH,KAAKkhH,SAEVloH,EAAI,EAAGC,EAAIioH,EAASnhH,OAAQ/G,EAAIC,EAAGD,GAAK,EAAI,CAElD,IAAImoH,EAAQD,EAAUloH,GAClBq2G,EAAS6R,EAAUloH,EAAI,GAE3B,GAAKmoH,EAAMrrE,KAAMs0D,GAEb,OAAOiF,EAMf,OAAO,OAMf31G,OAAO+S,OAAQu0G,GAAOpmH,WAElBg1G,YAAa,YAEbwR,YAAa,aAEbC,eAAgB,aAEhBC,eAAgB,aAEhBC,cAAe,SAAWpoE,EAAWqoE,EAAa5R,GAI9C,IAFA,IAAIpiG,KAEMxU,EAAI,EAAGA,EAAImgD,EAAUp5C,SAAW/G,EAEtCwU,EAAOxU,GAAMgH,KAAKyhH,eAAgBtoE,EAAWngD,GAAKwoH,EAAa5R,GAInE,OAAOpiG,GAIXi0G,eAAkB,WAEd,IAAIC,GACApzG,WAAYA,EACZC,eAAgBA,EAChBC,iBAAkBA,EAClBC,oBAAqBA,EACrBC,iBAAkBA,EAClBC,eAAgBA,GAGhB1Q,EAAQ,IAAI7B,GACZulH,EAAgB,IAAI9V,GACpB+V,EAAiB,IAAIrH,GAEzB,OAAO,SAAyBnhH,EAAGooH,EAAa5R,GAI5C,IAAIhgF,KAEJ,SAAS0/E,EAAaz4C,EAAMvpC,EAAQ5pB,EAAQqsB,EAAM9C,GAE9C,IAGIkB,EAHA0zF,EAAWL,EAAc3qD,EACzBw4C,EAAS2R,GAAOC,SAASpnH,IAAKgoH,GAIlB,OAAXxS,EAEDlhF,EAAUkhF,EAAO/B,KAAMuU,IAIvBF,EAAc1R,eAAgBL,GAC9BzhF,EAAUwzF,EAAcrU,KAAMuU,SAIlBlhH,IAAX2sB,IAEDa,EAAQb,OAAOxS,UAAWwS,GAEL,IAAhBA,EAAQ,KAAYa,EAAQvB,MAAQzb,IACpB,IAAhBmc,EAAQ,KAAYa,EAAQtB,MAAQ1b,UAI7BxQ,IAAX+C,GAEDyqB,EAAQzqB,OAAOoX,UAAWpX,QAIhB/C,IAATovB,IAEkB,WAAdA,EAAM,KAAmB5B,EAAQvB,MAAQzb,IAC3B,WAAd4e,EAAM,KAAmB5B,EAAQvB,MAAQvb,IAE3B,WAAd0e,EAAM,KAAmB5B,EAAQtB,MAAQ1b,IAC3B,WAAd4e,EAAM,KAAmB5B,EAAQtB,MAAQxb,UAI9B1Q,IAAfssB,IAEDkB,EAAQlB,WAAaA,GAIzB,IAAIptB,EAAO2V,GAAMG,eAIjB,OAFAia,EAAU/vB,GAASsuB,EAEZtuB,EAMX,IAAI8xG,GACA9xG,KAAM2V,GAAMG,eACZ3P,KAAM,uBAGV,IAAM,IAAIzM,KAAQH,EAAI,CAElB,IAAIa,EAAQb,EAAGG,GAEf,OAASA,GAEL,IAAK,WACL,IAAK,WACL,IAAK,iBACL,IAAK,eACD,MACJ,IAAK,UACDo4G,EAAKp4G,KAAOU,EACZ,MACJ,IAAK,WACD03G,EAAK3qD,SAAW06D,EAAcznH,GAC9B,MACJ,IAAK,eACL,IAAK,aACD6O,QAAQC,KAAM,+BAAgCxP,EAAM,2BACpD,MACJ,IAAK,eACDo4G,EAAK1zG,MAAQA,EAAM6c,UAAW7gB,GAAQ0wC,SACtC,MACJ,IAAK,gBACDgnE,EAAKvhE,SAAWnyC,EAAM6c,UAAW7gB,GAAQ0wC,SACzC,MACJ,IAAK,gBACDgnE,EAAKzhE,SAAWjyC,EAAM6c,UAAW7gB,GAAQ0wC,SACzC,MACJ,IAAK,eACDgnE,EAAKthE,UAAYp2C,EACjB,MACJ,IAAK,UAC4B,UAAxBA,EAAM+zG,gBAA4B2D,EAAK3rG,KAAO,qBACtB,UAAxB/L,EAAM+zG,gBAA4B2D,EAAK3rG,KAAO,qBACtB,aAAxB/L,EAAM+zG,gBAA+B2D,EAAK3rG,KAAO,wBACtD,MACJ,IAAK,aACD2rG,EAAK9lE,IAAMyjE,EAAar1G,EAAOb,EAAE0oH,iBAAkB1oH,EAAE2oH,iBAAkB3oH,EAAE4oH,eAAgB5oH,EAAE6oH,sBAC3F,MACJ,IAAK,mBACL,IAAK,mBACL,IAAK,iBACL,IAAK,uBACD,MACJ,IAAK,cACDtQ,EAAK5kE,YAAcuiE,EAAar1G,EAAOb,EAAE8oH,kBAAmB9oH,EAAE+oH,kBAAmB/oH,EAAEgpH,gBAAiBhpH,EAAEipH,uBACtG,MACJ,IAAK,oBACL,IAAK,oBACL,IAAK,kBACL,IAAK,wBACD,MACJ,IAAK,WACD1Q,EAAK/kE,SAAW0iE,EAAar1G,EAAOb,EAAEkpH,eAAgBlpH,EAAEmpH,eAAgBnpH,EAAEopH,aAAcppH,EAAEqpH,oBAC1F,MACJ,IAAK,iBACL,IAAK,iBACL,IAAK,eACL,IAAK,qBACD,MACJ,IAAK,QACD9Q,EAAKllE,MAAQ6iE,EAAar1G,EAAOb,EAAEspH,YAAatpH,EAAEupH,YAAavpH,EAAEwpH,UAAWxpH,EAAEypH,iBAC9E,MACJ,IAAK,cACL,IAAK,cACL,IAAK,YACL,IAAK,kBACD,MACJ,IAAK,UACDlR,EAAK1kE,QAAUqiE,EAAar1G,EAAOb,EAAE0pH,cAAe1pH,EAAE2pH,cAAe3pH,EAAE4pH,YAAa5pH,EAAE6pH,mBACtF,MACJ,IAAK,eACDtR,EAAKzkE,UAAYjzC,EACjB,MACJ,IAAK,gBACL,IAAK,gBACL,IAAK,cACL,IAAK,oBACD,MACJ,IAAK,YACD03G,EAAKvkE,UAAYkiE,EAAar1G,EAAOb,EAAE8pH,gBAAiB9pH,EAAE+pH,gBAAiB/pH,EAAEgqH,cAAehqH,EAAEiqH,qBAC9F,MACJ,IAAK,kBACD1R,EAAKtkE,YAAcpzC,EACnB,MACJ,IAAK,kBACL,IAAK,kBACL,IAAK,gBACL,IAAK,sBACD,MACJ,IAAK,cACD03G,EAAK1lE,YAAcqjE,EAAar1G,EAAOb,EAAEkqH,kBAAmBlqH,EAAEmqH,kBAAmBnqH,EAAEoqH,gBAAiBpqH,EAAEqqH,uBACtG,MACJ,IAAK,oBACL,IAAK,oBACL,IAAK,kBACL,IAAK,wBACD,MACJ,IAAK,eACD9R,EAAK9jE,aAAeyhE,EAAar1G,EAAOb,EAAEsqH,mBAAoBtqH,EAAEuqH,mBAAoBvqH,EAAEwqH,iBAAkBxqH,EAAEyqH,wBAC1G,MACJ,IAAK,qBACL,IAAK,qBACL,IAAK,mBACL,IAAK,yBACD,MACJ,IAAK,eACDlS,EAAKhkE,aAAe2hE,EAAar1G,EAAOb,EAAE0qH,mBAAoB1qH,EAAE2qH,mBAAoB3qH,EAAE4qH,iBAAkB5qH,EAAE6qH,wBAC1G,MACJ,IAAK,qBACL,IAAK,qBACL,IAAK,mBACL,IAAK,yBACD,MACJ,IAAK,WACDtS,EAAK5lE,SAAWujE,EAAar1G,EAAOb,EAAE8qH,eAAgB9qH,EAAE+qH,eAAgB/qH,EAAEgrH,aAAchrH,EAAEirH,oBAC1F,MACJ,IAAK,iBACL,IAAK,iBACL,IAAK,eACL,IAAK,qBACD,MACJ,IAAK,YACD1S,EAAK1qD,KAAOh5C,EACZ,MACJ,IAAK,cACD0jG,EAAK1qD,KAAO/4C,EACZ,MACJ,IAAK,eACDpF,QAAQC,KAAM,yEACd4oG,EAAK/lE,QAAU3xC,EACf,MACJ,IAAK,YACL,IAAK,aACL,IAAK,aACL,IAAK,UACL,IAAK,eACL,IAAK,cACL,IAAK,UACL,IAAK,YACD03G,EAAMp4G,GAASU,EACf,MACJ,IAAK,gBACc,IAAVA,IAAiB03G,EAAKj9D,aAAermC,GAC3B,SAAVpU,IAAmB03G,EAAKj9D,aAAetmC,GAC5C,MACJ,QACItF,QAAQgP,MAAO,2CAA4Cve,EAAMU,IAc7E,MAPmB,sBAAd03G,EAAK3rG,aAAsC2rG,EAAKzhE,SAClC,sBAAdyhE,EAAK3rG,aAAsC2rG,EAAKvhE,SAEhDuhE,EAAK/lE,QAAU,IAAI+lE,EAAKzqD,aAAc,GAE3C06D,EAAenB,YAAa7wF,GAErBgyF,EAAeznE,MAAOw3D,IAxPnB,KAoQtB,IAAI2S,IAEAC,WAAY,SAAW/2G,GAEnB,GAA4B,oBAAhBg3G,YAER,OAAO,IAAIA,aAAcC,OAAQj3G,GASrC,IAFA,IAAIzS,EAAI,GAEE/B,EAAI,EAAG04B,EAAKlkB,EAAMzN,OAAQ/G,EAAI04B,EAAI14B,IAGxC+B,GAAKq1D,OAAOs0D,aAAcl3G,EAAOxU,IAKrC,OAAO40G,mBAAoB+W,OAAQ5pH,KAIvC6pH,eAAgB,SAAW30F,GAEvB,IAAIrjB,EAAQqjB,EAAI40F,YAAa,KAE7B,OAAiB,IAAZj4G,EAAuB,KAErBqjB,EAAI8/E,OAAQ,EAAGnjG,EAAQ,KAWtC,SAASk4G,GAAYvZ,GAEO,kBAAZA,IAERziG,QAAQC,KAAM,6EACdwiG,OAAU5qG,GAIdX,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAErDprG,KAAK4uG,iBAAkB,EAijB3B,SAASmW,GAAcxZ,GAEnBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GACrDprG,KAAKwhH,YAAc,GAhjBvB9nH,OAAO+S,OAAQq4G,GAAWlqH,WAEtBg1G,YAAa,YAEbtC,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAItnG,EAAQlD,KAER62D,OAAuBl2D,IAAdX,KAAK62D,KAAuBytD,GAAYM,eAAgB30F,GAAQjwB,KAAK62D,KAE9Ew4C,EAAS,IAAI/D,GAAYtrG,KAAKurG,SAClC8D,EAAOJ,QAASjvG,KAAK62D,MACrBw4C,EAAOF,mBAAoBnvG,KAAK4uG,iBAChCS,EAAO/B,KAAMr9E,EAAK,SAAW41E,GAEzB,IAAI8L,EAAOp4D,KAAKY,MAAO0rD,GACnBh2E,EAAW8hF,EAAK9hF,SAEpB,QAAkBlvB,IAAbkvB,EAAyB,CAE1B,IAAI7pB,EAAO6pB,EAAS7pB,KAEpB,QAAcrF,IAATqF,GAE2B,WAAvBA,EAAKgoG,cAGN,YADAllG,QAAQgP,MAAO,qBAAuBmY,EAAM,sDASxD,IAAIv1B,EAASwI,EAAMi3C,MAAOw3D,EAAM96C,GAChCyzC,EAAQ5vG,EAAOg4B,SAAUh4B,EAAOy+C,YAEjCoxD,EAAYC,IAInByE,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,MAIXglH,gBAAiB,SAAW/qH,GAGxB,OADA+F,KAAKilH,aAAehrH,EACb+F,MAIXiwG,eAAgB,SAAWh2G,GAGvB,OADA+F,KAAK4vG,YAAc31G,EACZ+F,MAIXm6C,MAAS,WA2bL,OAAO,SAAgBw3D,EAAM96C,QAENl2D,IAAdgxG,EAAKhjF,OAGNgjF,EAAOA,EAAKhjF,WAIIhuB,IAAfgxG,EAAKzyG,MAENyyG,EAAKzyG,MAAQ,EAAMyyG,EAAKzyG,MAIxByyG,EAAKzyG,MAAQ,EAIjB,IAAIwzB,EAAW,IAAI4nB,GAUnB,OAtdJ,SAAqBq3D,EAAMj/E,GAEvB,SAASwyF,EAAUjrH,EAAO4C,GAEtB,OAAO5C,EAAU,GAAK4C,EAI1B,IAAI7D,EAAGm7B,EAAGgxF,EAENzhH,EAAQ0hH,EAERC,EAAYC,EAAaC,EAAS/wE,EAElCxuC,EACAw/G,EACAC,EACA/kE,EACAC,EAAeC,EACfC,EAAcC,EAEdR,EAAQ5D,EAAMgpE,EAAOC,EAAOv8E,EAAK3e,EAEjCm7F,EAASv1F,EAETmqB,EAAQm3D,EAAKn3D,MACb5nB,EAAW++E,EAAK/+E,SAChBypB,EAAUs1D,EAAKt1D,QACf9B,EAASo3D,EAAKp3D,OAEdr7C,EAAQyyG,EAAKzyG,MAEb2mH,EAAY,EAGhB,QAAkBllH,IAAbgxG,EAAKr1D,IAAoB,CAI1B,IAAMtjD,EAAI,EAAGA,EAAI24G,EAAKr1D,IAAIv8C,OAAQ/G,IAEzB24G,EAAKr1D,IAAKtjD,GAAI+G,QAAS8lH,IAIhC,IAAM7sH,EAAI,EAAGA,EAAI6sH,EAAW7sH,IAExB05B,EAAS+nB,cAAezhD,MAShC,IAHA0K,EAAS,EACT0hH,EAAUxyF,EAAS7yB,OAEX2D,EAAS0hH,IAEb9kE,EAAS,IAAIx/C,IAEN1B,EAAIwzB,EAAUlvB,KAAcxE,EACnCohD,EAAOjhD,EAAIuzB,EAAUlvB,KAAcxE,EACnCohD,EAAOhhD,EAAIszB,EAAUlvB,KAAcxE,EAEnCwzB,EAASE,SAASxlB,KAAMkzC,GAO5B,IAHA58C,EAAS,EACT0hH,EAAU5qE,EAAMz6C,OAER2D,EAAS0hH,GAcb,GAVAI,EAASN,EAFTl/G,EAAOw0C,EAAO92C,KAEW,GACzB+hH,EAAcP,EAAUl/G,EAAM,GAC9B06C,EAAkBwkE,EAAUl/G,EAAM,GAClC26C,EAAgBukE,EAAUl/G,EAAM,GAChC46C,EAAsBskE,EAAUl/G,EAAM,GACtC66C,EAAeqkE,EAAUl/G,EAAM,GAC/B86C,EAAqBokE,EAAUl/G,EAAM,GAIhCw/G,EAAS,CA0BV,IAxBAE,EAAQ,IAAInxE,IACNt7B,EAAIuhC,EAAO92C,GACjBgiH,EAAMxsG,EAAIshC,EAAO92C,EAAS,GAC1BgiH,EAAMrsH,EAAImhD,EAAO92C,EAAS,IAE1BiiH,EAAQ,IAAIpxE,IACNt7B,EAAIuhC,EAAO92C,EAAS,GAC1BiiH,EAAMzsG,EAAIshC,EAAO92C,EAAS,GAC1BiiH,EAAMtsH,EAAImhD,EAAO92C,EAAS,GAE1BA,GAAU,EAEL+hH,IAEDjxE,EAAgBgG,EAAO92C,KACvBgiH,EAAMlxE,cAAgBA,EACtBmxE,EAAMnxE,cAAgBA,GAM1B2wE,EAAKzyF,EAAS8nB,MAAMz6C,OAEf2gD,EAED,IAAM1nD,EAAI,EAAGA,EAAI6sH,EAAW7sH,IAOxB,IALA4sH,EAAUjU,EAAKr1D,IAAKtjD,GAEpB05B,EAAS+nB,cAAezhD,GAAKmsH,MAC7BzyF,EAAS+nB,cAAezhD,GAAKmsH,EAAK,MAE5BhxF,EAAI,EAAGA,EAAI,EAAGA,IAOhB9D,EAAK,IAAI3pB,GAHLk/G,EAAmB,GAFvBL,EAAU/qE,EAAO92C,OAGbkiH,EAAmB,EAAVL,EAAc,IAIhB,IAANpxF,GAAUzB,EAAS+nB,cAAezhD,GAAKmsH,GAAK/3G,KAAMijB,GAC5C,IAAN8D,GAAUzB,EAAS+nB,cAAezhD,GAAKmsH,EAAK,GAAI/3G,KAAMijB,GAsBvE,GAdKswB,IAED2kE,EAAmC,EAArB9qE,EAAO92C,KAErBgiH,EAAMj7F,OAAO3tB,IACTu/C,EAASipE,KACTjpE,EAASipE,KACTjpE,EAASipE,IAGbK,EAAMl7F,OAAOtnB,KAAMuiH,EAAMj7F,SAIxBm2B,EAED,IAAM5nD,EAAI,EAAGA,EAAI,EAAGA,IAEhBssH,EAAmC,EAArB9qE,EAAO92C,KAErB+mB,EAAS,IAAI3pB,GACTu7C,EAASipE,KACTjpE,EAASipE,KACTjpE,EAASipE,IAIF,IAANtsH,GAAU0sH,EAAMjxE,cAAcrnC,KAAMqd,GAC9B,IAANzxB,GAAU2sH,EAAMlxE,cAAcrnC,KAAMqd,GAkBjD,GAXKo2B,IAGDzX,EAAMmR,EADN8qE,EAAa7qE,EAAO92C,MAGpBgiH,EAAMznH,MAAMirC,OAAQE,GACpBu8E,EAAM1nH,MAAMirC,OAAQE,IAKnB0X,EAED,IAAM9nD,EAAI,EAAGA,EAAI,EAAGA,IAGhBowC,EAAMmR,EADN8qE,EAAa7qE,EAAO92C,MAGT,IAAN1K,GAAU0sH,EAAMhxE,aAAatnC,KAAM,IAAIhR,GAAOgtC,IACxC,IAANpwC,GAAU2sH,EAAMjxE,aAAatnC,KAAM,IAAIhR,GAAOgtC,IAM3D1W,EAAS8nB,MAAMptC,KAAMs4G,GACrBhzF,EAAS8nB,MAAMptC,KAAMu4G,OAElB,CAkBH,IAhBAjpE,EAAO,IAAInI,IACNt7B,EAAIuhC,EAAO92C,KAChBg5C,EAAKxjC,EAAIshC,EAAO92C,KAChBg5C,EAAKrjD,EAAImhD,EAAO92C,KAEX+hH,IAEDjxE,EAAgBgG,EAAO92C,KACvBg5C,EAAKlI,cAAgBA,GAMzB2wE,EAAKzyF,EAAS8nB,MAAMz6C,OAEf2gD,EAED,IAAM1nD,EAAI,EAAGA,EAAI6sH,EAAW7sH,IAMxB,IAJA4sH,EAAUjU,EAAKr1D,IAAKtjD,GAEpB05B,EAAS+nB,cAAezhD,GAAKmsH,MAEvBhxF,EAAI,EAAGA,EAAI,EAAGA,IAOhB9D,EAAK,IAAI3pB,GAHLk/G,EAAmB,GAFvBL,EAAU/qE,EAAO92C,OAGbkiH,EAAmB,EAAVL,EAAc,IAI3B7yF,EAAS+nB,cAAezhD,GAAKmsH,GAAK/3G,KAAMijB,GAoBpD,GAZKswB,IAED2kE,EAAmC,EAArB9qE,EAAO92C,KAErBg5C,EAAKjyB,OAAO3tB,IACRu/C,EAASipE,KACTjpE,EAASipE,KACTjpE,EAASipE,KAKZ1kE,EAED,IAAM5nD,EAAI,EAAGA,EAAI,EAAGA,IAEhBssH,EAAmC,EAArB9qE,EAAO92C,KAErB+mB,EAAS,IAAI3pB,GACTu7C,EAASipE,KACTjpE,EAASipE,KACTjpE,EAASipE,IAGb5oE,EAAKjI,cAAcrnC,KAAMqd,GAejC,GARKo2B,IAEDwkE,EAAa7qE,EAAO92C,KACpBg5C,EAAKz+C,MAAMirC,OAAQqR,EAAQ8qE,KAK1BvkE,EAED,IAAM9nD,EAAI,EAAGA,EAAI,EAAGA,IAEhBqsH,EAAa7qE,EAAO92C,KACpBg5C,EAAKhI,aAAatnC,KAAM,IAAIhR,GAAOm+C,EAAQ8qE,KAMnD3yF,EAAS8nB,MAAMptC,KAAMsvC,IAwK7BopE,CAAYnU,EAAMj/E,GAhKtB,SAAoBi/E,EAAMj/E,GAEtB,IAAIqzF,OAAqDplH,IAA7BgxG,EAAKoU,oBAAsCpU,EAAKoU,oBAAsB,EAElG,GAAKpU,EAAK/2D,YAEN,IAAM,IAAI5hD,EAAI,EAAGC,EAAI04G,EAAK/2D,YAAY76C,OAAQ/G,EAAIC,EAAGD,GAAK+sH,EAAsB,CAE5E,IAAI3mH,EAAIuyG,EAAK/2D,YAAa5hD,GACtBqG,EAAM0mH,EAAsB,EAAMpU,EAAK/2D,YAAa5hD,EAAI,GAAM,EAC9DsG,EAAMymH,EAAsB,EAAMpU,EAAK/2D,YAAa5hD,EAAI,GAAM,EAC9D+e,EAAMguG,EAAsB,EAAMpU,EAAK/2D,YAAa5hD,EAAI,GAAM,EAElE05B,EAASkoB,YAAYxtC,KAAM,IAAIygB,GAASzuB,EAAGC,EAAGC,EAAGyY,IAMzD,GAAK45F,EAAK92D,YAEN,IAAU7hD,EAAI,EAAGC,EAAI04G,EAAK92D,YAAY96C,OAAQ/G,EAAIC,EAAGD,GAAK+sH,EAAsB,CAE5E,IAAI9sG,EAAI04F,EAAK92D,YAAa7hD,GACtBkgB,EAAM6sG,EAAsB,EAAMpU,EAAK92D,YAAa7hD,EAAI,GAAM,EAC9DK,EAAM0sH,EAAsB,EAAMpU,EAAK92D,YAAa7hD,EAAI,GAAM,EAC9DM,EAAMysH,EAAsB,EAAMpU,EAAK92D,YAAa7hD,EAAI,GAAM,EAElE05B,EAASmoB,YAAYztC,KAAM,IAAIygB,GAAS5U,EAAGC,EAAG7f,EAAGC,IAMzDo5B,EAAS2tC,MAAQsxC,EAAKtxC,MAEjB3tC,EAAS2tC,OAAS3tC,EAAS2tC,MAAMtgE,OAAS,IAAO2yB,EAASkoB,YAAY76C,SAAW2yB,EAASmoB,YAAY96C,QAAU2yB,EAASmoB,YAAY96C,SAAW2yB,EAASE,SAAS7yB,SAEnK+I,QAAQC,KAAM,sCAAwC2pB,EAASE,SAAS7yB,OAAS,mBAC7E2yB,EAASmoB,YAAY96C,OAAS,uBAAyB2yB,EAASkoB,YAAY76C,OAAS,mBA0H7FimH,CAAWrU,EAAMj/E,GApHrB,SAAwBi/E,EAAMj/E,GAE1B,IAAIxzB,EAAQyyG,EAAKzyG,MAEjB,QAA2ByB,IAAtBgxG,EAAKj3D,aAEN,IAAM,IAAI1hD,EAAI,EAAGC,EAAI04G,EAAKj3D,aAAa36C,OAAQ/G,EAAIC,EAAGD,IAAO,CAEzD05B,EAASgoB,aAAc1hD,MACvB05B,EAASgoB,aAAc1hD,GAAIO,KAAOo4G,EAAKj3D,aAAc1hD,GAAIO,KACzDm5B,EAASgoB,aAAc1hD,GAAI45B,YAK3B,IAHA,IAAIqzF,EAAcvzF,EAASgoB,aAAc1hD,GAAI45B,SACzCszF,EAAcvU,EAAKj3D,aAAc1hD,GAAI45B,SAE/BprB,EAAI,EAAGw2C,EAAKkoE,EAAYnmH,OAAQyH,EAAIw2C,EAAIx2C,GAAK,EAAI,CAEvD,IAAI84C,EAAS,IAAIx/C,GACjBw/C,EAAOlhD,EAAI8mH,EAAa1+G,GAAMtI,EAC9BohD,EAAOjhD,EAAI6mH,EAAa1+G,EAAI,GAAMtI,EAClCohD,EAAOhhD,EAAI4mH,EAAa1+G,EAAI,GAAMtI,EAElC+mH,EAAY74G,KAAMkzC,IAQ9B,QAA0B3/C,IAArBgxG,EAAKwU,aAA6BxU,EAAKwU,YAAYpmH,OAAS,EAAI,CAEjE+I,QAAQC,KAAM,mFAEd,IAAIyxC,EAAQ9nB,EAAS8nB,MACjB2rE,EAAcxU,EAAKwU,YAAa,GAAI5rE,OAExC,IAAUvhD,EAAI,EAAGC,EAAIuhD,EAAMz6C,OAAQ/G,EAAIC,EAAGD,IAEtCwhD,EAAOxhD,GAAIiF,MAAM6c,UAAWqrG,EAAiB,EAAJntH,IA8EjDotH,CAAezU,EAAMj/E,GAtEzB,SAA0Bi/E,EAAMj/E,GAE5B,IAAI2zF,KAGAhH,UAEoB1+G,IAAnBgxG,EAAK78B,WAENuqC,EAAWjyG,KAAMukG,EAAK78B,gBAIDn0E,IAApBgxG,EAAK0N,aAED1N,EAAK0N,WAAWt/G,OAEjBs/G,EAAaA,EAAWvd,OAAQ6P,EAAK0N,YAIrCA,EAAWjyG,KAAMukG,EAAK0N,aAM9B,IAAM,IAAIrmH,EAAI,EAAGA,EAAIqmH,EAAWt/G,OAAQ/G,IAAO,CAE3C,IAAI4lH,EAAO7E,GAAc6F,eAAgBP,EAAYrmH,GAAK05B,EAAS2tC,OAC9Du+C,GAAOyH,EAAiBj5G,KAAMwxG,GAKvC,GAAKlsF,EAASgoB,aAAe,CAGzB,IAAI4rE,EAAsBvM,GAAcuF,oCAAqC5sF,EAASgoB,aAAc,IACpG2rE,EAAmBA,EAAiBvkB,OAAQwkB,GAI3CD,EAAiBtmH,OAAS,IAAI2yB,EAAS2sF,WAAagH,GA4BzDE,CAAiB5U,EAAMj/E,GAEvBA,EAAS6qB,qBACT7qB,EAAS8E,6BAEe72B,IAAnBgxG,EAAKx4D,WAAqD,IAA1Bw4D,EAAKx4D,UAAUp5C,QAEvC2yB,SAAUA,IAMVA,SAAUA,EAAUymB,UAFb6nE,GAAOpmH,UAAU2mH,cAAe5P,EAAKx4D,UAAWn5C,KAAKilH,cAAgBpuD,EAAM72D,KAAK4vG,eA9dnG,KAqfbl2G,OAAO+S,OAAQs4G,GAAanqH,WAExBg1G,YAAa,YAEbtC,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEZ,KAArBxqG,KAAKwhH,cAENxhH,KAAKwhH,YAAcvxF,EAAIu2F,UAAW,EAAGv2F,EAAI40F,YAAa,KAAQ,IAIlE,IAAI3hH,EAAQlD,KAEC,IAAIsrG,GAAYpoG,EAAMqoG,SAC5B+B,KAAMr9E,EAAK,SAAW41E,GAEzB,IAAI8L,EAAO,KAEX,IAEIA,EAAOp4D,KAAKY,MAAO0rD,GAErB,MAAQ/tF,GAMN,YAJiBnX,IAAZ6pG,GAAwBA,EAAS1yF,QAEtChP,QAAQgP,MAAO,mCAAsCmY,EAAM,IAAKnY,EAAMskE,SAM1E,IAAIvsD,EAAW8hF,EAAK9hF,cAEFlvB,IAAbkvB,QAA4ClvB,IAAlBkvB,EAAS7pB,MAAsD,aAAhC6pB,EAAS7pB,KAAKgoG,cAO5E9qG,EAAMi3C,MAAOw3D,EAAMrH,GALfxhG,QAAQgP,MAAO,kCAAqCmY,EAAM,oCAO/Ds6E,EAAYC,IAInBic,eAAgB,SAAWxsH,GAGvB,OADA+F,KAAKwhH,YAAcvnH,EACZ+F,MAIXiwG,eAAgB,SAAWh2G,GAGvB,OADA+F,KAAK4vG,YAAc31G,EACZ+F,MAIXm6C,MAAO,SAAWw3D,EAAMrH,GAEpB,IAAIlxD,EAASp5C,KAAK0mH,WAAY/U,EAAKv4D,QAC/BF,EAAal5C,KAAK2mH,gBAAiBhV,EAAKz4D,WAAYE,GAEpDppB,EAAShwB,KAAK4mH,YAAajV,EAAK3hF,OAAQ,gBAExBrvB,IAAX2pG,GAAuBA,EAAQ5vG,KAIpCk1B,EAAW5vB,KAAK6mH,cAAelV,EAAK/hF,SAAUI,GAC9CmpB,EAAYn5C,KAAK8mH,eAAgBnV,EAAKx4D,UAAWvpB,GAEjDl1B,EAASsF,KAAK+mH,YAAapV,EAAKj3G,OAAQw+C,EAAYC,GAcxD,OAZKw4D,EAAK0N,aAEN3kH,EAAO2kH,WAAar/G,KAAKumH,gBAAiB5U,EAAK0N,kBAI9B1+G,IAAhBgxG,EAAK3hF,QAA+C,IAAvB2hF,EAAK3hF,OAAOjwB,aAE1BY,IAAX2pG,GAAuBA,EAAQ5vG,GAIjCA,GAIXgsH,WAAY,SAAW/U,GAEnB,IAAIv4D,KAEJ,QAAcz4C,IAATgxG,EAED,IAAM,IAAI34G,EAAI,EAAGC,EAAI04G,EAAK5xG,OAAQ/G,EAAIC,EAAGD,IAAO,CAE5C,IAAI6gD,GAAQ,IAAIy6D,IAAQ5C,SAAUC,EAAM34G,IAExCogD,EAAQS,EAAMh6C,MAASg6C,EAM/B,OAAOT,GAIXutE,gBAAiB,SAAWhV,EAAMv4D,GAE9B,IAAIF,KAEJ,QAAcv4C,IAATgxG,EAKD,IAHA,IAAIqV,EAAiB,IAAIlC,GACrBmC,EAAuB,IAAIzM,GAErBxhH,EAAI,EAAGC,EAAI04G,EAAK5xG,OAAQ/G,EAAIC,EAAGD,IAAO,CAE5C,IAAI05B,EACA/D,EAAOgjF,EAAM34G,GAEjB,OAAS21B,EAAK3oB,MAEV,IAAK,gBACL,IAAK,sBAED0sB,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKtW,MACLsW,EAAKrW,OACLqW,EAAK+0B,cACL/0B,EAAKg1B,gBAGT,MAEJ,IAAK,cACL,IAAK,oBACL,IAAK,eAEDjxB,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKtW,MACLsW,EAAKrW,OACLqW,EAAKmiB,MACLniB,EAAK+0B,cACL/0B,EAAKg1B,eACLh1B,EAAKi1B,eAGT,MAEJ,IAAK,iBACL,IAAK,uBAEDlxB,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKhqB,OACLgqB,EAAKy4E,SACLz4E,EAAKy3E,WACLz3E,EAAK03E,aAGT,MAEJ,IAAK,mBACL,IAAK,yBAED3zE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAK65E,UACL75E,EAAK85E,aACL95E,EAAKrW,OACLqW,EAAKinE,eACLjnE,EAAKg1B,eACLh1B,EAAK+5E,UACL/5E,EAAKy3E,WACLz3E,EAAK03E,aAGT,MAEJ,IAAK,eACL,IAAK,qBAED3zE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKhqB,OACLgqB,EAAKrW,OACLqW,EAAKinE,eACLjnE,EAAKg1B,eACLh1B,EAAK+5E,UACL/5E,EAAKy3E,WACLz3E,EAAK03E,aAGT,MAEJ,IAAK,iBACL,IAAK,uBAED3zE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKhqB,OACLgqB,EAAK+0B,cACL/0B,EAAKg1B,eACLh1B,EAAKu3E,SACLv3E,EAAKw3E,UACLx3E,EAAKy3E,WACLz3E,EAAK03E,aAGT,MAEJ,IAAK,uBACL,IAAK,6BACL,IAAK,sBACL,IAAK,4BACL,IAAK,qBACL,IAAK,2BACL,IAAK,sBACL,IAAK,4BAED3zE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKhqB,OACLgqB,EAAKklE,QAGT,MAEJ,IAAK,eACL,IAAK,qBAEDnhE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKg4E,YACLh4E,EAAKi4E,YACLj4E,EAAKk4E,cACLl4E,EAAKm4E,YACLn4E,EAAKy3E,WACLz3E,EAAK03E,aAGT,MAEJ,IAAK,gBACL,IAAK,sBAED3zE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKhqB,OACLgqB,EAAKkoE,KACLloE,EAAKinE,eACLjnE,EAAKgnE,gBACLhnE,EAAK8oE,KAGT,MAEJ,IAAK,oBACL,IAAK,0BAED/kE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKhqB,OACLgqB,EAAKkoE,KACLloE,EAAKgnE,gBACLhnE,EAAKinE,eACLjnE,EAAK7zB,EACL6zB,EAAKlQ,GAGT,MAEJ,IAAK,gBACL,IAAK,sBAEDiU,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAK6C,OACL7C,EAAKy4E,SACLz4E,EAAKu3E,SACLv3E,EAAKw3E,WAGT,MAEJ,IAAK,qBACL,IAAK,2BAEDzzE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5B2oB,EAAKiE,SACLjE,EAAKouB,QACLpuB,EAAKhqB,OACLgqB,EAAKu4F,SAGT,MAEJ,IAAK,gBACL,IAAK,sBAID,IAFA,IAAIC,KAEMhzF,EAAI,EAAGwoB,EAAKhuB,EAAKyqB,OAAOr5C,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAErD,IAAI0lB,EAAQT,EAAQzqB,EAAKyqB,OAAQjlB,IAEjCgzF,EAAe/5G,KAAMysC,GAIzBnnB,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5BmhH,EACAx4F,EAAK6xE,eAGT,MAGJ,IAAK,kBACL,IAAK,wBAID,IAFI2mB,KAEMhzF,EAAI,EAAGwoB,EAAKhuB,EAAKyqB,OAAOr5C,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAEjD0lB,EAAQT,EAAQzqB,EAAKyqB,OAAQjlB,IAEjCgzF,EAAe/5G,KAAMysC,GAIzB,IAAIinD,EAAcnyE,EAAKZ,QAAQ+yE,iBAEVngG,IAAhBmgG,IAEDnyE,EAAKZ,QAAQ+yE,aAAc,IAAIkT,GAAQlT,EAAY96F,OAAS0rG,SAAU5Q,IAI1EpuE,EAAW,IAAI82E,GAAY76E,EAAK3oB,MAC5BmhH,EACAx4F,EAAKZ,SAGT,MAEJ,IAAK,iBAED2E,EAAWu0F,EAAqB9sE,MAAOxrB,GAEvC,MAEJ,IAAK,WAED+D,EAAWs0F,EAAe7sE,MAAOxrB,EAAM3uB,KAAKwhH,aAAc9uF,SAE1D,MAEJ,QAEI5pB,QAAQC,KAAM,kDAAoD4lB,EAAK3oB,KAAO,KAE9E,SAIR0sB,EAAS7yB,KAAO8uB,EAAK9uB,UAEFc,IAAdguB,EAAKp1B,OAAqBm5B,EAASn5B,KAAOo1B,EAAKp1B,OACjB,IAA9Bm5B,EAASG,uBAA+ClyB,IAAlBguB,EAAKkoB,WAAyBnkB,EAASmkB,SAAWloB,EAAKkoB,UAElGqC,EAAYvqB,EAAK9uB,MAAS6yB,EAMlC,OAAOwmB,GAIX4tE,eAAgB,SAAWnV,EAAM/hF,GAE7B,IAAIupB,KAEJ,QAAcx4C,IAATgxG,EAAqB,CAEtB,IAAItC,EAAS,IAAIkL,GACjBlL,EAAOoR,YAAa7wF,GAEpB,IAAM,IAAI52B,EAAI,EAAGC,EAAI04G,EAAK5xG,OAAQ/G,EAAIC,EAAGD,IAAO,CAE5C,IAAI21B,EAAOgjF,EAAM34G,GAEjB,GAAmB,kBAAd21B,EAAK3oB,KAA2B,CAMjC,IAFA,IAAIwH,KAEM2mB,EAAI,EAAGA,EAAIxF,EAAKwqB,UAAUp5C,OAAQo0B,IAExC3mB,EAAMJ,KAAMiiG,EAAOl1D,MAAOxrB,EAAKwqB,UAAWhlB,KAI9CglB,EAAWxqB,EAAK9uB,MAAS2N,OAIzB2rC,EAAWxqB,EAAK9uB,MAASwvG,EAAOl1D,MAAOxrB,IAQnD,OAAOwqB,GAIXotE,gBAAiB,SAAW5U,GAIxB,IAFA,IAAI0N,KAEMrmH,EAAI,EAAGA,EAAI24G,EAAK5xG,OAAQ/G,IAAO,CAErC,IAAI21B,EAAOgjF,EAAM34G,GAEb4lH,EAAO7E,GAAc5/D,MAAOxrB,QAEbhuB,IAAdguB,EAAK9uB,OAAqB++G,EAAK/+G,KAAO8uB,EAAK9uB,MAEhDw/G,EAAWjyG,KAAMwxG,GAIrB,OAAOS,GAIXuH,YAAa,SAAWjV,EAAMrH,GAE1B,IAAIpnG,EAAQlD,KACRgwB,KAEJ,SAASo3F,EAAWn3F,GAIhB,OAFA/sB,EAAMqoG,QAAQT,UAAW76E,GAElBo/E,EAAO/B,KAAMr9E,EAAK,WAErB/sB,EAAMqoG,QAAQR,QAAS96E,SAExBtvB,EAAW,WAEVuC,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,KAMjC,QAActvB,IAATgxG,GAAsBA,EAAK5xG,OAAS,EAAI,CAEzC,IAEIsvG,EAAS,IAAI1D,GAFH,IAAItB,GAAgBC,IAGlC+E,EAAOY,eAAgBjwG,KAAK4vG,aAE5B,IAAM,IAAI52G,EAAI,EAAG04B,EAAKigF,EAAK5xG,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAE9C,IAAI+yB,EAAQ4lF,EAAM34G,GACdi3B,EAAMlE,EAAMkE,IAEhB,GAAKC,MAAMC,QAASF,GAAQ,CAIxBD,EAAQjE,EAAMlsB,SAEd,IAAM,IAAIs0B,EAAI,EAAGwoB,EAAK1sB,EAAIlwB,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAE7C,IAAIkzF,EAAap3F,EAAKkE,GAElB0iC,EAAO,4BAA4B/gB,KAAMuxE,GAAeA,EAAankH,EAAMs+G,YAAc6F,EAE7Fr3F,EAAQjE,EAAMlsB,MAAOuN,KAAMg6G,EAAWvwD,SAIvC,CAICA,EAAO,4BAA4B/gB,KAAM/pB,EAAMkE,KAAQlE,EAAMkE,IAAM/sB,EAAMs+G,YAAcz1F,EAAMkE,IAEjGD,EAAQjE,EAAMlsB,MAASunH,EAAWvwD,KAQ9C,OAAO7mC,GAIX62F,cAAe,SAAWlV,EAAM3hF,GAE5B,SAASs3F,EAAertH,EAAO+L,GAE3B,MAAsB,iBAAV/L,EAA4BA,GAExC6O,QAAQC,KAAM,uEAAwE9O,GAE/E+L,EAAM/L,IAIjB,IAAI21B,KAEJ,QAAcjvB,IAATgxG,EAED,IAAM,IAAI34G,EAAI,EAAGC,EAAI04G,EAAK5xG,OAAQ/G,EAAIC,EAAGD,IAAO,CAE5C,IAcIm1B,EAdAQ,EAAOgjF,EAAM34G,QAEG2H,IAAfguB,EAAK5C,OAENjjB,QAAQC,KAAM,+CAAgD4lB,EAAK9uB,WAIzCc,IAAzBqvB,EAAQrB,EAAK5C,QAEdjjB,QAAQC,KAAM,sCAAuC4lB,EAAK5C,QAQ1DoC,EAFC+B,MAAMC,QAASH,EAAQrB,EAAK5C,QAEnB,IAAIm+B,GAAal6B,EAAQrB,EAAK5C,QAI9B,IAAIW,GAASsD,EAAQrB,EAAK5C,SAIhC65B,aAAc,EAEtBz3B,EAAQtuB,KAAO8uB,EAAK9uB,UAEDc,IAAdguB,EAAKp1B,OAAqB40B,EAAQ50B,KAAOo1B,EAAKp1B,WAE7BoH,IAAjBguB,EAAKhC,UAAwBwB,EAAQxB,QAAU26F,EAAe34F,EAAKhC,QAAS46F,UAE5D5mH,IAAhBguB,EAAKjrB,QAAuByqB,EAAQzqB,OAAOoX,UAAW6T,EAAKjrB,aAC3C/C,IAAhBguB,EAAKrB,QAAuBa,EAAQb,OAAOxS,UAAW6T,EAAKrB,aAC3C3sB,IAAhBguB,EAAK1jB,QAAuBkjB,EAAQljB,OAAO6P,UAAW6T,EAAK1jB,aACzCtK,IAAlBguB,EAAKnD,WAAyB2C,EAAQ3C,SAAWmD,EAAKnD,eAExC7qB,IAAdguB,EAAKoB,OAEN5B,EAAQvB,MAAQ06F,EAAe34F,EAAKoB,KAAM,GAAKy3F,IAC/Cr5F,EAAQtB,MAAQy6F,EAAe34F,EAAKoB,KAAM,GAAKy3F,UAI9B7mH,IAAhBguB,EAAK3B,SAAuBmB,EAAQnB,OAAS2B,EAAK3B,aAE/BrsB,IAAnBguB,EAAK5B,YAA0BoB,EAAQpB,UAAYu6F,EAAe34F,EAAK5B,UAAW06F,UAC/D9mH,IAAnBguB,EAAK7B,YAA0BqB,EAAQrB,UAAYw6F,EAAe34F,EAAK7B,UAAW26F,UAC9D9mH,IAApBguB,EAAK1B,aAA2BkB,EAAQlB,WAAa0B,EAAK1B,iBAE3CtsB,IAAfguB,EAAKlB,QAAsBU,EAAQV,MAAQkB,EAAKlB,OAErDmC,EAAUjB,EAAK9uB,MAASsuB,EAMhC,OAAOyB,GAIXm3F,YAAa,SAAWp4F,EAAMuqB,EAAYC,GAEtC,IAAIz+C,EAEJ,SAASgtH,EAAanuH,GAQlB,YAN4BoH,IAAvBu4C,EAAY3/C,IAEbuP,QAAQC,KAAM,yCAA0CxP,GAIrD2/C,EAAY3/C,GAIvB,SAASouH,EAAapuH,GAElB,QAAcoH,IAATpH,EAAL,CAEA,GAAK22B,MAAMC,QAAS52B,GAAS,CAIzB,IAFA,IAAIiU,KAEMxU,EAAI,EAAGC,EAAIM,EAAKwG,OAAQ/G,EAAIC,EAAGD,IAAO,CAE5C,IAAI6G,EAAOtG,EAAMP,QAEU2H,IAAtBw4C,EAAWt5C,IAEZiJ,QAAQC,KAAM,yCAA0ClJ,GAI5D2N,EAAMJ,KAAM+rC,EAAWt5C,IAI3B,OAAO2N,EAUX,YAN2B7M,IAAtBw4C,EAAW5/C,IAEZuP,QAAQC,KAAM,yCAA0CxP,GAIrD4/C,EAAW5/C,IAItB,OAASo1B,EAAK3oB,MAEV,IAAK,QAEDtL,EAAS,IAAIwB,QAEYyE,IAApBguB,EAAKxyB,YAED6P,OAAOE,UAAWyiB,EAAKxyB,cAExBzB,EAAOyB,WAAa,IAAIC,GAAOuyB,EAAKxyB,kBAM1BwE,IAAbguB,EAAKtyB,MAEiB,QAAlBsyB,EAAKtyB,IAAI2J,KAEVtL,EAAO2B,IAAM,IAAI+0F,GAAKziE,EAAKtyB,IAAI4B,MAAO0wB,EAAKtyB,IAAI+nB,KAAMuK,EAAKtyB,IAAIgoB,KAEpC,YAAlBsK,EAAKtyB,IAAI2J,OAEjBtL,EAAO2B,IAAM,IAAIC,GAASqyB,EAAKtyB,IAAI4B,MAAO0wB,EAAKtyB,IAAI2xF,WAM3D,MAEJ,IAAK,oBAEDtzF,EAAS,IAAIkC,GAAmB+xB,EAAKtmB,IAAKsmB,EAAKtzB,OAAQszB,EAAKvK,KAAMuK,EAAKtK,UAEnD1jB,IAAfguB,EAAKokD,QAAsBr4E,EAAOq4E,MAAQpkD,EAAKokD,YACjCpyE,IAAdguB,EAAKhsB,OAAqBjI,EAAOiI,KAAOgsB,EAAKhsB,WAC1BhC,IAAnBguB,EAAKskD,YAA0Bv4E,EAAOu4E,UAAYtkD,EAAKskD,gBACnCtyE,IAApBguB,EAAKukD,aAA2Bx4E,EAAOw4E,WAAavkD,EAAKukD,iBAC3CvyE,IAAdguB,EAAKqkD,OAAqBt4E,EAAOs4E,KAAOt5E,OAAO+S,UAAYkiB,EAAKqkD,OAErE,MAEJ,IAAK,qBAEDt4E,EAAS,IAAIo6G,GAAoBnmF,EAAKjmB,KAAMimB,EAAKlmB,MAAOkmB,EAAK/lB,IAAK+lB,EAAK9lB,OAAQ8lB,EAAKvK,KAAMuK,EAAKtK,UAE5E1jB,IAAdguB,EAAKhsB,OAAqBjI,EAAOiI,KAAOgsB,EAAKhsB,WAC/BhC,IAAdguB,EAAKqkD,OAAqBt4E,EAAOs4E,KAAOt5E,OAAO+S,UAAYkiB,EAAKqkD,OAErE,MAEJ,IAAK,eAEDt4E,EAAS,IAAI2F,GAAcsuB,EAAK1wB,MAAO0wB,EAAK80C,WAE5C,MAEJ,IAAK,mBAED/oE,EAAS,IAAI0F,GAAkBuuB,EAAK1wB,MAAO0wB,EAAK80C,WAEhD,MAEJ,IAAK,aAED/oE,EAAS,IAAIm6G,GAAYlmF,EAAK1wB,MAAO0wB,EAAK80C,UAAW90C,EAAKlnB,SAAUknB,EAAKsgB,OAEzE,MAEJ,IAAK,gBAEDv0C,EAAS,IAAIs6G,GAAermF,EAAK1wB,MAAO0wB,EAAK80C,UAAW90C,EAAKtW,MAAOsW,EAAKrW,QAEzE,MAEJ,IAAK,YAED5d,EAAS,IAAIi6G,GAAWhmF,EAAK1wB,MAAO0wB,EAAK80C,UAAW90C,EAAKlnB,SAAUknB,EAAKtnB,MAAOsnB,EAAKo1C,SAAUp1C,EAAKsgB,OAEnG,MAEJ,IAAK,kBAEDv0C,EAAS,IAAI85G,GAAiB7lF,EAAK1wB,MAAO0wB,EAAKghB,YAAahhB,EAAK80C,WAEjE,MAEJ,IAAK,cAED36D,QAAQC,KAAM,sEAElB,IAAK,OAED,IAAI2pB,EAAWg1F,EAAa/4F,EAAK+D,UAC7B30B,EAAW4pH,EAAah5F,EAAK5wB,UAI7BrD,EAFCg4B,EAAS2tC,OAAS3tC,EAAS2tC,MAAMtgE,OAAS,EAElC,IAAIgyF,GAAar/D,EAAU30B,GAI3B,IAAIoB,GAAMuzB,EAAU30B,GAIjC,MAEJ,IAAK,MAEDrD,EAAS,IAAI+2F,GAEb,MAEJ,IAAK,OAED/2F,EAAS,IAAI63F,GAAMm1B,EAAa/4F,EAAK+D,UAAYi1F,EAAah5F,EAAK5wB,UAAY4wB,EAAKx0B,MAEpF,MAEJ,IAAK,WAEDO,EAAS,IAAI+3F,GAAUi1B,EAAa/4F,EAAK+D,UAAYi1F,EAAah5F,EAAK5wB,WAEvE,MAEJ,IAAK,eAEDrD,EAAS,IAAI83F,GAAck1B,EAAa/4F,EAAK+D,UAAYi1F,EAAah5F,EAAK5wB,WAE3E,MAEJ,IAAK,aACL,IAAK,SAEDrD,EAAS,IAAIg4F,GAAQg1B,EAAa/4F,EAAK+D,UAAYi1F,EAAah5F,EAAK5wB,WAErE,MAEJ,IAAK,SAEDrD,EAAS,IAAI82F,GAAQm2B,EAAah5F,EAAK5wB,WAEvC,MAEJ,IAAK,QAEDrD,EAAS,IAAIk4E,GAEb,MAEJ,QAEIl4E,EAAS,IAAIu7C,GA0CrB,GAtCAv7C,EAAOmF,KAAO8uB,EAAK9uB,UAEAc,IAAdguB,EAAKp1B,OAAqBmB,EAAOnB,KAAOo1B,EAAKp1B,WAE7BoH,IAAhBguB,EAAKpmB,QAEN7N,EAAO6N,OAAOuS,UAAW6T,EAAKpmB,aAEC5H,IAA1BguB,EAAKnvB,mBAAiC9E,EAAO8E,iBAAmBmvB,EAAKnvB,kBACrE9E,EAAO8E,kBAAmB9E,EAAO6N,OAAOsb,UAAWnpB,EAAOmC,SAAUnC,EAAO0K,WAAY1K,EAAOwE,cAI5EyB,IAAlBguB,EAAK9xB,UAAyBnC,EAAOmC,SAASie,UAAW6T,EAAK9xB,eAC5C8D,IAAlBguB,EAAKnD,UAAyB9wB,EAAO8wB,SAAS1Q,UAAW6T,EAAKnD,eAC1C7qB,IAApBguB,EAAKvpB,YAA2B1K,EAAO0K,WAAW0V,UAAW6T,EAAKvpB,iBACnDzE,IAAfguB,EAAKzvB,OAAsBxE,EAAOwE,MAAM4b,UAAW6T,EAAKzvB,aAIxCyB,IAApBguB,EAAK8nB,aAA2B/7C,EAAO+7C,WAAa9nB,EAAK8nB,iBAClC91C,IAAvBguB,EAAK+nB,gBAA8Bh8C,EAAOg8C,cAAgB/nB,EAAK+nB,eAE/D/nB,EAAK6f,cAEoB7tC,IAArBguB,EAAK6f,OAAOo1B,OAAqBlpE,EAAO8zC,OAAOo1B,KAAOj1C,EAAK6f,OAAOo1B,WAC3CjjE,IAAvBguB,EAAK6f,OAAO7pC,SAAuBjK,EAAO8zC,OAAO7pC,OAASgqB,EAAK6f,OAAO7pC,aAC9ChE,IAAxBguB,EAAK6f,OAAOq1B,SAAwBnpE,EAAO8zC,OAAOq1B,QAAQ/oD,UAAW6T,EAAK6f,OAAOq1B,cAC1DljE,IAAvBguB,EAAK6f,OAAOxzC,SAAuBN,EAAO8zC,OAAOxzC,OAASgF,KAAK+mH,YAAap4F,EAAK6f,OAAOxzC,eAI3E2F,IAAjBguB,EAAK6nB,UAAwB97C,EAAO87C,QAAU7nB,EAAK6nB,cAC5B71C,IAAvBguB,EAAKgoB,gBAA8Bj8C,EAAOi8C,cAAgBhoB,EAAKgoB,oBAC1Ch2C,IAArBguB,EAAKioB,cAA4Bl8C,EAAOk8C,YAAcjoB,EAAKioB,kBACzCj2C,IAAlBguB,EAAKkoB,WAAyBn8C,EAAOm8C,SAAWloB,EAAKkoB,eACrCl2C,IAAhBguB,EAAKonB,SAAuBr7C,EAAOq7C,OAAOhB,KAAOpmB,EAAKonB,aAEpCp1C,IAAlBguB,EAAKwnB,SAIN,IAFA,IAAIA,EAAWxnB,EAAKwnB,SAEVn9C,EAAI,EAAGA,EAAIm9C,EAASp2C,OAAQ/G,IAElC0B,EAAO+E,IAAKO,KAAK+mH,YAAa5wE,EAAUn9C,GAAKkgD,EAAYC,IAMjE,GAAmB,QAAdxqB,EAAK3oB,KAIN,IAFA,IAAI0rF,EAAS/iE,EAAK+iE,OAERz4F,EAAI,EAAGA,EAAIy4F,EAAO3xF,OAAQ9G,IAAO,CAEvC,IAAI63F,EAAQY,EAAQz4F,GAChBmhD,EAAQ1/C,EAAO49C,oBAAqB,OAAQw4C,EAAMp2F,aAEvCiG,IAAVy5C,GAED1/C,EAAO0+F,SAAUh/C,EAAO02C,EAAMrpF,UAQ1C,OAAO/M,KAMf,IAqmBIyxB,GArmBAo7F,IACAK,UA9lsCY,IA+lsCZh3G,sBAAuBA,EACvBC,sBAAuBA,GACvBC,iCAAkCA,GAClCC,iCAAkCA,GAClCC,2BAA4BA,GAC5BC,wBAAyBA,GACzBC,wBAAyBA,IAGzBs2G,IACAr2G,eAAgBA,GAChBC,oBAAqBA,GACrBC,uBAAwBA,IAGxBo2G,IACAn2G,cAAeA,GACfC,2BAA4BA,GAC5BC,0BAA2BA,GAC3BC,aAAcA,GACdC,0BAA2BA,GAC3BC,yBAA0BA,IAQ9B,SAASk2G,GAAmBtc,GAEU,oBAAtBuc,mBAERh/G,QAAQC,KAAM,+DAII,oBAAVg/G,OAERj/G,QAAQC,KAAM,mDAIlB/I,KAAKurG,aAAsB5qG,IAAZ4qG,EAAwBA,EAAUH,GACjDprG,KAAK+tB,aAAUptB,EA2FnB,SAASqnH,KAELhoH,KAAKgG,KAAO,YAEZhG,KAAK/B,MAAQ,IAAI7B,GAEjB4D,KAAKioH,YACLjoH,KAAKkoH,YAAc,KAiRvB,SAASC,GAAMx5F,GAEX3uB,KAAKgG,KAAO,OAEZhG,KAAK2uB,KAAOA,EA4DhB,SAASy5F,GAAYC,EAAMnpH,EAAOq5F,EAASC,EAAS7pE,GAEhD,IAAI25F,EAAQ35F,EAAK45F,OAAQF,IAAU15F,EAAK45F,OAAQ,KAEhD,GAAOD,EAAP,CAEA,IAEIlpH,EAAGC,EAAGmpH,EAAKC,EAAKC,EAAMC,EAAMC,EAAMC,EAFlChyD,EAAO,IAAImxD,GAIf,GAAKM,EAAM7uH,EAIP,IAFA,IAAIqvH,EAAUR,EAAMS,iBAAoBT,EAAMS,eAAiBT,EAAM7uH,EAAE4+D,MAAO,MAEpEr/D,EAAI,EAAGC,EAAI6vH,EAAQ/oH,OAAQ/G,EAAIC,GAAK,CAI1C,OAFa6vH,EAAS9vH,MAIlB,IAAK,IAEDoG,EAAI0pH,EAAS9vH,KAASkG,EAAQq5F,EAC9Bl5F,EAAIypH,EAAS9vH,KAASkG,EAAQs5F,EAE9B3hC,EAAK++C,OAAQx2G,EAAGC,GAEhB,MAEJ,IAAK,IAEDD,EAAI0pH,EAAS9vH,KAASkG,EAAQq5F,EAC9Bl5F,EAAIypH,EAAS9vH,KAASkG,EAAQs5F,EAE9B3hC,EAAKg/C,OAAQz2G,EAAGC,GAEhB,MAEJ,IAAK,IAEDmpH,EAAMM,EAAS9vH,KAASkG,EAAQq5F,EAChCkwB,EAAMK,EAAS9vH,KAASkG,EAAQs5F,EAChCkwB,EAAOI,EAAS9vH,KAASkG,EAAQq5F,EACjCowB,EAAOG,EAAS9vH,KAASkG,EAAQs5F,EAEjC3hC,EAAKi/C,iBAAkB4S,EAAMC,EAAMH,EAAKC,GAExC,MAEJ,IAAK,IAEDD,EAAMM,EAAS9vH,KAASkG,EAAQq5F,EAChCkwB,EAAMK,EAAS9vH,KAASkG,EAAQs5F,EAChCkwB,EAAOI,EAAS9vH,KAASkG,EAAQq5F,EACjCowB,EAAOG,EAAS9vH,KAASkG,EAAQs5F,EACjCowB,EAAOE,EAAS9vH,KAASkG,EAAQq5F,EACjCswB,EAAOC,EAAS9vH,KAASkG,EAAQs5F,EAEjC3hC,EAAKo/C,cAAeyS,EAAMC,EAAMC,EAAMC,EAAML,EAAKC,IAUjE,OAASlwB,QAAS+vB,EAAMU,GAAK9pH,EAAO23D,KAAMA,IAQ9C,SAASoyD,GAAY1d,GAEjBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GA7fzDyc,GAAkBjtH,WAEdmQ,YAAa88G,GAEbqB,WAAY,SAAqBn7F,GAI7B,OAFA/tB,KAAK+tB,QAAUA,EAER/tB,MAIXstG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,QAEzB7pG,IAARsvB,IAAoBA,EAAM,SAEZtvB,IAAdX,KAAK62D,OAAqB5mC,EAAMjwB,KAAK62D,KAAO5mC,GAEjDA,EAAMjwB,KAAKurG,QAAQN,WAAYh7E,GAE/B,IAAI/sB,EAAQlD,KAERutG,EAASrD,GAAMrwG,IAAKo2B,GAExB,QAAgBtvB,IAAX4sG,EAYD,OAVArqG,EAAMqoG,QAAQT,UAAW76E,GAEzBu9E,WAAY,WAEHlD,GAASA,EAAQiD,GAEtBrqG,EAAMqoG,QAAQR,QAAS96E,IAExB,GAEIs9E,EAIXwa,MAAO93F,GAAM43D,KAAM,SAAWshC,GAE1B,OAAOA,EAAIC,SAEXvhC,KAAM,SAAWuhC,GAEjB,OAAOtB,kBAAmBsB,EAAMlmH,EAAM6qB,WAEtC85D,KAAM,SAAWwhC,GAEjBnf,GAAMzqG,IAAKwwB,EAAKo5F,GAEX/e,GAASA,EAAQ+e,GAEtBnmH,EAAMqoG,QAAQR,QAAS96E,KAEvBq5F,MAAO,SAAWvqH,GAEbyrG,GAAUA,EAASzrG,GAExBmE,EAAMqoG,QAAQR,QAAS96E,GACvB/sB,EAAMqoG,QAAQP,UAAW/6E,MAMjCggF,eAAgB,WAEZ,OAAOjwG,MAIXivG,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,OAsBftG,OAAO+S,OAAQu7G,GAAUptH,WAErBg7G,OAAQ,SAAWx2G,EAAGC,GAElBW,KAAKkoH,YAAc,IAAI9T,GACvBp0G,KAAKioH,SAAS76G,KAAMpN,KAAKkoH,aACzBloH,KAAKkoH,YAAYtS,OAAQx2G,EAAGC,IAIhCw2G,OAAQ,SAAWz2G,EAAGC,GAElBW,KAAKkoH,YAAYrS,OAAQz2G,EAAGC,IAIhCy2G,iBAAkB,SAAWC,EAAMC,EAAM/J,EAAIC,GAEzClsG,KAAKkoH,YAAYpS,iBAAkBC,EAAMC,EAAM/J,EAAIC,IAIvD+J,cAAe,SAAWC,EAAOC,EAAOC,EAAOC,EAAOpK,EAAIC,GAEtDlsG,KAAKkoH,YAAYjS,cAAeC,EAAOC,EAAOC,EAAOC,EAAOpK,EAAIC,IAIpEoK,WAAY,SAAW1W,GAEnB5/F,KAAKkoH,YAAY5R,WAAY1W,IAIjC2pB,SAAU,SAAWC,EAAOC,GAExB,SAASC,EAAiBC,GAItB,IAFA,IAAIvwE,KAEMpgD,EAAI,EAAGC,EAAI0wH,EAAW5pH,OAAQ/G,EAAIC,EAAGD,IAAO,CAElD,IAAI4wH,EAAUD,EAAY3wH,GAEtB6wH,EAAW,IAAIvV,GACnBuV,EAAS3V,OAAS0V,EAAQ1V,OAE1B96D,EAAOhsC,KAAMy8G,GAIjB,OAAOzwE,EAIX,SAAS0wE,EAAsBxnB,EAAMynB,GASjC,IAPA,IAAIC,EAAUD,EAAUhqH,OAMpBo/F,GAAS,EACHrkG,EAAIkvH,EAAU,EAAGvrG,EAAI,EAAGA,EAAIurG,EAASlvH,EAAI2jB,IAAO,CAEtD,IAAIwrG,EAAYF,EAAWjvH,GACvBovH,EAAaH,EAAWtrG,GAExB0rG,EAASD,EAAW9qH,EAAI6qH,EAAU7qH,EAClCgrH,EAASF,EAAW7qH,EAAI4qH,EAAU5qH,EAEtC,GAAK/B,KAAK6c,IAAKiwG,GAAWp+G,OAAOC,QAAU,CASvC,GANKm+G,EAAS,IAEVH,EAAYF,EAAWtrG,GAAK0rG,GAAWA,EACvCD,EAAaH,EAAWjvH,GAAKsvH,GAAWA,GAGrC9nB,EAAKjjG,EAAI4qH,EAAU5qH,GAASijG,EAAKjjG,EAAI6qH,EAAW7qH,EAAQ,SAE/D,GAAKijG,EAAKjjG,IAAM4qH,EAAU5qH,GAEtB,GAAKijG,EAAKljG,IAAM6qH,EAAU7qH,EAAK,OAAO,MAGnC,CAEH,IAAIirH,EAAWD,GAAW9nB,EAAKljG,EAAI6qH,EAAU7qH,GAAM+qH,GAAW7nB,EAAKjjG,EAAI4qH,EAAU5qH,GACjF,GAAkB,IAAbgrH,EAAoB,OAAO,EAChC,GAAKA,EAAW,EAAQ,SACxBlrB,GAAWA,OAIZ,CAGH,GAAKmD,EAAKjjG,IAAM4qH,EAAU5qH,EAAM,SAEhC,GAAS6qH,EAAW9qH,GAAKkjG,EAAKljG,GAASkjG,EAAKljG,GAAK6qH,EAAU7qH,GACnD6qH,EAAU7qH,GAAKkjG,EAAKljG,GAASkjG,EAAKljG,GAAK8qH,EAAW9qH,EAAS,OAAO,GAOlF,OAAO+/F,EAIX,IAAIQ,EAAcF,GAAWE,YAEzBsoB,EAAWjoH,KAAKioH,SACpB,GAAyB,IAApBA,EAASloH,OAAe,SAE7B,IAAiB,IAAZ0pH,EAAmB,OAAOC,EAAiBzB,GAGhD,IAAIqC,EAAOV,EAASC,EAAUzwE,KAE9B,GAAyB,IAApB6uE,EAASloH,OAMV,OAJA6pH,EAAU3B,EAAU,IACpB4B,EAAW,IAAIvV,IACNJ,OAAS0V,EAAQ1V,OAC1B96D,EAAOhsC,KAAMy8G,GACNzwE,EAIX,IAAImxE,GAAe5qB,EAAasoB,EAAU,GAAIzX,aAC9C+Z,EAAaf,GAAUe,EAAaA,EAIpC,IAIIC,EAgGAC,EApGAC,KACAC,KACAC,KACAC,EAAU,EAGdF,EAAWE,QAAYlqH,EACvBiqH,EAAeC,MAEf,IAAM,IAAI7xH,EAAI,EAAGC,EAAIgvH,EAASloH,OAAQ/G,EAAIC,EAAGD,IAIzCsxH,EAAQ3qB,EADR6qB,GADAZ,EAAU3B,EAAUjvH,IACAw3G,cAEpB8Z,EAAQd,GAAUc,EAAQA,KAIbC,GAAkBI,EAAWE,IAAcA,IAEpDF,EAAWE,IAAc9vH,EAAG,IAAIu5G,GAASx5G,EAAG0vH,GAC5CG,EAAWE,GAAU9vH,EAAEm5G,OAAS0V,EAAQ1V,OAEnCqW,GAAaM,IAClBD,EAAeC,OAMfD,EAAeC,GAAUz9G,MAAQmX,EAAGqlG,EAAS9uH,EAAG0vH,EAAW,KASnE,IAAOG,EAAW,GAAM,OAAOjB,EAAiBzB,GAGhD,GAAK0C,EAAU5qH,OAAS,EAAI,CAKxB,IAHA,IAAI+qH,GAAY,EACZC,KAEMC,EAAO,EAAGC,EAAON,EAAU5qH,OAAQirH,EAAOC,EAAMD,IAEtDN,EAAkBM,MAItB,IAAUA,EAAO,EAAGC,EAAON,EAAU5qH,OAAQirH,EAAOC,EAAMD,IAItD,IAFA,IAAIE,EAAMN,EAAeI,GAEfG,EAAO,EAAGA,EAAOD,EAAInrH,OAAQorH,IAAU,CAK7C,IAHA,IAAIC,EAAKF,EAAKC,GACVE,GAAkB,EAEZC,EAAQ,EAAGA,EAAQX,EAAU5qH,OAAQurH,IAEtCxB,EAAsBsB,EAAGtwH,EAAG6vH,EAAWW,GAAQxwH,KAE3CkwH,IAASM,GAAQP,EAAS39G,MAAQm+G,MAAOP,EAAMQ,IAAKF,EAAO9sB,KAAM2sB,IACjEE,GAEDA,GAAkB,EAClBX,EAAkBY,GAAQl+G,KAAMg+G,IAIhCN,GAAY,GAOnBO,GAEDX,EAAkBM,GAAO59G,KAAMg+G,GAQtCL,EAAShrH,OAAS,IAGZ+qH,IAAYF,EAAgBF,IAQjC1xH,EAAI,EAAd,IAAM,IAAW04B,EAAKi5F,EAAU5qH,OAAQ/G,EAAI04B,EAAI14B,IAAO,CAEnD6wH,EAAWc,EAAW3xH,GAAI+B,EAC1Bq+C,EAAOhsC,KAAMy8G,GAGb,IAAM,IAAI11F,EAAI,EAAGwoB,GAFjB8tE,EAAWG,EAAe5xH,IAEK+G,OAAQo0B,EAAIwoB,EAAIxoB,IAE3C01F,EAAS/pB,MAAM1yF,KAAMq9G,EAAUt2F,GAAI5P,GAQ3C,OAAO60B,KAoBf1/C,OAAO+S,OAAQ07G,GAAKvtH,WAEhBorG,QAAQ,EAERC,eAAgB,SAAWJ,EAAMh0E,QAEflxB,IAATkxB,IAAqBA,EAAO,KAKjC,IAHA,IAAIunB,KACAqyE,EAcZ,SAAsB5lB,EAAMh0E,EAAMlD,GAU9B,IARA,IAAI+8F,EAAQx7F,MAAMknF,KAAOlnF,MAAMknF,KAAMvR,GAASz1C,OAAQy1C,GAAOxtC,MAAO,IAChEn5D,EAAQ2yB,EAAOlD,EAAKgnF,WACpBgW,GAAgBh9F,EAAKosB,YAAY6wE,KAAOj9F,EAAKosB,YAAY8wE,KAAOl9F,EAAKm9F,oBAAuB5sH,EAE5FusH,KAEAlzB,EAAU,EAAGC,EAAU,EAEjBx/F,EAAI,EAAGA,EAAI0yH,EAAM3rH,OAAQ/G,IAAO,CAEtC,IAAIqvH,EAAOqD,EAAO1yH,GAElB,GAAc,OAATqvH,EAED9vB,EAAU,EACVC,GAAWmzB,MAER,CAEH,IAAII,EAAM3D,GAAYC,EAAMnpH,EAAOq5F,EAASC,EAAS7pE,GACrD4pE,GAAWwzB,EAAIxzB,QACfkzB,EAAMr+G,KAAM2+G,EAAIl1D,OAMxB,OAAO40D,EA3CSO,CAAanmB,EAAMh0E,EAAM7xB,KAAK2uB,MAEhC7zB,EAAI,EAAG+mE,EAAK4pD,EAAM1rH,OAAQjF,EAAI+mE,EAAI/mE,IAExCo1B,MAAMt1B,UAAUwS,KAAKtB,MAAOstC,EAAQqyE,EAAO3wH,GAAIyuH,YAInD,OAAOnwE,KAyHf1/C,OAAO+S,OAAQw8G,GAAWruH,WAEtB0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAItnG,EAAQlD,KAERqvG,EAAS,IAAI/D,GAAYtrG,KAAKurG,SAClC8D,EAAOJ,QAASjvG,KAAK62D,MACrBw4C,EAAO/B,KAAMr9E,EAAK,SAAW41E,GAEzB,IAAI8L,EAEJ,IAEIA,EAAOp4D,KAAKY,MAAO0rD,GAErB,MAAQ9mG,GAEN+J,QAAQC,KAAM,yFACd4oG,EAAOp4D,KAAKY,MAAO0rD,EAAK2gB,UAAW,GAAI3gB,EAAK9lG,OAAS,IAIzD,IAAIgmG,EAAO7iG,EAAMi3C,MAAOw3D,GAEnBrH,GAASA,EAAQvE,IAEvBwE,EAAYC,IAInBrwD,MAAO,SAAWw3D,GAEd,OAAO,IAAIwW,GAAMxW,IAIrB1C,QAAS,SAAWh1G,GAGhB,OADA+F,KAAK62D,KAAO58D,EACL+F,QAYf,IAAIisH,IAEA7/F,WAAY,WAQR,YANiBzrB,IAAZwrB,KAEDA,GAAU,IAAM7wB,OAAO2wH,cAAgB3wH,OAAO4wH,qBAI3C//F,IAIX6lB,WAAY,SAAW/3C,GAEnBkyB,GAAUlyB,IAUlB,SAASkyH,GAAa5gB,GAElBvrG,KAAKurG,aAAwB5qG,IAAZ4qG,EAA0BA,EAAUH,GAiCzD,SAASghB,KAELpsH,KAAKgG,KAAO,eAEZhG,KAAK3E,OAAS,EAEd2E,KAAKqsH,OAAS,KAEdrsH,KAAKi0E,QAAU,IAAIr3E,GACnBoD,KAAKi0E,QAAQl+B,OAAOJ,OAAQ,GAC5B31C,KAAKi0E,QAAQz0E,kBAAmB,EAEhCQ,KAAKm0E,QAAU,IAAIv3E,GACnBoD,KAAKm0E,QAAQp+B,OAAOJ,OAAQ,GAC5B31C,KAAKm0E,QAAQ30E,kBAAmB,EAiFpC,SAAS8sH,GAAYloG,EAAMC,EAAKkoG,GAE5Bt2E,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,aAEZ,IAEIwmH,EAAW,IAAI5vH,GAFT,GAAa,EAE4BwnB,EAAMC,GACzDmoG,EAAS1oH,GAAGhH,IAAK,GAAK,EAAG,GACzB0vH,EAAS1nH,OAAQ,IAAIhE,GAAS,EAAG,EAAG,IACpCd,KAAKP,IAAK+sH,GAEV,IAAIC,EAAW,IAAI7vH,GAPT,GAAa,EAO4BwnB,EAAMC,GACzDooG,EAAS3oH,GAAGhH,IAAK,GAAK,EAAG,GACzB2vH,EAAS3nH,OAAQ,IAAIhE,IAAW,EAAG,EAAG,IACtCd,KAAKP,IAAKgtH,GAEV,IAAIC,EAAW,IAAI9vH,GAZT,GAAa,EAY4BwnB,EAAMC,GACzDqoG,EAAS5oH,GAAGhH,IAAK,EAAG,EAAG,GACvB4vH,EAAS5nH,OAAQ,IAAIhE,GAAS,EAAG,EAAG,IACpCd,KAAKP,IAAKitH,GAEV,IAAIC,EAAW,IAAI/vH,GAjBT,GAAa,EAiB4BwnB,EAAMC,GACzDsoG,EAAS7oH,GAAGhH,IAAK,EAAG,GAAK,GACzB6vH,EAAS7nH,OAAQ,IAAIhE,GAAS,GAAK,EAAG,IACtCd,KAAKP,IAAKktH,GAEV,IAAIC,EAAW,IAAIhwH,GAtBT,GAAa,EAsB4BwnB,EAAMC,GACzDuoG,EAAS9oH,GAAGhH,IAAK,GAAK,EAAG,GACzB8vH,EAAS9nH,OAAQ,IAAIhE,GAAS,EAAG,EAAG,IACpCd,KAAKP,IAAKmtH,GAEV,IAAIC,EAAW,IAAIjwH,GA3BT,GAAa,EA2B4BwnB,EAAMC,GACzDwoG,EAAS/oH,GAAGhH,IAAK,GAAK,EAAG,GACzB+vH,EAAS/nH,OAAQ,IAAIhE,GAAS,EAAG,GAAK,IACtCd,KAAKP,IAAKotH,GAEV,IAAI9+F,GAAYf,OAAQva,GAAWqa,UAAWrb,GAAcsb,UAAWtb,IAEvEzR,KAAK2qE,aAAe,IAAIp8C,GAAuBg+F,EAAgBA,EAAgBx+F,GAC/E/tB,KAAK2qE,aAAax8C,QAAQ50B,KAAO,aAEjCyG,KAAKS,OAAS,SAAWtF,EAAUD,GAEV,OAAhB8E,KAAKk2C,QAAkBl2C,KAAK+yB,oBAEjC,IAAI43C,EAAe3qE,KAAK2qE,aACpBp9C,EAAkBo9C,EAAax8C,QAAQZ,gBAE3Co9C,EAAax8C,QAAQZ,iBAAkB,EAEvCo9C,EAAan8C,eAAiB,EAC9BrzB,EAASuF,OAAQxF,EAAOsxH,EAAU7hD,GAElCA,EAAan8C,eAAiB,EAC9BrzB,EAASuF,OAAQxF,EAAOuxH,EAAU9hD,GAElCA,EAAan8C,eAAiB,EAC9BrzB,EAASuF,OAAQxF,EAAOwxH,EAAU/hD,GAElCA,EAAan8C,eAAiB,EAC9BrzB,EAASuF,OAAQxF,EAAOyxH,EAAUhiD,GAElCA,EAAan8C,eAAiB,EAC9BrzB,EAASuF,OAAQxF,EAAO0xH,EAAUjiD,GAElCA,EAAax8C,QAAQZ,gBAAkBA,EAEvCo9C,EAAan8C,eAAiB,EAC9BrzB,EAASuF,OAAQxF,EAAO2xH,EAAUliD,GAElCxvE,EAAS8sE,gBAAiB,OAI9BjoE,KAAKkoE,MAAQ,SAAW/sE,EAAU8C,EAAO6yC,EAAO2mC,GAI5C,IAFA,IAAI9M,EAAe3qE,KAAK2qE,aAEd3xE,EAAI,EAAGA,EAAI,EAAGA,IAEpB2xE,EAAan8C,eAAiBx1B,EAC9BmC,EAAS8sE,gBAAiB0C,GAE1BxvE,EAAS+sE,MAAOjqE,EAAO6yC,EAAO2mC,GAIlCt8E,EAAS8sE,gBAAiB,OAalC,SAAS6kD,KAEL72E,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,gBAEZhG,KAAKmsB,QAAU8/F,GAAa7/F,aAE5BpsB,KAAK+sH,KAAO/sH,KAAKmsB,QAAQ6gG,aACzBhtH,KAAK+sH,KAAKE,QAASjtH,KAAKmsB,QAAQ+gG,aAEhCltH,KAAKg7D,OAAS,KAuHlB,SAASmyD,GAAOngH,GAEZipC,GAAS98C,KAAM6G,MAEfA,KAAKgG,KAAO,QAEZhG,KAAKmsB,QAAUnf,EAASmf,QAExBnsB,KAAK+sH,KAAO/sH,KAAKmsB,QAAQ6gG,aACzBhtH,KAAK+sH,KAAKE,QAASjgH,EAASogH,YAE5BptH,KAAKqtH,UAAW,EAEhBrtH,KAAKuyC,OAAS,KACdvyC,KAAKstH,MAAO,EACZttH,KAAK09G,UAAY,EACjB19G,KAAK0D,OAAS,EACd1D,KAAKutH,aAAe,EACpBvtH,KAAKwtH,WAAY,EACjBxtH,KAAKytH,oBAAqB,EAC1BztH,KAAK0tH,WAAa,QAElB1tH,KAAK2tH,WAqST,SAASC,GAAiB5gH,GAEtBmgH,GAAMh0H,KAAM6G,KAAMgN,GAElBhN,KAAK6tH,OAAS7tH,KAAKmsB,QAAQ2hG,eAC3B9tH,KAAK6tH,OAAOZ,QAASjtH,KAAK+sH,MA+G9B,SAASgB,GAAeC,EAAOC,GAE3BjuH,KAAKkuH,SAAWF,EAAM7hG,QAAQgiG,iBAC9BnuH,KAAKkuH,SAASD,aAAsBttH,IAAZstH,EAAwBA,EAAU,KAE1DjuH,KAAK2uB,KAAO,IAAIolB,WAAY/zC,KAAKkuH,SAASE,mBAE1CJ,EAAMK,YAAYpB,QAASjtH,KAAKkuH,UAwCpC,SAASI,GAAeC,EAASlU,EAAU3B,GAEvC14G,KAAKuuH,QAAUA,EACfvuH,KAAK04G,UAAYA,EAEjB,IACI8V,EADA/7E,EAAaW,aAGjB,OAASinE,GAEL,IAAK,aACDmU,EAAcxuH,KAAKyuH,OACnB,MAEJ,IAAK,SACL,IAAK,OACDh8E,EAAaviB,MACbs+F,EAAcxuH,KAAK0uH,QACnB,MAEJ,QACIF,EAAcxuH,KAAK2uH,MAI3B3uH,KAAKuyC,OAAS,IAAIE,EAAwB,EAAZimE,GAY9B14G,KAAK4uH,iBAAmBJ,EAExBxuH,KAAK6uH,iBAAmB,EAExB7uH,KAAK8uH,SAAW,EAChB9uH,KAAK+uH,eAAiB,EA52B1Br1H,OAAO+S,OAAQ0/G,GAAYvxH,WAEvB0yG,KAAM,SAAWr9E,EAAKq6E,EAAQC,EAAYC,GAEtC,IAAI6E,EAAS,IAAI/D,GAAYtrG,KAAKurG,SAClC8D,EAAOH,gBAAiB,eACxBG,EAAO/B,KAAMr9E,EAAK,SAAWsiB,GAIzB,IAAIy8E,EAAaz8E,EAAO9kC,MAAO,GAEjBw+G,GAAa7/F,aACnB6iG,gBAAiBD,EAAY,SAAWE,GAE5C5kB,EAAQ4kB,MAIb3kB,EAAYC,MA4BvB9wG,OAAO+S,OAAQ2/G,GAAaxxH,WAExB6F,OAAU,WAEN,IAAI0uH,EAAUp8C,EAAO1qE,EAAKhN,EAAQ+oB,EAAMC,EAAK1hB,EAAM0pH,EAE/C+C,EAAW,IAAIx3G,GACfy3G,EAAU,IAAIz3G,GAElB,OAAO,SAAiB5c,GAMpB,GAJkBm0H,IAAanvH,MAAQ+yE,IAAU/3E,EAAO+3E,OAAS1qE,IAAQrN,EAAOqN,KAC5EhN,IAAWL,EAAOK,OAAS2E,KAAK3E,QAAU+oB,IAASppB,EAAOopB,MAC1DC,IAAQrpB,EAAOqpB,KAAO1hB,IAAS3H,EAAO2H,MAAQ0pH,IAAWrsH,KAAKqsH,OAE/C,CAEf8C,EAAWnvH,KACX+yE,EAAQ/3E,EAAO+3E,MACf1qE,EAAMrN,EAAOqN,IACbhN,EAASL,EAAOK,OAAS2E,KAAK3E,OAC9B+oB,EAAOppB,EAAOopB,KACdC,EAAMrpB,EAAOqpB,IACb1hB,EAAO3H,EAAO2H,KAKd,IAII2sH,EAAMC,EAJN5lG,EAAmB3uB,EAAO2uB,iBAAiBnnB,QAE3CgtH,GADJnD,EAASrsH,KAAKqsH,OAAS,GACWjoG,EAAO2uD,EACrC08C,EAASrrG,EAAO9mB,KAAK8K,IAAKoN,GAAMC,QAAUpN,EAAM,IAAU1F,EAK9D0sH,EAAQx3G,SAAU,KAASw0G,EAC3B+C,EAASv3G,SAAU,IAAOw0G,EAI1BiD,GAASG,EAAOp0H,EAASm0H,EACzBD,EAAOE,EAAOp0H,EAASm0H,EAEvB7lG,EAAiB9R,SAAU,GAAM,EAAIuM,GAASmrG,EAAOD,GACrD3lG,EAAiB9R,SAAU,IAAQ03G,EAAOD,IAAWC,EAAOD,GAE5DtvH,KAAKi0E,QAAQtqD,iBAAiBxmB,KAAMwmB,GAIpC2lG,GAASG,EAAOp0H,EAASm0H,EACzBD,EAAOE,EAAOp0H,EAASm0H,EAEvB7lG,EAAiB9R,SAAU,GAAM,EAAIuM,GAASmrG,EAAOD,GACrD3lG,EAAiB9R,SAAU,IAAQ03G,EAAOD,IAAWC,EAAOD,GAE5DtvH,KAAKm0E,QAAQxqD,iBAAiBxmB,KAAMwmB,GAIxC3pB,KAAKi0E,QAAQpqD,YAAY1mB,KAAMnI,EAAO6uB,aAAcxQ,SAAUg2G,GAC9DrvH,KAAKm0E,QAAQtqD,YAAY1mB,KAAMnI,EAAO6uB,aAAcxQ,SAAU+1G,IA5D5D,KA0Kd9C,GAAW1xH,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WAC/C0xH,GAAW1xH,UAAUmQ,YAAcuhH,GAqBnCQ,GAAclyH,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAE7DmQ,YAAa+hH,GAEbM,SAAU,WAEN,OAAOptH,KAAK+sH,MAIhB2C,aAAc,WAWV,OATqB,OAAhB1vH,KAAKg7D,SAENh7D,KAAK+sH,KAAK4C,WAAY3vH,KAAKg7D,QAC3Bh7D,KAAKg7D,OAAO20D,WAAY3vH,KAAKmsB,QAAQ+gG,aACrCltH,KAAK+sH,KAAKE,QAASjtH,KAAKmsB,QAAQ+gG,aAChCltH,KAAKg7D,OAAS,MAIXh7D,MAIX4vH,UAAW,WAEP,OAAO5vH,KAAKg7D,QAIhB60D,UAAW,SAAW51H,GAiBlB,OAfqB,OAAhB+F,KAAKg7D,QAENh7D,KAAK+sH,KAAK4C,WAAY3vH,KAAKg7D,QAC3Bh7D,KAAKg7D,OAAO20D,WAAY3vH,KAAKmsB,QAAQ+gG,cAIrCltH,KAAK+sH,KAAK4C,WAAY3vH,KAAKmsB,QAAQ+gG,aAIvCltH,KAAKg7D,OAAS/gE,EACd+F,KAAK+sH,KAAKE,QAASjtH,KAAKg7D,QACxBh7D,KAAKg7D,OAAOiyD,QAASjtH,KAAKmsB,QAAQ+gG,aAE3BltH,MAIX8vH,gBAAiB,WAEb,OAAO9vH,KAAK+sH,KAAKA,KAAK9yH,OAI1B81H,gBAAiB,SAAW91H,GAIxB,OAFA+F,KAAK+sH,KAAKA,KAAKiD,gBAAiB/1H,EAAO+F,KAAKmsB,QAAQ8jG,YAAa,KAE1DjwH,MAIX+yB,kBAAqB,WAEjB,IAAIl2B,EAAW,IAAIiE,GACfsE,EAAa,IAAIxB,GACjB1E,EAAQ,IAAI4B,GAEZu1E,EAAc,IAAIv1E,GAEtB,OAAO,SAA4Bi4C,GAE/B9C,GAASr7C,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,GAEjD,IAAI/rC,EAAWhN,KAAKmsB,QAAQnf,SACxBlJ,EAAK9D,KAAK8D,GAEd9D,KAAK6pB,YAAYhG,UAAWhnB,EAAUuI,EAAYlG,GAElDm3E,EAAYv5E,IAAK,EAAG,GAAK,GAAIsH,gBAAiBgB,GAEzC4H,EAASkjH,WAEVljH,EAASkjH,UAAUC,eAAgBtzH,EAASuC,EAAGY,KAAKmsB,QAAQ8jG,aAC5DjjH,EAASojH,UAAUD,eAAgBtzH,EAASwC,EAAGW,KAAKmsB,QAAQ8jG,aAC5DjjH,EAASqjH,UAAUF,eAAgBtzH,EAASyC,EAAGU,KAAKmsB,QAAQ8jG,aAC5DjjH,EAASsjH,SAASH,eAAgB95C,EAAYj3E,EAAGY,KAAKmsB,QAAQ8jG,aAC9DjjH,EAASujH,SAASJ,eAAgB95C,EAAYh3E,EAAGW,KAAKmsB,QAAQ8jG,aAC9DjjH,EAASwjH,SAASL,eAAgB95C,EAAY/2E,EAAGU,KAAKmsB,QAAQ8jG,aAC9DjjH,EAASyjH,IAAIN,eAAgBrsH,EAAG1E,EAAGY,KAAKmsB,QAAQ8jG,aAChDjjH,EAAS0jH,IAAIP,eAAgBrsH,EAAGzE,EAAGW,KAAKmsB,QAAQ8jG,aAChDjjH,EAAS2jH,IAAIR,eAAgBrsH,EAAGxE,EAAGU,KAAKmsB,QAAQ8jG,eAIhDjjH,EAASsU,YAAazkB,EAASuC,EAAGvC,EAASwC,EAAGxC,EAASyC,GACvD0N,EAAS4jH,eAAgBv6C,EAAYj3E,EAAGi3E,EAAYh3E,EAAGg3E,EAAY/2E,EAAGwE,EAAG1E,EAAG0E,EAAGzE,EAAGyE,EAAGxE,KAlC5E,KA2EzB6tH,GAAMvyH,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ27C,GAASr7C,YAErDmQ,YAAaoiH,GAEbkB,UAAW,WAEP,OAAOruH,KAAK+sH,MAIhB8D,cAAe,SAAWC,GAOtB,OALA9wH,KAAKytH,oBAAqB,EAC1BztH,KAAK0tH,WAAa,YAClB1tH,KAAK8M,OAASgkH,EACd9wH,KAAKitH,UAEEjtH,MAIX+wH,sBAAuB,SAAWC,GAO9B,OALAhxH,KAAKytH,oBAAqB,EAC1BztH,KAAK0tH,WAAa,YAClB1tH,KAAK8M,OAAS9M,KAAKmsB,QAAQ8kG,yBAA0BD,GACrDhxH,KAAKitH,UAEEjtH,MAIXkxH,UAAW,SAAWhC,GAOlB,OALAlvH,KAAKuyC,OAAS28E,EACdlvH,KAAK0tH,WAAa,SAEb1tH,KAAKqtH,UAAWrtH,KAAKmxH,OAEnBnxH,MAIXmxH,KAAM,WAEF,IAAwB,IAAnBnxH,KAAKwtH,UAAV,CAOA,IAAiC,IAA5BxtH,KAAKytH,mBAAV,CAOA,IAAI3gH,EAAS9M,KAAKmsB,QAAQilG,qBAa1B,OAXAtkH,EAAOylC,OAASvyC,KAAKuyC,OACrBzlC,EAAOwgH,KAAOttH,KAAKstH,KACnBxgH,EAAOukH,QAAUrxH,KAAKsxH,QAAQ92H,KAAMwF,MACpC8M,EAAOygH,aAAa4C,eAAgBnwH,KAAKutH,aAAcvtH,KAAK09G,WAC5D19G,KAAK09G,UAAY19G,KAAKmsB,QAAQ8jG,YAC9BnjH,EAAO4oB,MAAO11B,KAAK09G,UAAW19G,KAAK0D,QAEnC1D,KAAKwtH,WAAY,EAEjBxtH,KAAK8M,OAASA,EAEP9M,KAAKitH,UAlBRnkH,QAAQC,KAAM,yDAPdD,QAAQC,KAAM,2CA6BtBwoH,MAAO,WAEH,IAAiC,IAA5BvxH,KAAKytH,mBAgBV,OATwB,IAAnBztH,KAAKwtH,YAENxtH,KAAK8M,OAAOglC,OACZ9xC,KAAK8M,OAAOukH,QAAU,KACtBrxH,KAAK0D,SAAY1D,KAAKmsB,QAAQ8jG,YAAcjwH,KAAK09G,WAAc19G,KAAKutH,aACpEvtH,KAAKwtH,WAAY,GAIdxtH,KAdH8I,QAAQC,KAAM,qDAkBtB+oC,KAAM,WAEF,IAAiC,IAA5B9xC,KAAKytH,mBAYV,OALAztH,KAAK8M,OAAOglC,OACZ9xC,KAAK8M,OAAOukH,QAAU,KACtBrxH,KAAK0D,OAAS,EACd1D,KAAKwtH,WAAY,EAEVxtH,KAVH8I,QAAQC,KAAM,qDActBkkH,QAAS,WAEL,GAAKjtH,KAAK2tH,QAAQ5tH,OAAS,EAAI,CAE3BC,KAAK8M,OAAOmgH,QAASjtH,KAAK2tH,QAAS,IAEnC,IAAM,IAAI30H,EAAI,EAAGC,EAAI+G,KAAK2tH,QAAQ5tH,OAAQ/G,EAAIC,EAAGD,IAE7CgH,KAAK2tH,QAAS30H,EAAI,GAAIi0H,QAASjtH,KAAK2tH,QAAS30H,IAIjDgH,KAAK2tH,QAAS3tH,KAAK2tH,QAAQ5tH,OAAS,GAAIktH,QAASjtH,KAAKquH,kBAItDruH,KAAK8M,OAAOmgH,QAASjtH,KAAKquH,aAI9B,OAAOruH,MAIX2vH,WAAY,WAER,GAAK3vH,KAAK2tH,QAAQ5tH,OAAS,EAAI,CAE3BC,KAAK8M,OAAO6iH,WAAY3vH,KAAK2tH,QAAS,IAEtC,IAAM,IAAI30H,EAAI,EAAGC,EAAI+G,KAAK2tH,QAAQ5tH,OAAQ/G,EAAIC,EAAGD,IAE7CgH,KAAK2tH,QAAS30H,EAAI,GAAI22H,WAAY3vH,KAAK2tH,QAAS30H,IAIpDgH,KAAK2tH,QAAS3tH,KAAK2tH,QAAQ5tH,OAAS,GAAI4vH,WAAY3vH,KAAKquH,kBAIzDruH,KAAK8M,OAAO6iH,WAAY3vH,KAAKquH,aAIjC,OAAOruH,MAIXwxH,WAAY,WAER,OAAOxxH,KAAK2tH,SAIhB8D,WAAY,SAAWx3H,GAgBnB,OAdOA,IAAQA,OAES,IAAnB+F,KAAKwtH,WAENxtH,KAAK2vH,aACL3vH,KAAK2tH,QAAU1zH,EACf+F,KAAKitH,WAILjtH,KAAK2tH,QAAU1zH,EAIZ+F,MAIX4vH,UAAW,WAEP,OAAO5vH,KAAKwxH,aAAc,IAI9B3B,UAAW,SAAW70D,GAElB,OAAOh7D,KAAKyxH,WAAYz2D,GAAWA,QAIvC02D,gBAAiB,SAAWz3H,GAExB,IAAiC,IAA5B+F,KAAKytH,mBAeV,OARAztH,KAAKutH,aAAetzH,GAEI,IAAnB+F,KAAKwtH,WAENxtH,KAAK8M,OAAOygH,aAAa4C,eAAgBnwH,KAAKutH,aAAcvtH,KAAKmsB,QAAQ8jG,aAItEjwH,KAbH8I,QAAQC,KAAM,qDAiBtB4oH,gBAAiB,WAEb,OAAO3xH,KAAKutH,cAIhB+D,QAAS,WAELtxH,KAAKwtH,WAAY,GAIrBoE,QAAS,WAEL,OAAiC,IAA5B5xH,KAAKytH,oBAEN3kH,QAAQC,KAAM,qDACP,GAIJ/I,KAAKstH,MAIhBuE,QAAS,SAAW53H,GAEhB,IAAiC,IAA5B+F,KAAKytH,mBAeV,OARAztH,KAAKstH,KAAOrzH,GAEY,IAAnB+F,KAAKwtH,YAENxtH,KAAK8M,OAAOwgH,KAAOttH,KAAKstH,MAIrBttH,KAbH8I,QAAQC,KAAM,qDAiBtB+oH,UAAW,WAEP,OAAO9xH,KAAK+sH,KAAKA,KAAK9yH,OAI1B83H,UAAW,SAAW93H,GAIlB,OAFA+F,KAAK+sH,KAAKA,KAAKiD,gBAAiB/1H,EAAO+F,KAAKmsB,QAAQ8jG,YAAa,KAE1DjwH,QAmBf4tH,GAAgBhzH,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ6yH,GAAMvyH,YAE5DmQ,YAAa6iH,GAEbS,UAAW,WAEP,OAAOruH,KAAK6tH,QAIhBmE,eAAgB,WAEZ,OAAOhyH,KAAK6tH,OAAOoE,aAIvBC,eAAgB,SAAWj4H,GAIvB,OAFA+F,KAAK6tH,OAAOoE,YAAch4H,EAEnB+F,MAIXmyH,iBAAkB,WAEd,OAAOnyH,KAAK6tH,OAAOuE,eAIvBC,iBAAkB,SAAWp4H,GAIzB,OAFA+F,KAAK6tH,OAAOuE,cAAgBn4H,EAErB+F,MAIXsyH,iBAAkB,WAEd,OAAOtyH,KAAK6tH,OAAO0E,eAIvBC,iBAAkB,SAAWv4H,GAIzB,OAFA+F,KAAK6tH,OAAO0E,cAAgBt4H,EAErB+F,MAIXyyH,eAAgB,WAEZ,OAAOzyH,KAAK6tH,OAAOzwH,aAIvBs1H,eAAgB,SAAWz4H,GAIvB,OAFA+F,KAAK6tH,OAAOzwH,YAAcnD,EAEnB+F,MAIX2yH,mBAAoB,SAAWC,EAAgBC,EAAgBC,GAM3D,OAJA9yH,KAAK6tH,OAAO+E,eAAiBA,EAC7B5yH,KAAK6tH,OAAOgF,eAAiBA,EAC7B7yH,KAAK6tH,OAAOiF,cAAgBA,EAErB9yH,MAIX+yB,kBAAqB,WAEjB,IAAIl2B,EAAW,IAAIiE,GACfsE,EAAa,IAAIxB,GACjB1E,EAAQ,IAAI4B,GAEZu1E,EAAc,IAAIv1E,GAEtB,OAAO,SAA4Bi4C,GAE/B9C,GAASr7C,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,GAEjD,IAAI80E,EAAS7tH,KAAK6tH,OAClB7tH,KAAK6pB,YAAYhG,UAAWhnB,EAAUuI,EAAYlG,GAElDm3E,EAAYv5E,IAAK,EAAG,EAAG,GAAIsH,gBAAiBgB,GAE5CyoH,EAAOvsG,YAAazkB,EAASuC,EAAGvC,EAASwC,EAAGxC,EAASyC,GACrDuuH,EAAO+C,eAAgBv6C,EAAYj3E,EAAGi3E,EAAYh3E,EAAGg3E,EAAY/2E,IAlBpD,KA0CzB5F,OAAO+S,OAAQshH,GAAcnzH,WAEzBm4H,iBAAkB,WAId,OAFA/yH,KAAKkuH,SAAS8E,qBAAsBhzH,KAAK2uB,MAElC3uB,KAAK2uB,MAIhBskG,oBAAqB,WAIjB,IAFA,IAAIh5H,EAAQ,EAAG00B,EAAO3uB,KAAK+yH,mBAEjB/5H,EAAI,EAAGA,EAAI21B,EAAK5uB,OAAQ/G,IAE9BiB,GAAS00B,EAAM31B,GAInB,OAAOiB,EAAQ00B,EAAK5uB,UA8D5BrG,OAAO+S,OAAQ6hH,GAAc1zH,WAGzBs4H,WAAY,SAAWC,EAAW3f,GAK9B,IAAIjhE,EAASvyC,KAAKuyC,OACdu4C,EAAS9qF,KAAK04G,UACdh1G,EAASyvH,EAAYroC,EAASA,EAE9BsoC,EAAgBpzH,KAAK6uH,iBAEzB,GAAuB,IAAlBuE,EAAsB,CAIvB,IAAM,IAAIp6H,EAAI,EAAGA,IAAM8xF,IAAW9xF,EAE9Bu5C,EAAQ7uC,EAAS1K,GAAMu5C,EAAQv5C,GAInCo6H,EAAgB5f,MAEb,CAKH,IAAI6f,EAAM7f,GADV4f,GAAiB5f,GAEjBxzG,KAAK4uH,iBAAkBr8E,EAAQ7uC,EAAQ,EAAG2vH,EAAKvoC,GAInD9qF,KAAK6uH,iBAAmBuE,GAK5BtnH,MAAO,SAAWqnH,GAEd,IAAIroC,EAAS9qF,KAAK04G,UACdnmE,EAASvyC,KAAKuyC,OACd7uC,EAASyvH,EAAYroC,EAASA,EAE9B0oB,EAASxzG,KAAK6uH,iBAEdN,EAAUvuH,KAAKuuH,QAInB,GAFAvuH,KAAK6uH,iBAAmB,EAEnBrb,EAAS,EAAI,CAId,IAAI8f,EAA+B,EAATxoC,EAE1B9qF,KAAK4uH,iBACDr8E,EAAQ7uC,EAAQ4vH,EAAqB,EAAI9f,EAAQ1oB,GAIzD,IAAM,IAAI9xF,EAAI8xF,EAAQ/rF,EAAI+rF,EAASA,EAAQ9xF,IAAM+F,IAAM/F,EAEnD,GAAKu5C,EAAQv5C,KAAQu5C,EAAQv5C,EAAI8xF,GAAW,CAIxCyjC,EAAQp4D,SAAU5jB,EAAQ7uC,GAC1B,QASZ6vH,kBAAmB,WAEf,IAAIhF,EAAUvuH,KAAKuuH,QAEfh8E,EAASvyC,KAAKuyC,OACdu4C,EAAS9qF,KAAK04G,UAEd4a,EAA+B,EAATxoC,EAE1ByjC,EAAQiF,SAAUjhF,EAAQ+gF,GAG1B,IAAM,IAAIt6H,EAAI8xF,EAAQ/rF,EAAIu0H,EAAqBt6H,IAAM+F,IAAM/F,EAEvDu5C,EAAQv5C,GAAMu5C,EAAQ+gF,EAAwBt6H,EAAI8xF,GAItD9qF,KAAK6uH,iBAAmB,GAK5B4E,qBAAsB,WAElB,IAAIH,EAAuC,EAAjBtzH,KAAK04G,UAC/B14G,KAAKuuH,QAAQp4D,SAAUn2D,KAAKuyC,OAAQ+gF,IAOxC5E,QAAS,SAAWn8E,EAAQztB,EAAWkzF,EAAW99G,EAAG4wF,GAEjD,GAAK5wF,GAAK,GAEN,IAAM,IAAIlB,EAAI,EAAGA,IAAM8xF,IAAW9xF,EAE9Bu5C,EAAQztB,EAAY9rB,GAAMu5C,EAAQylE,EAAYh/G,IAQ1Dy1H,OAAQ,SAAWl8E,EAAQztB,EAAWkzF,EAAW99G,GAE7C0J,GAAWghB,UAAW2tB,EAAQztB,EAAWytB,EAAQztB,EAAWytB,EAAQylE,EAAW99G,IAInFy0H,MAAO,SAAWp8E,EAAQztB,EAAWkzF,EAAW99G,EAAG4wF,GAI/C,IAFA,IAAI/vF,EAAI,EAAIb,EAEFlB,EAAI,EAAGA,IAAM8xF,IAAW9xF,EAAI,CAElC,IAAIm7B,EAAIrP,EAAY9rB,EAEpBu5C,EAAQpe,GAAMoe,EAAQpe,GAAMp5B,EAAIw3C,EAAQylE,EAAYh/G,GAAMkB,MAmBtE,IAgoJIw5H,GAAcC,GA9nJlB,SAASC,GAAWC,EAAah9D,EAAMi9D,GAEnC,IAAIC,EAAaD,GAAsBE,GAAgBC,eAAgBp9D,GAEvE72D,KAAKk0H,aAAeL,EACpB7zH,KAAKm0H,UAAYN,EAAYO,WAAYv9D,EAAMk9D,GA4DnD,SAASC,GAAiBK,EAAUx9D,EAAMk9D,GAEtC/zH,KAAK62D,KAAOA,EACZ72D,KAAK+zH,WAAaA,GAAcC,GAAgBC,eAAgBp9D,GAEhE72D,KAAKyyB,KAAOuhG,GAAgBM,SAAUD,EAAUr0H,KAAK+zH,WAAWQ,WAAcF,EAE9Er0H,KAAKq0H,SAAWA,EA+pBpB,SAASG,KAELx0H,KAAKH,KAAO2V,GAAMG,eAGlB3V,KAAK4kE,SAAW10C,MAAMt1B,UAAU6S,MAAMtU,KAAM0T,WAE5C7M,KAAKy0H,gBAAkB,EAGvB,IAAI13E,KACJ/8C,KAAK00H,eAAiB33E,EAEtB,IAAM,IAAI/jD,EAAI,EAAGyB,EAAIoS,UAAU9M,OAAQ/G,IAAMyB,IAAMzB,EAE/C+jD,EAASlwC,UAAW7T,GAAI6G,MAAS7G,EAIrCgH,KAAK20H,UACL30H,KAAK40H,gBACL50H,KAAKm0H,aACLn0H,KAAK60H,0BAEL,IAAI3xH,EAAQlD,KAEZA,KAAK80H,OAEDr8C,SACIs8C,YAEI,OAAO7xH,EAAM0hE,SAAS7kE,QAG1Bi1H,YAEI,OAAOh1H,KAAK+0H,MAAQ7xH,EAAMuxH,kBAIlCQ,wBAEI,OAAO/xH,EAAMixH,UAAUp0H,SA0TnC,SAASm1H,GAAiBC,EAAOvW,EAAMwW,GAEnCp1H,KAAKq1H,OAASF,EACdn1H,KAAKs1H,MAAQ1W,EACb5+G,KAAKu1H,WAAaH,GAAa,KAW/B,IATA,IAAInb,EAAS2E,EAAK3E,OACdub,EAAUvb,EAAOl6G,OACjB01H,EAAe,IAAIvlG,MAAOslG,GAE1BE,GACAha,YAAajnG,GACbknG,UAAWlnG,IAGLzb,EAAI,EAAGA,IAAMw8H,IAAYx8H,EAAI,CAEnC,IAAI28H,EAAc1b,EAAQjhH,GAAIskH,kBAAmB,MACjDmY,EAAcz8H,GAAM28H,EACpBA,EAAYra,SAAWoa,EAI3B11H,KAAK41H,qBAAuBF,EAE5B11H,KAAK61H,cAAgBJ,EAGrBz1H,KAAK81H,kBAAoB,IAAI5lG,MAAOslG,GAEpCx1H,KAAK+1H,YAAc,KACnB/1H,KAAKg2H,kBAAoB,KAEzBh2H,KAAKi2H,sBAAwB,KAC7Bj2H,KAAKk2H,mBAAqB,KAE1Bl2H,KAAKstH,KAAO94G,GACZxU,KAAKm2H,YAAe,EAIpBn2H,KAAKo2H,WAAa,KAIlBp2H,KAAK4xC,KAAO,EAEZ5xC,KAAKy9G,UAAY,EACjBz9G,KAAKq2H,oBAAsB,EAE3Br2H,KAAKwzG,OAAS,EACdxzG,KAAKs2H,iBAAmB,EAExBt2H,KAAKu2H,YAAcx1H,EAAAA,EAEnBf,KAAKw2H,QAAS,EACdx2H,KAAKY,SAAU,EAEfZ,KAAKy2H,mBAAqB,EAE1Bz2H,KAAK02H,kBAAoB,EACzB12H,KAAK22H,gBAAkB,EA8lB3B,SAASC,GAAgBC,GAErB72H,KAAK82H,MAAQD,EACb72H,KAAK+2H,qBACL/2H,KAAKg3H,WAAa,EAElBh3H,KAAK4xC,KAAO,EAEZ5xC,KAAKy9G,UAAY,EAkuBrB,SAASwZ,GAASh9H,GAEQ,iBAAVA,IAER6O,QAAQC,KAAM,sDACd9O,EAAQ4S,UAAW,IAIvB7M,KAAK/F,MAAQA,EAcjB,SAASi9H,KAEL5zE,GAAenqD,KAAM6G,MAErBA,KAAKgG,KAAO,0BACZhG,KAAK4mF,uBAAoBjmF,EAgC7B,SAASw2H,GAA4B3pH,EAAOs9E,EAAQzI,GAEhDgP,GAAkBl4F,KAAM6G,KAAMwN,EAAOs9E,GAErC9qF,KAAKqiF,iBAAmBA,GAAoB,EA0BhD,SAAS+0C,GAA0B5pH,EAAOguC,EAAUC,EAAY4mC,GAE7B,iBAAjB5mC,IAEV4mC,EAAmB5mC,EAEnBA,GAAa,EAEb3yC,QAAQgP,MAAO,kGAInByjC,GAAgBpiD,KAAM6G,KAAMwN,EAAOguC,EAAUC,GAE7Cz7C,KAAKqiF,iBAAmBA,GAAoB,EA4BhD,SAASg1C,GAAW5tE,EAAQl0B,EAAWnR,EAAMC,GAEzCrkB,KAAKgrD,IAAM,IAAIxB,GAAKC,EAAQl0B,GAG5Bv1B,KAAKokB,KAAOA,GAAQ,EACpBpkB,KAAKqkB,IAAMA,GAAOtjB,EAAAA,EAElBf,KAAK86F,QACD37F,QACAozF,QACAd,OACAiB,QAAUmI,UAAW,GACrBrJ,WAGJ93F,OAAOsR,iBAAkBhL,KAAK86F,QAC1Bw8B,YACIz9H,IAAK,WAGD,OADAiP,QAAQC,KAAM,yEACP/I,KAAK0yF,WAQ5B,SAAS6kC,GAASt+G,EAAGC,GAEjB,OAAOD,EAAExR,SAAWyR,EAAEzR,SAI1B,SAAS+vH,GAAiB98H,EAAQq2D,EAAWG,EAAYhX,GAErD,IAAwB,IAAnBx/C,EAAO87C,UAEZ97C,EAAOk+C,QAASmY,EAAWG,IAER,IAAdhX,GAID,IAFA,IAAI/D,EAAWz7C,EAAOy7C,SAEZn9C,EAAI,EAAGC,EAAIk9C,EAASp2C,OAAQ/G,EAAIC,EAAGD,IAEzCw+H,GAAiBrhF,EAAUn9C,GAAK+3D,EAAWG,GAAY,GAiFnE,SAASumE,GAAOC,GAEZ13H,KAAK03H,eAA4B/2H,IAAd+2H,GAA4BA,EAE/C13H,KAAK09G,UAAY,EACjB19G,KAAK23H,QAAU,EACf33H,KAAK43H,YAAc,EAEnB53H,KAAK63H,SAAU,EAqEnB,SAASrxH,GAAW7B,EAAQ7B,EAAKE,GAM7B,OAJAhD,KAAK2E,YAAsBhE,IAAXgE,EAAyBA,EAAS,EAClD3E,KAAK8C,SAAgBnC,IAARmC,EAAsBA,EAAM,EACzC9C,KAAKgD,WAAoBrC,IAAVqC,EAAwBA,EAAQ,EAExChD,KA6EX,SAAS83H,GAAanzH,EAAQ3B,EAAO3D,GAMjC,OAJAW,KAAK2E,YAAsBhE,IAAXgE,EAAyBA,EAAS,EAClD3E,KAAKgD,WAAoBrC,IAAVqC,EAAwBA,EAAQ,EAC/ChD,KAAKX,OAAYsB,IAANtB,EAAoBA,EAAI,EAE5BW,KAsDX,SAAS+3H,GAAMtzH,EAAKD,GAEhBxE,KAAKyE,SAAgB9D,IAAR8D,EAAsBA,EAAM,IAAIiC,GAAW3F,EAAAA,EAAYA,EAAAA,GACpEf,KAAKwE,SAAgB7D,IAAR6D,EAAsBA,EAAM,IAAIkC,IAAW3F,EAAAA,GAAYA,EAAAA,GA6OxE,SAASi3H,GAAOtiG,EAAOI,GAEnB91B,KAAK01B,WAAoB/0B,IAAV+0B,EAAwBA,EAAQ,IAAI50B,GACnDd,KAAK81B,SAAgBn1B,IAARm1B,EAAsBA,EAAM,IAAIh1B,GAgJjD,SAASm3H,GAAuBl6H,GAE5Bk4C,GAAS98C,KAAM6G,MAEfA,KAAKjC,SAAWA,EAChBiC,KAAKU,OAAS,aAclB,SAASw3H,GAAqBx9H,EAAQm3B,EAAMuX,EAAKsf,GAE7C1oD,KAAKtF,OAASA,EAEdsF,KAAK6xB,UAAkBlxB,IAATkxB,EAAuBA,EAAO,EAE5C,IAAI5zB,OAAkB0C,IAARyoC,EAAsBA,EAAM,SAEtC/wB,OAAwB1X,IAAd+nD,EAA4BA,EAAY,EAIlDyvE,EAAW,EAEXC,EAAcp4H,KAAKtF,OAAOg4B,SAEzB0lG,GAAeA,EAAYzlG,WAE5BwlG,EAAsC,EAA3BC,EAAY59E,MAAMz6C,OAErBq4H,GAAeA,EAAYvlG,mBAEnCslG,EAAWC,EAAYtlG,WAAWrI,OAAO1J,OAM7C,IAAI2R,EAAW,IAAI4wB,GAEftG,EAAY,IAAId,GAAmC,EAAXi8E,EAAe,EAAG,GAE9DzlG,EAASsyB,aAAc,WAAYhI,GAEnCw1C,GAAar5F,KAAM6G,KAAM0yB,EAAU,IAAI6sC,IAAqBthE,MAAOA,EAAOyqD,UAAWrwC,KAIrFrY,KAAKR,kBAAmB,EAExBQ,KAAKS,SAyGT,SAAS43H,GAAiBl4H,EAAOlC,GAE7Bg4C,GAAS98C,KAAM6G,MAEfA,KAAKG,MAAQA,EACbH,KAAKG,MAAM4yB,oBAEX/yB,KAAKuI,OAASpI,EAAM0pB,YACpB7pB,KAAKR,kBAAmB,EAExBQ,KAAK/B,MAAQA,EAYb,IAVA,IAAIy0B,EAAW,IAAI4wB,GAEftG,GACA,EAAG,EAAG,EAAI,EAAG,EAAG,EAChB,EAAG,EAAG,EAAI,EAAG,EAAG,EAChB,EAAG,EAAG,GAAK,EAAG,EAAG,EACjB,EAAG,EAAG,EAAI,EAAG,EAAG,EAChB,EAAG,EAAG,EAAI,GAAK,EAAG,GAGZhkD,EAAI,EAAGm7B,EAAI,EAAWn7B,EAAJ,GAAWA,IAAMm7B,IAAO,CAEhD,IAAIjF,EAAOl2B,EAFa,GAEHsE,KAAKC,GAAK,EAC3B4xB,EAAOgF,EAHa,GAGH72B,KAAKC,GAAK,EAE/By/C,EAAU5vC,KACN9P,KAAK+d,IAAK6T,GAAM5xB,KAAKge,IAAK4T,GAAM,EAChC5xB,KAAK+d,IAAK8T,GAAM7xB,KAAKge,IAAK6T,GAAM,GAKxCuD,EAASsyB,aAAc,WAAY,IAAI9I,GAAwBc,EAAW,IAE1E,IAAIj/C,EAAW,IAAIwhE,IAAqBljE,KAAK,IAE7C2D,KAAKs4H,KAAO,IAAI9lC,GAAc9/D,EAAU30B,GACxCiC,KAAKP,IAAKO,KAAKs4H,MAEft4H,KAAKS,SA2ET,SAAS83H,GAAgB79H,GAYrB,IAVA,IAAI2lE,EAtBR,SAASm4D,EAAa99H,GAElB,IAAI+9H,KAEC/9H,GAAUA,EAAO8+F,QAElBi/B,EAASrrH,KAAM1S,GAInB,IAAM,IAAI1B,EAAI,EAAGA,EAAI0B,EAAOy7C,SAASp2C,OAAQ/G,IAEzCy/H,EAASrrH,KAAKtB,MAAO2sH,EAAUD,EAAa99H,EAAOy7C,SAAUn9C,KAIjE,OAAOy/H,EAMKD,CAAa99H,GAErBg4B,EAAW,IAAI4wB,GAEf1wB,KACA2nB,KAEAlP,EAAS,IAAIjvC,GAAO,EAAG,EAAG,GAC1BkvC,EAAS,IAAIlvC,GAAO,EAAG,EAAG,GAEpBpD,EAAI,EAAGA,EAAIqnE,EAAMtgE,OAAQ/G,IAAO,CAEtC,IAAIugG,EAAOl5B,EAAOrnE,GAEbugG,EAAKrjD,QAAUqjD,EAAKrjD,OAAOsjD,SAE5B5mE,EAASxlB,KAAM,EAAG,EAAG,GACrBwlB,EAASxlB,KAAM,EAAG,EAAG,GACrBmtC,EAAOntC,KAAMi+B,EAAOvxC,EAAGuxC,EAAOlgB,EAAGkgB,EAAOnyB,GACxCqhC,EAAOntC,KAAMk+B,EAAOxxC,EAAGwxC,EAAOngB,EAAGmgB,EAAOpyB,IAMhDwZ,EAASsyB,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACzEF,EAASsyB,aAAc,QAAS,IAAI9I,GAAwB3B,EAAQ,IAEpE,IAAIx8C,EAAW,IAAIwhE,IAAqB7qB,aAAcrmC,EAAcq5C,WAAW,EAAOC,YAAY,EAAOT,aAAa,IAEtHsrC,GAAar5F,KAAM6G,KAAM0yB,EAAU30B,GAEnCiC,KAAK62H,KAAOn8H,EACZsF,KAAKqgE,MAAQA,EAEbrgE,KAAKuI,OAAS7N,EAAOmvB,YACrB7pB,KAAKR,kBAAmB,EAwD5B,SAASk5H,GAAkBv4H,EAAOw4H,EAAY16H,GAE1C+B,KAAKG,MAAQA,EACbH,KAAKG,MAAM4yB,oBAEX/yB,KAAK/B,MAAQA,EAEb,IAAIy0B,EAAW,IAAI4zE,GAAsBqyB,EAAY,EAAG,GACpD56H,EAAW,IAAI4rD,IAAqBhB,WAAW,EAAMtsD,KAAK,IAE9D8C,GAAKhG,KAAM6G,KAAM0yB,EAAU30B,GAE3BiC,KAAKuI,OAASvI,KAAKG,MAAM0pB,YACzB7pB,KAAKR,kBAAmB,EAExBQ,KAAKS,SAwET,SAASm4H,GAAqBz4H,EAAOlC,GAEjCg4C,GAAS98C,KAAM6G,MAEfA,KAAKG,MAAQA,EACbH,KAAKG,MAAM4yB,oBAEX/yB,KAAKuI,OAASpI,EAAM0pB,YACpB7pB,KAAKR,kBAAmB,EAExBQ,KAAK/B,MAAQA,EAEb,IAAIF,EAAW,IAAIwhE,IAAqBljE,KAAK,IAEzCq2B,EAAW,IAAI4wB,GAEnB5wB,EAASsyB,aAAc,WAAY,IAAIzJ,GAAiB,IAAIpI,aAAc,IAAS,IAEnFnzC,KAAKs1B,KAAO,IAAIi9D,GAAM7/D,EAAU30B,GAChCiC,KAAKP,IAAKO,KAAKs1B,MAGft1B,KAAKS,SAoDT,SAASo4H,GAAuB14H,EAAO0xB,EAAM5zB,GAEzCg4C,GAAS98C,KAAM6G,MAEfA,KAAKG,MAAQA,EACbH,KAAKG,MAAM4yB,oBAEX/yB,KAAKuI,OAASpI,EAAM0pB,YACpB7pB,KAAKR,kBAAmB,EAExBQ,KAAK/B,MAAQA,EAEb,IAAIy0B,EAAW,IAAI2iE,GAA0BxjE,GAC7Ca,EAASglB,QAAmB,GAAVp6C,KAAKC,IAEvByC,KAAKjC,SAAW,IAAI4rD,IAAqBhB,WAAW,EAAMtsD,KAAK,SAC3CsE,IAAfX,KAAK/B,QAAsB+B,KAAKjC,SAAS22C,aAAermC,GAE7D,IAAIxR,EAAW61B,EAAS8yB,aAAc,YAClCjL,EAAS,IAAIpH,aAA+B,EAAjBt2C,EAASkkB,OAExC2R,EAASsyB,aAAc,QAAS,IAAIzJ,GAAiBhB,EAAQ,IAE7Dv6C,KAAKP,IAAK,IAAIN,GAAMuzB,EAAU1yB,KAAKjC,WAEnCiC,KAAKS,SA0DT,SAASq4H,GAAYjnG,EAAM4+E,EAAWplE,EAAQC,GAE1CzZ,EAAOA,GAAQ,GACf4+E,EAAYA,GAAa,GACzBplE,EAAS,IAAIjvC,QAAkBuE,IAAX0qC,EAAuBA,EAAS,SACpDC,EAAS,IAAIlvC,QAAkBuE,IAAX2qC,EAAuBA,EAAS,SAQpD,IANA,IAAIrgC,EAASwlG,EAAY,EACrBhpF,EAAOoK,EAAO4+E,EACd3+E,EAAWD,EAAO,EAElBe,KAAe2nB,KAETvhD,EAAI,EAAGm7B,EAAI,EAAGktB,GAAMvvB,EAAU94B,GAAKy3G,EAAWz3G,IAAMqoD,GAAK55B,EAAO,CAEtEmL,EAASxlB,MAAQ0kB,EAAU,EAAGuvB,EAAGvvB,EAAU,EAAGuvB,GAC9CzuB,EAASxlB,KAAMi0C,EAAG,GAAKvvB,EAAUuvB,EAAG,EAAGvvB,GAEvC,IAAI7zB,EAAQjF,IAAMiS,EAASogC,EAASC,EAEpCrtC,EAAM8c,QAASw/B,EAAQpmB,GAAKA,GAAK,EACjCl2B,EAAM8c,QAASw/B,EAAQpmB,GAAKA,GAAK,EACjCl2B,EAAM8c,QAASw/B,EAAQpmB,GAAKA,GAAK,EACjCl2B,EAAM8c,QAASw/B,EAAQpmB,GAAKA,GAAK,EAIrC,IAAIzB,EAAW,IAAI4wB,GACnB5wB,EAASsyB,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACzEF,EAASsyB,aAAc,QAAS,IAAI9I,GAAwB3B,EAAQ,IAEpE,IAAIx8C,EAAW,IAAIwhE,IAAqB7qB,aAAcrmC,IAEtDmkF,GAAar5F,KAAM6G,KAAM0yB,EAAU30B,GAavC,SAASg7H,GAAiBp0H,EAAQq0H,EAASC,EAASxoB,EAAWplE,EAAQC,GAEnE3mC,EAASA,GAAU,GACnBq0H,EAAUA,GAAW,GACrBC,EAAUA,GAAW,EACrBxoB,EAAYA,GAAa,GACzBplE,EAAS,IAAIjvC,QAAkBuE,IAAX0qC,EAAuBA,EAAS,SACpDC,EAAS,IAAIlvC,QAAkBuE,IAAX2qC,EAAuBA,EAAS,SAEpD,IAGIlsC,EAAGE,EACHkI,EAAGxO,EAAGm7B,EAAGr6B,EAAGmE,EAJZ20B,KACA2nB,KAOJ,IAAMvhD,EAAI,EAAGA,GAAKggI,EAAShgI,IAEvBwO,EAAMxO,EAAIggI,GAAwB,EAAV17H,KAAKC,IAE7B6B,EAAI9B,KAAKge,IAAK9T,GAAM7C,EACpBrF,EAAIhC,KAAK+d,IAAK7T,GAAM7C,EAEpBiuB,EAASxlB,KAAM,EAAG,EAAG,GACrBwlB,EAASxlB,KAAMhO,EAAG,EAAGE,GAErBrB,EAAc,EAAJjF,EAAUqyC,EAASC,EAE7BiP,EAAOntC,KAAMnP,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,GACrCqhC,EAAOntC,KAAMnP,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,GAMzC,IAAMlgB,EAAI,EAAGA,GAAKigI,EAASjgI,IAMvB,IAJAiF,EAAc,EAAJjF,EAAUqyC,EAASC,EAE7BxxC,EAAI6K,EAAWA,EAASs0H,EAAUjgI,EAE5Bm7B,EAAI,EAAGA,EAAIs8E,EAAWt8E,IAIxB3sB,EAAM2sB,EAAIs8E,GAA0B,EAAVnzG,KAAKC,IAE/B6B,EAAI9B,KAAKge,IAAK9T,GAAM1N,EACpBwF,EAAIhC,KAAK+d,IAAK7T,GAAM1N,EAEpB84B,EAASxlB,KAAMhO,EAAG,EAAGE,GACrBi7C,EAAOntC,KAAMnP,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,GAIrC1R,GAAQ2sB,EAAI,GAAMs8E,GAA0B,EAAVnzG,KAAKC,IAEvC6B,EAAI9B,KAAKge,IAAK9T,GAAM1N,EACpBwF,EAAIhC,KAAK+d,IAAK7T,GAAM1N,EAEpB84B,EAASxlB,KAAMhO,EAAG,EAAGE,GACrBi7C,EAAOntC,KAAMnP,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,GAM7C,IAAIwZ,EAAW,IAAI4wB,GACnB5wB,EAASsyB,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACzEF,EAASsyB,aAAc,QAAS,IAAI9I,GAAwB3B,EAAQ,IAEpE,IAAIx8C,EAAW,IAAIwhE,IAAqB7qB,aAAcrmC,IAEtDmkF,GAAar5F,KAAM6G,KAAM0yB,EAAU30B,GAYvC,SAASm7H,GAAmBx+H,EAAQm3B,EAAMuX,EAAKsf,GAI3C1oD,KAAKtF,OAASA,EAEdsF,KAAK6xB,UAAkBlxB,IAATkxB,EAAuBA,EAAO,EAE5C,IAAI5zB,OAAkB0C,IAARyoC,EAAsBA,EAAM,SAEtC/wB,OAAwB1X,IAAd+nD,EAA4BA,EAAY,EAIlDyvE,EAAW,EAEXC,EAAcp4H,KAAKtF,OAAOg4B,SAEzB0lG,GAAeA,EAAYzlG,WAE5BwlG,EAAWC,EAAY59E,MAAMz6C,OAI7B+I,QAAQC,KAAM,sGAMlB,IAAI2pB,EAAW,IAAI4wB,GAEftG,EAAY,IAAId,GAAmC,EAAXi8E,EAAe,EAAG,GAE9DzlG,EAASsyB,aAAc,WAAYhI,GAEnCw1C,GAAar5F,KAAM6G,KAAM0yB,EAAU,IAAI6sC,IAAqBthE,MAAOA,EAAOyqD,UAAWrwC,KAIrFrY,KAAKR,kBAAmB,EACxBQ,KAAKS,SAqET,SAAS04H,GAAwBh5H,EAAO0xB,EAAM5zB,GAE1Cg4C,GAAS98C,KAAM6G,MAEfA,KAAKG,MAAQA,EACbH,KAAKG,MAAM4yB,oBAEX/yB,KAAKuI,OAASpI,EAAM0pB,YACpB7pB,KAAKR,kBAAmB,EAExBQ,KAAK/B,MAAQA,OAEC0C,IAATkxB,IAAqBA,EAAO,GAEjC,IAAIa,EAAW,IAAI4wB,GACnB5wB,EAASsyB,aAAc,WAAY,IAAI9I,KACjCrqB,EAAMA,EAAM,EACdA,EAAMA,EAAM,EACZA,GAAQA,EAAM,GACZA,GAAQA,EAAM,GACdA,EAAMA,EAAM,GACf,IAEH,IAAI9zB,EAAW,IAAIwhE,IAAqBljE,KAAK,IAE7C2D,KAAKo5H,WAAa,IAAI7mC,GAAM7/D,EAAU30B,GACtCiC,KAAKP,IAAKO,KAAKo5H,aAEf1mG,EAAW,IAAI4wB,IACN0B,aAAc,WAAY,IAAI9I,IAA0B,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,IAErFl8C,KAAKq5H,WAAa,IAAI9mC,GAAM7/D,EAAU30B,GACtCiC,KAAKP,IAAKO,KAAKq5H,YAEfr5H,KAAKS,SA2DT,SAAS64H,GAAct+H,GAEnB,IAAI03B,EAAW,IAAI4wB,GACfvlD,EAAW,IAAIwhE,IAAqBthE,MAAO,SAAUy2C,aAActmC,IAEnEwkB,KACA2nB,KAEAg/E,KAIAC,EAAe,IAAIp9H,GAAO,UAC1Bq9H,EAAY,IAAIr9H,GAAO,UACvBs9H,EAAU,IAAIt9H,GAAO,OACrBu9H,EAAc,IAAIv9H,GAAO,UACzBw9H,EAAa,IAAIx9H,GAAO,SAiD5B,SAASy9H,EAAS5gH,EAAGC,EAAGjb,GAEpB67H,EAAU7gH,EAAGhb,GACb67H,EAAU5gH,EAAGjb,GAIjB,SAAS67H,EAAUzhF,EAAIp6C,GAEnB20B,EAASxlB,KAAM,EAAG,EAAG,GACrBmtC,EAAOntC,KAAMnP,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,QAEbvY,IAAnB44H,EAAUlhF,KAEXkhF,EAAUlhF,OAIdkhF,EAAUlhF,GAAKjrC,KAAQwlB,EAAS7yB,OAAS,EAAM,GA/DnD85H,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GAIrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GAIrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GACrBK,EAAS,KAAM,KAAML,GAIrBK,EAAS,IAAK,KAAMJ,GACpBI,EAAS,IAAK,KAAMJ,GACpBI,EAAS,IAAK,KAAMJ,GACpBI,EAAS,IAAK,KAAMJ,GAIpBI,EAAS,KAAM,KAAMH,GACrBG,EAAS,KAAM,KAAMH,GACrBG,EAAS,KAAM,KAAMH,GAIrBG,EAAS,IAAK,IAAKF,GACnBE,EAAS,IAAK,IAAKD,GAInBC,EAAS,MAAO,MAAOD,GACvBC,EAAS,MAAO,MAAOD,GAEvBC,EAAS,MAAO,MAAOD,GACvBC,EAAS,MAAO,MAAOD,GAwBvBlnG,EAASsyB,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACzEF,EAASsyB,aAAc,QAAS,IAAI9I,GAAwB3B,EAAQ,IAEpEi4C,GAAar5F,KAAM6G,KAAM0yB,EAAU30B,GAEnCiC,KAAKhF,OAASA,EACTgF,KAAKhF,OAAOS,wBAAyBuE,KAAKhF,OAAOS,yBAEtDuE,KAAKuI,OAASvN,EAAO6uB,YACrB7pB,KAAKR,kBAAmB,EAExBQ,KAAKu5H,SAAWA,EAEhBv5H,KAAKS,SA8FT,SAASs5H,GAAWr/H,EAAQuD,GAExB+B,KAAKtF,OAASA,OAECiG,IAAV1C,IAAsBA,EAAQ,UAEnC,IAAI8+C,EAAU,IAAI1J,aAAe,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAClG2J,EAAY,IAAI7J,aAAc,IAE9BzgB,EAAW,IAAI4wB,GACnB5wB,EAASqyB,SAAU,IAAIxJ,GAAiBwB,EAAS,IACjDrqB,EAASsyB,aAAc,WAAY,IAAIzJ,GAAiByB,EAAW,IAEnEw1C,GAAar5F,KAAM6G,KAAM0yB,EAAU,IAAI6sC,IAAqBthE,MAAOA,KAEnE+B,KAAKR,kBAAmB,EAExBQ,KAAKS,SA+ET,SAASu5H,GAAY/nG,EAAKmX,GAEtBppC,KAAKgG,KAAO,aAEZhG,KAAKiyB,IAAMA,EAEX,IAAIh0B,OAAkB0C,IAARyoC,EAAsBA,EAAM,SAEtC2T,EAAU,IAAI1J,aAAe,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAIlG3gB,EAAW,IAAI4wB,GAEnB5wB,EAASqyB,SAAU,IAAIxJ,GAAiBwB,EAAS,IAEjDrqB,EAASsyB,aAAc,WAAY,IAAI9I,IANrB,EAAG,EAAG,GAAK,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,GAAK,GAAK,EAAG,GAAK,GAAK,GAAK,GAAK,EAAG,GAAK,GAAK,GAMrC,IAE1Es2C,GAAar5F,KAAM6G,KAAM0yB,EAAU,IAAI6sC,IAAqBthE,MAAOA,KAEnE+B,KAAK0yB,SAAS8E,wBA2BlB,SAASyiG,GAAazmG,EAAO3B,EAAMuX,GAE/BppC,KAAKgG,KAAO,cAEZhG,KAAKwzB,MAAQA,EAEbxzB,KAAK6xB,UAAkBlxB,IAATkxB,EAAuB,EAAIA,EAEzC,IAAI5zB,OAAkB0C,IAARyoC,EAAsBA,EAAM,SAItC1W,EAAW,IAAI4wB,GACnB5wB,EAASsyB,aAAc,WAAY,IAAI9I,IAHrB,GAAK,EAAG,GAAK,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,EAAG,EAAG,GAAK,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,GAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAG/C,IAC1ExpB,EAAS8E,wBAET+6D,GAAKp5F,KAAM6G,KAAM0yB,EAAU,IAAI6sC,IAAqBthE,MAAOA,KAI3D,IAEI0oD,EAAY,IAAIrD,GACpBqD,EAAU3B,aAAc,WAAY,IAAI9I,IAHrB,EAAG,EAAG,GAAK,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,EAAG,EAAG,GAAK,GAAK,EAAG,EAAG,GAAK,EAAG,GAGN,IAC5EyK,EAAUnvB,wBAEVx3B,KAAKP,IAAK,IAAIN,GAAMwnD,EAAW,IAAIgD,IAAqB1rD,MAAOA,EAAO2tC,QAAS,GAAKsb,aAAa,EAAMS,YAAY,MAyCvH,SAASuyE,GAAav0G,EAAK8jC,EAAQ1pD,EAAQ9B,EAAOk8H,EAAYC,GAI1DnkF,GAAS98C,KAAM6G,WAEAW,IAAV1C,IAAsBA,EAAQ,eACnB0C,IAAXZ,IAAuBA,EAAS,QACjBY,IAAfw5H,IAA2BA,EAAa,GAAMp6H,QAChCY,IAAdy5H,IAA0BA,EAAY,GAAMD,QAE3Bx5H,IAAjB+yH,MAEDA,GAAe,IAAIpwE,IACN0B,aAAc,WAAY,IAAI9I,IAA0B,EAAG,EAAG,EAAG,EAAG,EAAG,GAAK,KAEzFy3E,GAAe,IAAIl2H,GAAwB,EAAG,GAAK,EAAG,EAAG,IAC5CmuB,UAAW,GAAK,GAAK,IAItC5rB,KAAKnD,SAASsG,KAAMsmD,GAEpBzpD,KAAKs1B,KAAO,IAAIi9D,GAAMmhC,GAAc,IAAIn0D,IAAqBthE,MAAOA,KACpE+B,KAAKs1B,KAAK91B,kBAAmB,EAC7BQ,KAAKP,IAAKO,KAAKs1B,MAEft1B,KAAKs4H,KAAO,IAAIn5H,GAAMw0H,GAAc,IAAIhqE,IAAqB1rD,MAAOA,KACpE+B,KAAKs4H,KAAK94H,kBAAmB,EAC7BQ,KAAKP,IAAKO,KAAKs4H,MAEft4H,KAAKq6H,aAAc10G,GACnB3lB,KAAKwa,UAAWza,EAAQo6H,EAAYC,GAgExC,SAASE,GAAYzoG,GAIjB,IAAIe,GACA,EAAG,EAAG,EAHVf,EAAOA,GAAQ,EAGI,EAAG,EAClB,EAAG,EAAG,EAAG,EAAGA,EAAM,EAClB,EAAG,EAAG,EAAG,EAAG,EAAGA,GASfa,EAAW,IAAI4wB,GACnB5wB,EAASsyB,aAAc,WAAY,IAAI9I,GAAwBtpB,EAAU,IACzEF,EAASsyB,aAAc,QAAS,IAAI9I,IAPhC,EAAG,EAAG,EAAG,EAAG,GAAK,EACjB,EAAG,EAAG,EAAG,GAAK,EAAG,EACjB,EAAG,EAAG,EAAG,EAAG,GAAK,GAK+C,IAEpE,IAAIn+C,EAAW,IAAIwhE,IAAqB7qB,aAAcrmC,IAEtDmkF,GAAar5F,KAAM6G,KAAM0yB,EAAU30B,GA7uJvCrE,OAAO+S,OAAQmnH,GAAUh5H,WAErB44H,SAAU,SAAWhmH,EAAO9J,GAExB1D,KAAKxF,OAEL,IAAI+/H,EAAkBv6H,KAAKk0H,aAAaO,gBACpClG,EAAUvuH,KAAKm0H,UAAWoG,QAGb55H,IAAZ4tH,GAAwBA,EAAQiF,SAAUhmH,EAAO9J,IAI1DyyD,SAAU,SAAW3oD,EAAO9J,GAIxB,IAFA,IAAI82H,EAAWx6H,KAAKm0H,UAEVn7H,EAAIgH,KAAKk0H,aAAaO,gBACtBh6H,EAAI+/H,EAASz6H,OAAQ/G,IAAMyB,IAAMzB,EAEvCwhI,EAAUxhI,GAAIm9D,SAAU3oD,EAAO9J,IAMvClJ,KAAM,WAIF,IAFA,IAAIggI,EAAWx6H,KAAKm0H,UAEVn7H,EAAIgH,KAAKk0H,aAAaO,gBACtBh6H,EAAI+/H,EAASz6H,OAAQ/G,IAAMyB,IAAMzB,EAEvCwhI,EAAUxhI,GAAIwB,QAMtBigI,OAAQ,WAIJ,IAFA,IAAID,EAAWx6H,KAAKm0H,UAEVn7H,EAAIgH,KAAKk0H,aAAaO,gBACtBh6H,EAAI+/H,EAASz6H,OAAQ/G,IAAMyB,IAAMzB,EAEvCwhI,EAAUxhI,GAAIyhI,YAoB1B/gI,OAAO+S,OAAQunH,IAEXJ,UAAWA,GAEXt5H,OAAQ,SAAWu8H,EAAMhgE,EAAMk9D,GAE3B,OAAS8C,GAAQA,EAAK6D,uBAMX,IAAI1G,GAAgBJ,UAAWiD,EAAMhgE,EAAMk9D,GAJ3C,IAAIC,GAAiB6C,EAAMhgE,EAAMk9D,IAiBhD4G,iBAAoB,WAEhB,IAAIC,EAAa,IAAIC,OAAQ,kBAA+B,KAE5D,OAAO,SAA2BthI,GAE9B,OAAOA,EAAK0/D,QAAS,MAAO,KAAMA,QAAS2hE,EAAY,KAN3C,GAYpB3G,eAAgB,WAKZ,IAAI6G,EAAW,mBACXC,EAAgB,KAzHJ,gBAyH6B9hE,QAAS,MAAO,IAAO,IAIhE+hE,EAAc,kBAAkBluH,OAAOmsD,QAAS,KAAM6hE,GAGtDG,EAAS,WAAWnuH,OAAOmsD,QAAS,OAAQ8hE,GAI5CG,EAAW,4BAA4BpuH,OAAOmsD,QAAS,KAAM6hE,GAI7DK,EAAa,uBAAuBruH,OAAOmsD,QAAS,KAAM6hE,GAE1DM,EAAU,IAAIP,OACZ,IACAG,EACAC,EACAC,EACAC,EACA,KAGFE,GAAyB,WAAY,YAAa,SAEtD,OAAO,SAAyBvb,GAE5B,IAAIwb,EAAUF,EAAQzxF,KAAMm2E,GAE5B,IAAOwb,EAEH,MAAM,IAAIziH,MAAO,4CAA8CinG,GAInE,IAAIyb,GAEAhH,SAAU+G,EAAS,GACnBE,WAAYF,EAAS,GACrBG,YAAaH,EAAS,GACtBtb,aAAcsb,EAAS,GACvBI,cAAeJ,EAAS,IAGxBK,EAAUJ,EAAQhH,UAAYgH,EAAQhH,SAAS1P,YAAa,KAEhE,QAAiBlkH,IAAZg7H,IAAuC,IAAdA,EAAkB,CAE5C,IAAIH,EAAaD,EAAQhH,SAAS/N,UAAWmV,EAAU,IAMD,IAAjDN,EAAqBluH,QAASquH,KAE/BD,EAAQhH,SAAWgH,EAAQhH,SAAS/N,UAAW,EAAGmV,GAClDJ,EAAQC,WAAaA,GAM7B,GAA8B,OAAzBD,EAAQvb,cAAyD,IAAhCub,EAAQvb,aAAajgH,OAEvD,MAAM,IAAI8Y,MAAO,+DAAiEinG,GAItF,OAAOyb,GA9EC,GAoFhBjH,SAAU,SAAWuC,EAAMtC,GAEvB,IAAOA,GAAyB,KAAbA,GAAgC,SAAbA,GAAoC,MAAbA,IAAmC,IAAfA,GAAoBA,IAAasC,EAAKt9H,MAAQg7H,IAAasC,EAAKh3H,KAE7I,OAAOg3H,EAKX,GAAKA,EAAKv2D,SAAW,CAEjB,IAAIi5B,EAAOs9B,EAAKv2D,SAASq5B,cAAe46B,GAExC,QAAc5zH,IAAT44F,EAED,OAAOA,EAOf,GAAKs9B,EAAK1gF,SAAW,CAEjB,IAsBIylF,EAtBoB,SAApBC,EAA+B1lF,GAE/B,IAAM,IAAIn9C,EAAI,EAAGA,EAAIm9C,EAASp2C,OAAQ/G,IAAO,CAEzC,IAAI8iI,EAAY3lF,EAAUn9C,GAE1B,GAAK8iI,EAAUviI,OAASg7H,GAAYuH,EAAUj8H,OAAS00H,EAEnD,OAAOuH,EAIX,IAAI5sE,EAAS2sE,EAAmBC,EAAU3lF,UAE1C,GAAK+Y,EAAS,OAAOA,EAIzB,OAAO,KAIO2sE,CAAmBhF,EAAK1gF,UAE1C,GAAKylF,EAED,OAAOA,EAMf,OAAO,QAMfliI,OAAO+S,OAAQunH,GAAgBp5H,WAG3BmhI,sBAAuB,aACvBC,sBAAuB,aAEvBC,aACIC,OAAQ,EACRC,YAAa,EACbC,aAAc,EACdC,eAAgB,GAGpBC,YACIC,KAAM,EACNC,YAAa,EACbC,uBAAwB,GAG5BC,qBAEI,SAA0BnqF,EAAQ7uC,GAE9B6uC,EAAQ7uC,GAAW1D,KAAKyyB,KAAMzyB,KAAKggH,eAIvC,SAAyBztE,EAAQ7uC,GAI7B,IAFA,IAAIoJ,EAAS9M,KAAK28H,iBAER3jI,EAAI,EAAGyB,EAAIqS,EAAO/M,OAAQ/G,IAAMyB,IAAMzB,EAE5Cu5C,EAAQ7uC,KAAcoJ,EAAQ9T,IAMtC,SAAgCu5C,EAAQ7uC,GAEpC6uC,EAAQ7uC,GAAW1D,KAAK28H,iBAAkB38H,KAAK07H,gBAInD,SAA2BnpF,EAAQ7uC,GAE/B1D,KAAK28H,iBAAiB5hH,QAASw3B,EAAQ7uC,KAM/Ck5H,mCAKQ,SAA0BrqF,EAAQ7uC,GAE9B1D,KAAK68H,aAAc78H,KAAKggH,cAAiBztE,EAAQ7uC,IAIrD,SAAyC6uC,EAAQ7uC,GAE7C1D,KAAK68H,aAAc78H,KAAKggH,cAAiBztE,EAAQ7uC,GACjD1D,KAAK68H,aAAaj3E,aAAc,GAIpC,SAAoDrT,EAAQ7uC,GAExD1D,KAAK68H,aAAc78H,KAAKggH,cAAiBztE,EAAQ7uC,GACjD1D,KAAK68H,aAAatmF,wBAAyB,KAQ/C,SAAyBhE,EAAQ7uC,GAI7B,IAFA,IAAIo5H,EAAO98H,KAAK28H,iBAEN3jI,EAAI,EAAGyB,EAAIqiI,EAAK/8H,OAAQ/G,IAAMyB,IAAMzB,EAE1C8jI,EAAM9jI,GAAMu5C,EAAQ7uC,MAM5B,SAAwC6uC,EAAQ7uC,GAI5C,IAFA,IAAIo5H,EAAO98H,KAAK28H,iBAEN3jI,EAAI,EAAGyB,EAAIqiI,EAAK/8H,OAAQ/G,IAAMyB,IAAMzB,EAE1C8jI,EAAM9jI,GAAMu5C,EAAQ7uC,KAIxB1D,KAAK68H,aAAaj3E,aAAc,GAIpC,SAAmDrT,EAAQ7uC,GAIvD,IAFA,IAAIo5H,EAAO98H,KAAK28H,iBAEN3jI,EAAI,EAAGyB,EAAIqiI,EAAK/8H,OAAQ/G,IAAMyB,IAAMzB,EAE1C8jI,EAAM9jI,GAAMu5C,EAAQ7uC,KAIxB1D,KAAK68H,aAAatmF,wBAAyB,KAQ/C,SAAgChE,EAAQ7uC,GAEpC1D,KAAK28H,iBAAkB38H,KAAK07H,eAAkBnpF,EAAQ7uC,IAI1D,SAA+C6uC,EAAQ7uC,GAEnD1D,KAAK28H,iBAAkB38H,KAAK07H,eAAkBnpF,EAAQ7uC,GACtD1D,KAAK68H,aAAaj3E,aAAc,GAIpC,SAA0DrT,EAAQ7uC,GAE9D1D,KAAK28H,iBAAkB38H,KAAK07H,eAAkBnpF,EAAQ7uC,GACtD1D,KAAK68H,aAAatmF,wBAAyB,KAQ/C,SAA6BhE,EAAQ7uC,GAEjC1D,KAAK28H,iBAAiB7hH,UAAWy3B,EAAQ7uC,IAI7C,SAA4C6uC,EAAQ7uC,GAEhD1D,KAAK28H,iBAAiB7hH,UAAWy3B,EAAQ7uC,GACzC1D,KAAK68H,aAAaj3E,aAAc,GAIpC,SAAuDrT,EAAQ7uC,GAE3D1D,KAAK28H,iBAAiB7hH,UAAWy3B,EAAQ7uC,GACzC1D,KAAK68H,aAAatmF,wBAAyB,KAQvDi9E,SAAU,SAA2BuJ,EAAar5H,GAE9C1D,KAAKxF,OACLwF,KAAKwzH,SAAUuJ,EAAar5H,IAUhCyyD,SAAU,SAA2B6mE,EAAat5H,GAE9C1D,KAAKxF,OACLwF,KAAKm2D,SAAU6mE,EAAat5H,IAKhClJ,KAAM,WAEF,IAAIqiI,EAAe78H,KAAKyyB,KACpBshG,EAAa/zH,KAAK+zH,WAElByH,EAAazH,EAAWyH,WACxBxb,EAAe+T,EAAW/T,aAC1B0b,EAAgB3H,EAAW2H,cAe/B,GAbOmB,IAEHA,EAAe7I,GAAgBM,SAAUt0H,KAAKq0H,SAAUN,EAAWQ,WAAcv0H,KAAKq0H,SAEtFr0H,KAAKyyB,KAAOoqG,GAKhB78H,KAAKwzH,SAAWxzH,KAAK+7H,sBACrB/7H,KAAKm2D,SAAWn2D,KAAKg8H,sBAGda,EAAP,CAOA,GAAKrB,EAAa,CAEd,IAAIC,EAAc1H,EAAW0H,YAG7B,OAASD,GAEL,IAAK,YAED,IAAOqB,EAAa9+H,SAGhB,YADA+K,QAAQgP,MAAO,oFAAqF9X,MAKxG,IAAO68H,EAAa9+H,SAASo7C,UAGzB,YADArwC,QAAQgP,MAAO,8GAA+G9X,MAKlI68H,EAAeA,EAAa9+H,SAASo7C,UAErC,MAEJ,IAAK,QAED,IAAO0jF,EAAav8D,SAGhB,YADAx3D,QAAQgP,MAAO,iFAAkF9X,MAQrG68H,EAAeA,EAAav8D,SAASD,MAGrC,IAAM,IAAIrnE,EAAI,EAAGA,EAAI6jI,EAAa98H,OAAQ/G,IAEtC,GAAK6jI,EAAc7jI,GAAIO,OAASkiI,EAAc,CAE1CA,EAAcziI,EACd,MAMR,MAEJ,QAEI,QAAoC2H,IAA/Bk8H,EAAcrB,GAGf,YADA1yH,QAAQgP,MAAO,uEAAwE9X,MAK3F68H,EAAeA,EAAcrB,GAKrC,QAAqB76H,IAAhB86H,EAA4B,CAE7B,QAAqC96H,IAAhCk8H,EAAcpB,GAGf,YADA3yH,QAAQgP,MAAO,wFAAyF9X,KAAM68H,GAKlHA,EAAeA,EAAcpB,IAOrC,IAAIwB,EAAeJ,EAAc7c,GAEjC,QAAsBr/G,IAAjBs8H,EAAL,CAWA,IAAIC,EAAal9H,KAAKs8H,WAAWC,KAEjCv8H,KAAK68H,aAAeA,OAEcl8H,IAA7Bk8H,EAAaj3E,YAEds3E,EAAal9H,KAAKs8H,WAAWE,iBAEmB77H,IAAxCk8H,EAAatmF,yBAErB2mF,EAAal9H,KAAKs8H,WAAWG,wBAKjC,IAAIU,EAAcn9H,KAAKi8H,YAAYC,OAEnC,QAAuBv7H,IAAlB+6H,EAA8B,CAI/B,GAAsB,0BAAjB1b,EAA2C,CAK5C,IAAO6c,EAAanqG,SAGhB,YADA5pB,QAAQgP,MAAO,sGAAuG9X,MAK1H,GAAK68H,EAAanqG,SAASG,iBAAmB,CAE1C,IAAOgqG,EAAanqG,SAAS6wB,gBAGzB,YADAz6C,QAAQgP,MAAO,sHAAuH9X,MAK1I,IAAUhH,EAAI,EAAGA,EAAIgH,KAAKyyB,KAAKC,SAAS6wB,gBAAgB1mD,SAASkD,OAAQ/G,IAErE,GAAK6jI,EAAanqG,SAAS6wB,gBAAgB1mD,SAAU7D,GAAIO,OAASmiI,EAAgB,CAE9EA,EAAgB1iI,EAChB,WAOL,CAEH,IAAO6jI,EAAanqG,SAASgoB,aAGzB,YADA5xC,QAAQgP,MAAO,mHAAoH9X,MAKvI,IAAUhH,EAAI,EAAGA,EAAIgH,KAAKyyB,KAAKC,SAASgoB,aAAa36C,OAAQ/G,IAEzD,GAAK6jI,EAAanqG,SAASgoB,aAAc1hD,GAAIO,OAASmiI,EAAgB,CAElEA,EAAgB1iI,EAChB,QAUhBmkI,EAAcn9H,KAAKi8H,YAAYG,aAE/Bp8H,KAAK28H,iBAAmBM,EACxBj9H,KAAK07H,cAAgBA,YAEc/6H,IAA3Bs8H,EAAaniH,gBAAoDna,IAAzBs8H,EAAaliH,SAI7DoiH,EAAcn9H,KAAKi8H,YAAYI,eAE/Br8H,KAAK28H,iBAAmBM,GAEhB/sG,MAAMC,QAAS8sG,IAEvBE,EAAcn9H,KAAKi8H,YAAYE,YAE/Bn8H,KAAK28H,iBAAmBM,GAIxBj9H,KAAKggH,aAAeA,EAKxBhgH,KAAKwzH,SAAWxzH,KAAK08H,oBAAqBS,GAC1Cn9H,KAAKm2D,SAAWn2D,KAAK48H,iCAAkCO,GAAeD,OApHtE,CAEI,IAAI3I,EAAWR,EAAWQ,SAE1BzrH,QAAQgP,MAAO,+DAAiEy8G,EAC5E,IAAMvU,EAAe,wBAA0B6c,SAjGnD/zH,QAAQgP,MAAO,2DAA6D9X,KAAK62D,KAAO,0BAoNhG4jE,OAAQ,WAEJz6H,KAAKyyB,KAAO,KAIZzyB,KAAKwzH,SAAWxzH,KAAKo9H,kBACrBp9H,KAAKm2D,SAAWn2D,KAAKq9H;AAO7B3jI,OAAO+S,OAAQunH,GAAgBp5H,WAG3BwiI,kBAAmBpJ,GAAgBp5H,UAAU44H,SAC7C6J,kBAAmBrJ,GAAgBp5H,UAAUu7D,WAqFjDz8D,OAAO+S,OAAQ+nH,GAAqB55H,WAEhC8/H,wBAAwB,EAExBj7H,IAAK,WAYD,IAVA,IAAIg5E,EAAUz4E,KAAK4kE,SACf04D,EAAW7kD,EAAQ14E,OACnBw9H,EAAiBv9H,KAAKy0H,gBACtB+I,EAAgBx9H,KAAK00H,eACrBjJ,EAAQzrH,KAAK20H,OACb8I,EAAcz9H,KAAK40H,aACnB4F,EAAWx6H,KAAKm0H,UAChBuJ,EAAYlD,EAASz6H,OACrB49H,OAAch9H,EAER3H,EAAI,EAAGyB,EAAIoS,UAAU9M,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEnD,IAAI0B,EAASmS,UAAW7T,GACpB6G,EAAOnF,EAAOmF,KACd+M,EAAQ4wH,EAAe39H,GAE3B,QAAec,IAAViM,EAAsB,CAIvBA,EAAQ0wH,IACRE,EAAe39H,GAAS+M,EACxB6rE,EAAQrrE,KAAM1S,GAId,IAAM,IAAIy5B,EAAI,EAAG/6B,EAAIskI,EAAWvpG,IAAM/6B,IAAM+6B,EAExCqmG,EAAUrmG,GAAI/mB,KAAM,IAAI4mH,GAAiBt5H,EAAQ+wH,EAAOt3F,GAAKspG,EAAatpG,UAI3E,GAAKvnB,EAAQ2wH,EAAiB,CAEjCI,EAAcllD,EAAS7rE,GAIvB,IAAIgxH,IAAsBL,EACtBM,EAAmBplD,EAASmlD,GAEhCJ,EAAeK,EAAiBh+H,MAAS+M,EACzC6rE,EAAS7rE,GAAUixH,EAEnBL,EAAe39H,GAAS+9H,EACxBnlD,EAASmlD,GAAqBljI,EAI9B,IAAUy5B,EAAI,EAAG/6B,EAAIskI,EAAWvpG,IAAM/6B,IAAM+6B,EAAI,CAE5C,IAAI2pG,EAAkBtD,EAAUrmG,GAC5B4pG,EAAaD,EAAiBF,GAC9BrP,EAAUuP,EAAiBlxH,GAE/BkxH,EAAiBlxH,GAAUmxH,OAEVp9H,IAAZ4tH,IAMDA,EAAU,IAAIyF,GAAiBt5H,EAAQ+wH,EAAOt3F,GAAKspG,EAAatpG,KAIpE2pG,EAAiBF,GAAqBrP,QAIlC91C,EAAS7rE,KAAY+wH,GAE7B70H,QAAQgP,MAAO,sJAOvB9X,KAAKy0H,gBAAkB8I,GAI3Br9H,OAAQ,WAQJ,IANA,IAAIu4E,EAAUz4E,KAAK4kE,SACf24D,EAAiBv9H,KAAKy0H,gBACtB+I,EAAgBx9H,KAAK00H,eACrB8F,EAAWx6H,KAAKm0H,UAChBuJ,EAAYlD,EAASz6H,OAEf/G,EAAI,EAAGyB,EAAIoS,UAAU9M,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEnD,IAAI0B,EAASmS,UAAW7T,GACpB6G,EAAOnF,EAAOmF,KACd+M,EAAQ4wH,EAAe39H,GAE3B,QAAec,IAAViM,GAAuBA,GAAS2wH,EAAiB,CAIlD,IAAIS,EAAkBT,IAClBU,EAAoBxlD,EAASulD,GAEjCR,EAAeS,EAAkBp+H,MAAS+M,EAC1C6rE,EAAS7rE,GAAUqxH,EAEnBT,EAAe39H,GAASm+H,EACxBvlD,EAASulD,GAAoBtjI,EAI7B,IAAM,IAAIy5B,EAAI,EAAG/6B,EAAIskI,EAAWvpG,IAAM/6B,IAAM+6B,EAAI,CAE5C,IAAI2pG,EAAkBtD,EAAUrmG,GAC5B+pG,EAAcJ,EAAiBE,GAC/BzP,EAAUuP,EAAiBlxH,GAE/BkxH,EAAiBlxH,GAAUsxH,EAC3BJ,EAAiBE,GAAoBzP,IAQjDvuH,KAAKy0H,gBAAkB8I,GAK3BY,QAAS,WASL,IAPA,IAAI1lD,EAAUz4E,KAAK4kE,SACf04D,EAAW7kD,EAAQ14E,OACnBw9H,EAAiBv9H,KAAKy0H,gBACtB+I,EAAgBx9H,KAAK00H,eACrB8F,EAAWx6H,KAAKm0H,UAChBuJ,EAAYlD,EAASz6H,OAEf/G,EAAI,EAAGyB,EAAIoS,UAAU9M,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEnD,IACI6G,EADSgN,UAAW7T,GACN6G,KACd+M,EAAQ4wH,EAAe39H,GAE3B,QAAec,IAAViM,EAID,UAFO4wH,EAAe39H,GAEjB+M,EAAQ2wH,EAAiB,CAI1B,IAAIK,IAAsBL,EACtBM,EAAmBplD,EAASmlD,GAE5BQ,EAAa3lD,EADb1hB,IAAeumE,GAInBE,EAAeK,EAAiBh+H,MAAS+M,EACzC6rE,EAAS7rE,GAAUixH,EAGnBL,EAAeY,EAAWv+H,MAAS+9H,EACnCnlD,EAASmlD,GAAqBQ,EAC9B3lD,EAAQzW,MAIR,IAAM,IAAI7tC,EAAI,EAAG/6B,EAAIskI,EAAWvpG,IAAM/6B,IAAM+6B,EAAI,CAE5C,IACI4pG,GADAD,EAAkBtD,EAAUrmG,IACEypG,GAC9BphC,EAAOshC,EAAiB/mE,GAE5B+mE,EAAiBlxH,GAAUmxH,EAC3BD,EAAiBF,GAAqBphC,EACtCshC,EAAgB97D,WAIjB,CAIH,IAAIjL,EAGJymE,GAFIY,EAAa3lD,EADb1hB,IAAeumE,IAGOz9H,MAAS+M,EACnC6rE,EAAS7rE,GAAUwxH,EACnB3lD,EAAQzW,MAIR,IAAU7tC,EAAI,EAAG/6B,EAAIskI,EAAWvpG,IAAM/6B,IAAM+6B,EAAI,CAE5C,IAAI2pG,GAAAA,EAAkBtD,EAAUrmG,IAEfvnB,GAAUkxH,EAAiB/mE,GAC5C+mE,EAAgB97D,QAUhChiE,KAAKy0H,gBAAkB8I,GAM3BnJ,WAAY,SAAWv9D,EAAMk9D,GAKzB,IAAIsK,EAAgBr+H,KAAK60H,uBACrBjoH,EAAQyxH,EAAexnE,GACvB2jE,EAAWx6H,KAAKm0H,UAEpB,QAAexzH,IAAViM,EAAsB,OAAO4tH,EAAU5tH,GAE5C,IAAI6+G,EAAQzrH,KAAK20H,OACb8I,EAAcz9H,KAAK40H,aACnBn8C,EAAUz4E,KAAK4kE,SACf04D,EAAW7kD,EAAQ14E,OACnBw9H,EAAiBv9H,KAAKy0H,gBACtBqJ,EAAkB,IAAI5tG,MAAOotG,GAEjC1wH,EAAQ4tH,EAASz6H,OAEjBs+H,EAAexnE,GAASjqD,EAExB6+G,EAAMr+G,KAAMypD,GACZ4mE,EAAYrwH,KAAM2mH,GAClByG,EAASptH,KAAM0wH,GAEf,IAAM,IAAI9kI,EAAIukI,EAAgB9iI,EAAIg+E,EAAQ14E,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAE9D,IAAI0B,EAAS+9E,EAASz/E,GACtB8kI,EAAiB9kI,GAAM,IAAIg7H,GAAiBt5H,EAAQm8D,EAAMk9D,GAI9D,OAAO+J,GAIXQ,aAAc,SAAWznE,GAKrB,IAAIwnE,EAAgBr+H,KAAK60H,uBACrBjoH,EAAQyxH,EAAexnE,GAE3B,QAAel2D,IAAViM,EAAsB,CAEvB,IAAI6+G,EAAQzrH,KAAK20H,OACb8I,EAAcz9H,KAAK40H,aACnB4F,EAAWx6H,KAAKm0H,UAChBoK,EAAoB/D,EAASz6H,OAAS,EACtCy+H,EAAehE,EAAU+D,GAG7BF,EAFuBxnE,EAAM0nE,IAEO3xH,EAEpC4tH,EAAU5tH,GAAU4xH,EACpBhE,EAASx4D,MAETy7D,EAAa7wH,GAAU6wH,EAAac,GACpCd,EAAYz7D,MAEZypD,EAAO7+G,GAAU6+G,EAAO8S,GACxB9S,EAAMzpD,UAoFlBtoE,OAAO+S,OAAQyoH,GAAgBt6H,WAI3Bu2H,KAAM,WAIF,OAFAnxH,KAAKq1H,OAAOoJ,gBAAiBz+H,MAEtBA,MAIX8xC,KAAM,WAIF,OAFA9xC,KAAKq1H,OAAOqJ,kBAAmB1+H,MAExBA,KAAKoD,SAIhBA,MAAO,WASH,OAPApD,KAAKw2H,QAAS,EACdx2H,KAAKY,SAAU,EAEfZ,KAAK4xC,KAAO,EACZ5xC,KAAKm2H,YAAe,EACpBn2H,KAAKo2H,WAAa,KAEXp2H,KAAK2+H,aAAaC,eAI7BC,UAAW,WAEP,OAAO7+H,KAAKY,UAAaZ,KAAKw2H,QAA6B,IAAnBx2H,KAAKy9G,WACrB,OAApBz9G,KAAKo2H,YAAuBp2H,KAAKq1H,OAAOyJ,gBAAiB9+H,OAKjE++H,YAAa,WAET,OAAO/+H,KAAKq1H,OAAOyJ,gBAAiB9+H,OAIxCg/H,QAAS,SAAWptF,GAIhB,OAFA5xC,KAAKo2H,WAAaxkF,EAEX5xC,MAIX6xH,QAAS,SAAW13H,EAAMo8H,GAKtB,OAHAv2H,KAAKstH,KAAOnzH,EACZ6F,KAAKu2H,YAAcA,EAEZv2H,MASXi/H,mBAAoB,SAAWzrB,GAO3B,OALAxzG,KAAKwzG,OAASA,EAGdxzG,KAAKs2H,iBAAmBt2H,KAAKY,QAAU4yG,EAAS,EAEzCxzG,KAAK2+H,cAKhBO,mBAAoB,WAEhB,OAAOl/H,KAAKs2H,kBAIhB6I,OAAQ,SAAWnlB,GAEf,OAAOh6G,KAAKo/H,gBAAiBplB,EAAU,EAAG,IAI9CqlB,QAAS,SAAWrlB,GAEhB,OAAOh6G,KAAKo/H,gBAAiBplB,EAAU,EAAG,IAI9CslB,cAAe,SAAWC,EAAevlB,EAAUwlB,GAK/C,GAHAD,EAAcF,QAASrlB,GACvBh6G,KAAKm/H,OAAQnlB,GAERwlB,EAAO,CAER,IAAIC,EAAiBz/H,KAAKs1H,MAAMtb,SAC5B0lB,EAAkBH,EAAcjK,MAAMtb,SAEtC2lB,EAAgBD,EAAkBD,EAClCG,EAAgBH,EAAiBC,EAErCH,EAAcC,KAAM,EAAKG,EAAe3lB,GACxCh6G,KAAKw/H,KAAMI,EAAe,EAAK5lB,GAInC,OAAOh6G,MAIX6/H,YAAa,SAAWC,EAAc9lB,EAAUwlB,GAE5C,OAAOM,EAAaR,cAAet/H,KAAMg6G,EAAUwlB,IAIvDb,WAAY,WAER,IAAIoB,EAAoB//H,KAAKk2H,mBAS7B,OAP2B,OAAtB6J,IAED//H,KAAKk2H,mBAAqB,KAC1Bl2H,KAAKq1H,OAAO2K,4BAA6BD,IAItC//H,MASXigI,sBAAuB,SAAWxiB,GAK9B,OAHAz9G,KAAKy9G,UAAYA,EACjBz9G,KAAKq2H,oBAAsBr2H,KAAKw2H,OAAS,EAAI/Y,EAEtCz9G,KAAK4+H,eAKhBsB,sBAAuB,WAEnB,OAAOlgI,KAAKq2H,qBAIhB8J,YAAa,SAAWnmB,GAIpB,OAFAh6G,KAAKy9G,UAAYz9G,KAAKs1H,MAAMtb,SAAWA,EAEhCh6G,KAAK4+H,eAIhBwB,SAAU,SAAWC,GAKjB,OAHArgI,KAAK4xC,KAAOyuF,EAAOzuF,KACnB5xC,KAAKy9G,UAAY4iB,EAAO5iB,UAEjBz9G,KAAK4+H,eAIhB0B,KAAM,SAAWtmB,GAEb,OAAOh6G,KAAKw/H,KAAMx/H,KAAKq2H,oBAAqB,EAAGrc,IAInDwlB,KAAM,SAAWe,EAAgBC,EAAcxmB,GAE3C,IAAImb,EAAQn1H,KAAKq1H,OAAQoL,EAAMtL,EAAMvjF,KACjC+jF,EAAc31H,KAAKi2H,sBAEnBxY,EAAYz9G,KAAKy9G,UAEA,OAAhBkY,IAEDA,EAAcR,EAAMuL,0BACpB1gI,KAAKi2H,sBAAwBN,GAIjC,IAAI9d,EAAQ8d,EAAYtd,mBACpBp+D,EAAS07E,EAAYrd,aAQzB,OANAT,EAAO,GAAM4oB,EACb5oB,EAAO,GAAM4oB,EAAMzmB,EAEnB//D,EAAQ,GAAMsmF,EAAiB9iB,EAC/BxjE,EAAQ,GAAMumF,EAAe/iB,EAEtBz9G,MAIX4+H,YAAa,WAET,IAAI+B,EAAuB3gI,KAAKi2H,sBAShC,OAP8B,OAAzB0K,IAED3gI,KAAKi2H,sBAAwB,KAC7Bj2H,KAAKq1H,OAAO2K,4BAA6BW,IAItC3gI,MAMX4gI,SAAU,WAEN,OAAO5gI,KAAKq1H,QAIhBwL,QAAS,WAEL,OAAO7gI,KAAKs1H,OAIhBwL,QAAS,WAEL,OAAO9gI,KAAKu1H,YAAcv1H,KAAKq1H,OAAOyB,OAM1CiK,QAAS,SAAWnvF,EAAMovF,EAAWC,EAAe9N,GAIhD,GAAOnzH,KAAKY,QAAZ,CASA,IAAI88G,EAAY19G,KAAKo2H,WAErB,GAAmB,OAAd1Y,EAAqB,CAItB,IAAIwjB,GAAgBtvF,EAAO8rE,GAAcujB,EACzC,GAAKC,EAAc,GAAuB,IAAlBD,EAEpB,OAMJjhI,KAAKo2H,WAAa,KAClB4K,EAAYC,EAAgBC,EAMhCF,GAAahhI,KAAKmhI,iBAAkBvvF,GACpC,IAAIwvF,EAAWphI,KAAKqhI,YAAaL,GAK7BxtB,EAASxzG,KAAKshI,cAAe1vF,GAEjC,GAAK4hE,EAAS,EAKV,IAHA,IAAIiiB,EAAez1H,KAAK61H,cACpB0L,EAAiBvhI,KAAK81H,kBAEhB3hG,EAAI,EAAG/6B,EAAIq8H,EAAa11H,OAAQo0B,IAAM/6B,IAAM+6B,EAElDshG,EAActhG,GAAIsmF,SAAU2mB,GAC5BG,EAAgBptG,GAAI++F,WAAYC,EAAW3f,QA3C/CxzG,KAAKshI,cAAe1vF,IAmD5B0vF,cAAe,SAAW1vF,GAEtB,IAAI4hE,EAAS,EAEb,GAAKxzG,KAAKY,QAAU,CAEhB4yG,EAASxzG,KAAKwzG,OACd,IAAImiB,EAAc31H,KAAKk2H,mBAEvB,GAAqB,OAAhBP,EAAuB,CAExB,IAAI6L,EAAmB7L,EAAYlb,SAAU7oE,GAAQ,GAErD4hE,GAAUguB,EAEL5vF,EAAO+jF,EAAYtd,mBAAoB,KAExCr4G,KAAK2+H,aAEqB,IAArB6C,IAGDxhI,KAAKY,SAAU,KAW/B,OADAZ,KAAKs2H,iBAAmB9iB,EACjBA,GAIX2tB,iBAAkB,SAAWvvF,GAEzB,IAAI6rE,EAAY,EAEhB,IAAOz9G,KAAKw2H,OAAS,CAEjB/Y,EAAYz9G,KAAKy9G,UAEjB,IAAIkY,EAAc31H,KAAKi2H,sBAEvB,GAAqB,OAAhBN,EAIDlY,GAFuBkY,EAAYlb,SAAU7oE,GAAQ,GAIhDA,EAAO+jF,EAAYtd,mBAAoB,KAExCr4G,KAAK4+H,cAEc,IAAdnhB,EAGDz9G,KAAKw2H,QAAS,EAKdx2H,KAAKy9G,UAAYA,GAWjC,OADAz9G,KAAKq2H,oBAAsB5Y,EACpBA,GAIX4jB,YAAa,SAAWL,GAEpB,IAAIpvF,EAAO5xC,KAAK4xC,KAAOovF,EACnBhnB,EAAWh6G,KAAKs1H,MAAMtb,SACtBsT,EAAOttH,KAAKstH,KACZmU,EAAYzhI,KAAKm2H,WAEjBuL,EA/syCO,OA+syCMpU,EAEjB,GAAmB,IAAd0T,EAED,OAAqB,IAAhBS,EAA2B7vF,EAEvB8vF,GAAkC,IAAR,EAAZD,GAA0BznB,EAAWpoE,EAAOA,EAIvE,GA3tyCO,OA2tyCF07E,EAAoB,EAEA,IAAhBmU,IAIDzhI,KAAKm2H,WAAa,EAClBn2H,KAAK2hI,aAAa,GAAM,GAAM,IAIlCC,EAAa,CAET,GAAKhwF,GAAQooE,EAETpoE,EAAOooE,MAEJ,CAAA,KAAKpoE,EAAO,GAIZ,MAAMgwF,EAFThwF,EAAO,EAIN5xC,KAAKy2H,kBAAoBz2H,KAAKw2H,QAAS,EACvCx2H,KAAKY,SAAU,EAEpBZ,KAAKq1H,OAAOhyH,eACR2C,KAAM,WAAYq6H,OAAQrgI,KAC1Bu1B,UAAWyrG,EAAY,GAAM,EAAI,SAKtC,CAwBH,IAtBqB,IAAhBS,IAIIT,GAAa,GAEdS,EAAY,EAEZzhI,KAAK2hI,aAAa,EAA2B,IAArB3hI,KAAKu2H,YAAmBmL,IAQhD1hI,KAAK2hI,YAAkC,IAArB3hI,KAAKu2H,aAAmB,EAAMmL,IAMnD9vF,GAAQooE,GAAYpoE,EAAO,EAAI,CAIhC,IAAIiwF,EAAYvkI,KAAK8O,MAAOwlC,EAAOooE,GACnCpoE,GAAQooE,EAAW6nB,EAEnBJ,GAAankI,KAAK6c,IAAK0nH,GAEvB,IAAIC,EAAU9hI,KAAKu2H,YAAckL,EAEjC,GAAKK,GAAW,EAIP9hI,KAAKy2H,kBAAoBz2H,KAAKw2H,QAAS,EACvCx2H,KAAKY,SAAU,EAEpBgxC,EAAOovF,EAAY,EAAIhnB,EAAW,EAElCh6G,KAAKq1H,OAAOhyH,eACR2C,KAAM,WAAYq6H,OAAQrgI,KAC1Bu1B,UAAWyrG,EAAY,EAAI,GAAM,QAGlC,CAIH,GAAiB,IAAZc,EAAgB,CAIjB,IAAIC,EAAUf,EAAY,EAC1BhhI,KAAK2hI,YAAaI,GAAWA,EAASL,QAItC1hI,KAAK2hI,aAAa,GAAO,EAAOD,GAIpC1hI,KAAKm2H,WAAasL,EAElBzhI,KAAKq1H,OAAOhyH,eACR2C,KAAM,OAAQq6H,OAAQrgI,KAAM6hI,UAAWA,KAOnD,GAAKH,GAAkC,IAAR,EAAZD,GAKf,OADAzhI,KAAK4xC,KAAOA,EACLooE,EAAWpoE,EAO1B,OADA5xC,KAAK4xC,KAAOA,EACLA,GAIX+vF,YAAa,SAAWI,EAASC,EAAON,GAEpC,IAAIpmB,EAAWt7G,KAAK41H,qBAEf8L,GAEDpmB,EAASI,YAv1yCC,KAw1yCVJ,EAASK,UAx1yCC,OAg2yCNL,EAASI,YAFRqmB,EAEsB/hI,KAAK02H,iBAh2yCtB,KAg2yC2DjiH,GA/1yC1D,KAy2yCP6mG,EAASK,UAFRqmB,EAEoBhiI,KAAK22H,eA12yCpB,KA02yCuDliH,GAz2yCtD,OAq3yCnB2qH,gBAAiB,SAAWplB,EAAUioB,EAAWC,GAE7C,IAAI/M,EAAQn1H,KAAKq1H,OAAQoL,EAAMtL,EAAMvjF,KACjC+jF,EAAc31H,KAAKk2H,mBAEF,OAAhBP,IAEDA,EAAcR,EAAMuL,0BACpB1gI,KAAKk2H,mBAAqBP,GAI9B,IAAI9d,EAAQ8d,EAAYtd,mBACpBp+D,EAAS07E,EAAYrd,aAKzB,OAHAT,EAAO,GAAM4oB,EAASxmF,EAAQ,GAAMgoF,EACpCpqB,EAAO,GAAM4oB,EAAMzmB,EAAU//D,EAAQ,GAAMioF,EAEpCliI,QA4Bf42H,GAAeh8H,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQwQ,EAAgBlQ,YAErEmQ,YAAa6rH,GAEbuL,YAAa,SAAW9B,EAAQ+B,GAE5B,IAAIvL,EAAOwJ,EAAO9K,YAAcv1H,KAAK82H,MACjC7c,EAASomB,EAAO/K,MAAMrb,OACtBub,EAAUvb,EAAOl6G,OACjBy6H,EAAW6F,EAAOvK,kBAClBL,EAAe4K,EAAOxK,cACtBwM,EAAWxL,EAAKh3H,KAChByiI,EAAiBtiI,KAAKuiI,uBACtBC,EAAiBF,EAAgBD,QAEb1hI,IAAnB6hI,IAEDA,KACAF,EAAgBD,GAAaG,GAIjC,IAAM,IAAIxpI,EAAI,EAAGA,IAAMw8H,IAAYx8H,EAAI,CAEnC,IAAI8jH,EAAQ7C,EAAQjhH,GAChB8mH,EAAYhD,EAAMvjH,KAClBg1H,EAAUiU,EAAgB1iB,GAE9B,QAAiBn/G,IAAZ4tH,EAEDiM,EAAUxhI,GAAMu1H,MAEb,CAIH,QAAiB5tH,KAFjB4tH,EAAUiM,EAAUxhI,IAES,CAII,OAAxBu1H,EAAQwH,gBAENxH,EAAQQ,eACX/uH,KAAKyiI,oBAAqBlU,EAAS8T,EAAUviB,IAIjD,SAIJ,IAAIjpD,EAAOurE,GAAmBA,EAC1BtM,kBAAmB98H,GAAIu1H,QAAQwF,cAEnCxF,EAAU,IAAID,GACV0F,GAAgB15H,OAAQu8H,EAAM/W,EAAWjpD,GACzCimD,EAAME,cAAeF,EAAMI,iBAEpB6R,eACX/uH,KAAKyiI,oBAAqBlU,EAAS8T,EAAUviB,GAE7C0a,EAAUxhI,GAAMu1H,EAIpBkH,EAAcz8H,GAAIw/G,aAAe+V,EAAQh8E,SAMjDksF,gBAAiB,SAAW4B,GAExB,IAAOrgI,KAAK8+H,gBAAiBuB,GAAW,CAEpC,GAA4B,OAAvBA,EAAOtK,YAAuB,CAK/B,IAAIsM,GAAahC,EAAO9K,YAAcv1H,KAAK82H,OAAQj3H,KAC/C6iI,EAAWrC,EAAO/K,MAAMz1H,KACxB8iI,EAAiB3iI,KAAK4iI,eAAgBF,GAE1C1iI,KAAKmiI,YAAa9B,EACdsC,GAAkBA,EAAeE,aAAc,IAEnD7iI,KAAK8iI,mBAAoBzC,EAAQqC,EAAUL,GAO/C,IAHA,IAAI7H,EAAW6F,EAAOvK,kBAGZ98H,EAAI,EAAGyB,EAAI+/H,EAASz6H,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAElD,IAAIu1H,EAAUiM,EAAUxhI,GAEK,GAAxBu1H,EAAQO,aAET9uH,KAAK+iI,aAAcxU,GACnBA,EAAQgF,qBAMhBvzH,KAAKgjI,YAAa3C,KAM1B3B,kBAAmB,SAAW2B,GAE1B,GAAKrgI,KAAK8+H,gBAAiBuB,GAAW,CAKlC,IAHA,IAAI7F,EAAW6F,EAAOvK,kBAGZ98H,EAAI,EAAGyB,EAAI+/H,EAASz6H,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAElD,IAAIu1H,EAAUiM,EAAUxhI,GAEK,KAArBu1H,EAAQO,WAEZP,EAAQkF,uBACRzzH,KAAKijI,iBAAkB1U,IAM/BvuH,KAAKkjI,gBAAiB7C,KAQ9BtJ,mBAAoB,WAEhB/2H,KAAKmjI,YACLnjI,KAAKojI,gBAAkB,EAEvBpjI,KAAK4iI,kBAQL5iI,KAAKm0H,aACLn0H,KAAKqjI,iBAAmB,EAExBrjI,KAAKuiI,0BAGLviI,KAAKsjI,wBACLtjI,KAAKujI,4BAA8B,EAEnC,IAAIrgI,EAAQlD,KAEZA,KAAK80H,OAED0O,SACIzO,YAEI,OAAO7xH,EAAMigI,SAASpjI,QAG1Bi1H,YAEI,OAAO9xH,EAAMkgI,kBAIrB5I,UACIzF,YAEI,OAAO7xH,EAAMixH,UAAUp0H,QAG3Bi1H,YAEI,OAAO9xH,EAAMmgI,mBAIrBI,qBACI1O,YAEI,OAAO7xH,EAAMogI,qBAAqBvjI,QAGtCi1H,YAEI,OAAO9xH,EAAMqgI,gCAW7BzE,gBAAiB,SAAWuB,GAExB,IAAIzzH,EAAQyzH,EAAOtK,YACnB,OAAiB,OAAVnpH,GAAkBA,EAAQ5M,KAAKojI,iBAI1CN,mBAAoB,SAAWzC,EAAQqC,EAAUL,GAE7C,IAAImB,EAAUxjI,KAAKmjI,SACfO,EAAgB1jI,KAAK4iI,eACrBD,EAAiBe,EAAehB,GAEpC,QAAwB/hI,IAAnBgiI,EAEDA,GAEIE,cAAgBxC,GAChBsD,iBAIJtD,EAAOrK,kBAAoB,EAE3B0N,EAAehB,GAAaC,MAEzB,CAEH,IAAIE,EAAeF,EAAeE,aAElCxC,EAAOrK,kBAAoB6M,EAAa9iI,OACxC8iI,EAAaz1H,KAAMizH,GAIvBA,EAAOtK,YAAcyN,EAAQzjI,OAC7ByjI,EAAQp2H,KAAMizH,GAEdsC,EAAegB,aAActB,GAAahC,GAI9CuD,sBAAuB,SAAWvD,GAE9B,IAAImD,EAAUxjI,KAAKmjI,SACfU,EAAqBL,EAASA,EAAQzjI,OAAS,GAC/C+jI,EAAazD,EAAOtK,YAExB8N,EAAmB9N,YAAc+N,EACjCN,EAASM,GAAeD,EACxBL,EAAQxhE,MAERq+D,EAAOtK,YAAc,KAGrB,IAAI2M,EAAWrC,EAAO/K,MAAMz1H,KACxB6jI,EAAgB1jI,KAAK4iI,eACrBD,EAAiBe,EAAehB,GAChCqB,EAAsBpB,EAAeE,aAErCmB,EACID,EAAqBA,EAAoBhkI,OAAS,GAEtDkkI,EAAmB5D,EAAOrK,kBAE9BgO,EAAgBhO,kBAAoBiO,EACpCF,EAAqBE,GAAqBD,EAC1CD,EAAoB/hE,MAEpBq+D,EAAOrK,kBAAoB,YAGR2M,EAAegB,cACjBtD,EAAO9K,YAAcv1H,KAAK82H,OAAQj3H,MAIf,IAA/BkkI,EAAoBhkI,eAEd2jI,EAAehB,GAI1B1iI,KAAKkkI,iCAAkC7D,IAI3C6D,iCAAkC,SAAW7D,GAGzC,IADA,IAAI7F,EAAW6F,EAAOvK,kBACZ98H,EAAI,EAAGyB,EAAI+/H,EAASz6H,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAElD,IAAIu1H,EAAUiM,EAAUxhI,GAEW,KAA3Bu1H,EAAQQ,gBAEZ/uH,KAAKmkI,uBAAwB5V,KAQzCyU,YAAa,SAAW3C,GAQpB,IAAImD,EAAUxjI,KAAKmjI,SACfiB,EAAY/D,EAAOtK,YAEnBsO,EAAkBrkI,KAAKojI,kBAEvBkB,EAAsBd,EAASa,GAEnChE,EAAOtK,YAAcsO,EACrBb,EAASa,GAAoBhE,EAE7BiE,EAAoBvO,YAAcqO,EAClCZ,EAASY,GAAcE,GAI3BpB,gBAAiB,SAAW7C,GAQxB,IAAImD,EAAUxjI,KAAKmjI,SACfiB,EAAY/D,EAAOtK,YAEnBwO,IAAwBvkI,KAAKojI,gBAE7BoB,EAAmBhB,EAASe,GAEhClE,EAAOtK,YAAcwO,EACrBf,EAASe,GAAuBlE,EAEhCmE,EAAiBzO,YAAcqO,EAC/BZ,EAASY,GAAcI,GAM3B/B,oBAAqB,SAAWlU,EAAS8T,EAAUviB,GAE/C,IAAIwiB,EAAiBtiI,KAAKuiI,uBACtBkC,EAAgBnC,EAAgBD,GAEhC7H,EAAWx6H,KAAKm0H,eAEGxzH,IAAlB8jI,IAEDA,KACAnC,EAAgBD,GAAaoC,GAIjCA,EAAe3kB,GAAcyO,EAE7BA,EAAQwH,YAAcyE,EAASz6H,OAC/By6H,EAASptH,KAAMmhH,IAInB4V,uBAAwB,SAAW5V,GAE/B,IAAIiM,EAAWx6H,KAAKm0H,UAChBuQ,EAAcnW,EAAQA,QACtB8T,EAAWqC,EAAYrQ,SAASx0H,KAChCigH,EAAY4kB,EAAY7tE,KACxByrE,EAAiBtiI,KAAKuiI,uBACtBkC,EAAgBnC,EAAgBD,GAEhCsC,EAAsBnK,EAAUA,EAASz6H,OAAS,GAClD+jI,EAAavV,EAAQwH,YAEzB4O,EAAoB5O,YAAc+N,EAClCtJ,EAAUsJ,GAAea,EACzBnK,EAASx4D,aAEFyiE,EAAe3kB,GAEtB8kB,EAAkB,CAEd,IAAM,IAAIC,KAAKJ,EAAgB,MAAMG,SAE9BtC,EAAgBD,KAM/BU,aAAc,SAAWxU,GAErB,IAAIiM,EAAWx6H,KAAKm0H,UAChBiQ,EAAY7V,EAAQwH,YAEpBsO,EAAkBrkI,KAAKqjI,mBAEvByB,EAAuBtK,EAAU6J,GAErC9V,EAAQwH,YAAcsO,EACtB7J,EAAU6J,GAAoB9V,EAE9BuW,EAAqB/O,YAAcqO,EACnC5J,EAAU4J,GAAcU,GAI5B7B,iBAAkB,SAAW1U,GAEzB,IAAIiM,EAAWx6H,KAAKm0H,UAChBiQ,EAAY7V,EAAQwH,YAEpBwO,IAAwBvkI,KAAKqjI,iBAE7B0B,EAAoBvK,EAAU+J,GAElChW,EAAQwH,YAAcwO,EACtB/J,EAAU+J,GAAuBhW,EAEjCwW,EAAkBhP,YAAcqO,EAChC5J,EAAU4J,GAAcW,GAO5BrE,wBAAyB,WAErB,IAAIjL,EAAez1H,KAAKsjI,qBACpBe,EAAkBrkI,KAAKujI,8BACvB5N,EAAcF,EAAc4O,GAahC,YAXqB1jI,IAAhBg1H,KAEDA,EAAc,IAAI3c,GACd,IAAI7lE,aAAc,GAAK,IAAIA,aAAc,GACzC,EAAGnzC,KAAKglI,mCAEAC,aAAeZ,EAC3B5O,EAAc4O,GAAoB1O,GAI/BA,GAIXqK,4BAA6B,SAAWrK,GAEpC,IAAIF,EAAez1H,KAAKsjI,qBACpBc,EAAYzO,EAAYsP,aAExBV,IAAwBvkI,KAAKujI,4BAE7B2B,EAAwBzP,EAAc8O,GAE1C5O,EAAYsP,aAAeV,EAC3B9O,EAAc8O,GAAuB5O,EAErCuP,EAAsBD,aAAeb,EACrC3O,EAAc2O,GAAcc,GAIhCF,iCAAkC,IAAI7xF,aAAc,GAKpDgyF,WAAY,SAAWvmB,EAAMwmB,GAEzB,IAAIvO,EAAOuO,GAAgBplI,KAAK82H,MAC5BuL,EAAWxL,EAAKh3H,KAEhBwlI,EAA6B,iBAATzmB,EAChB7E,GAAcmF,WAAY2X,EAAMjY,GAASA,EAE7C8jB,EAA0B,OAAf2C,EAAsBA,EAAWxlI,KAAO++G,EAEnD+jB,EAAiB3iI,KAAK4iI,eAAgBF,GACtCN,EAAkB,KAEtB,QAAwBzhI,IAAnBgiI,EAA+B,CAEhC,IAAI2C,EACA3C,EAAegB,aAActB,GAEjC,QAAwB1hI,IAAnB2kI,EAED,OAAOA,EAMXlD,EAAkBO,EAAeE,aAAc,GAG3B,OAAfwC,IACDA,EAAajD,EAAgB9M,OAKrC,GAAoB,OAAf+P,EAAsB,OAAO,KAGlC,IAAIE,EAAY,IAAIrQ,GAAiBl1H,KAAMqlI,EAAYD,GAOvD,OALAplI,KAAKmiI,YAAaoD,EAAWnD,GAG7BpiI,KAAK8iI,mBAAoByC,EAAW7C,EAAUL,GAEvCkD,GAKXD,eAAgB,SAAW1mB,EAAMwmB,GAE7B,IAAIvO,EAAOuO,GAAgBplI,KAAK82H,MAC5BuL,EAAWxL,EAAKh3H,KAEhBwlI,EAA6B,iBAATzmB,EAChB7E,GAAcmF,WAAY2X,EAAMjY,GAASA,EAE7C8jB,EAAW2C,EAAaA,EAAWxlI,KAAO++G,EAE1C+jB,EAAiB3iI,KAAK4iI,eAAgBF,GAE1C,YAAwB/hI,IAAnBgiI,GAEMA,EAAegB,aAActB,IAIjC,MAKXmD,cAAe,WAEX,IAAIhC,EAAUxjI,KAAKmjI,SACfsC,EAAWzlI,KAAKojI,gBAChB5I,EAAWx6H,KAAKm0H,UAChBuJ,EAAY19H,KAAKqjI,iBAErBrjI,KAAKojI,gBAAkB,EACvBpjI,KAAKqjI,iBAAmB,EAExB,IAAM,IAAIrqI,EAAI,EAAGA,IAAMysI,IAAazsI,EAEhCwqI,EAASxqI,GAAIoK,QAIjB,IAAUpK,EAAI,EAAGA,IAAM0kI,IAAc1kI,EAEjCwhI,EAAUxhI,GAAI81H,SAAW,EAI7B,OAAO9uH,MAKXS,OAAQ,SAAWugI,GAEfA,GAAahhI,KAAKy9G,UAYlB,IAVA,IAAI+lB,EAAUxjI,KAAKmjI,SACfsC,EAAWzlI,KAAKojI,gBAEhBxxF,EAAO5xC,KAAK4xC,MAAQovF,EACpBC,EAAgB3jI,KAAK+O,KAAM20H,GAE3B7N,EAAYnzH,KAAKg3H,YAAc,EAIzBh+H,EAAI,EAAGA,IAAMysI,IAAazsI,EAAI,CAEvBwqI,EAASxqI,GAEf+nI,QAASnvF,EAAMovF,EAAWC,EAAe9N,GAMpD,IAAIqH,EAAWx6H,KAAKm0H,UAChBuJ,EAAY19H,KAAKqjI,iBAErB,IAAUrqI,EAAI,EAAGA,IAAM0kI,IAAc1kI,EAEjCwhI,EAAUxhI,GAAI8S,MAAOqnH,GAIzB,OAAOnzH,MAKX8gI,QAAS,WAEL,OAAO9gI,KAAK82H,OAKhB4O,YAAa,SAAW9mB,GAEpB,IAAI4kB,EAAUxjI,KAAKmjI,SACfT,EAAW9jB,EAAK/+G,KAChB6jI,EAAgB1jI,KAAK4iI,eACrBD,EAAiBe,EAAehB,GAEpC,QAAwB/hI,IAAnBgiI,EAA+B,CAQhC,IAFA,IAAIgD,EAAkBhD,EAAeE,aAE3B7pI,EAAI,EAAGyB,EAAIkrI,EAAgB5lI,OAAQ/G,IAAMyB,IAAMzB,EAAI,CAEzD,IAAIqnI,EAASsF,EAAiB3sI,GAE9BgH,KAAK0+H,kBAAmB2B,GAExB,IAAIyD,EAAazD,EAAOtK,YACpB8N,EAAqBL,EAASA,EAAQzjI,OAAS,GAEnDsgI,EAAOtK,YAAc,KACrBsK,EAAOrK,kBAAoB,KAE3B6N,EAAmB9N,YAAc+N,EACjCN,EAASM,GAAeD,EACxBL,EAAQxhE,MAERhiE,KAAKkkI,iCAAkC7D,UAIpCqD,EAAehB,KAO9BkD,YAAa,SAAW/O,GAEpB,IAAIwL,EAAWxL,EAAKh3H,KAChB6jI,EAAgB1jI,KAAK4iI,eAEzB,IAAM,IAAIF,KAAYgB,EAAgB,CAElC,IACIrD,EADeqD,EAAehB,GAAWiB,aAClBtB,QAEX1hI,IAAX0/H,IAEDrgI,KAAK0+H,kBAAmB2B,GACxBrgI,KAAK4jI,sBAAuBvD,IAMpC,IACIoE,EADiBzkI,KAAKuiI,uBACUF,GAEpC,QAAuB1hI,IAAlB8jI,EAED,IAAM,IAAI3kB,KAAa2kB,EAAgB,CAEnC,IAAIlW,EAAUkW,EAAe3kB,GAC7ByO,EAAQkF,uBACRzzH,KAAKmkI,uBAAwB5V,KASzCsX,cAAe,SAAWjnB,EAAMwmB,GAE5B,IAAI/E,EAASrgI,KAAKslI,eAAgB1mB,EAAMwmB,GAExB,OAAX/E,IAEDrgI,KAAK0+H,kBAAmB2B,GACxBrgI,KAAK4jI,sBAAuBvD,OAyBxCpJ,GAAQr8H,UAAU4H,MAAQ,WAEtB,OAAO,IAAIy0H,QAA8Bt2H,IAArBX,KAAK/F,MAAMuI,MAAsBxC,KAAK/F,MAAQ+F,KAAK/F,MAAMuI,UAiBjF00H,GAAwBt8H,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQgpD,GAAe1oD,YAE7EmQ,YAAamsH,GAEbxsC,2BAA2B,EAE3BvnF,KAAM,SAAW2J,GAMb,OAJAw2C,GAAe1oD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAE1C9M,KAAK4mF,kBAAoB95E,EAAO85E,kBAEzB5mF,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,SAkB5Cm3H,GAA2Bv8H,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQ+2F,GAAkBz2F,YAEnFmQ,YAAaosH,GAEbpsC,8BAA8B,EAE9B5nF,KAAM,SAAW2J,GAMb,OAJAukF,GAAkBz2F,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAE7C9M,KAAKqiF,iBAAmBv1E,EAAOu1E,iBAExBriF,QA4Bfo3H,GAAyBx8H,UAAYlB,OAAO+S,OAAQ/S,OAAOY,OAAQihD,GAAgB3gD,YAE/EmQ,YAAaqsH,GAEbpsC,4BAA4B,EAE5B7nF,KAAM,SAAW2J,GAMb,OAJAyuC,GAAgB3gD,UAAUuI,KAAKhK,KAAM6G,KAAM8M,GAE3C9M,KAAKqiF,iBAAmBv1E,EAAOu1E,iBAExBriF,QAmEftG,OAAO+S,OAAQ4qH,GAAUz8H,WAErBy/F,cAAe,EAEfv9F,IAAK,SAAW2sD,EAAQl0B,GAIpBv1B,KAAKgrD,IAAIluD,IAAK2sD,EAAQl0B,IAI1BuwG,cAAe,SAAWC,EAAQ/qI,GAEvBA,GAAUA,EAAOkN,qBAEpBlI,KAAKgrD,IAAIvB,OAAO1+B,sBAAuB/vB,EAAO6uB,aAC9C7pB,KAAKgrD,IAAIz1B,UAAUz4B,IAAKipI,EAAO3mI,EAAG2mI,EAAO1mI,EAAG,IAAMuqB,UAAW5uB,GAASmJ,IAAKnE,KAAKgrD,IAAIvB,QAASrvC,aAEnFpf,GAAUA,EAAOwN,sBAE3BxI,KAAKgrD,IAAIvB,OAAO3sD,IAAKipI,EAAO3mI,EAAG2mI,EAAO1mI,GAAKrE,EAAOopB,KAAOppB,EAAOqpB,MAAUrpB,EAAOopB,KAAOppB,EAAOqpB,MAAQuF,UAAW5uB,GAClHgF,KAAKgrD,IAAIz1B,UAAUz4B,IAAK,EAAG,GAAK,GAAIgtB,mBAAoB9uB,EAAO6uB,cAI/D/gB,QAAQgP,MAAO,8CAMvB0/G,gBAAiB,SAAW98H,EAAQw/C,EAAWo2D,GAE3C,IAAIp/C,EAAao/C,MAMjB,OAJAknB,GAAiB98H,EAAQsF,KAAMkxD,EAAYhX,GAE3CgX,EAAW/Q,KAAMo3E,IAEVrmE,GAIX80E,iBAAkB,SAAWvtD,EAASv+B,EAAWo2D,GAE7C,IAAIp/C,EAAao/C,MAEjB,IAAkC,IAA7BpgF,MAAMC,QAASsoD,GAGhB,OADA3vE,QAAQC,KAAM,8DACPmoD,EAIX,IAAM,IAAIl4D,EAAI,EAAGC,EAAIw/E,EAAQ14E,OAAQ/G,EAAIC,EAAGD,IAExCw+H,GAAiB/+C,EAASz/E,GAAKgH,KAAMkxD,EAAYhX,GAMrD,OAFAgX,EAAW/Q,KAAMo3E,IAEVrmE,KAsBfx3D,OAAO+S,OAAQgrH,GAAM78H,WAEjB86B,MAAO,WAEH11B,KAAK09G,WAAqC,oBAAhBuoB,YAA8BC,KAAOD,aAAcxF,MAE7EzgI,KAAK23H,QAAU33H,KAAK09G,UACpB19G,KAAK43H,YAAc,EACnB53H,KAAK63H,SAAU,GAInB/lF,KAAM,WAEF9xC,KAAKmmI,iBACLnmI,KAAK63H,SAAU,EACf73H,KAAK03H,WAAY,GAIrByO,eAAgB,WAGZ,OADAnmI,KAAKomI,WACEpmI,KAAK43H,aAIhBwO,SAAU,WAEN,IAAIpmF,EAAO,EAEX,GAAKhgD,KAAK03H,YAAe13H,KAAK63H,QAG1B,OADA73H,KAAK01B,QACE,EAIX,GAAK11B,KAAK63H,QAAU,CAEhB,IAAIwO,GAAmC,oBAAhBJ,YAA8BC,KAAOD,aAAcxF,MAE1EzgF,GAASqmF,EAAUrmI,KAAK23H,SAAY,IACpC33H,KAAK23H,QAAU0O,EAEfrmI,KAAK43H,aAAe53E,EAIxB,OAAOA,KA0BftmD,OAAO+S,OAAQjG,GAAU5L,WAErBkC,IAAK,SAAW6H,EAAQ7B,EAAKE,GAMzB,OAJAhD,KAAK2E,OAASA,EACd3E,KAAK8C,IAAMA,EACX9C,KAAKgD,MAAQA,EAENhD,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAWmjI,GAMb,OAJAtmI,KAAK2E,OAAS2hI,EAAM3hI,OACpB3E,KAAK8C,IAAMwjI,EAAMxjI,IACjB9C,KAAKgD,MAAQsjI,EAAMtjI,MAEZhD,MAKX0E,SAAU,WAKN,OAFA1E,KAAK8C,IAAMxF,KAAKkH,IADN,KACgBlH,KAAKmH,IAAKnH,KAAKC,GAD/B,KACyCyC,KAAK8C,MAEjD9C,MAIXqE,eAAgB,SAAWmD,GAEvB,OAAOxH,KAAKumI,uBAAwB/+H,EAAEpI,EAAGoI,EAAEnI,EAAGmI,EAAElI,IAIpDinI,uBAAwB,SAAWnnI,EAAGC,EAAGC,GAgBrC,OAdAU,KAAK2E,OAASrH,KAAKoN,KAAMtL,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,GAExB,IAAhBU,KAAK2E,QAEN3E,KAAKgD,MAAQ,EACbhD,KAAK8C,IAAM,IAIX9C,KAAKgD,MAAQ1F,KAAK+c,MAAOjb,EAAGE,GAC5BU,KAAK8C,IAAMxF,KAAKiqB,KAAM/R,GAAMU,MAAO7W,EAAIW,KAAK2E,QAAU,EAAG,KAItD3E,QAuBftG,OAAO+S,OAAQqrH,GAAYl9H,WAEvBkC,IAAK,SAAW6H,EAAQ3B,EAAO3D,GAM3B,OAJAW,KAAK2E,OAASA,EACd3E,KAAKgD,MAAQA,EACbhD,KAAKX,EAAIA,EAEFW,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAWmjI,GAMb,OAJAtmI,KAAK2E,OAAS2hI,EAAM3hI,OACpB3E,KAAKgD,MAAQsjI,EAAMtjI,MACnBhD,KAAKX,EAAIinI,EAAMjnI,EAERW,MAIXqE,eAAgB,SAAWmD,GAEvB,OAAOxH,KAAKumI,uBAAwB/+H,EAAEpI,EAAGoI,EAAEnI,EAAGmI,EAAElI,IAIpDinI,uBAAwB,SAAWnnI,EAAGC,EAAGC,GAMrC,OAJAU,KAAK2E,OAASrH,KAAKoN,KAAMtL,EAAIA,EAAIE,EAAIA,GACrCU,KAAKgD,MAAQ1F,KAAK+c,MAAOjb,EAAGE,GAC5BU,KAAKX,EAAIA,EAEFW,QAiBftG,OAAO+S,OAAQsrH,GAAKn9H,WAEhBkC,IAAK,SAAW2H,EAAKD,GAKjB,OAHAxE,KAAKyE,IAAItB,KAAMsB,GACfzE,KAAKwE,IAAIrB,KAAMqB,GAERxE,MAIXuxB,cAAe,SAAWC,GAEtBxxB,KAAKyxB,YAEL,IAAM,IAAIz4B,EAAI,EAAG04B,EAAKF,EAAOzxB,OAAQ/G,EAAI04B,EAAI14B,IAEzCgH,KAAK2xB,cAAeH,EAAQx4B,IAIhC,OAAOgH,MAIX4xB,qBAAsB,WAElB,IAAIjX,EAAK,IAAIjU,GAEb,OAAO,SAA+BuE,EAAQ4mB,GAE1C,IAAIC,EAAWnX,EAAGxX,KAAM0uB,GAAO9sB,eAAgB,IAI/C,OAHA/E,KAAKyE,IAAItB,KAAM8H,GAAS9G,IAAK2tB,GAC7B9xB,KAAKwE,IAAIrB,KAAM8H,GAASxL,IAAKqyB,GAEtB9xB,MAVO,GAgBtBwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAW8uB,GAKb,OAHAjyB,KAAKyE,IAAItB,KAAM8uB,EAAIxtB,KACnBzE,KAAKwE,IAAIrB,KAAM8uB,EAAIztB,KAEZxE,MAIXyxB,UAAW,WAKP,OAHAzxB,KAAKyE,IAAIrF,EAAIY,KAAKyE,IAAIpF,EAAM0B,EAAAA,EAC5Bf,KAAKwE,IAAIpF,EAAIY,KAAKwE,IAAInF,GAAM0B,EAAAA,EAErBf,MAIXkyB,QAAS,WAIL,OAASlyB,KAAKwE,IAAIpF,EAAIY,KAAKyE,IAAIrF,GAASY,KAAKwE,IAAInF,EAAIW,KAAKyE,IAAIpF,GAIlE8yB,UAAW,SAAWtxB,GASlB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,mDACdlI,EAAS,IAAI6F,IAIV1G,KAAKkyB,UAAYrxB,EAAO/D,IAAK,EAAG,GAAM+D,EAAOkY,WAAY/Y,KAAKyE,IAAKzE,KAAKwE,KAAMO,eAAgB,KAIzGqtB,QAAS,SAAWvxB,GAShB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,iDACdlI,EAAS,IAAI6F,IAIV1G,KAAKkyB,UAAYrxB,EAAO/D,IAAK,EAAG,GAAM+D,EAAO+I,WAAY5J,KAAKwE,IAAKxE,KAAKyE,MAInFktB,cAAe,SAAWU,GAKtB,OAHAryB,KAAKyE,IAAIA,IAAK4tB,GACdryB,KAAKwE,IAAIA,IAAK6tB,GAEPryB,MAIXsyB,eAAgB,SAAWxO,GAKvB,OAHA9jB,KAAKyE,IAAIN,IAAK2f,GACd9jB,KAAKwE,IAAI/E,IAAKqkB,GAEP9jB,MAIXuyB,eAAgB,SAAW9Z,GAKvB,OAHAzY,KAAKyE,IAAIuU,WAAaP,GACtBzY,KAAKwE,IAAIwU,UAAWP,GAEbzY,MAIXgzB,cAAe,SAAWX,GAEtB,QAAOA,EAAMjzB,EAAIY,KAAKyE,IAAIrF,GAAKizB,EAAMjzB,EAAIY,KAAKwE,IAAIpF,GAClDizB,EAAMhzB,EAAIW,KAAKyE,IAAIpF,GAAKgzB,EAAMhzB,EAAIW,KAAKwE,IAAInF,IAI/C4zB,YAAa,SAAWhB,GAEpB,OAAOjyB,KAAKyE,IAAIrF,GAAK6yB,EAAIxtB,IAAIrF,GAAK6yB,EAAIztB,IAAIpF,GAAKY,KAAKwE,IAAIpF,GACpDY,KAAKyE,IAAIpF,GAAK4yB,EAAIxtB,IAAIpF,GAAK4yB,EAAIztB,IAAInF,GAAKW,KAAKwE,IAAInF,GAIzD6zB,aAAc,SAAWb,EAAOxxB,GAY5B,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,sDACdlI,EAAS,IAAI6F,IAIV7F,EAAO/D,KACRu1B,EAAMjzB,EAAIY,KAAKyE,IAAIrF,IAAQY,KAAKwE,IAAIpF,EAAIY,KAAKyE,IAAIrF,IACjDizB,EAAMhzB,EAAIW,KAAKyE,IAAIpF,IAAQW,KAAKwE,IAAInF,EAAIW,KAAKyE,IAAIpF,KAK3D8zB,cAAe,SAAWlB,GAItB,QAAOA,EAAIztB,IAAIpF,EAAIY,KAAKyE,IAAIrF,GAAK6yB,EAAIxtB,IAAIrF,EAAIY,KAAKwE,IAAIpF,GACtD6yB,EAAIztB,IAAInF,EAAIW,KAAKyE,IAAIpF,GAAK4yB,EAAIxtB,IAAIpF,EAAIW,KAAKwE,IAAInF,IAInDi0B,WAAY,SAAWjB,EAAOxxB,GAS1B,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,oDACdlI,EAAS,IAAI6F,IAIV7F,EAAOsC,KAAMkvB,GAAQnc,MAAOlW,KAAKyE,IAAKzE,KAAKwE,MAItD6vB,gBAAiB,WAEb,IAAI1Z,EAAK,IAAIjU,GAEb,OAAO,SAA0B2rB,GAG7B,OADmB1X,EAAGxX,KAAMkvB,GAAQnc,MAAOlW,KAAKyE,IAAKzE,KAAKwE,KACtCL,IAAKkuB,GAAQtyB,UAPxB,GAajBw0B,UAAW,SAAWtC,GAKlB,OAHAjyB,KAAKyE,IAAID,IAAKytB,EAAIxtB,KAClBzE,KAAKwE,IAAIC,IAAKwtB,EAAIztB,KAEXxE,MAIXw0B,MAAO,SAAWvC,GAKd,OAHAjyB,KAAKyE,IAAIA,IAAKwtB,EAAIxtB,KAClBzE,KAAKwE,IAAIA,IAAKytB,EAAIztB,KAEXxE,MAIX4rB,UAAW,SAAWloB,GAKlB,OAHA1D,KAAKyE,IAAIhF,IAAKiE,GACd1D,KAAKwE,IAAI/E,IAAKiE,GAEP1D,MAIX6a,OAAQ,SAAWoX,GAEf,OAAOA,EAAIxtB,IAAIoW,OAAQ7a,KAAKyE,MAASwtB,EAAIztB,IAAIqW,OAAQ7a,KAAKwE,QAiBlE9K,OAAO+S,OAAQurH,GAAMp9H,WAEjBkC,IAAK,SAAW44B,EAAOI,GAKnB,OAHA91B,KAAK01B,MAAMvyB,KAAMuyB,GACjB11B,KAAK81B,IAAI3yB,KAAM2yB,GAER91B,MAIXwC,MAAO,WAEH,OAAO,IAAIxC,KAAK+K,aAAc5H,KAAMnD,OAIxCmD,KAAM,SAAWmyB,GAKb,OAHAt1B,KAAK01B,MAAMvyB,KAAMmyB,EAAKI,OACtB11B,KAAK81B,IAAI3yB,KAAMmyB,EAAKQ,KAEb91B,MAIXmyB,UAAW,SAAWtxB,GASlB,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,oDACdlI,EAAS,IAAIC,IAIVD,EAAOkY,WAAY/Y,KAAK01B,MAAO11B,KAAK81B,KAAM/wB,eAAgB,KAIrEywB,MAAO,SAAW30B,GASd,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,gDACdlI,EAAS,IAAIC,IAIVD,EAAO+I,WAAY5J,KAAK81B,IAAK91B,KAAK01B,QAI7C8wG,WAAY,WAER,OAAOxmI,KAAK01B,MAAMzwB,kBAAmBjF,KAAK81B,MAI9CruB,SAAU,WAEN,OAAOzH,KAAK01B,MAAMpb,WAAYta,KAAK81B,MAIvCm1B,GAAI,SAAW/wD,EAAG2G,GASd,YAPgBF,IAAXE,IAEDiI,QAAQC,KAAM,6CACdlI,EAAS,IAAIC,IAIVd,KAAKw1B,MAAO30B,GAASkE,eAAgB7K,GAAIuF,IAAKO,KAAK01B,QAI9D+wG,6BAA8B,WAE1B,IAAIC,EAAS,IAAI5lI,GACb6lI,EAAW,IAAI7lI,GAEnB,OAAO,SAAuCuxB,EAAOu0G,GAEjDF,EAAO98H,WAAYyoB,EAAOryB,KAAK01B,OAC/BixG,EAAS/8H,WAAY5J,KAAK81B,IAAK91B,KAAK01B,OAEpC,IAAImxG,EAAYF,EAASxhI,IAAKwhI,GAG1BzsI,EAFkBysI,EAASxhI,IAAKuhI,GAEVG,EAQ1B,OANKD,IAED1sI,EAAIsb,GAAMU,MAAOhc,EAAG,EAAG,IAIpBA,GArBe,GA2B9BixD,oBAAqB,SAAW94B,EAAOu0G,EAAa/lI,GAEhD,IAAI3G,EAAI8F,KAAKymI,6BAA8Bp0G,EAAOu0G,GASlD,YAPgBjmI,IAAXE,IAEDiI,QAAQC,KAAM,8DACdlI,EAAS,IAAIC,IAIVd,KAAKw1B,MAAO30B,GAASkE,eAAgB7K,GAAIuF,IAAKO,KAAK01B,QAI9DzU,aAAc,SAAW1Y,GAKrB,OAHAvI,KAAK01B,MAAMzU,aAAc1Y,GACzBvI,KAAK81B,IAAI7U,aAAc1Y,GAEhBvI,MAIX6a,OAAQ,SAAWya,GAEf,OAAOA,EAAKI,MAAM7a,OAAQ7a,KAAK01B,QAAWJ,EAAKQ,IAAIjb,OAAQ7a,KAAK81B,QAmBxEmiG,GAAsBr9H,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WAC1Dq9H,GAAsBr9H,UAAUmQ,YAAcktH,GAE9CA,GAAsBr9H,UAAU0xF,yBAA0B,EAmD1D4rC,GAAoBt9H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WAC5Ds9H,GAAoBt9H,UAAUmQ,YAAcmtH,GAE5CA,GAAoBt9H,UAAU6F,OAAW,WAErC,IAAIka,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GACTo1B,EAAe,IAAI9d,GAEvB,OAAO,WAEH,IAAIrW,GAAS,IAAK,IAAK,KAEvB/B,KAAKtF,OAAOq4B,mBAAmB,GAE/BmD,EAAa9K,gBAAiBprB,KAAKtF,OAAOmvB,aAE1C,IAAIA,EAAc7pB,KAAKtF,OAAOmvB,YAE1BhtB,EAAWmD,KAAK0yB,SAASI,WAAWj2B,SAIpCu7H,EAAcp4H,KAAKtF,OAAOg4B,SAE9B,GAAK0lG,GAAeA,EAAYzlG,WAQ5B,IANA,IAAIC,EAAWwlG,EAAYxlG,SAEvB4nB,EAAQ49E,EAAY59E,MAEpBuF,EAAM,EAEA/mD,EAAI,EAAGC,EAAIuhD,EAAMz6C,OAAQ/G,EAAIC,EAAGD,IAItC,IAFA,IAAI0jD,EAAOlC,EAAOxhD,GAERm7B,EAAI,EAAGwoB,EAAKD,EAAKjI,cAAc10C,OAAQo0B,EAAIwoB,EAAIxoB,IAAO,CAE5D,IAAImsB,EAAS1tB,EAAU8pB,EAAM36C,EAAMoyB,KAE/B1J,EAASiyB,EAAKjI,cAAetgB,GAEjCxZ,EAAGxX,KAAMm9C,GAASr/B,aAAc4I,GAEhCjP,EAAGzX,KAAMsnB,GAASjR,aAAc0c,GAAe9b,YAAYrV,eAAgB/E,KAAK6xB,MAAOpyB,IAAKkb,GAE5F9d,EAASqkB,OAAQ6+B,EAAKplC,EAAGvb,EAAGub,EAAGtb,EAAGsb,EAAGrb,GAErCygD,GAAY,EAEZljD,EAASqkB,OAAQ6+B,EAAKnlC,EAAGxb,EAAGwb,EAAGvb,EAAGub,EAAGtb,GAErCygD,GAAY,OAMjB,GAAKq4E,GAAeA,EAAYvlG,iBAEnC,CAAA,IAAIi0G,EAAS1O,EAAYtlG,WAAWj2B,SAEhCkqI,EAAU3O,EAAYtlG,WAAWrI,OAMrC,IAJIs1B,EAAM,EAIA5rB,EAAI,EAAGwoB,EAAKmqF,EAAO/lH,MAAOoT,EAAIwoB,EAAIxoB,IAExCxZ,EAAG7d,IAAKgqI,EAAO5rH,KAAMiZ,GAAK2yG,EAAO3rH,KAAMgZ,GAAK2yG,EAAO9lH,KAAMmT,IAAMlT,aAAc4I,GAE7EjP,EAAG9d,IAAKiqI,EAAQ7rH,KAAMiZ,GAAK4yG,EAAQ5rH,KAAMgZ,GAAK4yG,EAAQ/lH,KAAMmT,IAE5DvZ,EAAGpB,aAAc0c,GAAe9b,YAAYrV,eAAgB/E,KAAK6xB,MAAOpyB,IAAKkb,GAE7E9d,EAASqkB,OAAQ6+B,EAAKplC,EAAGvb,EAAGub,EAAGtb,EAAGsb,EAAGrb,GAErCygD,GAAY,EAEZljD,EAASqkB,OAAQ6+B,EAAKnlC,EAAGxb,EAAGwb,EAAGvb,EAAGub,EAAGtb,GAErCygD,GAAY,EAMpBljD,EAAS+oD,aAAc,GAtFU,GA+IzCyyE,GAAgBz9H,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WACpDy9H,GAAgBz9H,UAAUmQ,YAAcstH,GAExCA,GAAgBz9H,UAAUyK,QAAU,WAEhCrF,KAAKs4H,KAAK5lG,SAASrtB,UACnBrF,KAAKs4H,KAAKv6H,SAASsH,WAIvBgzH,GAAgBz9H,UAAU6F,OAAS,WAE/B,IAAIqjB,EAAS,IAAIhjB,GACb2jG,EAAU,IAAI3jG,GAElB,OAAO,WAEHd,KAAKG,MAAM4yB,oBAEX,IAAIi0G,EAAahnI,KAAKG,MAAMsH,SAAWzH,KAAKG,MAAMsH,SAAW,IACzDw/H,EAAYD,EAAa1pI,KAAK8K,IAAKpI,KAAKG,MAAMkH,OAElDrH,KAAKs4H,KAAKp5H,MAAMpC,IAAKmqI,EAAWA,EAAWD,GAE3CljH,EAAOiH,sBAAuB/qB,KAAKG,MAAM0pB,aACzC46E,EAAQ15E,sBAAuB/qB,KAAKG,MAAMU,OAAOgpB,aAEjD7pB,KAAKs4H,KAAKxzH,OAAQ2/F,EAAQtgG,IAAK2f,SAEXnjB,IAAfX,KAAK/B,MAEN+B,KAAKs4H,KAAKv6H,SAASE,MAAMnB,IAAKkD,KAAK/B,OAInC+B,KAAKs4H,KAAKv6H,SAASE,MAAMkF,KAAMnD,KAAKG,MAAMlC,QAzBnB,GAuGnCs6H,GAAe39H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WACvD29H,GAAe39H,UAAUmQ,YAAcwtH,GAEvCA,GAAe39H,UAAUm4B,kBAAoB,WAEzC,IAAIjP,EAAS,IAAIhjB,GAEbomI,EAAa,IAAItvH,GACjBuvH,EAAiB,IAAIvvH,GAEzB,OAAO,SAA4BmhC,GAE/B,IAAIsnB,EAAQrgE,KAAKqgE,MAEb3tC,EAAW1yB,KAAK0yB,SAChB71B,EAAW61B,EAAS8yB,aAAc,YAEtC2hF,EAAe5lH,WAAYvhB,KAAK62H,KAAKhtG,aAErC,IAAM,IAAI7wB,EAAI,EAAGm7B,EAAI,EAAGn7B,EAAIqnE,EAAMtgE,OAAQ/G,IAAO,CAE7C,IAAIugG,EAAOl5B,EAAOrnE,GAEbugG,EAAKrjD,QAAUqjD,EAAKrjD,OAAOsjD,SAE5B0tC,EAAWtoH,iBAAkBuoH,EAAgB5tC,EAAK1vE,aAClD/F,EAAOiH,sBAAuBm8G,GAC9BrqI,EAASqkB,OAAQiT,EAAGrQ,EAAO1kB,EAAG0kB,EAAOzkB,EAAGykB,EAAOxkB,GAE/C4nI,EAAWtoH,iBAAkBuoH,EAAgB5tC,EAAKrjD,OAAOrsB,aACzD/F,EAAOiH,sBAAuBm8G,GAC9BrqI,EAASqkB,OAAQiT,EAAI,EAAGrQ,EAAO1kB,EAAG0kB,EAAOzkB,EAAGykB,EAAOxkB,GAEnD60B,GAAK,GAMbzB,EAAS8yB,aAAc,YAAaI,aAAc,EAElD3P,GAASr7C,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,IAtCZ,GA2F7C2/E,GAAiB99H,UAAYlB,OAAOY,OAAQ6E,GAAKvE,WACjD89H,GAAiB99H,UAAUmQ,YAAc2tH,GAEzCA,GAAiB99H,UAAUyK,QAAU,WAEjCrF,KAAK0yB,SAASrtB,UACdrF,KAAKjC,SAASsH,WAIlBqzH,GAAiB99H,UAAU6F,OAAS,gBAEZE,IAAfX,KAAK/B,MAEN+B,KAAKjC,SAASE,MAAMnB,IAAKkD,KAAK/B,OAI9B+B,KAAKjC,SAASE,MAAMkF,KAAMnD,KAAKG,MAAMlC,QAqD7C26H,GAAoBh+H,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WACxDg+H,GAAoBh+H,UAAUmQ,YAAc6tH,GAE5CA,GAAoBh+H,UAAUyK,QAAU,WAEpCrF,KAAKm2C,SAAU,GAAIzjB,SAASrtB,UAC5BrF,KAAKm2C,SAAU,GAAIp4C,SAASsH,WAIhCuzH,GAAoBh+H,UAAU6F,OAAS,WAInC,IAAIg+F,EAAwB,GAAnBz+F,KAAKG,MAAMkY,MAChBqmF,EAAyB,GAApB1+F,KAAKG,MAAMmY,OAEhBzb,EAAWmD,KAAKs1B,KAAK5C,SAASI,WAAWj2B,SACzC2Q,EAAQ3Q,EAAS2Q,MAIrBA,EAAO,GAAMixF,EAAIjxF,EAAO,IAAQkxF,EAAIlxF,EAAO,GAAM,EACjDA,EAAO,GAAMixF,EAAIjxF,EAAO,GAAMkxF,EAAIlxF,EAAO,GAAM,EAC/CA,EAAO,IAAQixF,EAAIjxF,EAAO,GAAMkxF,EAAIlxF,EAAO,GAAM,EACjDA,EAAO,IAAQixF,EAAIjxF,EAAO,KAASkxF,EAAIlxF,EAAO,IAAO,EACrDA,EAAO,IAAOixF,EAAIjxF,EAAO,KAASkxF,EAAIlxF,EAAO,IAAO,EAEpD3Q,EAAS+oD,aAAc,OAEHjlD,IAAfX,KAAK/B,MAEN+B,KAAKs1B,KAAKv3B,SAASE,MAAMnB,IAAKkD,KAAK/B,OAInC+B,KAAKs1B,KAAKv3B,SAASE,MAAMkF,KAAMnD,KAAKG,MAAMlC,QAyClD46H,GAAsBj+H,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WAC1Di+H,GAAsBj+H,UAAUmQ,YAAc8tH,GAE9CA,GAAsBj+H,UAAUyK,QAAU,WAEtCrF,KAAKm2C,SAAU,GAAIzjB,SAASrtB,UAC5BrF,KAAKm2C,SAAU,GAAIp4C,SAASsH,WAIhCwzH,GAAsBj+H,UAAU6F,OAAS,WAErC,IAAIqjB,EAAS,IAAIhjB,GAEbuqC,EAAS,IAAIjvC,GACbkvC,EAAS,IAAIlvC,GAEjB,OAAO,WAEH,IAAI4C,EAAOgB,KAAKm2C,SAAU,GAE1B,QAAoBx1C,IAAfX,KAAK/B,MAEN+B,KAAKjC,SAASE,MAAMnB,IAAKkD,KAAK/B,WAE3B,CAEH,IAAIs8C,EAASv7C,EAAK0zB,SAAS8yB,aAAc,SAEzCna,EAAOloC,KAAMnD,KAAKG,MAAMlC,OACxBqtC,EAAOnoC,KAAMnD,KAAKG,MAAMwvC,aAExB,IAAM,IAAI32C,EAAI,EAAGC,EAAIshD,EAAOx5B,MAAO/nB,EAAIC,EAAGD,IAAO,CAE7C,IAAIiF,EAAUjF,EAAMC,EAAI,EAAQoyC,EAASC,EAEzCiP,EAAOr5B,OAAQloB,EAAGiF,EAAMnE,EAAGmE,EAAMktB,EAAGltB,EAAMib,GAI9CqhC,EAAOqL,aAAc,EAIzB5mD,EAAK8F,OAAQgf,EAAOiH,sBAAuB/qB,KAAKG,MAAM0pB,aAAc9P,WAlCnC,GAiFzC++G,GAAWl+H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WACnDk+H,GAAWl+H,UAAUmQ,YAAc+tH,GAsFnCC,GAAgBn+H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WACxDm+H,GAAgBn+H,UAAUmQ,YAAcguH,GAoDxCG,GAAkBt+H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WAC1Ds+H,GAAkBt+H,UAAUmQ,YAAcmuH,GAE1CA,GAAkBt+H,UAAU6F,OAAW,WAEnC,IAAIka,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GACTo1B,EAAe,IAAI9d,GAEvB,OAAO,WAEHpY,KAAKtF,OAAOq4B,mBAAmB,GAE/BmD,EAAa9K,gBAAiBprB,KAAKtF,OAAOmvB,aAgB1C,IAdA,IAAIA,EAAc7pB,KAAKtF,OAAOmvB,YAE1BhtB,EAAWmD,KAAK0yB,SAASI,WAAWj2B,SAIpCu7H,EAAcp4H,KAAKtF,OAAOg4B,SAE1BE,EAAWwlG,EAAYxlG,SAEvB4nB,EAAQ49E,EAAY59E,MAEpBuF,EAAM,EAEA/mD,EAAI,EAAGC,EAAIuhD,EAAMz6C,OAAQ/G,EAAIC,EAAGD,IAAO,CAE7C,IAAI0jD,EAAOlC,EAAOxhD,GAEdyxB,EAASiyB,EAAKjyB,OAElB9P,EAAGxX,KAAMyvB,EAAU8pB,EAAKzjC,IACnBxZ,IAAKmzB,EAAU8pB,EAAKxjC,IACpBzZ,IAAKmzB,EAAU8pB,EAAKrjD,IACpBkgB,aAAc,GACd0H,aAAc4I,GAEnBjP,EAAGzX,KAAMsnB,GAASjR,aAAc0c,GAAe9b,YAAYrV,eAAgB/E,KAAK6xB,MAAOpyB,IAAKkb,GAE5F9d,EAASqkB,OAAQ6+B,EAAKplC,EAAGvb,EAAGub,EAAGtb,EAAGsb,EAAGrb,GAErCygD,GAAY,EAEZljD,EAASqkB,OAAQ6+B,EAAKnlC,EAAGxb,EAAGwb,EAAGvb,EAAGub,EAAGtb,GAErCygD,GAAY,EAIhBljD,EAAS+oD,aAAc,GAlDQ,GAoGvCuzE,GAAuBv+H,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WAC3Du+H,GAAuBv+H,UAAUmQ,YAAcouH,GAE/CA,GAAuBv+H,UAAUyK,QAAU,WAEvCrF,KAAKo5H,WAAW1mG,SAASrtB,UACzBrF,KAAKo5H,WAAWr7H,SAASsH,UACzBrF,KAAKq5H,WAAW3mG,SAASrtB,UACzBrF,KAAKq5H,WAAWt7H,SAASsH,WAI7B8zH,GAAuBv+H,UAAU6F,OAAS,WAEtC,IAAIka,EAAK,IAAI7Z,GACT8Z,EAAK,IAAI9Z,GACTiyG,EAAK,IAAIjyG,GAEb,OAAO,WAEH6Z,EAAGoQ,sBAAuB/qB,KAAKG,MAAM0pB,aACrCjP,EAAGmQ,sBAAuB/qB,KAAKG,MAAMU,OAAOgpB,aAC5CkpF,EAAGnpG,WAAYgR,EAAID,GAEnB3a,KAAKo5H,WAAWt0H,OAAQiuG,QAEJpyG,IAAfX,KAAK/B,OAEN+B,KAAKo5H,WAAWr7H,SAASE,MAAMnB,IAAKkD,KAAK/B,OACzC+B,KAAKq5H,WAAWt7H,SAASE,MAAMnB,IAAKkD,KAAK/B,SAIzC+B,KAAKo5H,WAAWr7H,SAASE,MAAMkF,KAAMnD,KAAKG,MAAMlC,OAChD+B,KAAKq5H,WAAWt7H,SAASE,MAAMkF,KAAMnD,KAAKG,MAAMlC,QAIpD+B,KAAKq5H,WAAWv0H,OAAQiuG,GACxB/yG,KAAKq5H,WAAWn6H,MAAMI,EAAIyzG,EAAGhzG,UA3BK,GAmJ1Cu5H,GAAa1+H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WACrD0+H,GAAa1+H,UAAUmQ,YAAcuuH,GAErCA,GAAa1+H,UAAU6F,OAAS,WAE5B,IAAIiyB,EAAU6mG,EAEVz1G,EAAS,IAAIhjB,GACb9F,EAAS,IAAI63E,GAEjB,SAASu0D,EAAU/0G,EAAOjzB,EAAGC,EAAGC,GAE5BwkB,EAAOhnB,IAAKsC,EAAGC,EAAGC,GAAIsqB,UAAW5uB,GAEjC,IAAIw2B,EAAS+nG,EAAUlnG,GAEvB,QAAgB1xB,IAAX6wB,EAID,IAFA,IAAI30B,EAAW61B,EAAS8yB,aAAc,YAE5BxsD,EAAI,EAAGC,EAAIu4B,EAAOzxB,OAAQ/G,EAAIC,EAAGD,IAEvC6D,EAASqkB,OAAQsQ,EAAQx4B,GAAK8qB,EAAO1kB,EAAG0kB,EAAOzkB,EAAGykB,EAAOxkB,GAQrE,OAAO,WAEHozB,EAAW1yB,KAAK0yB,SAChB6mG,EAAWv5H,KAAKu5H,SAOhBv+H,EAAO2uB,iBAAiBxmB,KAAMnD,KAAKhF,OAAO2uB,kBAI1Cy9G,EAAU,IAAK,EAAG,GAAK,GACvBA,EAAU,IAAK,EAAG,EAAG,GAIrBA,EAAU,MAdF,GAAO,GAca,GAC5BA,EAAU,KAfF,GAAO,GAeW,GAC1BA,EAAU,MAhBF,EAAO,GAgBW,GAC1BA,EAAU,KAjBF,EAAO,GAiBS,GAIxBA,EAAU,MArBF,GAAO,EAqBW,GAC1BA,EAAU,KAtBF,GAAO,EAsBS,GACxBA,EAAU,MAvBF,EAAO,EAuBS,GACxBA,EAAU,KAxBF,EAAO,EAwBO,GAItBA,EAAU,KAAMrvH,GAASwM,KAAW,GACpC6iH,EAAU,MAAM,GAAW7iH,KAAW,GACtC6iH,EAAU,KAAM,EAAG7iH,GAAS,GAI5B6iH,EAAU,OAlCF,EAkCc,EAAG,GACzBA,EAAU,MAnCF,EAmCY,EAAG,GACvBA,EAAU,MAAO,GApCF,EAoCU,GACzBA,EAAU,MAAO,EArCF,EAqCQ,GAEvBA,EAAU,OAvCF,EAuCc,GAAK,GAC3BA,EAAU,MAxCF,EAwCY,GAAK,GACzBA,EAAU,MAAO,GAzCF,GAyCY,GAC3BA,EAAU,MAAO,EA1CF,GA0CU,GAEzB10G,EAAS8yB,aAAc,YAAaI,aAAc,GA5E1B,GA4GhCm0E,GAAUn/H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WAClDm/H,GAAUn/H,UAAUmQ,YAAcgvH,GAElCA,GAAUn/H,UAAU6F,OAAW,WAE3B,IAAIwxB,EAAM,IAAIrD,GAEd,OAAO,SAAiBl0B,GAcpB,QAZgBiG,IAAXjG,GAEDoO,QAAQC,KAAM,4DAIGpI,IAAhBX,KAAKtF,QAENu3B,EAAIF,cAAe/xB,KAAKtF,SAIvBu3B,EAAIC,UAAT,CAEA,IAAIztB,EAAMwtB,EAAIxtB,IACVD,EAAMytB,EAAIztB,IAkBV3H,EAAWmD,KAAK0yB,SAASI,WAAWj2B,SACpC2Q,EAAQ3Q,EAAS2Q,MAErBA,EAAO,GAAMhJ,EAAIpF,EAAGoO,EAAO,GAAMhJ,EAAInF,EAAGmO,EAAO,GAAMhJ,EAAIlF,EACzDkO,EAAO,GAAM/I,EAAIrF,EAAGoO,EAAO,GAAMhJ,EAAInF,EAAGmO,EAAO,GAAMhJ,EAAIlF,EACzDkO,EAAO,GAAM/I,EAAIrF,EAAGoO,EAAO,GAAM/I,EAAIpF,EAAGmO,EAAO,GAAMhJ,EAAIlF,EACzDkO,EAAO,GAAMhJ,EAAIpF,EAAGoO,EAAO,IAAO/I,EAAIpF,EAAGmO,EAAO,IAAOhJ,EAAIlF,EAC3DkO,EAAO,IAAOhJ,EAAIpF,EAAGoO,EAAO,IAAOhJ,EAAInF,EAAGmO,EAAO,IAAO/I,EAAInF,EAC5DkO,EAAO,IAAO/I,EAAIrF,EAAGoO,EAAO,IAAOhJ,EAAInF,EAAGmO,EAAO,IAAO/I,EAAInF,EAC5DkO,EAAO,IAAO/I,EAAIrF,EAAGoO,EAAO,IAAO/I,EAAIpF,EAAGmO,EAAO,IAAO/I,EAAInF,EAC5DkO,EAAO,IAAOhJ,EAAIpF,EAAGoO,EAAO,IAAO/I,EAAIpF,EAAGmO,EAAO,IAAO/I,EAAInF,EAE5DzC,EAAS+oD,aAAc,EAEvB5lD,KAAK0yB,SAAS8E,0BArDS,GA2D/BuiG,GAAUn/H,UAAUm3B,cAAgB,SAAWr3B,GAK3C,OAHAsF,KAAKtF,OAASA,EACdsF,KAAKS,SAEET,MAgCXg6H,GAAWp/H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WACnDo/H,GAAWp/H,UAAUmQ,YAAcivH,GAEnCA,GAAWp/H,UAAUm4B,kBAAoB,SAAWgmB,GAEhD,IAAI9mB,EAAMjyB,KAAKiyB,IAEVA,EAAIC,YAETD,EAAIE,UAAWnyB,KAAKnD,UAEpBo1B,EAAIG,QAASpyB,KAAKd,OAElBc,KAAKd,MAAM6F,eAAgB,IAE3BkxC,GAASr7C,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,KAsCrDkhF,GAAYr/H,UAAYlB,OAAOY,OAAQi4F,GAAK33F,WAC5Cq/H,GAAYr/H,UAAUmQ,YAAckvH,GAEpCA,GAAYr/H,UAAUm4B,kBAAoB,SAAWgmB,GAEjD,IAAI75C,GAAUc,KAAKwzB,MAAMzE,SAEpBzxB,KAAK6c,IAAKjb,GAAU,OAAOA,EAAQ,MAExCc,KAAKd,MAAMpC,IAAK,GAAMkD,KAAK6xB,KAAM,GAAM7xB,KAAK6xB,KAAM3yB,GAElDc,KAAKm2C,SAAU,GAAIp4C,SAASkpD,KAAS/nD,EAAQ,EAAM+O,EAAWD,EAE9DhO,KAAK8E,OAAQ9E,KAAKwzB,MAAM/I,QAExBwrB,GAASr7C,UAAUm4B,kBAAkB55B,KAAM6G,KAAM+4C,IA0DrDmhF,GAAYt/H,UAAYlB,OAAOY,OAAQ27C,GAASr7C,WAChDs/H,GAAYt/H,UAAUmQ,YAAcmvH,GAEpCA,GAAYt/H,UAAUy/H,aAAiB,WAEnC,IACIhjH,EADAoL,EAAO,IAAI3hB,GAGf,OAAO,SAAuB6kB,GAIrBA,EAAItmB,EAAI,OAETW,KAAKoF,WAAWtI,IAAK,EAAG,EAAG,EAAG,GAEtB6oB,EAAItmB,GAAM,OAElBW,KAAKoF,WAAWtI,IAAK,EAAG,EAAG,EAAG,IAI9B2lB,EAAK3lB,IAAK6oB,EAAIrmB,EAAG,GAAKqmB,EAAIvmB,GAAIgb,YAE9B/C,EAAU/Z,KAAKiqB,KAAM5B,EAAItmB,GAEzBW,KAAKoF,WAAWohB,iBAAkB/D,EAAMpL,KAvBb,GA+BvC6iH,GAAYt/H,UAAU4f,UAAY,SAAWza,EAAQo6H,EAAYC,QAEzCz5H,IAAfw5H,IAA2BA,EAAa,GAAMp6H,QAChCY,IAAdy5H,IAA0BA,EAAY,GAAMD,GAEjDn6H,KAAKs1B,KAAKp2B,MAAMpC,IAAK,EAAGQ,KAAKkH,IAAK,EAAGzE,EAASo6H,GAAc,GAC5Dn6H,KAAKs1B,KAAK/1B,eAEVS,KAAKs4H,KAAKp5H,MAAMpC,IAAKs9H,EAAWD,EAAYC,GAC5Cp6H,KAAKs4H,KAAKz7H,SAASwC,EAAIU,EACvBC,KAAKs4H,KAAK/4H,gBAId26H,GAAYt/H,UAAUysI,SAAW,SAAWppI,GAExC+B,KAAKs1B,KAAKv3B,SAASE,MAAMkF,KAAMlF,GAC/B+B,KAAKs4H,KAAKv6H,SAASE,MAAMkF,KAAMlF,IAmCnCq8H,GAAW1/H,UAAYlB,OAAOY,OAAQk4F,GAAa53F,WACnD0/H,GAAW1/H,UAAUmQ,YAAcuvH,GA2OnC,SAASgN,GAAoB91G,GAEzB1oB,QAAQC,KAAM,qFAEdmpG,GAAiB/4G,KAAM6G,KAAMwxB,GAC7BxxB,KAAKgG,KAAO,aACZhG,KAAK61F,QAAS,EAQlB,SAAS0xC,GAAc/1G,GAEnB1oB,QAAQC,KAAM,+EAEdmpG,GAAiB/4G,KAAM6G,KAAMwxB,GAC7BxxB,KAAKgG,KAAO,aAQhB,SAASwhI,GAAQh2G,GAEb1oB,QAAQC,KAAM,sEAEdmpG,GAAiB/4G,KAAM6G,KAAMwxB,GAC7BxxB,KAAKgG,KAAO,aAxGhB8lG,GAAMxxG,OAAS,SAAWmtI,EAAWp3B,GAQjC,OANAvnG,QAAQ2O,IAAK,4CAEbgwH,EAAU7sI,UAAYlB,OAAOY,OAAQwxG,GAAMlxG,WAC3C6sI,EAAU7sI,UAAUmQ,YAAc08H,EAClCA,EAAU7sI,UAAUy1G,SAAWA,EAExBo3B,GAMX/tI,OAAO+S,OAAQwnG,GAAUr5G,WAErB8sI,qBAAsB,SAAWj3B,GAE7B3nG,QAAQC,KAAM,wHAId,IAAI62F,EAAM5/F,KAAKwwG,UAAWC,GAC1B,OAAOzwG,KAAK2nI,eAAgB/nC,IAIhCgoC,2BAA4B,SAAWn3B,GAEnC3nG,QAAQC,KAAM,8HAId,IAAI62F,EAAM5/F,KAAK0hG,gBAAiB+O,GAChC,OAAOzwG,KAAK2nI,eAAgB/nC,IAIhC+nC,eAAgB,SAAWn2G,GAEvB1oB,QAAQC,KAAM,kHAId,IAFA,IAAI2pB,EAAW,IAAI4nB,GAETthD,EAAI,EAAGC,EAAIu4B,EAAOzxB,OAAQ/G,EAAIC,EAAGD,IAAO,CAE9C,IAAIq5B,EAAQb,EAAQx4B,GACpB05B,EAASE,SAASxlB,KAAM,IAAItM,GAASuxB,EAAMjzB,EAAGizB,EAAMhzB,EAAGgzB,EAAM/yB,GAAK,IAItE,OAAOozB,KAQfh5B,OAAO+S,OAAQ2nG,GAAKx5G,WAEhBitI,WAAY,SAAWr2G,GAEnB1oB,QAAQC,KAAM,mEACd/I,KAAKuxB,cAAeC,MAkB5B81G,GAAmB1sI,UAAYlB,OAAOY,OAAQ43G,GAAiBt3G,WAa/D2sI,GAAa3sI,UAAYlB,OAAOY,OAAQ43G,GAAiBt3G,WAazD4sI,GAAO5sI,UAAYlB,OAAOY,OAAQ43G,GAAiBt3G,WAEnDlB,OAAO+S,OAAQ+6H,GAAO5sI,WAElBktI,cAAe,WAEXh/H,QAAQgP,MAAO,qDAGnBiwH,sBAAuB,WAEnBj/H,QAAQgP,MAAO,6DAGnBkwH,yBAA0B,WAEtBl/H,QAAQgP,MAAO,kEA6BvBghH,GAAWl+H,UAAUqtI,UAAY,WAE7Bn/H,QAAQgP,MAAO,6FAInBygH,GAAe39H,UAAU6F,OAAS,WAE9BqI,QAAQgP,MAAO,iEAanBpe,OAAO+S,OAAQu0G,GAAOpmH,WAElBgqH,eAAgB,SAAW30F,GAGvB,OADAnnB,QAAQC,KAAM,wGACPu7G,GAAYM,eAAgB30F,MAoB3Cv2B,OAAO+S,OAAQq4G,GAAWlqH,WAEtB6rH,eAAgB,SAAWxsH,GAGvB,OADA6O,QAAQC,KAAM,+EACP/I,KAAKglH,gBAAiB/qH,MAQrCP,OAAO+S,OAAQsrH,GAAKn9H,WAEhBqQ,OAAQ,SAAWqlG,GAGf,OADAxnG,QAAQC,KAAM,2DACP/I,KAAKmyB,UAAWm+E,IAG3B37E,MAAO,WAGH,OADA7rB,QAAQC,KAAM,wDACP/I,KAAKkyB,WAGhBg2G,kBAAmB,SAAWj2G,GAG1B,OADAnpB,QAAQC,KAAM,0EACP/I,KAAKmzB,cAAelB,IAG/BJ,KAAM,SAAWy+E,GAGb,OADAxnG,QAAQC,KAAM,uDACP/I,KAAKoyB,QAASk+E,MAK7B52G,OAAO+S,OAAQmiB,GAAKh0B,WAEhBqQ,OAAQ,SAAWqlG,GAGf,OADAxnG,QAAQC,KAAM,2DACP/I,KAAKmyB,UAAWm+E,IAG3B37E,MAAO,WAGH,OADA7rB,QAAQC,KAAM,wDACP/I,KAAKkyB,WAGhBg2G,kBAAmB,SAAWj2G,GAG1B,OADAnpB,QAAQC,KAAM,0EACP/I,KAAKmzB,cAAelB,IAG/Bk2G,qBAAsB,SAAW3pI,GAG7B,OADAsK,QAAQC,KAAM,gFACP/I,KAAKozB,iBAAkB50B,IAGlCqzB,KAAM,SAAWy+E,GAGb,OADAxnG,QAAQC,KAAM,uDACP/I,KAAKoyB,QAASk+E,MAK7B0nB,GAAMp9H,UAAUqQ,OAAS,SAAWqlG,GAGhC,OADAxnG,QAAQC,KAAM,4DACP/I,KAAKmyB,UAAWm+E,IAI3B52G,OAAO+S,OAAQ+I,IAEX4yH,SAAU,WAGN,OADAt/H,QAAQC,KAAM,2EACPzL,KAAKM,UAIhByqI,kBAAmB,SAAWpuI,GAG1B,OADA6O,QAAQC,KAAM,4EACPyM,GAAMmC,gBAAiB1d,IAIlCquI,eAAgB,SAAWruI,GAGvB,OADA6O,QAAQC,KAAM,wEACPyM,GAAM+B,eAAgBtd,MAMrCP,OAAO+S,OAAQ2L,GAAQxd,WAEnB2tI,qBAAsB,SAAW/6H,EAAO9J,GAGpC,OADAoF,QAAQC,KAAM,uFACP/I,KAAK+a,QAASvN,EAAO9J,IAGhC8kI,gBAAiB,SAAW1kH,GAGxB,OADAhb,QAAQC,KAAM,kGACP+a,EAAOtK,aAAcxZ,OAGhCyoI,qBAAsB,WAElB3/H,QAAQgP,MAAO,6DAGnB4wH,cAAe,SAAWn2F,GAGtB,OADAzpC,QAAQC,KAAM,6GACP/I,KAAK8gB,uBAAwByxB,IAGxCo2F,oBAAqB,WAEjB7/H,QAAQgP,MAAO,8DAMvBpe,OAAO+S,OAAQmL,GAAQhd,WAEnBguI,gBAAiB,SAAWxvI,GAGxB,OADA0P,QAAQC,KAAM,0EACP/I,KAAK2c,aAAcvjB,IAG9BmvI,qBAAsB,SAAW/6H,EAAO9J,GAGpC,OADAoF,QAAQC,KAAM,uFACP/I,KAAK+a,QAASvN,EAAO9J,IAGhCmlI,YAAa,WAET,IAAIluH,EAEJ,OAAO,WAIH,YAFYha,IAAPga,IAAmBA,EAAK,IAAI7Z,IACjCgI,QAAQC,KAAM,wGACP4R,EAAGhT,oBAAqB3H,KAAM,IARhC,GAabq3C,0BAA2B,SAAW54B,GAGlC,OADA3V,QAAQC,KAAM,kGACP/I,KAAKse,2BAA4BG,IAG5CqqH,gBAAiB,WAEbhgI,QAAQC,KAAM,wDAGlBy/H,gBAAiB,SAAW1kH,GAGxB,OADAhb,QAAQC,KAAM,kGACP+a,EAAO7C,aAAcjhB,OAGhC+oI,gBAAiB,SAAWjlH,GAGxB,OADAhb,QAAQC,KAAM,kGACP+a,EAAO7C,aAAcjhB,OAGhCyoI,qBAAsB,WAElB3/H,QAAQgP,MAAO,6DAGnBkxH,WAAY,SAAWxhI,GAEnBsB,QAAQC,KAAM,oGACdvB,EAAEsiB,mBAAoB9pB,OAG1BipI,YAAa,SAAWnlH,GAGpB,OADAhb,QAAQC,KAAM,8FACP+a,EAAO7C,aAAcjhB,OAGhC4rB,UAAW,WAEP9iB,QAAQgP,MAAO,kDAGnB2/B,QAAS,WAEL3uC,QAAQgP,MAAO,gDAGnB4/B,QAAS,WAEL5uC,QAAQgP,MAAO,gDAGnB6/B,QAAS,WAEL7uC,QAAQgP,MAAO,gDAGnBoxH,aAAc,WAEVpgI,QAAQgP,MAAO,qDAGnB4wH,cAAe,SAAWn2F,GAGtB,OADAzpC,QAAQC,KAAM,6GACP/I,KAAK8gB,uBAAwByxB,IAGxCo2F,oBAAqB,WAEjB7/H,QAAQgP,MAAO,4DAGnBqxH,YAAa,SAAWzgI,EAAMD,EAAOI,EAAQD,EAAKwb,EAAMC,GAGpD,OADAvb,QAAQC,KAAM,wHACP/I,KAAKmkB,gBAAiBzb,EAAMD,EAAOG,EAAKC,EAAQub,EAAMC,MAMrEyK,GAAMl0B,UAAUwuI,mBAAqB,SAAW9zG,GAG5C,OADAxsB,QAAQC,KAAM,6EACP/I,KAAK21B,eAAgBL,IAIhC1xB,GAAWhJ,UAAU4tI,gBAAkB,SAAW1kH,GAG9C,OADAhb,QAAQC,KAAM,mHACP+a,EAAO1f,gBAAiBpE,OAInCtG,OAAO+S,OAAQ+8C,GAAI5uD,WAEfstI,kBAAmB,SAAWj2G,GAG1B,OADAnpB,QAAQC,KAAM,yEACP/I,KAAKmzB,cAAelB,IAG/Bo3G,oBAAqB,SAAW71G,GAG5B,OADA1qB,QAAQC,KAAM,6EACP/I,KAAKuzB,gBAAiBC,IAGjC20G,qBAAsB,SAAW3pI,GAG7B,OADAsK,QAAQC,KAAM,+EACP/I,KAAKozB,iBAAkB50B,MAMtC9E,OAAO+S,OAAQi9C,GAAS9uD,WAEpBkiG,KAAM,WAGF,OADAh0F,QAAQC,KAAM,2DACP/I,KAAK+uD,WAGhBu6E,mBAAoB,SAAWj3G,EAAOxxB,GAGlC,OADAiI,QAAQC,KAAM,8EACP/I,KAAK+tD,aAAc17B,EAAOxxB,IAGrC0oI,SAAU,SAAW1oI,GAGjB,OADAiI,QAAQC,KAAM,mEACP/I,KAAKgvD,YAAanuD,IAG7B4pB,OAAQ,SAAW5pB,GAGf,OADAiI,QAAQC,KAAM,+DACP/I,KAAK6tD,UAAWhtD,IAG3B2yB,MAAO,SAAW3yB,GAGd,OADAiI,QAAQC,KAAM,6DACP/I,KAAKivD,SAAUpuD,MAM9BnH,OAAO+S,OAAQi9C,IAEX4/E,mBAAoB,SAAWj3G,EAAOpZ,EAAGC,EAAG7f,EAAGwH,GAG3C,OADAiI,QAAQC,KAAM,8EACP2gD,GAASqE,aAAc17B,EAAOpZ,EAAGC,EAAG7f,EAAGwH,IAGlD4pB,OAAQ,SAAWxR,EAAGC,EAAG7f,EAAGwH,GAGxB,OADAiI,QAAQC,KAAM,+DACP2gD,GAASmE,UAAW50C,EAAGC,EAAG7f,EAAGwH,MAM5CnH,OAAO+S,OAAQ6nG,GAAM15G,WAEjB4uI,iBAAkB,SAAW/4B,GAGzB,OADA3nG,QAAQC,KAAM,oFACP/I,KAAK4hG,cAAe6O,IAG/Bg5B,QAAS,SAAW17G,GAGhB,OADAjlB,QAAQC,KAAM,4EACP,IAAIo3F,GAAiBngG,KAAM+tB,IAGtC27G,aAAc,SAAW37G,GAGrB,OADAjlB,QAAQC,KAAM,+EACP,IAAI2+F,GAAe1nG,KAAM+tB,MAMxCr0B,OAAO+S,OAAQ/F,GAAQ9L,WAEnB+uI,cAAe,SAAW1uH,EAAWrO,EAAOlJ,GAGxC,OADAoF,QAAQC,KAAM,+EACP/I,KAAKgb,oBAAqBC,EAAWrO,EAAOlJ,IAGvDkmI,oBAAqB,SAAWpiI,GAG5B,OADAsB,QAAQC,KAAM,qFACP/I,KAAKua,oBAAqB/S,IAGrCqiI,gBAAiB,WAGb,OADA/gI,QAAQC,KAAM,6EACP/I,KAAKka,qBAMpBxgB,OAAO+S,OAAQ3L,GAAQlG,WAEnBkvI,2BAA4B,WAExBhhI,QAAQgP,MAAO,8GAGnBiyH,uBAAwB,WAEpBjhI,QAAQgP,MAAO,sGAGnBkyH,sBAAuB,SAAW5wI,GAG9B,OADA0P,QAAQC,KAAM,yFACP/I,KAAK+qB,sBAAuB3xB,IAGvC6wI,mBAAoB,SAAW7wI,GAG3B,OADA0P,QAAQC,KAAM,mFACP/I,KAAKgrB,mBAAoB5xB,IAGpC8wI,oBAAqB,SAAWt9H,EAAOrE,GAGnC,OADAO,QAAQC,KAAM,qFACP/I,KAAK2H,oBAAqBY,EAAQqE,IAG7Cu9H,gBAAiB,SAAW/wI,GAGxB,OADA0P,QAAQC,KAAM,uFACP/I,KAAKihB,aAAc7nB,IAG9BuwI,cAAe,SAAW1uH,EAAWrO,EAAOlJ,GAGxC,OADAoF,QAAQC,KAAM,+EACP/I,KAAKgb,oBAAqBC,EAAWrO,EAAOlJ,IAGvDkmI,oBAAqB,SAAWpiI,GAG5B,OADAsB,QAAQC,KAAM,qFACP/I,KAAKua,oBAAqB/S,IAGrCqiI,gBAAiB,WAGb,OADA/gI,QAAQC,KAAM,6EACP/I,KAAKka,qBAMpBxgB,OAAO+S,OAAQohB,GAAQjzB,WAEnB+uI,cAAe,SAAW1uH,EAAWrO,EAAOlJ,GAGxC,OADAoF,QAAQC,KAAM,+EACP/I,KAAKgb,oBAAqBC,EAAWrO,EAAOlJ,IAGvDmmI,gBAAiB,WAGb,OADA/gI,QAAQC,KAAM,6EACP/I,KAAKka,qBAQpBxgB,OAAO+S,OAAQ6tC,GAAS1/C,WAEpBwvI,gBAAiB,WAEbthI,QAAQgP,MAAO,yDAGnBqiF,qBAAsB,WAElBrxF,QAAQgP,MAAO,+GAMvBpe,OAAO+S,OAAQwpC,GAASr7C,WAEpByvI,eAAgB,SAAW9wI,GAGvB,OADAuP,QAAQC,KAAM,6EACP/I,KAAKu4C,gBAAiBh/C,IAGjC+wI,YAAa,WAETxhI,QAAQC,KAAM,8EAGlB6iB,UAAW,SAAWnkB,EAAUgb,GAG5B,OADA3Z,QAAQC,KAAM,kGACP/I,KAAK43C,gBAAiBn1B,EAAMhb,IAGvC8iI,iBAAkB,WAEdzhI,QAAQgP,MAAO,qHAMvBpe,OAAOsR,iBAAkBirC,GAASr7C,WAE9B4vI,YACI3wI,IAAK,WAGD,OADAiP,QAAQC,KAAM,uDACP/I,KAAKwrB,SAAS/N,OAGzB3gB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,uDACd/I,KAAKwrB,SAAS/N,MAAQxjB,IAI9BwwI,eACI5wI,IAAK,WAEDiP,QAAQC,KAAM,kGAGlBjM,IAAK,WAEDgM,QAAQC,KAAM,qGAO1BrP,OAAOsR,iBAAkBymF,GAAI72F,WAEzB69E,SACI5+E,IAAK,WAGD,OADAiP,QAAQC,KAAM,oDACP/I,KAAK0xF,WAOxBh4F,OAAOC,eAAgBg4F,GAAS/2F,UAAW,oBAEvCf,IAAK,WAEDiP,QAAQC,KAAM,uDAGlBjM,IAAK,WAEDgM,QAAQC,KAAM,yDAMtBrP,OAAOC,eAAgBmyG,GAAMlxG,UAAW,wBAEpCf,IAAK,WAGD,OADAiP,QAAQC,KAAM,kEACP/I,KAAK+rG,oBAGhBjvG,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,kEACd/I,KAAK+rG,mBAAqB9xG,KAQlC2C,GAAkBhC,UAAU8vI,QAAU,SAAW7yC,EAAa5kB,GAE1DnqE,QAAQC,KAAM,oHAGKpI,IAAdsyE,IAA0BjzE,KAAKizE,UAAYA,GAChDjzE,KAAK43F,eAAgBC,IAMzBn+F,OAAOsR,iBAAkBupG,GAAM35G,WAC3B+vI,YACI7tI,IAAK,WAEDgM,QAAQC,KAAM,gDAItB6hI,iBACI9tI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4DACd/I,KAAKwuC,OAAOxzC,OAAOqN,IAAMpO,IAIjC4wI,kBACI/tI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,8DACd/I,KAAKwuC,OAAOxzC,OAAO0N,KAAOzO,IAIlC6wI,mBACIhuI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,gEACd/I,KAAKwuC,OAAOxzC,OAAOyN,MAAQxO,IAInC8wI,iBACIjuI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4DACd/I,KAAKwuC,OAAOxzC,OAAO4N,IAAM3O,IAIjC+wI,oBACIluI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,kEACd/I,KAAKwuC,OAAOxzC,OAAO6N,OAAS5O,IAIpCo1C,kBACIvyC,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,8DACd/I,KAAKwuC,OAAOxzC,OAAOopB,KAAOnqB,IAIlCq1C,iBACIxyC,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4DACd/I,KAAKwuC,OAAOxzC,OAAOqpB,IAAMpqB,IAIjCgxI,qBACInuI,IAAK,WAEDgM,QAAQC,KAAM,oHAItB0lC,YACI3xC,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,iDACd/I,KAAKwuC,OAAOo1B,KAAO3pE,IAI3BixI,gBACIpuI,IAAK,WAEDgM,QAAQC,KAAM,oDAItBoiI,gBACIruI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,8DACd/I,KAAKwuC,OAAOq1B,QAAQxrD,MAAQpe,IAIpCmxI,iBACItuI,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,gEACd/I,KAAKwuC,OAAOq1B,QAAQvrD,OAASre,MAQzCP,OAAOsR,iBAAkBuwC,GAAgB3gD,WAErCmF,QACIlG,IAAK,WAGD,OADAiP,QAAQC,KAAM,2EACP/I,KAAKwN,MAAMzN,SAI1BsrI,iBAAkB,WAEdviI,QAAQgP,MAAO,mEAMvBpe,OAAO+S,OAAQ62C,GAAe1oD,WAE1B0wI,SAAU,SAAW1+H,GAEjB9D,QAAQC,KAAM,sEACd/I,KAAK+kD,SAAUn4C,IAGnB2+H,YAAa,SAAW71G,EAAO3U,EAAO8mF,QAEblnG,IAAhBknG,GAED/+F,QAAQC,KAAM,wEAGlBD,QAAQC,KAAM,4DACd/I,KAAK8kD,SAAUpvB,EAAO3U,IAG1ByqH,eAAgB,WAEZ1iI,QAAQC,KAAM,kEACd/I,KAAK0lD,eAGT0kF,gBAAiB,WAEbthI,QAAQC,KAAM,+DAGlB0iI,eAAgB,WAEZ3iI,QAAQC,KAAM,gEAMtBrP,OAAOsR,iBAAkBs4C,GAAe1oD,WAEpCkmH,WACIjnH,IAAK,WAGD,OADAiP,QAAQgP,MAAO,iEACR9X,KAAKw8C,SAIpBukE,SACIlnH,IAAK,WAGD,OADAiP,QAAQC,KAAM,+DACP/I,KAAKw8C,WASxB9iD,OAAO+S,OAAQ2zF,GAAsBxlG,WAEjC8wI,UAAW,WAEP5iI,QAAQgP,MAAO,gEAInB6zH,aAAc,WAEV7iI,QAAQgP,MAAO,mEAInBwoF,SAAU,WAENx3F,QAAQgP,MAAO,iEAQvBpe,OAAOsR,iBAAkBisH,GAAQr8H,WAE7B+3C,SACI71C,IAAK,WAEDgM,QAAQC,KAAM,oFAItB6kB,UACI3zB,MAAO,WAGH,OADA6O,QAAQC,KAAM,qFACP/I,SASnBtG,OAAOsR,iBAAkB+7C,GAASnsD,WAE9BgxI,YACI/xI,IAAK,WAEDiP,QAAQC,KAAM,kDAGlBjM,IAAK,WAEDgM,QAAQC,KAAM,mDAItB8iI,SACIhyI,IAAK,WAGD,OADAiP,QAAQC,KAAM,8CACP,IAAI3M,KAKnBukH,SACI9mH,IAAK,WAEDiP,QAAQgP,MAAO,SAAW9X,KAAKgG,KAAO,uEAG1ClJ,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,SAAW/I,KAAKgG,KAAO,sEACrChG,KAAK9B,YAhu7CC,IAgu7CejE,MAOjCP,OAAOsR,iBAAkBhN,GAAkBpD,WAEvCkxI,OACIjyI,IAAK,WAGD,OADAiP,QAAQC,KAAM,8FACP,GAGXjM,IAAK,WAEDgM,QAAQC,KAAM,gGAO1BrP,OAAOsR,iBAAkBw9C,GAAe5tD,WAEpCouD,aACInvD,IAAK,WAGD,OADAiP,QAAQC,KAAM,iFACP/I,KAAK+oD,WAAWC,aAG3BlsD,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,kFACd/I,KAAK+oD,WAAWC,YAAc/uD,MAS1CP,OAAO+S,OAAQlQ,GAAc3B,WAEzBmxI,YAAa,SAAWphE,EAAc1sE,EAAO6yC,EAAO2mC,GAEhD3uE,QAAQC,KAAM,yGACd/I,KAAKioE,gBAAiB0C,GACtB3qE,KAAKkoE,MAAOjqE,EAAO6yC,EAAO2mC,IAI9Bl3E,QAAS,SAAWooB,GAEhB7f,QAAQC,KAAM,+DACd/I,KAAK+xC,iBAAkBppB,IAI3BqjH,uBAAwB,WAGpB,OADAljI,QAAQC,KAAM,6EACP/I,KAAK8gE,mBAIhB2L,iBAAkB,WAGd,OADA3jE,QAAQC,KAAM,qFACP/I,KAAKi6D,aAAawS,oBAI7Bw/D,aAAc,WAGV,OADAnjI,QAAQC,KAAM,wEACP/I,KAAKi6D,aAAapa,WAI7BqsF,aAAc,WAGV,OADApjI,QAAQC,KAAM,+DACP/I,KAAKuD,MAAMH,SAItB+oI,sBAAuB,WAGnB,OADArjI,QAAQC,KAAM,gGACP/I,KAAK+oD,WAAWlvD,IAAK,sBAGhCuyI,0BAA2B,WAGvB,OADAtjI,QAAQC,KAAM,yGACP/I,KAAK+oD,WAAWlvD,IAAK,2BAGhCwyI,4BAA6B,WAGzB,OADAvjI,QAAQC,KAAM,6GACP/I,KAAK+oD,WAAWlvD,IAAK,6BAGhCyyI,8BAA+B,WAG3B,OADAxjI,QAAQC,KAAM,oHACP/I,KAAK+oD,WAAWlvD,IAAK,kCAGhC0yI,+BAAgC,WAG5B,OADAzjI,QAAQC,KAAM,sHACP/I,KAAK+oD,WAAWlvD,IAAK,mCAGhC2yI,oBAAqB,WAGjB,OADA1jI,QAAQC,KAAM,6FACP/I,KAAK+oD,WAAWlvD,IAAK,qBAGhC0hE,uBAAwB,WAGpB,OADAzyD,QAAQC,KAAM,uFACP/I,KAAKi6D,aAAa8G,gBAG7B0rE,wBAAyB,WAGrB,OADA3jI,QAAQC,KAAM,uGACP/I,KAAK+oD,WAAWlvD,IAAK,2BAGhC6yI,kBAAmB,SAAWnjD,GAE1BzgF,QAAQC,KAAM,uEACd/I,KAAK2nE,eAAgB4hB,IAGzB0C,aAAc,WAEVnjF,QAAQC,KAAM,2DAGlB4jI,aAAc,WAEV7jI,QAAQC,KAAM,2DAGlB6jI,cAAe,WAEX9jI,QAAQC,KAAM,4DAGlB8jI,gBAAiB,WAEb/jI,QAAQC,KAAM,8DAGlB+jI,eAAgB,WAEZhkI,QAAQC,KAAM,+DAMtBrP,OAAOsR,iBAAkBzO,GAAc3B,WAEnCkhE,kBACIjiE,IAAK,WAED,OAAOmG,KAAK0hE,UAAU9gE,SAG1B9D,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,qEACd/I,KAAK0hE,UAAU9gE,QAAU3G,IAIjCkgE,eACItgE,IAAK,WAED,OAAOmG,KAAK0hE,UAAU17D,MAG1BlJ,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,+DACd/I,KAAK0hE,UAAU17D,KAAO/L,IAI9B8yI,mBACIlzI,IAAK,WAEDiP,QAAQC,KAAM,+FAIlBjM,IAAK,WAEDgM,QAAQC,KAAM,kGAM1BrP,OAAOsR,iBAAkB05D,GAAe9pE,WAEpCooF,UACInpF,IAAK,WAEDiP,QAAQC,KAAM,gGAIlBjM,IAAK,WAEDgM,QAAQC,KAAM,iGAItBikI,oBACInzI,IAAK,WAEDiP,QAAQC,KAAM,0GAIlBjM,IAAK,WAEDgM,QAAQC,KAAM,2GAItBkkI,mBACIpzI,IAAK,WAEDiP,QAAQC,KAAM,yGAIlBjM,IAAK,WAEDgM,QAAQC,KAAM,4GAS1BrP,OAAOsR,iBAAkB8iB,GAAkBlzB,WAEvCgyB,OACI/yB,IAAK,WAGD,OADAiP,QAAQC,KAAM,0DACP/I,KAAKmuB,QAAQvB,OAGxB9vB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,0DACd/I,KAAKmuB,QAAQvB,MAAQ3yB,IAI7B4yB,OACIhzB,IAAK,WAGD,OADAiP,QAAQC,KAAM,0DACP/I,KAAKmuB,QAAQtB,OAGxB/vB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,0DACd/I,KAAKmuB,QAAQtB,MAAQ5yB,IAI7B6yB,WACIjzB,IAAK,WAGD,OADAiP,QAAQC,KAAM,kEACP/I,KAAKmuB,QAAQrB,WAGxBhwB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,kEACd/I,KAAKmuB,QAAQrB,UAAY7yB,IAIjC8yB,WACIlzB,IAAK,WAGD,OADAiP,QAAQC,KAAM,kEACP/I,KAAKmuB,QAAQpB,WAGxBjwB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,kEACd/I,KAAKmuB,QAAQpB,UAAY9yB,IAIjCgzB,YACIpzB,IAAK,WAGD,OADAiP,QAAQC,KAAM,oEACP/I,KAAKmuB,QAAQlB,YAGxBnwB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,oEACd/I,KAAKmuB,QAAQlB,WAAahzB,IAIlCyJ,QACI7J,IAAK,WAGD,OADAiP,QAAQC,KAAM,4DACP/I,KAAKmuB,QAAQzqB,QAGxB5G,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4DACd/I,KAAKmuB,QAAQzqB,OAASzJ,IAI9BqzB,QACIzzB,IAAK,WAGD,OADAiP,QAAQC,KAAM,4DACP/I,KAAKmuB,QAAQb,QAGxBxwB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4DACd/I,KAAKmuB,QAAQb,OAASrzB,IAI9B+yB,QACInzB,IAAK,WAGD,OADAiP,QAAQC,KAAM,4DACP/I,KAAKmuB,QAAQnB,QAGxBlwB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,4DACd/I,KAAKmuB,QAAQnB,OAAS/yB,IAI9B+L,MACInM,IAAK,WAGD,OADAiP,QAAQC,KAAM,wDACP/I,KAAKmuB,QAAQnoB,MAGxBlJ,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,wDACd/I,KAAKmuB,QAAQnoB,KAAO/L,IAI5BszB,iBACI1zB,IAAK,WAGD,OADAiP,QAAQC,KAAM,8EACP/I,KAAKmuB,QAAQZ,iBAGxBzwB,IAAK,SAAW7C,GAEZ6O,QAAQC,KAAM,8EACd/I,KAAKmuB,QAAQZ,gBAAkBtzB,MAS3CP,OAAOsR,iBAAkBqoE,GAAaz4E,WAElCsyI,UACIpwI,IAAK,WAEDgM,QAAQC,KAAM,qDAItB8sE,YACI/4E,IAAK,WAEDgM,QAAQC,KAAM,yDAS1BokH,GAAMvyH,UAAU0yG,KAAO,SAAWlD,GAE9BthG,QAAQC,KAAM,0EACd,IAAI7F,EAAQlD,KAOZ,OANkB,IAAImsH,IACV7e,KAAMlD,EAAM,SAAW73D,GAE/BrvC,EAAMguH,UAAW3+E,KAGdvyC,MAIX+tH,GAAcnzH,UAAUuyI,QAAU,WAG9B,OADArkI,QAAQC,KAAM,+DACP/I,KAAK+yH,oBAMhBzG,GAAW1xH,UAAUwyI,cAAgB,SAAWjyI,EAAUD,GAGtD,OADA4N,QAAQC,KAAM,wDACP/I,KAAKS,OAAQtF,EAAUD,IAMlC,IAAImyI,IAEAhuG,MAAO,SAAWiuG,EAAW3mF,EAAWjI,GAGpC,IAAIn2C,EADJO,QAAQC,KAAM,mIAGT49C,EAAUlN,SAEXkN,EAAUnnD,kBAAoBmnD,EAAUpnD,eAExCgJ,EAASo+C,EAAUp+C,OACnBo+C,EAAYA,EAAUj0B,UAI1B46G,EAAUjuG,MAAOsnB,EAAWp+C,EAAQm2C,IAIxCzzC,OAAQ,SAAWynB,GAGf,OADA5pB,QAAQC,KAAM,6FACP2pB,EAASznB,WAMxB4gB,GAAW+jF,iBAAcjvG,EAEzBkrB,GAAWyjF,YAAc,SAAWr/E,EAAKtD,EAAS29E,EAAQE,GAEtD1hG,QAAQC,KAAM,wFAEd,IAAIsmG,EAAS,IAAIxD,GACjBwD,EAAOY,eAAgBjwG,KAAK4vG,aAE5B,IAAIzhF,EAAUkhF,EAAO/B,KAAMr9E,EAAKq6E,OAAQ3pG,EAAW6pG,GAInD,OAFK79E,IAAUwB,EAAQxB,QAAUA,GAE1BwB,GAIXtC,GAAW0hH,gBAAkB,SAAWr9B,EAAMvjF,EAAS29E,EAAQE,GAE3D1hG,QAAQC,KAAM,gGAEd,IAAIsmG,EAAS,IAAIzD,GACjByD,EAAOY,eAAgBjwG,KAAK4vG,aAE5B,IAAIzhF,EAAUkhF,EAAO/B,KAAM4C,EAAM5F,OAAQ3pG,EAAW6pG,GAIpD,OAFK79E,IAAUwB,EAAQxB,QAAUA,GAE1BwB,GAIXtC,GAAW2hH,sBAAwB,WAE/B1kI,QAAQgP,MAAO,0FAInB+T,GAAW4hH,0BAA4B,WAEnC3kI,QAAQgP,MAAO,8FAgDnB,IAAI41H,IAEAC,0BAA2B,WAEvB7kI,QAAQgP,MAAO,wEAInB81H,OAAQ,WAEJ9kI,QAAQgP,MAAO,wEAInB+1H,OAAQ,WAEJ/kI,QAAQgP,MAAO,yEAcvBhf,EAAQy1B,sBAAwBA,GAChCz1B,EAAQg1B,kBAAoBA,GAC5Bh1B,EAAQyD,cAAgBA,GACxBzD,EAAQ+2C,UAAYA,GACpB/2C,EAAQ4yC,YAAcA,GACtB5yC,EAAQsmC,cAAgBA,GACxBtmC,EAAQ8+B,YAAcA,GACtB9+B,EAAQwD,QAAUA,GAClBxD,EAAQs4F,IAAMA,GACdt4F,EAAQoD,MAAQA,GAChBpD,EAAQ04F,OAASA,GACjB14F,EAAQ24F,IAAMA,GACd34F,EAAQi5F,YAAcA,GACtBj5F,EAAQ64F,SAAWA,GACnB74F,EAAQg5F,KAAOA,GACfh5F,EAAQqG,KAAOA,GACfrG,EAAQ05F,aAAeA,GACvB15F,EAAQ25F,SAAWA,GACnB35F,EAAQy5F,KAAOA,GACfz5F,EAAQ45F,OAASA,GACjB55F,EAAQ85E,MAAQA,GAChB95E,EAAQ65F,aAAeA,GACvB75F,EAAQ41B,YAAcA,GACtB51B,EAAQqxD,cAAgBA,GACxBrxD,EAAQ+5F,kBAAoBA,GAC5B/5F,EAAQoxD,YAAcA,GACtBpxD,EAAQg6F,cAAgBA,GACxBh6F,EAAQi6F,aAAeA,GACvBj6F,EAAQ4zB,QAAUA,GAClB5zB,EAAQ0yG,wBAA0BA,GAClC1yG,EAAQ4yG,kBAAoBA,GAC5B5yG,EAAQ8yG,kBAAoBA,GAC5B9yG,EAAQ+yG,cAAgBA,GACxB/yG,EAAQisH,aAAeA,GACvBjsH,EAAQyhH,eAAiBA,GACzBzhH,EAAQ0hH,qBAAuBA,GAC/B1hH,EAAQsyG,sBAAwBA,GAChCtyG,EAAQuxG,eAAiBA,GACzBvxG,EAAQgsH,WAAaA,GACrBhsH,EAAQ6yG,YAAcA,GACtB7yG,EAAQ+uH,kBAAoBA,GAC5B/uH,EAAQmwH,WAAaA,GACrBnwH,EAAQwyG,WAAaA,GACrBxyG,EAAQkoH,OAASA,GACjBloH,EAAQwrH,YAAcA,GACtBxrH,EAAQoxG,MAAQA,GAChBpxG,EAAQqzH,YAAcA,GACtBrzH,EAAQ47G,gBAAkBA,GAC1B57G,EAAQ67G,UAAYA,GACpB77G,EAAQ+7G,WAAaA,GACrB/7G,EAAQk8G,cAAgBA,GACxBl8G,EAAQ07G,gBAAkBA,GAC1B17G,EAAQi8G,uBAAyBA,GACjCj8G,EAAQsH,iBAAmBA,GAC3BtH,EAAQuH,aAAeA,GACvBvH,EAAQ27G,YAAcA,GACtB37G,EAAQy7G,MAAQA,GAChBz7G,EAAQszH,aAAeA,GACvBtzH,EAAQ8D,kBAAoBA,GAC5B9D,EAAQg8G,mBAAqBA,GAC7Bh8G,EAAQwzH,WAAaA,GACrBxzH,EAAQq6E,YAAcA,GACtBr6E,EAAQ+5E,OAASA,GACjB/5E,EAAQg0H,cAAgBA,GACxBh0H,EAAQ80H,gBAAkBA,GAC1B90H,EAAQmzH,aAAeA,GACvBnzH,EAAQi1H,cAAgBA,GACxBj1H,EAAQq0H,MAAQA,GAChBr0H,EAAQghH,oBAAsBA,GAC9BhhH,EAAQ+gH,oBAAsBA,GAC9B/gH,EAAQ8gH,wBAA0BA,GAClC9gH,EAAQ4gH,oBAAsBA,GAC9B5gH,EAAQ2gH,mBAAqBA,GAC7B3gH,EAAQ0gH,qBAAuBA,GAC/B1gH,EAAQw1H,cAAgBA,GACxBx1H,EAAQk7H,gBAAkBA,GAC1Bl7H,EAAQogH,cAAgBA,GACxBpgH,EAAQo+G,eAAiBA,GACzBp+G,EAAQ07H,qBAAuBA,GAC/B17H,EAAQ89H,eAAiBA,GACzB99H,EAAQihH,cAAgBA,GACxBjhH,EAAQm+H,QAAUA,GAClBn+H,EAAQo+H,wBAA0BA,GAClCp+H,EAAQwqD,eAAiBA,GACzBxqD,EAAQwhD,SAAWA,GACnBxhD,EAAQw4F,2BAA6BA,GACrCx4F,EAAQq+H,2BAA6BA,GACrCr+H,EAAQu4F,kBAAoBA,GAC5Bv4F,EAAQs+H,yBAA2BA,GACnCt+H,EAAQy7C,MAAQA,GAChBz7C,EAAQm9C,SAAWA,GACnBn9C,EAAQu+H,UAAYA,GACpBv+H,EAAQg8C,OAASA,GACjBh8C,EAAQgS,gBAAkBA,EAC1BhS,EAAQ2+H,MAAQA,GAChB3+H,EAAQ6gH,4BAA8BA,GACtC7gH,EAAQkgH,kBAAoBA,GAC5BlgH,EAAQmgH,oBAAsBA,GAC9BngH,EAAQ6/G,iBAAmBA,GAC3B7/G,EAAQs/G,YAAcA,GACtBt/G,EAAQ4wD,SAAWA,GACnB5wD,EAAQwE,KAAOkY,GACf1c,EAAQ0N,UAAYA,GACpB1N,EAAQg/H,YAAcA,GACtBh/H,EAAQg2B,MAAQA,GAChBh2B,EAAQk2B,QAAUA,GAClBl2B,EAAQ+1B,OAASA,GACjB/1B,EAAQ0wD,IAAMA,GACd1wD,EAAQ8e,QAAUA,GAClB9e,EAAQsf,QAAUA,GAClBtf,EAAQ81B,KAAOA,GACf91B,EAAQi/H,KAAOA,GACfj/H,EAAQk/H,MAAQA,GAChBl/H,EAAQ67C,MAAQA,GAChB77C,EAAQ+0B,QAAUA,GAClB/0B,EAAQgI,QAAUA,GAClBhI,EAAQ4N,QAAUA,GAClB5N,EAAQ8K,WAAaA,GACrB9K,EAAQsD,MAAQA,GAChBtD,EAAQm/H,sBAAwBA,GAChCn/H,EAAQo/H,oBAAsBA,GAC9Bp/H,EAAQu/H,gBAAkBA,GAC1Bv/H,EAAQy/H,eAAiBA,GACzBz/H,EAAQ4/H,iBAAmBA,GAC3B5/H,EAAQ8/H,oBAAsBA,GAC9B9/H,EAAQ+/H,sBAAwBA,GAChC//H,EAAQggI,WAAaA,GACrBhgI,EAAQigI,gBAAkBA,GAC1BjgI,EAAQogI,kBAAoBA,GAC5BpgI,EAAQqgI,uBAAyBA,GACjCrgI,EAAQwgI,aAAeA,GACvBxgI,EAAQihI,UAAYA,GACpBjhI,EAAQkhI,WAAaA,GACrBlhI,EAAQmhI,YAAcA,GACtBnhI,EAAQohI,YAAcA,GACtBphI,EAAQwhI,WAAaA,GACrBxhI,EAAQw7G,MAAQA,GAChBx7G,EAAQs7G,KAAOA,GACft7G,EAAQkvH,UAAYA,GACpBlvH,EAAQqvH,KAAOA,GACfrvH,EAAQm7G,UAAYA,GACpBn7G,EAAQgzG,MAAQA,GAChBhzG,EAAQ+yB,WAAaA,GACrB/yB,EAAQ2mG,WAAaA,GACrB3mG,EAAQm3E,WAAaA,GACrBn3E,EAAQk6F,kBAAoBA,GAC5Bl6F,EAAQs6F,mBAAqBA,GAC7Bt6F,EAAQ06F,yBAA2BA,GACnC16F,EAAQo8F,oBAAsBA,GAC9Bp8F,EAAQq8F,0BAA4BA,GACpCr8F,EAAQs8F,mBAAqBA,GAC7Bt8F,EAAQu8F,yBAA2BA,GACnCv8F,EAAQw8F,oBAAsBA,GAC9Bx8F,EAAQy8F,0BAA4BA,GACpCz8F,EAAQ08F,qBAAuBA,GAC/B18F,EAAQ28F,2BAA6BA,GACrC38F,EAAQ86F,mBAAqBA,GAC7B96F,EAAQg7F,yBAA2BA,GACnCh7F,EAAQ48F,aAAeA,GACvB58F,EAAQk9F,mBAAqBA,GAC7Bl9F,EAAQ89F,kBAAoBA,GAC5B99F,EAAQi+F,wBAA0BA,GAClCj+F,EAAQ0+F,cAAgBA,GACxB1+F,EAAQ4+F,oBAAsBA,GAC9B5+F,EAAQ8sG,aAAeA,GACvB9sG,EAAQgtG,mBAAqBA,GAC7BhtG,EAAQ6E,eAAiBA,GACzB7E,EAAQwtG,qBAAuBA,GAC/BxtG,EAAQ4tG,aAAeA,GACvB5tG,EAAQiuG,mBAAqBA,GAC7BjuG,EAAQmsD,cAAgBA,GACxBnsD,EAAQosD,oBAAsBA,GAC9BpsD,EAAQquG,cAAgBA,GACxBruG,EAAQuuG,oBAAsBA,GAC9BvuG,EAAQ4uG,cAAgBA,GACxB5uG,EAAQ6uG,oBAAsBA,GAC9B7uG,EAAQqnG,gBAAkBA,GAC1BrnG,EAAQsnG,sBAAwBA,GAChCtnG,EAAQmvG,cAAgBA,GACxBnvG,EAAQswG,aAAeA,GACvBtwG,EAAQuwG,mBAAqBA,GAC7BvwG,EAAQyvG,iBAAmBA,GAC3BzvG,EAAQ2E,uBAAyBA,GACjC3E,EAAQwwG,eAAiBA,GACzBxwG,EAAQywG,qBAAuBA,GAC/BzwG,EAAQ2qD,YAAcA,GACtB3qD,EAAQ+qD,kBAAoBA,GAC5B/qD,EAAQ4mE,eAAiBA,GACzB5mE,EAAQ6mE,eAAiBA,GACzB7mE,EAAQ4wG,kBAAoBA,GAC5B5wG,EAAQ0vD,eAAiBA,GACzB1vD,EAAQ2mE,eAAiBA,GACzB3mE,EAAQumE,qBAAuBA,GAC/BvmE,EAAQsmE,qBAAuBA,GAC/BtmE,EAAQkF,kBAAoBA,GAC5BlF,EAAQqmE,iBAAmBA,GAC3BrmE,EAAQmmE,mBAAqBA,GAC7BnmE,EAAQomE,oBAAsBA,GAC9BpmE,EAAQimE,kBAAoBA,GAC5BjmE,EAAQkmE,qBAAuBA,GAC/BlmE,EAAQ6wD,kBAAoBA,GAC5B7wD,EAAQwmE,mBAAqBA,GAC7BxmE,EAAQ0mE,mBAAqBA,GAC7B1mE,EAAQymE,kBAAoBA,GAC5BzmE,EAAQiuD,SAAWA,GACnBjuD,EAAQqjD,uBAAyBA,GACjCrjD,EAAQojD,uBAAyBA,GACjCpjD,EAAQmjD,sBAAwBA,GAChCnjD,EAAQkjD,qBAAuBA,GAC/BljD,EAAQijD,sBAAwBA,GAChCjjD,EAAQgjD,qBAAuBA,GAC/BhjD,EAAQ8iD,4BAA8BA,GACtC9iD,EAAQ6iD,qBAAuBA,GAC/B7iD,EAAQ4iD,oBAAsBA,GAC9B5iD,EAAQyiD,gBAAkBA,GAC1BziD,EAAQ2zG,SAAWA,GACnB3zG,EAAQo5G,iBAAmBA,GAC3Bp5G,EAAQg6G,iBAAmBA,GAC3Bh6G,EAAQk6G,kBAAoBA,GAC5Bl6G,EAAQkzG,aAAeA,GACvBlzG,EAAQm6G,UAAYA,GACpBn6G,EAAQo6G,WAAaA,GACrBp6G,EAAQq6G,qBAAuBA,GAC/Br6G,EAAQs6G,sBAAwBA,GAChCt6G,EAAQu6G,YAAcA,GACtBv6G,EAAQ4U,SAAWA,EACnB5U,EAAQuJ,OAhj9CML,KAAM,EAAGM,OAAQ,EAAGJ,MAAO,GAij9CzCpJ,EAAQ6U,aAAeA,EACvB7U,EAAQ8U,aAAeA,EACvB9U,EAAQ+U,cAAgBA,EACxB/U,EAAQg1I,kBAhj9CgB,EAij9CxBh1I,EAAQi1I,qBAhj9CmB,EAij9C3Bj1I,EAAQk1I,sBAhj9CoB,EAij9C5Bl1I,EAAQm1I,eAhj9Ca,EAij9CrBn1I,EAAQgV,aAAeA,EACvBhV,EAAQiV,iBAAmBA,EAC3BjV,EAAQkV,UAAYA,EACpBlV,EAAQmV,SAAWA,EACnBnV,EAAQoV,WAAaA,EACrBpV,EAAQo1I,YAhj9CU,EAij9ClBp1I,EAAQq1I,cAhj9CY,EAij9CpBr1I,EAAQqV,SAAWA,EACnBrV,EAAQsV,WAAaA,EACrBtV,EAAQuV,aAAeA,EACvBvV,EAAQwV,WAAaA,EACrBxV,EAAQyV,eAAiBA,EACzBzV,EAAQ0V,iBAAmBA,EAC3B1V,EAAQ2V,oBAAsBA,EAC9B3V,EAAQ4V,iBAAmBA,EAC3B5V,EAAQ6V,eAAiBA,EACzB7V,EAAQ8V,YAAcA,EACtB9V,EAAQ+V,iBAAmBA,EAC3B/V,EAAQgW,wBAA0BA,EAClChW,EAAQiW,YAAcA,EACtBjW,EAAQkW,YAAcA,EACtBlW,EAAQmW,WAAaA,EACrBnW,EAAQoW,UAAYA,EACpBpW,EAAQqW,eAAiBA,EACzBrW,EAAQsW,uBAAyBA,EACjCtW,EAAQuW,eAAiBA,EACzBvW,EAAQwW,uBAAyBA,EACjCxW,EAAQyW,eAAiBA,EACzBzW,EAAQ0W,uBAAyBA,EACjC1W,EAAQ2W,eAAiBA,EACzB3W,EAAQ4W,uBAAyBA,EACjC5W,EAAQ6W,uBAAyBA,EACjC7W,EAAQ8W,WAAaA,EACrB9W,EAAQ+W,YAAcA,EACtB/W,EAAQgX,UAAYA,EACpBhX,EAAQiX,eAAiBA,EACzBjX,EAAQkX,WAAaA,EACrBlX,EAAQmX,kBAAoBA,EAC5BnX,EAAQoX,aAAeA,EACvBpX,EAAQqX,cAAgBA,EACxBrX,EAAQsX,kBAAoBA,EAC5BtX,EAAQuX,aAAeA,EACvBvX,EAAQwX,aAAeA,EACvBxX,EAAQyX,cAAgBA,EACxBzX,EAAQ0X,kBAAoBA,EAC5B1X,EAAQ2X,oBAAsBA,EAC9B3X,EAAQ4X,sBAAwBA,EAChC5X,EAAQ6X,kBAAoBA,EAC5B7X,EAAQ8uH,UAhj9CQ,IAij9ChB9uH,EAAQ8X,sBAAwBA,EAChC9X,EAAQ+X,sBAAwBA,GAChC/X,EAAQgY,iCAAmCA,GAC3ChY,EAAQiY,iCAAmCA,GAC3CjY,EAAQkY,2BAA6BA,GACrClY,EAAQmY,wBAA0BA,GAClCnY,EAAQoY,wBAA0BA,GAClCpY,EAAQqY,eAAiBA,GACzBrY,EAAQsY,oBAAsBA,GAC9BtY,EAAQuY,uBAAyBA,GACjCvY,EAAQwY,cAAgBA,GACxBxY,EAAQyY,2BAA6BA,GACrCzY,EAAQ0Y,0BAA4BA,GACpC1Y,EAAQ2Y,aAAeA,GACvB3Y,EAAQ4Y,0BAA4BA,GACpC5Y,EAAQ6Y,yBAA2BA,GACnC7Y,EAAQ8Y,iBAAmBA,GAC3B9Y,EAAQ+Y,SAAWA,GACnB/Y,EAAQgZ,UAAYA,GACpBhZ,EAAQiZ,kBAAoBA,GAC5BjZ,EAAQkZ,QAAUA,GAClBlZ,EAAQmZ,gBAAkBA,GAC1BnZ,EAAQoZ,UAAYA,GACpBpZ,EAAQqZ,cAAgBA,GACxBrZ,EAAQsZ,sBAAwBA,GAChCtZ,EAAQuZ,sBAAwBA,GAChCvZ,EAAQwZ,qBAAuBA,GAC/BxZ,EAAQyZ,mBAAqBA,GAC7BzZ,EAAQ0Z,YAAcA,GACtB1Z,EAAQ2Z,UAAYA,GACpB3Z,EAAQ4Z,WAAaA,GACrB5Z,EAAQ6Z,gBAAkBA,GAC1B7Z,EAAQ8Z,qBAAuBA,GAC/B9Z,EAAQ+Z,WAAaA,GACrB/Z,EAAQga,YAAcA,GACtBha,EAAQia,mBAAqBA,GAC7Bja,EAAQka,UAAYA,GACpBla,EAAQma,qBAAuBA,GAC/Bna,EAAQoa,sBAAwBA,GAChCpa,EAAQqa,sBAAwBA,GAChCra,EAAQsa,sBAAwBA,GAChCta,EAAQua,wBAA0BA,GAClCva,EAAQwa,wBAA0BA,GAClCxa,EAAQya,yBAA2BA,GACnCza,EAAQ0a,yBAA2BA,GACnC1a,EAAQ2a,gBAAkBA,GAC1B3a,EAAQ4a,qBAAuBA,GAC/B5a,EAAQ6a,qBAAuBA,GAC/B7a,EAAQ8a,qBAAuBA,GAC/B9a,EAAQ+a,qBAAuBA,GAC/B/a,EAAQgb,qBAAuBA,GAC/Bhb,EAAQib,qBAAuBA,GAC/Bjb,EAAQkb,qBAAuBA,GAC/Blb,EAAQmb,qBAAuBA,GAC/Bnb,EAAQob,sBAAwBA,GAChCpb,EAAQqb,sBAAwBA,GAChCrb,EAAQsb,sBAAwBA,GAChCtb,EAAQub,uBAAyBA,GACjCvb,EAAQwb,uBAAyBA,GACjCxb,EAAQyb,uBAAyBA,GACjCzb,EAAQs1I,SAhj9CO,KAij9Cft1I,EAAQ0b,WAAaA,GACrB1b,EAAQu1I,aAhj9CW,KAij9CnBv1I,EAAQw1I,oBAhj9CkB,KAij9C1Bx1I,EAAQy1I,kBAhj9CgB,KAij9CxBz1I,EAAQ01I,kBAhj9CgB,KAij9CxB11I,EAAQ2b,oBAAsBA,GAC9B3b,EAAQ21I,gBAhj9Cc,KAij9CtB31I,EAAQ41I,iBAhj9Ce,KAij9CvB51I,EAAQ4b,kBAAoBA,GAC5B5b,EAAQ6b,sBAAwBA,GAChC7b,EAAQ8b,oBAAsBA,GAC9B9b,EAAQ+b,eAAiBA,GACzB/b,EAAQgc,aAAeA,GACvBhc,EAAQic,cAAgBA,GACxBjc,EAAQkc,aAAeA,GACvBlc,EAAQ61I,eAhj9Ca,KAij9CrB71I,EAAQmc,cAAgBA,GACxBnc,EAAQoc,eAAiBA,GACzBpc,EAAQqc,aAAeA,GACvBrc,EAAQsc,kBAAoBA,GAC5Btc,EAAQuc,iBAAmBA,GAC3Bvc,EAAQwc,sBAAwBA,GAChCxc,EAAQyc,qBAAuBA,GAC/Bzc,EAAQgF,aAAe2lD,GACvB3qD,EAAQ81I,MA/oER,SAAgB31H,EAAGC,EAAG7f,EAAGC,EAAGmxB,EAAQxsB,EAAOu2C,GAGvC,OADA1rC,QAAQC,KAAM,wEACP,IAAIwrC,GAAOt7B,EAAGC,EAAG7f,EAAGoxB,EAAQxsB,EAAOu2C,IA6oE9C17C,EAAQ+1I,UAzoEQ,EA0oEhB/1I,EAAQg2I,WAxoES,EAyoEjBh2I,EAAQi2I,iBAvoER,SAA2B51F,GAGvB,OADArwC,QAAQC,KAAM,kEACPowC,GAqoEXrgD,EAAQk2I,cAjoER,SAAwB71F,GAYpB,YAVmBx4C,IAAdw4C,IAA0BA,MAE/BrwC,QAAQC,KAAM,+DACdowC,EAAUqY,iBAAkB,EAC5BrY,EAAUA,UAAYA,EACtBA,EAAU32C,MAAQ,WAEd,OAAO22C,EAAU1rC,SAGd0rC,GAsnEXrgD,EAAQw+H,WAlnER,SAAqB5kG,EAAU30B,GAG3B,OADA+K,QAAQC,KAAM,sDACP,IAAI2pF,GAAQhgE,EAAU30B,IAgnEjCjF,EAAQm2I,SA5mER,SAAmBlxI,GAGf,OADA+K,QAAQC,KAAM,oDACP,IAAIyoF,GAAQzzF,IA0mEvBjF,EAAQo2I,eAtmER,SAAyBx8G,EAAU30B,GAG/B,OADA+K,QAAQC,KAAM,0DACP,IAAI2pF,GAAQhgE,EAAU30B,IAomEjCjF,EAAQq2I,mBAhmER,SAA6Bv1F,GAGzB,OADA9wC,QAAQC,KAAM,sEACP,IAAI02D,GAAgB7lB,IA8lE/B9gD,EAAQs2I,sBA1lER,SAAgCx1F,GAG5B,OADA9wC,QAAQC,KAAM,yEACP,IAAI02D,GAAgB7lB,IAwlE/B9gD,EAAQu2I,uBAplER,SAAiCz1F,GAG7B,OADA9wC,QAAQC,KAAM,0EACP,IAAI02D,GAAgB7lB,IAklE/B9gD,EAAQw2I,OA9kER,SAAiBlwI,EAAGC,EAAGC,GAGnB,OADAwJ,QAAQC,KAAM,6DACP,IAAIjI,GAAS1B,EAAGC,EAAGC,IA4kE9BxG,EAAQy2I,uBAtkER,SAAiC/hI,EAAOguC,GAGpC,OADA1yC,QAAQC,KAAM,8GACP,IAAIwyC,GAAiB/tC,EAAOguC,GAAWsG,YAAY,IAokE9DhpD,EAAQ02I,cAhkER,SAAwBhiI,EAAOguC,GAG3B,OADA1yC,QAAQC,KAAM,sFACP,IAAI2yC,GAAqBluC,EAAOguC,IA8jE3C1iD,EAAQ22I,eA1jER,SAAyBjiI,EAAOguC,GAG5B,OADA1yC,QAAQC,KAAM,wFACP,IAAI4yC,GAAsBnuC,EAAOguC,IAwjE5C1iD,EAAQ42I,sBApjER,SAAgCliI,EAAOguC,GAGnC,OADA1yC,QAAQC,KAAM,sGACP,IAAI6yC,GAA6BpuC,EAAOguC,IAkjEnD1iD,EAAQ62I,eA9iER,SAAyBniI,EAAOguC,GAG5B,OADA1yC,QAAQC,KAAM,wFACP,IAAI+yC,GAAsBtuC,EAAOguC,IA4iE5C1iD,EAAQ82I,gBAxiER,SAA0BpiI,EAAOguC,GAG7B,OADA1yC,QAAQC,KAAM,0FACP,IAAIgzC,GAAuBvuC,EAAOguC,IAsiE7C1iD,EAAQ+2I,eAliER,SAAyBriI,EAAOguC,GAG5B,OADA1yC,QAAQC,KAAM,wFACP,IAAIizC,GAAsBxuC,EAAOguC,IAgiE5C1iD,EAAQg3I,gBA5hER,SAA0BtiI,EAAOguC,GAG7B,OADA1yC,QAAQC,KAAM,0FACP,IAAIkzC,GAAuBzuC,EAAOguC,IA0hE7C1iD,EAAQi3I,iBAthER,SAA2BviI,EAAOguC,GAG9B,OADA1yC,QAAQC,KAAM,4FACP,IAAImzC,GAAwB1uC,EAAOguC,IAohE9C1iD,EAAQk3I,iBAhhER,SAA2BxiI,EAAOguC,GAG9B,OADA1yC,QAAQC,KAAM,4FACP,IAAIozC,GAAwB3uC,EAAOguC,IA8gE9C1iD,EAAQwuI,mBAAqBA,GAC7BxuI,EAAQyuI,aAAeA,GACvBzuI,EAAQ0uI,OAASA,GACjB1uI,EAAQm3I,WAv4DR,SAAqBp+G,GAGjB,OADA/oB,QAAQC,KAAM,0DACP,IAAIuxH,GAAYzoG,IAq4D3B/4B,EAAQo3I,kBAj4DR,SAA4Bx1I,EAAQuD,GAGhC,OADA6K,QAAQC,KAAM,oFACP,IAAIgxH,GAAWr/H,EAAQuD,IA+3DlCnF,EAAQq3I,YA33DR,SAAsBz1I,EAAQ0uC,GAG1B,OADAtgC,QAAQC,KAAM,wEACP,IAAIypF,GAAc,IAAIyV,GAAevtG,EAAOg4B,UAAY,IAAI6sC,IAAqBthE,WAAe0C,IAARyoC,EAAoBA,EAAM,aAy3D7HtwC,EAAQs3I,gBAz2DR,SAA0B11I,EAAQ0uC,GAG9B,OADAtgC,QAAQC,KAAM,gFACP,IAAIypF,GAAc,IAAIQ,GAAmBt4F,EAAOg4B,UAAY,IAAI6sC,IAAqBthE,WAAe0C,IAARyoC,EAAoBA,EAAM,aAu2DjItwC,EAAQu3I,UAt1DR,SAAoB9kC,GAGhB,OADAziG,QAAQC,KAAM,yDACP,IAAIuiG,GAAYC,IAo1D3BzyG,EAAQw3I,oBAh1DR,SAA8B/kC,GAG1B,OADAziG,QAAQC,KAAM,0EACP,IAAI2iG,GAAmBH,IA80DlCzyG,EAAQu0I,cAAgBA,GACxBv0I,EAAQy3I,UAxdR,WAEIznI,QAAQgP,MAAO,0EAEf9X,KAAKwwI,cAAgB,SAAW1sH,EAAQ9oB,GAEpC8N,QAAQC,KAAM,8DACd+a,EAAO2F,QAASzuB,IAIpBgF,KAAKywI,gBAAkB,SAAW3sH,EAAQ9oB,GAEtC8N,QAAQC,KAAM,kEACd+a,EAAO8F,UAAW5uB,IAItBgF,KAAK0wI,WAAa,WAEd5nI,QAAQgP,MAAO,sEAqcvBhf,EAAQ63I,eA7bR,WAEI7nI,QAAQgP,MAAO,mFAEf9X,KAAKrD,WAAad,SAASqwB,gBAAiB,+BAAgC,UAC5ElsB,KAAKkoE,MAAQ,aACbloE,KAAKU,OAAS,aACdV,KAAKomF,cAAgB,aACrBpmF,KAAKtE,QAAU,cAsbnB5C,EAAQ40I,WAAaA,GACrB50I,EAAQ83I,UAzZR,WAEI9nI,QAAQgP,MAAO,wEAyZnBpe,OAAOC,eAAeb,EAAS,cAAgBmB,OAAO\",\"sourcesContent\":[\" \\t// The module cache\\n \\tvar installedModules = {};\\n\\n \\t// The require function\\n \\tfunction __webpack_require__(moduleId) {\\n\\n \\t\\t// Check if module is in cache\\n \\t\\tif(installedModules[moduleId]) {\\n \\t\\t\\treturn installedModules[moduleId].exports;\\n \\t\\t}\\n \\t\\t// Create a new module (and put it into the cache)\\n \\t\\tvar module = installedModules[moduleId] = {\\n \\t\\t\\ti: moduleId,\\n \\t\\t\\tl: false,\\n \\t\\t\\texports: {}\\n \\t\\t};\\n\\n \\t\\t// Execute the module function\\n \\t\\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\\n\\n \\t\\t// Flag the module as loaded\\n \\t\\tmodule.l = true;\\n\\n \\t\\t// Return the exports of the module\\n \\t\\treturn module.exports;\\n \\t}\\n\\n\\n \\t// expose the modules object (__webpack_modules__)\\n \\t__webpack_require__.m = modules;\\n\\n \\t// expose the module cache\\n \\t__webpack_require__.c = installedModules;\\n\\n \\t// define getter function for harmony exports\\n \\t__webpack_require__.d = function(exports, name, getter) {\\n \\t\\tif(!__webpack_require__.o(exports, name)) {\\n \\t\\t\\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\\n \\t\\t}\\n \\t};\\n\\n \\t// define __esModule on exports\\n \\t__webpack_require__.r = function(exports) {\\n \\t\\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\\n \\t\\t\\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\\n \\t\\t}\\n \\t\\tObject.defineProperty(exports, '__esModule', { value: true });\\n \\t};\\n\\n \\t// create a fake namespace object\\n \\t// mode & 1: value is a module id, require it\\n \\t// mode & 2: merge all properties of value into the ns\\n \\t// mode & 4: return value when already ns object\\n \\t// mode & 8|1: behave like require\\n \\t__webpack_require__.t = function(value, mode) {\\n \\t\\tif(mode & 1) value = __webpack_require__(value);\\n \\t\\tif(mode & 8) return value;\\n \\t\\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\\n \\t\\tvar ns = Object.create(null);\\n \\t\\t__webpack_require__.r(ns);\\n \\t\\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\\n \\t\\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\\n \\t\\treturn ns;\\n \\t};\\n\\n \\t// getDefaultExport function for compatibility with non-harmony modules\\n \\t__webpack_require__.n = function(module) {\\n \\t\\tvar getter = module && module.__esModule ?\\n \\t\\t\\tfunction getDefault() { return module['default']; } :\\n \\t\\t\\tfunction getModuleExports() { return module; };\\n \\t\\t__webpack_require__.d(getter, 'a', getter);\\n \\t\\treturn getter;\\n \\t};\\n\\n \\t// Object.prototype.hasOwnProperty.call\\n \\t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\\n\\n \\t// __webpack_public_path__\\n \\t__webpack_require__.p = \\\"\\\";\\n\\n\\n \\t// Load entry module and return exports\\n \\treturn __webpack_require__(__webpack_require__.s = 0);\\n\",\"import './OrbitControls';\\r\\nimport './WebGL';\\r\\nimport './three.js';\\r\\n\\r\\nif (WEBGL.isWebGLAvailable() === false) {\\r\\n    document.body.appendChild(WEBGL.getWebGLErrorMessage());\\r\\n}\\r\\nvar camera, controls, scene, renderer;\\r\\ninit();\\r\\n//render(); // remove when using next line for animation loop (requestAnimationFrame)\\r\\nanimate();\\r\\n\\r\\n\\r\\nfunction init() {\\r\\n    scene = new THREE.Scene();\\r\\n    scene.background = new THREE.Color(0xffffff);\\r\\n    scene.fog = new THREE.FogExp2(0xcccccc, 0.002);\\r\\n    renderer = new THREE.WebGLRenderer({antialias: true});\\r\\n    renderer.setPixelRatio(window.devicePixelRatio);\\r\\n    renderer.setSize(window.innerWidth, window.innerHeight);\\r\\n    document.body.appendChild(renderer.domElement);\\r\\n    camera = new THREE.PerspectiveCamera(90, window.innerWidth / window.innerHeight, 0.1, 1000);\\r\\n    camera.position.set(-170, 170, 40);\\r\\n\\r\\n    // controls\\r\\n    controls = new THREE.OrbitControls(camera, renderer.domElement);\\r\\n\\r\\n\\r\\n    //controls.addEventListener( 'change', render ); // call this only in static scenes (i.e., if there is no animation loop)\\r\\n    controls.enableDamping = true; // an animation loop is required when either damping or auto-rotation are enabled\\r\\n    controls.dampingFactor = 0.25;\\r\\n    controls.screenSpacePanning = false;\\r\\n    controls.minDistance = 10;\\r\\n    controls.maxDistance = 50;\\r\\n    controls.maxPolarAngle = Math.PI / 2;\\r\\n\\r\\n\\r\\n    // world\\r\\n    var geometryCylinder = new THREE.CylinderBufferGeometry(0, 10, 30, 4, 1);\\r\\n    var geometrySphere = new THREE.SphereGeometry(4, Math.random() * 12, Math.random() * 12);\\r\\n    var geometryCube = new THREE.CubeGeometry(4, 4, 4);\\r\\n    // geometryCube.scale(10,10,10);\\r\\n    var material = new THREE.MeshPhongMaterial({color: 0xffffff, flatShading: true});\\r\\n\\r\\n\\r\\n    var createBtn = document.querySelector(\\\".create\\\");\\r\\n    var selectInput = document.querySelector(\\\"#figure-type\\\");\\r\\n    var selectOptions = {\\r\\n        cube: 'cube',\\r\\n        sphere: 'sphere',\\r\\n        pyramid: 'pyramid'\\r\\n    };\\r\\n    var scaleInput = document.querySelector(\\\"#scale\\\");\\r\\n    var idList = document.querySelector(\\\".list\\\");\\r\\n    var listItems = document.querySelectorAll('.list-item');\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    createBtn.addEventListener(\\\"click\\\", function (e) {\\r\\n        e.preventDefault();\\r\\n        var mesh;\\r\\n\\r\\n        if (selectInput.value === selectOptions.cube) {\\r\\n            if(scaleInput.value) {\\r\\n                geometryCube.scale(scaleInput.value,scaleInput.value,scaleInput.value);\\r\\n                scaleInput.value=1;\\r\\n            }\\r\\n\\r\\n            mesh = new THREE.Mesh(geometryCube, material);\\r\\n\\r\\n        }\\r\\n        else if (selectInput.value === selectOptions.sphere) {\\r\\n            if(scaleInput.value) {\\r\\n                geometrySphere.scale(scaleInput.value,scaleInput.value,scaleInput.value);\\r\\n                scaleInput.value=1;\\r\\n            }\\r\\n            mesh = new THREE.Mesh(geometrySphere, material);\\r\\n        }\\r\\n        else  {\\r\\n            if(scaleInput.value) {\\r\\n                geometryCylinder.scale(scaleInput.value,scaleInput.value,scaleInput.value);\\r\\n                scaleInput.value=1;\\r\\n            }\\r\\n            mesh = new THREE.Mesh(geometryCylinder, material);\\r\\n        }\\r\\n\\r\\n\\r\\n\\r\\n        // mesh.position.x = Math.random() * 1600 - 800;\\r\\n        // mesh.position.y = 0;\\r\\n        // mesh.position.z = Math.random() * 1600 - 800;\\r\\n        mesh.position.x = Math.random() * 300;\\r\\n        mesh.position.y = 0;\\r\\n        mesh.position.z = Math.random() * 300;\\r\\n        mesh.updateMatrix();\\r\\n        mesh.matrixAutoUpdate = false;\\r\\n        scene.add(mesh);\\r\\n        var listItem = document.createElement(\\\"li\\\");\\r\\n        listItem.setAttribute('id', mesh.uuid);\\r\\n        listItem.innerHTML = '<span>' + mesh.uuid + '</span>' + '<div class=\\\"close\\\">X</div>';\\r\\n        idList.appendChild(listItem);\\r\\n\\r\\n        (function(){\\r\\n            listItems = document.querySelectorAll('.list li');\\r\\n            listItems[listItems.length - 1].querySelector('.close').addEventListener('click', function () {\\r\\n                this.parentElement.remove();\\r\\n                scene.remove(mesh);\\r\\n            })\\r\\n        })();\\r\\n    });\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n    // lights\\r\\n    var light = new THREE.DirectionalLight(0xffffff);\\r\\n    light.position.set(1, 1, 1);\\r\\n    scene.add(light);\\r\\n    var light = new THREE.DirectionalLight(0x002288);\\r\\n    light.position.set(-1, -1, -1);\\r\\n    scene.add(light);\\r\\n    var light = new THREE.AmbientLight(0x222222);\\r\\n    scene.add(light);\\r\\n    //\\r\\n    window.addEventListener('resize', onWindowResize, false);\\r\\n}\\r\\n\\r\\n\\r\\nfunction onWindowResize() {\\r\\n    camera.aspect = window.innerWidth / window.innerHeight;\\r\\n    camera.updateProjectionMatrix();\\r\\n    renderer.setSize(window.innerWidth, window.innerHeight);\\r\\n}\\r\\n\\r\\nfunction animate() {\\r\\n    requestAnimationFrame(animate);\\r\\n    controls.update(); // only required if controls.enableDamping = true, or if controls.autoRotate = true\\r\\n    render();\\r\\n}\\r\\n\\r\\nfunction render() {\\r\\n    renderer.render(scene, camera);\\r\\n}\\r\\n\",\"/**\\r\\n * @author qiao / https://github.com/qiao\\r\\n * @author mrdoob / http://mrdoob.com\\r\\n * @author alteredq / http://alteredqualia.com/\\r\\n * @author WestLangley / http://github.com/WestLangley\\r\\n * @author erich666 / http://erichaines.com\\r\\n */\\r\\n\\r\\n// This set of controls performs orbiting, dollying (zooming), and panning.\\r\\n// Unlike TrackballControls, it maintains the \\\"up\\\" direction object.up (+Y by default).\\r\\n//\\r\\n//    Orbit - left mouse / touch: one-finger move\\r\\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\\r\\n//    Pan - right mouse, or left mouse + ctrl/metaKey, or arrow keys / touch: two-finger move\\r\\n\\r\\nTHREE.OrbitControls = function ( object, domElement ) {\\r\\n\\r\\n    this.object = object;\\r\\n\\r\\n    this.domElement = ( domElement !== undefined ) ? domElement : document;\\r\\n\\r\\n    // Set to false to disable this control\\r\\n    this.enabled = true;\\r\\n\\r\\n    // \\\"target\\\" sets the location of focus, where the object orbits around\\r\\n    this.target = new THREE.Vector3();\\r\\n\\r\\n    // How far you can dolly in and out ( PerspectiveCamera only )\\r\\n    this.minDistance = 0;\\r\\n    this.maxDistance = Infinity;\\r\\n\\r\\n    // How far you can zoom in and out ( OrthographicCamera only )\\r\\n    this.minZoom = 0;\\r\\n    this.maxZoom = Infinity;\\r\\n\\r\\n    // How far you can orbit vertically, upper and lower limits.\\r\\n    // Range is 0 to Math.PI radians.\\r\\n    this.minPolarAngle = 0; // radians\\r\\n    this.maxPolarAngle = Math.PI; // radians\\r\\n\\r\\n    // How far you can orbit horizontally, upper and lower limits.\\r\\n    // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\\r\\n    this.minAzimuthAngle = - Infinity; // radians\\r\\n    this.maxAzimuthAngle = Infinity; // radians\\r\\n\\r\\n    // Set to true to enable damping (inertia)\\r\\n    // If damping is enabled, you must call controls.update() in your animation loop\\r\\n    this.enableDamping = false;\\r\\n    this.dampingFactor = 0.25;\\r\\n\\r\\n    // This option actually enables dollying in and out; left as \\\"zoom\\\" for backwards compatibility.\\r\\n    // Set to false to disable zooming\\r\\n    this.enableZoom = true;\\r\\n    this.zoomSpeed = 1.0;\\r\\n\\r\\n    // Set to false to disable rotating\\r\\n    this.enableRotate = true;\\r\\n    this.rotateSpeed = 1.0;\\r\\n\\r\\n    // Set to false to disable panning\\r\\n    this.enablePan = true;\\r\\n    this.panSpeed = 1.0;\\r\\n    this.screenSpacePanning = false; // if true, pan in screen-space\\r\\n    this.keyPanSpeed = 7.0;\\t// pixels moved per arrow key push\\r\\n\\r\\n    // Set to true to automatically rotate around the target\\r\\n    // If auto-rotate is enabled, you must call controls.update() in your animation loop\\r\\n    this.autoRotate = false;\\r\\n    this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\\r\\n\\r\\n    // Set to false to disable use of the keys\\r\\n    this.enableKeys = true;\\r\\n\\r\\n    // The four arrow keys\\r\\n    this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\\r\\n\\r\\n    // Mouse buttons\\r\\n    this.mouseButtons = { LEFT: THREE.MOUSE.LEFT, MIDDLE: THREE.MOUSE.MIDDLE, RIGHT: THREE.MOUSE.RIGHT };\\r\\n\\r\\n    // for reset\\r\\n    this.target0 = this.target.clone();\\r\\n    this.position0 = this.object.position.clone();\\r\\n    this.zoom0 = this.object.zoom;\\r\\n\\r\\n    //\\r\\n    // public methods\\r\\n    //\\r\\n\\r\\n    this.getPolarAngle = function () {\\r\\n\\r\\n        return spherical.phi;\\r\\n\\r\\n    };\\r\\n\\r\\n    this.getAzimuthalAngle = function () {\\r\\n\\r\\n        return spherical.theta;\\r\\n\\r\\n    };\\r\\n\\r\\n    this.saveState = function () {\\r\\n\\r\\n        scope.target0.copy( scope.target );\\r\\n        scope.position0.copy( scope.object.position );\\r\\n        scope.zoom0 = scope.object.zoom;\\r\\n\\r\\n    };\\r\\n\\r\\n    this.reset = function () {\\r\\n\\r\\n        scope.target.copy( scope.target0 );\\r\\n        scope.object.position.copy( scope.position0 );\\r\\n        scope.object.zoom = scope.zoom0;\\r\\n\\r\\n        scope.object.updateProjectionMatrix();\\r\\n        scope.dispatchEvent( changeEvent );\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n        state = STATE.NONE;\\r\\n\\r\\n    };\\r\\n\\r\\n    // this method is exposed, but perhaps it would be better if we can make it private...\\r\\n    this.update = function () {\\r\\n\\r\\n        var offset = new THREE.Vector3();\\r\\n\\r\\n        // so camera.up is the orbit axis\\r\\n        var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\\r\\n        var quatInverse = quat.clone().inverse();\\r\\n\\r\\n        var lastPosition = new THREE.Vector3();\\r\\n        var lastQuaternion = new THREE.Quaternion();\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            var position = scope.object.position;\\r\\n\\r\\n            offset.copy( position ).sub( scope.target );\\r\\n\\r\\n            // rotate offset to \\\"y-axis-is-up\\\" space\\r\\n            offset.applyQuaternion( quat );\\r\\n\\r\\n            // angle from z-axis around y-axis\\r\\n            spherical.setFromVector3( offset );\\r\\n\\r\\n            if ( scope.autoRotate && state === STATE.NONE ) {\\r\\n\\r\\n                rotateLeft( getAutoRotationAngle() );\\r\\n\\r\\n            }\\r\\n\\r\\n            spherical.theta += sphericalDelta.theta;\\r\\n            spherical.phi += sphericalDelta.phi;\\r\\n\\r\\n            // restrict theta to be between desired limits\\r\\n            spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\\r\\n\\r\\n            // restrict phi to be between desired limits\\r\\n            spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\\r\\n\\r\\n            spherical.makeSafe();\\r\\n\\r\\n\\r\\n            spherical.radius *= scale;\\r\\n\\r\\n            // restrict radius to be between desired limits\\r\\n            spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\\r\\n\\r\\n            // move target to panned location\\r\\n            scope.target.add( panOffset );\\r\\n\\r\\n            offset.setFromSpherical( spherical );\\r\\n\\r\\n            // rotate offset back to \\\"camera-up-vector-is-up\\\" space\\r\\n            offset.applyQuaternion( quatInverse );\\r\\n\\r\\n            position.copy( scope.target ).add( offset );\\r\\n\\r\\n            scope.object.lookAt( scope.target );\\r\\n\\r\\n            if ( scope.enableDamping === true ) {\\r\\n\\r\\n                sphericalDelta.theta *= ( 1 - scope.dampingFactor );\\r\\n                sphericalDelta.phi *= ( 1 - scope.dampingFactor );\\r\\n\\r\\n                panOffset.multiplyScalar( 1 - scope.dampingFactor );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                sphericalDelta.set( 0, 0, 0 );\\r\\n\\r\\n                panOffset.set( 0, 0, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            scale = 1;\\r\\n\\r\\n            // update condition is:\\r\\n            // min(camera displacement, camera rotation in radians)^2 > EPS\\r\\n            // using small-angle approximation cos(x/2) = 1 - x^2 / 8\\r\\n\\r\\n            if ( zoomChanged ||\\r\\n                lastPosition.distanceToSquared( scope.object.position ) > EPS ||\\r\\n                8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\\r\\n\\r\\n                scope.dispatchEvent( changeEvent );\\r\\n\\r\\n                lastPosition.copy( scope.object.position );\\r\\n                lastQuaternion.copy( scope.object.quaternion );\\r\\n                zoomChanged = false;\\r\\n\\r\\n                return true;\\r\\n\\r\\n            }\\r\\n\\r\\n            return false;\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    this.dispose = function () {\\r\\n\\r\\n        scope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\\r\\n        scope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\\r\\n        scope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\\r\\n\\r\\n        scope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\\r\\n        scope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\\r\\n        scope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\\r\\n\\r\\n        document.removeEventListener( 'mousemove', onMouseMove, false );\\r\\n        document.removeEventListener( 'mouseup', onMouseUp, false );\\r\\n\\r\\n        window.removeEventListener( 'keydown', onKeyDown, false );\\r\\n\\r\\n        //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n    // internals\\r\\n    //\\r\\n\\r\\n    var scope = this;\\r\\n\\r\\n    var changeEvent = { type: 'change' };\\r\\n    var startEvent = { type: 'start' };\\r\\n    var endEvent = { type: 'end' };\\r\\n\\r\\n    var STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY_PAN: 4 };\\r\\n\\r\\n    var state = STATE.NONE;\\r\\n\\r\\n    var EPS = 0.000001;\\r\\n\\r\\n    // current position in spherical coordinates\\r\\n    var spherical = new THREE.Spherical();\\r\\n    var sphericalDelta = new THREE.Spherical();\\r\\n\\r\\n    var scale = 1;\\r\\n    var panOffset = new THREE.Vector3();\\r\\n    var zoomChanged = false;\\r\\n\\r\\n    var rotateStart = new THREE.Vector2();\\r\\n    var rotateEnd = new THREE.Vector2();\\r\\n    var rotateDelta = new THREE.Vector2();\\r\\n\\r\\n    var panStart = new THREE.Vector2();\\r\\n    var panEnd = new THREE.Vector2();\\r\\n    var panDelta = new THREE.Vector2();\\r\\n\\r\\n    var dollyStart = new THREE.Vector2();\\r\\n    var dollyEnd = new THREE.Vector2();\\r\\n    var dollyDelta = new THREE.Vector2();\\r\\n\\r\\n    function getAutoRotationAngle() {\\r\\n\\r\\n        return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\\r\\n\\r\\n    }\\r\\n\\r\\n    function getZoomScale() {\\r\\n\\r\\n        return Math.pow( 0.95, scope.zoomSpeed );\\r\\n\\r\\n    }\\r\\n\\r\\n    function rotateLeft( angle ) {\\r\\n\\r\\n        sphericalDelta.theta -= angle;\\r\\n\\r\\n    }\\r\\n\\r\\n    function rotateUp( angle ) {\\r\\n\\r\\n        sphericalDelta.phi -= angle;\\r\\n\\r\\n    }\\r\\n\\r\\n    var panLeft = function () {\\r\\n\\r\\n        var v = new THREE.Vector3();\\r\\n\\r\\n        return function panLeft( distance, objectMatrix ) {\\r\\n\\r\\n            v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\\r\\n            v.multiplyScalar( - distance );\\r\\n\\r\\n            panOffset.add( v );\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    var panUp = function () {\\r\\n\\r\\n        var v = new THREE.Vector3();\\r\\n\\r\\n        return function panUp( distance, objectMatrix ) {\\r\\n\\r\\n            if ( scope.screenSpacePanning === true ) {\\r\\n\\r\\n                v.setFromMatrixColumn( objectMatrix, 1 );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                v.setFromMatrixColumn( objectMatrix, 0 );\\r\\n                v.crossVectors( scope.object.up, v );\\r\\n\\r\\n            }\\r\\n\\r\\n            v.multiplyScalar( distance );\\r\\n\\r\\n            panOffset.add( v );\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    // deltaX and deltaY are in pixels; right and down are positive\\r\\n    var pan = function () {\\r\\n\\r\\n        var offset = new THREE.Vector3();\\r\\n\\r\\n        return function pan( deltaX, deltaY ) {\\r\\n\\r\\n            var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\\r\\n\\r\\n            if ( scope.object.isPerspectiveCamera ) {\\r\\n\\r\\n                // perspective\\r\\n                var position = scope.object.position;\\r\\n                offset.copy( position ).sub( scope.target );\\r\\n                var targetDistance = offset.length();\\r\\n\\r\\n                // half of the fov is center to top of screen\\r\\n                targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\\r\\n\\r\\n                // we use only clientHeight here so aspect ratio does not distort speed\\r\\n                panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\\r\\n                panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\\r\\n\\r\\n            } else if ( scope.object.isOrthographicCamera ) {\\r\\n\\r\\n                // orthographic\\r\\n                panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\\r\\n                panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // camera neither orthographic nor perspective\\r\\n                console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\\r\\n                scope.enablePan = false;\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    function dollyIn( dollyScale ) {\\r\\n\\r\\n        if ( scope.object.isPerspectiveCamera ) {\\r\\n\\r\\n            scale /= dollyScale;\\r\\n\\r\\n        } else if ( scope.object.isOrthographicCamera ) {\\r\\n\\r\\n            scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\\r\\n            scope.object.updateProjectionMatrix();\\r\\n            zoomChanged = true;\\r\\n\\r\\n        } else {\\r\\n\\r\\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\\r\\n            scope.enableZoom = false;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function dollyOut( dollyScale ) {\\r\\n\\r\\n        if ( scope.object.isPerspectiveCamera ) {\\r\\n\\r\\n            scale *= dollyScale;\\r\\n\\r\\n        } else if ( scope.object.isOrthographicCamera ) {\\r\\n\\r\\n            scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\\r\\n            scope.object.updateProjectionMatrix();\\r\\n            zoomChanged = true;\\r\\n\\r\\n        } else {\\r\\n\\r\\n            console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\\r\\n            scope.enableZoom = false;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n    // event callbacks - update the object state\\r\\n    //\\r\\n\\r\\n    function handleMouseDownRotate( event ) {\\r\\n\\r\\n        //console.log( 'handleMouseDownRotate' );\\r\\n\\r\\n        rotateStart.set( event.clientX, event.clientY );\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseDownDolly( event ) {\\r\\n\\r\\n        //console.log( 'handleMouseDownDolly' );\\r\\n\\r\\n        dollyStart.set( event.clientX, event.clientY );\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseDownPan( event ) {\\r\\n\\r\\n        //console.log( 'handleMouseDownPan' );\\r\\n\\r\\n        panStart.set( event.clientX, event.clientY );\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseMoveRotate( event ) {\\r\\n\\r\\n        //console.log( 'handleMouseMoveRotate' );\\r\\n\\r\\n        rotateEnd.set( event.clientX, event.clientY );\\r\\n\\r\\n        rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\\r\\n\\r\\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\\r\\n\\r\\n        rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\\r\\n\\r\\n        rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\\r\\n\\r\\n        rotateStart.copy( rotateEnd );\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseMoveDolly( event ) {\\r\\n\\r\\n        //console.log( 'handleMouseMoveDolly' );\\r\\n\\r\\n        dollyEnd.set( event.clientX, event.clientY );\\r\\n\\r\\n        dollyDelta.subVectors( dollyEnd, dollyStart );\\r\\n\\r\\n        if ( dollyDelta.y > 0 ) {\\r\\n\\r\\n            dollyIn( getZoomScale() );\\r\\n\\r\\n        } else if ( dollyDelta.y < 0 ) {\\r\\n\\r\\n            dollyOut( getZoomScale() );\\r\\n\\r\\n        }\\r\\n\\r\\n        dollyStart.copy( dollyEnd );\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseMovePan( event ) {\\r\\n\\r\\n        //console.log( 'handleMouseMovePan' );\\r\\n\\r\\n        panEnd.set( event.clientX, event.clientY );\\r\\n\\r\\n        panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\\r\\n\\r\\n        pan( panDelta.x, panDelta.y );\\r\\n\\r\\n        panStart.copy( panEnd );\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseUp( event ) {\\r\\n\\r\\n        // console.log( 'handleMouseUp' );\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleMouseWheel( event ) {\\r\\n\\r\\n        // console.log( 'handleMouseWheel' );\\r\\n\\r\\n        if ( event.deltaY < 0 ) {\\r\\n\\r\\n            dollyOut( getZoomScale() );\\r\\n\\r\\n        } else if ( event.deltaY > 0 ) {\\r\\n\\r\\n            dollyIn( getZoomScale() );\\r\\n\\r\\n        }\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleKeyDown( event ) {\\r\\n\\r\\n        //console.log( 'handleKeyDown' );\\r\\n\\r\\n        switch ( event.keyCode ) {\\r\\n\\r\\n            case scope.keys.UP:\\r\\n                pan( 0, scope.keyPanSpeed );\\r\\n                scope.update();\\r\\n                break;\\r\\n\\r\\n            case scope.keys.BOTTOM:\\r\\n                pan( 0, - scope.keyPanSpeed );\\r\\n                scope.update();\\r\\n                break;\\r\\n\\r\\n            case scope.keys.LEFT:\\r\\n                pan( scope.keyPanSpeed, 0 );\\r\\n                scope.update();\\r\\n                break;\\r\\n\\r\\n            case scope.keys.RIGHT:\\r\\n                pan( - scope.keyPanSpeed, 0 );\\r\\n                scope.update();\\r\\n                break;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleTouchStartRotate( event ) {\\r\\n\\r\\n        //console.log( 'handleTouchStartRotate' );\\r\\n\\r\\n        rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleTouchStartDollyPan( event ) {\\r\\n\\r\\n        //console.log( 'handleTouchStartDollyPan' );\\r\\n\\r\\n        if ( scope.enableZoom ) {\\r\\n\\r\\n            var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\\r\\n            var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\\r\\n\\r\\n            var distance = Math.sqrt( dx * dx + dy * dy );\\r\\n\\r\\n            dollyStart.set( 0, distance );\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( scope.enablePan ) {\\r\\n\\r\\n            var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\\r\\n            var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\\r\\n\\r\\n            panStart.set( x, y );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleTouchMoveRotate( event ) {\\r\\n\\r\\n        //console.log( 'handleTouchMoveRotate' );\\r\\n\\r\\n        rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\\r\\n\\r\\n        rotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\\r\\n\\r\\n        var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\\r\\n\\r\\n        rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\\r\\n\\r\\n        rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\\r\\n\\r\\n        rotateStart.copy( rotateEnd );\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleTouchMoveDollyPan( event ) {\\r\\n\\r\\n        //console.log( 'handleTouchMoveDollyPan' );\\r\\n\\r\\n        if ( scope.enableZoom ) {\\r\\n\\r\\n            var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\\r\\n            var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\\r\\n\\r\\n            var distance = Math.sqrt( dx * dx + dy * dy );\\r\\n\\r\\n            dollyEnd.set( 0, distance );\\r\\n\\r\\n            dollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\\r\\n\\r\\n            dollyIn( dollyDelta.y );\\r\\n\\r\\n            dollyStart.copy( dollyEnd );\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( scope.enablePan ) {\\r\\n\\r\\n            var x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\\r\\n            var y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\\r\\n\\r\\n            panEnd.set( x, y );\\r\\n\\r\\n            panDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\\r\\n\\r\\n            pan( panDelta.x, panDelta.y );\\r\\n\\r\\n            panStart.copy( panEnd );\\r\\n\\r\\n        }\\r\\n\\r\\n        scope.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    function handleTouchEnd( event ) {\\r\\n\\r\\n        //console.log( 'handleTouchEnd' );\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n    // event handlers - FSM: listen for events and reset state\\r\\n    //\\r\\n\\r\\n    function onMouseDown( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        event.preventDefault();\\r\\n\\r\\n        switch ( event.button ) {\\r\\n\\r\\n            case scope.mouseButtons.LEFT:\\r\\n\\r\\n                if ( event.ctrlKey || event.metaKey ) {\\r\\n\\r\\n                    if ( scope.enablePan === false ) return;\\r\\n\\r\\n                    handleMouseDownPan( event );\\r\\n\\r\\n                    state = STATE.PAN;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    if ( scope.enableRotate === false ) return;\\r\\n\\r\\n                    handleMouseDownRotate( event );\\r\\n\\r\\n                    state = STATE.ROTATE;\\r\\n\\r\\n                }\\r\\n\\r\\n                break;\\r\\n\\r\\n            case scope.mouseButtons.MIDDLE:\\r\\n\\r\\n                if ( scope.enableZoom === false ) return;\\r\\n\\r\\n                handleMouseDownDolly( event );\\r\\n\\r\\n                state = STATE.DOLLY;\\r\\n\\r\\n                break;\\r\\n\\r\\n            case scope.mouseButtons.RIGHT:\\r\\n\\r\\n                if ( scope.enablePan === false ) return;\\r\\n\\r\\n                handleMouseDownPan( event );\\r\\n\\r\\n                state = STATE.PAN;\\r\\n\\r\\n                break;\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( state !== STATE.NONE ) {\\r\\n\\r\\n            document.addEventListener( 'mousemove', onMouseMove, false );\\r\\n            document.addEventListener( 'mouseup', onMouseUp, false );\\r\\n\\r\\n            scope.dispatchEvent( startEvent );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function onMouseMove( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        event.preventDefault();\\r\\n\\r\\n        switch ( state ) {\\r\\n\\r\\n            case STATE.ROTATE:\\r\\n\\r\\n                if ( scope.enableRotate === false ) return;\\r\\n\\r\\n                handleMouseMoveRotate( event );\\r\\n\\r\\n                break;\\r\\n\\r\\n            case STATE.DOLLY:\\r\\n\\r\\n                if ( scope.enableZoom === false ) return;\\r\\n\\r\\n                handleMouseMoveDolly( event );\\r\\n\\r\\n                break;\\r\\n\\r\\n            case STATE.PAN:\\r\\n\\r\\n                if ( scope.enablePan === false ) return;\\r\\n\\r\\n                handleMouseMovePan( event );\\r\\n\\r\\n                break;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function onMouseUp( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        handleMouseUp( event );\\r\\n\\r\\n        document.removeEventListener( 'mousemove', onMouseMove, false );\\r\\n        document.removeEventListener( 'mouseup', onMouseUp, false );\\r\\n\\r\\n        scope.dispatchEvent( endEvent );\\r\\n\\r\\n        state = STATE.NONE;\\r\\n\\r\\n    }\\r\\n\\r\\n    function onMouseWheel( event ) {\\r\\n\\r\\n        if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\\r\\n\\r\\n        event.preventDefault();\\r\\n        event.stopPropagation();\\r\\n\\r\\n        scope.dispatchEvent( startEvent );\\r\\n\\r\\n        handleMouseWheel( event );\\r\\n\\r\\n        scope.dispatchEvent( endEvent );\\r\\n\\r\\n    }\\r\\n\\r\\n    function onKeyDown( event ) {\\r\\n\\r\\n        if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\\r\\n\\r\\n        handleKeyDown( event );\\r\\n\\r\\n    }\\r\\n\\r\\n    function onTouchStart( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        event.preventDefault();\\r\\n\\r\\n        switch ( event.touches.length ) {\\r\\n\\r\\n            case 1:\\t// one-fingered touch: rotate\\r\\n\\r\\n                if ( scope.enableRotate === false ) return;\\r\\n\\r\\n                handleTouchStartRotate( event );\\r\\n\\r\\n                state = STATE.TOUCH_ROTATE;\\r\\n\\r\\n                break;\\r\\n\\r\\n            case 2:\\t// two-fingered touch: dolly-pan\\r\\n\\r\\n                if ( scope.enableZoom === false && scope.enablePan === false ) return;\\r\\n\\r\\n                handleTouchStartDollyPan( event );\\r\\n\\r\\n                state = STATE.TOUCH_DOLLY_PAN;\\r\\n\\r\\n                break;\\r\\n\\r\\n            default:\\r\\n\\r\\n                state = STATE.NONE;\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( state !== STATE.NONE ) {\\r\\n\\r\\n            scope.dispatchEvent( startEvent );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function onTouchMove( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        event.preventDefault();\\r\\n        event.stopPropagation();\\r\\n\\r\\n        switch ( event.touches.length ) {\\r\\n\\r\\n            case 1: // one-fingered touch: rotate\\r\\n\\r\\n                if ( scope.enableRotate === false ) return;\\r\\n                if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?\\r\\n\\r\\n                handleTouchMoveRotate( event );\\r\\n\\r\\n                break;\\r\\n\\r\\n            case 2: // two-fingered touch: dolly-pan\\r\\n\\r\\n                if ( scope.enableZoom === false && scope.enablePan === false ) return;\\r\\n                if ( state !== STATE.TOUCH_DOLLY_PAN ) return; // is this needed?\\r\\n\\r\\n                handleTouchMoveDollyPan( event );\\r\\n\\r\\n                break;\\r\\n\\r\\n            default:\\r\\n\\r\\n                state = STATE.NONE;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function onTouchEnd( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        handleTouchEnd( event );\\r\\n\\r\\n        scope.dispatchEvent( endEvent );\\r\\n\\r\\n        state = STATE.NONE;\\r\\n\\r\\n    }\\r\\n\\r\\n    function onContextMenu( event ) {\\r\\n\\r\\n        if ( scope.enabled === false ) return;\\r\\n\\r\\n        event.preventDefault();\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    scope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\\r\\n\\r\\n    scope.domElement.addEventListener( 'mousedown', onMouseDown, false );\\r\\n    scope.domElement.addEventListener( 'wheel', onMouseWheel, false );\\r\\n\\r\\n    scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\\r\\n    scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\\r\\n    scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\\r\\n\\r\\n    window.addEventListener( 'keydown', onKeyDown, false );\\r\\n\\r\\n    // force an update at start\\r\\n\\r\\n    this.update();\\r\\n\\r\\n};\\r\\n\\r\\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\\r\\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\\r\\n\\r\\nObject.defineProperties( THREE.OrbitControls.prototype, {\\r\\n\\r\\n    center: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\\r\\n            return this.target;\\r\\n\\r\\n        }\\r\\n\\r\\n    },\\r\\n\\r\\n    // backward compatibility\\r\\n\\r\\n    noZoom: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\\r\\n            return ! this.enableZoom;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\\r\\n            this.enableZoom = ! value;\\r\\n\\r\\n        }\\r\\n\\r\\n    },\\r\\n\\r\\n    noRotate: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\\r\\n            return ! this.enableRotate;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\\r\\n            this.enableRotate = ! value;\\r\\n\\r\\n        }\\r\\n\\r\\n    },\\r\\n\\r\\n    noPan: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\\r\\n            return ! this.enablePan;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\\r\\n            this.enablePan = ! value;\\r\\n\\r\\n        }\\r\\n\\r\\n    },\\r\\n\\r\\n    noKeys: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\\r\\n            return ! this.enableKeys;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\\r\\n            this.enableKeys = ! value;\\r\\n\\r\\n        }\\r\\n\\r\\n    },\\r\\n\\r\\n    staticMoving: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\\r\\n            return ! this.enableDamping;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\\r\\n            this.enableDamping = ! value;\\r\\n\\r\\n        }\\r\\n\\r\\n    },\\r\\n\\r\\n    dynamicDampingFactor: {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\\r\\n            return this.dampingFactor;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\\r\\n            this.dampingFactor = value;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n} );\",\"(function (global, factory) {\\r\\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\\r\\n        typeof define === 'function' && define.amd ? define(['exports'], factory) :\\r\\n            (factory((global.THREE = {})));\\r\\n}(this, (function (exports) { 'use strict';\\r\\n\\r\\n    // Polyfills\\r\\n\\r\\n    if ( Number.EPSILON === undefined ) {\\r\\n\\r\\n        Number.EPSILON = Math.pow( 2, - 52 );\\r\\n\\r\\n    }\\r\\n\\r\\n    if ( Number.isInteger === undefined ) {\\r\\n\\r\\n        // Missing in IE\\r\\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\\r\\n\\r\\n        Number.isInteger = function ( value ) {\\r\\n\\r\\n            return typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    if ( Math.sign === undefined ) {\\r\\n\\r\\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\\r\\n\\r\\n        Math.sign = function ( x ) {\\r\\n\\r\\n            return ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    if ( 'name' in Function.prototype === false ) {\\r\\n\\r\\n        // Missing in IE\\r\\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\\r\\n\\r\\n        Object.defineProperty( Function.prototype, 'name', {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this.toString().match( /^\\\\s*function\\\\s*([^\\\\(\\\\s]*)/ )[ 1 ];\\r\\n\\r\\n            }\\r\\n\\r\\n        } );\\r\\n\\r\\n    }\\r\\n\\r\\n    if ( Object.assign === undefined ) {\\r\\n\\r\\n        // Missing in IE\\r\\n        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\\r\\n\\r\\n        ( function () {\\r\\n\\r\\n            Object.assign = function ( target ) {\\r\\n\\r\\n                if ( target === undefined || target === null ) {\\r\\n\\r\\n                    throw new TypeError( 'Cannot convert undefined or null to object' );\\r\\n\\r\\n                }\\r\\n\\r\\n                var output = Object( target );\\r\\n\\r\\n                for ( var index = 1; index < arguments.length; index ++ ) {\\r\\n\\r\\n                    var source = arguments[ index ];\\r\\n\\r\\n                    if ( source !== undefined && source !== null ) {\\r\\n\\r\\n                        for ( var nextKey in source ) {\\r\\n\\r\\n                            if ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\\r\\n\\r\\n                                output[ nextKey ] = source[ nextKey ];\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return output;\\r\\n\\r\\n            };\\r\\n\\r\\n        } )();\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * https://github.com/mrdoob/eventdispatcher.js/\\r\\n     */\\r\\n\\r\\n    function EventDispatcher() {}\\r\\n\\r\\n    Object.assign( EventDispatcher.prototype, {\\r\\n\\r\\n        addEventListener: function ( type, listener ) {\\r\\n\\r\\n            if ( this._listeners === undefined ) this._listeners = {};\\r\\n\\r\\n            var listeners = this._listeners;\\r\\n\\r\\n            if ( listeners[ type ] === undefined ) {\\r\\n\\r\\n                listeners[ type ] = [];\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( listeners[ type ].indexOf( listener ) === - 1 ) {\\r\\n\\r\\n                listeners[ type ].push( listener );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        hasEventListener: function ( type, listener ) {\\r\\n\\r\\n            if ( this._listeners === undefined ) return false;\\r\\n\\r\\n            var listeners = this._listeners;\\r\\n\\r\\n            return listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\\r\\n\\r\\n        },\\r\\n\\r\\n        removeEventListener: function ( type, listener ) {\\r\\n\\r\\n            if ( this._listeners === undefined ) return;\\r\\n\\r\\n            var listeners = this._listeners;\\r\\n            var listenerArray = listeners[ type ];\\r\\n\\r\\n            if ( listenerArray !== undefined ) {\\r\\n\\r\\n                var index = listenerArray.indexOf( listener );\\r\\n\\r\\n                if ( index !== - 1 ) {\\r\\n\\r\\n                    listenerArray.splice( index, 1 );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        dispatchEvent: function ( event ) {\\r\\n\\r\\n            if ( this._listeners === undefined ) return;\\r\\n\\r\\n            var listeners = this._listeners;\\r\\n            var listenerArray = listeners[ event.type ];\\r\\n\\r\\n            if ( listenerArray !== undefined ) {\\r\\n\\r\\n                event.target = this;\\r\\n\\r\\n                var array = listenerArray.slice( 0 );\\r\\n\\r\\n                for ( var i = 0, l = array.length; i < l; i ++ ) {\\r\\n\\r\\n                    array[ i ].call( this, event );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    var REVISION = '97';\\r\\n    var MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 };\\r\\n    var CullFaceNone = 0;\\r\\n    var CullFaceBack = 1;\\r\\n    var CullFaceFront = 2;\\r\\n    var CullFaceFrontBack = 3;\\r\\n    var FrontFaceDirectionCW = 0;\\r\\n    var FrontFaceDirectionCCW = 1;\\r\\n    var BasicShadowMap = 0;\\r\\n    var PCFShadowMap = 1;\\r\\n    var PCFSoftShadowMap = 2;\\r\\n    var FrontSide = 0;\\r\\n    var BackSide = 1;\\r\\n    var DoubleSide = 2;\\r\\n    var FlatShading = 1;\\r\\n    var SmoothShading = 2;\\r\\n    var NoColors = 0;\\r\\n    var FaceColors = 1;\\r\\n    var VertexColors = 2;\\r\\n    var NoBlending = 0;\\r\\n    var NormalBlending = 1;\\r\\n    var AdditiveBlending = 2;\\r\\n    var SubtractiveBlending = 3;\\r\\n    var MultiplyBlending = 4;\\r\\n    var CustomBlending = 5;\\r\\n    var AddEquation = 100;\\r\\n    var SubtractEquation = 101;\\r\\n    var ReverseSubtractEquation = 102;\\r\\n    var MinEquation = 103;\\r\\n    var MaxEquation = 104;\\r\\n    var ZeroFactor = 200;\\r\\n    var OneFactor = 201;\\r\\n    var SrcColorFactor = 202;\\r\\n    var OneMinusSrcColorFactor = 203;\\r\\n    var SrcAlphaFactor = 204;\\r\\n    var OneMinusSrcAlphaFactor = 205;\\r\\n    var DstAlphaFactor = 206;\\r\\n    var OneMinusDstAlphaFactor = 207;\\r\\n    var DstColorFactor = 208;\\r\\n    var OneMinusDstColorFactor = 209;\\r\\n    var SrcAlphaSaturateFactor = 210;\\r\\n    var NeverDepth = 0;\\r\\n    var AlwaysDepth = 1;\\r\\n    var LessDepth = 2;\\r\\n    var LessEqualDepth = 3;\\r\\n    var EqualDepth = 4;\\r\\n    var GreaterEqualDepth = 5;\\r\\n    var GreaterDepth = 6;\\r\\n    var NotEqualDepth = 7;\\r\\n    var MultiplyOperation = 0;\\r\\n    var MixOperation = 1;\\r\\n    var AddOperation = 2;\\r\\n    var NoToneMapping = 0;\\r\\n    var LinearToneMapping = 1;\\r\\n    var ReinhardToneMapping = 2;\\r\\n    var Uncharted2ToneMapping = 3;\\r\\n    var CineonToneMapping = 4;\\r\\n    var UVMapping = 300;\\r\\n    var CubeReflectionMapping = 301;\\r\\n    var CubeRefractionMapping = 302;\\r\\n    var EquirectangularReflectionMapping = 303;\\r\\n    var EquirectangularRefractionMapping = 304;\\r\\n    var SphericalReflectionMapping = 305;\\r\\n    var CubeUVReflectionMapping = 306;\\r\\n    var CubeUVRefractionMapping = 307;\\r\\n    var RepeatWrapping = 1000;\\r\\n    var ClampToEdgeWrapping = 1001;\\r\\n    var MirroredRepeatWrapping = 1002;\\r\\n    var NearestFilter = 1003;\\r\\n    var NearestMipMapNearestFilter = 1004;\\r\\n    var NearestMipMapLinearFilter = 1005;\\r\\n    var LinearFilter = 1006;\\r\\n    var LinearMipMapNearestFilter = 1007;\\r\\n    var LinearMipMapLinearFilter = 1008;\\r\\n    var UnsignedByteType = 1009;\\r\\n    var ByteType = 1010;\\r\\n    var ShortType = 1011;\\r\\n    var UnsignedShortType = 1012;\\r\\n    var IntType = 1013;\\r\\n    var UnsignedIntType = 1014;\\r\\n    var FloatType = 1015;\\r\\n    var HalfFloatType = 1016;\\r\\n    var UnsignedShort4444Type = 1017;\\r\\n    var UnsignedShort5551Type = 1018;\\r\\n    var UnsignedShort565Type = 1019;\\r\\n    var UnsignedInt248Type = 1020;\\r\\n    var AlphaFormat = 1021;\\r\\n    var RGBFormat = 1022;\\r\\n    var RGBAFormat = 1023;\\r\\n    var LuminanceFormat = 1024;\\r\\n    var LuminanceAlphaFormat = 1025;\\r\\n    var RGBEFormat = RGBAFormat;\\r\\n    var DepthFormat = 1026;\\r\\n    var DepthStencilFormat = 1027;\\r\\n    var RedFormat = 1028;\\r\\n    var RGB_S3TC_DXT1_Format = 33776;\\r\\n    var RGBA_S3TC_DXT1_Format = 33777;\\r\\n    var RGBA_S3TC_DXT3_Format = 33778;\\r\\n    var RGBA_S3TC_DXT5_Format = 33779;\\r\\n    var RGB_PVRTC_4BPPV1_Format = 35840;\\r\\n    var RGB_PVRTC_2BPPV1_Format = 35841;\\r\\n    var RGBA_PVRTC_4BPPV1_Format = 35842;\\r\\n    var RGBA_PVRTC_2BPPV1_Format = 35843;\\r\\n    var RGB_ETC1_Format = 36196;\\r\\n    var RGBA_ASTC_4x4_Format = 37808;\\r\\n    var RGBA_ASTC_5x4_Format = 37809;\\r\\n    var RGBA_ASTC_5x5_Format = 37810;\\r\\n    var RGBA_ASTC_6x5_Format = 37811;\\r\\n    var RGBA_ASTC_6x6_Format = 37812;\\r\\n    var RGBA_ASTC_8x5_Format = 37813;\\r\\n    var RGBA_ASTC_8x6_Format = 37814;\\r\\n    var RGBA_ASTC_8x8_Format = 37815;\\r\\n    var RGBA_ASTC_10x5_Format = 37816;\\r\\n    var RGBA_ASTC_10x6_Format = 37817;\\r\\n    var RGBA_ASTC_10x8_Format = 37818;\\r\\n    var RGBA_ASTC_10x10_Format = 37819;\\r\\n    var RGBA_ASTC_12x10_Format = 37820;\\r\\n    var RGBA_ASTC_12x12_Format = 37821;\\r\\n    var LoopOnce = 2200;\\r\\n    var LoopRepeat = 2201;\\r\\n    var LoopPingPong = 2202;\\r\\n    var InterpolateDiscrete = 2300;\\r\\n    var InterpolateLinear = 2301;\\r\\n    var InterpolateSmooth = 2302;\\r\\n    var ZeroCurvatureEnding = 2400;\\r\\n    var ZeroSlopeEnding = 2401;\\r\\n    var WrapAroundEnding = 2402;\\r\\n    var TrianglesDrawMode = 0;\\r\\n    var TriangleStripDrawMode = 1;\\r\\n    var TriangleFanDrawMode = 2;\\r\\n    var LinearEncoding = 3000;\\r\\n    var sRGBEncoding = 3001;\\r\\n    var GammaEncoding = 3007;\\r\\n    var RGBEEncoding = 3002;\\r\\n    var LogLuvEncoding = 3003;\\r\\n    var RGBM7Encoding = 3004;\\r\\n    var RGBM16Encoding = 3005;\\r\\n    var RGBDEncoding = 3006;\\r\\n    var BasicDepthPacking = 3200;\\r\\n    var RGBADepthPacking = 3201;\\r\\n    var TangentSpaceNormalMap = 0;\\r\\n    var ObjectSpaceNormalMap = 1;\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var _Math = {\\r\\n\\r\\n        DEG2RAD: Math.PI / 180,\\r\\n        RAD2DEG: 180 / Math.PI,\\r\\n\\r\\n        generateUUID: ( function () {\\r\\n\\r\\n            // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\\r\\n\\r\\n            var lut = [];\\r\\n\\r\\n            for ( var i = 0; i < 256; i ++ ) {\\r\\n\\r\\n                lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\\r\\n\\r\\n            }\\r\\n\\r\\n            return function generateUUID() {\\r\\n\\r\\n                var d0 = Math.random() * 0xffffffff | 0;\\r\\n                var d1 = Math.random() * 0xffffffff | 0;\\r\\n                var d2 = Math.random() * 0xffffffff | 0;\\r\\n                var d3 = Math.random() * 0xffffffff | 0;\\r\\n                var uuid = lut[ d0 & 0xff ] + lut[ d0 >> 8 & 0xff ] + lut[ d0 >> 16 & 0xff ] + lut[ d0 >> 24 & 0xff ] + '-' +\\r\\n                    lut[ d1 & 0xff ] + lut[ d1 >> 8 & 0xff ] + '-' + lut[ d1 >> 16 & 0x0f | 0x40 ] + lut[ d1 >> 24 & 0xff ] + '-' +\\r\\n                    lut[ d2 & 0x3f | 0x80 ] + lut[ d2 >> 8 & 0xff ] + '-' + lut[ d2 >> 16 & 0xff ] + lut[ d2 >> 24 & 0xff ] +\\r\\n                    lut[ d3 & 0xff ] + lut[ d3 >> 8 & 0xff ] + lut[ d3 >> 16 & 0xff ] + lut[ d3 >> 24 & 0xff ];\\r\\n\\r\\n                // .toUpperCase() here flattens concatenated strings to save heap memory space.\\r\\n                return uuid.toUpperCase();\\r\\n\\r\\n            };\\r\\n\\r\\n        } )(),\\r\\n\\r\\n        clamp: function ( value, min, max ) {\\r\\n\\r\\n            return Math.max( min, Math.min( max, value ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        // compute euclidian modulo of m % n\\r\\n        // https://en.wikipedia.org/wiki/Modulo_operation\\r\\n\\r\\n        euclideanModulo: function ( n, m ) {\\r\\n\\r\\n            return ( ( n % m ) + m ) % m;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Linear mapping from range <a1, a2> to range <b1, b2>\\r\\n\\r\\n        mapLinear: function ( x, a1, a2, b1, b2 ) {\\r\\n\\r\\n            return b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        // https://en.wikipedia.org/wiki/Linear_interpolation\\r\\n\\r\\n        lerp: function ( x, y, t ) {\\r\\n\\r\\n            return ( 1 - t ) * x + t * y;\\r\\n\\r\\n        },\\r\\n\\r\\n        // http://en.wikipedia.org/wiki/Smoothstep\\r\\n\\r\\n        smoothstep: function ( x, min, max ) {\\r\\n\\r\\n            if ( x <= min ) return 0;\\r\\n            if ( x >= max ) return 1;\\r\\n\\r\\n            x = ( x - min ) / ( max - min );\\r\\n\\r\\n            return x * x * ( 3 - 2 * x );\\r\\n\\r\\n        },\\r\\n\\r\\n        smootherstep: function ( x, min, max ) {\\r\\n\\r\\n            if ( x <= min ) return 0;\\r\\n            if ( x >= max ) return 1;\\r\\n\\r\\n            x = ( x - min ) / ( max - min );\\r\\n\\r\\n            return x * x * x * ( x * ( x * 6 - 15 ) + 10 );\\r\\n\\r\\n        },\\r\\n\\r\\n        // Random integer from <low, high> interval\\r\\n\\r\\n        randInt: function ( low, high ) {\\r\\n\\r\\n            return low + Math.floor( Math.random() * ( high - low + 1 ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        // Random float from <low, high> interval\\r\\n\\r\\n        randFloat: function ( low, high ) {\\r\\n\\r\\n            return low + Math.random() * ( high - low );\\r\\n\\r\\n        },\\r\\n\\r\\n        // Random float from <-range/2, range/2> interval\\r\\n\\r\\n        randFloatSpread: function ( range ) {\\r\\n\\r\\n            return range * ( 0.5 - Math.random() );\\r\\n\\r\\n        },\\r\\n\\r\\n        degToRad: function ( degrees ) {\\r\\n\\r\\n            return degrees * _Math.DEG2RAD;\\r\\n\\r\\n        },\\r\\n\\r\\n        radToDeg: function ( radians ) {\\r\\n\\r\\n            return radians * _Math.RAD2DEG;\\r\\n\\r\\n        },\\r\\n\\r\\n        isPowerOfTwo: function ( value ) {\\r\\n\\r\\n            return ( value & ( value - 1 ) ) === 0 && value !== 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        ceilPowerOfTwo: function ( value ) {\\r\\n\\r\\n            return Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        floorPowerOfTwo: function ( value ) {\\r\\n\\r\\n            return Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author philogb / http://blog.thejit.org/\\r\\n     * @author egraether / http://egraether.com/\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     */\\r\\n\\r\\n    function Vector2( x, y ) {\\r\\n\\r\\n        this.x = x || 0;\\r\\n        this.y = y || 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.defineProperties( Vector2.prototype, {\\r\\n\\r\\n        \\\"width\\\": {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this.x;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this.x = value;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        \\\"height\\\": {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this.y;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this.y = value;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Vector2.prototype, {\\r\\n\\r\\n        isVector2: true,\\r\\n\\r\\n        set: function ( x, y ) {\\r\\n\\r\\n            this.x = x;\\r\\n            this.y = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setScalar: function ( scalar ) {\\r\\n\\r\\n            this.x = scalar;\\r\\n            this.y = scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setX: function ( x ) {\\r\\n\\r\\n            this.x = x;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setY: function ( y ) {\\r\\n\\r\\n            this.y = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setComponent: function ( index, value ) {\\r\\n\\r\\n            switch ( index ) {\\r\\n\\r\\n                case 0: this.x = value; break;\\r\\n                case 1: this.y = value; break;\\r\\n                default: throw new Error( 'index is out of range: ' + index );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getComponent: function ( index ) {\\r\\n\\r\\n            switch ( index ) {\\r\\n\\r\\n                case 0: return this.x;\\r\\n                case 1: return this.y;\\r\\n                default: throw new Error( 'index is out of range: ' + index );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.x, this.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( v ) {\\r\\n\\r\\n            this.x = v.x;\\r\\n            this.y = v.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        add: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\\r\\n                return this.addVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x += v.x;\\r\\n            this.y += v.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScalar: function ( s ) {\\r\\n\\r\\n            this.x += s;\\r\\n            this.y += s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x + b.x;\\r\\n            this.y = a.y + b.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScaledVector: function ( v, s ) {\\r\\n\\r\\n            this.x += v.x * s;\\r\\n            this.y += v.y * s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        sub: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\\r\\n                return this.subVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x -= v.x;\\r\\n            this.y -= v.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        subScalar: function ( s ) {\\r\\n\\r\\n            this.x -= s;\\r\\n            this.y -= s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        subVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x - b.x;\\r\\n            this.y = a.y - b.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiply: function ( v ) {\\r\\n\\r\\n            this.x *= v.x;\\r\\n            this.y *= v.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyScalar: function ( scalar ) {\\r\\n\\r\\n            this.x *= scalar;\\r\\n            this.y *= scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        divide: function ( v ) {\\r\\n\\r\\n            this.x /= v.x;\\r\\n            this.y /= v.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        divideScalar: function ( scalar ) {\\r\\n\\r\\n            return this.multiplyScalar( 1 / scalar );\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix3: function ( m ) {\\r\\n\\r\\n            var x = this.x, y = this.y;\\r\\n            var e = m.elements;\\r\\n\\r\\n            this.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\\r\\n            this.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        min: function ( v ) {\\r\\n\\r\\n            this.x = Math.min( this.x, v.x );\\r\\n            this.y = Math.min( this.y, v.y );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        max: function ( v ) {\\r\\n\\r\\n            this.x = Math.max( this.x, v.x );\\r\\n            this.y = Math.max( this.y, v.y );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clamp: function ( min, max ) {\\r\\n\\r\\n            // assumes min < max, componentwise\\r\\n\\r\\n            this.x = Math.max( min.x, Math.min( max.x, this.x ) );\\r\\n            this.y = Math.max( min.y, Math.min( max.y, this.y ) );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clampScalar: function () {\\r\\n\\r\\n            var min = new Vector2();\\r\\n            var max = new Vector2();\\r\\n\\r\\n            return function clampScalar( minVal, maxVal ) {\\r\\n\\r\\n                min.set( minVal, minVal );\\r\\n                max.set( maxVal, maxVal );\\r\\n\\r\\n                return this.clamp( min, max );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        clampLength: function ( min, max ) {\\r\\n\\r\\n            var length = this.length();\\r\\n\\r\\n            return this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        floor: function () {\\r\\n\\r\\n            this.x = Math.floor( this.x );\\r\\n            this.y = Math.floor( this.y );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        ceil: function () {\\r\\n\\r\\n            this.x = Math.ceil( this.x );\\r\\n            this.y = Math.ceil( this.y );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        round: function () {\\r\\n\\r\\n            this.x = Math.round( this.x );\\r\\n            this.y = Math.round( this.y );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        roundToZero: function () {\\r\\n\\r\\n            this.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\\r\\n            this.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        negate: function () {\\r\\n\\r\\n            this.x = - this.x;\\r\\n            this.y = - this.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dot: function ( v ) {\\r\\n\\r\\n            return this.x * v.x + this.y * v.y;\\r\\n\\r\\n        },\\r\\n\\r\\n        cross: function ( v ) {\\r\\n\\r\\n            return this.x * v.y - this.y * v.x;\\r\\n\\r\\n        },\\r\\n\\r\\n        lengthSq: function () {\\r\\n\\r\\n            return this.x * this.x + this.y * this.y;\\r\\n\\r\\n        },\\r\\n\\r\\n        length: function () {\\r\\n\\r\\n            return Math.sqrt( this.x * this.x + this.y * this.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        manhattanLength: function () {\\r\\n\\r\\n            return Math.abs( this.x ) + Math.abs( this.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        normalize: function () {\\r\\n\\r\\n            return this.divideScalar( this.length() || 1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        angle: function () {\\r\\n\\r\\n            // computes the angle in radians with respect to the positive x-axis\\r\\n\\r\\n            var angle = Math.atan2( this.y, this.x );\\r\\n\\r\\n            if ( angle < 0 ) angle += 2 * Math.PI;\\r\\n\\r\\n            return angle;\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceTo: function ( v ) {\\r\\n\\r\\n            return Math.sqrt( this.distanceToSquared( v ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToSquared: function ( v ) {\\r\\n\\r\\n            var dx = this.x - v.x, dy = this.y - v.y;\\r\\n            return dx * dx + dy * dy;\\r\\n\\r\\n        },\\r\\n\\r\\n        manhattanDistanceTo: function ( v ) {\\r\\n\\r\\n            return Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        setLength: function ( length ) {\\r\\n\\r\\n            return this.normalize().multiplyScalar( length );\\r\\n\\r\\n        },\\r\\n\\r\\n        lerp: function ( v, alpha ) {\\r\\n\\r\\n            this.x += ( v.x - this.x ) * alpha;\\r\\n            this.y += ( v.y - this.y ) * alpha;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        lerpVectors: function ( v1, v2, alpha ) {\\r\\n\\r\\n            return this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( v ) {\\r\\n\\r\\n            return ( ( v.x === this.x ) && ( v.y === this.y ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this.x = array[ offset ];\\r\\n            this.y = array[ offset + 1 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            array[ offset ] = this.x;\\r\\n            array[ offset + 1 ] = this.y;\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromBufferAttribute: function ( attribute, index, offset ) {\\r\\n\\r\\n            if ( offset !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x = attribute.getX( index );\\r\\n            this.y = attribute.getY( index );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        rotateAround: function ( center, angle ) {\\r\\n\\r\\n            var c = Math.cos( angle ), s = Math.sin( angle );\\r\\n\\r\\n            var x = this.x - center.x;\\r\\n            var y = this.y - center.y;\\r\\n\\r\\n            this.x = x * c - y * s + center.x;\\r\\n            this.y = x * s + y * c + center.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author supereggbert / http://www.paulbrunt.co.uk/\\r\\n     * @author philogb / http://blog.thejit.org/\\r\\n     * @author jordi_ros / http://plattsoft.com\\r\\n     * @author D1plo1d / http://github.com/D1plo1d\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author timknip / http://www.floorplanner.com/\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function Matrix4() {\\r\\n\\r\\n        this.elements = [\\r\\n\\r\\n            1, 0, 0, 0,\\r\\n            0, 1, 0, 0,\\r\\n            0, 0, 1, 0,\\r\\n            0, 0, 0, 1\\r\\n\\r\\n        ];\\r\\n\\r\\n        if ( arguments.length > 0 ) {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Matrix4.prototype, {\\r\\n\\r\\n        isMatrix4: true,\\r\\n\\r\\n        set: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\\r\\n            te[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\\r\\n            te[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\\r\\n            te[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        identity: function () {\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                1, 0, 0, 0,\\r\\n                0, 1, 0, 0,\\r\\n                0, 0, 1, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new Matrix4().fromArray( this.elements );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( m ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var me = m.elements;\\r\\n\\r\\n            te[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\\r\\n            te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\\r\\n            te[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\\r\\n            te[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyPosition: function ( m ) {\\r\\n\\r\\n            var te = this.elements, me = m.elements;\\r\\n\\r\\n            te[ 12 ] = me[ 12 ];\\r\\n            te[ 13 ] = me[ 13 ];\\r\\n            te[ 14 ] = me[ 14 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        extractBasis: function ( xAxis, yAxis, zAxis ) {\\r\\n\\r\\n            xAxis.setFromMatrixColumn( this, 0 );\\r\\n            yAxis.setFromMatrixColumn( this, 1 );\\r\\n            zAxis.setFromMatrixColumn( this, 2 );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeBasis: function ( xAxis, yAxis, zAxis ) {\\r\\n\\r\\n            this.set(\\r\\n                xAxis.x, yAxis.x, zAxis.x, 0,\\r\\n                xAxis.y, yAxis.y, zAxis.y, 0,\\r\\n                xAxis.z, yAxis.z, zAxis.z, 0,\\r\\n                0, 0, 0, 1\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        extractRotation: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function extractRotation( m ) {\\r\\n\\r\\n                // this method does not support reflection matrices\\r\\n\\r\\n                var te = this.elements;\\r\\n                var me = m.elements;\\r\\n\\r\\n                var scaleX = 1 / v1.setFromMatrixColumn( m, 0 ).length();\\r\\n                var scaleY = 1 / v1.setFromMatrixColumn( m, 1 ).length();\\r\\n                var scaleZ = 1 / v1.setFromMatrixColumn( m, 2 ).length();\\r\\n\\r\\n                te[ 0 ] = me[ 0 ] * scaleX;\\r\\n                te[ 1 ] = me[ 1 ] * scaleX;\\r\\n                te[ 2 ] = me[ 2 ] * scaleX;\\r\\n                te[ 3 ] = 0;\\r\\n\\r\\n                te[ 4 ] = me[ 4 ] * scaleY;\\r\\n                te[ 5 ] = me[ 5 ] * scaleY;\\r\\n                te[ 6 ] = me[ 6 ] * scaleY;\\r\\n                te[ 7 ] = 0;\\r\\n\\r\\n                te[ 8 ] = me[ 8 ] * scaleZ;\\r\\n                te[ 9 ] = me[ 9 ] * scaleZ;\\r\\n                te[ 10 ] = me[ 10 ] * scaleZ;\\r\\n                te[ 11 ] = 0;\\r\\n\\r\\n                te[ 12 ] = 0;\\r\\n                te[ 13 ] = 0;\\r\\n                te[ 14 ] = 0;\\r\\n                te[ 15 ] = 1;\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        makeRotationFromEuler: function ( euler ) {\\r\\n\\r\\n            if ( ! ( euler && euler.isEuler ) ) {\\r\\n\\r\\n                console.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            var x = euler.x, y = euler.y, z = euler.z;\\r\\n            var a = Math.cos( x ), b = Math.sin( x );\\r\\n            var c = Math.cos( y ), d = Math.sin( y );\\r\\n            var e = Math.cos( z ), f = Math.sin( z );\\r\\n\\r\\n            if ( euler.order === 'XYZ' ) {\\r\\n\\r\\n                var ae = a * e, af = a * f, be = b * e, bf = b * f;\\r\\n\\r\\n                te[ 0 ] = c * e;\\r\\n                te[ 4 ] = - c * f;\\r\\n                te[ 8 ] = d;\\r\\n\\r\\n                te[ 1 ] = af + be * d;\\r\\n                te[ 5 ] = ae - bf * d;\\r\\n                te[ 9 ] = - b * c;\\r\\n\\r\\n                te[ 2 ] = bf - ae * d;\\r\\n                te[ 6 ] = be + af * d;\\r\\n                te[ 10 ] = a * c;\\r\\n\\r\\n            } else if ( euler.order === 'YXZ' ) {\\r\\n\\r\\n                var ce = c * e, cf = c * f, de = d * e, df = d * f;\\r\\n\\r\\n                te[ 0 ] = ce + df * b;\\r\\n                te[ 4 ] = de * b - cf;\\r\\n                te[ 8 ] = a * d;\\r\\n\\r\\n                te[ 1 ] = a * f;\\r\\n                te[ 5 ] = a * e;\\r\\n                te[ 9 ] = - b;\\r\\n\\r\\n                te[ 2 ] = cf * b - de;\\r\\n                te[ 6 ] = df + ce * b;\\r\\n                te[ 10 ] = a * c;\\r\\n\\r\\n            } else if ( euler.order === 'ZXY' ) {\\r\\n\\r\\n                var ce = c * e, cf = c * f, de = d * e, df = d * f;\\r\\n\\r\\n                te[ 0 ] = ce - df * b;\\r\\n                te[ 4 ] = - a * f;\\r\\n                te[ 8 ] = de + cf * b;\\r\\n\\r\\n                te[ 1 ] = cf + de * b;\\r\\n                te[ 5 ] = a * e;\\r\\n                te[ 9 ] = df - ce * b;\\r\\n\\r\\n                te[ 2 ] = - a * d;\\r\\n                te[ 6 ] = b;\\r\\n                te[ 10 ] = a * c;\\r\\n\\r\\n            } else if ( euler.order === 'ZYX' ) {\\r\\n\\r\\n                var ae = a * e, af = a * f, be = b * e, bf = b * f;\\r\\n\\r\\n                te[ 0 ] = c * e;\\r\\n                te[ 4 ] = be * d - af;\\r\\n                te[ 8 ] = ae * d + bf;\\r\\n\\r\\n                te[ 1 ] = c * f;\\r\\n                te[ 5 ] = bf * d + ae;\\r\\n                te[ 9 ] = af * d - be;\\r\\n\\r\\n                te[ 2 ] = - d;\\r\\n                te[ 6 ] = b * c;\\r\\n                te[ 10 ] = a * c;\\r\\n\\r\\n            } else if ( euler.order === 'YZX' ) {\\r\\n\\r\\n                var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\\r\\n\\r\\n                te[ 0 ] = c * e;\\r\\n                te[ 4 ] = bd - ac * f;\\r\\n                te[ 8 ] = bc * f + ad;\\r\\n\\r\\n                te[ 1 ] = f;\\r\\n                te[ 5 ] = a * e;\\r\\n                te[ 9 ] = - b * e;\\r\\n\\r\\n                te[ 2 ] = - d * e;\\r\\n                te[ 6 ] = ad * f + bc;\\r\\n                te[ 10 ] = ac - bd * f;\\r\\n\\r\\n            } else if ( euler.order === 'XZY' ) {\\r\\n\\r\\n                var ac = a * c, ad = a * d, bc = b * c, bd = b * d;\\r\\n\\r\\n                te[ 0 ] = c * e;\\r\\n                te[ 4 ] = - f;\\r\\n                te[ 8 ] = d * e;\\r\\n\\r\\n                te[ 1 ] = ac * f + bd;\\r\\n                te[ 5 ] = a * e;\\r\\n                te[ 9 ] = ad * f - bc;\\r\\n\\r\\n                te[ 2 ] = bc * f - ad;\\r\\n                te[ 6 ] = b * e;\\r\\n                te[ 10 ] = bd * f + ac;\\r\\n\\r\\n            }\\r\\n\\r\\n            // bottom row\\r\\n            te[ 3 ] = 0;\\r\\n            te[ 7 ] = 0;\\r\\n            te[ 11 ] = 0;\\r\\n\\r\\n            // last column\\r\\n            te[ 12 ] = 0;\\r\\n            te[ 13 ] = 0;\\r\\n            te[ 14 ] = 0;\\r\\n            te[ 15 ] = 1;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeRotationFromQuaternion: function () {\\r\\n\\r\\n            var zero = new Vector3( 0, 0, 0 );\\r\\n            var one = new Vector3( 1, 1, 1 );\\r\\n\\r\\n            return function makeRotationFromQuaternion( q ) {\\r\\n\\r\\n                return this.compose( zero, q, one );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        lookAt: function () {\\r\\n\\r\\n            var x = new Vector3();\\r\\n            var y = new Vector3();\\r\\n            var z = new Vector3();\\r\\n\\r\\n            return function lookAt( eye, target, up ) {\\r\\n\\r\\n                var te = this.elements;\\r\\n\\r\\n                z.subVectors( eye, target );\\r\\n\\r\\n                if ( z.lengthSq() === 0 ) {\\r\\n\\r\\n                    // eye and target are in the same position\\r\\n\\r\\n                    z.z = 1;\\r\\n\\r\\n                }\\r\\n\\r\\n                z.normalize();\\r\\n                x.crossVectors( up, z );\\r\\n\\r\\n                if ( x.lengthSq() === 0 ) {\\r\\n\\r\\n                    // up and z are parallel\\r\\n\\r\\n                    if ( Math.abs( up.z ) === 1 ) {\\r\\n\\r\\n                        z.x += 0.0001;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        z.z += 0.0001;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    z.normalize();\\r\\n                    x.crossVectors( up, z );\\r\\n\\r\\n                }\\r\\n\\r\\n                x.normalize();\\r\\n                y.crossVectors( z, x );\\r\\n\\r\\n                te[ 0 ] = x.x; te[ 4 ] = y.x; te[ 8 ] = z.x;\\r\\n                te[ 1 ] = x.y; te[ 5 ] = y.y; te[ 9 ] = z.y;\\r\\n                te[ 2 ] = x.z; te[ 6 ] = y.z; te[ 10 ] = z.z;\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        multiply: function ( m, n ) {\\r\\n\\r\\n            if ( n !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\\r\\n                return this.multiplyMatrices( m, n );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.multiplyMatrices( this, m );\\r\\n\\r\\n        },\\r\\n\\r\\n        premultiply: function ( m ) {\\r\\n\\r\\n            return this.multiplyMatrices( m, this );\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyMatrices: function ( a, b ) {\\r\\n\\r\\n            var ae = a.elements;\\r\\n            var be = b.elements;\\r\\n            var te = this.elements;\\r\\n\\r\\n            var a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\\r\\n            var a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\\r\\n            var a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\\r\\n            var a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\\r\\n\\r\\n            var b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\\r\\n            var b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\\r\\n            var b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\\r\\n            var b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\\r\\n\\r\\n            te[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\\r\\n            te[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\\r\\n            te[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\\r\\n            te[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\\r\\n\\r\\n            te[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\\r\\n            te[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\\r\\n            te[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\\r\\n            te[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\\r\\n\\r\\n            te[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\\r\\n            te[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\\r\\n            te[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\\r\\n            te[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\\r\\n\\r\\n            te[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\\r\\n            te[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\\r\\n            te[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\\r\\n            te[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyScalar: function ( s ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\\r\\n            te[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\\r\\n            te[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\\r\\n            te[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyToBufferAttribute: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function applyToBufferAttribute( attribute ) {\\r\\n\\r\\n                for ( var i = 0, l = attribute.count; i < l; i ++ ) {\\r\\n\\r\\n                    v1.x = attribute.getX( i );\\r\\n                    v1.y = attribute.getY( i );\\r\\n                    v1.z = attribute.getZ( i );\\r\\n\\r\\n                    v1.applyMatrix4( this );\\r\\n\\r\\n                    attribute.setXYZ( i, v1.x, v1.y, v1.z );\\r\\n\\r\\n                }\\r\\n\\r\\n                return attribute;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        determinant: function () {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            var n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\\r\\n            var n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\\r\\n            var n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\\r\\n            var n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\\r\\n\\r\\n            //TODO: make this more efficient\\r\\n            //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\\r\\n\\r\\n            return (\\r\\n                n41 * (\\r\\n                    + n14 * n23 * n32\\r\\n                    - n13 * n24 * n32\\r\\n                    - n14 * n22 * n33\\r\\n                    + n12 * n24 * n33\\r\\n                    + n13 * n22 * n34\\r\\n                    - n12 * n23 * n34\\r\\n                ) +\\r\\n                n42 * (\\r\\n                    + n11 * n23 * n34\\r\\n                    - n11 * n24 * n33\\r\\n                    + n14 * n21 * n33\\r\\n                    - n13 * n21 * n34\\r\\n                    + n13 * n24 * n31\\r\\n                    - n14 * n23 * n31\\r\\n                ) +\\r\\n                n43 * (\\r\\n                    + n11 * n24 * n32\\r\\n                    - n11 * n22 * n34\\r\\n                    - n14 * n21 * n32\\r\\n                    + n12 * n21 * n34\\r\\n                    + n14 * n22 * n31\\r\\n                    - n12 * n24 * n31\\r\\n                ) +\\r\\n                n44 * (\\r\\n                    - n13 * n22 * n31\\r\\n                    - n11 * n23 * n32\\r\\n                    + n11 * n22 * n33\\r\\n                    + n13 * n21 * n32\\r\\n                    - n12 * n21 * n33\\r\\n                    + n12 * n23 * n31\\r\\n                )\\r\\n\\r\\n            );\\r\\n\\r\\n        },\\r\\n\\r\\n        transpose: function () {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var tmp;\\r\\n\\r\\n            tmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\\r\\n            tmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\\r\\n            tmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\\r\\n\\r\\n            tmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\\r\\n            tmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\\r\\n            tmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPosition: function ( v ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 12 ] = v.x;\\r\\n            te[ 13 ] = v.y;\\r\\n            te[ 14 ] = v.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getInverse: function ( m, throwOnDegenerate ) {\\r\\n\\r\\n            // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\\r\\n            var te = this.elements,\\r\\n                me = m.elements,\\r\\n\\r\\n                n11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\\r\\n                n12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\\r\\n                n13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\\r\\n                n14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\\r\\n\\r\\n                t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\\r\\n                t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\\r\\n                t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\\r\\n                t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\\r\\n\\r\\n            var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\\r\\n\\r\\n            if ( det === 0 ) {\\r\\n\\r\\n                var msg = \\\"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\\\";\\r\\n\\r\\n                if ( throwOnDegenerate === true ) {\\r\\n\\r\\n                    throw new Error( msg );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    console.warn( msg );\\r\\n\\r\\n                }\\r\\n\\r\\n                return this.identity();\\r\\n\\r\\n            }\\r\\n\\r\\n            var detInv = 1 / det;\\r\\n\\r\\n            te[ 0 ] = t11 * detInv;\\r\\n            te[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\\r\\n            te[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\\r\\n            te[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\\r\\n\\r\\n            te[ 4 ] = t12 * detInv;\\r\\n            te[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\\r\\n            te[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\\r\\n            te[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\\r\\n\\r\\n            te[ 8 ] = t13 * detInv;\\r\\n            te[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\\r\\n            te[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\\r\\n            te[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\\r\\n\\r\\n            te[ 12 ] = t14 * detInv;\\r\\n            te[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\\r\\n            te[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\\r\\n            te[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        scale: function ( v ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var x = v.x, y = v.y, z = v.z;\\r\\n\\r\\n            te[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\\r\\n            te[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\\r\\n            te[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\\r\\n            te[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getMaxScaleOnAxis: function () {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            var scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\\r\\n            var scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\\r\\n            var scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\\r\\n\\r\\n            return Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        makeTranslation: function ( x, y, z ) {\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                1, 0, 0, x,\\r\\n                0, 1, 0, y,\\r\\n                0, 0, 1, z,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeRotationX: function ( theta ) {\\r\\n\\r\\n            var c = Math.cos( theta ), s = Math.sin( theta );\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                1, 0, 0, 0,\\r\\n                0, c, - s, 0,\\r\\n                0, s, c, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeRotationY: function ( theta ) {\\r\\n\\r\\n            var c = Math.cos( theta ), s = Math.sin( theta );\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                c, 0, s, 0,\\r\\n                0, 1, 0, 0,\\r\\n                - s, 0, c, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeRotationZ: function ( theta ) {\\r\\n\\r\\n            var c = Math.cos( theta ), s = Math.sin( theta );\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                c, - s, 0, 0,\\r\\n                s, c, 0, 0,\\r\\n                0, 0, 1, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeRotationAxis: function ( axis, angle ) {\\r\\n\\r\\n            // Based on http://www.gamedev.net/reference/articles/article1199.asp\\r\\n\\r\\n            var c = Math.cos( angle );\\r\\n            var s = Math.sin( angle );\\r\\n            var t = 1 - c;\\r\\n            var x = axis.x, y = axis.y, z = axis.z;\\r\\n            var tx = t * x, ty = t * y;\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                tx * x + c, tx * y - s * z, tx * z + s * y, 0,\\r\\n                tx * y + s * z, ty * y + c, ty * z - s * x, 0,\\r\\n                tx * z - s * y, ty * z + s * x, t * z * z + c, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeScale: function ( x, y, z ) {\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                x, 0, 0, 0,\\r\\n                0, y, 0, 0,\\r\\n                0, 0, z, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeShear: function ( x, y, z ) {\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                1, y, z, 0,\\r\\n                x, 1, z, 0,\\r\\n                x, y, 1, 0,\\r\\n                0, 0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        compose: function ( position, quaternion, scale ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            var x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\\r\\n            var x2 = x + x,\\ty2 = y + y, z2 = z + z;\\r\\n            var xx = x * x2, xy = x * y2, xz = x * z2;\\r\\n            var yy = y * y2, yz = y * z2, zz = z * z2;\\r\\n            var wx = w * x2, wy = w * y2, wz = w * z2;\\r\\n\\r\\n            var sx = scale.x, sy = scale.y, sz = scale.z;\\r\\n\\r\\n            te[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\\r\\n            te[ 1 ] = ( xy + wz ) * sx;\\r\\n            te[ 2 ] = ( xz - wy ) * sx;\\r\\n            te[ 3 ] = 0;\\r\\n\\r\\n            te[ 4 ] = ( xy - wz ) * sy;\\r\\n            te[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\\r\\n            te[ 6 ] = ( yz + wx ) * sy;\\r\\n            te[ 7 ] = 0;\\r\\n\\r\\n            te[ 8 ] = ( xz + wy ) * sz;\\r\\n            te[ 9 ] = ( yz - wx ) * sz;\\r\\n            te[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\\r\\n            te[ 11 ] = 0;\\r\\n\\r\\n            te[ 12 ] = position.x;\\r\\n            te[ 13 ] = position.y;\\r\\n            te[ 14 ] = position.z;\\r\\n            te[ 15 ] = 1;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        decompose: function () {\\r\\n\\r\\n            var vector = new Vector3();\\r\\n            var matrix = new Matrix4();\\r\\n\\r\\n            return function decompose( position, quaternion, scale ) {\\r\\n\\r\\n                var te = this.elements;\\r\\n\\r\\n                var sx = vector.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\\r\\n                var sy = vector.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\\r\\n                var sz = vector.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\\r\\n\\r\\n                // if determine is negative, we need to invert one scale\\r\\n                var det = this.determinant();\\r\\n                if ( det < 0 ) sx = - sx;\\r\\n\\r\\n                position.x = te[ 12 ];\\r\\n                position.y = te[ 13 ];\\r\\n                position.z = te[ 14 ];\\r\\n\\r\\n                // scale the rotation part\\r\\n                matrix.copy( this );\\r\\n\\r\\n                var invSX = 1 / sx;\\r\\n                var invSY = 1 / sy;\\r\\n                var invSZ = 1 / sz;\\r\\n\\r\\n                matrix.elements[ 0 ] *= invSX;\\r\\n                matrix.elements[ 1 ] *= invSX;\\r\\n                matrix.elements[ 2 ] *= invSX;\\r\\n\\r\\n                matrix.elements[ 4 ] *= invSY;\\r\\n                matrix.elements[ 5 ] *= invSY;\\r\\n                matrix.elements[ 6 ] *= invSY;\\r\\n\\r\\n                matrix.elements[ 8 ] *= invSZ;\\r\\n                matrix.elements[ 9 ] *= invSZ;\\r\\n                matrix.elements[ 10 ] *= invSZ;\\r\\n\\r\\n                quaternion.setFromRotationMatrix( matrix );\\r\\n\\r\\n                scale.x = sx;\\r\\n                scale.y = sy;\\r\\n                scale.z = sz;\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        makePerspective: function ( left, right, top, bottom, near, far ) {\\r\\n\\r\\n            if ( far === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            var te = this.elements;\\r\\n            var x = 2 * near / ( right - left );\\r\\n            var y = 2 * near / ( top - bottom );\\r\\n\\r\\n            var a = ( right + left ) / ( right - left );\\r\\n            var b = ( top + bottom ) / ( top - bottom );\\r\\n            var c = - ( far + near ) / ( far - near );\\r\\n            var d = - 2 * far * near / ( far - near );\\r\\n\\r\\n            te[ 0 ] = x;\\tte[ 4 ] = 0;\\tte[ 8 ] = a;\\tte[ 12 ] = 0;\\r\\n            te[ 1 ] = 0;\\tte[ 5 ] = y;\\tte[ 9 ] = b;\\tte[ 13 ] = 0;\\r\\n            te[ 2 ] = 0;\\tte[ 6 ] = 0;\\tte[ 10 ] = c;\\tte[ 14 ] = d;\\r\\n            te[ 3 ] = 0;\\tte[ 7 ] = 0;\\tte[ 11 ] = - 1;\\tte[ 15 ] = 0;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeOrthographic: function ( left, right, top, bottom, near, far ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var w = 1.0 / ( right - left );\\r\\n            var h = 1.0 / ( top - bottom );\\r\\n            var p = 1.0 / ( far - near );\\r\\n\\r\\n            var x = ( right + left ) * w;\\r\\n            var y = ( top + bottom ) * h;\\r\\n            var z = ( far + near ) * p;\\r\\n\\r\\n            te[ 0 ] = 2 * w;\\tte[ 4 ] = 0;\\tte[ 8 ] = 0;\\tte[ 12 ] = - x;\\r\\n            te[ 1 ] = 0;\\tte[ 5 ] = 2 * h;\\tte[ 9 ] = 0;\\tte[ 13 ] = - y;\\r\\n            te[ 2 ] = 0;\\tte[ 6 ] = 0;\\tte[ 10 ] = - 2 * p;\\tte[ 14 ] = - z;\\r\\n            te[ 3 ] = 0;\\tte[ 7 ] = 0;\\tte[ 11 ] = 0;\\tte[ 15 ] = 1;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( matrix ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var me = matrix.elements;\\r\\n\\r\\n            for ( var i = 0; i < 16; i ++ ) {\\r\\n\\r\\n                if ( te[ i ] !== me[ i ] ) return false;\\r\\n\\r\\n            }\\r\\n\\r\\n            return true;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            for ( var i = 0; i < 16; i ++ ) {\\r\\n\\r\\n                this.elements[ i ] = array[ i + offset ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            array[ offset ] = te[ 0 ];\\r\\n            array[ offset + 1 ] = te[ 1 ];\\r\\n            array[ offset + 2 ] = te[ 2 ];\\r\\n            array[ offset + 3 ] = te[ 3 ];\\r\\n\\r\\n            array[ offset + 4 ] = te[ 4 ];\\r\\n            array[ offset + 5 ] = te[ 5 ];\\r\\n            array[ offset + 6 ] = te[ 6 ];\\r\\n            array[ offset + 7 ] = te[ 7 ];\\r\\n\\r\\n            array[ offset + 8 ] = te[ 8 ];\\r\\n            array[ offset + 9 ] = te[ 9 ];\\r\\n            array[ offset + 10 ] = te[ 10 ];\\r\\n            array[ offset + 11 ] = te[ 11 ];\\r\\n\\r\\n            array[ offset + 12 ] = te[ 12 ];\\r\\n            array[ offset + 13 ] = te[ 13 ];\\r\\n            array[ offset + 14 ] = te[ 14 ];\\r\\n            array[ offset + 15 ] = te[ 15 ];\\r\\n\\r\\n            return array;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Quaternion( x, y, z, w ) {\\r\\n\\r\\n        this._x = x || 0;\\r\\n        this._y = y || 0;\\r\\n        this._z = z || 0;\\r\\n        this._w = ( w !== undefined ) ? w : 1;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Quaternion, {\\r\\n\\r\\n        slerp: function ( qa, qb, qm, t ) {\\r\\n\\r\\n            return qm.copy( qa ).slerp( qb, t );\\r\\n\\r\\n        },\\r\\n\\r\\n        slerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\\r\\n\\r\\n            // fuzz-free, array-based Quaternion SLERP operation\\r\\n\\r\\n            var x0 = src0[ srcOffset0 + 0 ],\\r\\n                y0 = src0[ srcOffset0 + 1 ],\\r\\n                z0 = src0[ srcOffset0 + 2 ],\\r\\n                w0 = src0[ srcOffset0 + 3 ],\\r\\n\\r\\n                x1 = src1[ srcOffset1 + 0 ],\\r\\n                y1 = src1[ srcOffset1 + 1 ],\\r\\n                z1 = src1[ srcOffset1 + 2 ],\\r\\n                w1 = src1[ srcOffset1 + 3 ];\\r\\n\\r\\n            if ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\\r\\n\\r\\n                var s = 1 - t,\\r\\n\\r\\n                    cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\\r\\n\\r\\n                    dir = ( cos >= 0 ? 1 : - 1 ),\\r\\n                    sqrSin = 1 - cos * cos;\\r\\n\\r\\n                // Skip the Slerp for tiny steps to avoid numeric problems:\\r\\n                if ( sqrSin > Number.EPSILON ) {\\r\\n\\r\\n                    var sin = Math.sqrt( sqrSin ),\\r\\n                        len = Math.atan2( sin, cos * dir );\\r\\n\\r\\n                    s = Math.sin( s * len ) / sin;\\r\\n                    t = Math.sin( t * len ) / sin;\\r\\n\\r\\n                }\\r\\n\\r\\n                var tDir = t * dir;\\r\\n\\r\\n                x0 = x0 * s + x1 * tDir;\\r\\n                y0 = y0 * s + y1 * tDir;\\r\\n                z0 = z0 * s + z1 * tDir;\\r\\n                w0 = w0 * s + w1 * tDir;\\r\\n\\r\\n                // Normalize in case we just did a lerp:\\r\\n                if ( s === 1 - t ) {\\r\\n\\r\\n                    var f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\\r\\n\\r\\n                    x0 *= f;\\r\\n                    y0 *= f;\\r\\n                    z0 *= f;\\r\\n                    w0 *= f;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            dst[ dstOffset ] = x0;\\r\\n            dst[ dstOffset + 1 ] = y0;\\r\\n            dst[ dstOffset + 2 ] = z0;\\r\\n            dst[ dstOffset + 3 ] = w0;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( Quaternion.prototype, {\\r\\n\\r\\n        x: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._x;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._x = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        y: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._y;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._y = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        z: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._z;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._z = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        w: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._w;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._w = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Quaternion.prototype, {\\r\\n\\r\\n        isQuaternion: true,\\r\\n\\r\\n        set: function ( x, y, z, w ) {\\r\\n\\r\\n            this._x = x;\\r\\n            this._y = y;\\r\\n            this._z = z;\\r\\n            this._w = w;\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this._x, this._y, this._z, this._w );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( quaternion ) {\\r\\n\\r\\n            this._x = quaternion.x;\\r\\n            this._y = quaternion.y;\\r\\n            this._z = quaternion.z;\\r\\n            this._w = quaternion.w;\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromEuler: function ( euler, update ) {\\r\\n\\r\\n            if ( ! ( euler && euler.isEuler ) ) {\\r\\n\\r\\n                throw new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            var x = euler._x, y = euler._y, z = euler._z, order = euler.order;\\r\\n\\r\\n            // http://www.mathworks.com/matlabcentral/fileexchange/\\r\\n            // \\t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\\r\\n            //\\tcontent/SpinCalc.m\\r\\n\\r\\n            var cos = Math.cos;\\r\\n            var sin = Math.sin;\\r\\n\\r\\n            var c1 = cos( x / 2 );\\r\\n            var c2 = cos( y / 2 );\\r\\n            var c3 = cos( z / 2 );\\r\\n\\r\\n            var s1 = sin( x / 2 );\\r\\n            var s2 = sin( y / 2 );\\r\\n            var s3 = sin( z / 2 );\\r\\n\\r\\n            if ( order === 'XYZ' ) {\\r\\n\\r\\n                this._x = s1 * c2 * c3 + c1 * s2 * s3;\\r\\n                this._y = c1 * s2 * c3 - s1 * c2 * s3;\\r\\n                this._z = c1 * c2 * s3 + s1 * s2 * c3;\\r\\n                this._w = c1 * c2 * c3 - s1 * s2 * s3;\\r\\n\\r\\n            } else if ( order === 'YXZ' ) {\\r\\n\\r\\n                this._x = s1 * c2 * c3 + c1 * s2 * s3;\\r\\n                this._y = c1 * s2 * c3 - s1 * c2 * s3;\\r\\n                this._z = c1 * c2 * s3 - s1 * s2 * c3;\\r\\n                this._w = c1 * c2 * c3 + s1 * s2 * s3;\\r\\n\\r\\n            } else if ( order === 'ZXY' ) {\\r\\n\\r\\n                this._x = s1 * c2 * c3 - c1 * s2 * s3;\\r\\n                this._y = c1 * s2 * c3 + s1 * c2 * s3;\\r\\n                this._z = c1 * c2 * s3 + s1 * s2 * c3;\\r\\n                this._w = c1 * c2 * c3 - s1 * s2 * s3;\\r\\n\\r\\n            } else if ( order === 'ZYX' ) {\\r\\n\\r\\n                this._x = s1 * c2 * c3 - c1 * s2 * s3;\\r\\n                this._y = c1 * s2 * c3 + s1 * c2 * s3;\\r\\n                this._z = c1 * c2 * s3 - s1 * s2 * c3;\\r\\n                this._w = c1 * c2 * c3 + s1 * s2 * s3;\\r\\n\\r\\n            } else if ( order === 'YZX' ) {\\r\\n\\r\\n                this._x = s1 * c2 * c3 + c1 * s2 * s3;\\r\\n                this._y = c1 * s2 * c3 + s1 * c2 * s3;\\r\\n                this._z = c1 * c2 * s3 - s1 * s2 * c3;\\r\\n                this._w = c1 * c2 * c3 - s1 * s2 * s3;\\r\\n\\r\\n            } else if ( order === 'XZY' ) {\\r\\n\\r\\n                this._x = s1 * c2 * c3 - c1 * s2 * s3;\\r\\n                this._y = c1 * s2 * c3 - s1 * c2 * s3;\\r\\n                this._z = c1 * c2 * s3 + s1 * s2 * c3;\\r\\n                this._w = c1 * c2 * c3 + s1 * s2 * s3;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( update !== false ) this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromAxisAngle: function ( axis, angle ) {\\r\\n\\r\\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\\r\\n\\r\\n            // assumes axis is normalized\\r\\n\\r\\n            var halfAngle = angle / 2, s = Math.sin( halfAngle );\\r\\n\\r\\n            this._x = axis.x * s;\\r\\n            this._y = axis.y * s;\\r\\n            this._z = axis.z * s;\\r\\n            this._w = Math.cos( halfAngle );\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromRotationMatrix: function ( m ) {\\r\\n\\r\\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\\r\\n\\r\\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\\r\\n\\r\\n            var te = m.elements,\\r\\n\\r\\n                m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\\r\\n                m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\\r\\n                m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\\r\\n\\r\\n                trace = m11 + m22 + m33,\\r\\n                s;\\r\\n\\r\\n            if ( trace > 0 ) {\\r\\n\\r\\n                s = 0.5 / Math.sqrt( trace + 1.0 );\\r\\n\\r\\n                this._w = 0.25 / s;\\r\\n                this._x = ( m32 - m23 ) * s;\\r\\n                this._y = ( m13 - m31 ) * s;\\r\\n                this._z = ( m21 - m12 ) * s;\\r\\n\\r\\n            } else if ( m11 > m22 && m11 > m33 ) {\\r\\n\\r\\n                s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\\r\\n\\r\\n                this._w = ( m32 - m23 ) / s;\\r\\n                this._x = 0.25 * s;\\r\\n                this._y = ( m12 + m21 ) / s;\\r\\n                this._z = ( m13 + m31 ) / s;\\r\\n\\r\\n            } else if ( m22 > m33 ) {\\r\\n\\r\\n                s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\\r\\n\\r\\n                this._w = ( m13 - m31 ) / s;\\r\\n                this._x = ( m12 + m21 ) / s;\\r\\n                this._y = 0.25 * s;\\r\\n                this._z = ( m23 + m32 ) / s;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\\r\\n\\r\\n                this._w = ( m21 - m12 ) / s;\\r\\n                this._x = ( m13 + m31 ) / s;\\r\\n                this._y = ( m23 + m32 ) / s;\\r\\n                this._z = 0.25 * s;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromUnitVectors: function () {\\r\\n\\r\\n            // assumes direction vectors vFrom and vTo are normalized\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n            var r;\\r\\n\\r\\n            var EPS = 0.000001;\\r\\n\\r\\n            return function setFromUnitVectors( vFrom, vTo ) {\\r\\n\\r\\n                if ( v1 === undefined ) v1 = new Vector3();\\r\\n\\r\\n                r = vFrom.dot( vTo ) + 1;\\r\\n\\r\\n                if ( r < EPS ) {\\r\\n\\r\\n                    r = 0;\\r\\n\\r\\n                    if ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\\r\\n\\r\\n                        v1.set( - vFrom.y, vFrom.x, 0 );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        v1.set( 0, - vFrom.z, vFrom.y );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    v1.crossVectors( vFrom, vTo );\\r\\n\\r\\n                }\\r\\n\\r\\n                this._x = v1.x;\\r\\n                this._y = v1.y;\\r\\n                this._z = v1.z;\\r\\n                this._w = r;\\r\\n\\r\\n                return this.normalize();\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        angleTo: function ( q ) {\\r\\n\\r\\n            return 2 * Math.acos( Math.abs( _Math.clamp( this.dot( q ), - 1, 1 ) ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        rotateTowards: function ( q, step ) {\\r\\n\\r\\n            var angle = this.angleTo( q );\\r\\n\\r\\n            if ( angle === 0 ) return this;\\r\\n\\r\\n            var t = Math.min( 1, step / angle );\\r\\n\\r\\n            this.slerp( q, t );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        inverse: function () {\\r\\n\\r\\n            // quaternion is assumed to have unit length\\r\\n\\r\\n            return this.conjugate();\\r\\n\\r\\n        },\\r\\n\\r\\n        conjugate: function () {\\r\\n\\r\\n            this._x *= - 1;\\r\\n            this._y *= - 1;\\r\\n            this._z *= - 1;\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dot: function ( v ) {\\r\\n\\r\\n            return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\\r\\n\\r\\n        },\\r\\n\\r\\n        lengthSq: function () {\\r\\n\\r\\n            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\\r\\n\\r\\n        },\\r\\n\\r\\n        length: function () {\\r\\n\\r\\n            return Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\\r\\n\\r\\n        },\\r\\n\\r\\n        normalize: function () {\\r\\n\\r\\n            var l = this.length();\\r\\n\\r\\n            if ( l === 0 ) {\\r\\n\\r\\n                this._x = 0;\\r\\n                this._y = 0;\\r\\n                this._z = 0;\\r\\n                this._w = 1;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                l = 1 / l;\\r\\n\\r\\n                this._x = this._x * l;\\r\\n                this._y = this._y * l;\\r\\n                this._z = this._z * l;\\r\\n                this._w = this._w * l;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiply: function ( q, p ) {\\r\\n\\r\\n            if ( p !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\\r\\n                return this.multiplyQuaternions( q, p );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.multiplyQuaternions( this, q );\\r\\n\\r\\n        },\\r\\n\\r\\n        premultiply: function ( q ) {\\r\\n\\r\\n            return this.multiplyQuaternions( q, this );\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyQuaternions: function ( a, b ) {\\r\\n\\r\\n            // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\\r\\n\\r\\n            var qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\\r\\n            var qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\\r\\n\\r\\n            this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\\r\\n            this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\\r\\n            this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\\r\\n            this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        slerp: function ( qb, t ) {\\r\\n\\r\\n            if ( t === 0 ) return this;\\r\\n            if ( t === 1 ) return this.copy( qb );\\r\\n\\r\\n            var x = this._x, y = this._y, z = this._z, w = this._w;\\r\\n\\r\\n            // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\\r\\n\\r\\n            var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\\r\\n\\r\\n            if ( cosHalfTheta < 0 ) {\\r\\n\\r\\n                this._w = - qb._w;\\r\\n                this._x = - qb._x;\\r\\n                this._y = - qb._y;\\r\\n                this._z = - qb._z;\\r\\n\\r\\n                cosHalfTheta = - cosHalfTheta;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.copy( qb );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( cosHalfTheta >= 1.0 ) {\\r\\n\\r\\n                this._w = w;\\r\\n                this._x = x;\\r\\n                this._y = y;\\r\\n                this._z = z;\\r\\n\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\\r\\n\\r\\n            if ( sqrSinHalfTheta <= Number.EPSILON ) {\\r\\n\\r\\n                var s = 1 - t;\\r\\n                this._w = s * w + t * this._w;\\r\\n                this._x = s * x + t * this._x;\\r\\n                this._y = s * y + t * this._y;\\r\\n                this._z = s * z + t * this._z;\\r\\n\\r\\n                return this.normalize();\\r\\n\\r\\n            }\\r\\n\\r\\n            var sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\\r\\n            var halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\\r\\n            var ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\\r\\n                ratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\\r\\n\\r\\n            this._w = ( w * ratioA + this._w * ratioB );\\r\\n            this._x = ( x * ratioA + this._x * ratioB );\\r\\n            this._y = ( y * ratioA + this._y * ratioB );\\r\\n            this._z = ( z * ratioA + this._z * ratioB );\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( quaternion ) {\\r\\n\\r\\n            return ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this._x = array[ offset ];\\r\\n            this._y = array[ offset + 1 ];\\r\\n            this._z = array[ offset + 2 ];\\r\\n            this._w = array[ offset + 3 ];\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            array[ offset ] = this._x;\\r\\n            array[ offset + 1 ] = this._y;\\r\\n            array[ offset + 2 ] = this._z;\\r\\n            array[ offset + 3 ] = this._w;\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        onChange: function ( callback ) {\\r\\n\\r\\n            this.onChangeCallback = callback;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        onChangeCallback: function () {}\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author kile / http://kile.stravaganza.org/\\r\\n     * @author philogb / http://blog.thejit.org/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author egraether / http://egraether.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function Vector3( x, y, z ) {\\r\\n\\r\\n        this.x = x || 0;\\r\\n        this.y = y || 0;\\r\\n        this.z = z || 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Vector3.prototype, {\\r\\n\\r\\n        isVector3: true,\\r\\n\\r\\n        set: function ( x, y, z ) {\\r\\n\\r\\n            this.x = x;\\r\\n            this.y = y;\\r\\n            this.z = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setScalar: function ( scalar ) {\\r\\n\\r\\n            this.x = scalar;\\r\\n            this.y = scalar;\\r\\n            this.z = scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setX: function ( x ) {\\r\\n\\r\\n            this.x = x;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setY: function ( y ) {\\r\\n\\r\\n            this.y = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setZ: function ( z ) {\\r\\n\\r\\n            this.z = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setComponent: function ( index, value ) {\\r\\n\\r\\n            switch ( index ) {\\r\\n\\r\\n                case 0: this.x = value; break;\\r\\n                case 1: this.y = value; break;\\r\\n                case 2: this.z = value; break;\\r\\n                default: throw new Error( 'index is out of range: ' + index );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getComponent: function ( index ) {\\r\\n\\r\\n            switch ( index ) {\\r\\n\\r\\n                case 0: return this.x;\\r\\n                case 1: return this.y;\\r\\n                case 2: return this.z;\\r\\n                default: throw new Error( 'index is out of range: ' + index );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.x, this.y, this.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( v ) {\\r\\n\\r\\n            this.x = v.x;\\r\\n            this.y = v.y;\\r\\n            this.z = v.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        add: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\\r\\n                return this.addVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x += v.x;\\r\\n            this.y += v.y;\\r\\n            this.z += v.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScalar: function ( s ) {\\r\\n\\r\\n            this.x += s;\\r\\n            this.y += s;\\r\\n            this.z += s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x + b.x;\\r\\n            this.y = a.y + b.y;\\r\\n            this.z = a.z + b.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScaledVector: function ( v, s ) {\\r\\n\\r\\n            this.x += v.x * s;\\r\\n            this.y += v.y * s;\\r\\n            this.z += v.z * s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        sub: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\\r\\n                return this.subVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x -= v.x;\\r\\n            this.y -= v.y;\\r\\n            this.z -= v.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        subScalar: function ( s ) {\\r\\n\\r\\n            this.x -= s;\\r\\n            this.y -= s;\\r\\n            this.z -= s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        subVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x - b.x;\\r\\n            this.y = a.y - b.y;\\r\\n            this.z = a.z - b.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiply: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\\r\\n                return this.multiplyVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x *= v.x;\\r\\n            this.y *= v.y;\\r\\n            this.z *= v.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyScalar: function ( scalar ) {\\r\\n\\r\\n            this.x *= scalar;\\r\\n            this.y *= scalar;\\r\\n            this.z *= scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x * b.x;\\r\\n            this.y = a.y * b.y;\\r\\n            this.z = a.z * b.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyEuler: function () {\\r\\n\\r\\n            var quaternion = new Quaternion();\\r\\n\\r\\n            return function applyEuler( euler ) {\\r\\n\\r\\n                if ( ! ( euler && euler.isEuler ) ) {\\r\\n\\r\\n                    console.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\\r\\n\\r\\n                }\\r\\n\\r\\n                return this.applyQuaternion( quaternion.setFromEuler( euler ) );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        applyAxisAngle: function () {\\r\\n\\r\\n            var quaternion = new Quaternion();\\r\\n\\r\\n            return function applyAxisAngle( axis, angle ) {\\r\\n\\r\\n                return this.applyQuaternion( quaternion.setFromAxisAngle( axis, angle ) );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        applyMatrix3: function ( m ) {\\r\\n\\r\\n            var x = this.x, y = this.y, z = this.z;\\r\\n            var e = m.elements;\\r\\n\\r\\n            this.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\\r\\n            this.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\\r\\n            this.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix4: function ( m ) {\\r\\n\\r\\n            var x = this.x, y = this.y, z = this.z;\\r\\n            var e = m.elements;\\r\\n\\r\\n            var w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\\r\\n\\r\\n            this.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\\r\\n            this.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\\r\\n            this.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyQuaternion: function ( q ) {\\r\\n\\r\\n            var x = this.x, y = this.y, z = this.z;\\r\\n            var qx = q.x, qy = q.y, qz = q.z, qw = q.w;\\r\\n\\r\\n            // calculate quat * vector\\r\\n\\r\\n            var ix = qw * x + qy * z - qz * y;\\r\\n            var iy = qw * y + qz * x - qx * z;\\r\\n            var iz = qw * z + qx * y - qy * x;\\r\\n            var iw = - qx * x - qy * y - qz * z;\\r\\n\\r\\n            // calculate result * inverse quat\\r\\n\\r\\n            this.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\\r\\n            this.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\\r\\n            this.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        project: function ( camera ) {\\r\\n\\r\\n            return this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\\r\\n\\r\\n        },\\r\\n\\r\\n        unproject: function () {\\r\\n\\r\\n            var matrix = new Matrix4();\\r\\n\\r\\n            return function unproject( camera ) {\\r\\n\\r\\n                return this.applyMatrix4( matrix.getInverse( camera.projectionMatrix ) ).applyMatrix4( camera.matrixWorld );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        transformDirection: function ( m ) {\\r\\n\\r\\n            // input: THREE.Matrix4 affine matrix\\r\\n            // vector interpreted as a direction\\r\\n\\r\\n            var x = this.x, y = this.y, z = this.z;\\r\\n            var e = m.elements;\\r\\n\\r\\n            this.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\\r\\n            this.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\\r\\n            this.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\\r\\n\\r\\n            return this.normalize();\\r\\n\\r\\n        },\\r\\n\\r\\n        divide: function ( v ) {\\r\\n\\r\\n            this.x /= v.x;\\r\\n            this.y /= v.y;\\r\\n            this.z /= v.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        divideScalar: function ( scalar ) {\\r\\n\\r\\n            return this.multiplyScalar( 1 / scalar );\\r\\n\\r\\n        },\\r\\n\\r\\n        min: function ( v ) {\\r\\n\\r\\n            this.x = Math.min( this.x, v.x );\\r\\n            this.y = Math.min( this.y, v.y );\\r\\n            this.z = Math.min( this.z, v.z );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        max: function ( v ) {\\r\\n\\r\\n            this.x = Math.max( this.x, v.x );\\r\\n            this.y = Math.max( this.y, v.y );\\r\\n            this.z = Math.max( this.z, v.z );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clamp: function ( min, max ) {\\r\\n\\r\\n            // assumes min < max, componentwise\\r\\n\\r\\n            this.x = Math.max( min.x, Math.min( max.x, this.x ) );\\r\\n            this.y = Math.max( min.y, Math.min( max.y, this.y ) );\\r\\n            this.z = Math.max( min.z, Math.min( max.z, this.z ) );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clampScalar: function () {\\r\\n\\r\\n            var min = new Vector3();\\r\\n            var max = new Vector3();\\r\\n\\r\\n            return function clampScalar( minVal, maxVal ) {\\r\\n\\r\\n                min.set( minVal, minVal, minVal );\\r\\n                max.set( maxVal, maxVal, maxVal );\\r\\n\\r\\n                return this.clamp( min, max );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        clampLength: function ( min, max ) {\\r\\n\\r\\n            var length = this.length();\\r\\n\\r\\n            return this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        floor: function () {\\r\\n\\r\\n            this.x = Math.floor( this.x );\\r\\n            this.y = Math.floor( this.y );\\r\\n            this.z = Math.floor( this.z );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        ceil: function () {\\r\\n\\r\\n            this.x = Math.ceil( this.x );\\r\\n            this.y = Math.ceil( this.y );\\r\\n            this.z = Math.ceil( this.z );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        round: function () {\\r\\n\\r\\n            this.x = Math.round( this.x );\\r\\n            this.y = Math.round( this.y );\\r\\n            this.z = Math.round( this.z );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        roundToZero: function () {\\r\\n\\r\\n            this.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\\r\\n            this.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\\r\\n            this.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        negate: function () {\\r\\n\\r\\n            this.x = - this.x;\\r\\n            this.y = - this.y;\\r\\n            this.z = - this.z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dot: function ( v ) {\\r\\n\\r\\n            return this.x * v.x + this.y * v.y + this.z * v.z;\\r\\n\\r\\n        },\\r\\n\\r\\n        // TODO lengthSquared?\\r\\n\\r\\n        lengthSq: function () {\\r\\n\\r\\n            return this.x * this.x + this.y * this.y + this.z * this.z;\\r\\n\\r\\n        },\\r\\n\\r\\n        length: function () {\\r\\n\\r\\n            return Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        manhattanLength: function () {\\r\\n\\r\\n            return Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        normalize: function () {\\r\\n\\r\\n            return this.divideScalar( this.length() || 1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        setLength: function ( length ) {\\r\\n\\r\\n            return this.normalize().multiplyScalar( length );\\r\\n\\r\\n        },\\r\\n\\r\\n        lerp: function ( v, alpha ) {\\r\\n\\r\\n            this.x += ( v.x - this.x ) * alpha;\\r\\n            this.y += ( v.y - this.y ) * alpha;\\r\\n            this.z += ( v.z - this.z ) * alpha;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        lerpVectors: function ( v1, v2, alpha ) {\\r\\n\\r\\n            return this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        cross: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\\r\\n                return this.crossVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.crossVectors( this, v );\\r\\n\\r\\n        },\\r\\n\\r\\n        crossVectors: function ( a, b ) {\\r\\n\\r\\n            var ax = a.x, ay = a.y, az = a.z;\\r\\n            var bx = b.x, by = b.y, bz = b.z;\\r\\n\\r\\n            this.x = ay * bz - az * by;\\r\\n            this.y = az * bx - ax * bz;\\r\\n            this.z = ax * by - ay * bx;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        projectOnVector: function ( vector ) {\\r\\n\\r\\n            var scalar = vector.dot( this ) / vector.lengthSq();\\r\\n\\r\\n            return this.copy( vector ).multiplyScalar( scalar );\\r\\n\\r\\n        },\\r\\n\\r\\n        projectOnPlane: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function projectOnPlane( planeNormal ) {\\r\\n\\r\\n                v1.copy( this ).projectOnVector( planeNormal );\\r\\n\\r\\n                return this.sub( v1 );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        reflect: function () {\\r\\n\\r\\n            // reflect incident vector off plane orthogonal to normal\\r\\n            // normal is assumed to have unit length\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function reflect( normal ) {\\r\\n\\r\\n                return this.sub( v1.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        angleTo: function ( v ) {\\r\\n\\r\\n            var theta = this.dot( v ) / ( Math.sqrt( this.lengthSq() * v.lengthSq() ) );\\r\\n\\r\\n            // clamp, to handle numerical problems\\r\\n\\r\\n            return Math.acos( _Math.clamp( theta, - 1, 1 ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceTo: function ( v ) {\\r\\n\\r\\n            return Math.sqrt( this.distanceToSquared( v ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToSquared: function ( v ) {\\r\\n\\r\\n            var dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\\r\\n\\r\\n            return dx * dx + dy * dy + dz * dz;\\r\\n\\r\\n        },\\r\\n\\r\\n        manhattanDistanceTo: function ( v ) {\\r\\n\\r\\n            return Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromSpherical: function ( s ) {\\r\\n\\r\\n            return this.setFromSphericalCoords( s.radius, s.phi, s.theta );\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromSphericalCoords: function ( radius, phi, theta ) {\\r\\n\\r\\n            var sinPhiRadius = Math.sin( phi ) * radius;\\r\\n\\r\\n            this.x = sinPhiRadius * Math.sin( theta );\\r\\n            this.y = Math.cos( phi ) * radius;\\r\\n            this.z = sinPhiRadius * Math.cos( theta );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCylindrical: function ( c ) {\\r\\n\\r\\n            return this.setFromCylindricalCoords( c.radius, c.theta, c.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCylindricalCoords: function ( radius, theta, y ) {\\r\\n\\r\\n            this.x = radius * Math.sin( theta );\\r\\n            this.y = y;\\r\\n            this.z = radius * Math.cos( theta );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromMatrixPosition: function ( m ) {\\r\\n\\r\\n            var e = m.elements;\\r\\n\\r\\n            this.x = e[ 12 ];\\r\\n            this.y = e[ 13 ];\\r\\n            this.z = e[ 14 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromMatrixScale: function ( m ) {\\r\\n\\r\\n            var sx = this.setFromMatrixColumn( m, 0 ).length();\\r\\n            var sy = this.setFromMatrixColumn( m, 1 ).length();\\r\\n            var sz = this.setFromMatrixColumn( m, 2 ).length();\\r\\n\\r\\n            this.x = sx;\\r\\n            this.y = sy;\\r\\n            this.z = sz;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromMatrixColumn: function ( m, index ) {\\r\\n\\r\\n            return this.fromArray( m.elements, index * 4 );\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( v ) {\\r\\n\\r\\n            return ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this.x = array[ offset ];\\r\\n            this.y = array[ offset + 1 ];\\r\\n            this.z = array[ offset + 2 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            array[ offset ] = this.x;\\r\\n            array[ offset + 1 ] = this.y;\\r\\n            array[ offset + 2 ] = this.z;\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromBufferAttribute: function ( attribute, index, offset ) {\\r\\n\\r\\n            if ( offset !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x = attribute.getX( index );\\r\\n            this.y = attribute.getY( index );\\r\\n            this.z = attribute.getZ( index );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function Matrix3() {\\r\\n\\r\\n        this.elements = [\\r\\n\\r\\n            1, 0, 0,\\r\\n            0, 1, 0,\\r\\n            0, 0, 1\\r\\n\\r\\n        ];\\r\\n\\r\\n        if ( arguments.length > 0 ) {\\r\\n\\r\\n            console.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Matrix3.prototype, {\\r\\n\\r\\n        isMatrix3: true,\\r\\n\\r\\n        set: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\\r\\n            te[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\\r\\n            te[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        identity: function () {\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                1, 0, 0,\\r\\n                0, 1, 0,\\r\\n                0, 0, 1\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().fromArray( this.elements );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( m ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var me = m.elements;\\r\\n\\r\\n            te[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\\r\\n            te[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\\r\\n            te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromMatrix4: function ( m ) {\\r\\n\\r\\n            var me = m.elements;\\r\\n\\r\\n            this.set(\\r\\n\\r\\n                me[ 0 ], me[ 4 ], me[ 8 ],\\r\\n                me[ 1 ], me[ 5 ], me[ 9 ],\\r\\n                me[ 2 ], me[ 6 ], me[ 10 ]\\r\\n\\r\\n            );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyToBufferAttribute: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function applyToBufferAttribute( attribute ) {\\r\\n\\r\\n                for ( var i = 0, l = attribute.count; i < l; i ++ ) {\\r\\n\\r\\n                    v1.x = attribute.getX( i );\\r\\n                    v1.y = attribute.getY( i );\\r\\n                    v1.z = attribute.getZ( i );\\r\\n\\r\\n                    v1.applyMatrix3( this );\\r\\n\\r\\n                    attribute.setXYZ( i, v1.x, v1.y, v1.z );\\r\\n\\r\\n                }\\r\\n\\r\\n                return attribute;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        multiply: function ( m ) {\\r\\n\\r\\n            return this.multiplyMatrices( this, m );\\r\\n\\r\\n        },\\r\\n\\r\\n        premultiply: function ( m ) {\\r\\n\\r\\n            return this.multiplyMatrices( m, this );\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyMatrices: function ( a, b ) {\\r\\n\\r\\n            var ae = a.elements;\\r\\n            var be = b.elements;\\r\\n            var te = this.elements;\\r\\n\\r\\n            var a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\\r\\n            var a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\\r\\n            var a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\\r\\n\\r\\n            var b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\\r\\n            var b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\\r\\n            var b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\\r\\n\\r\\n            te[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\\r\\n            te[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\\r\\n            te[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\\r\\n\\r\\n            te[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\\r\\n            te[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\\r\\n            te[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\\r\\n\\r\\n            te[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\\r\\n            te[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\\r\\n            te[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyScalar: function ( s ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\\r\\n            te[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\\r\\n            te[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        determinant: function () {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            var a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\\r\\n                d = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\\r\\n                g = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\\r\\n\\r\\n            return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\\r\\n\\r\\n        },\\r\\n\\r\\n        getInverse: function ( matrix, throwOnDegenerate ) {\\r\\n\\r\\n            if ( matrix && matrix.isMatrix4 ) {\\r\\n\\r\\n                console.error( \\\"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\\\" );\\r\\n\\r\\n            }\\r\\n\\r\\n            var me = matrix.elements,\\r\\n                te = this.elements,\\r\\n\\r\\n                n11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\\r\\n                n12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\\r\\n                n13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\\r\\n\\r\\n                t11 = n33 * n22 - n32 * n23,\\r\\n                t12 = n32 * n13 - n33 * n12,\\r\\n                t13 = n23 * n12 - n22 * n13,\\r\\n\\r\\n                det = n11 * t11 + n21 * t12 + n31 * t13;\\r\\n\\r\\n            if ( det === 0 ) {\\r\\n\\r\\n                var msg = \\\"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\\\";\\r\\n\\r\\n                if ( throwOnDegenerate === true ) {\\r\\n\\r\\n                    throw new Error( msg );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    console.warn( msg );\\r\\n\\r\\n                }\\r\\n\\r\\n                return this.identity();\\r\\n\\r\\n            }\\r\\n\\r\\n            var detInv = 1 / det;\\r\\n\\r\\n            te[ 0 ] = t11 * detInv;\\r\\n            te[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\\r\\n            te[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\\r\\n\\r\\n            te[ 3 ] = t12 * detInv;\\r\\n            te[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\\r\\n            te[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\\r\\n\\r\\n            te[ 6 ] = t13 * detInv;\\r\\n            te[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\\r\\n            te[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        transpose: function () {\\r\\n\\r\\n            var tmp, m = this.elements;\\r\\n\\r\\n            tmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\\r\\n            tmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\\r\\n            tmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getNormalMatrix: function ( matrix4 ) {\\r\\n\\r\\n            return this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\\r\\n\\r\\n        },\\r\\n\\r\\n        transposeIntoArray: function ( r ) {\\r\\n\\r\\n            var m = this.elements;\\r\\n\\r\\n            r[ 0 ] = m[ 0 ];\\r\\n            r[ 1 ] = m[ 3 ];\\r\\n            r[ 2 ] = m[ 6 ];\\r\\n            r[ 3 ] = m[ 1 ];\\r\\n            r[ 4 ] = m[ 4 ];\\r\\n            r[ 5 ] = m[ 7 ];\\r\\n            r[ 6 ] = m[ 2 ];\\r\\n            r[ 7 ] = m[ 5 ];\\r\\n            r[ 8 ] = m[ 8 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\\r\\n\\r\\n            var c = Math.cos( rotation );\\r\\n            var s = Math.sin( rotation );\\r\\n\\r\\n            this.set(\\r\\n                sx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\\r\\n                - sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\\r\\n                0, 0, 1\\r\\n            );\\r\\n\\r\\n        },\\r\\n\\r\\n        scale: function ( sx, sy ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\\r\\n            te[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        rotate: function ( theta ) {\\r\\n\\r\\n            var c = Math.cos( theta );\\r\\n            var s = Math.sin( theta );\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            var a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\\r\\n            var a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\\r\\n\\r\\n            te[ 0 ] = c * a11 + s * a21;\\r\\n            te[ 3 ] = c * a12 + s * a22;\\r\\n            te[ 6 ] = c * a13 + s * a23;\\r\\n\\r\\n            te[ 1 ] = - s * a11 + c * a21;\\r\\n            te[ 4 ] = - s * a12 + c * a22;\\r\\n            te[ 7 ] = - s * a13 + c * a23;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        translate: function ( tx, ty ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            te[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\\r\\n            te[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( matrix ) {\\r\\n\\r\\n            var te = this.elements;\\r\\n            var me = matrix.elements;\\r\\n\\r\\n            for ( var i = 0; i < 9; i ++ ) {\\r\\n\\r\\n                if ( te[ i ] !== me[ i ] ) return false;\\r\\n\\r\\n            }\\r\\n\\r\\n            return true;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            for ( var i = 0; i < 9; i ++ ) {\\r\\n\\r\\n                this.elements[ i ] = array[ i + offset ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            var te = this.elements;\\r\\n\\r\\n            array[ offset ] = te[ 0 ];\\r\\n            array[ offset + 1 ] = te[ 1 ];\\r\\n            array[ offset + 2 ] = te[ 2 ];\\r\\n\\r\\n            array[ offset + 3 ] = te[ 3 ];\\r\\n            array[ offset + 4 ] = te[ 4 ];\\r\\n            array[ offset + 5 ] = te[ 5 ];\\r\\n\\r\\n            array[ offset + 6 ] = te[ 6 ];\\r\\n            array[ offset + 7 ] = te[ 7 ];\\r\\n            array[ offset + 8 ] = te[ 8 ];\\r\\n\\r\\n            return array;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author szimek / https://github.com/szimek/\\r\\n     */\\r\\n\\r\\n    var ImageUtils = {\\r\\n\\r\\n        getDataURL: function ( image ) {\\r\\n\\r\\n            var canvas;\\r\\n\\r\\n            if ( image instanceof HTMLCanvasElement ) {\\r\\n\\r\\n                canvas = image;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\\r\\n                canvas.width = image.width;\\r\\n                canvas.height = image.height;\\r\\n\\r\\n                var context = canvas.getContext( '2d' );\\r\\n\\r\\n                if ( image instanceof ImageData ) {\\r\\n\\r\\n                    context.putImageData( image, 0, 0 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    context.drawImage( image, 0, 0, image.width, image.height );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( canvas.width > 2048 || canvas.height > 2048 ) {\\r\\n\\r\\n                return canvas.toDataURL( 'image/jpeg', 0.6 );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                return canvas.toDataURL( 'image/png' );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author szimek / https://github.com/szimek/\\r\\n     */\\r\\n\\r\\n    var textureId = 0;\\r\\n\\r\\n    function Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\\r\\n\\r\\n        Object.defineProperty( this, 'id', { value: textureId ++ } );\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        this.name = '';\\r\\n\\r\\n        this.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\\r\\n        this.mipmaps = [];\\r\\n\\r\\n        this.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\\r\\n\\r\\n        this.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\\r\\n        this.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\\r\\n\\r\\n        this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\\r\\n        this.minFilter = minFilter !== undefined ? minFilter : LinearMipMapLinearFilter;\\r\\n\\r\\n        this.anisotropy = anisotropy !== undefined ? anisotropy : 1;\\r\\n\\r\\n        this.format = format !== undefined ? format : RGBAFormat;\\r\\n        this.type = type !== undefined ? type : UnsignedByteType;\\r\\n\\r\\n        this.offset = new Vector2( 0, 0 );\\r\\n        this.repeat = new Vector2( 1, 1 );\\r\\n        this.center = new Vector2( 0, 0 );\\r\\n        this.rotation = 0;\\r\\n\\r\\n        this.matrixAutoUpdate = true;\\r\\n        this.matrix = new Matrix3();\\r\\n\\r\\n        this.generateMipmaps = true;\\r\\n        this.premultiplyAlpha = false;\\r\\n        this.flipY = true;\\r\\n        this.unpackAlignment = 4;\\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\\r\\n\\r\\n        // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\\r\\n        //\\r\\n        // Also changing the encoding after already used by a Material will not automatically make the Material\\r\\n        // update.  You need to explicitly call Material.needsUpdate to trigger it to recompile.\\r\\n        this.encoding = encoding !== undefined ? encoding : LinearEncoding;\\r\\n\\r\\n        this.version = 0;\\r\\n        this.onUpdate = null;\\r\\n\\r\\n    }\\r\\n\\r\\n    Texture.DEFAULT_IMAGE = undefined;\\r\\n    Texture.DEFAULT_MAPPING = UVMapping;\\r\\n\\r\\n    Texture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: Texture,\\r\\n\\r\\n        isTexture: true,\\r\\n\\r\\n        updateMatrix: function () {\\r\\n\\r\\n            this.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.name = source.name;\\r\\n\\r\\n            this.image = source.image;\\r\\n            this.mipmaps = source.mipmaps.slice( 0 );\\r\\n\\r\\n            this.mapping = source.mapping;\\r\\n\\r\\n            this.wrapS = source.wrapS;\\r\\n            this.wrapT = source.wrapT;\\r\\n\\r\\n            this.magFilter = source.magFilter;\\r\\n            this.minFilter = source.minFilter;\\r\\n\\r\\n            this.anisotropy = source.anisotropy;\\r\\n\\r\\n            this.format = source.format;\\r\\n            this.type = source.type;\\r\\n\\r\\n            this.offset.copy( source.offset );\\r\\n            this.repeat.copy( source.repeat );\\r\\n            this.center.copy( source.center );\\r\\n            this.rotation = source.rotation;\\r\\n\\r\\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\\r\\n            this.matrix.copy( source.matrix );\\r\\n\\r\\n            this.generateMipmaps = source.generateMipmaps;\\r\\n            this.premultiplyAlpha = source.premultiplyAlpha;\\r\\n            this.flipY = source.flipY;\\r\\n            this.unpackAlignment = source.unpackAlignment;\\r\\n            this.encoding = source.encoding;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var isRootObject = ( meta === undefined || typeof meta === 'string' );\\r\\n\\r\\n            if ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\\r\\n\\r\\n                return meta.textures[ this.uuid ];\\r\\n\\r\\n            }\\r\\n\\r\\n            var output = {\\r\\n\\r\\n                metadata: {\\r\\n                    version: 4.5,\\r\\n                    type: 'Texture',\\r\\n                    generator: 'Texture.toJSON'\\r\\n                },\\r\\n\\r\\n                uuid: this.uuid,\\r\\n                name: this.name,\\r\\n\\r\\n                mapping: this.mapping,\\r\\n\\r\\n                repeat: [ this.repeat.x, this.repeat.y ],\\r\\n                offset: [ this.offset.x, this.offset.y ],\\r\\n                center: [ this.center.x, this.center.y ],\\r\\n                rotation: this.rotation,\\r\\n\\r\\n                wrap: [ this.wrapS, this.wrapT ],\\r\\n\\r\\n                format: this.format,\\r\\n                minFilter: this.minFilter,\\r\\n                magFilter: this.magFilter,\\r\\n                anisotropy: this.anisotropy,\\r\\n\\r\\n                flipY: this.flipY\\r\\n\\r\\n            };\\r\\n\\r\\n            if ( this.image !== undefined ) {\\r\\n\\r\\n                // TODO: Move to THREE.Image\\r\\n\\r\\n                var image = this.image;\\r\\n\\r\\n                if ( image.uuid === undefined ) {\\r\\n\\r\\n                    image.uuid = _Math.generateUUID(); // UGH\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\\r\\n\\r\\n                    var url;\\r\\n\\r\\n                    if ( Array.isArray( image ) ) {\\r\\n\\r\\n                        // process array of images e.g. CubeTexture\\r\\n\\r\\n                        url = [];\\r\\n\\r\\n                        for ( var i = 0, l = image.length; i < l; i ++ ) {\\r\\n\\r\\n                            url.push( ImageUtils.getDataURL( image[ i ] ) );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // process single image\\r\\n\\r\\n                        url = ImageUtils.getDataURL( image );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    meta.images[ image.uuid ] = {\\r\\n                        uuid: image.uuid,\\r\\n                        url: url\\r\\n                    };\\r\\n\\r\\n                }\\r\\n\\r\\n                output.image = image.uuid;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ! isRootObject ) {\\r\\n\\r\\n                meta.textures[ this.uuid ] = output;\\r\\n\\r\\n            }\\r\\n\\r\\n            return output;\\r\\n\\r\\n        },\\r\\n\\r\\n        dispose: function () {\\r\\n\\r\\n            this.dispatchEvent( { type: 'dispose' } );\\r\\n\\r\\n        },\\r\\n\\r\\n        transformUv: function ( uv ) {\\r\\n\\r\\n            if ( this.mapping !== UVMapping ) return uv;\\r\\n\\r\\n            uv.applyMatrix3( this.matrix );\\r\\n\\r\\n            if ( uv.x < 0 || uv.x > 1 ) {\\r\\n\\r\\n                switch ( this.wrapS ) {\\r\\n\\r\\n                    case RepeatWrapping:\\r\\n\\r\\n                        uv.x = uv.x - Math.floor( uv.x );\\r\\n                        break;\\r\\n\\r\\n                    case ClampToEdgeWrapping:\\r\\n\\r\\n                        uv.x = uv.x < 0 ? 0 : 1;\\r\\n                        break;\\r\\n\\r\\n                    case MirroredRepeatWrapping:\\r\\n\\r\\n                        if ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\\r\\n\\r\\n                            uv.x = Math.ceil( uv.x ) - uv.x;\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            uv.x = uv.x - Math.floor( uv.x );\\r\\n\\r\\n                        }\\r\\n                        break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( uv.y < 0 || uv.y > 1 ) {\\r\\n\\r\\n                switch ( this.wrapT ) {\\r\\n\\r\\n                    case RepeatWrapping:\\r\\n\\r\\n                        uv.y = uv.y - Math.floor( uv.y );\\r\\n                        break;\\r\\n\\r\\n                    case ClampToEdgeWrapping:\\r\\n\\r\\n                        uv.y = uv.y < 0 ? 0 : 1;\\r\\n                        break;\\r\\n\\r\\n                    case MirroredRepeatWrapping:\\r\\n\\r\\n                        if ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\\r\\n\\r\\n                            uv.y = Math.ceil( uv.y ) - uv.y;\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            uv.y = uv.y - Math.floor( uv.y );\\r\\n\\r\\n                        }\\r\\n                        break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.flipY ) {\\r\\n\\r\\n                uv.y = 1 - uv.y;\\r\\n\\r\\n            }\\r\\n\\r\\n            return uv;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperty( Texture.prototype, \\\"needsUpdate\\\", {\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            if ( value === true ) this.version ++;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author supereggbert / http://www.paulbrunt.co.uk/\\r\\n     * @author philogb / http://blog.thejit.org/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author egraether / http://egraether.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function Vector4( x, y, z, w ) {\\r\\n\\r\\n        this.x = x || 0;\\r\\n        this.y = y || 0;\\r\\n        this.z = z || 0;\\r\\n        this.w = ( w !== undefined ) ? w : 1;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Vector4.prototype, {\\r\\n\\r\\n        isVector4: true,\\r\\n\\r\\n        set: function ( x, y, z, w ) {\\r\\n\\r\\n            this.x = x;\\r\\n            this.y = y;\\r\\n            this.z = z;\\r\\n            this.w = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setScalar: function ( scalar ) {\\r\\n\\r\\n            this.x = scalar;\\r\\n            this.y = scalar;\\r\\n            this.z = scalar;\\r\\n            this.w = scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setX: function ( x ) {\\r\\n\\r\\n            this.x = x;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setY: function ( y ) {\\r\\n\\r\\n            this.y = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setZ: function ( z ) {\\r\\n\\r\\n            this.z = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setW: function ( w ) {\\r\\n\\r\\n            this.w = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setComponent: function ( index, value ) {\\r\\n\\r\\n            switch ( index ) {\\r\\n\\r\\n                case 0: this.x = value; break;\\r\\n                case 1: this.y = value; break;\\r\\n                case 2: this.z = value; break;\\r\\n                case 3: this.w = value; break;\\r\\n                default: throw new Error( 'index is out of range: ' + index );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getComponent: function ( index ) {\\r\\n\\r\\n            switch ( index ) {\\r\\n\\r\\n                case 0: return this.x;\\r\\n                case 1: return this.y;\\r\\n                case 2: return this.z;\\r\\n                case 3: return this.w;\\r\\n                default: throw new Error( 'index is out of range: ' + index );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.x, this.y, this.z, this.w );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( v ) {\\r\\n\\r\\n            this.x = v.x;\\r\\n            this.y = v.y;\\r\\n            this.z = v.z;\\r\\n            this.w = ( v.w !== undefined ) ? v.w : 1;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        add: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\\r\\n                return this.addVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x += v.x;\\r\\n            this.y += v.y;\\r\\n            this.z += v.z;\\r\\n            this.w += v.w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScalar: function ( s ) {\\r\\n\\r\\n            this.x += s;\\r\\n            this.y += s;\\r\\n            this.z += s;\\r\\n            this.w += s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x + b.x;\\r\\n            this.y = a.y + b.y;\\r\\n            this.z = a.z + b.z;\\r\\n            this.w = a.w + b.w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScaledVector: function ( v, s ) {\\r\\n\\r\\n            this.x += v.x * s;\\r\\n            this.y += v.y * s;\\r\\n            this.z += v.z * s;\\r\\n            this.w += v.w * s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        sub: function ( v, w ) {\\r\\n\\r\\n            if ( w !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\\r\\n                return this.subVectors( v, w );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x -= v.x;\\r\\n            this.y -= v.y;\\r\\n            this.z -= v.z;\\r\\n            this.w -= v.w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        subScalar: function ( s ) {\\r\\n\\r\\n            this.x -= s;\\r\\n            this.y -= s;\\r\\n            this.z -= s;\\r\\n            this.w -= s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        subVectors: function ( a, b ) {\\r\\n\\r\\n            this.x = a.x - b.x;\\r\\n            this.y = a.y - b.y;\\r\\n            this.z = a.z - b.z;\\r\\n            this.w = a.w - b.w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyScalar: function ( scalar ) {\\r\\n\\r\\n            this.x *= scalar;\\r\\n            this.y *= scalar;\\r\\n            this.z *= scalar;\\r\\n            this.w *= scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix4: function ( m ) {\\r\\n\\r\\n            var x = this.x, y = this.y, z = this.z, w = this.w;\\r\\n            var e = m.elements;\\r\\n\\r\\n            this.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\\r\\n            this.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\\r\\n            this.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\\r\\n            this.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        divideScalar: function ( scalar ) {\\r\\n\\r\\n            return this.multiplyScalar( 1 / scalar );\\r\\n\\r\\n        },\\r\\n\\r\\n        setAxisAngleFromQuaternion: function ( q ) {\\r\\n\\r\\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\\r\\n\\r\\n            // q is assumed to be normalized\\r\\n\\r\\n            this.w = 2 * Math.acos( q.w );\\r\\n\\r\\n            var s = Math.sqrt( 1 - q.w * q.w );\\r\\n\\r\\n            if ( s < 0.0001 ) {\\r\\n\\r\\n                this.x = 1;\\r\\n                this.y = 0;\\r\\n                this.z = 0;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.x = q.x / s;\\r\\n                this.y = q.y / s;\\r\\n                this.z = q.z / s;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setAxisAngleFromRotationMatrix: function ( m ) {\\r\\n\\r\\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\\r\\n\\r\\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\\r\\n\\r\\n            var angle, x, y, z,\\t\\t// variables for result\\r\\n                epsilon = 0.01,\\t\\t// margin to allow for rounding errors\\r\\n                epsilon2 = 0.1,\\t\\t// margin to distinguish between 0 and 180 degrees\\r\\n\\r\\n                te = m.elements,\\r\\n\\r\\n                m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\\r\\n                m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\\r\\n                m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\\r\\n\\r\\n            if ( ( Math.abs( m12 - m21 ) < epsilon ) &&\\r\\n                ( Math.abs( m13 - m31 ) < epsilon ) &&\\r\\n                ( Math.abs( m23 - m32 ) < epsilon ) ) {\\r\\n\\r\\n                // singularity found\\r\\n                // first check for identity matrix which must have +1 for all terms\\r\\n                // in leading diagonal and zero in other terms\\r\\n\\r\\n                if ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\\r\\n                    ( Math.abs( m13 + m31 ) < epsilon2 ) &&\\r\\n                    ( Math.abs( m23 + m32 ) < epsilon2 ) &&\\r\\n                    ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\\r\\n\\r\\n                    // this singularity is identity matrix so angle = 0\\r\\n\\r\\n                    this.set( 1, 0, 0, 0 );\\r\\n\\r\\n                    return this; // zero angle, arbitrary axis\\r\\n\\r\\n                }\\r\\n\\r\\n                // otherwise this singularity is angle = 180\\r\\n\\r\\n                angle = Math.PI;\\r\\n\\r\\n                var xx = ( m11 + 1 ) / 2;\\r\\n                var yy = ( m22 + 1 ) / 2;\\r\\n                var zz = ( m33 + 1 ) / 2;\\r\\n                var xy = ( m12 + m21 ) / 4;\\r\\n                var xz = ( m13 + m31 ) / 4;\\r\\n                var yz = ( m23 + m32 ) / 4;\\r\\n\\r\\n                if ( ( xx > yy ) && ( xx > zz ) ) {\\r\\n\\r\\n                    // m11 is the largest diagonal term\\r\\n\\r\\n                    if ( xx < epsilon ) {\\r\\n\\r\\n                        x = 0;\\r\\n                        y = 0.707106781;\\r\\n                        z = 0.707106781;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        x = Math.sqrt( xx );\\r\\n                        y = xy / x;\\r\\n                        z = xz / x;\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( yy > zz ) {\\r\\n\\r\\n                    // m22 is the largest diagonal term\\r\\n\\r\\n                    if ( yy < epsilon ) {\\r\\n\\r\\n                        x = 0.707106781;\\r\\n                        y = 0;\\r\\n                        z = 0.707106781;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        y = Math.sqrt( yy );\\r\\n                        x = xy / y;\\r\\n                        z = yz / y;\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // m33 is the largest diagonal term so base result on this\\r\\n\\r\\n                    if ( zz < epsilon ) {\\r\\n\\r\\n                        x = 0.707106781;\\r\\n                        y = 0.707106781;\\r\\n                        z = 0;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        z = Math.sqrt( zz );\\r\\n                        x = xz / z;\\r\\n                        y = yz / z;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                this.set( x, y, z, angle );\\r\\n\\r\\n                return this; // return 180 deg rotation\\r\\n\\r\\n            }\\r\\n\\r\\n            // as we have reached here there are no singularities so we can handle normally\\r\\n\\r\\n            var s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\\r\\n                ( m13 - m31 ) * ( m13 - m31 ) +\\r\\n                ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\\r\\n\\r\\n            if ( Math.abs( s ) < 0.001 ) s = 1;\\r\\n\\r\\n            // prevent divide by zero, should not happen if matrix is orthogonal and should be\\r\\n            // caught by singularity test above, but I've left it in just in case\\r\\n\\r\\n            this.x = ( m32 - m23 ) / s;\\r\\n            this.y = ( m13 - m31 ) / s;\\r\\n            this.z = ( m21 - m12 ) / s;\\r\\n            this.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        min: function ( v ) {\\r\\n\\r\\n            this.x = Math.min( this.x, v.x );\\r\\n            this.y = Math.min( this.y, v.y );\\r\\n            this.z = Math.min( this.z, v.z );\\r\\n            this.w = Math.min( this.w, v.w );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        max: function ( v ) {\\r\\n\\r\\n            this.x = Math.max( this.x, v.x );\\r\\n            this.y = Math.max( this.y, v.y );\\r\\n            this.z = Math.max( this.z, v.z );\\r\\n            this.w = Math.max( this.w, v.w );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clamp: function ( min, max ) {\\r\\n\\r\\n            // assumes min < max, componentwise\\r\\n\\r\\n            this.x = Math.max( min.x, Math.min( max.x, this.x ) );\\r\\n            this.y = Math.max( min.y, Math.min( max.y, this.y ) );\\r\\n            this.z = Math.max( min.z, Math.min( max.z, this.z ) );\\r\\n            this.w = Math.max( min.w, Math.min( max.w, this.w ) );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clampScalar: function () {\\r\\n\\r\\n            var min, max;\\r\\n\\r\\n            return function clampScalar( minVal, maxVal ) {\\r\\n\\r\\n                if ( min === undefined ) {\\r\\n\\r\\n                    min = new Vector4();\\r\\n                    max = new Vector4();\\r\\n\\r\\n                }\\r\\n\\r\\n                min.set( minVal, minVal, minVal, minVal );\\r\\n                max.set( maxVal, maxVal, maxVal, maxVal );\\r\\n\\r\\n                return this.clamp( min, max );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        clampLength: function ( min, max ) {\\r\\n\\r\\n            var length = this.length();\\r\\n\\r\\n            return this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        floor: function () {\\r\\n\\r\\n            this.x = Math.floor( this.x );\\r\\n            this.y = Math.floor( this.y );\\r\\n            this.z = Math.floor( this.z );\\r\\n            this.w = Math.floor( this.w );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        ceil: function () {\\r\\n\\r\\n            this.x = Math.ceil( this.x );\\r\\n            this.y = Math.ceil( this.y );\\r\\n            this.z = Math.ceil( this.z );\\r\\n            this.w = Math.ceil( this.w );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        round: function () {\\r\\n\\r\\n            this.x = Math.round( this.x );\\r\\n            this.y = Math.round( this.y );\\r\\n            this.z = Math.round( this.z );\\r\\n            this.w = Math.round( this.w );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        roundToZero: function () {\\r\\n\\r\\n            this.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\\r\\n            this.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\\r\\n            this.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\\r\\n            this.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        negate: function () {\\r\\n\\r\\n            this.x = - this.x;\\r\\n            this.y = - this.y;\\r\\n            this.z = - this.z;\\r\\n            this.w = - this.w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dot: function ( v ) {\\r\\n\\r\\n            return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\\r\\n\\r\\n        },\\r\\n\\r\\n        lengthSq: function () {\\r\\n\\r\\n            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\\r\\n\\r\\n        },\\r\\n\\r\\n        length: function () {\\r\\n\\r\\n            return Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\\r\\n\\r\\n        },\\r\\n\\r\\n        manhattanLength: function () {\\r\\n\\r\\n            return Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\\r\\n\\r\\n        },\\r\\n\\r\\n        normalize: function () {\\r\\n\\r\\n            return this.divideScalar( this.length() || 1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        setLength: function ( length ) {\\r\\n\\r\\n            return this.normalize().multiplyScalar( length );\\r\\n\\r\\n        },\\r\\n\\r\\n        lerp: function ( v, alpha ) {\\r\\n\\r\\n            this.x += ( v.x - this.x ) * alpha;\\r\\n            this.y += ( v.y - this.y ) * alpha;\\r\\n            this.z += ( v.z - this.z ) * alpha;\\r\\n            this.w += ( v.w - this.w ) * alpha;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        lerpVectors: function ( v1, v2, alpha ) {\\r\\n\\r\\n            return this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( v ) {\\r\\n\\r\\n            return ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this.x = array[ offset ];\\r\\n            this.y = array[ offset + 1 ];\\r\\n            this.z = array[ offset + 2 ];\\r\\n            this.w = array[ offset + 3 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            array[ offset ] = this.x;\\r\\n            array[ offset + 1 ] = this.y;\\r\\n            array[ offset + 2 ] = this.z;\\r\\n            array[ offset + 3 ] = this.w;\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromBufferAttribute: function ( attribute, index, offset ) {\\r\\n\\r\\n            if ( offset !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.x = attribute.getX( index );\\r\\n            this.y = attribute.getY( index );\\r\\n            this.z = attribute.getZ( index );\\r\\n            this.w = attribute.getW( index );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author szimek / https://github.com/szimek/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author Marius Kintel / https://github.com/kintel\\r\\n     */\\r\\n\\r\\n    /*\\r\\n\\t In options, we can specify:\\r\\n\\t * Texture parameters for an auto-generated target texture\\r\\n\\t * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\\r\\n\\t*/\\r\\n    function WebGLRenderTarget( width, height, options ) {\\r\\n\\r\\n        this.width = width;\\r\\n        this.height = height;\\r\\n\\r\\n        this.scissor = new Vector4( 0, 0, width, height );\\r\\n        this.scissorTest = false;\\r\\n\\r\\n        this.viewport = new Vector4( 0, 0, width, height );\\r\\n\\r\\n        options = options || {};\\r\\n\\r\\n        if ( options.minFilter === undefined ) options.minFilter = LinearFilter;\\r\\n\\r\\n        this.texture = new Texture( undefined, undefined, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\\r\\n\\r\\n        this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : true;\\r\\n\\r\\n        this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\\r\\n        this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\\r\\n        this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\\r\\n\\r\\n    }\\r\\n\\r\\n    WebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: WebGLRenderTarget,\\r\\n\\r\\n        isWebGLRenderTarget: true,\\r\\n\\r\\n        setSize: function ( width, height ) {\\r\\n\\r\\n            if ( this.width !== width || this.height !== height ) {\\r\\n\\r\\n                this.width = width;\\r\\n                this.height = height;\\r\\n\\r\\n                this.dispose();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.viewport.set( 0, 0, width, height );\\r\\n            this.scissor.set( 0, 0, width, height );\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.width = source.width;\\r\\n            this.height = source.height;\\r\\n\\r\\n            this.viewport.copy( source.viewport );\\r\\n\\r\\n            this.texture = source.texture.clone();\\r\\n\\r\\n            this.depthBuffer = source.depthBuffer;\\r\\n            this.stencilBuffer = source.stencilBuffer;\\r\\n            this.depthTexture = source.depthTexture;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dispose: function () {\\r\\n\\r\\n            this.dispatchEvent( { type: 'dispose' } );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com\\r\\n     */\\r\\n\\r\\n    function WebGLRenderTargetCube( width, height, options ) {\\r\\n\\r\\n        WebGLRenderTarget.call( this, width, height, options );\\r\\n\\r\\n        this.activeCubeFace = 0; // PX 0, NX 1, PY 2, NY 3, PZ 4, NZ 5\\r\\n        this.activeMipMapLevel = 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    WebGLRenderTargetCube.prototype = Object.create( WebGLRenderTarget.prototype );\\r\\n    WebGLRenderTargetCube.prototype.constructor = WebGLRenderTargetCube;\\r\\n\\r\\n    WebGLRenderTargetCube.prototype.isWebGLRenderTargetCube = true;\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\\r\\n\\r\\n        Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\\r\\n\\r\\n        this.image = { data: data, width: width, height: height };\\r\\n\\r\\n        this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\\r\\n        this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\\r\\n\\r\\n        this.generateMipmaps = false;\\r\\n        this.flipY = false;\\r\\n        this.unpackAlignment = 1;\\r\\n\\r\\n    }\\r\\n\\r\\n    DataTexture.prototype = Object.create( Texture.prototype );\\r\\n    DataTexture.prototype.constructor = DataTexture;\\r\\n\\r\\n    DataTexture.prototype.isDataTexture = true;\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function Box3( min, max ) {\\r\\n\\r\\n        this.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\\r\\n        this.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Box3.prototype, {\\r\\n\\r\\n        isBox3: true,\\r\\n\\r\\n        set: function ( min, max ) {\\r\\n\\r\\n            this.min.copy( min );\\r\\n            this.max.copy( max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromArray: function ( array ) {\\r\\n\\r\\n            var minX = + Infinity;\\r\\n            var minY = + Infinity;\\r\\n            var minZ = + Infinity;\\r\\n\\r\\n            var maxX = - Infinity;\\r\\n            var maxY = - Infinity;\\r\\n            var maxZ = - Infinity;\\r\\n\\r\\n            for ( var i = 0, l = array.length; i < l; i += 3 ) {\\r\\n\\r\\n                var x = array[ i ];\\r\\n                var y = array[ i + 1 ];\\r\\n                var z = array[ i + 2 ];\\r\\n\\r\\n                if ( x < minX ) minX = x;\\r\\n                if ( y < minY ) minY = y;\\r\\n                if ( z < minZ ) minZ = z;\\r\\n\\r\\n                if ( x > maxX ) maxX = x;\\r\\n                if ( y > maxY ) maxY = y;\\r\\n                if ( z > maxZ ) maxZ = z;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.min.set( minX, minY, minZ );\\r\\n            this.max.set( maxX, maxY, maxZ );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromBufferAttribute: function ( attribute ) {\\r\\n\\r\\n            var minX = + Infinity;\\r\\n            var minY = + Infinity;\\r\\n            var minZ = + Infinity;\\r\\n\\r\\n            var maxX = - Infinity;\\r\\n            var maxY = - Infinity;\\r\\n            var maxZ = - Infinity;\\r\\n\\r\\n            for ( var i = 0, l = attribute.count; i < l; i ++ ) {\\r\\n\\r\\n                var x = attribute.getX( i );\\r\\n                var y = attribute.getY( i );\\r\\n                var z = attribute.getZ( i );\\r\\n\\r\\n                if ( x < minX ) minX = x;\\r\\n                if ( y < minY ) minY = y;\\r\\n                if ( z < minZ ) minZ = z;\\r\\n\\r\\n                if ( x > maxX ) maxX = x;\\r\\n                if ( y > maxY ) maxY = y;\\r\\n                if ( z > maxZ ) maxZ = z;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.min.set( minX, minY, minZ );\\r\\n            this.max.set( maxX, maxY, maxZ );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromPoints: function ( points ) {\\r\\n\\r\\n            this.makeEmpty();\\r\\n\\r\\n            for ( var i = 0, il = points.length; i < il; i ++ ) {\\r\\n\\r\\n                this.expandByPoint( points[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCenterAndSize: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function setFromCenterAndSize( center, size ) {\\r\\n\\r\\n                var halfSize = v1.copy( size ).multiplyScalar( 0.5 );\\r\\n\\r\\n                this.min.copy( center ).sub( halfSize );\\r\\n                this.max.copy( center ).add( halfSize );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        setFromObject: function ( object ) {\\r\\n\\r\\n            this.makeEmpty();\\r\\n\\r\\n            return this.expandByObject( object );\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( box ) {\\r\\n\\r\\n            this.min.copy( box.min );\\r\\n            this.max.copy( box.max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeEmpty: function () {\\r\\n\\r\\n            this.min.x = this.min.y = this.min.z = + Infinity;\\r\\n            this.max.x = this.max.y = this.max.z = - Infinity;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        isEmpty: function () {\\r\\n\\r\\n            // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\\r\\n\\r\\n            return ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        getCenter: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box3: .getCenter() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\\r\\n\\r\\n        },\\r\\n\\r\\n        getSize: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box3: .getSize() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByPoint: function ( point ) {\\r\\n\\r\\n            this.min.min( point );\\r\\n            this.max.max( point );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByVector: function ( vector ) {\\r\\n\\r\\n            this.min.sub( vector );\\r\\n            this.max.add( vector );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByScalar: function ( scalar ) {\\r\\n\\r\\n            this.min.addScalar( - scalar );\\r\\n            this.max.addScalar( scalar );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByObject: function () {\\r\\n\\r\\n            // Computes the world-axis-aligned bounding box of an object (including its children),\\r\\n            // accounting for both the object's, and children's, world transforms\\r\\n\\r\\n            var scope, i, l;\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            function traverse( node ) {\\r\\n\\r\\n                var geometry = node.geometry;\\r\\n\\r\\n                if ( geometry !== undefined ) {\\r\\n\\r\\n                    if ( geometry.isGeometry ) {\\r\\n\\r\\n                        var vertices = geometry.vertices;\\r\\n\\r\\n                        for ( i = 0, l = vertices.length; i < l; i ++ ) {\\r\\n\\r\\n                            v1.copy( vertices[ i ] );\\r\\n                            v1.applyMatrix4( node.matrixWorld );\\r\\n\\r\\n                            scope.expandByPoint( v1 );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                        var attribute = geometry.attributes.position;\\r\\n\\r\\n                        if ( attribute !== undefined ) {\\r\\n\\r\\n                            for ( i = 0, l = attribute.count; i < l; i ++ ) {\\r\\n\\r\\n                                v1.fromBufferAttribute( attribute, i ).applyMatrix4( node.matrixWorld );\\r\\n\\r\\n                                scope.expandByPoint( v1 );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return function expandByObject( object ) {\\r\\n\\r\\n                scope = this;\\r\\n\\r\\n                object.updateMatrixWorld( true );\\r\\n\\r\\n                object.traverse( traverse );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        containsPoint: function ( point ) {\\r\\n\\r\\n            return point.x < this.min.x || point.x > this.max.x ||\\r\\n            point.y < this.min.y || point.y > this.max.y ||\\r\\n            point.z < this.min.z || point.z > this.max.z ? false : true;\\r\\n\\r\\n        },\\r\\n\\r\\n        containsBox: function ( box ) {\\r\\n\\r\\n            return this.min.x <= box.min.x && box.max.x <= this.max.x &&\\r\\n                this.min.y <= box.min.y && box.max.y <= this.max.y &&\\r\\n                this.min.z <= box.min.z && box.max.z <= this.max.z;\\r\\n\\r\\n        },\\r\\n\\r\\n        getParameter: function ( point, target ) {\\r\\n\\r\\n            // This can potentially have a divide by zero if the box\\r\\n            // has a size dimension of 0.\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box3: .getParameter() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.set(\\r\\n                ( point.x - this.min.x ) / ( this.max.x - this.min.x ),\\r\\n                ( point.y - this.min.y ) / ( this.max.y - this.min.y ),\\r\\n                ( point.z - this.min.z ) / ( this.max.z - this.min.z )\\r\\n            );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: function ( box ) {\\r\\n\\r\\n            // using 6 splitting planes to rule out intersections.\\r\\n            return box.max.x < this.min.x || box.min.x > this.max.x ||\\r\\n            box.max.y < this.min.y || box.min.y > this.max.y ||\\r\\n            box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsSphere: ( function () {\\r\\n\\r\\n            var closestPoint = new Vector3();\\r\\n\\r\\n            return function intersectsSphere( sphere ) {\\r\\n\\r\\n                // Find the point on the AABB closest to the sphere center.\\r\\n                this.clampPoint( sphere.center, closestPoint );\\r\\n\\r\\n                // If that point is inside the sphere, the AABB and sphere intersect.\\r\\n                return closestPoint.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\\r\\n\\r\\n            };\\r\\n\\r\\n        } )(),\\r\\n\\r\\n        intersectsPlane: function ( plane ) {\\r\\n\\r\\n            // We compute the minimum and maximum dot product values. If those values\\r\\n            // are on the same side (back or front) of the plane, then there is no intersection.\\r\\n\\r\\n            var min, max;\\r\\n\\r\\n            if ( plane.normal.x > 0 ) {\\r\\n\\r\\n                min = plane.normal.x * this.min.x;\\r\\n                max = plane.normal.x * this.max.x;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                min = plane.normal.x * this.max.x;\\r\\n                max = plane.normal.x * this.min.x;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( plane.normal.y > 0 ) {\\r\\n\\r\\n                min += plane.normal.y * this.min.y;\\r\\n                max += plane.normal.y * this.max.y;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                min += plane.normal.y * this.max.y;\\r\\n                max += plane.normal.y * this.min.y;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( plane.normal.z > 0 ) {\\r\\n\\r\\n                min += plane.normal.z * this.min.z;\\r\\n                max += plane.normal.z * this.max.z;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                min += plane.normal.z * this.max.z;\\r\\n                max += plane.normal.z * this.min.z;\\r\\n\\r\\n            }\\r\\n\\r\\n            return ( min <= - plane.constant && max >= - plane.constant );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsTriangle: ( function () {\\r\\n\\r\\n            // triangle centered vertices\\r\\n            var v0 = new Vector3();\\r\\n            var v1 = new Vector3();\\r\\n            var v2 = new Vector3();\\r\\n\\r\\n            // triangle edge vectors\\r\\n            var f0 = new Vector3();\\r\\n            var f1 = new Vector3();\\r\\n            var f2 = new Vector3();\\r\\n\\r\\n            var testAxis = new Vector3();\\r\\n\\r\\n            var center = new Vector3();\\r\\n            var extents = new Vector3();\\r\\n\\r\\n            var triangleNormal = new Vector3();\\r\\n\\r\\n            function satForAxes( axes ) {\\r\\n\\r\\n                var i, j;\\r\\n\\r\\n                for ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\\r\\n\\r\\n                    testAxis.fromArray( axes, i );\\r\\n                    // project the aabb onto the seperating axis\\r\\n                    var r = extents.x * Math.abs( testAxis.x ) + extents.y * Math.abs( testAxis.y ) + extents.z * Math.abs( testAxis.z );\\r\\n                    // project all 3 vertices of the triangle onto the seperating axis\\r\\n                    var p0 = v0.dot( testAxis );\\r\\n                    var p1 = v1.dot( testAxis );\\r\\n                    var p2 = v2.dot( testAxis );\\r\\n                    // actual test, basically see if either of the most extreme of the triangle points intersects r\\r\\n                    if ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\\r\\n\\r\\n                        // points of the projected triangle are outside the projected half-length of the aabb\\r\\n                        // the axis is seperating and we can exit\\r\\n                        return false;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return true;\\r\\n\\r\\n            }\\r\\n\\r\\n            return function intersectsTriangle( triangle ) {\\r\\n\\r\\n                if ( this.isEmpty() ) {\\r\\n\\r\\n                    return false;\\r\\n\\r\\n                }\\r\\n\\r\\n                // compute box center and extents\\r\\n                this.getCenter( center );\\r\\n                extents.subVectors( this.max, center );\\r\\n\\r\\n                // translate triangle to aabb origin\\r\\n                v0.subVectors( triangle.a, center );\\r\\n                v1.subVectors( triangle.b, center );\\r\\n                v2.subVectors( triangle.c, center );\\r\\n\\r\\n                // compute edge vectors for triangle\\r\\n                f0.subVectors( v1, v0 );\\r\\n                f1.subVectors( v2, v1 );\\r\\n                f2.subVectors( v0, v2 );\\r\\n\\r\\n                // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\\r\\n                // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\\r\\n                // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\\r\\n                var axes = [\\r\\n                    0, - f0.z, f0.y, 0, - f1.z, f1.y, 0, - f2.z, f2.y,\\r\\n                    f0.z, 0, - f0.x, f1.z, 0, - f1.x, f2.z, 0, - f2.x,\\r\\n                    - f0.y, f0.x, 0, - f1.y, f1.x, 0, - f2.y, f2.x, 0\\r\\n                ];\\r\\n                if ( ! satForAxes( axes ) ) {\\r\\n\\r\\n                    return false;\\r\\n\\r\\n                }\\r\\n\\r\\n                // test 3 face normals from the aabb\\r\\n                axes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\\r\\n                if ( ! satForAxes( axes ) ) {\\r\\n\\r\\n                    return false;\\r\\n\\r\\n                }\\r\\n\\r\\n                // finally testing the face normal of the triangle\\r\\n                // use already existing triangle edge vectors here\\r\\n                triangleNormal.crossVectors( f0, f1 );\\r\\n                axes = [ triangleNormal.x, triangleNormal.y, triangleNormal.z ];\\r\\n                return satForAxes( axes );\\r\\n\\r\\n            };\\r\\n\\r\\n        } )(),\\r\\n\\r\\n        clampPoint: function ( point, target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box3: .clampPoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.copy( point ).clamp( this.min, this.max );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToPoint: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function distanceToPoint( point ) {\\r\\n\\r\\n                var clampedPoint = v1.copy( point ).clamp( this.min, this.max );\\r\\n                return clampedPoint.sub( point ).length();\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        getBoundingSphere: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function getBoundingSphere( target ) {\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Box3: .getBoundingSphere() target is now required' );\\r\\n                    target = new Sphere();\\r\\n\\r\\n                }\\r\\n\\r\\n                this.getCenter( target.center );\\r\\n\\r\\n                target.radius = this.getSize( v1 ).length() * 0.5;\\r\\n\\r\\n                return target;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersect: function ( box ) {\\r\\n\\r\\n            this.min.max( box.min );\\r\\n            this.max.min( box.max );\\r\\n\\r\\n            // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\\r\\n            if ( this.isEmpty() ) this.makeEmpty();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        union: function ( box ) {\\r\\n\\r\\n            this.min.min( box.min );\\r\\n            this.max.max( box.max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix4: function () {\\r\\n\\r\\n            var points = [\\r\\n                new Vector3(),\\r\\n                new Vector3(),\\r\\n                new Vector3(),\\r\\n                new Vector3(),\\r\\n                new Vector3(),\\r\\n                new Vector3(),\\r\\n                new Vector3(),\\r\\n                new Vector3()\\r\\n            ];\\r\\n\\r\\n            return function applyMatrix4( matrix ) {\\r\\n\\r\\n                // transform of empty box is an empty box.\\r\\n                if ( this.isEmpty() ) return this;\\r\\n\\r\\n                // NOTE: I am using a binary pattern to specify all 2^3 combinations below\\r\\n                points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\\r\\n                points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\\r\\n                points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\\r\\n                points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\\r\\n                points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\\r\\n                points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\\r\\n                points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\\r\\n                points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\\r\\n\\r\\n                this.setFromPoints( points );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translate: function ( offset ) {\\r\\n\\r\\n            this.min.add( offset );\\r\\n            this.max.add( offset );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( box ) {\\r\\n\\r\\n            return box.min.equals( this.min ) && box.max.equals( this.max );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Sphere( center, radius ) {\\r\\n\\r\\n        this.center = ( center !== undefined ) ? center : new Vector3();\\r\\n        this.radius = ( radius !== undefined ) ? radius : 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Sphere.prototype, {\\r\\n\\r\\n        set: function ( center, radius ) {\\r\\n\\r\\n            this.center.copy( center );\\r\\n            this.radius = radius;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromPoints: function () {\\r\\n\\r\\n            var box = new Box3();\\r\\n\\r\\n            return function setFromPoints( points, optionalCenter ) {\\r\\n\\r\\n                var center = this.center;\\r\\n\\r\\n                if ( optionalCenter !== undefined ) {\\r\\n\\r\\n                    center.copy( optionalCenter );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    box.setFromPoints( points ).getCenter( center );\\r\\n\\r\\n                }\\r\\n\\r\\n                var maxRadiusSq = 0;\\r\\n\\r\\n                for ( var i = 0, il = points.length; i < il; i ++ ) {\\r\\n\\r\\n                    maxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.radius = Math.sqrt( maxRadiusSq );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( sphere ) {\\r\\n\\r\\n            this.center.copy( sphere.center );\\r\\n            this.radius = sphere.radius;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        empty: function () {\\r\\n\\r\\n            return ( this.radius <= 0 );\\r\\n\\r\\n        },\\r\\n\\r\\n        containsPoint: function ( point ) {\\r\\n\\r\\n            return ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToPoint: function ( point ) {\\r\\n\\r\\n            return ( point.distanceTo( this.center ) - this.radius );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsSphere: function ( sphere ) {\\r\\n\\r\\n            var radiusSum = this.radius + sphere.radius;\\r\\n\\r\\n            return sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: function ( box ) {\\r\\n\\r\\n            return box.intersectsSphere( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsPlane: function ( plane ) {\\r\\n\\r\\n            return Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\\r\\n\\r\\n        },\\r\\n\\r\\n        clampPoint: function ( point, target ) {\\r\\n\\r\\n            var deltaLengthSq = this.center.distanceToSquared( point );\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Sphere: .clampPoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            target.copy( point );\\r\\n\\r\\n            if ( deltaLengthSq > ( this.radius * this.radius ) ) {\\r\\n\\r\\n                target.sub( this.center ).normalize();\\r\\n                target.multiplyScalar( this.radius ).add( this.center );\\r\\n\\r\\n            }\\r\\n\\r\\n            return target;\\r\\n\\r\\n        },\\r\\n\\r\\n        getBoundingBox: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\\r\\n                target = new Box3();\\r\\n\\r\\n            }\\r\\n\\r\\n            target.set( this.center, this.center );\\r\\n            target.expandByScalar( this.radius );\\r\\n\\r\\n            return target;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix4: function ( matrix ) {\\r\\n\\r\\n            this.center.applyMatrix4( matrix );\\r\\n            this.radius = this.radius * matrix.getMaxScaleOnAxis();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        translate: function ( offset ) {\\r\\n\\r\\n            this.center.add( offset );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( sphere ) {\\r\\n\\r\\n            return sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Plane( normal, constant ) {\\r\\n\\r\\n        // normal is assumed to be normalized\\r\\n\\r\\n        this.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\\r\\n        this.constant = ( constant !== undefined ) ? constant : 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Plane.prototype, {\\r\\n\\r\\n        set: function ( normal, constant ) {\\r\\n\\r\\n            this.normal.copy( normal );\\r\\n            this.constant = constant;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setComponents: function ( x, y, z, w ) {\\r\\n\\r\\n            this.normal.set( x, y, z );\\r\\n            this.constant = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromNormalAndCoplanarPoint: function ( normal, point ) {\\r\\n\\r\\n            this.normal.copy( normal );\\r\\n            this.constant = - point.dot( this.normal );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCoplanarPoints: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n            var v2 = new Vector3();\\r\\n\\r\\n            return function setFromCoplanarPoints( a, b, c ) {\\r\\n\\r\\n                var normal = v1.subVectors( c, b ).cross( v2.subVectors( a, b ) ).normalize();\\r\\n\\r\\n                // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\\r\\n\\r\\n                this.setFromNormalAndCoplanarPoint( normal, a );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( plane ) {\\r\\n\\r\\n            this.normal.copy( plane.normal );\\r\\n            this.constant = plane.constant;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        normalize: function () {\\r\\n\\r\\n            // Note: will lead to a divide by zero if the plane is invalid.\\r\\n\\r\\n            var inverseNormalLength = 1.0 / this.normal.length();\\r\\n            this.normal.multiplyScalar( inverseNormalLength );\\r\\n            this.constant *= inverseNormalLength;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        negate: function () {\\r\\n\\r\\n            this.constant *= - 1;\\r\\n            this.normal.negate();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToPoint: function ( point ) {\\r\\n\\r\\n            return this.normal.dot( point ) + this.constant;\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToSphere: function ( sphere ) {\\r\\n\\r\\n            return this.distanceToPoint( sphere.center ) - sphere.radius;\\r\\n\\r\\n        },\\r\\n\\r\\n        projectPoint: function ( point, target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Plane: .projectPoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectLine: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function intersectLine( line, target ) {\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Plane: .intersectLine() target is now required' );\\r\\n                    target = new Vector3();\\r\\n\\r\\n                }\\r\\n\\r\\n                var direction = line.delta( v1 );\\r\\n\\r\\n                var denominator = this.normal.dot( direction );\\r\\n\\r\\n                if ( denominator === 0 ) {\\r\\n\\r\\n                    // line is coplanar, return origin\\r\\n                    if ( this.distanceToPoint( line.start ) === 0 ) {\\r\\n\\r\\n                        return target.copy( line.start );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    // Unsure if this is the correct method to handle this case.\\r\\n                    return undefined;\\r\\n\\r\\n                }\\r\\n\\r\\n                var t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\\r\\n\\r\\n                if ( t < 0 || t > 1 ) {\\r\\n\\r\\n                    return undefined;\\r\\n\\r\\n                }\\r\\n\\r\\n                return target.copy( direction ).multiplyScalar( t ).add( line.start );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersectsLine: function ( line ) {\\r\\n\\r\\n            // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\\r\\n\\r\\n            var startSign = this.distanceToPoint( line.start );\\r\\n            var endSign = this.distanceToPoint( line.end );\\r\\n\\r\\n            return ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: function ( box ) {\\r\\n\\r\\n            return box.intersectsPlane( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsSphere: function ( sphere ) {\\r\\n\\r\\n            return sphere.intersectsPlane( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        coplanarPoint: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.copy( this.normal ).multiplyScalar( - this.constant );\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix4: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n            var m1 = new Matrix3();\\r\\n\\r\\n            return function applyMatrix4( matrix, optionalNormalMatrix ) {\\r\\n\\r\\n                var normalMatrix = optionalNormalMatrix || m1.getNormalMatrix( matrix );\\r\\n\\r\\n                var referencePoint = this.coplanarPoint( v1 ).applyMatrix4( matrix );\\r\\n\\r\\n                var normal = this.normal.applyMatrix3( normalMatrix ).normalize();\\r\\n\\r\\n                this.constant = - referencePoint.dot( normal );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translate: function ( offset ) {\\r\\n\\r\\n            this.constant -= offset.dot( this.normal );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( plane ) {\\r\\n\\r\\n            return plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Frustum( p0, p1, p2, p3, p4, p5 ) {\\r\\n\\r\\n        this.planes = [\\r\\n\\r\\n            ( p0 !== undefined ) ? p0 : new Plane(),\\r\\n            ( p1 !== undefined ) ? p1 : new Plane(),\\r\\n            ( p2 !== undefined ) ? p2 : new Plane(),\\r\\n            ( p3 !== undefined ) ? p3 : new Plane(),\\r\\n            ( p4 !== undefined ) ? p4 : new Plane(),\\r\\n            ( p5 !== undefined ) ? p5 : new Plane()\\r\\n\\r\\n        ];\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Frustum.prototype, {\\r\\n\\r\\n        set: function ( p0, p1, p2, p3, p4, p5 ) {\\r\\n\\r\\n            var planes = this.planes;\\r\\n\\r\\n            planes[ 0 ].copy( p0 );\\r\\n            planes[ 1 ].copy( p1 );\\r\\n            planes[ 2 ].copy( p2 );\\r\\n            planes[ 3 ].copy( p3 );\\r\\n            planes[ 4 ].copy( p4 );\\r\\n            planes[ 5 ].copy( p5 );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( frustum ) {\\r\\n\\r\\n            var planes = this.planes;\\r\\n\\r\\n            for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                planes[ i ].copy( frustum.planes[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromMatrix: function ( m ) {\\r\\n\\r\\n            var planes = this.planes;\\r\\n            var me = m.elements;\\r\\n            var me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\\r\\n            var me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\\r\\n            var me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\\r\\n            var me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\\r\\n\\r\\n            planes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\\r\\n            planes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\\r\\n            planes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\\r\\n            planes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\\r\\n            planes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\\r\\n            planes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsObject: function () {\\r\\n\\r\\n            var sphere = new Sphere();\\r\\n\\r\\n            return function intersectsObject( object ) {\\r\\n\\r\\n                var geometry = object.geometry;\\r\\n\\r\\n                if ( geometry.boundingSphere === null )\\r\\n                    geometry.computeBoundingSphere();\\r\\n\\r\\n                sphere.copy( geometry.boundingSphere )\\r\\n                    .applyMatrix4( object.matrixWorld );\\r\\n\\r\\n                return this.intersectsSphere( sphere );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersectsSprite: function () {\\r\\n\\r\\n            var sphere = new Sphere();\\r\\n\\r\\n            return function intersectsSprite( sprite ) {\\r\\n\\r\\n                sphere.center.set( 0, 0, 0 );\\r\\n                sphere.radius = 0.7071067811865476;\\r\\n                sphere.applyMatrix4( sprite.matrixWorld );\\r\\n\\r\\n                return this.intersectsSphere( sphere );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersectsSphere: function ( sphere ) {\\r\\n\\r\\n            var planes = this.planes;\\r\\n            var center = sphere.center;\\r\\n            var negRadius = - sphere.radius;\\r\\n\\r\\n            for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                var distance = planes[ i ].distanceToPoint( center );\\r\\n\\r\\n                if ( distance < negRadius ) {\\r\\n\\r\\n                    return false;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return true;\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: function () {\\r\\n\\r\\n            var p = new Vector3();\\r\\n\\r\\n            return function intersectsBox( box ) {\\r\\n\\r\\n                var planes = this.planes;\\r\\n\\r\\n                for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                    var plane = planes[ i ];\\r\\n\\r\\n                    // corner at max distance\\r\\n\\r\\n                    p.x = plane.normal.x > 0 ? box.max.x : box.min.x;\\r\\n                    p.y = plane.normal.y > 0 ? box.max.y : box.min.y;\\r\\n                    p.z = plane.normal.z > 0 ? box.max.z : box.min.z;\\r\\n\\r\\n                    if ( plane.distanceToPoint( p ) < 0 ) {\\r\\n\\r\\n                        return false;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return true;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        containsPoint: function ( point ) {\\r\\n\\r\\n            var planes = this.planes;\\r\\n\\r\\n            for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                if ( planes[ i ].distanceToPoint( point ) < 0 ) {\\r\\n\\r\\n                    return false;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return true;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    var alphamap_fragment = \\\"#ifdef USE_ALPHAMAP\\\\n\\\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var alphamap_pars_fragment = \\\"#ifdef USE_ALPHAMAP\\\\n\\\\tuniform sampler2D alphaMap;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var alphatest_fragment = \\\"#ifdef ALPHATEST\\\\n\\\\tif ( diffuseColor.a < ALPHATEST ) discard;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var aomap_fragment = \\\"#ifdef USE_AOMAP\\\\n\\\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\\\n\\\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\\\n\\\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\\\n\\\\t\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\t\\\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var aomap_pars_fragment = \\\"#ifdef USE_AOMAP\\\\n\\\\tuniform sampler2D aoMap;\\\\n\\\\tuniform float aoMapIntensity;\\\\n#endif\\\";\\r\\n\\r\\n    var begin_vertex = \\\"\\\\nvec3 transformed = vec3( position );\\\\n\\\";\\r\\n\\r\\n    var beginnormal_vertex = \\\"\\\\nvec3 objectNormal = vec3( normal );\\\\n\\\";\\r\\n\\r\\n    var bsdfs = \\\"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\\\n\\\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\\\n\\\\tif( cutoffDistance > 0.0 ) {\\\\n\\\\t\\\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\\\n\\\\t}\\\\n\\\\treturn distanceFalloff;\\\\n#else\\\\n\\\\tif( cutoffDistance > 0.0 ) {\\\\n\\\\t\\\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\\\n\\\\t}\\\\n\\\\treturn 1.0;\\\\n#endif\\\\n}\\\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\\\n\\\\treturn RECIPROCAL_PI * diffuseColor;\\\\n}\\\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\\\n\\\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\\\n\\\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\\\n}\\\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\\\n\\\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\\\n\\\\treturn 1.0 / ( gl * gv );\\\\n}\\\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\\\n\\\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\\\n\\\\treturn 0.5 / max( gv + gl, EPSILON );\\\\n}\\\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\\\n\\\\tfloat a2 = pow2( alpha );\\\\n\\\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\\\n\\\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\\\n}\\\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\\\n\\\\tfloat alpha = pow2( roughness );\\\\n\\\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\\\n\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\\\n\\\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\\\n\\\\tvec3 F = F_Schlick( specularColor, dotLH );\\\\n\\\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\\\n\\\\tfloat D = D_GGX( alpha, dotNH );\\\\n\\\\treturn F * ( G * D );\\\\n}\\\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\\\n\\\\tconst float LUT_SIZE  = 64.0;\\\\n\\\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\\\n\\\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\\\n\\\\tfloat dotNV = saturate( dot( N, V ) );\\\\n\\\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\\\n\\\\tuv = uv * LUT_SCALE + LUT_BIAS;\\\\n\\\\treturn uv;\\\\n}\\\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\\\n\\\\tfloat l = length( f );\\\\n\\\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\\\n}\\\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\\\n\\\\tfloat x = dot( v1, v2 );\\\\n\\\\tfloat y = abs( x );\\\\n\\\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\\\n\\\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\\\n\\\\tfloat v = a / b;\\\\n\\\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\\\n\\\\treturn cross( v1, v2 ) * theta_sintheta;\\\\n}\\\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\\\n\\\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\\\n\\\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\\\n\\\\tvec3 lightNormal = cross( v1, v2 );\\\\n\\\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\\\n\\\\tvec3 T1, T2;\\\\n\\\\tT1 = normalize( V - N * dot( V, N ) );\\\\n\\\\tT2 = - cross( N, T1 );\\\\n\\\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\\\n\\\\tvec3 coords[ 4 ];\\\\n\\\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\\\n\\\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\\\n\\\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\\\n\\\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\\\n\\\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\\\n\\\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\\\n\\\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\\\n\\\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\\\n\\\\tvec3 vectorFormFactor = vec3( 0.0 );\\\\n\\\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\\\n\\\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\\\n\\\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\\\n\\\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\\\n\\\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\\\n\\\\treturn vec3( result );\\\\n}\\\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\\\n\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\\\n\\\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\\\n\\\\tvec4 r = roughness * c0 + c1;\\\\n\\\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\\\n\\\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\\\n\\\\treturn specularColor * AB.x + AB.y;\\\\n}\\\\nfloat G_BlinnPhong_Implicit( ) {\\\\n\\\\treturn 0.25;\\\\n}\\\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\\\n\\\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\\\n}\\\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\\\n\\\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\\\n\\\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\\\n\\\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\\\n\\\\tvec3 F = F_Schlick( specularColor, dotLH );\\\\n\\\\tfloat G = G_BlinnPhong_Implicit( );\\\\n\\\\tfloat D = D_BlinnPhong( shininess, dotNH );\\\\n\\\\treturn F * ( G * D );\\\\n}\\\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\\\n\\\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\\\n}\\\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\\\n\\\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var bumpmap_pars_fragment = \\\"#ifdef USE_BUMPMAP\\\\n\\\\tuniform sampler2D bumpMap;\\\\n\\\\tuniform float bumpScale;\\\\n\\\\tvec2 dHdxy_fwd() {\\\\n\\\\t\\\\tvec2 dSTdx = dFdx( vUv );\\\\n\\\\t\\\\tvec2 dSTdy = dFdy( vUv );\\\\n\\\\t\\\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\\\n\\\\t\\\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\\\n\\\\t\\\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\\\n\\\\t\\\\treturn vec2( dBx, dBy );\\\\n\\\\t}\\\\n\\\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\\\n\\\\t\\\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\\\n\\\\t\\\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\\\n\\\\t\\\\tvec3 vN = surf_norm;\\\\n\\\\t\\\\tvec3 R1 = cross( vSigmaY, vN );\\\\n\\\\t\\\\tvec3 R2 = cross( vN, vSigmaX );\\\\n\\\\t\\\\tfloat fDet = dot( vSigmaX, R1 );\\\\n\\\\t\\\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\\\n\\\\t\\\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\\\n\\\\t\\\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var clipping_planes_fragment = \\\"#if NUM_CLIPPING_PLANES > 0\\\\n\\\\tvec4 plane;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\\\n\\\\t\\\\tplane = clippingPlanes[ i ];\\\\n\\\\t\\\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\\\n\\\\t}\\\\n\\\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\\\n\\\\t\\\\tbool clipped = true;\\\\n\\\\t\\\\t#pragma unroll_loop\\\\n\\\\t\\\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\\\n\\\\t\\\\t\\\\tplane = clippingPlanes[ i ];\\\\n\\\\t\\\\t\\\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\tif ( clipped ) discard;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var clipping_planes_pars_fragment = \\\"#if NUM_CLIPPING_PLANES > 0\\\\n\\\\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\\\n\\\\t\\\\tvarying vec3 vViewPosition;\\\\n\\\\t#endif\\\\n\\\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var clipping_planes_pars_vertex = \\\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\\\n\\\\tvarying vec3 vViewPosition;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var clipping_planes_vertex = \\\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var color_fragment = \\\"#ifdef USE_COLOR\\\\n\\\\tdiffuseColor.rgb *= vColor;\\\\n#endif\\\";\\r\\n\\r\\n    var color_pars_fragment = \\\"#ifdef USE_COLOR\\\\n\\\\tvarying vec3 vColor;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var color_pars_vertex = \\\"#ifdef USE_COLOR\\\\n\\\\tvarying vec3 vColor;\\\\n#endif\\\";\\r\\n\\r\\n    var color_vertex = \\\"#ifdef USE_COLOR\\\\n\\\\tvColor.xyz = color.xyz;\\\\n#endif\\\";\\r\\n\\r\\n    var common = \\\"#define PI 3.14159265359\\\\n#define PI2 6.28318530718\\\\n#define PI_HALF 1.5707963267949\\\\n#define RECIPROCAL_PI 0.31830988618\\\\n#define RECIPROCAL_PI2 0.15915494\\\\n#define LOG2 1.442695\\\\n#define EPSILON 1e-6\\\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\\\nfloat pow2( const in float x ) { return x*x; }\\\\nfloat pow3( const in float x ) { return x*x*x; }\\\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\\\nhighp float rand( const in vec2 uv ) {\\\\n\\\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\\\n\\\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\\\n\\\\treturn fract(sin(sn) * c);\\\\n}\\\\nstruct IncidentLight {\\\\n\\\\tvec3 color;\\\\n\\\\tvec3 direction;\\\\n\\\\tbool visible;\\\\n};\\\\nstruct ReflectedLight {\\\\n\\\\tvec3 directDiffuse;\\\\n\\\\tvec3 directSpecular;\\\\n\\\\tvec3 indirectDiffuse;\\\\n\\\\tvec3 indirectSpecular;\\\\n};\\\\nstruct GeometricContext {\\\\n\\\\tvec3 position;\\\\n\\\\tvec3 normal;\\\\n\\\\tvec3 viewDir;\\\\n};\\\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\\\n\\\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\\\n}\\\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\\\n\\\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\\\n}\\\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\\\n\\\\treturn - distance * planeNormal + point;\\\\n}\\\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\\\n}\\\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\\\n\\\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\\\n}\\\\nmat3 transposeMat3( const in mat3 m ) {\\\\n\\\\tmat3 tmp;\\\\n\\\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\\\n\\\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\\\n\\\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\\\n\\\\treturn tmp;\\\\n}\\\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\\\n\\\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\\\n\\\\treturn dot( weights, color.rgb );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var cube_uv_reflection_fragment = \\\"#ifdef ENVMAP_TYPE_CUBE_UV\\\\n#define cubeUV_textureSize (1024.0)\\\\nint getFaceFromDirection(vec3 direction) {\\\\n\\\\tvec3 absDirection = abs(direction);\\\\n\\\\tint face = -1;\\\\n\\\\tif( absDirection.x > absDirection.z ) {\\\\n\\\\t\\\\tif(absDirection.x > absDirection.y )\\\\n\\\\t\\\\t\\\\tface = direction.x > 0.0 ? 0 : 3;\\\\n\\\\t\\\\telse\\\\n\\\\t\\\\t\\\\tface = direction.y > 0.0 ? 1 : 4;\\\\n\\\\t}\\\\n\\\\telse {\\\\n\\\\t\\\\tif(absDirection.z > absDirection.y )\\\\n\\\\t\\\\t\\\\tface = direction.z > 0.0 ? 2 : 5;\\\\n\\\\t\\\\telse\\\\n\\\\t\\\\t\\\\tface = direction.y > 0.0 ? 1 : 4;\\\\n\\\\t}\\\\n\\\\treturn face;\\\\n}\\\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\\\n\\\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\\\n\\\\tfloat dxRoughness = dFdx(roughness);\\\\n\\\\tfloat dyRoughness = dFdy(roughness);\\\\n\\\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\\\n\\\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\\\n\\\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\\\n\\\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\\\n\\\\tfloat mipLevel = 0.5 * log2(d);\\\\n\\\\treturn vec2(floor(mipLevel), fract(mipLevel));\\\\n}\\\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\\\n\\\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\\\n\\\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\\\n\\\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\\\n\\\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\\\n\\\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\\\n\\\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\\\n\\\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\\\n\\\\tbool bRes = mipLevel == 0.0;\\\\n\\\\tscale =  bRes && (scale < a) ? a : scale;\\\\n\\\\tvec3 r;\\\\n\\\\tvec2 offset;\\\\n\\\\tint face = getFaceFromDirection(direction);\\\\n\\\\tfloat rcpPowScale = 1.0 / powScale;\\\\n\\\\tif( face == 0) {\\\\n\\\\t\\\\tr = vec3(direction.x, -direction.z, direction.y);\\\\n\\\\t\\\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 1) {\\\\n\\\\t\\\\tr = vec3(direction.y, direction.x, direction.z);\\\\n\\\\t\\\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 2) {\\\\n\\\\t\\\\tr = vec3(direction.z, direction.x, direction.y);\\\\n\\\\t\\\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 3) {\\\\n\\\\t\\\\tr = vec3(direction.x, direction.z, direction.y);\\\\n\\\\t\\\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\telse if( face == 4) {\\\\n\\\\t\\\\tr = vec3(direction.y, direction.x, -direction.z);\\\\n\\\\t\\\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\telse {\\\\n\\\\t\\\\tr = vec3(direction.z, -direction.x, direction.y);\\\\n\\\\t\\\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\\\n\\\\t\\\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\\\n\\\\t}\\\\n\\\\tr = normalize(r);\\\\n\\\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\\\n\\\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\\\n\\\\tvec2 base = offset + vec2( texelOffset );\\\\n\\\\treturn base + s * ( scale - 2.0 * texelOffset );\\\\n}\\\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\\\n\\\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\\\n\\\\tfloat r1 = floor(roughnessVal);\\\\n\\\\tfloat r2 = r1 + 1.0;\\\\n\\\\tfloat t = fract(roughnessVal);\\\\n\\\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\\\n\\\\tfloat s = mipInfo.y;\\\\n\\\\tfloat level0 = mipInfo.x;\\\\n\\\\tfloat level1 = level0 + 1.0;\\\\n\\\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\\\n\\\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\\\n\\\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\\\n\\\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\\\n\\\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\\\n\\\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\\\n\\\\tvec4 result = mix(color10, color20, t);\\\\n\\\\treturn vec4(result.rgb, 1.0);\\\\n}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var defaultnormal_vertex = \\\"vec3 transformedNormal = normalMatrix * objectNormal;\\\\n#ifdef FLIP_SIDED\\\\n\\\\ttransformedNormal = - transformedNormal;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var displacementmap_pars_vertex = \\\"#ifdef USE_DISPLACEMENTMAP\\\\n\\\\tuniform sampler2D displacementMap;\\\\n\\\\tuniform float displacementScale;\\\\n\\\\tuniform float displacementBias;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var displacementmap_vertex = \\\"#ifdef USE_DISPLACEMENTMAP\\\\n\\\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var emissivemap_fragment = \\\"#ifdef USE_EMISSIVEMAP\\\\n\\\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\\\n\\\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\\\n\\\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var emissivemap_pars_fragment = \\\"#ifdef USE_EMISSIVEMAP\\\\n\\\\tuniform sampler2D emissiveMap;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var encodings_fragment = \\\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\\\n\\\";\\r\\n\\r\\n    var encodings_pars_fragment = \\\"\\\\nvec4 LinearToLinear( in vec4 value ) {\\\\n\\\\treturn value;\\\\n}\\\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\\\n\\\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\\\n}\\\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\\\n\\\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\\\n}\\\\nvec4 sRGBToLinear( in vec4 value ) {\\\\n\\\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\\\n}\\\\nvec4 LinearTosRGB( in vec4 value ) {\\\\n\\\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\\\n}\\\\nvec4 RGBEToLinear( in vec4 value ) {\\\\n\\\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\\\n}\\\\nvec4 LinearToRGBE( in vec4 value ) {\\\\n\\\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\\\n\\\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\\\n\\\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\\\n}\\\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\\\n\\\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\\\n}\\\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\\\n\\\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\\\n\\\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\\\n\\\\tM = ceil( M * 255.0 ) / 255.0;\\\\n\\\\treturn vec4( value.rgb / ( M * maxRange ), M );\\\\n}\\\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\\\n\\\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\\\n}\\\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\\\n\\\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\\\n\\\\tfloat D = max( maxRange / maxRGB, 1.0 );\\\\n\\\\tD = min( floor( D ) / 255.0, 1.0 );\\\\n\\\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\\\n}\\\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\\\nvec4 LinearToLogLuv( in vec4 value )  {\\\\n\\\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\\\n\\\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\\\n\\\\tvec4 vResult;\\\\n\\\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\\\n\\\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\\\n\\\\tvResult.w = fract( Le );\\\\n\\\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\\\n\\\\treturn vResult;\\\\n}\\\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\\\nvec4 LogLuvToLinear( in vec4 value ) {\\\\n\\\\tfloat Le = value.z * 255.0 + value.w;\\\\n\\\\tvec3 Xp_Y_XYZp;\\\\n\\\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\\\n\\\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\\\n\\\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\\\n\\\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\\\n\\\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var envmap_fragment = \\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 reflectVec = vReflect;\\\\n\\\\t#endif\\\\n\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\\\n\\\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\\\n\\\\t\\\\tvec2 sampleUV;\\\\n\\\\t\\\\treflectVec = normalize( reflectVec );\\\\n\\\\t\\\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\\\n\\\\t\\\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\t\\\\tvec4 envColor = texture2D( envMap, sampleUV );\\\\n\\\\t#elif defined( ENVMAP_TYPE_SPHERE )\\\\n\\\\t\\\\treflectVec = normalize( reflectVec );\\\\n\\\\t\\\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\\\n\\\\t\\\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\\\n\\\\t#else\\\\n\\\\t\\\\tvec4 envColor = vec4( 0.0 );\\\\n\\\\t#endif\\\\n\\\\tenvColor = envMapTexelToLinear( envColor );\\\\n\\\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\\\n\\\\t\\\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\\\n\\\\t#elif defined( ENVMAP_BLENDING_MIX )\\\\n\\\\t\\\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\\\n\\\\t#elif defined( ENVMAP_BLENDING_ADD )\\\\n\\\\t\\\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var envmap_pars_fragment = \\\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\\\n\\\\tuniform float reflectivity;\\\\n\\\\tuniform float envMapIntensity;\\\\n#endif\\\\n#ifdef USE_ENVMAP\\\\n\\\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\\\n\\\\t\\\\tvarying vec3 vWorldPosition;\\\\n\\\\t#endif\\\\n\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\tuniform samplerCube envMap;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform sampler2D envMap;\\\\n\\\\t#endif\\\\n\\\\tuniform float flipEnvMap;\\\\n\\\\tuniform int maxMipLevel;\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\\\n\\\\t\\\\tuniform float refractionRatio;\\\\n\\\\t#else\\\\n\\\\t\\\\tvarying vec3 vReflect;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var envmap_pars_vertex = \\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvarying vec3 vWorldPosition;\\\\n\\\\t#else\\\\n\\\\t\\\\tvarying vec3 vReflect;\\\\n\\\\t\\\\tuniform float refractionRatio;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var envmap_vertex = \\\"#ifdef USE_ENVMAP\\\\n\\\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\\\n\\\\t\\\\tvWorldPosition = worldPosition.xyz;\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvReflect = reflect( cameraToVertex, worldNormal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var fog_vertex = \\\"#ifdef USE_FOG\\\\n\\\\tfogDepth = -mvPosition.z;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var fog_pars_vertex = \\\"#ifdef USE_FOG\\\\n\\\\tvarying float fogDepth;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var fog_fragment = \\\"#ifdef USE_FOG\\\\n\\\\t#ifdef FOG_EXP2\\\\n\\\\t\\\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\\\n\\\\t#endif\\\\n\\\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var fog_pars_fragment = \\\"#ifdef USE_FOG\\\\n\\\\tuniform vec3 fogColor;\\\\n\\\\tvarying float fogDepth;\\\\n\\\\t#ifdef FOG_EXP2\\\\n\\\\t\\\\tuniform float fogDensity;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform float fogNear;\\\\n\\\\t\\\\tuniform float fogFar;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var gradientmap_pars_fragment = \\\"#ifdef TOON\\\\n\\\\tuniform sampler2D gradientMap;\\\\n\\\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\\\n\\\\t\\\\tfloat dotNL = dot( normal, lightDirection );\\\\n\\\\t\\\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\\\n\\\\t\\\\t#ifdef USE_GRADIENTMAP\\\\n\\\\t\\\\t\\\\treturn texture2D( gradientMap, coord ).rgb;\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lightmap_fragment = \\\"#ifdef USE_LIGHTMAP\\\\n\\\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lightmap_pars_fragment = \\\"#ifdef USE_LIGHTMAP\\\\n\\\\tuniform sampler2D lightMap;\\\\n\\\\tuniform float lightMapIntensity;\\\\n#endif\\\";\\r\\n\\r\\n    var lights_lambert_vertex = \\\"vec3 diffuse = vec3( 1.0 );\\\\nGeometricContext geometry;\\\\ngeometry.position = mvPosition.xyz;\\\\ngeometry.normal = normalize( transformedNormal );\\\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\\\nGeometricContext backGeometry;\\\\nbackGeometry.position = geometry.position;\\\\nbackGeometry.normal = -geometry.normal;\\\\nbackGeometry.viewDir = geometry.viewDir;\\\\nvLightFront = vec3( 0.0 );\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvLightBack = vec3( 0.0 );\\\\n#endif\\\\nIncidentLight directLight;\\\\nfloat dotNL;\\\\nvec3 directLightColor_Diffuse;\\\\n#if NUM_POINT_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_DIR_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\\\n\\\\t\\\\tdotNL = dot( geometry.normal, directLight.direction );\\\\n\\\\t\\\\tdirectLightColor_Diffuse = PI * directLight.color;\\\\n\\\\t\\\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_HEMI_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lights_pars_begin = \\\"uniform vec3 ambientLightColor;\\\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\\\n\\\\tvec3 irradiance = ambientLightColor;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\treturn irradiance;\\\\n}\\\\n#if NUM_DIR_LIGHTS > 0\\\\n\\\\tstruct DirectionalLight {\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\\\n\\\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\\\n\\\\t\\\\tdirectLight.color = directionalLight.color;\\\\n\\\\t\\\\tdirectLight.direction = directionalLight.direction;\\\\n\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_POINT_LIGHTS > 0\\\\n\\\\tstruct PointLight {\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tfloat distance;\\\\n\\\\t\\\\tfloat decay;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t\\\\tfloat shadowCameraNear;\\\\n\\\\t\\\\tfloat shadowCameraFar;\\\\n\\\\t};\\\\n\\\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\\\n\\\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\\\n\\\\t\\\\tvec3 lVector = pointLight.position - geometry.position;\\\\n\\\\t\\\\tdirectLight.direction = normalize( lVector );\\\\n\\\\t\\\\tfloat lightDistance = length( lVector );\\\\n\\\\t\\\\tdirectLight.color = pointLight.color;\\\\n\\\\t\\\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\\\n\\\\t\\\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tstruct SpotLight {\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tfloat distance;\\\\n\\\\t\\\\tfloat decay;\\\\n\\\\t\\\\tfloat coneCos;\\\\n\\\\t\\\\tfloat penumbraCos;\\\\n\\\\t\\\\tint shadow;\\\\n\\\\t\\\\tfloat shadowBias;\\\\n\\\\t\\\\tfloat shadowRadius;\\\\n\\\\t\\\\tvec2 shadowMapSize;\\\\n\\\\t};\\\\n\\\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\\\n\\\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\\\n\\\\t\\\\tvec3 lVector = spotLight.position - geometry.position;\\\\n\\\\t\\\\tdirectLight.direction = normalize( lVector );\\\\n\\\\t\\\\tfloat lightDistance = length( lVector );\\\\n\\\\t\\\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\\\n\\\\t\\\\tif ( angleCos > spotLight.coneCos ) {\\\\n\\\\t\\\\t\\\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\\\n\\\\t\\\\t\\\\tdirectLight.color = spotLight.color;\\\\n\\\\t\\\\t\\\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = true;\\\\n\\\\t\\\\t} else {\\\\n\\\\t\\\\t\\\\tdirectLight.color = vec3( 0.0 );\\\\n\\\\t\\\\t\\\\tdirectLight.visible = false;\\\\n\\\\t\\\\t}\\\\n\\\\t}\\\\n#endif\\\\n#if NUM_RECT_AREA_LIGHTS > 0\\\\n\\\\tstruct RectAreaLight {\\\\n\\\\t\\\\tvec3 color;\\\\n\\\\t\\\\tvec3 position;\\\\n\\\\t\\\\tvec3 halfWidth;\\\\n\\\\t\\\\tvec3 halfHeight;\\\\n\\\\t};\\\\n\\\\tuniform sampler2D ltc_1;\\\\tuniform sampler2D ltc_2;\\\\n\\\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\\\n#endif\\\\n#if NUM_HEMI_LIGHTS > 0\\\\n\\\\tstruct HemisphereLight {\\\\n\\\\t\\\\tvec3 direction;\\\\n\\\\t\\\\tvec3 skyColor;\\\\n\\\\t\\\\tvec3 groundColor;\\\\n\\\\t};\\\\n\\\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\\\n\\\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\\\n\\\\t\\\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\\\n\\\\t\\\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\\\n\\\\t\\\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\\\n\\\\t\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\t\\\\tirradiance *= PI;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn irradiance;\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var envmap_physical_pars_fragment = \\\"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\\\n\\\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\\\n\\\\t\\\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\\\n\\\\t\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\t\\\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\t\\\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = vec4( 0.0 );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn PI * envMapColor.rgb * envMapIntensity;\\\\n\\\\t}\\\\n\\\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\\\n\\\\t\\\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\\\n\\\\t\\\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\\\n\\\\t\\\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\\\n\\\\t}\\\\n\\\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\\\n\\\\t\\\\t#ifdef ENVMAP_MODE_REFLECTION\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\\\n\\\\t\\\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\\\n\\\\t\\\\t#ifdef ENVMAP_TYPE_CUBE\\\\n\\\\t\\\\t\\\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\t\\\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\\\n\\\\t\\\\t\\\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\\\n\\\\t\\\\t\\\\tvec2 sampleUV;\\\\n\\\\t\\\\t\\\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\\\n\\\\t\\\\t\\\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#elif defined( ENVMAP_TYPE_SPHERE )\\\\n\\\\t\\\\t\\\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\\\n\\\\t\\\\t\\\\t#ifdef TEXTURE_LOD_EXT\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\t\\\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\\\n\\\\t\\\\t\\\\t#endif\\\\n\\\\t\\\\t\\\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\treturn envMapColor.rgb * envMapIntensity;\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lights_phong_fragment = \\\"BlinnPhongMaterial material;\\\\nmaterial.diffuseColor = diffuseColor.rgb;\\\\nmaterial.specularColor = specular;\\\\nmaterial.specularShininess = shininess;\\\\nmaterial.specularStrength = specularStrength;\\\\n\\\";\\r\\n\\r\\n    var lights_phong_pars_fragment = \\\"varying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\nstruct BlinnPhongMaterial {\\\\n\\\\tvec3\\\\tdiffuseColor;\\\\n\\\\tvec3\\\\tspecularColor;\\\\n\\\\tfloat\\\\tspecularShininess;\\\\n\\\\tfloat\\\\tspecularStrength;\\\\n};\\\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\t#ifdef TOON\\\\n\\\\t\\\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\\\n\\\\t\\\\tvec3 irradiance = dotNL * directLight.color;\\\\n\\\\t#endif\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n\\\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\\\n}\\\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n}\\\\n#define RE_Direct\\\\t\\\\t\\\\t\\\\tRE_Direct_BlinnPhong\\\\n#define RE_IndirectDiffuse\\\\t\\\\tRE_IndirectDiffuse_BlinnPhong\\\\n#define Material_LightProbeLOD( material )\\\\t(0)\\\\n\\\";\\r\\n\\r\\n    var lights_physical_fragment = \\\"PhysicalMaterial material;\\\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\\\n#ifdef STANDARD\\\\n\\\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\\\n#else\\\\n\\\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\\\n\\\\tmaterial.clearCoat = saturate( clearCoat );\\\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lights_physical_pars_fragment = \\\"struct PhysicalMaterial {\\\\n\\\\tvec3\\\\tdiffuseColor;\\\\n\\\\tfloat\\\\tspecularRoughness;\\\\n\\\\tvec3\\\\tspecularColor;\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat clearCoat;\\\\n\\\\t\\\\tfloat clearCoatRoughness;\\\\n\\\\t#endif\\\\n};\\\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\\\n\\\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\\\n}\\\\n#if NUM_RECT_AREA_LIGHTS > 0\\\\n\\\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\t\\\\tvec3 normal = geometry.normal;\\\\n\\\\t\\\\tvec3 viewDir = geometry.viewDir;\\\\n\\\\t\\\\tvec3 position = geometry.position;\\\\n\\\\t\\\\tvec3 lightPos = rectAreaLight.position;\\\\n\\\\t\\\\tvec3 halfWidth = rectAreaLight.halfWidth;\\\\n\\\\t\\\\tvec3 halfHeight = rectAreaLight.halfHeight;\\\\n\\\\t\\\\tvec3 lightColor = rectAreaLight.color;\\\\n\\\\t\\\\tfloat roughness = material.specularRoughness;\\\\n\\\\t\\\\tvec3 rectCoords[ 4 ];\\\\n\\\\t\\\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\\\t\\\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\\\n\\\\t\\\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\\\n\\\\t\\\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\\\n\\\\t\\\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\\\n\\\\t\\\\tvec4 t1 = texture2D( ltc_1, uv );\\\\n\\\\t\\\\tvec4 t2 = texture2D( ltc_2, uv );\\\\n\\\\t\\\\tmat3 mInv = mat3(\\\\n\\\\t\\\\t\\\\tvec3( t1.x, 0, t1.y ),\\\\n\\\\t\\\\t\\\\tvec3(    0, 1,    0 ),\\\\n\\\\t\\\\t\\\\tvec3( t1.z, 0, t1.w )\\\\n\\\\t\\\\t);\\\\n\\\\t\\\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\\\n\\\\t\\\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\\\n\\\\t\\\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\\\n\\\\t}\\\\n#endif\\\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\\\n\\\\tvec3 irradiance = dotNL * directLight.color;\\\\n\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\tirradiance *= PI;\\\\n\\\\t#endif\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat clearCoatDHR = 0.0;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\\\n\\\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\\\n\\\\t#endif\\\\n}\\\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\\\n}\\\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\\\n\\\\t\\\\tfloat dotNL = dotNV;\\\\n\\\\t\\\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\\\n\\\\t#else\\\\n\\\\t\\\\tfloat clearCoatDHR = 0.0;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\\\n\\\\t#endif\\\\n}\\\\n#define RE_Direct\\\\t\\\\t\\\\t\\\\tRE_Direct_Physical\\\\n#define RE_Direct_RectArea\\\\t\\\\tRE_Direct_RectArea_Physical\\\\n#define RE_IndirectDiffuse\\\\t\\\\tRE_IndirectDiffuse_Physical\\\\n#define RE_IndirectSpecular\\\\t\\\\tRE_IndirectSpecular_Physical\\\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\\\n\\\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var lights_fragment_begin = \\\"\\\\nGeometricContext geometry;\\\\ngeometry.position = - vViewPosition;\\\\ngeometry.normal = normal;\\\\ngeometry.viewDir = normalize( vViewPosition );\\\\nIncidentLight directLight;\\\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tPointLight pointLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tpointLight = pointLights[ i ];\\\\n\\\\t\\\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tSpotLight spotLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tspotLight = spotLights[ i ];\\\\n\\\\t\\\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\\\n\\\\tDirectionalLight directionalLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tdirectionalLight = directionalLights[ i ];\\\\n\\\\t\\\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\\\n\\\\t\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t\\\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tRE_Direct( directLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\\\n\\\\tRectAreaLight rectAreaLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\\\n\\\\t\\\\trectAreaLight = rectAreaLights[ i ];\\\\n\\\\t\\\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\\\n\\\\t}\\\\n#endif\\\\n#if defined( RE_IndirectDiffuse )\\\\n\\\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\\\n\\\\t#if ( NUM_HEMI_LIGHTS > 0 )\\\\n\\\\t\\\\t#pragma unroll_loop\\\\n\\\\t\\\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\\\n\\\\t\\\\t\\\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n#if defined( RE_IndirectSpecular )\\\\n\\\\tvec3 radiance = vec3( 0.0 );\\\\n\\\\tvec3 clearCoatRadiance = vec3( 0.0 );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lights_fragment_maps = \\\"#if defined( RE_IndirectDiffuse )\\\\n\\\\t#ifdef USE_LIGHTMAP\\\\n\\\\t\\\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n\\\\t\\\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\\\n\\\\t\\\\t\\\\tlightMapIrradiance *= PI;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tirradiance += lightMapIrradiance;\\\\n\\\\t#endif\\\\n\\\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\\\n\\\\t\\\\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\\\n\\\\t#endif\\\\n#endif\\\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\\\n\\\\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\\\\n\\\\t#ifndef STANDARD\\\\n\\\\t\\\\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var lights_fragment_end = \\\"#if defined( RE_IndirectDiffuse )\\\\n\\\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\\\n#endif\\\\n#if defined( RE_IndirectSpecular )\\\\n\\\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var logdepthbuf_fragment = \\\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\\\n\\\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\\\n#endif\\\";\\r\\n\\r\\n    var logdepthbuf_pars_fragment = \\\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\\\n\\\\tuniform float logDepthBufFC;\\\\n\\\\tvarying float vFragDepth;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var logdepthbuf_pars_vertex = \\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvarying float vFragDepth;\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform float logDepthBufFC;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var logdepthbuf_vertex = \\\"#ifdef USE_LOGDEPTHBUF\\\\n\\\\t#ifdef USE_LOGDEPTHBUF_EXT\\\\n\\\\t\\\\tvFragDepth = 1.0 + gl_Position.w;\\\\n\\\\t#else\\\\n\\\\t\\\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\\\n\\\\t\\\\tgl_Position.z *= gl_Position.w;\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var map_fragment = \\\"#ifdef USE_MAP\\\\n\\\\tvec4 texelColor = texture2D( map, vUv );\\\\n\\\\ttexelColor = mapTexelToLinear( texelColor );\\\\n\\\\tdiffuseColor *= texelColor;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var map_pars_fragment = \\\"#ifdef USE_MAP\\\\n\\\\tuniform sampler2D map;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var map_particle_fragment = \\\"#ifdef USE_MAP\\\\n\\\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\\\n\\\\tvec4 mapTexel = texture2D( map, uv );\\\\n\\\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var map_particle_pars_fragment = \\\"#ifdef USE_MAP\\\\n\\\\tuniform mat3 uvTransform;\\\\n\\\\tuniform sampler2D map;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var metalnessmap_fragment = \\\"float metalnessFactor = metalness;\\\\n#ifdef USE_METALNESSMAP\\\\n\\\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\\\n\\\\tmetalnessFactor *= texelMetalness.b;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var metalnessmap_pars_fragment = \\\"#ifdef USE_METALNESSMAP\\\\n\\\\tuniform sampler2D metalnessMap;\\\\n#endif\\\";\\r\\n\\r\\n    var morphnormal_vertex = \\\"#ifdef USE_MORPHNORMALS\\\\n\\\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\\\n\\\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\\\n\\\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\\\n\\\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var morphtarget_pars_vertex = \\\"#ifdef USE_MORPHTARGETS\\\\n\\\\t#ifndef USE_MORPHNORMALS\\\\n\\\\tuniform float morphTargetInfluences[ 8 ];\\\\n\\\\t#else\\\\n\\\\tuniform float morphTargetInfluences[ 4 ];\\\\n\\\\t#endif\\\\n#endif\\\";\\r\\n\\r\\n    var morphtarget_vertex = \\\"#ifdef USE_MORPHTARGETS\\\\n\\\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\\\n\\\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\\\n\\\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\\\n\\\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\\\n\\\\t#ifndef USE_MORPHNORMALS\\\\n\\\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\\\n\\\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\\\n\\\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\\\n\\\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var normal_fragment_begin = \\\"#ifdef FLAT_SHADED\\\\n\\\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\\\n\\\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\\\n\\\\tvec3 normal = normalize( cross( fdx, fdy ) );\\\\n#else\\\\n\\\\tvec3 normal = normalize( vNormal );\\\\n\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var normal_fragment_maps = \\\"#ifdef USE_NORMALMAP\\\\n\\\\t#ifdef OBJECTSPACE_NORMALMAP\\\\n\\\\t\\\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\\\n\\\\t\\\\t#ifdef FLIP_SIDED\\\\n\\\\t\\\\t\\\\tnormal = - normal;\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\t\\\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\tnormal = normalize( normalMatrix * normal );\\\\n\\\\t#else\\\\n\\\\t\\\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\\\n\\\\t#endif\\\\n#elif defined( USE_BUMPMAP )\\\\n\\\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var normalmap_pars_fragment = \\\"#ifdef USE_NORMALMAP\\\\n\\\\tuniform sampler2D normalMap;\\\\n\\\\tuniform vec2 normalScale;\\\\n\\\\t#ifdef OBJECTSPACE_NORMALMAP\\\\n\\\\t\\\\tuniform mat3 normalMatrix;\\\\n\\\\t#else\\\\n\\\\t\\\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\\\n\\\\t\\\\t\\\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\\\n\\\\t\\\\t\\\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\\\n\\\\t\\\\t\\\\tvec2 st0 = dFdx( vUv.st );\\\\n\\\\t\\\\t\\\\tvec2 st1 = dFdy( vUv.st );\\\\n\\\\t\\\\t\\\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\\\n\\\\t\\\\t\\\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\\\n\\\\t\\\\t\\\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\\\n\\\\t\\\\t\\\\tvec3 N = normalize( surf_norm );\\\\n\\\\t\\\\t\\\\tmat3 tsn = mat3( S, T, N );\\\\n\\\\t\\\\t\\\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\\\n\\\\t\\\\t\\\\tmapN.xy *= normalScale;\\\\n\\\\t\\\\t\\\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\\\n\\\\t\\\\t\\\\treturn normalize( tsn * mapN );\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var packing = \\\"vec3 packNormalToRGB( const in vec3 normal ) {\\\\n\\\\treturn normalize( normal ) * 0.5 + 0.5;\\\\n}\\\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\\\n\\\\treturn 2.0 * rgb.xyz - 1.0;\\\\n}\\\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\\\nconst float ShiftRight8 = 1. / 256.;\\\\nvec4 packDepthToRGBA( const in float v ) {\\\\n\\\\tvec4 r = vec4( fract( v * PackFactors ), v );\\\\n\\\\tr.yzw -= r.xyz * ShiftRight8;\\\\treturn r * PackUpscale;\\\\n}\\\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\\\n\\\\treturn dot( v, UnpackFactors );\\\\n}\\\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\\\n\\\\treturn ( viewZ + near ) / ( near - far );\\\\n}\\\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\\\n\\\\treturn linearClipZ * ( near - far ) - near;\\\\n}\\\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\\\n\\\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\\\n}\\\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\\\n\\\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var premultiplied_alpha_fragment = \\\"#ifdef PREMULTIPLIED_ALPHA\\\\n\\\\tgl_FragColor.rgb *= gl_FragColor.a;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var project_vertex = \\\"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\\\ngl_Position = projectionMatrix * mvPosition;\\\\n\\\";\\r\\n\\r\\n    var dithering_fragment = \\\"#if defined( DITHERING )\\\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var dithering_pars_fragment = \\\"#if defined( DITHERING )\\\\n\\\\tvec3 dithering( vec3 color ) {\\\\n\\\\t\\\\tfloat grid_position = rand( gl_FragCoord.xy );\\\\n\\\\t\\\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\\\n\\\\t\\\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\\\n\\\\t\\\\treturn color + dither_shift_RGB;\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var roughnessmap_fragment = \\\"float roughnessFactor = roughness;\\\\n#ifdef USE_ROUGHNESSMAP\\\\n\\\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\\\n\\\\troughnessFactor *= texelRoughness.g;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var roughnessmap_pars_fragment = \\\"#ifdef USE_ROUGHNESSMAP\\\\n\\\\tuniform sampler2D roughnessMap;\\\\n#endif\\\";\\r\\n\\r\\n    var shadowmap_pars_fragment = \\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t\\\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\\\n\\\\t\\\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\\\n\\\\t}\\\\n\\\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\\\n\\\\t\\\\tconst vec2 offset = vec2( 0.0, 1.0 );\\\\n\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / size;\\\\n\\\\t\\\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\\\n\\\\t\\\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\\\n\\\\t\\\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\\\n\\\\t\\\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\\\n\\\\t\\\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\\\n\\\\t\\\\tvec2 f = fract( uv * size + 0.5 );\\\\n\\\\t\\\\tfloat a = mix( lb, lt, f.y );\\\\n\\\\t\\\\tfloat b = mix( rb, rt, f.y );\\\\n\\\\t\\\\tfloat c = mix( a, b, f.x );\\\\n\\\\t\\\\treturn c;\\\\n\\\\t}\\\\n\\\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\\\n\\\\t\\\\tfloat shadow = 1.0;\\\\n\\\\t\\\\tshadowCoord.xyz /= shadowCoord.w;\\\\n\\\\t\\\\tshadowCoord.z += shadowBias;\\\\n\\\\t\\\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\\\n\\\\t\\\\tbool inFrustum = all( inFrustumVec );\\\\n\\\\t\\\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\\\n\\\\t\\\\tbool frustumTest = all( frustumTestVec );\\\\n\\\\t\\\\tif ( frustumTest ) {\\\\n\\\\t\\\\t#if defined( SHADOWMAP_TYPE_PCF )\\\\n\\\\t\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\\\n\\\\t\\\\t\\\\tfloat dx0 = - texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy0 = - texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dx1 = + texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy1 = + texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tshadow = (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\\\n\\\\t\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\\\n\\\\t\\\\t\\\\tfloat dx0 = - texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy0 = - texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dx1 = + texelSize.x * shadowRadius;\\\\n\\\\t\\\\t\\\\tfloat dy1 = + texelSize.y * shadowRadius;\\\\n\\\\t\\\\t\\\\tshadow = (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\\\n\\\\t\\\\t#endif\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn shadow;\\\\n\\\\t}\\\\n\\\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\\\n\\\\t\\\\tvec3 absV = abs( v );\\\\n\\\\t\\\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\\\n\\\\t\\\\tabsV *= scaleToCube;\\\\n\\\\t\\\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\\\n\\\\t\\\\tvec2 planar = v.xy;\\\\n\\\\t\\\\tfloat almostATexel = 1.5 * texelSizeY;\\\\n\\\\t\\\\tfloat almostOne = 1.0 - almostATexel;\\\\n\\\\t\\\\tif ( absV.z >= almostOne ) {\\\\n\\\\t\\\\t\\\\tif ( v.z > 0.0 )\\\\n\\\\t\\\\t\\\\t\\\\tplanar.x = 4.0 - v.x;\\\\n\\\\t\\\\t} else if ( absV.x >= almostOne ) {\\\\n\\\\t\\\\t\\\\tfloat signX = sign( v.x );\\\\n\\\\t\\\\t\\\\tplanar.x = v.z * signX + 2.0 * signX;\\\\n\\\\t\\\\t} else if ( absV.y >= almostOne ) {\\\\n\\\\t\\\\t\\\\tfloat signY = sign( v.y );\\\\n\\\\t\\\\t\\\\tplanar.x = v.x + 2.0 * signY + 2.0;\\\\n\\\\t\\\\t\\\\tplanar.y = v.z * signY - 2.0;\\\\n\\\\t\\\\t}\\\\n\\\\t\\\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\\\n\\\\t}\\\\n\\\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\\\n\\\\t\\\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\\\n\\\\t\\\\tvec3 lightToPosition = shadowCoord.xyz;\\\\n\\\\t\\\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\\\t\\\\tdp += shadowBias;\\\\n\\\\t\\\\tvec3 bd3D = normalize( lightToPosition );\\\\n\\\\t\\\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\\\n\\\\t\\\\t\\\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\\\n\\\\t\\\\t\\\\treturn (\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\\\n\\\\t\\\\t\\\\t\\\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\\\n\\\\t\\\\t\\\\t) * ( 1.0 / 9.0 );\\\\n\\\\t\\\\t#else\\\\n\\\\t\\\\t\\\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\\\n\\\\t\\\\t#endif\\\\n\\\\t}\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var shadowmap_pars_vertex = \\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t\\\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\\\n\\\\t\\\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var shadowmap_vertex = \\\"#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var shadowmask_pars_fragment = \\\"float getShadowMask() {\\\\n\\\\tfloat shadow = 1.0;\\\\n\\\\t#ifdef USE_SHADOWMAP\\\\n\\\\t#if NUM_DIR_LIGHTS > 0\\\\n\\\\tDirectionalLight directionalLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tdirectionalLight = directionalLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_SPOT_LIGHTS > 0\\\\n\\\\tSpotLight spotLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tspotLight = spotLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#if NUM_POINT_LIGHTS > 0\\\\n\\\\tPointLight pointLight;\\\\n\\\\t#pragma unroll_loop\\\\n\\\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\\\n\\\\t\\\\tpointLight = pointLights[ i ];\\\\n\\\\t\\\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\\\n\\\\t}\\\\n\\\\t#endif\\\\n\\\\t#endif\\\\n\\\\treturn shadow;\\\\n}\\\\n\\\";\\r\\n\\r\\n    var skinbase_vertex = \\\"#ifdef USE_SKINNING\\\\n\\\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\\\n\\\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\\\n\\\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\\\n\\\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\\\n#endif\\\";\\r\\n\\r\\n    var skinning_pars_vertex = \\\"#ifdef USE_SKINNING\\\\n\\\\tuniform mat4 bindMatrix;\\\\n\\\\tuniform mat4 bindMatrixInverse;\\\\n\\\\t#ifdef BONE_TEXTURE\\\\n\\\\t\\\\tuniform sampler2D boneTexture;\\\\n\\\\t\\\\tuniform int boneTextureSize;\\\\n\\\\t\\\\tmat4 getBoneMatrix( const in float i ) {\\\\n\\\\t\\\\t\\\\tfloat j = i * 4.0;\\\\n\\\\t\\\\t\\\\tfloat x = mod( j, float( boneTextureSize ) );\\\\n\\\\t\\\\t\\\\tfloat y = floor( j / float( boneTextureSize ) );\\\\n\\\\t\\\\t\\\\tfloat dx = 1.0 / float( boneTextureSize );\\\\n\\\\t\\\\t\\\\tfloat dy = 1.0 / float( boneTextureSize );\\\\n\\\\t\\\\t\\\\ty = dy * ( y + 0.5 );\\\\n\\\\t\\\\t\\\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\\\n\\\\t\\\\t\\\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\\\n\\\\t\\\\t\\\\tmat4 bone = mat4( v1, v2, v3, v4 );\\\\n\\\\t\\\\t\\\\treturn bone;\\\\n\\\\t\\\\t}\\\\n\\\\t#else\\\\n\\\\t\\\\tuniform mat4 boneMatrices[ MAX_BONES ];\\\\n\\\\t\\\\tmat4 getBoneMatrix( const in float i ) {\\\\n\\\\t\\\\t\\\\tmat4 bone = boneMatrices[ int(i) ];\\\\n\\\\t\\\\t\\\\treturn bone;\\\\n\\\\t\\\\t}\\\\n\\\\t#endif\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var skinning_vertex = \\\"#ifdef USE_SKINNING\\\\n\\\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\\\n\\\\tvec4 skinned = vec4( 0.0 );\\\\n\\\\tskinned += boneMatX * skinVertex * skinWeight.x;\\\\n\\\\tskinned += boneMatY * skinVertex * skinWeight.y;\\\\n\\\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\\\n\\\\tskinned += boneMatW * skinVertex * skinWeight.w;\\\\n\\\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var skinnormal_vertex = \\\"#ifdef USE_SKINNING\\\\n\\\\tmat4 skinMatrix = mat4( 0.0 );\\\\n\\\\tskinMatrix += skinWeight.x * boneMatX;\\\\n\\\\tskinMatrix += skinWeight.y * boneMatY;\\\\n\\\\tskinMatrix += skinWeight.z * boneMatZ;\\\\n\\\\tskinMatrix += skinWeight.w * boneMatW;\\\\n\\\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\\\n\\\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var specularmap_fragment = \\\"float specularStrength;\\\\n#ifdef USE_SPECULARMAP\\\\n\\\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\\\n\\\\tspecularStrength = texelSpecular.r;\\\\n#else\\\\n\\\\tspecularStrength = 1.0;\\\\n#endif\\\";\\r\\n\\r\\n    var specularmap_pars_fragment = \\\"#ifdef USE_SPECULARMAP\\\\n\\\\tuniform sampler2D specularMap;\\\\n#endif\\\";\\r\\n\\r\\n    var tonemapping_fragment = \\\"#if defined( TONE_MAPPING )\\\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var tonemapping_pars_fragment = \\\"#ifndef saturate\\\\n\\\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\\\n#endif\\\\nuniform float toneMappingExposure;\\\\nuniform float toneMappingWhitePoint;\\\\nvec3 LinearToneMapping( vec3 color ) {\\\\n\\\\treturn toneMappingExposure * color;\\\\n}\\\\nvec3 ReinhardToneMapping( vec3 color ) {\\\\n\\\\tcolor *= toneMappingExposure;\\\\n\\\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\\\n}\\\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\\\n\\\\tcolor *= toneMappingExposure;\\\\n\\\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\\\n}\\\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\\\n\\\\tcolor *= toneMappingExposure;\\\\n\\\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\\\n\\\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var uv_pars_fragment = \\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvarying vec2 vUv;\\\\n#endif\\\";\\r\\n\\r\\n    var uv_pars_vertex = \\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvarying vec2 vUv;\\\\n\\\\tuniform mat3 uvTransform;\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var uv_vertex = \\\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\\\n\\\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\\\n#endif\\\";\\r\\n\\r\\n    var uv2_pars_fragment = \\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tvarying vec2 vUv2;\\\\n#endif\\\";\\r\\n\\r\\n    var uv2_pars_vertex = \\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tattribute vec2 uv2;\\\\n\\\\tvarying vec2 vUv2;\\\\n#endif\\\";\\r\\n\\r\\n    var uv2_vertex = \\\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\\\n\\\\tvUv2 = uv2;\\\\n#endif\\\";\\r\\n\\r\\n    var worldpos_vertex = \\\"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\\\n\\\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\\\n#endif\\\\n\\\";\\r\\n\\r\\n    var background_frag = \\\"uniform sampler2D t2D;\\\\nvarying vec2 vUv;\\\\nvoid main() {\\\\n\\\\tgl_FragColor = texture2D( t2D, vUv );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var background_vert = \\\"varying vec2 vUv;\\\\nvoid main() {\\\\n\\\\tvUv = uv;\\\\n\\\\tgl_Position = vec4( position, 1.0 );\\\\n\\\\tgl_Position.z = 1.0;\\\\n}\\\\n\\\";\\r\\n\\r\\n    var cube_frag = \\\"uniform samplerCube tCube;\\\\nuniform float tFlip;\\\\nuniform float opacity;\\\\nvarying vec3 vWorldPosition;\\\\nvoid main() {\\\\n\\\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\\\n\\\\tgl_FragColor.a *= opacity;\\\\n}\\\\n\\\";\\r\\n\\r\\n    var cube_vert = \\\"varying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvWorldPosition = transformDirection( position, modelMatrix );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\tgl_Position.z = gl_Position.w;\\\\n}\\\\n\\\";\\r\\n\\r\\n    var depth_frag = \\\"#if DEPTH_PACKING == 3200\\\\n\\\\tuniform float opacity;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <uv_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( 1.0 );\\\\n\\\\t#if DEPTH_PACKING == 3200\\\\n\\\\t\\\\tdiffuseColor.a = opacity;\\\\n\\\\t#endif\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#if DEPTH_PACKING == 3200\\\\n\\\\t\\\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\\\n\\\\t#elif DEPTH_PACKING == 3201\\\\n\\\\t\\\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\\\n\\\\t#endif\\\\n}\\\\n\\\";\\r\\n\\r\\n    var depth_vert = \\\"#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#ifdef USE_DISPLACEMENTMAP\\\\n\\\\t\\\\t#include <beginnormal_vertex>\\\\n\\\\t\\\\t#include <morphnormal_vertex>\\\\n\\\\t\\\\t#include <skinnormal_vertex>\\\\n\\\\t#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var distanceRGBA_frag = \\\"#define DISTANCE\\\\nuniform vec3 referencePosition;\\\\nuniform float nearDistance;\\\\nuniform float farDistance;\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <uv_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main () {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( 1.0 );\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\tfloat dist = length( vWorldPosition - referencePosition );\\\\n\\\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\\\n\\\\tdist = saturate( dist );\\\\n\\\\tgl_FragColor = packDepthToRGBA( dist );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var distanceRGBA_vert = \\\"#define DISTANCE\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#ifdef USE_DISPLACEMENTMAP\\\\n\\\\t\\\\t#include <beginnormal_vertex>\\\\n\\\\t\\\\t#include <morphnormal_vertex>\\\\n\\\\t\\\\t#include <skinnormal_vertex>\\\\n\\\\t#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvWorldPosition = worldPosition.xyz;\\\\n}\\\\n\\\";\\r\\n\\r\\n    var equirect_frag = \\\"uniform sampler2D tEquirect;\\\\nvarying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvec3 direction = normalize( vWorldPosition );\\\\n\\\\tvec2 sampleUV;\\\\n\\\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\\\n\\\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\\\n\\\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var equirect_vert = \\\"varying vec3 vWorldPosition;\\\\n#include <common>\\\\nvoid main() {\\\\n\\\\tvWorldPosition = transformDirection( position, modelMatrix );\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var linedashed_frag = \\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\nuniform float dashSize;\\\\nuniform float totalSize;\\\\nvarying float vLineDistance;\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\\\n\\\\t\\\\tdiscard;\\\\n\\\\t}\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var linedashed_vert = \\\"uniform float scale;\\\\nattribute float lineDistance;\\\\nvarying float vLineDistance;\\\\n#include <common>\\\\n#include <color_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <color_vertex>\\\\n\\\\tvLineDistance = scale * lineDistance;\\\\n\\\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\\\n\\\\tgl_Position = projectionMatrix * mvPosition;\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshbasic_frag = \\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\t#ifdef USE_LIGHTMAP\\\\n\\\\t\\\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\\\n\\\\t#else\\\\n\\\\t\\\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\\\n\\\\t#endif\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\\\n\\\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshbasic_vert = \\\"#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#ifdef USE_ENVMAP\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshlambert_frag = \\\"uniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform float opacity;\\\\nvarying vec3 vLightFront;\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvarying vec3 vLightBack;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <dithering_pars_fragment>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars_begin>\\\\n#include <fog_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <shadowmask_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\\\n\\\\t#include <lightmap_fragment>\\\\n\\\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\\\n\\\\t#ifdef DOUBLE_SIDED\\\\n\\\\t\\\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\\\n\\\\t#else\\\\n\\\\t\\\\treflectedLight.directDiffuse = vLightFront;\\\\n\\\\t#endif\\\\n\\\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <dithering_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshlambert_vert = \\\"#define LAMBERT\\\\nvarying vec3 vLightFront;\\\\n#ifdef DOUBLE_SIDED\\\\n\\\\tvarying vec3 vLightBack;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <bsdfs>\\\\n#include <lights_pars_begin>\\\\n#include <color_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <lights_lambert_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshmatcap_frag = \\\"#define MATCAP\\\\nuniform vec3 diffuse;\\\\nuniform float opacity;\\\\nuniform sampler2D matcap;\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <normal_fragment_begin>\\\\n\\\\t#include <normal_fragment_maps>\\\\n\\\\tvec3 viewDir = normalize( vViewPosition );\\\\n\\\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\\\n\\\\tvec3 y = cross( viewDir, x );\\\\n\\\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\\\n\\\\tvec4 matcapColor = texture2D( matcap, uv );\\\\n\\\\tmatcapColor = matcapTexelToLinear( matcapColor );\\\\n\\\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshmatcap_vert = \\\"#define MATCAP\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n\\\\t#ifndef FLAT_SHADED\\\\n\\\\t\\\\tvNormal = normalize( transformedNormal );\\\\n\\\\t#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshphong_frag = \\\"#define PHONG\\\\nuniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform vec3 specular;\\\\nuniform float shininess;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <dithering_pars_fragment>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <gradientmap_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars_begin>\\\\n#include <lights_phong_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <specularmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <specularmap_fragment>\\\\n\\\\t#include <normal_fragment_begin>\\\\n\\\\t#include <normal_fragment_maps>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\t#include <lights_phong_fragment>\\\\n\\\\t#include <lights_fragment_begin>\\\\n\\\\t#include <lights_fragment_maps>\\\\n\\\\t#include <lights_fragment_end>\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\\\n\\\\t#include <envmap_fragment>\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <dithering_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshphong_vert = \\\"#define PHONG\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <envmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <envmap_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshphysical_frag = \\\"#define PHYSICAL\\\\nuniform vec3 diffuse;\\\\nuniform vec3 emissive;\\\\nuniform float roughness;\\\\nuniform float metalness;\\\\nuniform float opacity;\\\\n#ifndef STANDARD\\\\n\\\\tuniform float clearCoat;\\\\n\\\\tuniform float clearCoatRoughness;\\\\n#endif\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <packing>\\\\n#include <dithering_pars_fragment>\\\\n#include <color_pars_fragment>\\\\n#include <uv_pars_fragment>\\\\n#include <uv2_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <alphamap_pars_fragment>\\\\n#include <aomap_pars_fragment>\\\\n#include <lightmap_pars_fragment>\\\\n#include <emissivemap_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <cube_uv_reflection_fragment>\\\\n#include <envmap_pars_fragment>\\\\n#include <envmap_physical_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <lights_pars_begin>\\\\n#include <lights_physical_pars_fragment>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <roughnessmap_pars_fragment>\\\\n#include <metalnessmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\\\n\\\\tvec3 totalEmissiveRadiance = emissive;\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphamap_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\t#include <roughnessmap_fragment>\\\\n\\\\t#include <metalnessmap_fragment>\\\\n\\\\t#include <normal_fragment_begin>\\\\n\\\\t#include <normal_fragment_maps>\\\\n\\\\t#include <emissivemap_fragment>\\\\n\\\\t#include <lights_physical_fragment>\\\\n\\\\t#include <lights_fragment_begin>\\\\n\\\\t#include <lights_fragment_maps>\\\\n\\\\t#include <lights_fragment_end>\\\\n\\\\t#include <aomap_fragment>\\\\n\\\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <dithering_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var meshphysical_vert = \\\"#define PHYSICAL\\\\nvarying vec3 vViewPosition;\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <uv2_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <color_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <uv2_vertex>\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var normal_frag = \\\"#define NORMAL\\\\nuniform float opacity;\\\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\\\n\\\\tvarying vec3 vViewPosition;\\\\n#endif\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <packing>\\\\n#include <uv_pars_fragment>\\\\n#include <bumpmap_pars_fragment>\\\\n#include <normalmap_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <normal_fragment_begin>\\\\n\\\\t#include <normal_fragment_maps>\\\\n\\\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\\\n}\\\\n\\\";\\r\\n\\r\\n    var normal_vert = \\\"#define NORMAL\\\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\\\n\\\\tvarying vec3 vViewPosition;\\\\n#endif\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvarying vec3 vNormal;\\\\n#endif\\\\n#include <uv_pars_vertex>\\\\n#include <displacementmap_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <skinning_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\t#include <beginnormal_vertex>\\\\n\\\\t#include <morphnormal_vertex>\\\\n\\\\t#include <skinbase_vertex>\\\\n\\\\t#include <skinnormal_vertex>\\\\n\\\\t#include <defaultnormal_vertex>\\\\n#ifndef FLAT_SHADED\\\\n\\\\tvNormal = normalize( transformedNormal );\\\\n#endif\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <skinning_vertex>\\\\n\\\\t#include <displacementmap_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\\\n\\\\tvViewPosition = - mvPosition.xyz;\\\\n#endif\\\\n}\\\\n\\\";\\r\\n\\r\\n    var points_frag = \\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <color_pars_fragment>\\\\n#include <map_particle_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_particle_fragment>\\\\n\\\\t#include <color_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <premultiplied_alpha_fragment>\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var points_vert = \\\"uniform float size;\\\\nuniform float scale;\\\\n#include <common>\\\\n#include <color_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <morphtarget_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <color_vertex>\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <morphtarget_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\tgl_PointSize = size;\\\\n\\\\t#ifdef USE_SIZEATTENUATION\\\\n\\\\t\\\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\\\n\\\\t\\\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\\\n\\\\t#endif\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var shadow_frag = \\\"uniform vec3 color;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <packing>\\\\n#include <fog_pars_fragment>\\\\n#include <bsdfs>\\\\n#include <lights_pars_begin>\\\\n#include <shadowmap_pars_fragment>\\\\n#include <shadowmask_pars_fragment>\\\\nvoid main() {\\\\n\\\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var shadow_vert = \\\"#include <fog_pars_vertex>\\\\n#include <shadowmap_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <begin_vertex>\\\\n\\\\t#include <project_vertex>\\\\n\\\\t#include <worldpos_vertex>\\\\n\\\\t#include <shadowmap_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var sprite_frag = \\\"uniform vec3 diffuse;\\\\nuniform float opacity;\\\\n#include <common>\\\\n#include <uv_pars_fragment>\\\\n#include <map_pars_fragment>\\\\n#include <fog_pars_fragment>\\\\n#include <logdepthbuf_pars_fragment>\\\\n#include <clipping_planes_pars_fragment>\\\\nvoid main() {\\\\n\\\\t#include <clipping_planes_fragment>\\\\n\\\\tvec3 outgoingLight = vec3( 0.0 );\\\\n\\\\tvec4 diffuseColor = vec4( diffuse, opacity );\\\\n\\\\t#include <logdepthbuf_fragment>\\\\n\\\\t#include <map_fragment>\\\\n\\\\t#include <alphatest_fragment>\\\\n\\\\toutgoingLight = diffuseColor.rgb;\\\\n\\\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\\\n\\\\t#include <tonemapping_fragment>\\\\n\\\\t#include <encodings_fragment>\\\\n\\\\t#include <fog_fragment>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var sprite_vert = \\\"uniform float rotation;\\\\nuniform vec2 center;\\\\n#include <common>\\\\n#include <uv_pars_vertex>\\\\n#include <fog_pars_vertex>\\\\n#include <logdepthbuf_pars_vertex>\\\\n#include <clipping_planes_pars_vertex>\\\\nvoid main() {\\\\n\\\\t#include <uv_vertex>\\\\n\\\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\\\n\\\\tvec2 scale;\\\\n\\\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\\\n\\\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\\\n\\\\t#ifndef USE_SIZEATTENUATION\\\\n\\\\t\\\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\\\n\\\\t\\\\tif ( isPerspective ) scale *= - mvPosition.z;\\\\n\\\\t#endif\\\\n\\\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\\\n\\\\tvec2 rotatedPosition;\\\\n\\\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\\\n\\\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\\\n\\\\tmvPosition.xy += rotatedPosition;\\\\n\\\\tgl_Position = projectionMatrix * mvPosition;\\\\n\\\\t#include <logdepthbuf_vertex>\\\\n\\\\t#include <clipping_planes_vertex>\\\\n\\\\t#include <fog_vertex>\\\\n}\\\\n\\\";\\r\\n\\r\\n    var ShaderChunk = {\\r\\n        alphamap_fragment: alphamap_fragment,\\r\\n        alphamap_pars_fragment: alphamap_pars_fragment,\\r\\n        alphatest_fragment: alphatest_fragment,\\r\\n        aomap_fragment: aomap_fragment,\\r\\n        aomap_pars_fragment: aomap_pars_fragment,\\r\\n        begin_vertex: begin_vertex,\\r\\n        beginnormal_vertex: beginnormal_vertex,\\r\\n        bsdfs: bsdfs,\\r\\n        bumpmap_pars_fragment: bumpmap_pars_fragment,\\r\\n        clipping_planes_fragment: clipping_planes_fragment,\\r\\n        clipping_planes_pars_fragment: clipping_planes_pars_fragment,\\r\\n        clipping_planes_pars_vertex: clipping_planes_pars_vertex,\\r\\n        clipping_planes_vertex: clipping_planes_vertex,\\r\\n        color_fragment: color_fragment,\\r\\n        color_pars_fragment: color_pars_fragment,\\r\\n        color_pars_vertex: color_pars_vertex,\\r\\n        color_vertex: color_vertex,\\r\\n        common: common,\\r\\n        cube_uv_reflection_fragment: cube_uv_reflection_fragment,\\r\\n        defaultnormal_vertex: defaultnormal_vertex,\\r\\n        displacementmap_pars_vertex: displacementmap_pars_vertex,\\r\\n        displacementmap_vertex: displacementmap_vertex,\\r\\n        emissivemap_fragment: emissivemap_fragment,\\r\\n        emissivemap_pars_fragment: emissivemap_pars_fragment,\\r\\n        encodings_fragment: encodings_fragment,\\r\\n        encodings_pars_fragment: encodings_pars_fragment,\\r\\n        envmap_fragment: envmap_fragment,\\r\\n        envmap_pars_fragment: envmap_pars_fragment,\\r\\n        envmap_pars_vertex: envmap_pars_vertex,\\r\\n        envmap_physical_pars_fragment: envmap_physical_pars_fragment,\\r\\n        envmap_vertex: envmap_vertex,\\r\\n        fog_vertex: fog_vertex,\\r\\n        fog_pars_vertex: fog_pars_vertex,\\r\\n        fog_fragment: fog_fragment,\\r\\n        fog_pars_fragment: fog_pars_fragment,\\r\\n        gradientmap_pars_fragment: gradientmap_pars_fragment,\\r\\n        lightmap_fragment: lightmap_fragment,\\r\\n        lightmap_pars_fragment: lightmap_pars_fragment,\\r\\n        lights_lambert_vertex: lights_lambert_vertex,\\r\\n        lights_pars_begin: lights_pars_begin,\\r\\n        lights_phong_fragment: lights_phong_fragment,\\r\\n        lights_phong_pars_fragment: lights_phong_pars_fragment,\\r\\n        lights_physical_fragment: lights_physical_fragment,\\r\\n        lights_physical_pars_fragment: lights_physical_pars_fragment,\\r\\n        lights_fragment_begin: lights_fragment_begin,\\r\\n        lights_fragment_maps: lights_fragment_maps,\\r\\n        lights_fragment_end: lights_fragment_end,\\r\\n        logdepthbuf_fragment: logdepthbuf_fragment,\\r\\n        logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\\r\\n        logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\\r\\n        logdepthbuf_vertex: logdepthbuf_vertex,\\r\\n        map_fragment: map_fragment,\\r\\n        map_pars_fragment: map_pars_fragment,\\r\\n        map_particle_fragment: map_particle_fragment,\\r\\n        map_particle_pars_fragment: map_particle_pars_fragment,\\r\\n        metalnessmap_fragment: metalnessmap_fragment,\\r\\n        metalnessmap_pars_fragment: metalnessmap_pars_fragment,\\r\\n        morphnormal_vertex: morphnormal_vertex,\\r\\n        morphtarget_pars_vertex: morphtarget_pars_vertex,\\r\\n        morphtarget_vertex: morphtarget_vertex,\\r\\n        normal_fragment_begin: normal_fragment_begin,\\r\\n        normal_fragment_maps: normal_fragment_maps,\\r\\n        normalmap_pars_fragment: normalmap_pars_fragment,\\r\\n        packing: packing,\\r\\n        premultiplied_alpha_fragment: premultiplied_alpha_fragment,\\r\\n        project_vertex: project_vertex,\\r\\n        dithering_fragment: dithering_fragment,\\r\\n        dithering_pars_fragment: dithering_pars_fragment,\\r\\n        roughnessmap_fragment: roughnessmap_fragment,\\r\\n        roughnessmap_pars_fragment: roughnessmap_pars_fragment,\\r\\n        shadowmap_pars_fragment: shadowmap_pars_fragment,\\r\\n        shadowmap_pars_vertex: shadowmap_pars_vertex,\\r\\n        shadowmap_vertex: shadowmap_vertex,\\r\\n        shadowmask_pars_fragment: shadowmask_pars_fragment,\\r\\n        skinbase_vertex: skinbase_vertex,\\r\\n        skinning_pars_vertex: skinning_pars_vertex,\\r\\n        skinning_vertex: skinning_vertex,\\r\\n        skinnormal_vertex: skinnormal_vertex,\\r\\n        specularmap_fragment: specularmap_fragment,\\r\\n        specularmap_pars_fragment: specularmap_pars_fragment,\\r\\n        tonemapping_fragment: tonemapping_fragment,\\r\\n        tonemapping_pars_fragment: tonemapping_pars_fragment,\\r\\n        uv_pars_fragment: uv_pars_fragment,\\r\\n        uv_pars_vertex: uv_pars_vertex,\\r\\n        uv_vertex: uv_vertex,\\r\\n        uv2_pars_fragment: uv2_pars_fragment,\\r\\n        uv2_pars_vertex: uv2_pars_vertex,\\r\\n        uv2_vertex: uv2_vertex,\\r\\n        worldpos_vertex: worldpos_vertex,\\r\\n\\r\\n        background_frag: background_frag,\\r\\n        background_vert: background_vert,\\r\\n        cube_frag: cube_frag,\\r\\n        cube_vert: cube_vert,\\r\\n        depth_frag: depth_frag,\\r\\n        depth_vert: depth_vert,\\r\\n        distanceRGBA_frag: distanceRGBA_frag,\\r\\n        distanceRGBA_vert: distanceRGBA_vert,\\r\\n        equirect_frag: equirect_frag,\\r\\n        equirect_vert: equirect_vert,\\r\\n        linedashed_frag: linedashed_frag,\\r\\n        linedashed_vert: linedashed_vert,\\r\\n        meshbasic_frag: meshbasic_frag,\\r\\n        meshbasic_vert: meshbasic_vert,\\r\\n        meshlambert_frag: meshlambert_frag,\\r\\n        meshlambert_vert: meshlambert_vert,\\r\\n        meshmatcap_frag: meshmatcap_frag,\\r\\n        meshmatcap_vert: meshmatcap_vert,\\r\\n        meshphong_frag: meshphong_frag,\\r\\n        meshphong_vert: meshphong_vert,\\r\\n        meshphysical_frag: meshphysical_frag,\\r\\n        meshphysical_vert: meshphysical_vert,\\r\\n        normal_frag: normal_frag,\\r\\n        normal_vert: normal_vert,\\r\\n        points_frag: points_frag,\\r\\n        points_vert: points_vert,\\r\\n        shadow_frag: shadow_frag,\\r\\n        shadow_vert: shadow_vert,\\r\\n        sprite_frag: sprite_frag,\\r\\n        sprite_vert: sprite_vert\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * Uniform Utilities\\r\\n     */\\r\\n\\r\\n    var UniformsUtils = {\\r\\n\\r\\n        merge: function ( uniforms ) {\\r\\n\\r\\n            var merged = {};\\r\\n\\r\\n            for ( var u = 0; u < uniforms.length; u ++ ) {\\r\\n\\r\\n                var tmp = this.clone( uniforms[ u ] );\\r\\n\\r\\n                for ( var p in tmp ) {\\r\\n\\r\\n                    merged[ p ] = tmp[ p ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return merged;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function ( uniforms_src ) {\\r\\n\\r\\n            var uniforms_dst = {};\\r\\n\\r\\n            for ( var u in uniforms_src ) {\\r\\n\\r\\n                uniforms_dst[ u ] = {};\\r\\n\\r\\n                for ( var p in uniforms_src[ u ] ) {\\r\\n\\r\\n                    var parameter_src = uniforms_src[ u ][ p ];\\r\\n\\r\\n                    if ( parameter_src && ( parameter_src.isColor ||\\r\\n                            parameter_src.isMatrix3 || parameter_src.isMatrix4 ||\\r\\n                            parameter_src.isVector2 || parameter_src.isVector3 || parameter_src.isVector4 ||\\r\\n                            parameter_src.isTexture ) ) {\\r\\n\\r\\n                        uniforms_dst[ u ][ p ] = parameter_src.clone();\\r\\n\\r\\n                    } else if ( Array.isArray( parameter_src ) ) {\\r\\n\\r\\n                        uniforms_dst[ u ][ p ] = parameter_src.slice();\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        uniforms_dst[ u ][ p ] = parameter_src;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return uniforms_dst;\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var ColorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\\r\\n        'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\\r\\n        'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\\r\\n        'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\\r\\n        'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\\r\\n        'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\\r\\n        'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\\r\\n        'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\\r\\n        'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\\r\\n        'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\\r\\n        'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\\r\\n        'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\\r\\n        'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\\r\\n        'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\\r\\n        'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\\r\\n        'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\\r\\n        'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\\r\\n        'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\\r\\n        'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\\r\\n        'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\\r\\n        'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\\r\\n        'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\\r\\n        'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\\r\\n        'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\\r\\n\\r\\n    function Color( r, g, b ) {\\r\\n\\r\\n        if ( g === undefined && b === undefined ) {\\r\\n\\r\\n            // r is THREE.Color, hex or string\\r\\n            return this.set( r );\\r\\n\\r\\n        }\\r\\n\\r\\n        return this.setRGB( r, g, b );\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Color.prototype, {\\r\\n\\r\\n        isColor: true,\\r\\n\\r\\n        r: 1, g: 1, b: 1,\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            if ( value && value.isColor ) {\\r\\n\\r\\n                this.copy( value );\\r\\n\\r\\n            } else if ( typeof value === 'number' ) {\\r\\n\\r\\n                this.setHex( value );\\r\\n\\r\\n            } else if ( typeof value === 'string' ) {\\r\\n\\r\\n                this.setStyle( value );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setScalar: function ( scalar ) {\\r\\n\\r\\n            this.r = scalar;\\r\\n            this.g = scalar;\\r\\n            this.b = scalar;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setHex: function ( hex ) {\\r\\n\\r\\n            hex = Math.floor( hex );\\r\\n\\r\\n            this.r = ( hex >> 16 & 255 ) / 255;\\r\\n            this.g = ( hex >> 8 & 255 ) / 255;\\r\\n            this.b = ( hex & 255 ) / 255;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setRGB: function ( r, g, b ) {\\r\\n\\r\\n            this.r = r;\\r\\n            this.g = g;\\r\\n            this.b = b;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setHSL: function () {\\r\\n\\r\\n            function hue2rgb( p, q, t ) {\\r\\n\\r\\n                if ( t < 0 ) t += 1;\\r\\n                if ( t > 1 ) t -= 1;\\r\\n                if ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\\r\\n                if ( t < 1 / 2 ) return q;\\r\\n                if ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\\r\\n                return p;\\r\\n\\r\\n            }\\r\\n\\r\\n            return function setHSL( h, s, l ) {\\r\\n\\r\\n                // h,s,l ranges are in 0.0 - 1.0\\r\\n                h = _Math.euclideanModulo( h, 1 );\\r\\n                s = _Math.clamp( s, 0, 1 );\\r\\n                l = _Math.clamp( l, 0, 1 );\\r\\n\\r\\n                if ( s === 0 ) {\\r\\n\\r\\n                    this.r = this.g = this.b = l;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    var p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\\r\\n                    var q = ( 2 * l ) - p;\\r\\n\\r\\n                    this.r = hue2rgb( q, p, h + 1 / 3 );\\r\\n                    this.g = hue2rgb( q, p, h );\\r\\n                    this.b = hue2rgb( q, p, h - 1 / 3 );\\r\\n\\r\\n                }\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        setStyle: function ( style ) {\\r\\n\\r\\n            function handleAlpha( string ) {\\r\\n\\r\\n                if ( string === undefined ) return;\\r\\n\\r\\n                if ( parseFloat( string ) < 1 ) {\\r\\n\\r\\n                    console.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            var m;\\r\\n\\r\\n            if ( m = /^((?:rgb|hsl)a?)\\\\(\\\\s*([^\\\\)]*)\\\\)/.exec( style ) ) {\\r\\n\\r\\n                // rgb / hsl\\r\\n\\r\\n                var color;\\r\\n                var name = m[ 1 ];\\r\\n                var components = m[ 2 ];\\r\\n\\r\\n                switch ( name ) {\\r\\n\\r\\n                    case 'rgb':\\r\\n                    case 'rgba':\\r\\n\\r\\n                        if ( color = /^(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*,\\\\s*(\\\\d+)\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec( components ) ) {\\r\\n\\r\\n                            // rgb(255,0,0) rgba(255,0,0,0.5)\\r\\n                            this.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\\r\\n                            this.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\\r\\n                            this.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\\r\\n\\r\\n                            handleAlpha( color[ 5 ] );\\r\\n\\r\\n                            return this;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        if ( color = /^(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec( components ) ) {\\r\\n\\r\\n                            // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\\r\\n                            this.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\\r\\n                            this.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\\r\\n                            this.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\\r\\n\\r\\n                            handleAlpha( color[ 5 ] );\\r\\n\\r\\n                            return this;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case 'hsl':\\r\\n                    case 'hsla':\\r\\n\\r\\n                        if ( color = /^([0-9]*\\\\.?[0-9]+)\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*,\\\\s*(\\\\d+)\\\\%\\\\s*(,\\\\s*([0-9]*\\\\.?[0-9]+)\\\\s*)?$/.exec( components ) ) {\\r\\n\\r\\n                            // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\\r\\n                            var h = parseFloat( color[ 1 ] ) / 360;\\r\\n                            var s = parseInt( color[ 2 ], 10 ) / 100;\\r\\n                            var l = parseInt( color[ 3 ], 10 ) / 100;\\r\\n\\r\\n                            handleAlpha( color[ 5 ] );\\r\\n\\r\\n                            return this.setHSL( h, s, l );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        break;\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( m = /^\\\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\\r\\n\\r\\n                // hex color\\r\\n\\r\\n                var hex = m[ 1 ];\\r\\n                var size = hex.length;\\r\\n\\r\\n                if ( size === 3 ) {\\r\\n\\r\\n                    // #ff0\\r\\n                    this.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\\r\\n                    this.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\\r\\n                    this.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\\r\\n\\r\\n                    return this;\\r\\n\\r\\n                } else if ( size === 6 ) {\\r\\n\\r\\n                    // #ff0000\\r\\n                    this.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\\r\\n                    this.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\\r\\n                    this.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\\r\\n\\r\\n                    return this;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( style && style.length > 0 ) {\\r\\n\\r\\n                // color keywords\\r\\n                var hex = ColorKeywords[ style ];\\r\\n\\r\\n                if ( hex !== undefined ) {\\r\\n\\r\\n                    // red\\r\\n                    this.setHex( hex );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // unknown color\\r\\n                    console.warn( 'THREE.Color: Unknown color ' + style );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.r, this.g, this.b );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( color ) {\\r\\n\\r\\n            this.r = color.r;\\r\\n            this.g = color.g;\\r\\n            this.b = color.b;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyGammaToLinear: function ( color, gammaFactor ) {\\r\\n\\r\\n            if ( gammaFactor === undefined ) gammaFactor = 2.0;\\r\\n\\r\\n            this.r = Math.pow( color.r, gammaFactor );\\r\\n            this.g = Math.pow( color.g, gammaFactor );\\r\\n            this.b = Math.pow( color.b, gammaFactor );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyLinearToGamma: function ( color, gammaFactor ) {\\r\\n\\r\\n            if ( gammaFactor === undefined ) gammaFactor = 2.0;\\r\\n\\r\\n            var safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\\r\\n\\r\\n            this.r = Math.pow( color.r, safeInverse );\\r\\n            this.g = Math.pow( color.g, safeInverse );\\r\\n            this.b = Math.pow( color.b, safeInverse );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        convertGammaToLinear: function ( gammaFactor ) {\\r\\n\\r\\n            this.copyGammaToLinear( this, gammaFactor );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        convertLinearToGamma: function ( gammaFactor ) {\\r\\n\\r\\n            this.copyLinearToGamma( this, gammaFactor );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copySRGBToLinear: function () {\\r\\n\\r\\n            function SRGBToLinear( c ) {\\r\\n\\r\\n                return ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\\r\\n\\r\\n            }\\r\\n\\r\\n            return function copySRGBToLinear( color ) {\\r\\n\\r\\n                this.r = SRGBToLinear( color.r );\\r\\n                this.g = SRGBToLinear( color.g );\\r\\n                this.b = SRGBToLinear( color.b );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        copyLinearToSRGB: function () {\\r\\n\\r\\n            function LinearToSRGB( c ) {\\r\\n\\r\\n                return ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\\r\\n\\r\\n            }\\r\\n\\r\\n            return function copyLinearToSRGB( color ) {\\r\\n\\r\\n                this.r = LinearToSRGB( color.r );\\r\\n                this.g = LinearToSRGB( color.g );\\r\\n                this.b = LinearToSRGB( color.b );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        convertSRGBToLinear: function () {\\r\\n\\r\\n            this.copySRGBToLinear( this );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        convertLinearToSRGB: function () {\\r\\n\\r\\n            this.copyLinearToSRGB( this );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getHex: function () {\\r\\n\\r\\n            return ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        getHexString: function () {\\r\\n\\r\\n            return ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\\r\\n\\r\\n        },\\r\\n\\r\\n        getHSL: function ( target ) {\\r\\n\\r\\n            // h,s,l ranges are in 0.0 - 1.0\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Color: .getHSL() target is now required' );\\r\\n                target = { h: 0, s: 0, l: 0 };\\r\\n\\r\\n            }\\r\\n\\r\\n            var r = this.r, g = this.g, b = this.b;\\r\\n\\r\\n            var max = Math.max( r, g, b );\\r\\n            var min = Math.min( r, g, b );\\r\\n\\r\\n            var hue, saturation;\\r\\n            var lightness = ( min + max ) / 2.0;\\r\\n\\r\\n            if ( min === max ) {\\r\\n\\r\\n                hue = 0;\\r\\n                saturation = 0;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var delta = max - min;\\r\\n\\r\\n                saturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\\r\\n\\r\\n                switch ( max ) {\\r\\n\\r\\n                    case r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\\r\\n                    case g: hue = ( b - r ) / delta + 2; break;\\r\\n                    case b: hue = ( r - g ) / delta + 4; break;\\r\\n\\r\\n                }\\r\\n\\r\\n                hue /= 6;\\r\\n\\r\\n            }\\r\\n\\r\\n            target.h = hue;\\r\\n            target.s = saturation;\\r\\n            target.l = lightness;\\r\\n\\r\\n            return target;\\r\\n\\r\\n        },\\r\\n\\r\\n        getStyle: function () {\\r\\n\\r\\n            return 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\\r\\n\\r\\n        },\\r\\n\\r\\n        offsetHSL: function () {\\r\\n\\r\\n            var hsl = {};\\r\\n\\r\\n            return function ( h, s, l ) {\\r\\n\\r\\n                this.getHSL( hsl );\\r\\n\\r\\n                hsl.h += h; hsl.s += s; hsl.l += l;\\r\\n\\r\\n                this.setHSL( hsl.h, hsl.s, hsl.l );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        add: function ( color ) {\\r\\n\\r\\n            this.r += color.r;\\r\\n            this.g += color.g;\\r\\n            this.b += color.b;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addColors: function ( color1, color2 ) {\\r\\n\\r\\n            this.r = color1.r + color2.r;\\r\\n            this.g = color1.g + color2.g;\\r\\n            this.b = color1.b + color2.b;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addScalar: function ( s ) {\\r\\n\\r\\n            this.r += s;\\r\\n            this.g += s;\\r\\n            this.b += s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        sub: function ( color ) {\\r\\n\\r\\n            this.r = Math.max( 0, this.r - color.r );\\r\\n            this.g = Math.max( 0, this.g - color.g );\\r\\n            this.b = Math.max( 0, this.b - color.b );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiply: function ( color ) {\\r\\n\\r\\n            this.r *= color.r;\\r\\n            this.g *= color.g;\\r\\n            this.b *= color.b;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        multiplyScalar: function ( s ) {\\r\\n\\r\\n            this.r *= s;\\r\\n            this.g *= s;\\r\\n            this.b *= s;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        lerp: function ( color, alpha ) {\\r\\n\\r\\n            this.r += ( color.r - this.r ) * alpha;\\r\\n            this.g += ( color.g - this.g ) * alpha;\\r\\n            this.b += ( color.b - this.b ) * alpha;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        lerpHSL: function () {\\r\\n\\r\\n            var hslA = { h: 0, s: 0, l: 0 };\\r\\n            var hslB = { h: 0, s: 0, l: 0 };\\r\\n\\r\\n            return function lerpHSL( color, alpha ) {\\r\\n\\r\\n                this.getHSL( hslA );\\r\\n                color.getHSL( hslB );\\r\\n\\r\\n                var h = _Math.lerp( hslA.h, hslB.h, alpha );\\r\\n                var s = _Math.lerp( hslA.s, hslB.s, alpha );\\r\\n                var l = _Math.lerp( hslA.l, hslB.l, alpha );\\r\\n\\r\\n                this.setHSL( h, s, l );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        equals: function ( c ) {\\r\\n\\r\\n            return ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this.r = array[ offset ];\\r\\n            this.g = array[ offset + 1 ];\\r\\n            this.b = array[ offset + 2 ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            array[ offset ] = this.r;\\r\\n            array[ offset + 1 ] = this.g;\\r\\n            array[ offset + 2 ] = this.b;\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            return this.getHex();\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * Uniforms library for shared webgl shaders\\r\\n     */\\r\\n\\r\\n    var UniformsLib = {\\r\\n\\r\\n        common: {\\r\\n\\r\\n            diffuse: { value: new Color( 0xeeeeee ) },\\r\\n            opacity: { value: 1.0 },\\r\\n\\r\\n            map: { value: null },\\r\\n            uvTransform: { value: new Matrix3() },\\r\\n\\r\\n            alphaMap: { value: null },\\r\\n\\r\\n        },\\r\\n\\r\\n        specularmap: {\\r\\n\\r\\n            specularMap: { value: null },\\r\\n\\r\\n        },\\r\\n\\r\\n        envmap: {\\r\\n\\r\\n            envMap: { value: null },\\r\\n            flipEnvMap: { value: - 1 },\\r\\n            reflectivity: { value: 1.0 },\\r\\n            refractionRatio: { value: 0.98 },\\r\\n            maxMipLevel: { value: 0 }\\r\\n\\r\\n        },\\r\\n\\r\\n        aomap: {\\r\\n\\r\\n            aoMap: { value: null },\\r\\n            aoMapIntensity: { value: 1 }\\r\\n\\r\\n        },\\r\\n\\r\\n        lightmap: {\\r\\n\\r\\n            lightMap: { value: null },\\r\\n            lightMapIntensity: { value: 1 }\\r\\n\\r\\n        },\\r\\n\\r\\n        emissivemap: {\\r\\n\\r\\n            emissiveMap: { value: null }\\r\\n\\r\\n        },\\r\\n\\r\\n        bumpmap: {\\r\\n\\r\\n            bumpMap: { value: null },\\r\\n            bumpScale: { value: 1 }\\r\\n\\r\\n        },\\r\\n\\r\\n        normalmap: {\\r\\n\\r\\n            normalMap: { value: null },\\r\\n            normalScale: { value: new Vector2( 1, 1 ) }\\r\\n\\r\\n        },\\r\\n\\r\\n        displacementmap: {\\r\\n\\r\\n            displacementMap: { value: null },\\r\\n            displacementScale: { value: 1 },\\r\\n            displacementBias: { value: 0 }\\r\\n\\r\\n        },\\r\\n\\r\\n        roughnessmap: {\\r\\n\\r\\n            roughnessMap: { value: null }\\r\\n\\r\\n        },\\r\\n\\r\\n        metalnessmap: {\\r\\n\\r\\n            metalnessMap: { value: null }\\r\\n\\r\\n        },\\r\\n\\r\\n        gradientmap: {\\r\\n\\r\\n            gradientMap: { value: null }\\r\\n\\r\\n        },\\r\\n\\r\\n        fog: {\\r\\n\\r\\n            fogDensity: { value: 0.00025 },\\r\\n            fogNear: { value: 1 },\\r\\n            fogFar: { value: 2000 },\\r\\n            fogColor: { value: new Color( 0xffffff ) }\\r\\n\\r\\n        },\\r\\n\\r\\n        lights: {\\r\\n\\r\\n            ambientLightColor: { value: [] },\\r\\n\\r\\n            directionalLights: { value: [], properties: {\\r\\n                direction: {},\\r\\n                color: {},\\r\\n\\r\\n                shadow: {},\\r\\n                shadowBias: {},\\r\\n                shadowRadius: {},\\r\\n                shadowMapSize: {}\\r\\n            } },\\r\\n\\r\\n            directionalShadowMap: { value: [] },\\r\\n            directionalShadowMatrix: { value: [] },\\r\\n\\r\\n            spotLights: { value: [], properties: {\\r\\n                color: {},\\r\\n                position: {},\\r\\n                direction: {},\\r\\n                distance: {},\\r\\n                coneCos: {},\\r\\n                penumbraCos: {},\\r\\n                decay: {},\\r\\n\\r\\n                shadow: {},\\r\\n                shadowBias: {},\\r\\n                shadowRadius: {},\\r\\n                shadowMapSize: {}\\r\\n            } },\\r\\n\\r\\n            spotShadowMap: { value: [] },\\r\\n            spotShadowMatrix: { value: [] },\\r\\n\\r\\n            pointLights: { value: [], properties: {\\r\\n                color: {},\\r\\n                position: {},\\r\\n                decay: {},\\r\\n                distance: {},\\r\\n\\r\\n                shadow: {},\\r\\n                shadowBias: {},\\r\\n                shadowRadius: {},\\r\\n                shadowMapSize: {},\\r\\n                shadowCameraNear: {},\\r\\n                shadowCameraFar: {}\\r\\n            } },\\r\\n\\r\\n            pointShadowMap: { value: [] },\\r\\n            pointShadowMatrix: { value: [] },\\r\\n\\r\\n            hemisphereLights: { value: [], properties: {\\r\\n                direction: {},\\r\\n                skyColor: {},\\r\\n                groundColor: {}\\r\\n            } },\\r\\n\\r\\n            // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\\r\\n            rectAreaLights: { value: [], properties: {\\r\\n                color: {},\\r\\n                position: {},\\r\\n                width: {},\\r\\n                height: {}\\r\\n            } }\\r\\n\\r\\n        },\\r\\n\\r\\n        points: {\\r\\n\\r\\n            diffuse: { value: new Color( 0xeeeeee ) },\\r\\n            opacity: { value: 1.0 },\\r\\n            size: { value: 1.0 },\\r\\n            scale: { value: 1.0 },\\r\\n            map: { value: null },\\r\\n            uvTransform: { value: new Matrix3() }\\r\\n\\r\\n        },\\r\\n\\r\\n        sprite: {\\r\\n\\r\\n            diffuse: { value: new Color( 0xeeeeee ) },\\r\\n            opacity: { value: 1.0 },\\r\\n            center: { value: new Vector2( 0.5, 0.5 ) },\\r\\n            rotation: { value: 0.0 },\\r\\n            map: { value: null },\\r\\n            uvTransform: { value: new Matrix3() }\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     */\\r\\n\\r\\n    var ShaderLib = {\\r\\n\\r\\n        basic: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.specularmap,\\r\\n                UniformsLib.envmap,\\r\\n                UniformsLib.aomap,\\r\\n                UniformsLib.lightmap,\\r\\n                UniformsLib.fog\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.meshbasic_vert,\\r\\n            fragmentShader: ShaderChunk.meshbasic_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        lambert: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.specularmap,\\r\\n                UniformsLib.envmap,\\r\\n                UniformsLib.aomap,\\r\\n                UniformsLib.lightmap,\\r\\n                UniformsLib.emissivemap,\\r\\n                UniformsLib.fog,\\r\\n                UniformsLib.lights,\\r\\n                {\\r\\n                    emissive: { value: new Color( 0x000000 ) }\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.meshlambert_vert,\\r\\n            fragmentShader: ShaderChunk.meshlambert_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        phong: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.specularmap,\\r\\n                UniformsLib.envmap,\\r\\n                UniformsLib.aomap,\\r\\n                UniformsLib.lightmap,\\r\\n                UniformsLib.emissivemap,\\r\\n                UniformsLib.bumpmap,\\r\\n                UniformsLib.normalmap,\\r\\n                UniformsLib.displacementmap,\\r\\n                UniformsLib.gradientmap,\\r\\n                UniformsLib.fog,\\r\\n                UniformsLib.lights,\\r\\n                {\\r\\n                    emissive: { value: new Color( 0x000000 ) },\\r\\n                    specular: { value: new Color( 0x111111 ) },\\r\\n                    shininess: { value: 30 }\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.meshphong_vert,\\r\\n            fragmentShader: ShaderChunk.meshphong_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        standard: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.envmap,\\r\\n                UniformsLib.aomap,\\r\\n                UniformsLib.lightmap,\\r\\n                UniformsLib.emissivemap,\\r\\n                UniformsLib.bumpmap,\\r\\n                UniformsLib.normalmap,\\r\\n                UniformsLib.displacementmap,\\r\\n                UniformsLib.roughnessmap,\\r\\n                UniformsLib.metalnessmap,\\r\\n                UniformsLib.fog,\\r\\n                UniformsLib.lights,\\r\\n                {\\r\\n                    emissive: { value: new Color( 0x000000 ) },\\r\\n                    roughness: { value: 0.5 },\\r\\n                    metalness: { value: 0.5 },\\r\\n                    envMapIntensity: { value: 1 } // temporary\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.meshphysical_vert,\\r\\n            fragmentShader: ShaderChunk.meshphysical_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        matcap: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.bumpmap,\\r\\n                UniformsLib.normalmap,\\r\\n                UniformsLib.displacementmap,\\r\\n                UniformsLib.fog,\\r\\n                {\\r\\n                    matcap: { value: null }\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.meshmatcap_vert,\\r\\n            fragmentShader: ShaderChunk.meshmatcap_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        points: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.points,\\r\\n                UniformsLib.fog\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.points_vert,\\r\\n            fragmentShader: ShaderChunk.points_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        dashed: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.fog,\\r\\n                {\\r\\n                    scale: { value: 1 },\\r\\n                    dashSize: { value: 1 },\\r\\n                    totalSize: { value: 2 }\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.linedashed_vert,\\r\\n            fragmentShader: ShaderChunk.linedashed_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        depth: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.displacementmap\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.depth_vert,\\r\\n            fragmentShader: ShaderChunk.depth_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        normal: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.bumpmap,\\r\\n                UniformsLib.normalmap,\\r\\n                UniformsLib.displacementmap,\\r\\n                {\\r\\n                    opacity: { value: 1.0 }\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.normal_vert,\\r\\n            fragmentShader: ShaderChunk.normal_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        sprite: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.sprite,\\r\\n                UniformsLib.fog\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.sprite_vert,\\r\\n            fragmentShader: ShaderChunk.sprite_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        background: {\\r\\n\\r\\n            uniforms: {\\r\\n                t2D: { value: null },\\r\\n            },\\r\\n\\r\\n            vertexShader: ShaderChunk.background_vert,\\r\\n            fragmentShader: ShaderChunk.background_frag\\r\\n\\r\\n        },\\r\\n        /* -------------------------------------------------------------------------\\r\\n\\t\\t//\\tCube map shader\\r\\n\\t\\t ------------------------------------------------------------------------- */\\r\\n\\r\\n        cube: {\\r\\n\\r\\n            uniforms: {\\r\\n                tCube: { value: null },\\r\\n                tFlip: { value: - 1 },\\r\\n                opacity: { value: 1.0 }\\r\\n            },\\r\\n\\r\\n            vertexShader: ShaderChunk.cube_vert,\\r\\n            fragmentShader: ShaderChunk.cube_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        equirect: {\\r\\n\\r\\n            uniforms: {\\r\\n                tEquirect: { value: null },\\r\\n            },\\r\\n\\r\\n            vertexShader: ShaderChunk.equirect_vert,\\r\\n            fragmentShader: ShaderChunk.equirect_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceRGBA: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.common,\\r\\n                UniformsLib.displacementmap,\\r\\n                {\\r\\n                    referencePosition: { value: new Vector3() },\\r\\n                    nearDistance: { value: 1 },\\r\\n                    farDistance: { value: 1000 }\\r\\n                }\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.distanceRGBA_vert,\\r\\n            fragmentShader: ShaderChunk.distanceRGBA_frag\\r\\n\\r\\n        },\\r\\n\\r\\n        shadow: {\\r\\n\\r\\n            uniforms: UniformsUtils.merge( [\\r\\n                UniformsLib.lights,\\r\\n                UniformsLib.fog,\\r\\n                {\\r\\n                    color: { value: new Color( 0x00000 ) },\\r\\n                    opacity: { value: 1.0 }\\r\\n                },\\r\\n            ] ),\\r\\n\\r\\n            vertexShader: ShaderChunk.shadow_vert,\\r\\n            fragmentShader: ShaderChunk.shadow_frag\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    ShaderLib.physical = {\\r\\n\\r\\n        uniforms: UniformsUtils.merge( [\\r\\n            ShaderLib.standard.uniforms,\\r\\n            {\\r\\n                clearCoat: { value: 0 },\\r\\n                clearCoatRoughness: { value: 0 }\\r\\n            }\\r\\n        ] ),\\r\\n\\r\\n        vertexShader: ShaderChunk.meshphysical_vert,\\r\\n        fragmentShader: ShaderChunk.meshphysical_frag\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLAnimation() {\\r\\n\\r\\n        var context = null;\\r\\n        var isAnimating = false;\\r\\n        var animationLoop = null;\\r\\n\\r\\n        function onAnimationFrame( time, frame ) {\\r\\n\\r\\n            if ( isAnimating === false ) return;\\r\\n\\r\\n            animationLoop( time, frame );\\r\\n\\r\\n            context.requestAnimationFrame( onAnimationFrame );\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            start: function () {\\r\\n\\r\\n                if ( isAnimating === true ) return;\\r\\n                if ( animationLoop === null ) return;\\r\\n\\r\\n                context.requestAnimationFrame( onAnimationFrame );\\r\\n\\r\\n                isAnimating = true;\\r\\n\\r\\n            },\\r\\n\\r\\n            stop: function () {\\r\\n\\r\\n                isAnimating = false;\\r\\n\\r\\n            },\\r\\n\\r\\n            setAnimationLoop: function ( callback ) {\\r\\n\\r\\n                animationLoop = callback;\\r\\n\\r\\n            },\\r\\n\\r\\n            setContext: function ( value ) {\\r\\n\\r\\n                context = value;\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLAttributes( gl ) {\\r\\n\\r\\n        var buffers = new WeakMap();\\r\\n\\r\\n        function createBuffer( attribute, bufferType ) {\\r\\n\\r\\n            var array = attribute.array;\\r\\n            var usage = attribute.dynamic ? gl.DYNAMIC_DRAW : gl.STATIC_DRAW;\\r\\n\\r\\n            var buffer = gl.createBuffer();\\r\\n\\r\\n            gl.bindBuffer( bufferType, buffer );\\r\\n            gl.bufferData( bufferType, array, usage );\\r\\n\\r\\n            attribute.onUploadCallback();\\r\\n\\r\\n            var type = gl.FLOAT;\\r\\n\\r\\n            if ( array instanceof Float32Array ) {\\r\\n\\r\\n                type = gl.FLOAT;\\r\\n\\r\\n            } else if ( array instanceof Float64Array ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\\r\\n\\r\\n            } else if ( array instanceof Uint16Array ) {\\r\\n\\r\\n                type = gl.UNSIGNED_SHORT;\\r\\n\\r\\n            } else if ( array instanceof Int16Array ) {\\r\\n\\r\\n                type = gl.SHORT;\\r\\n\\r\\n            } else if ( array instanceof Uint32Array ) {\\r\\n\\r\\n                type = gl.UNSIGNED_INT;\\r\\n\\r\\n            } else if ( array instanceof Int32Array ) {\\r\\n\\r\\n                type = gl.INT;\\r\\n\\r\\n            } else if ( array instanceof Int8Array ) {\\r\\n\\r\\n                type = gl.BYTE;\\r\\n\\r\\n            } else if ( array instanceof Uint8Array ) {\\r\\n\\r\\n                type = gl.UNSIGNED_BYTE;\\r\\n\\r\\n            }\\r\\n\\r\\n            return {\\r\\n                buffer: buffer,\\r\\n                type: type,\\r\\n                bytesPerElement: array.BYTES_PER_ELEMENT,\\r\\n                version: attribute.version\\r\\n            };\\r\\n\\r\\n        }\\r\\n\\r\\n        function updateBuffer( buffer, attribute, bufferType ) {\\r\\n\\r\\n            var array = attribute.array;\\r\\n            var updateRange = attribute.updateRange;\\r\\n\\r\\n            gl.bindBuffer( bufferType, buffer );\\r\\n\\r\\n            if ( attribute.dynamic === false ) {\\r\\n\\r\\n                gl.bufferData( bufferType, array, gl.STATIC_DRAW );\\r\\n\\r\\n            } else if ( updateRange.count === - 1 ) {\\r\\n\\r\\n                // Not using update ranges\\r\\n\\r\\n                gl.bufferSubData( bufferType, 0, array );\\r\\n\\r\\n            } else if ( updateRange.count === 0 ) {\\r\\n\\r\\n                console.error( 'THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.' );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                gl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\\r\\n                    array.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\\r\\n\\r\\n                updateRange.count = - 1; // reset range\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        function get( attribute ) {\\r\\n\\r\\n            if ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\\r\\n\\r\\n            return buffers.get( attribute );\\r\\n\\r\\n        }\\r\\n\\r\\n        function remove( attribute ) {\\r\\n\\r\\n            if ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\\r\\n\\r\\n            var data = buffers.get( attribute );\\r\\n\\r\\n            if ( data ) {\\r\\n\\r\\n                gl.deleteBuffer( data.buffer );\\r\\n\\r\\n                buffers.delete( attribute );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function update( attribute, bufferType ) {\\r\\n\\r\\n            if ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\\r\\n\\r\\n            var data = buffers.get( attribute );\\r\\n\\r\\n            if ( data === undefined ) {\\r\\n\\r\\n                buffers.set( attribute, createBuffer( attribute, bufferType ) );\\r\\n\\r\\n            } else if ( data.version < attribute.version ) {\\r\\n\\r\\n                updateBuffer( data.buffer, attribute, bufferType );\\r\\n\\r\\n                data.version = attribute.version;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            get: get,\\r\\n            remove: remove,\\r\\n            update: update\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function Face3( a, b, c, normal, color, materialIndex ) {\\r\\n\\r\\n        this.a = a;\\r\\n        this.b = b;\\r\\n        this.c = c;\\r\\n\\r\\n        this.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\\r\\n        this.vertexNormals = Array.isArray( normal ) ? normal : [];\\r\\n\\r\\n        this.color = ( color && color.isColor ) ? color : new Color();\\r\\n        this.vertexColors = Array.isArray( color ) ? color : [];\\r\\n\\r\\n        this.materialIndex = materialIndex !== undefined ? materialIndex : 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Face3.prototype, {\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.a = source.a;\\r\\n            this.b = source.b;\\r\\n            this.c = source.c;\\r\\n\\r\\n            this.normal.copy( source.normal );\\r\\n            this.color.copy( source.color );\\r\\n\\r\\n            this.materialIndex = source.materialIndex;\\r\\n\\r\\n            for ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\\r\\n\\r\\n                this.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\\r\\n\\r\\n                this.vertexColors[ i ] = source.vertexColors[ i ].clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Euler( x, y, z, order ) {\\r\\n\\r\\n        this._x = x || 0;\\r\\n        this._y = y || 0;\\r\\n        this._z = z || 0;\\r\\n        this._order = order || Euler.DefaultOrder;\\r\\n\\r\\n    }\\r\\n\\r\\n    Euler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\\r\\n\\r\\n    Euler.DefaultOrder = 'XYZ';\\r\\n\\r\\n    Object.defineProperties( Euler.prototype, {\\r\\n\\r\\n        x: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._x;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._x = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        y: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._y;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._y = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        z: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._z;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._z = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        order: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this._order;\\r\\n\\r\\n            },\\r\\n\\r\\n            set: function ( value ) {\\r\\n\\r\\n                this._order = value;\\r\\n                this.onChangeCallback();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Euler.prototype, {\\r\\n\\r\\n        isEuler: true,\\r\\n\\r\\n        set: function ( x, y, z, order ) {\\r\\n\\r\\n            this._x = x;\\r\\n            this._y = y;\\r\\n            this._z = z;\\r\\n            this._order = order || this._order;\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this._x, this._y, this._z, this._order );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( euler ) {\\r\\n\\r\\n            this._x = euler._x;\\r\\n            this._y = euler._y;\\r\\n            this._z = euler._z;\\r\\n            this._order = euler._order;\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromRotationMatrix: function ( m, order, update ) {\\r\\n\\r\\n            var clamp = _Math.clamp;\\r\\n\\r\\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\\r\\n\\r\\n            var te = m.elements;\\r\\n            var m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\\r\\n            var m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\\r\\n            var m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\\r\\n\\r\\n            order = order || this._order;\\r\\n\\r\\n            if ( order === 'XYZ' ) {\\r\\n\\r\\n                this._y = Math.asin( clamp( m13, - 1, 1 ) );\\r\\n\\r\\n                if ( Math.abs( m13 ) < 0.99999 ) {\\r\\n\\r\\n                    this._x = Math.atan2( - m23, m33 );\\r\\n                    this._z = Math.atan2( - m12, m11 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this._x = Math.atan2( m32, m22 );\\r\\n                    this._z = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( order === 'YXZ' ) {\\r\\n\\r\\n                this._x = Math.asin( - clamp( m23, - 1, 1 ) );\\r\\n\\r\\n                if ( Math.abs( m23 ) < 0.99999 ) {\\r\\n\\r\\n                    this._y = Math.atan2( m13, m33 );\\r\\n                    this._z = Math.atan2( m21, m22 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this._y = Math.atan2( - m31, m11 );\\r\\n                    this._z = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( order === 'ZXY' ) {\\r\\n\\r\\n                this._x = Math.asin( clamp( m32, - 1, 1 ) );\\r\\n\\r\\n                if ( Math.abs( m32 ) < 0.99999 ) {\\r\\n\\r\\n                    this._y = Math.atan2( - m31, m33 );\\r\\n                    this._z = Math.atan2( - m12, m22 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this._y = 0;\\r\\n                    this._z = Math.atan2( m21, m11 );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( order === 'ZYX' ) {\\r\\n\\r\\n                this._y = Math.asin( - clamp( m31, - 1, 1 ) );\\r\\n\\r\\n                if ( Math.abs( m31 ) < 0.99999 ) {\\r\\n\\r\\n                    this._x = Math.atan2( m32, m33 );\\r\\n                    this._z = Math.atan2( m21, m11 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this._x = 0;\\r\\n                    this._z = Math.atan2( - m12, m22 );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( order === 'YZX' ) {\\r\\n\\r\\n                this._z = Math.asin( clamp( m21, - 1, 1 ) );\\r\\n\\r\\n                if ( Math.abs( m21 ) < 0.99999 ) {\\r\\n\\r\\n                    this._x = Math.atan2( - m23, m22 );\\r\\n                    this._y = Math.atan2( - m31, m11 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this._x = 0;\\r\\n                    this._y = Math.atan2( m13, m33 );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( order === 'XZY' ) {\\r\\n\\r\\n                this._z = Math.asin( - clamp( m12, - 1, 1 ) );\\r\\n\\r\\n                if ( Math.abs( m12 ) < 0.99999 ) {\\r\\n\\r\\n                    this._x = Math.atan2( m32, m22 );\\r\\n                    this._y = Math.atan2( m13, m11 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this._x = Math.atan2( - m23, m33 );\\r\\n                    this._y = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                console.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\\r\\n\\r\\n            }\\r\\n\\r\\n            this._order = order;\\r\\n\\r\\n            if ( update !== false ) this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromQuaternion: function () {\\r\\n\\r\\n            var matrix = new Matrix4();\\r\\n\\r\\n            return function setFromQuaternion( q, order, update ) {\\r\\n\\r\\n                matrix.makeRotationFromQuaternion( q );\\r\\n\\r\\n                return this.setFromRotationMatrix( matrix, order, update );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        setFromVector3: function ( v, order ) {\\r\\n\\r\\n            return this.set( v.x, v.y, v.z, order || this._order );\\r\\n\\r\\n        },\\r\\n\\r\\n        reorder: function () {\\r\\n\\r\\n            // WARNING: this discards revolution information -bhouston\\r\\n\\r\\n            var q = new Quaternion();\\r\\n\\r\\n            return function reorder( newOrder ) {\\r\\n\\r\\n                q.setFromEuler( this );\\r\\n\\r\\n                return this.setFromQuaternion( q, newOrder );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        equals: function ( euler ) {\\r\\n\\r\\n            return ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromArray: function ( array ) {\\r\\n\\r\\n            this._x = array[ 0 ];\\r\\n            this._y = array[ 1 ];\\r\\n            this._z = array[ 2 ];\\r\\n            if ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\\r\\n\\r\\n            this.onChangeCallback();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toArray: function ( array, offset ) {\\r\\n\\r\\n            if ( array === undefined ) array = [];\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            array[ offset ] = this._x;\\r\\n            array[ offset + 1 ] = this._y;\\r\\n            array[ offset + 2 ] = this._z;\\r\\n            array[ offset + 3 ] = this._order;\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        toVector3: function ( optionalResult ) {\\r\\n\\r\\n            if ( optionalResult ) {\\r\\n\\r\\n                return optionalResult.set( this._x, this._y, this._z );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                return new Vector3( this._x, this._y, this._z );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        onChange: function ( callback ) {\\r\\n\\r\\n            this.onChangeCallback = callback;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        onChangeCallback: function () {}\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Layers() {\\r\\n\\r\\n        this.mask = 1 | 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Layers.prototype, {\\r\\n\\r\\n        set: function ( channel ) {\\r\\n\\r\\n            this.mask = 1 << channel | 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        enable: function ( channel ) {\\r\\n\\r\\n            this.mask |= 1 << channel | 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        toggle: function ( channel ) {\\r\\n\\r\\n            this.mask ^= 1 << channel | 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        disable: function ( channel ) {\\r\\n\\r\\n            this.mask &= ~ ( 1 << channel | 0 );\\r\\n\\r\\n        },\\r\\n\\r\\n        test: function ( layers ) {\\r\\n\\r\\n            return ( this.mask & layers.mask ) !== 0;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author elephantatwork / www.elephantatwork.ch\\r\\n     */\\r\\n\\r\\n    var object3DId = 0;\\r\\n\\r\\n    function Object3D() {\\r\\n\\r\\n        Object.defineProperty( this, 'id', { value: object3DId ++ } );\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        this.name = '';\\r\\n        this.type = 'Object3D';\\r\\n\\r\\n        this.parent = null;\\r\\n        this.children = [];\\r\\n\\r\\n        this.up = Object3D.DefaultUp.clone();\\r\\n\\r\\n        var position = new Vector3();\\r\\n        var rotation = new Euler();\\r\\n        var quaternion = new Quaternion();\\r\\n        var scale = new Vector3( 1, 1, 1 );\\r\\n\\r\\n        function onRotationChange() {\\r\\n\\r\\n            quaternion.setFromEuler( rotation, false );\\r\\n\\r\\n        }\\r\\n\\r\\n        function onQuaternionChange() {\\r\\n\\r\\n            rotation.setFromQuaternion( quaternion, undefined, false );\\r\\n\\r\\n        }\\r\\n\\r\\n        rotation.onChange( onRotationChange );\\r\\n        quaternion.onChange( onQuaternionChange );\\r\\n\\r\\n        Object.defineProperties( this, {\\r\\n            position: {\\r\\n                enumerable: true,\\r\\n                value: position\\r\\n            },\\r\\n            rotation: {\\r\\n                enumerable: true,\\r\\n                value: rotation\\r\\n            },\\r\\n            quaternion: {\\r\\n                enumerable: true,\\r\\n                value: quaternion\\r\\n            },\\r\\n            scale: {\\r\\n                enumerable: true,\\r\\n                value: scale\\r\\n            },\\r\\n            modelViewMatrix: {\\r\\n                value: new Matrix4()\\r\\n            },\\r\\n            normalMatrix: {\\r\\n                value: new Matrix3()\\r\\n            }\\r\\n        } );\\r\\n\\r\\n        this.matrix = new Matrix4();\\r\\n        this.matrixWorld = new Matrix4();\\r\\n\\r\\n        this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\\r\\n        this.matrixWorldNeedsUpdate = false;\\r\\n\\r\\n        this.layers = new Layers();\\r\\n        this.visible = true;\\r\\n\\r\\n        this.castShadow = false;\\r\\n        this.receiveShadow = false;\\r\\n\\r\\n        this.frustumCulled = true;\\r\\n        this.renderOrder = 0;\\r\\n\\r\\n        this.userData = {};\\r\\n\\r\\n    }\\r\\n\\r\\n    Object3D.DefaultUp = new Vector3( 0, 1, 0 );\\r\\n    Object3D.DefaultMatrixAutoUpdate = true;\\r\\n\\r\\n    Object3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: Object3D,\\r\\n\\r\\n        isObject3D: true,\\r\\n\\r\\n        onBeforeRender: function () {},\\r\\n        onAfterRender: function () {},\\r\\n\\r\\n        applyMatrix: function ( matrix ) {\\r\\n\\r\\n            this.matrix.multiplyMatrices( matrix, this.matrix );\\r\\n\\r\\n            this.matrix.decompose( this.position, this.quaternion, this.scale );\\r\\n\\r\\n        },\\r\\n\\r\\n        applyQuaternion: function ( q ) {\\r\\n\\r\\n            this.quaternion.premultiply( q );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setRotationFromAxisAngle: function ( axis, angle ) {\\r\\n\\r\\n            // assumes axis is normalized\\r\\n\\r\\n            this.quaternion.setFromAxisAngle( axis, angle );\\r\\n\\r\\n        },\\r\\n\\r\\n        setRotationFromEuler: function ( euler ) {\\r\\n\\r\\n            this.quaternion.setFromEuler( euler, true );\\r\\n\\r\\n        },\\r\\n\\r\\n        setRotationFromMatrix: function ( m ) {\\r\\n\\r\\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\\r\\n\\r\\n            this.quaternion.setFromRotationMatrix( m );\\r\\n\\r\\n        },\\r\\n\\r\\n        setRotationFromQuaternion: function ( q ) {\\r\\n\\r\\n            // assumes q is normalized\\r\\n\\r\\n            this.quaternion.copy( q );\\r\\n\\r\\n        },\\r\\n\\r\\n        rotateOnAxis: function () {\\r\\n\\r\\n            // rotate object on axis in object space\\r\\n            // axis is assumed to be normalized\\r\\n\\r\\n            var q1 = new Quaternion();\\r\\n\\r\\n            return function rotateOnAxis( axis, angle ) {\\r\\n\\r\\n                q1.setFromAxisAngle( axis, angle );\\r\\n\\r\\n                this.quaternion.multiply( q1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateOnWorldAxis: function () {\\r\\n\\r\\n            // rotate object on axis in world space\\r\\n            // axis is assumed to be normalized\\r\\n            // method assumes no rotated parent\\r\\n\\r\\n            var q1 = new Quaternion();\\r\\n\\r\\n            return function rotateOnWorldAxis( axis, angle ) {\\r\\n\\r\\n                q1.setFromAxisAngle( axis, angle );\\r\\n\\r\\n                this.quaternion.premultiply( q1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateX: function () {\\r\\n\\r\\n            var v1 = new Vector3( 1, 0, 0 );\\r\\n\\r\\n            return function rotateX( angle ) {\\r\\n\\r\\n                return this.rotateOnAxis( v1, angle );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateY: function () {\\r\\n\\r\\n            var v1 = new Vector3( 0, 1, 0 );\\r\\n\\r\\n            return function rotateY( angle ) {\\r\\n\\r\\n                return this.rotateOnAxis( v1, angle );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateZ: function () {\\r\\n\\r\\n            var v1 = new Vector3( 0, 0, 1 );\\r\\n\\r\\n            return function rotateZ( angle ) {\\r\\n\\r\\n                return this.rotateOnAxis( v1, angle );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translateOnAxis: function () {\\r\\n\\r\\n            // translate object by distance along axis in object space\\r\\n            // axis is assumed to be normalized\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function translateOnAxis( axis, distance ) {\\r\\n\\r\\n                v1.copy( axis ).applyQuaternion( this.quaternion );\\r\\n\\r\\n                this.position.add( v1.multiplyScalar( distance ) );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translateX: function () {\\r\\n\\r\\n            var v1 = new Vector3( 1, 0, 0 );\\r\\n\\r\\n            return function translateX( distance ) {\\r\\n\\r\\n                return this.translateOnAxis( v1, distance );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translateY: function () {\\r\\n\\r\\n            var v1 = new Vector3( 0, 1, 0 );\\r\\n\\r\\n            return function translateY( distance ) {\\r\\n\\r\\n                return this.translateOnAxis( v1, distance );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translateZ: function () {\\r\\n\\r\\n            var v1 = new Vector3( 0, 0, 1 );\\r\\n\\r\\n            return function translateZ( distance ) {\\r\\n\\r\\n                return this.translateOnAxis( v1, distance );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        localToWorld: function ( vector ) {\\r\\n\\r\\n            return vector.applyMatrix4( this.matrixWorld );\\r\\n\\r\\n        },\\r\\n\\r\\n        worldToLocal: function () {\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function worldToLocal( vector ) {\\r\\n\\r\\n                return vector.applyMatrix4( m1.getInverse( this.matrixWorld ) );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        lookAt: function () {\\r\\n\\r\\n            // This method does not support objects having non-uniformly-scaled parent(s)\\r\\n\\r\\n            var q1 = new Quaternion();\\r\\n            var m1 = new Matrix4();\\r\\n            var target = new Vector3();\\r\\n            var position = new Vector3();\\r\\n\\r\\n            return function lookAt( x, y, z ) {\\r\\n\\r\\n                if ( x.isVector3 ) {\\r\\n\\r\\n                    target.copy( x );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    target.set( x, y, z );\\r\\n\\r\\n                }\\r\\n\\r\\n                var parent = this.parent;\\r\\n\\r\\n                this.updateWorldMatrix( true, false );\\r\\n\\r\\n                position.setFromMatrixPosition( this.matrixWorld );\\r\\n\\r\\n                if ( this.isCamera ) {\\r\\n\\r\\n                    m1.lookAt( position, target, this.up );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    m1.lookAt( target, position, this.up );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.quaternion.setFromRotationMatrix( m1 );\\r\\n\\r\\n                if ( parent ) {\\r\\n\\r\\n                    m1.extractRotation( parent.matrixWorld );\\r\\n                    q1.setFromRotationMatrix( m1 );\\r\\n                    this.quaternion.premultiply( q1.inverse() );\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        add: function ( object ) {\\r\\n\\r\\n            if ( arguments.length > 1 ) {\\r\\n\\r\\n                for ( var i = 0; i < arguments.length; i ++ ) {\\r\\n\\r\\n                    this.add( arguments[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( object === this ) {\\r\\n\\r\\n                console.error( \\\"THREE.Object3D.add: object can't be added as a child of itself.\\\", object );\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ( object && object.isObject3D ) ) {\\r\\n\\r\\n                if ( object.parent !== null ) {\\r\\n\\r\\n                    object.parent.remove( object );\\r\\n\\r\\n                }\\r\\n\\r\\n                object.parent = this;\\r\\n                object.dispatchEvent( { type: 'added' } );\\r\\n\\r\\n                this.children.push( object );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                console.error( \\\"THREE.Object3D.add: object not an instance of THREE.Object3D.\\\", object );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        remove: function ( object ) {\\r\\n\\r\\n            if ( arguments.length > 1 ) {\\r\\n\\r\\n                for ( var i = 0; i < arguments.length; i ++ ) {\\r\\n\\r\\n                    this.remove( arguments[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            var index = this.children.indexOf( object );\\r\\n\\r\\n            if ( index !== - 1 ) {\\r\\n\\r\\n                object.parent = null;\\r\\n\\r\\n                object.dispatchEvent( { type: 'removed' } );\\r\\n\\r\\n                this.children.splice( index, 1 );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getObjectById: function ( id ) {\\r\\n\\r\\n            return this.getObjectByProperty( 'id', id );\\r\\n\\r\\n        },\\r\\n\\r\\n        getObjectByName: function ( name ) {\\r\\n\\r\\n            return this.getObjectByProperty( 'name', name );\\r\\n\\r\\n        },\\r\\n\\r\\n        getObjectByProperty: function ( name, value ) {\\r\\n\\r\\n            if ( this[ name ] === value ) return this;\\r\\n\\r\\n            for ( var i = 0, l = this.children.length; i < l; i ++ ) {\\r\\n\\r\\n                var child = this.children[ i ];\\r\\n                var object = child.getObjectByProperty( name, value );\\r\\n\\r\\n                if ( object !== undefined ) {\\r\\n\\r\\n                    return object;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return undefined;\\r\\n\\r\\n        },\\r\\n\\r\\n        getWorldPosition: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.updateMatrixWorld( true );\\r\\n\\r\\n            return target.setFromMatrixPosition( this.matrixWorld );\\r\\n\\r\\n        },\\r\\n\\r\\n        getWorldQuaternion: function () {\\r\\n\\r\\n            var position = new Vector3();\\r\\n            var scale = new Vector3();\\r\\n\\r\\n            return function getWorldQuaternion( target ) {\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\\r\\n                    target = new Quaternion();\\r\\n\\r\\n                }\\r\\n\\r\\n                this.updateMatrixWorld( true );\\r\\n\\r\\n                this.matrixWorld.decompose( position, target, scale );\\r\\n\\r\\n                return target;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        getWorldScale: function () {\\r\\n\\r\\n            var position = new Vector3();\\r\\n            var quaternion = new Quaternion();\\r\\n\\r\\n            return function getWorldScale( target ) {\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\\r\\n                    target = new Vector3();\\r\\n\\r\\n                }\\r\\n\\r\\n                this.updateMatrixWorld( true );\\r\\n\\r\\n                this.matrixWorld.decompose( position, quaternion, target );\\r\\n\\r\\n                return target;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        getWorldDirection: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.updateMatrixWorld( true );\\r\\n\\r\\n            var e = this.matrixWorld.elements;\\r\\n\\r\\n            return target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\\r\\n\\r\\n        },\\r\\n\\r\\n        raycast: function () {},\\r\\n\\r\\n        traverse: function ( callback ) {\\r\\n\\r\\n            callback( this );\\r\\n\\r\\n            var children = this.children;\\r\\n\\r\\n            for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                children[ i ].traverse( callback );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        traverseVisible: function ( callback ) {\\r\\n\\r\\n            if ( this.visible === false ) return;\\r\\n\\r\\n            callback( this );\\r\\n\\r\\n            var children = this.children;\\r\\n\\r\\n            for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                children[ i ].traverseVisible( callback );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        traverseAncestors: function ( callback ) {\\r\\n\\r\\n            var parent = this.parent;\\r\\n\\r\\n            if ( parent !== null ) {\\r\\n\\r\\n                callback( parent );\\r\\n\\r\\n                parent.traverseAncestors( callback );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMatrix: function () {\\r\\n\\r\\n            this.matrix.compose( this.position, this.quaternion, this.scale );\\r\\n\\r\\n            this.matrixWorldNeedsUpdate = true;\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMatrixWorld: function ( force ) {\\r\\n\\r\\n            if ( this.matrixAutoUpdate ) this.updateMatrix();\\r\\n\\r\\n            if ( this.matrixWorldNeedsUpdate || force ) {\\r\\n\\r\\n                if ( this.parent === null ) {\\r\\n\\r\\n                    this.matrixWorld.copy( this.matrix );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.matrixWorldNeedsUpdate = false;\\r\\n\\r\\n                force = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            // update children\\r\\n\\r\\n            var children = this.children;\\r\\n\\r\\n            for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                children[ i ].updateMatrixWorld( force );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        updateWorldMatrix: function ( updateParents, updateChildren ) {\\r\\n\\r\\n            var parent = this.parent;\\r\\n\\r\\n            if ( updateParents === true && parent !== null ) {\\r\\n\\r\\n                parent.updateWorldMatrix( true, false );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.matrixAutoUpdate ) this.updateMatrix();\\r\\n\\r\\n            if ( this.parent === null ) {\\r\\n\\r\\n                this.matrixWorld.copy( this.matrix );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n            // update children\\r\\n\\r\\n            if ( updateChildren === true ) {\\r\\n\\r\\n                var children = this.children;\\r\\n\\r\\n                for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                    children[ i ].updateWorldMatrix( false, true );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            // meta is a string when called from JSON.stringify\\r\\n            var isRootObject = ( meta === undefined || typeof meta === 'string' );\\r\\n\\r\\n            var output = {};\\r\\n\\r\\n            // meta is a hash used to collect geometries, materials.\\r\\n            // not providing it implies that this is the root object\\r\\n            // being serialized.\\r\\n            if ( isRootObject ) {\\r\\n\\r\\n                // initialize meta obj\\r\\n                meta = {\\r\\n                    geometries: {},\\r\\n                    materials: {},\\r\\n                    textures: {},\\r\\n                    images: {},\\r\\n                    shapes: {}\\r\\n                };\\r\\n\\r\\n                output.metadata = {\\r\\n                    version: 4.5,\\r\\n                    type: 'Object',\\r\\n                    generator: 'Object3D.toJSON'\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            // standard Object3D serialization\\r\\n\\r\\n            var object = {};\\r\\n\\r\\n            object.uuid = this.uuid;\\r\\n            object.type = this.type;\\r\\n\\r\\n            if ( this.name !== '' ) object.name = this.name;\\r\\n            if ( this.castShadow === true ) object.castShadow = true;\\r\\n            if ( this.receiveShadow === true ) object.receiveShadow = true;\\r\\n            if ( this.visible === false ) object.visible = false;\\r\\n            if ( this.frustumCulled === false ) object.frustumCulled = false;\\r\\n            if ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\\r\\n            if ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\\r\\n\\r\\n            object.layers = this.layers.mask;\\r\\n            object.matrix = this.matrix.toArray();\\r\\n\\r\\n            if ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\\r\\n\\r\\n            //\\r\\n\\r\\n            function serialize( library, element ) {\\r\\n\\r\\n                if ( library[ element.uuid ] === undefined ) {\\r\\n\\r\\n                    library[ element.uuid ] = element.toJSON( meta );\\r\\n\\r\\n                }\\r\\n\\r\\n                return element.uuid;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.isMesh || this.isLine || this.isPoints ) {\\r\\n\\r\\n                object.geometry = serialize( meta.geometries, this.geometry );\\r\\n\\r\\n                var parameters = this.geometry.parameters;\\r\\n\\r\\n                if ( parameters !== undefined && parameters.shapes !== undefined ) {\\r\\n\\r\\n                    var shapes = parameters.shapes;\\r\\n\\r\\n                    if ( Array.isArray( shapes ) ) {\\r\\n\\r\\n                        for ( var i = 0, l = shapes.length; i < l; i ++ ) {\\r\\n\\r\\n                            var shape = shapes[ i ];\\r\\n\\r\\n                            serialize( meta.shapes, shape );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        serialize( meta.shapes, shapes );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.material !== undefined ) {\\r\\n\\r\\n                if ( Array.isArray( this.material ) ) {\\r\\n\\r\\n                    var uuids = [];\\r\\n\\r\\n                    for ( var i = 0, l = this.material.length; i < l; i ++ ) {\\r\\n\\r\\n                        uuids.push( serialize( meta.materials, this.material[ i ] ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    object.material = uuids;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    object.material = serialize( meta.materials, this.material );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( this.children.length > 0 ) {\\r\\n\\r\\n                object.children = [];\\r\\n\\r\\n                for ( var i = 0; i < this.children.length; i ++ ) {\\r\\n\\r\\n                    object.children.push( this.children[ i ].toJSON( meta ).object );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( isRootObject ) {\\r\\n\\r\\n                var geometries = extractFromCache( meta.geometries );\\r\\n                var materials = extractFromCache( meta.materials );\\r\\n                var textures = extractFromCache( meta.textures );\\r\\n                var images = extractFromCache( meta.images );\\r\\n                var shapes = extractFromCache( meta.shapes );\\r\\n\\r\\n                if ( geometries.length > 0 ) output.geometries = geometries;\\r\\n                if ( materials.length > 0 ) output.materials = materials;\\r\\n                if ( textures.length > 0 ) output.textures = textures;\\r\\n                if ( images.length > 0 ) output.images = images;\\r\\n                if ( shapes.length > 0 ) output.shapes = shapes;\\r\\n\\r\\n            }\\r\\n\\r\\n            output.object = object;\\r\\n\\r\\n            return output;\\r\\n\\r\\n            // extract data from the cache hash\\r\\n            // remove metadata on each item\\r\\n            // and return as array\\r\\n            function extractFromCache( cache ) {\\r\\n\\r\\n                var values = [];\\r\\n                for ( var key in cache ) {\\r\\n\\r\\n                    var data = cache[ key ];\\r\\n                    delete data.metadata;\\r\\n                    values.push( data );\\r\\n\\r\\n                }\\r\\n                return values;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function ( recursive ) {\\r\\n\\r\\n            return new this.constructor().copy( this, recursive );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source, recursive ) {\\r\\n\\r\\n            if ( recursive === undefined ) recursive = true;\\r\\n\\r\\n            this.name = source.name;\\r\\n\\r\\n            this.up.copy( source.up );\\r\\n\\r\\n            this.position.copy( source.position );\\r\\n            this.quaternion.copy( source.quaternion );\\r\\n            this.scale.copy( source.scale );\\r\\n\\r\\n            this.matrix.copy( source.matrix );\\r\\n            this.matrixWorld.copy( source.matrixWorld );\\r\\n\\r\\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\\r\\n            this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\\r\\n\\r\\n            this.layers.mask = source.layers.mask;\\r\\n            this.visible = source.visible;\\r\\n\\r\\n            this.castShadow = source.castShadow;\\r\\n            this.receiveShadow = source.receiveShadow;\\r\\n\\r\\n            this.frustumCulled = source.frustumCulled;\\r\\n            this.renderOrder = source.renderOrder;\\r\\n\\r\\n            this.userData = JSON.parse( JSON.stringify( source.userData ) );\\r\\n\\r\\n            if ( recursive === true ) {\\r\\n\\r\\n                for ( var i = 0; i < source.children.length; i ++ ) {\\r\\n\\r\\n                    var child = source.children[ i ];\\r\\n                    this.add( child.clone() );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author kile / http://kile.stravaganza.org/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    var geometryId = 0; // Geometry uses even numbers as Id\\r\\n\\r\\n    function Geometry() {\\r\\n\\r\\n        Object.defineProperty( this, 'id', { value: geometryId += 2 } );\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        this.name = '';\\r\\n        this.type = 'Geometry';\\r\\n\\r\\n        this.vertices = [];\\r\\n        this.colors = [];\\r\\n        this.faces = [];\\r\\n        this.faceVertexUvs = [[]];\\r\\n\\r\\n        this.morphTargets = [];\\r\\n        this.morphNormals = [];\\r\\n\\r\\n        this.skinWeights = [];\\r\\n        this.skinIndices = [];\\r\\n\\r\\n        this.lineDistances = [];\\r\\n\\r\\n        this.boundingBox = null;\\r\\n        this.boundingSphere = null;\\r\\n\\r\\n        // update flags\\r\\n\\r\\n        this.elementsNeedUpdate = false;\\r\\n        this.verticesNeedUpdate = false;\\r\\n        this.uvsNeedUpdate = false;\\r\\n        this.normalsNeedUpdate = false;\\r\\n        this.colorsNeedUpdate = false;\\r\\n        this.lineDistancesNeedUpdate = false;\\r\\n        this.groupsNeedUpdate = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    Geometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: Geometry,\\r\\n\\r\\n        isGeometry: true,\\r\\n\\r\\n        applyMatrix: function ( matrix ) {\\r\\n\\r\\n            var normalMatrix = new Matrix3().getNormalMatrix( matrix );\\r\\n\\r\\n            for ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\\r\\n\\r\\n                var vertex = this.vertices[ i ];\\r\\n                vertex.applyMatrix4( matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0, il = this.faces.length; i < il; i ++ ) {\\r\\n\\r\\n                var face = this.faces[ i ];\\r\\n                face.normal.applyMatrix3( normalMatrix ).normalize();\\r\\n\\r\\n                for ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\\r\\n\\r\\n                    face.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.boundingBox !== null ) {\\r\\n\\r\\n                this.computeBoundingBox();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.boundingSphere !== null ) {\\r\\n\\r\\n                this.computeBoundingSphere();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.verticesNeedUpdate = true;\\r\\n            this.normalsNeedUpdate = true;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        rotateX: function () {\\r\\n\\r\\n            // rotate geometry around world x-axis\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function rotateX( angle ) {\\r\\n\\r\\n                m1.makeRotationX( angle );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateY: function () {\\r\\n\\r\\n            // rotate geometry around world y-axis\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function rotateY( angle ) {\\r\\n\\r\\n                m1.makeRotationY( angle );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateZ: function () {\\r\\n\\r\\n            // rotate geometry around world z-axis\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function rotateZ( angle ) {\\r\\n\\r\\n                m1.makeRotationZ( angle );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translate: function () {\\r\\n\\r\\n            // translate geometry\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function translate( x, y, z ) {\\r\\n\\r\\n                m1.makeTranslation( x, y, z );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        scale: function () {\\r\\n\\r\\n            // scale geometry\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function scale( x, y, z ) {\\r\\n\\r\\n                m1.makeScale( x, y, z );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        lookAt: function () {\\r\\n\\r\\n            var obj = new Object3D();\\r\\n\\r\\n            return function lookAt( vector ) {\\r\\n\\r\\n                obj.lookAt( vector );\\r\\n\\r\\n                obj.updateMatrix();\\r\\n\\r\\n                this.applyMatrix( obj.matrix );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        fromBufferGeometry: function ( geometry ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var indices = geometry.index !== null ? geometry.index.array : undefined;\\r\\n            var attributes = geometry.attributes;\\r\\n\\r\\n            var positions = attributes.position.array;\\r\\n            var normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\\r\\n            var colors = attributes.color !== undefined ? attributes.color.array : undefined;\\r\\n            var uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\\r\\n            var uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\\r\\n\\r\\n            if ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\\r\\n\\r\\n            var tempNormals = [];\\r\\n            var tempUVs = [];\\r\\n            var tempUVs2 = [];\\r\\n\\r\\n            for ( var i = 0, j = 0; i < positions.length; i += 3, j += 2 ) {\\r\\n\\r\\n                scope.vertices.push( new Vector3( positions[ i ], positions[ i + 1 ], positions[ i + 2 ] ) );\\r\\n\\r\\n                if ( normals !== undefined ) {\\r\\n\\r\\n                    tempNormals.push( new Vector3( normals[ i ], normals[ i + 1 ], normals[ i + 2 ] ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( colors !== undefined ) {\\r\\n\\r\\n                    scope.colors.push( new Color( colors[ i ], colors[ i + 1 ], colors[ i + 2 ] ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( uvs !== undefined ) {\\r\\n\\r\\n                    tempUVs.push( new Vector2( uvs[ j ], uvs[ j + 1 ] ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( uvs2 !== undefined ) {\\r\\n\\r\\n                    tempUVs2.push( new Vector2( uvs2[ j ], uvs2[ j + 1 ] ) );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            function addFace( a, b, c, materialIndex ) {\\r\\n\\r\\n                var vertexNormals = normals !== undefined ? [ tempNormals[ a ].clone(), tempNormals[ b ].clone(), tempNormals[ c ].clone() ] : [];\\r\\n                var vertexColors = colors !== undefined ? [ scope.colors[ a ].clone(), scope.colors[ b ].clone(), scope.colors[ c ].clone() ] : [];\\r\\n\\r\\n                var face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\\r\\n\\r\\n                scope.faces.push( face );\\r\\n\\r\\n                if ( uvs !== undefined ) {\\r\\n\\r\\n                    scope.faceVertexUvs[ 0 ].push( [ tempUVs[ a ].clone(), tempUVs[ b ].clone(), tempUVs[ c ].clone() ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( uvs2 !== undefined ) {\\r\\n\\r\\n                    scope.faceVertexUvs[ 1 ].push( [ tempUVs2[ a ].clone(), tempUVs2[ b ].clone(), tempUVs2[ c ].clone() ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var groups = geometry.groups;\\r\\n\\r\\n            if ( groups.length > 0 ) {\\r\\n\\r\\n                for ( var i = 0; i < groups.length; i ++ ) {\\r\\n\\r\\n                    var group = groups[ i ];\\r\\n\\r\\n                    var start = group.start;\\r\\n                    var count = group.count;\\r\\n\\r\\n                    for ( var j = start, jl = start + count; j < jl; j += 3 ) {\\r\\n\\r\\n                        if ( indices !== undefined ) {\\r\\n\\r\\n                            addFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            addFace( j, j + 1, j + 2, group.materialIndex );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                if ( indices !== undefined ) {\\r\\n\\r\\n                    for ( var i = 0; i < indices.length; i += 3 ) {\\r\\n\\r\\n                        addFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    for ( var i = 0; i < positions.length / 3; i += 3 ) {\\r\\n\\r\\n                        addFace( i, i + 1, i + 2 );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            this.computeFaceNormals();\\r\\n\\r\\n            if ( geometry.boundingBox !== null ) {\\r\\n\\r\\n                this.boundingBox = geometry.boundingBox.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.boundingSphere !== null ) {\\r\\n\\r\\n                this.boundingSphere = geometry.boundingSphere.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        center: function () {\\r\\n\\r\\n            var offset = new Vector3();\\r\\n\\r\\n            return function center() {\\r\\n\\r\\n                this.computeBoundingBox();\\r\\n\\r\\n                this.boundingBox.getCenter( offset ).negate();\\r\\n\\r\\n                this.translate( offset.x, offset.y, offset.z );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        normalize: function () {\\r\\n\\r\\n            this.computeBoundingSphere();\\r\\n\\r\\n            var center = this.boundingSphere.center;\\r\\n            var radius = this.boundingSphere.radius;\\r\\n\\r\\n            var s = radius === 0 ? 1 : 1.0 / radius;\\r\\n\\r\\n            var matrix = new Matrix4();\\r\\n            matrix.set(\\r\\n                s, 0, 0, - s * center.x,\\r\\n                0, s, 0, - s * center.y,\\r\\n                0, 0, s, - s * center.z,\\r\\n                0, 0, 0, 1\\r\\n            );\\r\\n\\r\\n            this.applyMatrix( matrix );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        computeFaceNormals: function () {\\r\\n\\r\\n            var cb = new Vector3(), ab = new Vector3();\\r\\n\\r\\n            for ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                var face = this.faces[ f ];\\r\\n\\r\\n                var vA = this.vertices[ face.a ];\\r\\n                var vB = this.vertices[ face.b ];\\r\\n                var vC = this.vertices[ face.c ];\\r\\n\\r\\n                cb.subVectors( vC, vB );\\r\\n                ab.subVectors( vA, vB );\\r\\n                cb.cross( ab );\\r\\n\\r\\n                cb.normalize();\\r\\n\\r\\n                face.normal.copy( cb );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        computeVertexNormals: function ( areaWeighted ) {\\r\\n\\r\\n            if ( areaWeighted === undefined ) areaWeighted = true;\\r\\n\\r\\n            var v, vl, f, fl, face, vertices;\\r\\n\\r\\n            vertices = new Array( this.vertices.length );\\r\\n\\r\\n            for ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\\r\\n\\r\\n                vertices[ v ] = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( areaWeighted ) {\\r\\n\\r\\n                // vertex normals weighted by triangle areas\\r\\n                // http://www.iquilezles.org/www/articles/normals/normals.htm\\r\\n\\r\\n                var vA, vB, vC;\\r\\n                var cb = new Vector3(), ab = new Vector3();\\r\\n\\r\\n                for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                    face = this.faces[ f ];\\r\\n\\r\\n                    vA = this.vertices[ face.a ];\\r\\n                    vB = this.vertices[ face.b ];\\r\\n                    vC = this.vertices[ face.c ];\\r\\n\\r\\n                    cb.subVectors( vC, vB );\\r\\n                    ab.subVectors( vA, vB );\\r\\n                    cb.cross( ab );\\r\\n\\r\\n                    vertices[ face.a ].add( cb );\\r\\n                    vertices[ face.b ].add( cb );\\r\\n                    vertices[ face.c ].add( cb );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.computeFaceNormals();\\r\\n\\r\\n                for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                    face = this.faces[ f ];\\r\\n\\r\\n                    vertices[ face.a ].add( face.normal );\\r\\n                    vertices[ face.b ].add( face.normal );\\r\\n                    vertices[ face.c ].add( face.normal );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\\r\\n\\r\\n                vertices[ v ].normalize();\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                face = this.faces[ f ];\\r\\n\\r\\n                var vertexNormals = face.vertexNormals;\\r\\n\\r\\n                if ( vertexNormals.length === 3 ) {\\r\\n\\r\\n                    vertexNormals[ 0 ].copy( vertices[ face.a ] );\\r\\n                    vertexNormals[ 1 ].copy( vertices[ face.b ] );\\r\\n                    vertexNormals[ 2 ].copy( vertices[ face.c ] );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    vertexNormals[ 0 ] = vertices[ face.a ].clone();\\r\\n                    vertexNormals[ 1 ] = vertices[ face.b ].clone();\\r\\n                    vertexNormals[ 2 ] = vertices[ face.c ].clone();\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.faces.length > 0 ) {\\r\\n\\r\\n                this.normalsNeedUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        computeFlatVertexNormals: function () {\\r\\n\\r\\n            var f, fl, face;\\r\\n\\r\\n            this.computeFaceNormals();\\r\\n\\r\\n            for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                face = this.faces[ f ];\\r\\n\\r\\n                var vertexNormals = face.vertexNormals;\\r\\n\\r\\n                if ( vertexNormals.length === 3 ) {\\r\\n\\r\\n                    vertexNormals[ 0 ].copy( face.normal );\\r\\n                    vertexNormals[ 1 ].copy( face.normal );\\r\\n                    vertexNormals[ 2 ].copy( face.normal );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    vertexNormals[ 0 ] = face.normal.clone();\\r\\n                    vertexNormals[ 1 ] = face.normal.clone();\\r\\n                    vertexNormals[ 2 ] = face.normal.clone();\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.faces.length > 0 ) {\\r\\n\\r\\n                this.normalsNeedUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        computeMorphNormals: function () {\\r\\n\\r\\n            var i, il, f, fl, face;\\r\\n\\r\\n            // save original normals\\r\\n            // - create temp variables on first access\\r\\n            //   otherwise just copy (for faster repeated calls)\\r\\n\\r\\n            for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                face = this.faces[ f ];\\r\\n\\r\\n                if ( ! face.__originalFaceNormal ) {\\r\\n\\r\\n                    face.__originalFaceNormal = face.normal.clone();\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    face.__originalFaceNormal.copy( face.normal );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\\r\\n\\r\\n                for ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\\r\\n\\r\\n                    if ( ! face.__originalVertexNormals[ i ] ) {\\r\\n\\r\\n                        face.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        face.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // use temp geometry to compute face and vertex normals for each morph\\r\\n\\r\\n            var tmpGeo = new Geometry();\\r\\n            tmpGeo.faces = this.faces;\\r\\n\\r\\n            for ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\\r\\n\\r\\n                // create on first access\\r\\n\\r\\n                if ( ! this.morphNormals[ i ] ) {\\r\\n\\r\\n                    this.morphNormals[ i ] = {};\\r\\n                    this.morphNormals[ i ].faceNormals = [];\\r\\n                    this.morphNormals[ i ].vertexNormals = [];\\r\\n\\r\\n                    var dstNormalsFace = this.morphNormals[ i ].faceNormals;\\r\\n                    var dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\\r\\n\\r\\n                    var faceNormal, vertexNormals;\\r\\n\\r\\n                    for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                        faceNormal = new Vector3();\\r\\n                        vertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\\r\\n\\r\\n                        dstNormalsFace.push( faceNormal );\\r\\n                        dstNormalsVertex.push( vertexNormals );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                var morphNormals = this.morphNormals[ i ];\\r\\n\\r\\n                // set vertices to morph target\\r\\n\\r\\n                tmpGeo.vertices = this.morphTargets[ i ].vertices;\\r\\n\\r\\n                // compute morph normals\\r\\n\\r\\n                tmpGeo.computeFaceNormals();\\r\\n                tmpGeo.computeVertexNormals();\\r\\n\\r\\n                // store morph normals\\r\\n\\r\\n                var faceNormal, vertexNormals;\\r\\n\\r\\n                for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                    face = this.faces[ f ];\\r\\n\\r\\n                    faceNormal = morphNormals.faceNormals[ f ];\\r\\n                    vertexNormals = morphNormals.vertexNormals[ f ];\\r\\n\\r\\n                    faceNormal.copy( face.normal );\\r\\n\\r\\n                    vertexNormals.a.copy( face.vertexNormals[ 0 ] );\\r\\n                    vertexNormals.b.copy( face.vertexNormals[ 1 ] );\\r\\n                    vertexNormals.c.copy( face.vertexNormals[ 2 ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // restore original normals\\r\\n\\r\\n            for ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                face = this.faces[ f ];\\r\\n\\r\\n                face.normal = face.__originalFaceNormal;\\r\\n                face.vertexNormals = face.__originalVertexNormals;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        computeBoundingBox: function () {\\r\\n\\r\\n            if ( this.boundingBox === null ) {\\r\\n\\r\\n                this.boundingBox = new Box3();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.boundingBox.setFromPoints( this.vertices );\\r\\n\\r\\n        },\\r\\n\\r\\n        computeBoundingSphere: function () {\\r\\n\\r\\n            if ( this.boundingSphere === null ) {\\r\\n\\r\\n                this.boundingSphere = new Sphere();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.boundingSphere.setFromPoints( this.vertices );\\r\\n\\r\\n        },\\r\\n\\r\\n        merge: function ( geometry, matrix, materialIndexOffset ) {\\r\\n\\r\\n            if ( ! ( geometry && geometry.isGeometry ) ) {\\r\\n\\r\\n                console.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            var normalMatrix,\\r\\n                vertexOffset = this.vertices.length,\\r\\n                vertices1 = this.vertices,\\r\\n                vertices2 = geometry.vertices,\\r\\n                faces1 = this.faces,\\r\\n                faces2 = geometry.faces,\\r\\n                uvs1 = this.faceVertexUvs[ 0 ],\\r\\n                uvs2 = geometry.faceVertexUvs[ 0 ],\\r\\n                colors1 = this.colors,\\r\\n                colors2 = geometry.colors;\\r\\n\\r\\n            if ( materialIndexOffset === undefined ) materialIndexOffset = 0;\\r\\n\\r\\n            if ( matrix !== undefined ) {\\r\\n\\r\\n                normalMatrix = new Matrix3().getNormalMatrix( matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n            // vertices\\r\\n\\r\\n            for ( var i = 0, il = vertices2.length; i < il; i ++ ) {\\r\\n\\r\\n                var vertex = vertices2[ i ];\\r\\n\\r\\n                var vertexCopy = vertex.clone();\\r\\n\\r\\n                if ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\\r\\n\\r\\n                vertices1.push( vertexCopy );\\r\\n\\r\\n            }\\r\\n\\r\\n            // colors\\r\\n\\r\\n            for ( var i = 0, il = colors2.length; i < il; i ++ ) {\\r\\n\\r\\n                colors1.push( colors2[ i ].clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // faces\\r\\n\\r\\n            for ( i = 0, il = faces2.length; i < il; i ++ ) {\\r\\n\\r\\n                var face = faces2[ i ], faceCopy, normal, color,\\r\\n                    faceVertexNormals = face.vertexNormals,\\r\\n                    faceVertexColors = face.vertexColors;\\r\\n\\r\\n                faceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\\r\\n                faceCopy.normal.copy( face.normal );\\r\\n\\r\\n                if ( normalMatrix !== undefined ) {\\r\\n\\r\\n                    faceCopy.normal.applyMatrix3( normalMatrix ).normalize();\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\\r\\n\\r\\n                    normal = faceVertexNormals[ j ].clone();\\r\\n\\r\\n                    if ( normalMatrix !== undefined ) {\\r\\n\\r\\n                        normal.applyMatrix3( normalMatrix ).normalize();\\r\\n\\r\\n                    }\\r\\n\\r\\n                    faceCopy.vertexNormals.push( normal );\\r\\n\\r\\n                }\\r\\n\\r\\n                faceCopy.color.copy( face.color );\\r\\n\\r\\n                for ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\\r\\n\\r\\n                    color = faceVertexColors[ j ];\\r\\n                    faceCopy.vertexColors.push( color.clone() );\\r\\n\\r\\n                }\\r\\n\\r\\n                faceCopy.materialIndex = face.materialIndex + materialIndexOffset;\\r\\n\\r\\n                faces1.push( faceCopy );\\r\\n\\r\\n            }\\r\\n\\r\\n            // uvs\\r\\n\\r\\n            for ( i = 0, il = uvs2.length; i < il; i ++ ) {\\r\\n\\r\\n                var uv = uvs2[ i ], uvCopy = [];\\r\\n\\r\\n                if ( uv === undefined ) {\\r\\n\\r\\n                    continue;\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( var j = 0, jl = uv.length; j < jl; j ++ ) {\\r\\n\\r\\n                    uvCopy.push( uv[ j ].clone() );\\r\\n\\r\\n                }\\r\\n\\r\\n                uvs1.push( uvCopy );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        mergeMesh: function ( mesh ) {\\r\\n\\r\\n            if ( ! ( mesh && mesh.isMesh ) ) {\\r\\n\\r\\n                console.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\\r\\n\\r\\n            this.merge( mesh.geometry, mesh.matrix );\\r\\n\\r\\n        },\\r\\n\\r\\n        /*\\r\\n\\t\\t * Checks for duplicate vertices with hashmap.\\r\\n\\t\\t * Duplicated vertices are removed\\r\\n\\t\\t * and faces' vertices are updated.\\r\\n\\t\\t */\\r\\n\\r\\n        mergeVertices: function () {\\r\\n\\r\\n            var verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\\r\\n            var unique = [], changes = [];\\r\\n\\r\\n            var v, key;\\r\\n            var precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\\r\\n            var precision = Math.pow( 10, precisionPoints );\\r\\n            var i, il, face;\\r\\n            var indices, j, jl;\\r\\n\\r\\n            for ( i = 0, il = this.vertices.length; i < il; i ++ ) {\\r\\n\\r\\n                v = this.vertices[ i ];\\r\\n                key = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\\r\\n\\r\\n                if ( verticesMap[ key ] === undefined ) {\\r\\n\\r\\n                    verticesMap[ key ] = i;\\r\\n                    unique.push( this.vertices[ i ] );\\r\\n                    changes[ i ] = unique.length - 1;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    //console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\\r\\n                    changes[ i ] = changes[ verticesMap[ key ] ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            // if faces are completely degenerate after merging vertices, we\\r\\n            // have to remove them from the geometry.\\r\\n            var faceIndicesToRemove = [];\\r\\n\\r\\n            for ( i = 0, il = this.faces.length; i < il; i ++ ) {\\r\\n\\r\\n                face = this.faces[ i ];\\r\\n\\r\\n                face.a = changes[ face.a ];\\r\\n                face.b = changes[ face.b ];\\r\\n                face.c = changes[ face.c ];\\r\\n\\r\\n                indices = [ face.a, face.b, face.c ];\\r\\n\\r\\n                // if any duplicate vertices are found in a Face3\\r\\n                // we have to remove the face as nothing can be saved\\r\\n                for ( var n = 0; n < 3; n ++ ) {\\r\\n\\r\\n                    if ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\\r\\n\\r\\n                        faceIndicesToRemove.push( i );\\r\\n                        break;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\\r\\n\\r\\n                var idx = faceIndicesToRemove[ i ];\\r\\n\\r\\n                this.faces.splice( idx, 1 );\\r\\n\\r\\n                for ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\\r\\n\\r\\n                    this.faceVertexUvs[ j ].splice( idx, 1 );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // Use unique set of vertices\\r\\n\\r\\n            var diff = this.vertices.length - unique.length;\\r\\n            this.vertices = unique;\\r\\n            return diff;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromPoints: function ( points ) {\\r\\n\\r\\n            this.vertices = [];\\r\\n\\r\\n            for ( var i = 0, l = points.length; i < l; i ++ ) {\\r\\n\\r\\n                var point = points[ i ];\\r\\n                this.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        sortFacesByMaterialIndex: function () {\\r\\n\\r\\n            var faces = this.faces;\\r\\n            var length = faces.length;\\r\\n\\r\\n            // tag faces\\r\\n\\r\\n            for ( var i = 0; i < length; i ++ ) {\\r\\n\\r\\n                faces[ i ]._id = i;\\r\\n\\r\\n            }\\r\\n\\r\\n            // sort faces\\r\\n\\r\\n            function materialIndexSort( a, b ) {\\r\\n\\r\\n                return a.materialIndex - b.materialIndex;\\r\\n\\r\\n            }\\r\\n\\r\\n            faces.sort( materialIndexSort );\\r\\n\\r\\n            // sort uvs\\r\\n\\r\\n            var uvs1 = this.faceVertexUvs[ 0 ];\\r\\n            var uvs2 = this.faceVertexUvs[ 1 ];\\r\\n\\r\\n            var newUvs1, newUvs2;\\r\\n\\r\\n            if ( uvs1 && uvs1.length === length ) newUvs1 = [];\\r\\n            if ( uvs2 && uvs2.length === length ) newUvs2 = [];\\r\\n\\r\\n            for ( var i = 0; i < length; i ++ ) {\\r\\n\\r\\n                var id = faces[ i ]._id;\\r\\n\\r\\n                if ( newUvs1 ) newUvs1.push( uvs1[ id ] );\\r\\n                if ( newUvs2 ) newUvs2.push( uvs2[ id ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\\r\\n            if ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var data = {\\r\\n                metadata: {\\r\\n                    version: 4.5,\\r\\n                    type: 'Geometry',\\r\\n                    generator: 'Geometry.toJSON'\\r\\n                }\\r\\n            };\\r\\n\\r\\n            // standard Geometry serialization\\r\\n\\r\\n            data.uuid = this.uuid;\\r\\n            data.type = this.type;\\r\\n            if ( this.name !== '' ) data.name = this.name;\\r\\n\\r\\n            if ( this.parameters !== undefined ) {\\r\\n\\r\\n                var parameters = this.parameters;\\r\\n\\r\\n                for ( var key in parameters ) {\\r\\n\\r\\n                    if ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\\r\\n\\r\\n                }\\r\\n\\r\\n                return data;\\r\\n\\r\\n            }\\r\\n\\r\\n            var vertices = [];\\r\\n\\r\\n            for ( var i = 0; i < this.vertices.length; i ++ ) {\\r\\n\\r\\n                var vertex = this.vertices[ i ];\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n            }\\r\\n\\r\\n            var faces = [];\\r\\n            var normals = [];\\r\\n            var normalsHash = {};\\r\\n            var colors = [];\\r\\n            var colorsHash = {};\\r\\n            var uvs = [];\\r\\n            var uvsHash = {};\\r\\n\\r\\n            for ( var i = 0; i < this.faces.length; i ++ ) {\\r\\n\\r\\n                var face = this.faces[ i ];\\r\\n\\r\\n                var hasMaterial = true;\\r\\n                var hasFaceUv = false; // deprecated\\r\\n                var hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\\r\\n                var hasFaceNormal = face.normal.length() > 0;\\r\\n                var hasFaceVertexNormal = face.vertexNormals.length > 0;\\r\\n                var hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\\r\\n                var hasFaceVertexColor = face.vertexColors.length > 0;\\r\\n\\r\\n                var faceType = 0;\\r\\n\\r\\n                faceType = setBit( faceType, 0, 0 ); // isQuad\\r\\n                faceType = setBit( faceType, 1, hasMaterial );\\r\\n                faceType = setBit( faceType, 2, hasFaceUv );\\r\\n                faceType = setBit( faceType, 3, hasFaceVertexUv );\\r\\n                faceType = setBit( faceType, 4, hasFaceNormal );\\r\\n                faceType = setBit( faceType, 5, hasFaceVertexNormal );\\r\\n                faceType = setBit( faceType, 6, hasFaceColor );\\r\\n                faceType = setBit( faceType, 7, hasFaceVertexColor );\\r\\n\\r\\n                faces.push( faceType );\\r\\n                faces.push( face.a, face.b, face.c );\\r\\n                faces.push( face.materialIndex );\\r\\n\\r\\n                if ( hasFaceVertexUv ) {\\r\\n\\r\\n                    var faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\\r\\n\\r\\n                    faces.push(\\r\\n                        getUvIndex( faceVertexUvs[ 0 ] ),\\r\\n                        getUvIndex( faceVertexUvs[ 1 ] ),\\r\\n                        getUvIndex( faceVertexUvs[ 2 ] )\\r\\n                    );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasFaceNormal ) {\\r\\n\\r\\n                    faces.push( getNormalIndex( face.normal ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasFaceVertexNormal ) {\\r\\n\\r\\n                    var vertexNormals = face.vertexNormals;\\r\\n\\r\\n                    faces.push(\\r\\n                        getNormalIndex( vertexNormals[ 0 ] ),\\r\\n                        getNormalIndex( vertexNormals[ 1 ] ),\\r\\n                        getNormalIndex( vertexNormals[ 2 ] )\\r\\n                    );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasFaceColor ) {\\r\\n\\r\\n                    faces.push( getColorIndex( face.color ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasFaceVertexColor ) {\\r\\n\\r\\n                    var vertexColors = face.vertexColors;\\r\\n\\r\\n                    faces.push(\\r\\n                        getColorIndex( vertexColors[ 0 ] ),\\r\\n                        getColorIndex( vertexColors[ 1 ] ),\\r\\n                        getColorIndex( vertexColors[ 2 ] )\\r\\n                    );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            function setBit( value, position, enabled ) {\\r\\n\\r\\n                return enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            function getNormalIndex( normal ) {\\r\\n\\r\\n                var hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\\r\\n\\r\\n                if ( normalsHash[ hash ] !== undefined ) {\\r\\n\\r\\n                    return normalsHash[ hash ];\\r\\n\\r\\n                }\\r\\n\\r\\n                normalsHash[ hash ] = normals.length / 3;\\r\\n                normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                return normalsHash[ hash ];\\r\\n\\r\\n            }\\r\\n\\r\\n            function getColorIndex( color ) {\\r\\n\\r\\n                var hash = color.r.toString() + color.g.toString() + color.b.toString();\\r\\n\\r\\n                if ( colorsHash[ hash ] !== undefined ) {\\r\\n\\r\\n                    return colorsHash[ hash ];\\r\\n\\r\\n                }\\r\\n\\r\\n                colorsHash[ hash ] = colors.length;\\r\\n                colors.push( color.getHex() );\\r\\n\\r\\n                return colorsHash[ hash ];\\r\\n\\r\\n            }\\r\\n\\r\\n            function getUvIndex( uv ) {\\r\\n\\r\\n                var hash = uv.x.toString() + uv.y.toString();\\r\\n\\r\\n                if ( uvsHash[ hash ] !== undefined ) {\\r\\n\\r\\n                    return uvsHash[ hash ];\\r\\n\\r\\n                }\\r\\n\\r\\n                uvsHash[ hash ] = uvs.length / 2;\\r\\n                uvs.push( uv.x, uv.y );\\r\\n\\r\\n                return uvsHash[ hash ];\\r\\n\\r\\n            }\\r\\n\\r\\n            data.data = {};\\r\\n\\r\\n            data.data.vertices = vertices;\\r\\n            data.data.normals = normals;\\r\\n            if ( colors.length > 0 ) data.data.colors = colors;\\r\\n            if ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\\r\\n            data.data.faces = faces;\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            /*\\r\\n\\t\\t\\t // Handle primitives\\r\\n\\r\\n\\t\\t\\t var parameters = this.parameters;\\r\\n\\r\\n\\t\\t\\t if ( parameters !== undefined ) {\\r\\n\\r\\n\\t\\t\\t var values = [];\\r\\n\\r\\n\\t\\t\\t for ( var key in parameters ) {\\r\\n\\r\\n\\t\\t\\t values.push( parameters[ key ] );\\r\\n\\r\\n\\t\\t\\t }\\r\\n\\r\\n\\t\\t\\t var geometry = Object.create( this.constructor.prototype );\\r\\n\\t\\t\\t this.constructor.apply( geometry, values );\\r\\n\\t\\t\\t return geometry;\\r\\n\\r\\n\\t\\t\\t }\\r\\n\\r\\n\\t\\t\\t return new this.constructor().copy( this );\\r\\n\\t\\t\\t */\\r\\n\\r\\n            return new Geometry().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            var i, il, j, jl, k, kl;\\r\\n\\r\\n            // reset\\r\\n\\r\\n            this.vertices = [];\\r\\n            this.colors = [];\\r\\n            this.faces = [];\\r\\n            this.faceVertexUvs = [[]];\\r\\n            this.morphTargets = [];\\r\\n            this.morphNormals = [];\\r\\n            this.skinWeights = [];\\r\\n            this.skinIndices = [];\\r\\n            this.lineDistances = [];\\r\\n            this.boundingBox = null;\\r\\n            this.boundingSphere = null;\\r\\n\\r\\n            // name\\r\\n\\r\\n            this.name = source.name;\\r\\n\\r\\n            // vertices\\r\\n\\r\\n            var vertices = source.vertices;\\r\\n\\r\\n            for ( i = 0, il = vertices.length; i < il; i ++ ) {\\r\\n\\r\\n                this.vertices.push( vertices[ i ].clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // colors\\r\\n\\r\\n            var colors = source.colors;\\r\\n\\r\\n            for ( i = 0, il = colors.length; i < il; i ++ ) {\\r\\n\\r\\n                this.colors.push( colors[ i ].clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // faces\\r\\n\\r\\n            var faces = source.faces;\\r\\n\\r\\n            for ( i = 0, il = faces.length; i < il; i ++ ) {\\r\\n\\r\\n                this.faces.push( faces[ i ].clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // face vertex uvs\\r\\n\\r\\n            for ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\\r\\n\\r\\n                var faceVertexUvs = source.faceVertexUvs[ i ];\\r\\n\\r\\n                if ( this.faceVertexUvs[ i ] === undefined ) {\\r\\n\\r\\n                    this.faceVertexUvs[ i ] = [];\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\\r\\n\\r\\n                    var uvs = faceVertexUvs[ j ], uvsCopy = [];\\r\\n\\r\\n                    for ( k = 0, kl = uvs.length; k < kl; k ++ ) {\\r\\n\\r\\n                        var uv = uvs[ k ];\\r\\n\\r\\n                        uvsCopy.push( uv.clone() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    this.faceVertexUvs[ i ].push( uvsCopy );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // morph targets\\r\\n\\r\\n            var morphTargets = source.morphTargets;\\r\\n\\r\\n            for ( i = 0, il = morphTargets.length; i < il; i ++ ) {\\r\\n\\r\\n                var morphTarget = {};\\r\\n                morphTarget.name = morphTargets[ i ].name;\\r\\n\\r\\n                // vertices\\r\\n\\r\\n                if ( morphTargets[ i ].vertices !== undefined ) {\\r\\n\\r\\n                    morphTarget.vertices = [];\\r\\n\\r\\n                    for ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\\r\\n\\r\\n                        morphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                // normals\\r\\n\\r\\n                if ( morphTargets[ i ].normals !== undefined ) {\\r\\n\\r\\n                    morphTarget.normals = [];\\r\\n\\r\\n                    for ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\\r\\n\\r\\n                        morphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                this.morphTargets.push( morphTarget );\\r\\n\\r\\n            }\\r\\n\\r\\n            // morph normals\\r\\n\\r\\n            var morphNormals = source.morphNormals;\\r\\n\\r\\n            for ( i = 0, il = morphNormals.length; i < il; i ++ ) {\\r\\n\\r\\n                var morphNormal = {};\\r\\n\\r\\n                // vertex normals\\r\\n\\r\\n                if ( morphNormals[ i ].vertexNormals !== undefined ) {\\r\\n\\r\\n                    morphNormal.vertexNormals = [];\\r\\n\\r\\n                    for ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\\r\\n\\r\\n                        var srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\\r\\n                        var destVertexNormal = {};\\r\\n\\r\\n                        destVertexNormal.a = srcVertexNormal.a.clone();\\r\\n                        destVertexNormal.b = srcVertexNormal.b.clone();\\r\\n                        destVertexNormal.c = srcVertexNormal.c.clone();\\r\\n\\r\\n                        morphNormal.vertexNormals.push( destVertexNormal );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                // face normals\\r\\n\\r\\n                if ( morphNormals[ i ].faceNormals !== undefined ) {\\r\\n\\r\\n                    morphNormal.faceNormals = [];\\r\\n\\r\\n                    for ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\\r\\n\\r\\n                        morphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                this.morphNormals.push( morphNormal );\\r\\n\\r\\n            }\\r\\n\\r\\n            // skin weights\\r\\n\\r\\n            var skinWeights = source.skinWeights;\\r\\n\\r\\n            for ( i = 0, il = skinWeights.length; i < il; i ++ ) {\\r\\n\\r\\n                this.skinWeights.push( skinWeights[ i ].clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // skin indices\\r\\n\\r\\n            var skinIndices = source.skinIndices;\\r\\n\\r\\n            for ( i = 0, il = skinIndices.length; i < il; i ++ ) {\\r\\n\\r\\n                this.skinIndices.push( skinIndices[ i ].clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // line distances\\r\\n\\r\\n            var lineDistances = source.lineDistances;\\r\\n\\r\\n            for ( i = 0, il = lineDistances.length; i < il; i ++ ) {\\r\\n\\r\\n                this.lineDistances.push( lineDistances[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            // bounding box\\r\\n\\r\\n            var boundingBox = source.boundingBox;\\r\\n\\r\\n            if ( boundingBox !== null ) {\\r\\n\\r\\n                this.boundingBox = boundingBox.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            // bounding sphere\\r\\n\\r\\n            var boundingSphere = source.boundingSphere;\\r\\n\\r\\n            if ( boundingSphere !== null ) {\\r\\n\\r\\n                this.boundingSphere = boundingSphere.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            // update flags\\r\\n\\r\\n            this.elementsNeedUpdate = source.elementsNeedUpdate;\\r\\n            this.verticesNeedUpdate = source.verticesNeedUpdate;\\r\\n            this.uvsNeedUpdate = source.uvsNeedUpdate;\\r\\n            this.normalsNeedUpdate = source.normalsNeedUpdate;\\r\\n            this.colorsNeedUpdate = source.colorsNeedUpdate;\\r\\n            this.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\\r\\n            this.groupsNeedUpdate = source.groupsNeedUpdate;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dispose: function () {\\r\\n\\r\\n            this.dispatchEvent( { type: 'dispose' } );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        if ( Array.isArray( array ) ) {\\r\\n\\r\\n            throw new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.name = '';\\r\\n\\r\\n        this.array = array;\\r\\n        this.itemSize = itemSize;\\r\\n        this.count = array !== undefined ? array.length / itemSize : 0;\\r\\n        this.normalized = normalized === true;\\r\\n\\r\\n        this.dynamic = false;\\r\\n        this.updateRange = { offset: 0, count: - 1 };\\r\\n\\r\\n        this.version = 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            if ( value === true ) this.version ++;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( BufferAttribute.prototype, {\\r\\n\\r\\n        isBufferAttribute: true,\\r\\n\\r\\n        onUploadCallback: function () {},\\r\\n\\r\\n        setArray: function ( array ) {\\r\\n\\r\\n            if ( Array.isArray( array ) ) {\\r\\n\\r\\n                throw new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.count = array !== undefined ? array.length / this.itemSize : 0;\\r\\n            this.array = array;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setDynamic: function ( value ) {\\r\\n\\r\\n            this.dynamic = value;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.name = source.name;\\r\\n            this.array = new source.array.constructor( source.array );\\r\\n            this.itemSize = source.itemSize;\\r\\n            this.count = source.count;\\r\\n            this.normalized = source.normalized;\\r\\n\\r\\n            this.dynamic = source.dynamic;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyAt: function ( index1, attribute, index2 ) {\\r\\n\\r\\n            index1 *= this.itemSize;\\r\\n            index2 *= attribute.itemSize;\\r\\n\\r\\n            for ( var i = 0, l = this.itemSize; i < l; i ++ ) {\\r\\n\\r\\n                this.array[ index1 + i ] = attribute.array[ index2 + i ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyArray: function ( array ) {\\r\\n\\r\\n            this.array.set( array );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyColorsArray: function ( colors ) {\\r\\n\\r\\n            var array = this.array, offset = 0;\\r\\n\\r\\n            for ( var i = 0, l = colors.length; i < l; i ++ ) {\\r\\n\\r\\n                var color = colors[ i ];\\r\\n\\r\\n                if ( color === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\\r\\n                    color = new Color();\\r\\n\\r\\n                }\\r\\n\\r\\n                array[ offset ++ ] = color.r;\\r\\n                array[ offset ++ ] = color.g;\\r\\n                array[ offset ++ ] = color.b;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyVector2sArray: function ( vectors ) {\\r\\n\\r\\n            var array = this.array, offset = 0;\\r\\n\\r\\n            for ( var i = 0, l = vectors.length; i < l; i ++ ) {\\r\\n\\r\\n                var vector = vectors[ i ];\\r\\n\\r\\n                if ( vector === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\\r\\n                    vector = new Vector2();\\r\\n\\r\\n                }\\r\\n\\r\\n                array[ offset ++ ] = vector.x;\\r\\n                array[ offset ++ ] = vector.y;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyVector3sArray: function ( vectors ) {\\r\\n\\r\\n            var array = this.array, offset = 0;\\r\\n\\r\\n            for ( var i = 0, l = vectors.length; i < l; i ++ ) {\\r\\n\\r\\n                var vector = vectors[ i ];\\r\\n\\r\\n                if ( vector === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\\r\\n                    vector = new Vector3();\\r\\n\\r\\n                }\\r\\n\\r\\n                array[ offset ++ ] = vector.x;\\r\\n                array[ offset ++ ] = vector.y;\\r\\n                array[ offset ++ ] = vector.z;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyVector4sArray: function ( vectors ) {\\r\\n\\r\\n            var array = this.array, offset = 0;\\r\\n\\r\\n            for ( var i = 0, l = vectors.length; i < l; i ++ ) {\\r\\n\\r\\n                var vector = vectors[ i ];\\r\\n\\r\\n                if ( vector === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\\r\\n                    vector = new Vector4();\\r\\n\\r\\n                }\\r\\n\\r\\n                array[ offset ++ ] = vector.x;\\r\\n                array[ offset ++ ] = vector.y;\\r\\n                array[ offset ++ ] = vector.z;\\r\\n                array[ offset ++ ] = vector.w;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this.array.set( value, offset );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getX: function ( index ) {\\r\\n\\r\\n            return this.array[ index * this.itemSize ];\\r\\n\\r\\n        },\\r\\n\\r\\n        setX: function ( index, x ) {\\r\\n\\r\\n            this.array[ index * this.itemSize ] = x;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getY: function ( index ) {\\r\\n\\r\\n            return this.array[ index * this.itemSize + 1 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        setY: function ( index, y ) {\\r\\n\\r\\n            this.array[ index * this.itemSize + 1 ] = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getZ: function ( index ) {\\r\\n\\r\\n            return this.array[ index * this.itemSize + 2 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        setZ: function ( index, z ) {\\r\\n\\r\\n            this.array[ index * this.itemSize + 2 ] = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getW: function ( index ) {\\r\\n\\r\\n            return this.array[ index * this.itemSize + 3 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        setW: function ( index, w ) {\\r\\n\\r\\n            this.array[ index * this.itemSize + 3 ] = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setXY: function ( index, x, y ) {\\r\\n\\r\\n            index *= this.itemSize;\\r\\n\\r\\n            this.array[ index + 0 ] = x;\\r\\n            this.array[ index + 1 ] = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setXYZ: function ( index, x, y, z ) {\\r\\n\\r\\n            index *= this.itemSize;\\r\\n\\r\\n            this.array[ index + 0 ] = x;\\r\\n            this.array[ index + 1 ] = y;\\r\\n            this.array[ index + 2 ] = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setXYZW: function ( index, x, y, z, w ) {\\r\\n\\r\\n            index *= this.itemSize;\\r\\n\\r\\n            this.array[ index + 0 ] = x;\\r\\n            this.array[ index + 1 ] = y;\\r\\n            this.array[ index + 2 ] = z;\\r\\n            this.array[ index + 3 ] = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        onUpload: function ( callback ) {\\r\\n\\r\\n            this.onUploadCallback = callback;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.array, this.itemSize ).copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    function Int8BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Int8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;\\r\\n\\r\\n\\r\\n    function Uint8BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Uint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\\r\\n\\r\\n\\r\\n    function Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Uint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Uint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\\r\\n\\r\\n\\r\\n    function Int16BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Int16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;\\r\\n\\r\\n\\r\\n    function Uint16BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Uint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\\r\\n\\r\\n\\r\\n    function Int32BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Int32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;\\r\\n\\r\\n\\r\\n    function Uint32BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Uint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\\r\\n\\r\\n\\r\\n    function Float32BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Float32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;\\r\\n\\r\\n\\r\\n    function Float64BufferAttribute( array, itemSize, normalized ) {\\r\\n\\r\\n        BufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\\r\\n\\r\\n    }\\r\\n\\r\\n    Float64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\\r\\n    Float64BufferAttribute.prototype.constructor = Float64BufferAttribute;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function DirectGeometry() {\\r\\n\\r\\n        this.vertices = [];\\r\\n        this.normals = [];\\r\\n        this.colors = [];\\r\\n        this.uvs = [];\\r\\n        this.uvs2 = [];\\r\\n\\r\\n        this.groups = [];\\r\\n\\r\\n        this.morphTargets = {};\\r\\n\\r\\n        this.skinWeights = [];\\r\\n        this.skinIndices = [];\\r\\n\\r\\n        // this.lineDistances = [];\\r\\n\\r\\n        this.boundingBox = null;\\r\\n        this.boundingSphere = null;\\r\\n\\r\\n        // update flags\\r\\n\\r\\n        this.verticesNeedUpdate = false;\\r\\n        this.normalsNeedUpdate = false;\\r\\n        this.colorsNeedUpdate = false;\\r\\n        this.uvsNeedUpdate = false;\\r\\n        this.groupsNeedUpdate = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( DirectGeometry.prototype, {\\r\\n\\r\\n        computeGroups: function ( geometry ) {\\r\\n\\r\\n            var group;\\r\\n            var groups = [];\\r\\n            var materialIndex = undefined;\\r\\n\\r\\n            var faces = geometry.faces;\\r\\n\\r\\n            for ( var i = 0; i < faces.length; i ++ ) {\\r\\n\\r\\n                var face = faces[ i ];\\r\\n\\r\\n                // materials\\r\\n\\r\\n                if ( face.materialIndex !== materialIndex ) {\\r\\n\\r\\n                    materialIndex = face.materialIndex;\\r\\n\\r\\n                    if ( group !== undefined ) {\\r\\n\\r\\n                        group.count = ( i * 3 ) - group.start;\\r\\n                        groups.push( group );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    group = {\\r\\n                        start: i * 3,\\r\\n                        materialIndex: materialIndex\\r\\n                    };\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( group !== undefined ) {\\r\\n\\r\\n                group.count = ( i * 3 ) - group.start;\\r\\n                groups.push( group );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.groups = groups;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromGeometry: function ( geometry ) {\\r\\n\\r\\n            var faces = geometry.faces;\\r\\n            var vertices = geometry.vertices;\\r\\n            var faceVertexUvs = geometry.faceVertexUvs;\\r\\n\\r\\n            var hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\\r\\n            var hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\\r\\n\\r\\n            // morphs\\r\\n\\r\\n            var morphTargets = geometry.morphTargets;\\r\\n            var morphTargetsLength = morphTargets.length;\\r\\n\\r\\n            var morphTargetsPosition;\\r\\n\\r\\n            if ( morphTargetsLength > 0 ) {\\r\\n\\r\\n                morphTargetsPosition = [];\\r\\n\\r\\n                for ( var i = 0; i < morphTargetsLength; i ++ ) {\\r\\n\\r\\n                    morphTargetsPosition[ i ] = {\\r\\n                        name: morphTargets[ i ].name,\\r\\n                        data: []\\r\\n                    };\\r\\n\\r\\n                }\\r\\n\\r\\n                this.morphTargets.position = morphTargetsPosition;\\r\\n\\r\\n            }\\r\\n\\r\\n            var morphNormals = geometry.morphNormals;\\r\\n            var morphNormalsLength = morphNormals.length;\\r\\n\\r\\n            var morphTargetsNormal;\\r\\n\\r\\n            if ( morphNormalsLength > 0 ) {\\r\\n\\r\\n                morphTargetsNormal = [];\\r\\n\\r\\n                for ( var i = 0; i < morphNormalsLength; i ++ ) {\\r\\n\\r\\n                    morphTargetsNormal[ i ] = {\\r\\n                        name: morphNormals[ i ].name,\\r\\n                        data: []\\r\\n                    };\\r\\n\\r\\n                }\\r\\n\\r\\n                this.morphTargets.normal = morphTargetsNormal;\\r\\n\\r\\n            }\\r\\n\\r\\n            // skins\\r\\n\\r\\n            var skinIndices = geometry.skinIndices;\\r\\n            var skinWeights = geometry.skinWeights;\\r\\n\\r\\n            var hasSkinIndices = skinIndices.length === vertices.length;\\r\\n            var hasSkinWeights = skinWeights.length === vertices.length;\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( vertices.length > 0 && faces.length === 0 ) {\\r\\n\\r\\n                console.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0; i < faces.length; i ++ ) {\\r\\n\\r\\n                var face = faces[ i ];\\r\\n\\r\\n                this.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\\r\\n\\r\\n                var vertexNormals = face.vertexNormals;\\r\\n\\r\\n                if ( vertexNormals.length === 3 ) {\\r\\n\\r\\n                    this.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    var normal = face.normal;\\r\\n\\r\\n                    this.normals.push( normal, normal, normal );\\r\\n\\r\\n                }\\r\\n\\r\\n                var vertexColors = face.vertexColors;\\r\\n\\r\\n                if ( vertexColors.length === 3 ) {\\r\\n\\r\\n                    this.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    var color = face.color;\\r\\n\\r\\n                    this.colors.push( color, color, color );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasFaceVertexUv === true ) {\\r\\n\\r\\n                    var vertexUvs = faceVertexUvs[ 0 ][ i ];\\r\\n\\r\\n                    if ( vertexUvs !== undefined ) {\\r\\n\\r\\n                        this.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        console.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\\r\\n\\r\\n                        this.uvs.push( new Vector2(), new Vector2(), new Vector2() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasFaceVertexUv2 === true ) {\\r\\n\\r\\n                    var vertexUvs = faceVertexUvs[ 1 ][ i ];\\r\\n\\r\\n                    if ( vertexUvs !== undefined ) {\\r\\n\\r\\n                        this.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        console.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\\r\\n\\r\\n                        this.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                // morphs\\r\\n\\r\\n                for ( var j = 0; j < morphTargetsLength; j ++ ) {\\r\\n\\r\\n                    var morphTarget = morphTargets[ j ].vertices;\\r\\n\\r\\n                    morphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( var j = 0; j < morphNormalsLength; j ++ ) {\\r\\n\\r\\n                    var morphNormal = morphNormals[ j ].vertexNormals[ i ];\\r\\n\\r\\n                    morphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\\r\\n\\r\\n                }\\r\\n\\r\\n                // skins\\r\\n\\r\\n                if ( hasSkinIndices ) {\\r\\n\\r\\n                    this.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( hasSkinWeights ) {\\r\\n\\r\\n                    this.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            this.computeGroups( geometry );\\r\\n\\r\\n            this.verticesNeedUpdate = geometry.verticesNeedUpdate;\\r\\n            this.normalsNeedUpdate = geometry.normalsNeedUpdate;\\r\\n            this.colorsNeedUpdate = geometry.colorsNeedUpdate;\\r\\n            this.uvsNeedUpdate = geometry.uvsNeedUpdate;\\r\\n            this.groupsNeedUpdate = geometry.groupsNeedUpdate;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function arrayMax( array ) {\\r\\n\\r\\n        if ( array.length === 0 ) return - Infinity;\\r\\n\\r\\n        var max = array[ 0 ];\\r\\n\\r\\n        for ( var i = 1, l = array.length; i < l; ++ i ) {\\r\\n\\r\\n            if ( array[ i ] > max ) max = array[ i ];\\r\\n\\r\\n        }\\r\\n\\r\\n        return max;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\\r\\n\\r\\n    function BufferGeometry() {\\r\\n\\r\\n        Object.defineProperty( this, 'id', { value: bufferGeometryId += 2 } );\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        this.name = '';\\r\\n        this.type = 'BufferGeometry';\\r\\n\\r\\n        this.index = null;\\r\\n        this.attributes = {};\\r\\n\\r\\n        this.morphAttributes = {};\\r\\n\\r\\n        this.groups = [];\\r\\n\\r\\n        this.boundingBox = null;\\r\\n        this.boundingSphere = null;\\r\\n\\r\\n        this.drawRange = { start: 0, count: Infinity };\\r\\n\\r\\n        this.userData = {};\\r\\n\\r\\n    }\\r\\n\\r\\n    BufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: BufferGeometry,\\r\\n\\r\\n        isBufferGeometry: true,\\r\\n\\r\\n        getIndex: function () {\\r\\n\\r\\n            return this.index;\\r\\n\\r\\n        },\\r\\n\\r\\n        setIndex: function ( index ) {\\r\\n\\r\\n            if ( Array.isArray( index ) ) {\\r\\n\\r\\n                this.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.index = index;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        addAttribute: function ( name, attribute ) {\\r\\n\\r\\n            if ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\\r\\n\\r\\n                console.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\\r\\n\\r\\n                return this.addAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( name === 'index' ) {\\r\\n\\r\\n                console.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\\r\\n                this.setIndex( attribute );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.attributes[ name ] = attribute;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getAttribute: function ( name ) {\\r\\n\\r\\n            return this.attributes[ name ];\\r\\n\\r\\n        },\\r\\n\\r\\n        removeAttribute: function ( name ) {\\r\\n\\r\\n            delete this.attributes[ name ];\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addGroup: function ( start, count, materialIndex ) {\\r\\n\\r\\n            this.groups.push( {\\r\\n\\r\\n                start: start,\\r\\n                count: count,\\r\\n                materialIndex: materialIndex !== undefined ? materialIndex : 0\\r\\n\\r\\n            } );\\r\\n\\r\\n        },\\r\\n\\r\\n        clearGroups: function () {\\r\\n\\r\\n            this.groups = [];\\r\\n\\r\\n        },\\r\\n\\r\\n        setDrawRange: function ( start, count ) {\\r\\n\\r\\n            this.drawRange.start = start;\\r\\n            this.drawRange.count = count;\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix: function ( matrix ) {\\r\\n\\r\\n            var position = this.attributes.position;\\r\\n\\r\\n            if ( position !== undefined ) {\\r\\n\\r\\n                matrix.applyToBufferAttribute( position );\\r\\n                position.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            var normal = this.attributes.normal;\\r\\n\\r\\n            if ( normal !== undefined ) {\\r\\n\\r\\n                var normalMatrix = new Matrix3().getNormalMatrix( matrix );\\r\\n\\r\\n                normalMatrix.applyToBufferAttribute( normal );\\r\\n                normal.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.boundingBox !== null ) {\\r\\n\\r\\n                this.computeBoundingBox();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.boundingSphere !== null ) {\\r\\n\\r\\n                this.computeBoundingSphere();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        rotateX: function () {\\r\\n\\r\\n            // rotate geometry around world x-axis\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function rotateX( angle ) {\\r\\n\\r\\n                m1.makeRotationX( angle );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateY: function () {\\r\\n\\r\\n            // rotate geometry around world y-axis\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function rotateY( angle ) {\\r\\n\\r\\n                m1.makeRotationY( angle );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        rotateZ: function () {\\r\\n\\r\\n            // rotate geometry around world z-axis\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function rotateZ( angle ) {\\r\\n\\r\\n                m1.makeRotationZ( angle );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        translate: function () {\\r\\n\\r\\n            // translate geometry\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function translate( x, y, z ) {\\r\\n\\r\\n                m1.makeTranslation( x, y, z );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        scale: function () {\\r\\n\\r\\n            // scale geometry\\r\\n\\r\\n            var m1 = new Matrix4();\\r\\n\\r\\n            return function scale( x, y, z ) {\\r\\n\\r\\n                m1.makeScale( x, y, z );\\r\\n\\r\\n                this.applyMatrix( m1 );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        lookAt: function () {\\r\\n\\r\\n            var obj = new Object3D();\\r\\n\\r\\n            return function lookAt( vector ) {\\r\\n\\r\\n                obj.lookAt( vector );\\r\\n\\r\\n                obj.updateMatrix();\\r\\n\\r\\n                this.applyMatrix( obj.matrix );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        center: function () {\\r\\n\\r\\n            var offset = new Vector3();\\r\\n\\r\\n            return function center() {\\r\\n\\r\\n                this.computeBoundingBox();\\r\\n\\r\\n                this.boundingBox.getCenter( offset ).negate();\\r\\n\\r\\n                this.translate( offset.x, offset.y, offset.z );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        setFromObject: function ( object ) {\\r\\n\\r\\n            // console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\\r\\n\\r\\n            var geometry = object.geometry;\\r\\n\\r\\n            if ( object.isPoints || object.isLine ) {\\r\\n\\r\\n                var positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\\r\\n                var colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\\r\\n\\r\\n                this.addAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\\r\\n                this.addAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\\r\\n\\r\\n                if ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\\r\\n\\r\\n                    var lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\\r\\n\\r\\n                    this.addAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( geometry.boundingSphere !== null ) {\\r\\n\\r\\n                    this.boundingSphere = geometry.boundingSphere.clone();\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( geometry.boundingBox !== null ) {\\r\\n\\r\\n                    this.boundingBox = geometry.boundingBox.clone();\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( object.isMesh ) {\\r\\n\\r\\n                if ( geometry && geometry.isGeometry ) {\\r\\n\\r\\n                    this.fromGeometry( geometry );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromPoints: function ( points ) {\\r\\n\\r\\n            var position = [];\\r\\n\\r\\n            for ( var i = 0, l = points.length; i < l; i ++ ) {\\r\\n\\r\\n                var point = points[ i ];\\r\\n                position.push( point.x, point.y, point.z || 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.addAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        updateFromObject: function ( object ) {\\r\\n\\r\\n            var geometry = object.geometry;\\r\\n\\r\\n            if ( object.isMesh ) {\\r\\n\\r\\n                var direct = geometry.__directGeometry;\\r\\n\\r\\n                if ( geometry.elementsNeedUpdate === true ) {\\r\\n\\r\\n                    direct = undefined;\\r\\n                    geometry.elementsNeedUpdate = false;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( direct === undefined ) {\\r\\n\\r\\n                    return this.fromGeometry( geometry );\\r\\n\\r\\n                }\\r\\n\\r\\n                direct.verticesNeedUpdate = geometry.verticesNeedUpdate;\\r\\n                direct.normalsNeedUpdate = geometry.normalsNeedUpdate;\\r\\n                direct.colorsNeedUpdate = geometry.colorsNeedUpdate;\\r\\n                direct.uvsNeedUpdate = geometry.uvsNeedUpdate;\\r\\n                direct.groupsNeedUpdate = geometry.groupsNeedUpdate;\\r\\n\\r\\n                geometry.verticesNeedUpdate = false;\\r\\n                geometry.normalsNeedUpdate = false;\\r\\n                geometry.colorsNeedUpdate = false;\\r\\n                geometry.uvsNeedUpdate = false;\\r\\n                geometry.groupsNeedUpdate = false;\\r\\n\\r\\n                geometry = direct;\\r\\n\\r\\n            }\\r\\n\\r\\n            var attribute;\\r\\n\\r\\n            if ( geometry.verticesNeedUpdate === true ) {\\r\\n\\r\\n                attribute = this.attributes.position;\\r\\n\\r\\n                if ( attribute !== undefined ) {\\r\\n\\r\\n                    attribute.copyVector3sArray( geometry.vertices );\\r\\n                    attribute.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.verticesNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.normalsNeedUpdate === true ) {\\r\\n\\r\\n                attribute = this.attributes.normal;\\r\\n\\r\\n                if ( attribute !== undefined ) {\\r\\n\\r\\n                    attribute.copyVector3sArray( geometry.normals );\\r\\n                    attribute.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.normalsNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.colorsNeedUpdate === true ) {\\r\\n\\r\\n                attribute = this.attributes.color;\\r\\n\\r\\n                if ( attribute !== undefined ) {\\r\\n\\r\\n                    attribute.copyColorsArray( geometry.colors );\\r\\n                    attribute.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.colorsNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.uvsNeedUpdate ) {\\r\\n\\r\\n                attribute = this.attributes.uv;\\r\\n\\r\\n                if ( attribute !== undefined ) {\\r\\n\\r\\n                    attribute.copyVector2sArray( geometry.uvs );\\r\\n                    attribute.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.uvsNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.lineDistancesNeedUpdate ) {\\r\\n\\r\\n                attribute = this.attributes.lineDistance;\\r\\n\\r\\n                if ( attribute !== undefined ) {\\r\\n\\r\\n                    attribute.copyArray( geometry.lineDistances );\\r\\n                    attribute.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.lineDistancesNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.groupsNeedUpdate ) {\\r\\n\\r\\n                geometry.computeGroups( object.geometry );\\r\\n                this.groups = geometry.groups;\\r\\n\\r\\n                geometry.groupsNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromGeometry: function ( geometry ) {\\r\\n\\r\\n            geometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\\r\\n\\r\\n            return this.fromDirectGeometry( geometry.__directGeometry );\\r\\n\\r\\n        },\\r\\n\\r\\n        fromDirectGeometry: function ( geometry ) {\\r\\n\\r\\n            var positions = new Float32Array( geometry.vertices.length * 3 );\\r\\n            this.addAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\\r\\n\\r\\n            if ( geometry.normals.length > 0 ) {\\r\\n\\r\\n                var normals = new Float32Array( geometry.normals.length * 3 );\\r\\n                this.addAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.colors.length > 0 ) {\\r\\n\\r\\n                var colors = new Float32Array( geometry.colors.length * 3 );\\r\\n                this.addAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.uvs.length > 0 ) {\\r\\n\\r\\n                var uvs = new Float32Array( geometry.uvs.length * 2 );\\r\\n                this.addAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.uvs2.length > 0 ) {\\r\\n\\r\\n                var uvs2 = new Float32Array( geometry.uvs2.length * 2 );\\r\\n                this.addAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            // groups\\r\\n\\r\\n            this.groups = geometry.groups;\\r\\n\\r\\n            // morphs\\r\\n\\r\\n            for ( var name in geometry.morphTargets ) {\\r\\n\\r\\n                var array = [];\\r\\n                var morphTargets = geometry.morphTargets[ name ];\\r\\n\\r\\n                for ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\\r\\n\\r\\n                    var morphTarget = morphTargets[ i ];\\r\\n\\r\\n                    var attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\\r\\n                    attribute.name = morphTarget.name;\\r\\n\\r\\n                    array.push( attribute.copyVector3sArray( morphTarget.data ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.morphAttributes[ name ] = array;\\r\\n\\r\\n            }\\r\\n\\r\\n            // skinning\\r\\n\\r\\n            if ( geometry.skinIndices.length > 0 ) {\\r\\n\\r\\n                var skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\\r\\n                this.addAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.skinWeights.length > 0 ) {\\r\\n\\r\\n                var skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\\r\\n                this.addAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( geometry.boundingSphere !== null ) {\\r\\n\\r\\n                this.boundingSphere = geometry.boundingSphere.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry.boundingBox !== null ) {\\r\\n\\r\\n                this.boundingBox = geometry.boundingBox.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        computeBoundingBox: function () {\\r\\n\\r\\n            if ( this.boundingBox === null ) {\\r\\n\\r\\n                this.boundingBox = new Box3();\\r\\n\\r\\n            }\\r\\n\\r\\n            var position = this.attributes.position;\\r\\n\\r\\n            if ( position !== undefined ) {\\r\\n\\r\\n                this.boundingBox.setFromBufferAttribute( position );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.boundingBox.makeEmpty();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\\r\\n\\r\\n                console.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \\\"position\\\" attribute is likely to have NaN values.', this );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        computeBoundingSphere: function () {\\r\\n\\r\\n            var box = new Box3();\\r\\n            var vector = new Vector3();\\r\\n\\r\\n            return function computeBoundingSphere() {\\r\\n\\r\\n                if ( this.boundingSphere === null ) {\\r\\n\\r\\n                    this.boundingSphere = new Sphere();\\r\\n\\r\\n                }\\r\\n\\r\\n                var position = this.attributes.position;\\r\\n\\r\\n                if ( position ) {\\r\\n\\r\\n                    var center = this.boundingSphere.center;\\r\\n\\r\\n                    box.setFromBufferAttribute( position );\\r\\n                    box.getCenter( center );\\r\\n\\r\\n                    // hoping to find a boundingSphere with a radius smaller than the\\r\\n                    // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\\r\\n\\r\\n                    var maxRadiusSq = 0;\\r\\n\\r\\n                    for ( var i = 0, il = position.count; i < il; i ++ ) {\\r\\n\\r\\n                        vector.x = position.getX( i );\\r\\n                        vector.y = position.getY( i );\\r\\n                        vector.z = position.getZ( i );\\r\\n                        maxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( vector ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    this.boundingSphere.radius = Math.sqrt( maxRadiusSq );\\r\\n\\r\\n                    if ( isNaN( this.boundingSphere.radius ) ) {\\r\\n\\r\\n                        console.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \\\"position\\\" attribute is likely to have NaN values.', this );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        computeFaceNormals: function () {\\r\\n\\r\\n            // backwards compatibility\\r\\n\\r\\n        },\\r\\n\\r\\n        computeVertexNormals: function () {\\r\\n\\r\\n            var index = this.index;\\r\\n            var attributes = this.attributes;\\r\\n\\r\\n            if ( attributes.position ) {\\r\\n\\r\\n                var positions = attributes.position.array;\\r\\n\\r\\n                if ( attributes.normal === undefined ) {\\r\\n\\r\\n                    this.addAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // reset existing normals to zero\\r\\n\\r\\n                    var array = attributes.normal.array;\\r\\n\\r\\n                    for ( var i = 0, il = array.length; i < il; i ++ ) {\\r\\n\\r\\n                        array[ i ] = 0;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                var normals = attributes.normal.array;\\r\\n\\r\\n                var vA, vB, vC;\\r\\n                var pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\\r\\n                var cb = new Vector3(), ab = new Vector3();\\r\\n\\r\\n                // indexed elements\\r\\n\\r\\n                if ( index ) {\\r\\n\\r\\n                    var indices = index.array;\\r\\n\\r\\n                    for ( var i = 0, il = index.count; i < il; i += 3 ) {\\r\\n\\r\\n                        vA = indices[ i + 0 ] * 3;\\r\\n                        vB = indices[ i + 1 ] * 3;\\r\\n                        vC = indices[ i + 2 ] * 3;\\r\\n\\r\\n                        pA.fromArray( positions, vA );\\r\\n                        pB.fromArray( positions, vB );\\r\\n                        pC.fromArray( positions, vC );\\r\\n\\r\\n                        cb.subVectors( pC, pB );\\r\\n                        ab.subVectors( pA, pB );\\r\\n                        cb.cross( ab );\\r\\n\\r\\n                        normals[ vA ] += cb.x;\\r\\n                        normals[ vA + 1 ] += cb.y;\\r\\n                        normals[ vA + 2 ] += cb.z;\\r\\n\\r\\n                        normals[ vB ] += cb.x;\\r\\n                        normals[ vB + 1 ] += cb.y;\\r\\n                        normals[ vB + 2 ] += cb.z;\\r\\n\\r\\n                        normals[ vC ] += cb.x;\\r\\n                        normals[ vC + 1 ] += cb.y;\\r\\n                        normals[ vC + 2 ] += cb.z;\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // non-indexed elements (unconnected triangle soup)\\r\\n\\r\\n                    for ( var i = 0, il = positions.length; i < il; i += 9 ) {\\r\\n\\r\\n                        pA.fromArray( positions, i );\\r\\n                        pB.fromArray( positions, i + 3 );\\r\\n                        pC.fromArray( positions, i + 6 );\\r\\n\\r\\n                        cb.subVectors( pC, pB );\\r\\n                        ab.subVectors( pA, pB );\\r\\n                        cb.cross( ab );\\r\\n\\r\\n                        normals[ i ] = cb.x;\\r\\n                        normals[ i + 1 ] = cb.y;\\r\\n                        normals[ i + 2 ] = cb.z;\\r\\n\\r\\n                        normals[ i + 3 ] = cb.x;\\r\\n                        normals[ i + 4 ] = cb.y;\\r\\n                        normals[ i + 5 ] = cb.z;\\r\\n\\r\\n                        normals[ i + 6 ] = cb.x;\\r\\n                        normals[ i + 7 ] = cb.y;\\r\\n                        normals[ i + 8 ] = cb.z;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                this.normalizeNormals();\\r\\n\\r\\n                attributes.normal.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        merge: function ( geometry, offset ) {\\r\\n\\r\\n            if ( ! ( geometry && geometry.isBufferGeometry ) ) {\\r\\n\\r\\n                console.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( offset === undefined ) {\\r\\n\\r\\n                offset = 0;\\r\\n\\r\\n                console.warn(\\r\\n                    'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\\r\\n                    + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\\r\\n                );\\r\\n\\r\\n            }\\r\\n\\r\\n            var attributes = this.attributes;\\r\\n\\r\\n            for ( var key in attributes ) {\\r\\n\\r\\n                if ( geometry.attributes[ key ] === undefined ) continue;\\r\\n\\r\\n                var attribute1 = attributes[ key ];\\r\\n                var attributeArray1 = attribute1.array;\\r\\n\\r\\n                var attribute2 = geometry.attributes[ key ];\\r\\n                var attributeArray2 = attribute2.array;\\r\\n\\r\\n                var attributeSize = attribute2.itemSize;\\r\\n\\r\\n                for ( var i = 0, j = attributeSize * offset; i < attributeArray2.length; i ++, j ++ ) {\\r\\n\\r\\n                    attributeArray1[ j ] = attributeArray2[ i ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        normalizeNormals: function () {\\r\\n\\r\\n            var vector = new Vector3();\\r\\n\\r\\n            return function normalizeNormals() {\\r\\n\\r\\n                var normals = this.attributes.normal;\\r\\n\\r\\n                for ( var i = 0, il = normals.count; i < il; i ++ ) {\\r\\n\\r\\n                    vector.x = normals.getX( i );\\r\\n                    vector.y = normals.getY( i );\\r\\n                    vector.z = normals.getZ( i );\\r\\n\\r\\n                    vector.normalize();\\r\\n\\r\\n                    normals.setXYZ( i, vector.x, vector.y, vector.z );\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        toNonIndexed: function () {\\r\\n\\r\\n            if ( this.index === null ) {\\r\\n\\r\\n                console.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            var geometry2 = new BufferGeometry();\\r\\n\\r\\n            var indices = this.index.array;\\r\\n            var attributes = this.attributes;\\r\\n\\r\\n            for ( var name in attributes ) {\\r\\n\\r\\n                var attribute = attributes[ name ];\\r\\n\\r\\n                var array = attribute.array;\\r\\n                var itemSize = attribute.itemSize;\\r\\n\\r\\n                var array2 = new array.constructor( indices.length * itemSize );\\r\\n\\r\\n                var index = 0, index2 = 0;\\r\\n\\r\\n                for ( var i = 0, l = indices.length; i < l; i ++ ) {\\r\\n\\r\\n                    index = indices[ i ] * itemSize;\\r\\n\\r\\n                    for ( var j = 0; j < itemSize; j ++ ) {\\r\\n\\r\\n                        array2[ index2 ++ ] = array[ index ++ ];\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry2.addAttribute( name, new BufferAttribute( array2, itemSize ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            var groups = this.groups;\\r\\n\\r\\n            for ( var i = 0, l = groups.length; i < l; i ++ ) {\\r\\n\\r\\n                var group = groups[ i ];\\r\\n                geometry2.addGroup( group.start, group.count, group.materialIndex );\\r\\n\\r\\n            }\\r\\n\\r\\n            return geometry2;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var data = {\\r\\n                metadata: {\\r\\n                    version: 4.5,\\r\\n                    type: 'BufferGeometry',\\r\\n                    generator: 'BufferGeometry.toJSON'\\r\\n                }\\r\\n            };\\r\\n\\r\\n            // standard BufferGeometry serialization\\r\\n\\r\\n            data.uuid = this.uuid;\\r\\n            data.type = this.type;\\r\\n            if ( this.name !== '' ) data.name = this.name;\\r\\n            if ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\\r\\n\\r\\n            if ( this.parameters !== undefined ) {\\r\\n\\r\\n                var parameters = this.parameters;\\r\\n\\r\\n                for ( var key in parameters ) {\\r\\n\\r\\n                    if ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\\r\\n\\r\\n                }\\r\\n\\r\\n                return data;\\r\\n\\r\\n            }\\r\\n\\r\\n            data.data = { attributes: {} };\\r\\n\\r\\n            var index = this.index;\\r\\n\\r\\n            if ( index !== null ) {\\r\\n\\r\\n                var array = Array.prototype.slice.call( index.array );\\r\\n\\r\\n                data.data.index = {\\r\\n                    type: index.array.constructor.name,\\r\\n                    array: array\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            var attributes = this.attributes;\\r\\n\\r\\n            for ( var key in attributes ) {\\r\\n\\r\\n                var attribute = attributes[ key ];\\r\\n\\r\\n                var array = Array.prototype.slice.call( attribute.array );\\r\\n\\r\\n                data.data.attributes[ key ] = {\\r\\n                    itemSize: attribute.itemSize,\\r\\n                    type: attribute.array.constructor.name,\\r\\n                    array: array,\\r\\n                    normalized: attribute.normalized\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            var groups = this.groups;\\r\\n\\r\\n            if ( groups.length > 0 ) {\\r\\n\\r\\n                data.data.groups = JSON.parse( JSON.stringify( groups ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            var boundingSphere = this.boundingSphere;\\r\\n\\r\\n            if ( boundingSphere !== null ) {\\r\\n\\r\\n                data.data.boundingSphere = {\\r\\n                    center: boundingSphere.center.toArray(),\\r\\n                    radius: boundingSphere.radius\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            /*\\r\\n\\t\\t\\t // Handle primitives\\r\\n\\r\\n\\t\\t\\t var parameters = this.parameters;\\r\\n\\r\\n\\t\\t\\t if ( parameters !== undefined ) {\\r\\n\\r\\n\\t\\t\\t var values = [];\\r\\n\\r\\n\\t\\t\\t for ( var key in parameters ) {\\r\\n\\r\\n\\t\\t\\t values.push( parameters[ key ] );\\r\\n\\r\\n\\t\\t\\t }\\r\\n\\r\\n\\t\\t\\t var geometry = Object.create( this.constructor.prototype );\\r\\n\\t\\t\\t this.constructor.apply( geometry, values );\\r\\n\\t\\t\\t return geometry;\\r\\n\\r\\n\\t\\t\\t }\\r\\n\\r\\n\\t\\t\\t return new this.constructor().copy( this );\\r\\n\\t\\t\\t */\\r\\n\\r\\n            return new BufferGeometry().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            var name, i, l;\\r\\n\\r\\n            // reset\\r\\n\\r\\n            this.index = null;\\r\\n            this.attributes = {};\\r\\n            this.morphAttributes = {};\\r\\n            this.groups = [];\\r\\n            this.boundingBox = null;\\r\\n            this.boundingSphere = null;\\r\\n\\r\\n            // name\\r\\n\\r\\n            this.name = source.name;\\r\\n\\r\\n            // index\\r\\n\\r\\n            var index = source.index;\\r\\n\\r\\n            if ( index !== null ) {\\r\\n\\r\\n                this.setIndex( index.clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // attributes\\r\\n\\r\\n            var attributes = source.attributes;\\r\\n\\r\\n            for ( name in attributes ) {\\r\\n\\r\\n                var attribute = attributes[ name ];\\r\\n                this.addAttribute( name, attribute.clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            // morph attributes\\r\\n\\r\\n            var morphAttributes = source.morphAttributes;\\r\\n\\r\\n            for ( name in morphAttributes ) {\\r\\n\\r\\n                var array = [];\\r\\n                var morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\\r\\n\\r\\n                for ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\\r\\n\\r\\n                    array.push( morphAttribute[ i ].clone() );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.morphAttributes[ name ] = array;\\r\\n\\r\\n            }\\r\\n\\r\\n            // groups\\r\\n\\r\\n            var groups = source.groups;\\r\\n\\r\\n            for ( i = 0, l = groups.length; i < l; i ++ ) {\\r\\n\\r\\n                var group = groups[ i ];\\r\\n                this.addGroup( group.start, group.count, group.materialIndex );\\r\\n\\r\\n            }\\r\\n\\r\\n            // bounding box\\r\\n\\r\\n            var boundingBox = source.boundingBox;\\r\\n\\r\\n            if ( boundingBox !== null ) {\\r\\n\\r\\n                this.boundingBox = boundingBox.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            // bounding sphere\\r\\n\\r\\n            var boundingSphere = source.boundingSphere;\\r\\n\\r\\n            if ( boundingSphere !== null ) {\\r\\n\\r\\n                this.boundingSphere = boundingSphere.clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            // draw range\\r\\n\\r\\n            this.drawRange.start = source.drawRange.start;\\r\\n            this.drawRange.count = source.drawRange.count;\\r\\n\\r\\n            // user data\\r\\n\\r\\n            this.userData = source.userData;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dispose: function () {\\r\\n\\r\\n            this.dispatchEvent( { type: 'dispose' } );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // BoxGeometry\\r\\n\\r\\n    function BoxGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'BoxGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            width: width,\\r\\n            height: height,\\r\\n            depth: depth,\\r\\n            widthSegments: widthSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            depthSegments: depthSegments\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    BoxGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    BoxGeometry.prototype.constructor = BoxGeometry;\\r\\n\\r\\n    // BoxBufferGeometry\\r\\n\\r\\n    function BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'BoxBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            width: width,\\r\\n            height: height,\\r\\n            depth: depth,\\r\\n            widthSegments: widthSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            depthSegments: depthSegments\\r\\n        };\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        width = width || 1;\\r\\n        height = height || 1;\\r\\n        depth = depth || 1;\\r\\n\\r\\n        // segments\\r\\n\\r\\n        widthSegments = Math.floor( widthSegments ) || 1;\\r\\n        heightSegments = Math.floor( heightSegments ) || 1;\\r\\n        depthSegments = Math.floor( depthSegments ) || 1;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var numberOfVertices = 0;\\r\\n        var groupStart = 0;\\r\\n\\r\\n        // build each side of the box geometry\\r\\n\\r\\n        buildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\\r\\n        buildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\\r\\n        buildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\\r\\n        buildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\\r\\n        buildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\\r\\n        buildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n        function buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\\r\\n\\r\\n            var segmentWidth = width / gridX;\\r\\n            var segmentHeight = height / gridY;\\r\\n\\r\\n            var widthHalf = width / 2;\\r\\n            var heightHalf = height / 2;\\r\\n            var depthHalf = depth / 2;\\r\\n\\r\\n            var gridX1 = gridX + 1;\\r\\n            var gridY1 = gridY + 1;\\r\\n\\r\\n            var vertexCounter = 0;\\r\\n            var groupCount = 0;\\r\\n\\r\\n            var ix, iy;\\r\\n\\r\\n            var vector = new Vector3();\\r\\n\\r\\n            // generate vertices, normals and uvs\\r\\n\\r\\n            for ( iy = 0; iy < gridY1; iy ++ ) {\\r\\n\\r\\n                var y = iy * segmentHeight - heightHalf;\\r\\n\\r\\n                for ( ix = 0; ix < gridX1; ix ++ ) {\\r\\n\\r\\n                    var x = ix * segmentWidth - widthHalf;\\r\\n\\r\\n                    // set values to correct vector component\\r\\n\\r\\n                    vector[ u ] = x * udir;\\r\\n                    vector[ v ] = y * vdir;\\r\\n                    vector[ w ] = depthHalf;\\r\\n\\r\\n                    // now apply vector to vertex buffer\\r\\n\\r\\n                    vertices.push( vector.x, vector.y, vector.z );\\r\\n\\r\\n                    // set values to correct vector component\\r\\n\\r\\n                    vector[ u ] = 0;\\r\\n                    vector[ v ] = 0;\\r\\n                    vector[ w ] = depth > 0 ? 1 : - 1;\\r\\n\\r\\n                    // now apply vector to normal buffer\\r\\n\\r\\n                    normals.push( vector.x, vector.y, vector.z );\\r\\n\\r\\n                    // uvs\\r\\n\\r\\n                    uvs.push( ix / gridX );\\r\\n                    uvs.push( 1 - ( iy / gridY ) );\\r\\n\\r\\n                    // counters\\r\\n\\r\\n                    vertexCounter += 1;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // indices\\r\\n\\r\\n            // 1. you need three indices to draw a single face\\r\\n            // 2. a single segment consists of two faces\\r\\n            // 3. so we need to generate six (2*3) indices per segment\\r\\n\\r\\n            for ( iy = 0; iy < gridY; iy ++ ) {\\r\\n\\r\\n                for ( ix = 0; ix < gridX; ix ++ ) {\\r\\n\\r\\n                    var a = numberOfVertices + ix + gridX1 * iy;\\r\\n                    var b = numberOfVertices + ix + gridX1 * ( iy + 1 );\\r\\n                    var c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\\r\\n                    var d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\\r\\n\\r\\n                    // faces\\r\\n\\r\\n                    indices.push( a, b, d );\\r\\n                    indices.push( b, c, d );\\r\\n\\r\\n                    // increase counter\\r\\n\\r\\n                    groupCount += 6;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // add a group to the geometry. this will ensure multi material support\\r\\n\\r\\n            scope.addGroup( groupStart, groupCount, materialIndex );\\r\\n\\r\\n            // calculate new start value for groups\\r\\n\\r\\n            groupStart += groupCount;\\r\\n\\r\\n            // update total number of vertices\\r\\n\\r\\n            numberOfVertices += vertexCounter;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    BoxBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    BoxBufferGeometry.prototype.constructor = BoxBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // PlaneGeometry\\r\\n\\r\\n    function PlaneGeometry( width, height, widthSegments, heightSegments ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'PlaneGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            width: width,\\r\\n            height: height,\\r\\n            widthSegments: widthSegments,\\r\\n            heightSegments: heightSegments\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    PlaneGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    PlaneGeometry.prototype.constructor = PlaneGeometry;\\r\\n\\r\\n    // PlaneBufferGeometry\\r\\n\\r\\n    function PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'PlaneBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            width: width,\\r\\n            height: height,\\r\\n            widthSegments: widthSegments,\\r\\n            heightSegments: heightSegments\\r\\n        };\\r\\n\\r\\n        width = width || 1;\\r\\n        height = height || 1;\\r\\n\\r\\n        var width_half = width / 2;\\r\\n        var height_half = height / 2;\\r\\n\\r\\n        var gridX = Math.floor( widthSegments ) || 1;\\r\\n        var gridY = Math.floor( heightSegments ) || 1;\\r\\n\\r\\n        var gridX1 = gridX + 1;\\r\\n        var gridY1 = gridY + 1;\\r\\n\\r\\n        var segment_width = width / gridX;\\r\\n        var segment_height = height / gridY;\\r\\n\\r\\n        var ix, iy;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // generate vertices, normals and uvs\\r\\n\\r\\n        for ( iy = 0; iy < gridY1; iy ++ ) {\\r\\n\\r\\n            var y = iy * segment_height - height_half;\\r\\n\\r\\n            for ( ix = 0; ix < gridX1; ix ++ ) {\\r\\n\\r\\n                var x = ix * segment_width - width_half;\\r\\n\\r\\n                vertices.push( x, - y, 0 );\\r\\n\\r\\n                normals.push( 0, 0, 1 );\\r\\n\\r\\n                uvs.push( ix / gridX );\\r\\n                uvs.push( 1 - ( iy / gridY ) );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // indices\\r\\n\\r\\n        for ( iy = 0; iy < gridY; iy ++ ) {\\r\\n\\r\\n            for ( ix = 0; ix < gridX; ix ++ ) {\\r\\n\\r\\n                var a = ix + gridX1 * iy;\\r\\n                var b = ix + gridX1 * ( iy + 1 );\\r\\n                var c = ( ix + 1 ) + gridX1 * ( iy + 1 );\\r\\n                var d = ( ix + 1 ) + gridX1 * iy;\\r\\n\\r\\n                // faces\\r\\n\\r\\n                indices.push( a, b, d );\\r\\n                indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    PlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    PlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    var materialId = 0;\\r\\n\\r\\n    function Material() {\\r\\n\\r\\n        Object.defineProperty( this, 'id', { value: materialId ++ } );\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        this.name = '';\\r\\n        this.type = 'Material';\\r\\n\\r\\n        this.fog = true;\\r\\n        this.lights = true;\\r\\n\\r\\n        this.blending = NormalBlending;\\r\\n        this.side = FrontSide;\\r\\n        this.flatShading = false;\\r\\n        this.vertexColors = NoColors; // THREE.NoColors, THREE.VertexColors, THREE.FaceColors\\r\\n\\r\\n        this.opacity = 1;\\r\\n        this.transparent = false;\\r\\n\\r\\n        this.blendSrc = SrcAlphaFactor;\\r\\n        this.blendDst = OneMinusSrcAlphaFactor;\\r\\n        this.blendEquation = AddEquation;\\r\\n        this.blendSrcAlpha = null;\\r\\n        this.blendDstAlpha = null;\\r\\n        this.blendEquationAlpha = null;\\r\\n\\r\\n        this.depthFunc = LessEqualDepth;\\r\\n        this.depthTest = true;\\r\\n        this.depthWrite = true;\\r\\n\\r\\n        this.clippingPlanes = null;\\r\\n        this.clipIntersection = false;\\r\\n        this.clipShadows = false;\\r\\n\\r\\n        this.shadowSide = null;\\r\\n\\r\\n        this.colorWrite = true;\\r\\n\\r\\n        this.precision = null; // override the renderer's default precision for this material\\r\\n\\r\\n        this.polygonOffset = false;\\r\\n        this.polygonOffsetFactor = 0;\\r\\n        this.polygonOffsetUnits = 0;\\r\\n\\r\\n        this.dithering = false;\\r\\n\\r\\n        this.alphaTest = 0;\\r\\n        this.premultipliedAlpha = false;\\r\\n\\r\\n        this.overdraw = 0; // Overdrawn pixels (typically between 0 and 1) for fixing antialiasing gaps in CanvasRenderer\\r\\n\\r\\n        this.visible = true;\\r\\n\\r\\n        this.userData = {};\\r\\n\\r\\n        this.needsUpdate = true;\\r\\n\\r\\n    }\\r\\n\\r\\n    Material.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: Material,\\r\\n\\r\\n        isMaterial: true,\\r\\n\\r\\n        onBeforeCompile: function () {},\\r\\n\\r\\n        setValues: function ( values ) {\\r\\n\\r\\n            if ( values === undefined ) return;\\r\\n\\r\\n            for ( var key in values ) {\\r\\n\\r\\n                var newValue = values[ key ];\\r\\n\\r\\n                if ( newValue === undefined ) {\\r\\n\\r\\n                    console.warn( \\\"THREE.Material: '\\\" + key + \\\"' parameter is undefined.\\\" );\\r\\n                    continue;\\r\\n\\r\\n                }\\r\\n\\r\\n                // for backward compatability if shading is set in the constructor\\r\\n                if ( key === 'shading' ) {\\r\\n\\r\\n                    console.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\\r\\n                    this.flatShading = ( newValue === FlatShading ) ? true : false;\\r\\n                    continue;\\r\\n\\r\\n                }\\r\\n\\r\\n                var currentValue = this[ key ];\\r\\n\\r\\n                if ( currentValue === undefined ) {\\r\\n\\r\\n                    console.warn( \\\"THREE.\\\" + this.type + \\\": '\\\" + key + \\\"' is not a property of this material.\\\" );\\r\\n                    continue;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( currentValue && currentValue.isColor ) {\\r\\n\\r\\n                    currentValue.set( newValue );\\r\\n\\r\\n                } else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\\r\\n\\r\\n                    currentValue.copy( newValue );\\r\\n\\r\\n                } else if ( key === 'overdraw' ) {\\r\\n\\r\\n                    // ensure overdraw is backwards-compatible with legacy boolean type\\r\\n                    this[ key ] = Number( newValue );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    this[ key ] = newValue;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var isRoot = ( meta === undefined || typeof meta === 'string' );\\r\\n\\r\\n            if ( isRoot ) {\\r\\n\\r\\n                meta = {\\r\\n                    textures: {},\\r\\n                    images: {}\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            var data = {\\r\\n                metadata: {\\r\\n                    version: 4.5,\\r\\n                    type: 'Material',\\r\\n                    generator: 'Material.toJSON'\\r\\n                }\\r\\n            };\\r\\n\\r\\n            // standard Material serialization\\r\\n            data.uuid = this.uuid;\\r\\n            data.type = this.type;\\r\\n\\r\\n            if ( this.name !== '' ) data.name = this.name;\\r\\n\\r\\n            if ( this.color && this.color.isColor ) data.color = this.color.getHex();\\r\\n\\r\\n            if ( this.roughness !== undefined ) data.roughness = this.roughness;\\r\\n            if ( this.metalness !== undefined ) data.metalness = this.metalness;\\r\\n\\r\\n            if ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\\r\\n            if ( this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\\r\\n\\r\\n            if ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\\r\\n            if ( this.shininess !== undefined ) data.shininess = this.shininess;\\r\\n            if ( this.clearCoat !== undefined ) data.clearCoat = this.clearCoat;\\r\\n            if ( this.clearCoatRoughness !== undefined ) data.clearCoatRoughness = this.clearCoatRoughness;\\r\\n\\r\\n            if ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\\r\\n            if ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\\r\\n            if ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\\r\\n\\r\\n            if ( this.aoMap && this.aoMap.isTexture ) {\\r\\n\\r\\n                data.aoMap = this.aoMap.toJSON( meta ).uuid;\\r\\n                data.aoMapIntensity = this.aoMapIntensity;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.bumpMap && this.bumpMap.isTexture ) {\\r\\n\\r\\n                data.bumpMap = this.bumpMap.toJSON( meta ).uuid;\\r\\n                data.bumpScale = this.bumpScale;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.normalMap && this.normalMap.isTexture ) {\\r\\n\\r\\n                data.normalMap = this.normalMap.toJSON( meta ).uuid;\\r\\n                data.normalMapType = this.normalMapType;\\r\\n                data.normalScale = this.normalScale.toArray();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.displacementMap && this.displacementMap.isTexture ) {\\r\\n\\r\\n                data.displacementMap = this.displacementMap.toJSON( meta ).uuid;\\r\\n                data.displacementScale = this.displacementScale;\\r\\n                data.displacementBias = this.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\\r\\n            if ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\\r\\n\\r\\n            if ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\\r\\n            if ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\\r\\n\\r\\n            if ( this.envMap && this.envMap.isTexture ) {\\r\\n\\r\\n                data.envMap = this.envMap.toJSON( meta ).uuid;\\r\\n                data.reflectivity = this.reflectivity; // Scale behind envMap\\r\\n\\r\\n                if ( this.combine !== undefined ) data.combine = this.combine;\\r\\n                if ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.gradientMap && this.gradientMap.isTexture ) {\\r\\n\\r\\n                data.gradientMap = this.gradientMap.toJSON( meta ).uuid;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.size !== undefined ) data.size = this.size;\\r\\n            if ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\\r\\n\\r\\n            if ( this.blending !== NormalBlending ) data.blending = this.blending;\\r\\n            if ( this.flatShading === true ) data.flatShading = this.flatShading;\\r\\n            if ( this.side !== FrontSide ) data.side = this.side;\\r\\n            if ( this.vertexColors !== NoColors ) data.vertexColors = this.vertexColors;\\r\\n\\r\\n            if ( this.opacity < 1 ) data.opacity = this.opacity;\\r\\n            if ( this.transparent === true ) data.transparent = this.transparent;\\r\\n\\r\\n            data.depthFunc = this.depthFunc;\\r\\n            data.depthTest = this.depthTest;\\r\\n            data.depthWrite = this.depthWrite;\\r\\n\\r\\n            // rotation (SpriteMaterial)\\r\\n            if ( this.rotation !== 0 ) data.rotation = this.rotation;\\r\\n\\r\\n            if ( this.polygonOffset === true ) data.polygonOffset = true;\\r\\n            if ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\\r\\n            if ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\\r\\n\\r\\n            if ( this.linewidth !== 1 ) data.linewidth = this.linewidth;\\r\\n            if ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\\r\\n            if ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\\r\\n            if ( this.scale !== undefined ) data.scale = this.scale;\\r\\n\\r\\n            if ( this.dithering === true ) data.dithering = true;\\r\\n\\r\\n            if ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\\r\\n            if ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\\r\\n\\r\\n            if ( this.wireframe === true ) data.wireframe = this.wireframe;\\r\\n            if ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\\r\\n            if ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\\r\\n            if ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\\r\\n\\r\\n            if ( this.morphTargets === true ) data.morphTargets = true;\\r\\n            if ( this.skinning === true ) data.skinning = true;\\r\\n\\r\\n            if ( this.visible === false ) data.visible = false;\\r\\n            if ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\\r\\n\\r\\n            // TODO: Copied from Object3D.toJSON\\r\\n\\r\\n            function extractFromCache( cache ) {\\r\\n\\r\\n                var values = [];\\r\\n\\r\\n                for ( var key in cache ) {\\r\\n\\r\\n                    var data = cache[ key ];\\r\\n                    delete data.metadata;\\r\\n                    values.push( data );\\r\\n\\r\\n                }\\r\\n\\r\\n                return values;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( isRoot ) {\\r\\n\\r\\n                var textures = extractFromCache( meta.textures );\\r\\n                var images = extractFromCache( meta.images );\\r\\n\\r\\n                if ( textures.length > 0 ) data.textures = textures;\\r\\n                if ( images.length > 0 ) data.images = images;\\r\\n\\r\\n            }\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.name = source.name;\\r\\n\\r\\n            this.fog = source.fog;\\r\\n            this.lights = source.lights;\\r\\n\\r\\n            this.blending = source.blending;\\r\\n            this.side = source.side;\\r\\n            this.flatShading = source.flatShading;\\r\\n            this.vertexColors = source.vertexColors;\\r\\n\\r\\n            this.opacity = source.opacity;\\r\\n            this.transparent = source.transparent;\\r\\n\\r\\n            this.blendSrc = source.blendSrc;\\r\\n            this.blendDst = source.blendDst;\\r\\n            this.blendEquation = source.blendEquation;\\r\\n            this.blendSrcAlpha = source.blendSrcAlpha;\\r\\n            this.blendDstAlpha = source.blendDstAlpha;\\r\\n            this.blendEquationAlpha = source.blendEquationAlpha;\\r\\n\\r\\n            this.depthFunc = source.depthFunc;\\r\\n            this.depthTest = source.depthTest;\\r\\n            this.depthWrite = source.depthWrite;\\r\\n\\r\\n            this.colorWrite = source.colorWrite;\\r\\n\\r\\n            this.precision = source.precision;\\r\\n\\r\\n            this.polygonOffset = source.polygonOffset;\\r\\n            this.polygonOffsetFactor = source.polygonOffsetFactor;\\r\\n            this.polygonOffsetUnits = source.polygonOffsetUnits;\\r\\n\\r\\n            this.dithering = source.dithering;\\r\\n\\r\\n            this.alphaTest = source.alphaTest;\\r\\n            this.premultipliedAlpha = source.premultipliedAlpha;\\r\\n\\r\\n            this.overdraw = source.overdraw;\\r\\n\\r\\n            this.visible = source.visible;\\r\\n            this.userData = JSON.parse( JSON.stringify( source.userData ) );\\r\\n\\r\\n            this.clipShadows = source.clipShadows;\\r\\n            this.clipIntersection = source.clipIntersection;\\r\\n\\r\\n            var srcPlanes = source.clippingPlanes,\\r\\n                dstPlanes = null;\\r\\n\\r\\n            if ( srcPlanes !== null ) {\\r\\n\\r\\n                var n = srcPlanes.length;\\r\\n                dstPlanes = new Array( n );\\r\\n\\r\\n                for ( var i = 0; i !== n; ++ i )\\r\\n                    dstPlanes[ i ] = srcPlanes[ i ].clone();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.clippingPlanes = dstPlanes;\\r\\n\\r\\n            this.shadowSide = source.shadowSide;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        dispose: function () {\\r\\n\\r\\n            this.dispatchEvent( { type: 'dispose' } );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  defines: { \\\"label\\\" : \\\"value\\\" },\\r\\n\\t *  uniforms: { \\\"parameter1\\\": { value: 1.0 }, \\\"parameter2\\\": { value2: 2 } },\\r\\n\\t *\\r\\n\\t *  fragmentShader: <string>,\\r\\n\\t *  vertexShader: <string>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>,\\r\\n\\t *\\r\\n\\t *  lights: <bool>,\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *  morphNormals: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function ShaderMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'ShaderMaterial';\\r\\n\\r\\n        this.defines = {};\\r\\n        this.uniforms = {};\\r\\n\\r\\n        this.vertexShader = 'void main() {\\\\n\\\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\\\n}';\\r\\n        this.fragmentShader = 'void main() {\\\\n\\\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\\\n}';\\r\\n\\r\\n        this.linewidth = 1;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n\\r\\n        this.fog = false; // set to use scene fog\\r\\n        this.lights = false; // set to use scene lights\\r\\n        this.clipping = false; // set to use user-defined clipping planes\\r\\n\\r\\n        this.skinning = false; // set to use skinning attribute streams\\r\\n        this.morphTargets = false; // set to use morph targets\\r\\n        this.morphNormals = false; // set to use morph normals\\r\\n\\r\\n        this.extensions = {\\r\\n            derivatives: false, // set to use derivatives\\r\\n            fragDepth: false, // set to use fragment depth values\\r\\n            drawBuffers: false, // set to use draw buffers\\r\\n            shaderTextureLOD: false // set to use shader texture LOD\\r\\n        };\\r\\n\\r\\n        // When rendered geometry doesn't include these attributes but the material does,\\r\\n        // use these default values in WebGL. This avoids errors when buffer data is missing.\\r\\n        this.defaultAttributeValues = {\\r\\n            'color': [ 1, 1, 1 ],\\r\\n            'uv': [ 0, 0 ],\\r\\n            'uv2': [ 0, 0 ]\\r\\n        };\\r\\n\\r\\n        this.index0AttributeName = undefined;\\r\\n        this.uniformsNeedUpdate = false;\\r\\n\\r\\n        if ( parameters !== undefined ) {\\r\\n\\r\\n            if ( parameters.attributes !== undefined ) {\\r\\n\\r\\n                console.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.setValues( parameters );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    ShaderMaterial.prototype = Object.create( Material.prototype );\\r\\n    ShaderMaterial.prototype.constructor = ShaderMaterial;\\r\\n\\r\\n    ShaderMaterial.prototype.isShaderMaterial = true;\\r\\n\\r\\n    ShaderMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.fragmentShader = source.fragmentShader;\\r\\n        this.vertexShader = source.vertexShader;\\r\\n\\r\\n        this.uniforms = UniformsUtils.clone( source.uniforms );\\r\\n\\r\\n        this.defines = Object.assign( {}, source.defines );\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n\\r\\n        this.lights = source.lights;\\r\\n        this.clipping = source.clipping;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n\\r\\n        this.morphTargets = source.morphTargets;\\r\\n        this.morphNormals = source.morphNormals;\\r\\n\\r\\n        this.extensions = source.extensions;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    ShaderMaterial.prototype.toJSON = function ( meta ) {\\r\\n\\r\\n        var data = Material.prototype.toJSON.call( this, meta );\\r\\n\\r\\n        data.uniforms = {};\\r\\n\\r\\n        for ( var name in this.uniforms ) {\\r\\n\\r\\n            var uniform = this.uniforms[ name ];\\r\\n            var value = uniform.value;\\r\\n\\r\\n            if ( value.isTexture ) {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    type: 't',\\r\\n                    value: value.toJSON( meta ).uuid\\r\\n                };\\r\\n\\r\\n            } else if ( value.isColor ) {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    type: 'c',\\r\\n                    value: value.getHex()\\r\\n                };\\r\\n\\r\\n            } else if ( value.isVector2 ) {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    type: 'v2',\\r\\n                    value: value.toArray()\\r\\n                };\\r\\n\\r\\n            } else if ( value.isVector3 ) {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    type: 'v3',\\r\\n                    value: value.toArray()\\r\\n                };\\r\\n\\r\\n            } else if ( value.isVector4 ) {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    type: 'v4',\\r\\n                    value: value.toArray()\\r\\n                };\\r\\n\\r\\n            } else if ( value.isMatrix4 ) {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    type: 'm4',\\r\\n                    value: value.toArray()\\r\\n                };\\r\\n\\r\\n            } else {\\r\\n\\r\\n                data.uniforms[ name ] = {\\r\\n                    value: value\\r\\n                };\\r\\n\\r\\n                // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\\r\\n\\r\\n        data.vertexShader = this.vertexShader;\\r\\n        data.fragmentShader = this.fragmentShader;\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Ray( origin, direction ) {\\r\\n\\r\\n        this.origin = ( origin !== undefined ) ? origin : new Vector3();\\r\\n        this.direction = ( direction !== undefined ) ? direction : new Vector3();\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Ray.prototype, {\\r\\n\\r\\n        set: function ( origin, direction ) {\\r\\n\\r\\n            this.origin.copy( origin );\\r\\n            this.direction.copy( direction );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( ray ) {\\r\\n\\r\\n            this.origin.copy( ray.origin );\\r\\n            this.direction.copy( ray.direction );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        at: function ( t, target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Ray: .at() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\\r\\n\\r\\n        },\\r\\n\\r\\n        lookAt: function ( v ) {\\r\\n\\r\\n            this.direction.copy( v ).sub( this.origin ).normalize();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        recast: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function recast( t ) {\\r\\n\\r\\n                this.origin.copy( this.at( t, v1 ) );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        closestPointToPoint: function ( point, target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            target.subVectors( point, this.origin );\\r\\n\\r\\n            var directionDistance = target.dot( this.direction );\\r\\n\\r\\n            if ( directionDistance < 0 ) {\\r\\n\\r\\n                return target.copy( this.origin );\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToPoint: function ( point ) {\\r\\n\\r\\n            return Math.sqrt( this.distanceSqToPoint( point ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceSqToPoint: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function distanceSqToPoint( point ) {\\r\\n\\r\\n                var directionDistance = v1.subVectors( point, this.origin ).dot( this.direction );\\r\\n\\r\\n                // point behind the ray\\r\\n\\r\\n                if ( directionDistance < 0 ) {\\r\\n\\r\\n                    return this.origin.distanceToSquared( point );\\r\\n\\r\\n                }\\r\\n\\r\\n                v1.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\\r\\n\\r\\n                return v1.distanceToSquared( point );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        distanceSqToSegment: function () {\\r\\n\\r\\n            var segCenter = new Vector3();\\r\\n            var segDir = new Vector3();\\r\\n            var diff = new Vector3();\\r\\n\\r\\n            return function distanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\\r\\n\\r\\n                // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\\r\\n                // It returns the min distance between the ray and the segment\\r\\n                // defined by v0 and v1\\r\\n                // It can also set two optional targets :\\r\\n                // - The closest point on the ray\\r\\n                // - The closest point on the segment\\r\\n\\r\\n                segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\\r\\n                segDir.copy( v1 ).sub( v0 ).normalize();\\r\\n                diff.copy( this.origin ).sub( segCenter );\\r\\n\\r\\n                var segExtent = v0.distanceTo( v1 ) * 0.5;\\r\\n                var a01 = - this.direction.dot( segDir );\\r\\n                var b0 = diff.dot( this.direction );\\r\\n                var b1 = - diff.dot( segDir );\\r\\n                var c = diff.lengthSq();\\r\\n                var det = Math.abs( 1 - a01 * a01 );\\r\\n                var s0, s1, sqrDist, extDet;\\r\\n\\r\\n                if ( det > 0 ) {\\r\\n\\r\\n                    // The ray and segment are not parallel.\\r\\n\\r\\n                    s0 = a01 * b1 - b0;\\r\\n                    s1 = a01 * b0 - b1;\\r\\n                    extDet = segExtent * det;\\r\\n\\r\\n                    if ( s0 >= 0 ) {\\r\\n\\r\\n                        if ( s1 >= - extDet ) {\\r\\n\\r\\n                            if ( s1 <= extDet ) {\\r\\n\\r\\n                                // region 0\\r\\n                                // Minimum at interior points of ray and segment.\\r\\n\\r\\n                                var invDet = 1 / det;\\r\\n                                s0 *= invDet;\\r\\n                                s1 *= invDet;\\r\\n                                sqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\\r\\n\\r\\n                            } else {\\r\\n\\r\\n                                // region 1\\r\\n\\r\\n                                s1 = segExtent;\\r\\n                                s0 = Math.max( 0, - ( a01 * s1 + b0 ) );\\r\\n                                sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            // region 5\\r\\n\\r\\n                            s1 = - segExtent;\\r\\n                            s0 = Math.max( 0, - ( a01 * s1 + b0 ) );\\r\\n                            sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        if ( s1 <= - extDet ) {\\r\\n\\r\\n                            // region 4\\r\\n\\r\\n                            s0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\\r\\n                            s1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\\r\\n                            sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\\r\\n\\r\\n                        } else if ( s1 <= extDet ) {\\r\\n\\r\\n                            // region 3\\r\\n\\r\\n                            s0 = 0;\\r\\n                            s1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\\r\\n                            sqrDist = s1 * ( s1 + 2 * b1 ) + c;\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            // region 2\\r\\n\\r\\n                            s0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\\r\\n                            s1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\\r\\n                            sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // Ray and segment are parallel.\\r\\n\\r\\n                    s1 = ( a01 > 0 ) ? - segExtent : segExtent;\\r\\n                    s0 = Math.max( 0, - ( a01 * s1 + b0 ) );\\r\\n                    sqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( optionalPointOnRay ) {\\r\\n\\r\\n                    optionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( optionalPointOnSegment ) {\\r\\n\\r\\n                    optionalPointOnSegment.copy( segDir ).multiplyScalar( s1 ).add( segCenter );\\r\\n\\r\\n                }\\r\\n\\r\\n                return sqrDist;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersectSphere: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function intersectSphere( sphere, target ) {\\r\\n\\r\\n                v1.subVectors( sphere.center, this.origin );\\r\\n                var tca = v1.dot( this.direction );\\r\\n                var d2 = v1.dot( v1 ) - tca * tca;\\r\\n                var radius2 = sphere.radius * sphere.radius;\\r\\n\\r\\n                if ( d2 > radius2 ) return null;\\r\\n\\r\\n                var thc = Math.sqrt( radius2 - d2 );\\r\\n\\r\\n                // t0 = first intersect point - entrance on front of sphere\\r\\n                var t0 = tca - thc;\\r\\n\\r\\n                // t1 = second intersect point - exit point on back of sphere\\r\\n                var t1 = tca + thc;\\r\\n\\r\\n                // test to see if both t0 and t1 are behind the ray - if so, return null\\r\\n                if ( t0 < 0 && t1 < 0 ) return null;\\r\\n\\r\\n                // test to see if t0 is behind the ray:\\r\\n                // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\\r\\n                // in order to always return an intersect point that is in front of the ray.\\r\\n                if ( t0 < 0 ) return this.at( t1, target );\\r\\n\\r\\n                // else t0 is in front of the ray, so return the first collision point scaled by t0\\r\\n                return this.at( t0, target );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersectsSphere: function ( sphere ) {\\r\\n\\r\\n            return this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToPlane: function ( plane ) {\\r\\n\\r\\n            var denominator = plane.normal.dot( this.direction );\\r\\n\\r\\n            if ( denominator === 0 ) {\\r\\n\\r\\n                // line is coplanar, return origin\\r\\n                if ( plane.distanceToPoint( this.origin ) === 0 ) {\\r\\n\\r\\n                    return 0;\\r\\n\\r\\n                }\\r\\n\\r\\n                // Null is preferable to undefined since undefined means.... it is undefined\\r\\n\\r\\n                return null;\\r\\n\\r\\n            }\\r\\n\\r\\n            var t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\\r\\n\\r\\n            // Return if the ray never intersects the plane\\r\\n\\r\\n            return t >= 0 ? t : null;\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectPlane: function ( plane, target ) {\\r\\n\\r\\n            var t = this.distanceToPlane( plane );\\r\\n\\r\\n            if ( t === null ) {\\r\\n\\r\\n                return null;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.at( t, target );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsPlane: function ( plane ) {\\r\\n\\r\\n            // check if the ray lies on the plane first\\r\\n\\r\\n            var distToPoint = plane.distanceToPoint( this.origin );\\r\\n\\r\\n            if ( distToPoint === 0 ) {\\r\\n\\r\\n                return true;\\r\\n\\r\\n            }\\r\\n\\r\\n            var denominator = plane.normal.dot( this.direction );\\r\\n\\r\\n            if ( denominator * distToPoint < 0 ) {\\r\\n\\r\\n                return true;\\r\\n\\r\\n            }\\r\\n\\r\\n            // ray origin is behind the plane (and is pointing behind it)\\r\\n\\r\\n            return false;\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectBox: function ( box, target ) {\\r\\n\\r\\n            var tmin, tmax, tymin, tymax, tzmin, tzmax;\\r\\n\\r\\n            var invdirx = 1 / this.direction.x,\\r\\n                invdiry = 1 / this.direction.y,\\r\\n                invdirz = 1 / this.direction.z;\\r\\n\\r\\n            var origin = this.origin;\\r\\n\\r\\n            if ( invdirx >= 0 ) {\\r\\n\\r\\n                tmin = ( box.min.x - origin.x ) * invdirx;\\r\\n                tmax = ( box.max.x - origin.x ) * invdirx;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                tmin = ( box.max.x - origin.x ) * invdirx;\\r\\n                tmax = ( box.min.x - origin.x ) * invdirx;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( invdiry >= 0 ) {\\r\\n\\r\\n                tymin = ( box.min.y - origin.y ) * invdiry;\\r\\n                tymax = ( box.max.y - origin.y ) * invdiry;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                tymin = ( box.max.y - origin.y ) * invdiry;\\r\\n                tymax = ( box.min.y - origin.y ) * invdiry;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\\r\\n\\r\\n            // These lines also handle the case where tmin or tmax is NaN\\r\\n            // (result of 0 * Infinity). x !== x returns true if x is NaN\\r\\n\\r\\n            if ( tymin > tmin || tmin !== tmin ) tmin = tymin;\\r\\n\\r\\n            if ( tymax < tmax || tmax !== tmax ) tmax = tymax;\\r\\n\\r\\n            if ( invdirz >= 0 ) {\\r\\n\\r\\n                tzmin = ( box.min.z - origin.z ) * invdirz;\\r\\n                tzmax = ( box.max.z - origin.z ) * invdirz;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                tzmin = ( box.max.z - origin.z ) * invdirz;\\r\\n                tzmax = ( box.min.z - origin.z ) * invdirz;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\\r\\n\\r\\n            if ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\\r\\n\\r\\n            if ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\\r\\n\\r\\n            //return point closest to the ray (positive side)\\r\\n\\r\\n            if ( tmax < 0 ) return null;\\r\\n\\r\\n            return this.at( tmin >= 0 ? tmin : tmax, target );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: ( function () {\\r\\n\\r\\n            var v = new Vector3();\\r\\n\\r\\n            return function intersectsBox( box ) {\\r\\n\\r\\n                return this.intersectBox( box, v ) !== null;\\r\\n\\r\\n            };\\r\\n\\r\\n        } )(),\\r\\n\\r\\n        intersectTriangle: function () {\\r\\n\\r\\n            // Compute the offset origin, edges, and normal.\\r\\n            var diff = new Vector3();\\r\\n            var edge1 = new Vector3();\\r\\n            var edge2 = new Vector3();\\r\\n            var normal = new Vector3();\\r\\n\\r\\n            return function intersectTriangle( a, b, c, backfaceCulling, target ) {\\r\\n\\r\\n                // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\\r\\n\\r\\n                edge1.subVectors( b, a );\\r\\n                edge2.subVectors( c, a );\\r\\n                normal.crossVectors( edge1, edge2 );\\r\\n\\r\\n                // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\\r\\n                // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\\r\\n                //   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\\r\\n                //   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\\r\\n                //   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\\r\\n                var DdN = this.direction.dot( normal );\\r\\n                var sign;\\r\\n\\r\\n                if ( DdN > 0 ) {\\r\\n\\r\\n                    if ( backfaceCulling ) return null;\\r\\n                    sign = 1;\\r\\n\\r\\n                } else if ( DdN < 0 ) {\\r\\n\\r\\n                    sign = - 1;\\r\\n                    DdN = - DdN;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    return null;\\r\\n\\r\\n                }\\r\\n\\r\\n                diff.subVectors( this.origin, a );\\r\\n                var DdQxE2 = sign * this.direction.dot( edge2.crossVectors( diff, edge2 ) );\\r\\n\\r\\n                // b1 < 0, no intersection\\r\\n                if ( DdQxE2 < 0 ) {\\r\\n\\r\\n                    return null;\\r\\n\\r\\n                }\\r\\n\\r\\n                var DdE1xQ = sign * this.direction.dot( edge1.cross( diff ) );\\r\\n\\r\\n                // b2 < 0, no intersection\\r\\n                if ( DdE1xQ < 0 ) {\\r\\n\\r\\n                    return null;\\r\\n\\r\\n                }\\r\\n\\r\\n                // b1+b2 > 1, no intersection\\r\\n                if ( DdQxE2 + DdE1xQ > DdN ) {\\r\\n\\r\\n                    return null;\\r\\n\\r\\n                }\\r\\n\\r\\n                // Line intersects triangle, check if ray does.\\r\\n                var QdN = - sign * diff.dot( normal );\\r\\n\\r\\n                // t < 0, no intersection\\r\\n                if ( QdN < 0 ) {\\r\\n\\r\\n                    return null;\\r\\n\\r\\n                }\\r\\n\\r\\n                // Ray intersects triangle.\\r\\n                return this.at( QdN / DdN, target );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        applyMatrix4: function ( matrix4 ) {\\r\\n\\r\\n            this.origin.applyMatrix4( matrix4 );\\r\\n            this.direction.transformDirection( matrix4 );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( ray ) {\\r\\n\\r\\n            return ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Triangle( a, b, c ) {\\r\\n\\r\\n        this.a = ( a !== undefined ) ? a : new Vector3();\\r\\n        this.b = ( b !== undefined ) ? b : new Vector3();\\r\\n        this.c = ( c !== undefined ) ? c : new Vector3();\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Triangle, {\\r\\n\\r\\n        getNormal: function () {\\r\\n\\r\\n            var v0 = new Vector3();\\r\\n\\r\\n            return function getNormal( a, b, c, target ) {\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Triangle: .getNormal() target is now required' );\\r\\n                    target = new Vector3();\\r\\n\\r\\n                }\\r\\n\\r\\n                target.subVectors( c, b );\\r\\n                v0.subVectors( a, b );\\r\\n                target.cross( v0 );\\r\\n\\r\\n                var targetLengthSq = target.lengthSq();\\r\\n                if ( targetLengthSq > 0 ) {\\r\\n\\r\\n                    return target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                return target.set( 0, 0, 0 );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        // static/instance method to calculate barycentric coordinates\\r\\n        // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\\r\\n        getBarycoord: function () {\\r\\n\\r\\n            var v0 = new Vector3();\\r\\n            var v1 = new Vector3();\\r\\n            var v2 = new Vector3();\\r\\n\\r\\n            return function getBarycoord( point, a, b, c, target ) {\\r\\n\\r\\n                v0.subVectors( c, a );\\r\\n                v1.subVectors( b, a );\\r\\n                v2.subVectors( point, a );\\r\\n\\r\\n                var dot00 = v0.dot( v0 );\\r\\n                var dot01 = v0.dot( v1 );\\r\\n                var dot02 = v0.dot( v2 );\\r\\n                var dot11 = v1.dot( v1 );\\r\\n                var dot12 = v1.dot( v2 );\\r\\n\\r\\n                var denom = ( dot00 * dot11 - dot01 * dot01 );\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\\r\\n                    target = new Vector3();\\r\\n\\r\\n                }\\r\\n\\r\\n                // collinear or singular triangle\\r\\n                if ( denom === 0 ) {\\r\\n\\r\\n                    // arbitrary location outside of triangle?\\r\\n                    // not sure if this is the best idea, maybe should be returning undefined\\r\\n                    return target.set( - 2, - 1, - 1 );\\r\\n\\r\\n                }\\r\\n\\r\\n                var invDenom = 1 / denom;\\r\\n                var u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\\r\\n                var v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\\r\\n\\r\\n                // barycentric coordinates must always sum to 1\\r\\n                return target.set( 1 - u - v, v, u );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        containsPoint: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function containsPoint( point, a, b, c ) {\\r\\n\\r\\n                Triangle.getBarycoord( point, a, b, c, v1 );\\r\\n\\r\\n                return ( v1.x >= 0 ) && ( v1.y >= 0 ) && ( ( v1.x + v1.y ) <= 1 );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        getUV: function () {\\r\\n\\r\\n            var barycoord = new Vector3();\\r\\n\\r\\n            return function getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\\r\\n\\r\\n                this.getBarycoord( point, p1, p2, p3, barycoord );\\r\\n\\r\\n                target.set( 0, 0 );\\r\\n                target.addScaledVector( uv1, barycoord.x );\\r\\n                target.addScaledVector( uv2, barycoord.y );\\r\\n                target.addScaledVector( uv3, barycoord.z );\\r\\n\\r\\n                return target;\\r\\n\\r\\n            };\\r\\n\\r\\n        }()\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Triangle.prototype, {\\r\\n\\r\\n        set: function ( a, b, c ) {\\r\\n\\r\\n            this.a.copy( a );\\r\\n            this.b.copy( b );\\r\\n            this.c.copy( c );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromPointsAndIndices: function ( points, i0, i1, i2 ) {\\r\\n\\r\\n            this.a.copy( points[ i0 ] );\\r\\n            this.b.copy( points[ i1 ] );\\r\\n            this.c.copy( points[ i2 ] );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( triangle ) {\\r\\n\\r\\n            this.a.copy( triangle.a );\\r\\n            this.b.copy( triangle.b );\\r\\n            this.c.copy( triangle.c );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getArea: function () {\\r\\n\\r\\n            var v0 = new Vector3();\\r\\n            var v1 = new Vector3();\\r\\n\\r\\n            return function getArea() {\\r\\n\\r\\n                v0.subVectors( this.c, this.b );\\r\\n                v1.subVectors( this.a, this.b );\\r\\n\\r\\n                return v0.cross( v1 ).length() * 0.5;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        getMidpoint: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\\r\\n\\r\\n        },\\r\\n\\r\\n        getNormal: function ( target ) {\\r\\n\\r\\n            return Triangle.getNormal( this.a, this.b, this.c, target );\\r\\n\\r\\n        },\\r\\n\\r\\n        getPlane: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Triangle: .getPlane() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.setFromCoplanarPoints( this.a, this.b, this.c );\\r\\n\\r\\n        },\\r\\n\\r\\n        getBarycoord: function ( point, target ) {\\r\\n\\r\\n            return Triangle.getBarycoord( point, this.a, this.b, this.c, target );\\r\\n\\r\\n        },\\r\\n\\r\\n        containsPoint: function ( point ) {\\r\\n\\r\\n            return Triangle.containsPoint( point, this.a, this.b, this.c );\\r\\n\\r\\n        },\\r\\n\\r\\n        getUV: function ( point, uv1, uv2, uv3, result ) {\\r\\n\\r\\n            return Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, result );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: function ( box ) {\\r\\n\\r\\n            return box.intersectsTriangle( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        closestPointToPoint: function () {\\r\\n\\r\\n            var vab = new Vector3();\\r\\n            var vac = new Vector3();\\r\\n            var vbc = new Vector3();\\r\\n            var vap = new Vector3();\\r\\n            var vbp = new Vector3();\\r\\n            var vcp = new Vector3();\\r\\n\\r\\n            return function closestPointToPoint( p, target ) {\\r\\n\\r\\n                if ( target === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\\r\\n                    target = new Vector3();\\r\\n\\r\\n                }\\r\\n\\r\\n                var a = this.a, b = this.b, c = this.c;\\r\\n                var v, w;\\r\\n\\r\\n                // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\\r\\n                // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\\r\\n                // under the accompanying license; see chapter 5.1.5 for detailed explanation.\\r\\n                // basically, we're distinguishing which of the voronoi regions of the triangle\\r\\n                // the point lies in with the minimum amount of redundant computation.\\r\\n\\r\\n                vab.subVectors( b, a );\\r\\n                vac.subVectors( c, a );\\r\\n                vap.subVectors( p, a );\\r\\n                var d1 = vab.dot( vap );\\r\\n                var d2 = vac.dot( vap );\\r\\n                if ( d1 <= 0 && d2 <= 0 ) {\\r\\n\\r\\n                    // vertex region of A; barycentric coords (1, 0, 0)\\r\\n                    return target.copy( a );\\r\\n\\r\\n                }\\r\\n\\r\\n                vbp.subVectors( p, b );\\r\\n                var d3 = vab.dot( vbp );\\r\\n                var d4 = vac.dot( vbp );\\r\\n                if ( d3 >= 0 && d4 <= d3 ) {\\r\\n\\r\\n                    // vertex region of B; barycentric coords (0, 1, 0)\\r\\n                    return target.copy( b );\\r\\n\\r\\n                }\\r\\n\\r\\n                var vc = d1 * d4 - d3 * d2;\\r\\n                if ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\\r\\n\\r\\n                    v = d1 / ( d1 - d3 );\\r\\n                    // edge region of AB; barycentric coords (1-v, v, 0)\\r\\n                    return target.copy( a ).addScaledVector( vab, v );\\r\\n\\r\\n                }\\r\\n\\r\\n                vcp.subVectors( p, c );\\r\\n                var d5 = vab.dot( vcp );\\r\\n                var d6 = vac.dot( vcp );\\r\\n                if ( d6 >= 0 && d5 <= d6 ) {\\r\\n\\r\\n                    // vertex region of C; barycentric coords (0, 0, 1)\\r\\n                    return target.copy( c );\\r\\n\\r\\n                }\\r\\n\\r\\n                var vb = d5 * d2 - d1 * d6;\\r\\n                if ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\\r\\n\\r\\n                    w = d2 / ( d2 - d6 );\\r\\n                    // edge region of AC; barycentric coords (1-w, 0, w)\\r\\n                    return target.copy( a ).addScaledVector( vac, w );\\r\\n\\r\\n                }\\r\\n\\r\\n                var va = d3 * d6 - d5 * d4;\\r\\n                if ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\\r\\n\\r\\n                    vbc.subVectors( c, b );\\r\\n                    w = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\\r\\n                    // edge region of BC; barycentric coords (0, 1-w, w)\\r\\n                    return target.copy( b ).addScaledVector( vbc, w ); // edge region of BC\\r\\n\\r\\n                }\\r\\n\\r\\n                // face region\\r\\n                var denom = 1 / ( va + vb + vc );\\r\\n                // u = va * denom\\r\\n                v = vb * denom;\\r\\n                w = vc * denom;\\r\\n                return target.copy( a ).addScaledVector( vab, v ).addScaledVector( vac, w );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        equals: function ( triangle ) {\\r\\n\\r\\n            return triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  lightMap: new THREE.Texture( <Image> ),\\r\\n\\t *  lightMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  aoMap: new THREE.Texture( <Image> ),\\r\\n\\t *  aoMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  specularMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\\r\\n\\t *  combine: THREE.Multiply,\\r\\n\\t *  reflectivity: <float>,\\r\\n\\t *  refractionRatio: <float>,\\r\\n\\t *\\r\\n\\t *  depthTest: <bool>,\\r\\n\\t *  depthWrite: <bool>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>,\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshBasicMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'MeshBasicMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff ); // emissive\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.lightMap = null;\\r\\n        this.lightMapIntensity = 1.0;\\r\\n\\r\\n        this.aoMap = null;\\r\\n        this.aoMapIntensity = 1.0;\\r\\n\\r\\n        this.specularMap = null;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.envMap = null;\\r\\n        this.combine = MultiplyOperation;\\r\\n        this.reflectivity = 1;\\r\\n        this.refractionRatio = 0.98;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n        this.wireframeLinecap = 'round';\\r\\n        this.wireframeLinejoin = 'round';\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n\\r\\n        this.lights = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshBasicMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\\r\\n\\r\\n    MeshBasicMaterial.prototype.isMeshBasicMaterial = true;\\r\\n\\r\\n    MeshBasicMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.lightMap = source.lightMap;\\r\\n        this.lightMapIntensity = source.lightMapIntensity;\\r\\n\\r\\n        this.aoMap = source.aoMap;\\r\\n        this.aoMapIntensity = source.aoMapIntensity;\\r\\n\\r\\n        this.specularMap = source.specularMap;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.envMap = source.envMap;\\r\\n        this.combine = source.combine;\\r\\n        this.reflectivity = source.reflectivity;\\r\\n        this.refractionRatio = source.refractionRatio;\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n        this.wireframeLinecap = source.wireframeLinecap;\\r\\n        this.wireframeLinejoin = source.wireframeLinejoin;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author jonobr1 / http://jonobr1.com/\\r\\n     */\\r\\n\\r\\n    function Mesh( geometry, material ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Mesh';\\r\\n\\r\\n        this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\\r\\n        this.material = material !== undefined ? material : new MeshBasicMaterial( { color: Math.random() * 0xffffff } );\\r\\n\\r\\n        this.drawMode = TrianglesDrawMode;\\r\\n\\r\\n        this.updateMorphTargets();\\r\\n\\r\\n    }\\r\\n\\r\\n    Mesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Mesh,\\r\\n\\r\\n        isMesh: true,\\r\\n\\r\\n        setDrawMode: function ( value ) {\\r\\n\\r\\n            this.drawMode = value;\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Object3D.prototype.copy.call( this, source );\\r\\n\\r\\n            this.drawMode = source.drawMode;\\r\\n\\r\\n            if ( source.morphTargetInfluences !== undefined ) {\\r\\n\\r\\n                this.morphTargetInfluences = source.morphTargetInfluences.slice();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( source.morphTargetDictionary !== undefined ) {\\r\\n\\r\\n                this.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMorphTargets: function () {\\r\\n\\r\\n            var geometry = this.geometry;\\r\\n            var m, ml, name;\\r\\n\\r\\n            if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                var morphAttributes = geometry.morphAttributes;\\r\\n                var keys = Object.keys( morphAttributes );\\r\\n\\r\\n                if ( keys.length > 0 ) {\\r\\n\\r\\n                    var morphAttribute = morphAttributes[ keys[ 0 ] ];\\r\\n\\r\\n                    if ( morphAttribute !== undefined ) {\\r\\n\\r\\n                        this.morphTargetInfluences = [];\\r\\n                        this.morphTargetDictionary = {};\\r\\n\\r\\n                        for ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\\r\\n\\r\\n                            name = morphAttribute[ m ].name || String( m );\\r\\n\\r\\n                            this.morphTargetInfluences.push( 0 );\\r\\n                            this.morphTargetDictionary[ name ] = m;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var morphTargets = geometry.morphTargets;\\r\\n\\r\\n                if ( morphTargets !== undefined && morphTargets.length > 0 ) {\\r\\n\\r\\n                    this.morphTargetInfluences = [];\\r\\n                    this.morphTargetDictionary = {};\\r\\n\\r\\n                    for ( m = 0, ml = morphTargets.length; m < ml; m ++ ) {\\r\\n\\r\\n                        name = morphTargets[ m ].name || String( m );\\r\\n\\r\\n                        this.morphTargetInfluences.push( 0 );\\r\\n                        this.morphTargetDictionary[ name ] = m;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        raycast: ( function () {\\r\\n\\r\\n            var inverseMatrix = new Matrix4();\\r\\n            var ray = new Ray();\\r\\n            var sphere = new Sphere();\\r\\n\\r\\n            var vA = new Vector3();\\r\\n            var vB = new Vector3();\\r\\n            var vC = new Vector3();\\r\\n\\r\\n            var tempA = new Vector3();\\r\\n            var tempB = new Vector3();\\r\\n            var tempC = new Vector3();\\r\\n\\r\\n            var uvA = new Vector2();\\r\\n            var uvB = new Vector2();\\r\\n            var uvC = new Vector2();\\r\\n\\r\\n            var intersectionPoint = new Vector3();\\r\\n            var intersectionPointWorld = new Vector3();\\r\\n\\r\\n            function checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\\r\\n\\r\\n                var intersect;\\r\\n\\r\\n                if ( material.side === BackSide ) {\\r\\n\\r\\n                    intersect = ray.intersectTriangle( pC, pB, pA, true, point );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    intersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( intersect === null ) return null;\\r\\n\\r\\n                intersectionPointWorld.copy( point );\\r\\n                intersectionPointWorld.applyMatrix4( object.matrixWorld );\\r\\n\\r\\n                var distance = raycaster.ray.origin.distanceTo( intersectionPointWorld );\\r\\n\\r\\n                if ( distance < raycaster.near || distance > raycaster.far ) return null;\\r\\n\\r\\n                return {\\r\\n                    distance: distance,\\r\\n                    point: intersectionPointWorld.clone(),\\r\\n                    object: object\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            function checkBufferGeometryIntersection( object, material, raycaster, ray, position, uv, a, b, c ) {\\r\\n\\r\\n                vA.fromBufferAttribute( position, a );\\r\\n                vB.fromBufferAttribute( position, b );\\r\\n                vC.fromBufferAttribute( position, c );\\r\\n\\r\\n                var intersection = checkIntersection( object, material, raycaster, ray, vA, vB, vC, intersectionPoint );\\r\\n\\r\\n                if ( intersection ) {\\r\\n\\r\\n                    if ( uv ) {\\r\\n\\r\\n                        uvA.fromBufferAttribute( uv, a );\\r\\n                        uvB.fromBufferAttribute( uv, b );\\r\\n                        uvC.fromBufferAttribute( uv, c );\\r\\n\\r\\n                        intersection.uv = Triangle.getUV( intersectionPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    var face = new Face3( a, b, c );\\r\\n                    Triangle.getNormal( vA, vB, vC, face.normal );\\r\\n\\r\\n                    intersection.face = face;\\r\\n\\r\\n                }\\r\\n\\r\\n                return intersection;\\r\\n\\r\\n            }\\r\\n\\r\\n            return function raycast( raycaster, intersects ) {\\r\\n\\r\\n                var geometry = this.geometry;\\r\\n                var material = this.material;\\r\\n                var matrixWorld = this.matrixWorld;\\r\\n\\r\\n                if ( material === undefined ) return;\\r\\n\\r\\n                // Checking boundingSphere distance to ray\\r\\n\\r\\n                if ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\\r\\n\\r\\n                sphere.copy( geometry.boundingSphere );\\r\\n                sphere.applyMatrix4( matrixWorld );\\r\\n\\r\\n                if ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\\r\\n\\r\\n                //\\r\\n\\r\\n                inverseMatrix.getInverse( matrixWorld );\\r\\n                ray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\\r\\n\\r\\n                // Check boundingBox before continuing\\r\\n\\r\\n                if ( geometry.boundingBox !== null ) {\\r\\n\\r\\n                    if ( ray.intersectsBox( geometry.boundingBox ) === false ) return;\\r\\n\\r\\n                }\\r\\n\\r\\n                var intersection;\\r\\n\\r\\n                if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                    var a, b, c;\\r\\n                    var index = geometry.index;\\r\\n                    var position = geometry.attributes.position;\\r\\n                    var uv = geometry.attributes.uv;\\r\\n                    var groups = geometry.groups;\\r\\n                    var drawRange = geometry.drawRange;\\r\\n                    var i, j, il, jl;\\r\\n                    var group, groupMaterial;\\r\\n                    var start, end;\\r\\n\\r\\n                    if ( index !== null ) {\\r\\n\\r\\n                        // indexed buffer geometry\\r\\n\\r\\n                        if ( Array.isArray( material ) ) {\\r\\n\\r\\n                            for ( i = 0, il = groups.length; i < il; i ++ ) {\\r\\n\\r\\n                                group = groups[ i ];\\r\\n                                groupMaterial = material[ group.materialIndex ];\\r\\n\\r\\n                                start = Math.max( group.start, drawRange.start );\\r\\n                                end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\\r\\n\\r\\n                                for ( j = start, jl = end; j < jl; j += 3 ) {\\r\\n\\r\\n                                    a = index.getX( j );\\r\\n                                    b = index.getX( j + 1 );\\r\\n                                    c = index.getX( j + 2 );\\r\\n\\r\\n                                    intersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\\r\\n\\r\\n                                    if ( intersection ) {\\r\\n\\r\\n                                        intersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\\r\\n                                        intersects.push( intersection );\\r\\n\\r\\n                                    }\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            start = Math.max( 0, drawRange.start );\\r\\n                            end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\\r\\n\\r\\n                            for ( i = start, il = end; i < il; i += 3 ) {\\r\\n\\r\\n                                a = index.getX( i );\\r\\n                                b = index.getX( i + 1 );\\r\\n                                c = index.getX( i + 2 );\\r\\n\\r\\n                                intersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\\r\\n\\r\\n                                if ( intersection ) {\\r\\n\\r\\n                                    intersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\\r\\n                                    intersects.push( intersection );\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else if ( position !== undefined ) {\\r\\n\\r\\n                        // non-indexed buffer geometry\\r\\n\\r\\n                        if ( Array.isArray( material ) ) {\\r\\n\\r\\n                            for ( i = 0, il = groups.length; i < il; i ++ ) {\\r\\n\\r\\n                                group = groups[ i ];\\r\\n                                groupMaterial = material[ group.materialIndex ];\\r\\n\\r\\n                                start = Math.max( group.start, drawRange.start );\\r\\n                                end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\\r\\n\\r\\n                                for ( j = start, jl = end; j < jl; j += 3 ) {\\r\\n\\r\\n                                    a = j;\\r\\n                                    b = j + 1;\\r\\n                                    c = j + 2;\\r\\n\\r\\n                                    intersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, ray, position, uv, a, b, c );\\r\\n\\r\\n                                    if ( intersection ) {\\r\\n\\r\\n                                        intersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\\r\\n                                        intersects.push( intersection );\\r\\n\\r\\n                                    }\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            start = Math.max( 0, drawRange.start );\\r\\n                            end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\\r\\n\\r\\n                            for ( i = start, il = end; i < il; i += 3 ) {\\r\\n\\r\\n                                a = i;\\r\\n                                b = i + 1;\\r\\n                                c = i + 2;\\r\\n\\r\\n                                intersection = checkBufferGeometryIntersection( this, material, raycaster, ray, position, uv, a, b, c );\\r\\n\\r\\n                                if ( intersection ) {\\r\\n\\r\\n                                    intersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\\r\\n                                    intersects.push( intersection );\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( geometry.isGeometry ) {\\r\\n\\r\\n                    var fvA, fvB, fvC;\\r\\n                    var isMultiMaterial = Array.isArray( material );\\r\\n\\r\\n                    var vertices = geometry.vertices;\\r\\n                    var faces = geometry.faces;\\r\\n                    var uvs;\\r\\n\\r\\n                    var faceVertexUvs = geometry.faceVertexUvs[ 0 ];\\r\\n                    if ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\\r\\n\\r\\n                    for ( var f = 0, fl = faces.length; f < fl; f ++ ) {\\r\\n\\r\\n                        var face = faces[ f ];\\r\\n                        var faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\\r\\n\\r\\n                        if ( faceMaterial === undefined ) continue;\\r\\n\\r\\n                        fvA = vertices[ face.a ];\\r\\n                        fvB = vertices[ face.b ];\\r\\n                        fvC = vertices[ face.c ];\\r\\n\\r\\n                        if ( faceMaterial.morphTargets === true ) {\\r\\n\\r\\n                            var morphTargets = geometry.morphTargets;\\r\\n                            var morphInfluences = this.morphTargetInfluences;\\r\\n\\r\\n                            vA.set( 0, 0, 0 );\\r\\n                            vB.set( 0, 0, 0 );\\r\\n                            vC.set( 0, 0, 0 );\\r\\n\\r\\n                            for ( var t = 0, tl = morphTargets.length; t < tl; t ++ ) {\\r\\n\\r\\n                                var influence = morphInfluences[ t ];\\r\\n\\r\\n                                if ( influence === 0 ) continue;\\r\\n\\r\\n                                var targets = morphTargets[ t ].vertices;\\r\\n\\r\\n                                vA.addScaledVector( tempA.subVectors( targets[ face.a ], fvA ), influence );\\r\\n                                vB.addScaledVector( tempB.subVectors( targets[ face.b ], fvB ), influence );\\r\\n                                vC.addScaledVector( tempC.subVectors( targets[ face.c ], fvC ), influence );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            vA.add( fvA );\\r\\n                            vB.add( fvB );\\r\\n                            vC.add( fvC );\\r\\n\\r\\n                            fvA = vA;\\r\\n                            fvB = vB;\\r\\n                            fvC = vC;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        intersection = checkIntersection( this, faceMaterial, raycaster, ray, fvA, fvB, fvC, intersectionPoint );\\r\\n\\r\\n                        if ( intersection ) {\\r\\n\\r\\n                            if ( uvs && uvs[ f ] ) {\\r\\n\\r\\n                                var uvs_f = uvs[ f ];\\r\\n                                uvA.copy( uvs_f[ 0 ] );\\r\\n                                uvB.copy( uvs_f[ 1 ] );\\r\\n                                uvC.copy( uvs_f[ 2 ] );\\r\\n\\r\\n                                intersection.uv = Triangle.getUV( intersectionPoint, fvA, fvB, fvC, uvA, uvB, uvC, new Vector2() );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            intersection.face = face;\\r\\n                            intersection.faceIndex = f;\\r\\n                            intersects.push( intersection );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.geometry, this.material ).copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\\r\\n\\r\\n        var clearColor = new Color( 0x000000 );\\r\\n        var clearAlpha = 0;\\r\\n\\r\\n        var planeMesh;\\r\\n        var boxMesh;\\r\\n\\r\\n        function render( renderList, scene, camera, forceClear ) {\\r\\n\\r\\n            var background = scene.background;\\r\\n\\r\\n            if ( background === null ) {\\r\\n\\r\\n                setClear( clearColor, clearAlpha );\\r\\n\\r\\n            } else if ( background && background.isColor ) {\\r\\n\\r\\n                setClear( background, 1 );\\r\\n                forceClear = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( renderer.autoClear || forceClear ) {\\r\\n\\r\\n                renderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( background && background.isCubeTexture ) {\\r\\n\\r\\n                if ( boxMesh === undefined ) {\\r\\n\\r\\n                    boxMesh = new Mesh(\\r\\n                        new BoxBufferGeometry( 1, 1, 1 ),\\r\\n                        new ShaderMaterial( {\\r\\n                            uniforms: UniformsUtils.clone( ShaderLib.cube.uniforms ),\\r\\n                            vertexShader: ShaderLib.cube.vertexShader,\\r\\n                            fragmentShader: ShaderLib.cube.fragmentShader,\\r\\n                            side: BackSide,\\r\\n                            depthTest: true,\\r\\n                            depthWrite: false,\\r\\n                            fog: false\\r\\n                        } )\\r\\n                    );\\r\\n\\r\\n                    boxMesh.geometry.removeAttribute( 'normal' );\\r\\n                    boxMesh.geometry.removeAttribute( 'uv' );\\r\\n\\r\\n                    boxMesh.onBeforeRender = function ( renderer, scene, camera ) {\\r\\n\\r\\n                        this.matrixWorld.copyPosition( camera.matrixWorld );\\r\\n\\r\\n                    };\\r\\n\\r\\n                    objects.update( boxMesh );\\r\\n\\r\\n                }\\r\\n\\r\\n                boxMesh.material.uniforms.tCube.value = background;\\r\\n\\r\\n                renderList.push( boxMesh, boxMesh.geometry, boxMesh.material, 0, null );\\r\\n\\r\\n            } else if ( background && background.isTexture ) {\\r\\n\\r\\n                if ( planeMesh === undefined ) {\\r\\n\\r\\n                    planeMesh = new Mesh(\\r\\n                        new PlaneBufferGeometry( 2, 2 ),\\r\\n                        new ShaderMaterial( {\\r\\n                            uniforms: UniformsUtils.clone( ShaderLib.background.uniforms ),\\r\\n                            vertexShader: ShaderLib.background.vertexShader,\\r\\n                            fragmentShader: ShaderLib.background.fragmentShader,\\r\\n                            side: FrontSide,\\r\\n                            depthTest: true,\\r\\n                            depthWrite: false,\\r\\n                            fog: false\\r\\n                        } )\\r\\n                    );\\r\\n\\r\\n                    planeMesh.geometry.removeAttribute( 'normal' );\\r\\n\\r\\n                    objects.update( planeMesh );\\r\\n\\r\\n                }\\r\\n\\r\\n                planeMesh.material.uniforms.t2D.value = background;\\r\\n\\r\\n                renderList.push( planeMesh, planeMesh.geometry, planeMesh.material, 0, null );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function setClear( color, alpha ) {\\r\\n\\r\\n            state.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            getClearColor: function () {\\r\\n\\r\\n                return clearColor;\\r\\n\\r\\n            },\\r\\n            setClearColor: function ( color, alpha ) {\\r\\n\\r\\n                clearColor.set( color );\\r\\n                clearAlpha = alpha !== undefined ? alpha : 1;\\r\\n                setClear( clearColor, clearAlpha );\\r\\n\\r\\n            },\\r\\n            getClearAlpha: function () {\\r\\n\\r\\n                return clearAlpha;\\r\\n\\r\\n            },\\r\\n            setClearAlpha: function ( alpha ) {\\r\\n\\r\\n                clearAlpha = alpha;\\r\\n                setClear( clearColor, clearAlpha );\\r\\n\\r\\n            },\\r\\n            render: render\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLBufferRenderer( gl, extensions, info, capabilities ) {\\r\\n\\r\\n        var mode;\\r\\n\\r\\n        function setMode( value ) {\\r\\n\\r\\n            mode = value;\\r\\n\\r\\n        }\\r\\n\\r\\n        function render( start, count ) {\\r\\n\\r\\n            gl.drawArrays( mode, start, count );\\r\\n\\r\\n            info.update( count, mode );\\r\\n\\r\\n        }\\r\\n\\r\\n        function renderInstances( geometry, start, count ) {\\r\\n\\r\\n            var extension;\\r\\n\\r\\n            if ( capabilities.isWebGL2 ) {\\r\\n\\r\\n                extension = gl;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                extension = extensions.get( 'ANGLE_instanced_arrays' );\\r\\n\\r\\n                if ( extension === null ) {\\r\\n\\r\\n                    console.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            extension[ capabilities.isWebGL2 ? 'drawArraysInstanced' : 'drawArraysInstancedANGLE' ]( mode, start, count, geometry.maxInstancedCount );\\r\\n\\r\\n            info.update( count, mode, geometry.maxInstancedCount );\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        this.setMode = setMode;\\r\\n        this.render = render;\\r\\n        this.renderInstances = renderInstances;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLCapabilities( gl, extensions, parameters ) {\\r\\n\\r\\n        var maxAnisotropy;\\r\\n\\r\\n        function getMaxAnisotropy() {\\r\\n\\r\\n            if ( maxAnisotropy !== undefined ) return maxAnisotropy;\\r\\n\\r\\n            var extension = extensions.get( 'EXT_texture_filter_anisotropic' );\\r\\n\\r\\n            if ( extension !== null ) {\\r\\n\\r\\n                maxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                maxAnisotropy = 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            return maxAnisotropy;\\r\\n\\r\\n        }\\r\\n\\r\\n        function getMaxPrecision( precision ) {\\r\\n\\r\\n            if ( precision === 'highp' ) {\\r\\n\\r\\n                if ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.HIGH_FLOAT ).precision > 0 &&\\r\\n                    gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.HIGH_FLOAT ).precision > 0 ) {\\r\\n\\r\\n                    return 'highp';\\r\\n\\r\\n                }\\r\\n\\r\\n                precision = 'mediump';\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( precision === 'mediump' ) {\\r\\n\\r\\n                if ( gl.getShaderPrecisionFormat( gl.VERTEX_SHADER, gl.MEDIUM_FLOAT ).precision > 0 &&\\r\\n                    gl.getShaderPrecisionFormat( gl.FRAGMENT_SHADER, gl.MEDIUM_FLOAT ).precision > 0 ) {\\r\\n\\r\\n                    return 'mediump';\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return 'lowp';\\r\\n\\r\\n        }\\r\\n\\r\\n        var isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext;\\r\\n\\r\\n        var precision = parameters.precision !== undefined ? parameters.precision : 'highp';\\r\\n        var maxPrecision = getMaxPrecision( precision );\\r\\n\\r\\n        if ( maxPrecision !== precision ) {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\\r\\n            precision = maxPrecision;\\r\\n\\r\\n        }\\r\\n\\r\\n        var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\\r\\n\\r\\n        var maxTextures = gl.getParameter( gl.MAX_TEXTURE_IMAGE_UNITS );\\r\\n        var maxVertexTextures = gl.getParameter( gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS );\\r\\n        var maxTextureSize = gl.getParameter( gl.MAX_TEXTURE_SIZE );\\r\\n        var maxCubemapSize = gl.getParameter( gl.MAX_CUBE_MAP_TEXTURE_SIZE );\\r\\n\\r\\n        var maxAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\\r\\n        var maxVertexUniforms = gl.getParameter( gl.MAX_VERTEX_UNIFORM_VECTORS );\\r\\n        var maxVaryings = gl.getParameter( gl.MAX_VARYING_VECTORS );\\r\\n        var maxFragmentUniforms = gl.getParameter( gl.MAX_FRAGMENT_UNIFORM_VECTORS );\\r\\n\\r\\n        var vertexTextures = maxVertexTextures > 0;\\r\\n        var floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\\r\\n        var floatVertexTextures = vertexTextures && floatFragmentTextures;\\r\\n\\r\\n        return {\\r\\n\\r\\n            isWebGL2: isWebGL2,\\r\\n\\r\\n            getMaxAnisotropy: getMaxAnisotropy,\\r\\n            getMaxPrecision: getMaxPrecision,\\r\\n\\r\\n            precision: precision,\\r\\n            logarithmicDepthBuffer: logarithmicDepthBuffer,\\r\\n\\r\\n            maxTextures: maxTextures,\\r\\n            maxVertexTextures: maxVertexTextures,\\r\\n            maxTextureSize: maxTextureSize,\\r\\n            maxCubemapSize: maxCubemapSize,\\r\\n\\r\\n            maxAttributes: maxAttributes,\\r\\n            maxVertexUniforms: maxVertexUniforms,\\r\\n            maxVaryings: maxVaryings,\\r\\n            maxFragmentUniforms: maxFragmentUniforms,\\r\\n\\r\\n            vertexTextures: vertexTextures,\\r\\n            floatFragmentTextures: floatFragmentTextures,\\r\\n            floatVertexTextures: floatVertexTextures\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function WebGLClipping() {\\r\\n\\r\\n        var scope = this,\\r\\n\\r\\n            globalState = null,\\r\\n            numGlobalPlanes = 0,\\r\\n            localClippingEnabled = false,\\r\\n            renderingShadows = false,\\r\\n\\r\\n            plane = new Plane(),\\r\\n            viewNormalMatrix = new Matrix3(),\\r\\n\\r\\n            uniform = { value: null, needsUpdate: false };\\r\\n\\r\\n        this.uniform = uniform;\\r\\n        this.numPlanes = 0;\\r\\n        this.numIntersection = 0;\\r\\n\\r\\n        this.init = function ( planes, enableLocalClipping, camera ) {\\r\\n\\r\\n            var enabled =\\r\\n                planes.length !== 0 ||\\r\\n                enableLocalClipping ||\\r\\n                // enable state of previous frame - the clipping code has to\\r\\n                // run another frame in order to reset the state:\\r\\n                numGlobalPlanes !== 0 ||\\r\\n                localClippingEnabled;\\r\\n\\r\\n            localClippingEnabled = enableLocalClipping;\\r\\n\\r\\n            globalState = projectPlanes( planes, camera, 0 );\\r\\n            numGlobalPlanes = planes.length;\\r\\n\\r\\n            return enabled;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.beginShadows = function () {\\r\\n\\r\\n            renderingShadows = true;\\r\\n            projectPlanes( null );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.endShadows = function () {\\r\\n\\r\\n            renderingShadows = false;\\r\\n            resetGlobalState();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\\r\\n\\r\\n            if ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\\r\\n\\r\\n                // there's no local clipping\\r\\n\\r\\n                if ( renderingShadows ) {\\r\\n\\r\\n                    // there's no global clipping\\r\\n\\r\\n                    projectPlanes( null );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    resetGlobalState();\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\\r\\n                    lGlobal = nGlobal * 4,\\r\\n\\r\\n                    dstArray = cache.clippingState || null;\\r\\n\\r\\n                uniform.value = dstArray; // ensure unique state\\r\\n\\r\\n                dstArray = projectPlanes( planes, camera, lGlobal, fromCache );\\r\\n\\r\\n                for ( var i = 0; i !== lGlobal; ++ i ) {\\r\\n\\r\\n                    dstArray[ i ] = globalState[ i ];\\r\\n\\r\\n                }\\r\\n\\r\\n                cache.clippingState = dstArray;\\r\\n                this.numIntersection = clipIntersection ? this.numPlanes : 0;\\r\\n                this.numPlanes += nGlobal;\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n        };\\r\\n\\r\\n        function resetGlobalState() {\\r\\n\\r\\n            if ( uniform.value !== globalState ) {\\r\\n\\r\\n                uniform.value = globalState;\\r\\n                uniform.needsUpdate = numGlobalPlanes > 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            scope.numPlanes = numGlobalPlanes;\\r\\n            scope.numIntersection = 0;\\r\\n\\r\\n        }\\r\\n\\r\\n        function projectPlanes( planes, camera, dstOffset, skipTransform ) {\\r\\n\\r\\n            var nPlanes = planes !== null ? planes.length : 0,\\r\\n                dstArray = null;\\r\\n\\r\\n            if ( nPlanes !== 0 ) {\\r\\n\\r\\n                dstArray = uniform.value;\\r\\n\\r\\n                if ( skipTransform !== true || dstArray === null ) {\\r\\n\\r\\n                    var flatSize = dstOffset + nPlanes * 4,\\r\\n                        viewMatrix = camera.matrixWorldInverse;\\r\\n\\r\\n                    viewNormalMatrix.getNormalMatrix( viewMatrix );\\r\\n\\r\\n                    if ( dstArray === null || dstArray.length < flatSize ) {\\r\\n\\r\\n                        dstArray = new Float32Array( flatSize );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    for ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\\r\\n\\r\\n                        plane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\\r\\n\\r\\n                        plane.normal.toArray( dstArray, i4 );\\r\\n                        dstArray[ i4 + 3 ] = plane.constant;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                uniform.value = dstArray;\\r\\n                uniform.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            scope.numPlanes = nPlanes;\\r\\n\\r\\n            return dstArray;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLExtensions( gl ) {\\r\\n\\r\\n        var extensions = {};\\r\\n\\r\\n        return {\\r\\n\\r\\n            get: function ( name ) {\\r\\n\\r\\n                if ( extensions[ name ] !== undefined ) {\\r\\n\\r\\n                    return extensions[ name ];\\r\\n\\r\\n                }\\r\\n\\r\\n                var extension;\\r\\n\\r\\n                switch ( name ) {\\r\\n\\r\\n                    case 'WEBGL_depth_texture':\\r\\n                        extension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\\r\\n                        break;\\r\\n\\r\\n                    case 'EXT_texture_filter_anisotropic':\\r\\n                        extension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\\r\\n                        break;\\r\\n\\r\\n                    case 'WEBGL_compressed_texture_s3tc':\\r\\n                        extension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\\r\\n                        break;\\r\\n\\r\\n                    case 'WEBGL_compressed_texture_pvrtc':\\r\\n                        extension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\\r\\n                        break;\\r\\n\\r\\n                    default:\\r\\n                        extension = gl.getExtension( name );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( extension === null ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\\r\\n\\r\\n                }\\r\\n\\r\\n                extensions[ name ] = extension;\\r\\n\\r\\n                return extension;\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLGeometries( gl, attributes, info ) {\\r\\n\\r\\n        var geometries = {};\\r\\n        var wireframeAttributes = {};\\r\\n\\r\\n        function onGeometryDispose( event ) {\\r\\n\\r\\n            var geometry = event.target;\\r\\n            var buffergeometry = geometries[ geometry.id ];\\r\\n\\r\\n            if ( buffergeometry.index !== null ) {\\r\\n\\r\\n                attributes.remove( buffergeometry.index );\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var name in buffergeometry.attributes ) {\\r\\n\\r\\n                attributes.remove( buffergeometry.attributes[ name ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            geometry.removeEventListener( 'dispose', onGeometryDispose );\\r\\n\\r\\n            delete geometries[ geometry.id ];\\r\\n\\r\\n            var attribute = wireframeAttributes[ buffergeometry.id ];\\r\\n\\r\\n            if ( attribute ) {\\r\\n\\r\\n                attributes.remove( attribute );\\r\\n                delete wireframeAttributes[ buffergeometry.id ];\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            info.memory.geometries --;\\r\\n\\r\\n        }\\r\\n\\r\\n        function get( object, geometry ) {\\r\\n\\r\\n            var buffergeometry = geometries[ geometry.id ];\\r\\n\\r\\n            if ( buffergeometry ) return buffergeometry;\\r\\n\\r\\n            geometry.addEventListener( 'dispose', onGeometryDispose );\\r\\n\\r\\n            if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                buffergeometry = geometry;\\r\\n\\r\\n            } else if ( geometry.isGeometry ) {\\r\\n\\r\\n                if ( geometry._bufferGeometry === undefined ) {\\r\\n\\r\\n                    geometry._bufferGeometry = new BufferGeometry().setFromObject( object );\\r\\n\\r\\n                }\\r\\n\\r\\n                buffergeometry = geometry._bufferGeometry;\\r\\n\\r\\n            }\\r\\n\\r\\n            geometries[ geometry.id ] = buffergeometry;\\r\\n\\r\\n            info.memory.geometries ++;\\r\\n\\r\\n            return buffergeometry;\\r\\n\\r\\n        }\\r\\n\\r\\n        function update( geometry ) {\\r\\n\\r\\n            var index = geometry.index;\\r\\n            var geometryAttributes = geometry.attributes;\\r\\n\\r\\n            if ( index !== null ) {\\r\\n\\r\\n                attributes.update( index, gl.ELEMENT_ARRAY_BUFFER );\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var name in geometryAttributes ) {\\r\\n\\r\\n                attributes.update( geometryAttributes[ name ], gl.ARRAY_BUFFER );\\r\\n\\r\\n            }\\r\\n\\r\\n            // morph targets\\r\\n\\r\\n            var morphAttributes = geometry.morphAttributes;\\r\\n\\r\\n            for ( var name in morphAttributes ) {\\r\\n\\r\\n                var array = morphAttributes[ name ];\\r\\n\\r\\n                for ( var i = 0, l = array.length; i < l; i ++ ) {\\r\\n\\r\\n                    attributes.update( array[ i ], gl.ARRAY_BUFFER );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function getWireframeAttribute( geometry ) {\\r\\n\\r\\n            var attribute = wireframeAttributes[ geometry.id ];\\r\\n\\r\\n            if ( attribute ) return attribute;\\r\\n\\r\\n            var indices = [];\\r\\n\\r\\n            var geometryIndex = geometry.index;\\r\\n            var geometryAttributes = geometry.attributes;\\r\\n\\r\\n            // console.time( 'wireframe' );\\r\\n\\r\\n            if ( geometryIndex !== null ) {\\r\\n\\r\\n                var array = geometryIndex.array;\\r\\n\\r\\n                for ( var i = 0, l = array.length; i < l; i += 3 ) {\\r\\n\\r\\n                    var a = array[ i + 0 ];\\r\\n                    var b = array[ i + 1 ];\\r\\n                    var c = array[ i + 2 ];\\r\\n\\r\\n                    indices.push( a, b, b, c, c, a );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var array = geometryAttributes.position.array;\\r\\n\\r\\n                for ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\\r\\n\\r\\n                    var a = i + 0;\\r\\n                    var b = i + 1;\\r\\n                    var c = i + 2;\\r\\n\\r\\n                    indices.push( a, b, b, c, c, a );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // console.timeEnd( 'wireframe' );\\r\\n\\r\\n            attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\\r\\n\\r\\n            attributes.update( attribute, gl.ELEMENT_ARRAY_BUFFER );\\r\\n\\r\\n            wireframeAttributes[ geometry.id ] = attribute;\\r\\n\\r\\n            return attribute;\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            get: get,\\r\\n            update: update,\\r\\n\\r\\n            getWireframeAttribute: getWireframeAttribute\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\\r\\n\\r\\n        var mode;\\r\\n\\r\\n        function setMode( value ) {\\r\\n\\r\\n            mode = value;\\r\\n\\r\\n        }\\r\\n\\r\\n        var type, bytesPerElement;\\r\\n\\r\\n        function setIndex( value ) {\\r\\n\\r\\n            type = value.type;\\r\\n            bytesPerElement = value.bytesPerElement;\\r\\n\\r\\n        }\\r\\n\\r\\n        function render( start, count ) {\\r\\n\\r\\n            gl.drawElements( mode, count, type, start * bytesPerElement );\\r\\n\\r\\n            info.update( count, mode );\\r\\n\\r\\n        }\\r\\n\\r\\n        function renderInstances( geometry, start, count ) {\\r\\n\\r\\n            var extension;\\r\\n\\r\\n            if ( capabilities.isWebGL2 ) {\\r\\n\\r\\n                extension = gl;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var extension = extensions.get( 'ANGLE_instanced_arrays' );\\r\\n\\r\\n                if ( extension === null ) {\\r\\n\\r\\n                    console.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            extension[ capabilities.isWebGL2 ? 'drawElementsInstanced' : 'drawElementsInstancedANGLE' ]( mode, count, type, start * bytesPerElement, geometry.maxInstancedCount );\\r\\n\\r\\n            info.update( count, mode, geometry.maxInstancedCount );\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        this.setMode = setMode;\\r\\n        this.setIndex = setIndex;\\r\\n        this.render = render;\\r\\n        this.renderInstances = renderInstances;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function WebGLInfo( gl ) {\\r\\n\\r\\n        var memory = {\\r\\n            geometries: 0,\\r\\n            textures: 0\\r\\n        };\\r\\n\\r\\n        var render = {\\r\\n            frame: 0,\\r\\n            calls: 0,\\r\\n            triangles: 0,\\r\\n            points: 0,\\r\\n            lines: 0\\r\\n        };\\r\\n\\r\\n        function update( count, mode, instanceCount ) {\\r\\n\\r\\n            instanceCount = instanceCount || 1;\\r\\n\\r\\n            render.calls ++;\\r\\n\\r\\n            switch ( mode ) {\\r\\n\\r\\n                case gl.TRIANGLES:\\r\\n                    render.triangles += instanceCount * ( count / 3 );\\r\\n                    break;\\r\\n\\r\\n                case gl.TRIANGLE_STRIP:\\r\\n                case gl.TRIANGLE_FAN:\\r\\n                    render.triangles += instanceCount * ( count - 2 );\\r\\n                    break;\\r\\n\\r\\n                case gl.LINES:\\r\\n                    render.lines += instanceCount * ( count / 2 );\\r\\n                    break;\\r\\n\\r\\n                case gl.LINE_STRIP:\\r\\n                    render.lines += instanceCount * ( count - 1 );\\r\\n                    break;\\r\\n\\r\\n                case gl.LINE_LOOP:\\r\\n                    render.lines += instanceCount * count;\\r\\n                    break;\\r\\n\\r\\n                case gl.POINTS:\\r\\n                    render.points += instanceCount * count;\\r\\n                    break;\\r\\n\\r\\n                default:\\r\\n                    console.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\\r\\n                    break;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function reset() {\\r\\n\\r\\n            render.frame ++;\\r\\n            render.calls = 0;\\r\\n            render.triangles = 0;\\r\\n            render.points = 0;\\r\\n            render.lines = 0;\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            memory: memory,\\r\\n            render: render,\\r\\n            programs: null,\\r\\n            autoReset: true,\\r\\n            reset: reset,\\r\\n            update: update\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function absNumericalSort( a, b ) {\\r\\n\\r\\n        return Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\\r\\n\\r\\n    }\\r\\n\\r\\n    function WebGLMorphtargets( gl ) {\\r\\n\\r\\n        var influencesList = {};\\r\\n        var morphInfluences = new Float32Array( 8 );\\r\\n\\r\\n        function update( object, geometry, material, program ) {\\r\\n\\r\\n            var objectInfluences = object.morphTargetInfluences;\\r\\n\\r\\n            var length = objectInfluences.length;\\r\\n\\r\\n            var influences = influencesList[ geometry.id ];\\r\\n\\r\\n            if ( influences === undefined ) {\\r\\n\\r\\n                // initialise list\\r\\n\\r\\n                influences = [];\\r\\n\\r\\n                for ( var i = 0; i < length; i ++ ) {\\r\\n\\r\\n                    influences[ i ] = [ i, 0 ];\\r\\n\\r\\n                }\\r\\n\\r\\n                influencesList[ geometry.id ] = influences;\\r\\n\\r\\n            }\\r\\n\\r\\n            var morphTargets = material.morphTargets && geometry.morphAttributes.position;\\r\\n            var morphNormals = material.morphNormals && geometry.morphAttributes.normal;\\r\\n\\r\\n            // Remove current morphAttributes\\r\\n\\r\\n            for ( var i = 0; i < length; i ++ ) {\\r\\n\\r\\n                var influence = influences[ i ];\\r\\n\\r\\n                if ( influence[ 1 ] !== 0 ) {\\r\\n\\r\\n                    if ( morphTargets ) geometry.removeAttribute( 'morphTarget' + i );\\r\\n                    if ( morphNormals ) geometry.removeAttribute( 'morphNormal' + i );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // Collect influences\\r\\n\\r\\n            for ( var i = 0; i < length; i ++ ) {\\r\\n\\r\\n                var influence = influences[ i ];\\r\\n\\r\\n                influence[ 0 ] = i;\\r\\n                influence[ 1 ] = objectInfluences[ i ];\\r\\n\\r\\n            }\\r\\n\\r\\n            influences.sort( absNumericalSort );\\r\\n\\r\\n            // Add morphAttributes\\r\\n\\r\\n            for ( var i = 0; i < 8; i ++ ) {\\r\\n\\r\\n                var influence = influences[ i ];\\r\\n\\r\\n                if ( influence ) {\\r\\n\\r\\n                    var index = influence[ 0 ];\\r\\n                    var value = influence[ 1 ];\\r\\n\\r\\n                    if ( value ) {\\r\\n\\r\\n                        if ( morphTargets ) geometry.addAttribute( 'morphTarget' + i, morphTargets[ index ] );\\r\\n                        if ( morphNormals ) geometry.addAttribute( 'morphNormal' + i, morphNormals[ index ] );\\r\\n\\r\\n                        morphInfluences[ i ] = value;\\r\\n                        continue;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                morphInfluences[ i ] = 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            program.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            update: update\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLObjects( geometries, info ) {\\r\\n\\r\\n        var updateList = {};\\r\\n\\r\\n        function update( object ) {\\r\\n\\r\\n            var frame = info.render.frame;\\r\\n\\r\\n            var geometry = object.geometry;\\r\\n            var buffergeometry = geometries.get( object, geometry );\\r\\n\\r\\n            // Update once per frame\\r\\n\\r\\n            if ( updateList[ buffergeometry.id ] !== frame ) {\\r\\n\\r\\n                if ( geometry.isGeometry ) {\\r\\n\\r\\n                    buffergeometry.updateFromObject( object );\\r\\n\\r\\n                }\\r\\n\\r\\n                geometries.update( buffergeometry );\\r\\n\\r\\n                updateList[ buffergeometry.id ] = frame;\\r\\n\\r\\n            }\\r\\n\\r\\n            return buffergeometry;\\r\\n\\r\\n        }\\r\\n\\r\\n        function dispose() {\\r\\n\\r\\n            updateList = {};\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            update: update,\\r\\n            dispose: dispose\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\\r\\n\\r\\n        images = images !== undefined ? images : [];\\r\\n        mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\\r\\n\\r\\n        Texture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\\r\\n\\r\\n        this.flipY = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    CubeTexture.prototype = Object.create( Texture.prototype );\\r\\n    CubeTexture.prototype.constructor = CubeTexture;\\r\\n\\r\\n    CubeTexture.prototype.isCubeTexture = true;\\r\\n\\r\\n    Object.defineProperty( CubeTexture.prototype, 'images', {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            return this.image;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            this.image = value;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author Artur Trzesiok\\r\\n     */\\r\\n\\r\\n    function DataTexture3D( data, width, height, depth ) {\\r\\n\\r\\n        // We're going to add .setXXX() methods for setting properties later.\\r\\n        // Users can still set in DataTexture3D directly.\\r\\n        //\\r\\n        //\\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\\r\\n        // \\ttexture.anisotropy = 16;\\r\\n        //\\r\\n        // See #14839\\r\\n\\r\\n        Texture.call( this, null );\\r\\n\\r\\n        this.image = { data: data, width: width, height: height, depth: depth };\\r\\n\\r\\n        this.magFilter = NearestFilter;\\r\\n        this.minFilter = NearestFilter;\\r\\n\\r\\n        this.generateMipmaps = false;\\r\\n        this.flipY = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    DataTexture3D.prototype = Object.create( Texture.prototype );\\r\\n    DataTexture3D.prototype.constructor = DataTexture3D;\\r\\n    DataTexture3D.prototype.isDataTexture3D = true;\\r\\n\\r\\n    /**\\r\\n     * @author tschw\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     *\\r\\n     * Uniforms of a program.\\r\\n     * Those form a tree structure with a special top-level container for the root,\\r\\n     * which you get by calling 'new WebGLUniforms( gl, program, renderer )'.\\r\\n     *\\r\\n     *\\r\\n     * Properties of inner nodes including the top-level container:\\r\\n     *\\r\\n     * .seq - array of nested uniforms\\r\\n     * .map - nested uniforms by name\\r\\n     *\\r\\n     *\\r\\n     * Methods of all nodes except the top-level container:\\r\\n     *\\r\\n     * .setValue( gl, value, [renderer] )\\r\\n     *\\r\\n     * \\t\\tuploads a uniform value(s)\\r\\n     *  \\tthe 'renderer' parameter is needed for sampler uniforms\\r\\n     *\\r\\n     *\\r\\n     * Static methods of the top-level container (renderer factorizations):\\r\\n     *\\r\\n     * .upload( gl, seq, values, renderer )\\r\\n     *\\r\\n     * \\t\\tsets uniforms in 'seq' to 'values[id].value'\\r\\n     *\\r\\n     * .seqWithValue( seq, values ) : filteredSeq\\r\\n     *\\r\\n     * \\t\\tfilters 'seq' entries with corresponding entry in values\\r\\n     *\\r\\n     *\\r\\n     * Methods of the top-level container (renderer factorizations):\\r\\n     *\\r\\n     * .setValue( gl, name, value )\\r\\n     *\\r\\n     * \\t\\tsets uniform with  name 'name' to 'value'\\r\\n     *\\r\\n     * .set( gl, obj, prop )\\r\\n     *\\r\\n     * \\t\\tsets uniform from object and property with same name than uniform\\r\\n     *\\r\\n     * .setOptional( gl, obj, prop )\\r\\n     *\\r\\n     * \\t\\tlike .set for an optional property of the object\\r\\n     *\\r\\n     */\\r\\n\\r\\n    var emptyTexture = new Texture();\\r\\n    var emptyTexture3d = new DataTexture3D();\\r\\n    var emptyCubeTexture = new CubeTexture();\\r\\n\\r\\n    // --- Base for inner nodes (including the root) ---\\r\\n\\r\\n    function UniformContainer() {\\r\\n\\r\\n        this.seq = [];\\r\\n        this.map = {};\\r\\n\\r\\n    }\\r\\n\\r\\n    // --- Utilities ---\\r\\n\\r\\n    // Array Caches (provide typed arrays for temporary by size)\\r\\n\\r\\n    var arrayCacheF32 = [];\\r\\n    var arrayCacheI32 = [];\\r\\n\\r\\n    // Float32Array caches used for uploading Matrix uniforms\\r\\n\\r\\n    var mat4array = new Float32Array( 16 );\\r\\n    var mat3array = new Float32Array( 9 );\\r\\n    var mat2array = new Float32Array( 4 );\\r\\n\\r\\n    // Flattening for arrays of vectors and matrices\\r\\n\\r\\n    function flatten( array, nBlocks, blockSize ) {\\r\\n\\r\\n        var firstElem = array[ 0 ];\\r\\n\\r\\n        if ( firstElem <= 0 || firstElem > 0 ) return array;\\r\\n        // unoptimized: ! isNaN( firstElem )\\r\\n        // see http://jacksondunstan.com/articles/983\\r\\n\\r\\n        var n = nBlocks * blockSize,\\r\\n            r = arrayCacheF32[ n ];\\r\\n\\r\\n        if ( r === undefined ) {\\r\\n\\r\\n            r = new Float32Array( n );\\r\\n            arrayCacheF32[ n ] = r;\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( nBlocks !== 0 ) {\\r\\n\\r\\n            firstElem.toArray( r, 0 );\\r\\n\\r\\n            for ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\\r\\n\\r\\n                offset += blockSize;\\r\\n                array[ i ].toArray( r, offset );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        return r;\\r\\n\\r\\n    }\\r\\n\\r\\n    function arraysEqual( a, b ) {\\r\\n\\r\\n        if ( a.length !== b.length ) return false;\\r\\n\\r\\n        for ( var i = 0, l = a.length; i < l; i ++ ) {\\r\\n\\r\\n            if ( a[ i ] !== b[ i ] ) return false;\\r\\n\\r\\n        }\\r\\n\\r\\n        return true;\\r\\n\\r\\n    }\\r\\n\\r\\n    function copyArray( a, b ) {\\r\\n\\r\\n        for ( var i = 0, l = b.length; i < l; i ++ ) {\\r\\n\\r\\n            a[ i ] = b[ i ];\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // Texture unit allocation\\r\\n\\r\\n    function allocTexUnits( renderer, n ) {\\r\\n\\r\\n        var r = arrayCacheI32[ n ];\\r\\n\\r\\n        if ( r === undefined ) {\\r\\n\\r\\n            r = new Int32Array( n );\\r\\n            arrayCacheI32[ n ] = r;\\r\\n\\r\\n        }\\r\\n\\r\\n        for ( var i = 0; i !== n; ++ i )\\r\\n            r[ i ] = renderer.allocTextureUnit();\\r\\n\\r\\n        return r;\\r\\n\\r\\n    }\\r\\n\\r\\n    // --- Setters ---\\r\\n\\r\\n    // Note: Defining these methods externally, because they come in a bunch\\r\\n    // and this way their names minify.\\r\\n\\r\\n    // Single scalar\\r\\n\\r\\n    function setValue1f( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( cache[ 0 ] === v ) return;\\r\\n\\r\\n        gl.uniform1f( this.addr, v );\\r\\n\\r\\n        cache[ 0 ] = v;\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue1i( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( cache[ 0 ] === v ) return;\\r\\n\\r\\n        gl.uniform1i( this.addr, v );\\r\\n\\r\\n        cache[ 0 ] = v;\\r\\n\\r\\n    }\\r\\n\\r\\n    // Single float vector (from flat array or THREE.VectorN)\\r\\n\\r\\n    function setValue2fv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( v.x !== undefined ) {\\r\\n\\r\\n            if ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\\r\\n\\r\\n                gl.uniform2f( this.addr, v.x, v.y );\\r\\n\\r\\n                cache[ 0 ] = v.x;\\r\\n                cache[ 1 ] = v.y;\\r\\n\\r\\n            }\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n            gl.uniform2fv( this.addr, v );\\r\\n\\r\\n            copyArray( cache, v );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue3fv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( v.x !== undefined ) {\\r\\n\\r\\n            if ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\\r\\n\\r\\n                gl.uniform3f( this.addr, v.x, v.y, v.z );\\r\\n\\r\\n                cache[ 0 ] = v.x;\\r\\n                cache[ 1 ] = v.y;\\r\\n                cache[ 2 ] = v.z;\\r\\n\\r\\n            }\\r\\n\\r\\n        } else if ( v.r !== undefined ) {\\r\\n\\r\\n            if ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\\r\\n\\r\\n                gl.uniform3f( this.addr, v.r, v.g, v.b );\\r\\n\\r\\n                cache[ 0 ] = v.r;\\r\\n                cache[ 1 ] = v.g;\\r\\n                cache[ 2 ] = v.b;\\r\\n\\r\\n            }\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n            gl.uniform3fv( this.addr, v );\\r\\n\\r\\n            copyArray( cache, v );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue4fv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( v.x !== undefined ) {\\r\\n\\r\\n            if ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\\r\\n\\r\\n                gl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\\r\\n\\r\\n                cache[ 0 ] = v.x;\\r\\n                cache[ 1 ] = v.y;\\r\\n                cache[ 2 ] = v.z;\\r\\n                cache[ 3 ] = v.w;\\r\\n\\r\\n            }\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n            gl.uniform4fv( this.addr, v );\\r\\n\\r\\n            copyArray( cache, v );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // Single matrix (from flat array or MatrixN)\\r\\n\\r\\n    function setValue2fm( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var elements = v.elements;\\r\\n\\r\\n        if ( elements === undefined ) {\\r\\n\\r\\n            if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n            gl.uniformMatrix2fv( this.addr, false, v );\\r\\n\\r\\n            copyArray( cache, v );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( arraysEqual( cache, elements ) ) return;\\r\\n\\r\\n            mat2array.set( elements );\\r\\n\\r\\n            gl.uniformMatrix2fv( this.addr, false, mat2array );\\r\\n\\r\\n            copyArray( cache, elements );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue3fm( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var elements = v.elements;\\r\\n\\r\\n        if ( elements === undefined ) {\\r\\n\\r\\n            if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n            gl.uniformMatrix3fv( this.addr, false, v );\\r\\n\\r\\n            copyArray( cache, v );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( arraysEqual( cache, elements ) ) return;\\r\\n\\r\\n            mat3array.set( elements );\\r\\n\\r\\n            gl.uniformMatrix3fv( this.addr, false, mat3array );\\r\\n\\r\\n            copyArray( cache, elements );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue4fm( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var elements = v.elements;\\r\\n\\r\\n        if ( elements === undefined ) {\\r\\n\\r\\n            if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n            gl.uniformMatrix4fv( this.addr, false, v );\\r\\n\\r\\n            copyArray( cache, v );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( arraysEqual( cache, elements ) ) return;\\r\\n\\r\\n            mat4array.set( elements );\\r\\n\\r\\n            gl.uniformMatrix4fv( this.addr, false, mat4array );\\r\\n\\r\\n            copyArray( cache, elements );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // Single texture (2D / Cube)\\r\\n\\r\\n    function setValueT1( gl, v, renderer ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var unit = renderer.allocTextureUnit();\\r\\n\\r\\n        if ( cache[ 0 ] !== unit ) {\\r\\n\\r\\n            gl.uniform1i( this.addr, unit );\\r\\n            cache[ 0 ] = unit;\\r\\n\\r\\n        }\\r\\n\\r\\n        renderer.setTexture2D( v || emptyTexture, unit );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueT3D1( gl, v, renderer ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var unit = renderer.allocTextureUnit();\\r\\n\\r\\n        if ( cache[ 0 ] !== unit ) {\\r\\n\\r\\n            gl.uniform1i( this.addr, unit );\\r\\n            cache[ 0 ] = unit;\\r\\n\\r\\n        }\\r\\n\\r\\n        renderer.setTexture3D( v || emptyTexture3d, unit );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueT6( gl, v, renderer ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var unit = renderer.allocTextureUnit();\\r\\n\\r\\n        if ( cache[ 0 ] !== unit ) {\\r\\n\\r\\n            gl.uniform1i( this.addr, unit );\\r\\n            cache[ 0 ] = unit;\\r\\n\\r\\n        }\\r\\n\\r\\n        renderer.setTextureCube( v || emptyCubeTexture, unit );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Integer / Boolean vectors or arrays thereof (always flat arrays)\\r\\n\\r\\n    function setValue2iv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n        gl.uniform2iv( this.addr, v );\\r\\n\\r\\n        copyArray( cache, v );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue3iv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n        gl.uniform3iv( this.addr, v );\\r\\n\\r\\n        copyArray( cache, v );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValue4iv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n        gl.uniform4iv( this.addr, v );\\r\\n\\r\\n        copyArray( cache, v );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Helper to pick the right setter for the singular case\\r\\n\\r\\n    function getSingularSetter( type ) {\\r\\n\\r\\n        switch ( type ) {\\r\\n\\r\\n            case 0x1406: return setValue1f; // FLOAT\\r\\n            case 0x8b50: return setValue2fv; // _VEC2\\r\\n            case 0x8b51: return setValue3fv; // _VEC3\\r\\n            case 0x8b52: return setValue4fv; // _VEC4\\r\\n\\r\\n            case 0x8b5a: return setValue2fm; // _MAT2\\r\\n            case 0x8b5b: return setValue3fm; // _MAT3\\r\\n            case 0x8b5c: return setValue4fm; // _MAT4\\r\\n\\r\\n            case 0x8b5e: case 0x8d66: return setValueT1; // SAMPLER_2D, SAMPLER_EXTERNAL_OES\\r\\n            case 0x8B5F: return setValueT3D1; // SAMPLER_3D\\r\\n            case 0x8b60: return setValueT6; // SAMPLER_CUBE\\r\\n\\r\\n            case 0x1404: case 0x8b56: return setValue1i; // INT, BOOL\\r\\n            case 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\\r\\n            case 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\\r\\n            case 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // Array of scalars\\r\\n\\r\\n    function setValue1fv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n        gl.uniform1fv( this.addr, v );\\r\\n\\r\\n        copyArray( cache, v );\\r\\n\\r\\n    }\\r\\n    function setValue1iv( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( arraysEqual( cache, v ) ) return;\\r\\n\\r\\n        gl.uniform1iv( this.addr, v );\\r\\n\\r\\n        copyArray( cache, v );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Array of vectors (flat or from THREE classes)\\r\\n\\r\\n    function setValueV2a( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var data = flatten( v, this.size, 2 );\\r\\n\\r\\n        if ( arraysEqual( cache, data ) ) return;\\r\\n\\r\\n        gl.uniform2fv( this.addr, data );\\r\\n\\r\\n        this.updateCache( data );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueV3a( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var data = flatten( v, this.size, 3 );\\r\\n\\r\\n        if ( arraysEqual( cache, data ) ) return;\\r\\n\\r\\n        gl.uniform3fv( this.addr, data );\\r\\n\\r\\n        this.updateCache( data );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueV4a( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var data = flatten( v, this.size, 4 );\\r\\n\\r\\n        if ( arraysEqual( cache, data ) ) return;\\r\\n\\r\\n        gl.uniform4fv( this.addr, data );\\r\\n\\r\\n        this.updateCache( data );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Array of matrices (flat or from THREE clases)\\r\\n\\r\\n    function setValueM2a( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var data = flatten( v, this.size, 4 );\\r\\n\\r\\n        if ( arraysEqual( cache, data ) ) return;\\r\\n\\r\\n        gl.uniformMatrix2fv( this.addr, false, data );\\r\\n\\r\\n        this.updateCache( data );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueM3a( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var data = flatten( v, this.size, 9 );\\r\\n\\r\\n        if ( arraysEqual( cache, data ) ) return;\\r\\n\\r\\n        gl.uniformMatrix3fv( this.addr, false, data );\\r\\n\\r\\n        this.updateCache( data );\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueM4a( gl, v ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var data = flatten( v, this.size, 16 );\\r\\n\\r\\n        if ( arraysEqual( cache, data ) ) return;\\r\\n\\r\\n        gl.uniformMatrix4fv( this.addr, false, data );\\r\\n\\r\\n        this.updateCache( data );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Array of textures (2D / Cube)\\r\\n\\r\\n    function setValueT1a( gl, v, renderer ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var n = v.length;\\r\\n\\r\\n        var units = allocTexUnits( renderer, n );\\r\\n\\r\\n        if ( arraysEqual( cache, units ) === false ) {\\r\\n\\r\\n            gl.uniform1iv( this.addr, units );\\r\\n            copyArray( cache, units );\\r\\n\\r\\n        }\\r\\n\\r\\n        for ( var i = 0; i !== n; ++ i ) {\\r\\n\\r\\n            renderer.setTexture2D( v[ i ] || emptyTexture, units[ i ] );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function setValueT6a( gl, v, renderer ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n        var n = v.length;\\r\\n\\r\\n        var units = allocTexUnits( renderer, n );\\r\\n\\r\\n        if ( arraysEqual( cache, units ) === false ) {\\r\\n\\r\\n            gl.uniform1iv( this.addr, units );\\r\\n            copyArray( cache, units );\\r\\n\\r\\n        }\\r\\n\\r\\n        for ( var i = 0; i !== n; ++ i ) {\\r\\n\\r\\n            renderer.setTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // Helper to pick the right setter for a pure (bottom-level) array\\r\\n\\r\\n    function getPureArraySetter( type ) {\\r\\n\\r\\n        switch ( type ) {\\r\\n\\r\\n            case 0x1406: return setValue1fv; // FLOAT\\r\\n            case 0x8b50: return setValueV2a; // _VEC2\\r\\n            case 0x8b51: return setValueV3a; // _VEC3\\r\\n            case 0x8b52: return setValueV4a; // _VEC4\\r\\n\\r\\n            case 0x8b5a: return setValueM2a; // _MAT2\\r\\n            case 0x8b5b: return setValueM3a; // _MAT3\\r\\n            case 0x8b5c: return setValueM4a; // _MAT4\\r\\n\\r\\n            case 0x8b5e: return setValueT1a; // SAMPLER_2D\\r\\n            case 0x8b60: return setValueT6a; // SAMPLER_CUBE\\r\\n\\r\\n            case 0x1404: case 0x8b56: return setValue1iv; // INT, BOOL\\r\\n            case 0x8b53: case 0x8b57: return setValue2iv; // _VEC2\\r\\n            case 0x8b54: case 0x8b58: return setValue3iv; // _VEC3\\r\\n            case 0x8b55: case 0x8b59: return setValue4iv; // _VEC4\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // --- Uniform Classes ---\\r\\n\\r\\n    function SingleUniform( id, activeInfo, addr ) {\\r\\n\\r\\n        this.id = id;\\r\\n        this.addr = addr;\\r\\n        this.cache = [];\\r\\n        this.setValue = getSingularSetter( activeInfo.type );\\r\\n\\r\\n        // this.path = activeInfo.name; // DEBUG\\r\\n\\r\\n    }\\r\\n\\r\\n    function PureArrayUniform( id, activeInfo, addr ) {\\r\\n\\r\\n        this.id = id;\\r\\n        this.addr = addr;\\r\\n        this.cache = [];\\r\\n        this.size = activeInfo.size;\\r\\n        this.setValue = getPureArraySetter( activeInfo.type );\\r\\n\\r\\n        // this.path = activeInfo.name; // DEBUG\\r\\n\\r\\n    }\\r\\n\\r\\n    PureArrayUniform.prototype.updateCache = function ( data ) {\\r\\n\\r\\n        var cache = this.cache;\\r\\n\\r\\n        if ( data instanceof Float32Array && cache.length !== data.length ) {\\r\\n\\r\\n            this.cache = new Float32Array( data.length );\\r\\n\\r\\n        }\\r\\n\\r\\n        copyArray( cache, data );\\r\\n\\r\\n    };\\r\\n\\r\\n    function StructuredUniform( id ) {\\r\\n\\r\\n        this.id = id;\\r\\n\\r\\n        UniformContainer.call( this ); // mix-in\\r\\n\\r\\n    }\\r\\n\\r\\n    StructuredUniform.prototype.setValue = function ( gl, value, renderer ) {\\r\\n\\r\\n        var seq = this.seq;\\r\\n\\r\\n        for ( var i = 0, n = seq.length; i !== n; ++ i ) {\\r\\n\\r\\n            var u = seq[ i ];\\r\\n            u.setValue( gl, value[ u.id ], renderer );\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    // --- Top-level ---\\r\\n\\r\\n    // Parser - builds up the property tree from the path strings\\r\\n\\r\\n    var RePathPart = /([\\\\w\\\\d_]+)(\\\\])?(\\\\[|\\\\.)?/g;\\r\\n\\r\\n    // extracts\\r\\n    // \\t- the identifier (member name or array index)\\r\\n    //  - followed by an optional right bracket (found when array index)\\r\\n    //  - followed by an optional left bracket or dot (type of subscript)\\r\\n    //\\r\\n    // Note: These portions can be read in a non-overlapping fashion and\\r\\n    // allow straightforward parsing of the hierarchy that WebGL encodes\\r\\n    // in the uniform names.\\r\\n\\r\\n    function addUniform( container, uniformObject ) {\\r\\n\\r\\n        container.seq.push( uniformObject );\\r\\n        container.map[ uniformObject.id ] = uniformObject;\\r\\n\\r\\n    }\\r\\n\\r\\n    function parseUniform( activeInfo, addr, container ) {\\r\\n\\r\\n        var path = activeInfo.name,\\r\\n            pathLength = path.length;\\r\\n\\r\\n        // reset RegExp object, because of the early exit of a previous run\\r\\n        RePathPart.lastIndex = 0;\\r\\n\\r\\n        while ( true ) {\\r\\n\\r\\n            var match = RePathPart.exec( path ),\\r\\n                matchEnd = RePathPart.lastIndex,\\r\\n\\r\\n                id = match[ 1 ],\\r\\n                idIsIndex = match[ 2 ] === ']',\\r\\n                subscript = match[ 3 ];\\r\\n\\r\\n            if ( idIsIndex ) id = id | 0; // convert to integer\\r\\n\\r\\n            if ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\\r\\n\\r\\n                // bare name or \\\"pure\\\" bottom-level array \\\"[0]\\\" suffix\\r\\n\\r\\n                addUniform( container, subscript === undefined ?\\r\\n                    new SingleUniform( id, activeInfo, addr ) :\\r\\n                    new PureArrayUniform( id, activeInfo, addr ) );\\r\\n\\r\\n                break;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // step into inner node / create it in case it doesn't exist\\r\\n\\r\\n                var map = container.map, next = map[ id ];\\r\\n\\r\\n                if ( next === undefined ) {\\r\\n\\r\\n                    next = new StructuredUniform( id );\\r\\n                    addUniform( container, next );\\r\\n\\r\\n                }\\r\\n\\r\\n                container = next;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // Root Container\\r\\n\\r\\n    function WebGLUniforms( gl, program, renderer ) {\\r\\n\\r\\n        UniformContainer.call( this );\\r\\n\\r\\n        this.renderer = renderer;\\r\\n\\r\\n        var n = gl.getProgramParameter( program, gl.ACTIVE_UNIFORMS );\\r\\n\\r\\n        for ( var i = 0; i < n; ++ i ) {\\r\\n\\r\\n            var info = gl.getActiveUniform( program, i ),\\r\\n                addr = gl.getUniformLocation( program, info.name );\\r\\n\\r\\n            parseUniform( info, addr, this );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    WebGLUniforms.prototype.setValue = function ( gl, name, value ) {\\r\\n\\r\\n        var u = this.map[ name ];\\r\\n\\r\\n        if ( u !== undefined ) u.setValue( gl, value, this.renderer );\\r\\n\\r\\n    };\\r\\n\\r\\n    WebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\\r\\n\\r\\n        var v = object[ name ];\\r\\n\\r\\n        if ( v !== undefined ) this.setValue( gl, name, v );\\r\\n\\r\\n    };\\r\\n\\r\\n\\r\\n    // Static interface\\r\\n\\r\\n    WebGLUniforms.upload = function ( gl, seq, values, renderer ) {\\r\\n\\r\\n        for ( var i = 0, n = seq.length; i !== n; ++ i ) {\\r\\n\\r\\n            var u = seq[ i ],\\r\\n                v = values[ u.id ];\\r\\n\\r\\n            if ( v.needsUpdate !== false ) {\\r\\n\\r\\n                // note: always updating when .needsUpdate is undefined\\r\\n                u.setValue( gl, v.value, renderer );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    WebGLUniforms.seqWithValue = function ( seq, values ) {\\r\\n\\r\\n        var r = [];\\r\\n\\r\\n        for ( var i = 0, n = seq.length; i !== n; ++ i ) {\\r\\n\\r\\n            var u = seq[ i ];\\r\\n            if ( u.id in values ) r.push( u );\\r\\n\\r\\n        }\\r\\n\\r\\n        return r;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function addLineNumbers( string ) {\\r\\n\\r\\n        var lines = string.split( '\\\\n' );\\r\\n\\r\\n        for ( var i = 0; i < lines.length; i ++ ) {\\r\\n\\r\\n            lines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\\r\\n\\r\\n        }\\r\\n\\r\\n        return lines.join( '\\\\n' );\\r\\n\\r\\n    }\\r\\n\\r\\n    function WebGLShader( gl, type, string ) {\\r\\n\\r\\n        var shader = gl.createShader( type );\\r\\n\\r\\n        gl.shaderSource( shader, string );\\r\\n        gl.compileShader( shader );\\r\\n\\r\\n        if ( gl.getShaderParameter( shader, gl.COMPILE_STATUS ) === false ) {\\r\\n\\r\\n            console.error( 'THREE.WebGLShader: Shader couldn\\\\'t compile.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( gl.getShaderInfoLog( shader ) !== '' ) {\\r\\n\\r\\n            console.warn( 'THREE.WebGLShader: gl.getShaderInfoLog()', type === gl.VERTEX_SHADER ? 'vertex' : 'fragment', gl.getShaderInfoLog( shader ), addLineNumbers( string ) );\\r\\n\\r\\n        }\\r\\n\\r\\n        // --enable-privileged-webgl-extension\\r\\n        // console.log( type, gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\\r\\n\\r\\n        return shader;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var programIdCount = 0;\\r\\n\\r\\n    function getEncodingComponents( encoding ) {\\r\\n\\r\\n        switch ( encoding ) {\\r\\n\\r\\n            case LinearEncoding:\\r\\n                return [ 'Linear', '( value )' ];\\r\\n            case sRGBEncoding:\\r\\n                return [ 'sRGB', '( value )' ];\\r\\n            case RGBEEncoding:\\r\\n                return [ 'RGBE', '( value )' ];\\r\\n            case RGBM7Encoding:\\r\\n                return [ 'RGBM', '( value, 7.0 )' ];\\r\\n            case RGBM16Encoding:\\r\\n                return [ 'RGBM', '( value, 16.0 )' ];\\r\\n            case RGBDEncoding:\\r\\n                return [ 'RGBD', '( value, 256.0 )' ];\\r\\n            case GammaEncoding:\\r\\n                return [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\\r\\n            default:\\r\\n                throw new Error( 'unsupported encoding: ' + encoding );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function getTexelDecodingFunction( functionName, encoding ) {\\r\\n\\r\\n        var components = getEncodingComponents( encoding );\\r\\n        return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\\r\\n\\r\\n    }\\r\\n\\r\\n    function getTexelEncodingFunction( functionName, encoding ) {\\r\\n\\r\\n        var components = getEncodingComponents( encoding );\\r\\n        return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\\r\\n\\r\\n    }\\r\\n\\r\\n    function getToneMappingFunction( functionName, toneMapping ) {\\r\\n\\r\\n        var toneMappingName;\\r\\n\\r\\n        switch ( toneMapping ) {\\r\\n\\r\\n            case LinearToneMapping:\\r\\n                toneMappingName = 'Linear';\\r\\n                break;\\r\\n\\r\\n            case ReinhardToneMapping:\\r\\n                toneMappingName = 'Reinhard';\\r\\n                break;\\r\\n\\r\\n            case Uncharted2ToneMapping:\\r\\n                toneMappingName = 'Uncharted2';\\r\\n                break;\\r\\n\\r\\n            case CineonToneMapping:\\r\\n                toneMappingName = 'OptimizedCineon';\\r\\n                break;\\r\\n\\r\\n            default:\\r\\n                throw new Error( 'unsupported toneMapping: ' + toneMapping );\\r\\n\\r\\n        }\\r\\n\\r\\n        return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\\r\\n\\r\\n    }\\r\\n\\r\\n    function generateExtensions( extensions, parameters, rendererExtensions ) {\\r\\n\\r\\n        extensions = extensions || {};\\r\\n\\r\\n        var chunks = [\\r\\n            ( extensions.derivatives || parameters.envMapCubeUV || parameters.bumpMap || ( parameters.normalMap && ! parameters.objectSpaceNormalMap ) || parameters.flatShading ) ? '#extension GL_OES_standard_derivatives : enable' : '',\\r\\n            ( extensions.fragDepth || parameters.logarithmicDepthBuffer ) && rendererExtensions.get( 'EXT_frag_depth' ) ? '#extension GL_EXT_frag_depth : enable' : '',\\r\\n            ( extensions.drawBuffers ) && rendererExtensions.get( 'WEBGL_draw_buffers' ) ? '#extension GL_EXT_draw_buffers : require' : '',\\r\\n            ( extensions.shaderTextureLOD || parameters.envMap ) && rendererExtensions.get( 'EXT_shader_texture_lod' ) ? '#extension GL_EXT_shader_texture_lod : enable' : ''\\r\\n        ];\\r\\n\\r\\n        return chunks.filter( filterEmptyLine ).join( '\\\\n' );\\r\\n\\r\\n    }\\r\\n\\r\\n    function generateDefines( defines ) {\\r\\n\\r\\n        var chunks = [];\\r\\n\\r\\n        for ( var name in defines ) {\\r\\n\\r\\n            var value = defines[ name ];\\r\\n\\r\\n            if ( value === false ) continue;\\r\\n\\r\\n            chunks.push( '#define ' + name + ' ' + value );\\r\\n\\r\\n        }\\r\\n\\r\\n        return chunks.join( '\\\\n' );\\r\\n\\r\\n    }\\r\\n\\r\\n    function fetchAttributeLocations( gl, program ) {\\r\\n\\r\\n        var attributes = {};\\r\\n\\r\\n        var n = gl.getProgramParameter( program, gl.ACTIVE_ATTRIBUTES );\\r\\n\\r\\n        for ( var i = 0; i < n; i ++ ) {\\r\\n\\r\\n            var info = gl.getActiveAttrib( program, i );\\r\\n            var name = info.name;\\r\\n\\r\\n            // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\\r\\n\\r\\n            attributes[ name ] = gl.getAttribLocation( program, name );\\r\\n\\r\\n        }\\r\\n\\r\\n        return attributes;\\r\\n\\r\\n    }\\r\\n\\r\\n    function filterEmptyLine( string ) {\\r\\n\\r\\n        return string !== '';\\r\\n\\r\\n    }\\r\\n\\r\\n    function replaceLightNums( string, parameters ) {\\r\\n\\r\\n        return string\\r\\n            .replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\\r\\n            .replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\\r\\n            .replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\\r\\n            .replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\\r\\n            .replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights );\\r\\n\\r\\n    }\\r\\n\\r\\n    function replaceClippingPlaneNums( string, parameters ) {\\r\\n\\r\\n        return string\\r\\n            .replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\\r\\n            .replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    function parseIncludes( string ) {\\r\\n\\r\\n        var pattern = /^[ \\\\t]*#include +<([\\\\w\\\\d./]+)>/gm;\\r\\n\\r\\n        function replace( match, include ) {\\r\\n\\r\\n            var replace = ShaderChunk[ include ];\\r\\n\\r\\n            if ( replace === undefined ) {\\r\\n\\r\\n                throw new Error( 'Can not resolve #include <' + include + '>' );\\r\\n\\r\\n            }\\r\\n\\r\\n            return parseIncludes( replace );\\r\\n\\r\\n        }\\r\\n\\r\\n        return string.replace( pattern, replace );\\r\\n\\r\\n    }\\r\\n\\r\\n    function unrollLoops( string ) {\\r\\n\\r\\n        var pattern = /#pragma unroll_loop[\\\\s]+?for \\\\( int i \\\\= (\\\\d+)\\\\; i < (\\\\d+)\\\\; i \\\\+\\\\+ \\\\) \\\\{([\\\\s\\\\S]+?)(?=\\\\})\\\\}/g;\\r\\n\\r\\n        function replace( match, start, end, snippet ) {\\r\\n\\r\\n            var unroll = '';\\r\\n\\r\\n            for ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\\r\\n\\r\\n                unroll += snippet.replace( /\\\\[ i \\\\]/g, '[ ' + i + ' ]' );\\r\\n\\r\\n            }\\r\\n\\r\\n            return unroll;\\r\\n\\r\\n        }\\r\\n\\r\\n        return string.replace( pattern, replace );\\r\\n\\r\\n    }\\r\\n\\r\\n    function WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities ) {\\r\\n\\r\\n        var gl = renderer.context;\\r\\n\\r\\n        var defines = material.defines;\\r\\n\\r\\n        var vertexShader = shader.vertexShader;\\r\\n        var fragmentShader = shader.fragmentShader;\\r\\n\\r\\n        var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\\r\\n\\r\\n        if ( parameters.shadowMapType === PCFShadowMap ) {\\r\\n\\r\\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\\r\\n\\r\\n        } else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\\r\\n\\r\\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\\r\\n\\r\\n        }\\r\\n\\r\\n        var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\\r\\n        var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\\r\\n        var envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\\r\\n\\r\\n        if ( parameters.envMap ) {\\r\\n\\r\\n            switch ( material.envMap.mapping ) {\\r\\n\\r\\n                case CubeReflectionMapping:\\r\\n                case CubeRefractionMapping:\\r\\n                    envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\\r\\n                    break;\\r\\n\\r\\n                case CubeUVReflectionMapping:\\r\\n                case CubeUVRefractionMapping:\\r\\n                    envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\\r\\n                    break;\\r\\n\\r\\n                case EquirectangularReflectionMapping:\\r\\n                case EquirectangularRefractionMapping:\\r\\n                    envMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\\r\\n                    break;\\r\\n\\r\\n                case SphericalReflectionMapping:\\r\\n                    envMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\\r\\n                    break;\\r\\n\\r\\n            }\\r\\n\\r\\n            switch ( material.envMap.mapping ) {\\r\\n\\r\\n                case CubeRefractionMapping:\\r\\n                case EquirectangularRefractionMapping:\\r\\n                    envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\\r\\n                    break;\\r\\n\\r\\n            }\\r\\n\\r\\n            switch ( material.combine ) {\\r\\n\\r\\n                case MultiplyOperation:\\r\\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\\r\\n                    break;\\r\\n\\r\\n                case MixOperation:\\r\\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\\r\\n                    break;\\r\\n\\r\\n                case AddOperation:\\r\\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\\r\\n                    break;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        var gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\\r\\n\\r\\n        // console.log( 'building new program ' );\\r\\n\\r\\n        //\\r\\n\\r\\n        var customExtensions = capabilities.isWebGL2 ? '' : generateExtensions( material.extensions, parameters, extensions );\\r\\n\\r\\n        var customDefines = generateDefines( defines );\\r\\n\\r\\n        //\\r\\n\\r\\n        var program = gl.createProgram();\\r\\n\\r\\n        var prefixVertex, prefixFragment;\\r\\n\\r\\n        if ( material.isRawShaderMaterial ) {\\r\\n\\r\\n            prefixVertex = [\\r\\n\\r\\n                customDefines\\r\\n\\r\\n            ].filter( filterEmptyLine ).join( '\\\\n' );\\r\\n\\r\\n            if ( prefixVertex.length > 0 ) {\\r\\n\\r\\n                prefixVertex += '\\\\n';\\r\\n\\r\\n            }\\r\\n\\r\\n            prefixFragment = [\\r\\n\\r\\n                customExtensions,\\r\\n                customDefines\\r\\n\\r\\n            ].filter( filterEmptyLine ).join( '\\\\n' );\\r\\n\\r\\n            if ( prefixFragment.length > 0 ) {\\r\\n\\r\\n                prefixFragment += '\\\\n';\\r\\n\\r\\n            }\\r\\n\\r\\n        } else {\\r\\n\\r\\n            prefixVertex = [\\r\\n\\r\\n                'precision ' + parameters.precision + ' float;',\\r\\n                'precision ' + parameters.precision + ' int;',\\r\\n\\r\\n                '#define SHADER_NAME ' + shader.name,\\r\\n\\r\\n                customDefines,\\r\\n\\r\\n                parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\\r\\n\\r\\n                '#define GAMMA_FACTOR ' + gammaFactorDefine,\\r\\n\\r\\n                '#define MAX_BONES ' + parameters.maxBones,\\r\\n                ( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\\r\\n                ( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\\r\\n\\r\\n                parameters.map ? '#define USE_MAP' : '',\\r\\n                parameters.envMap ? '#define USE_ENVMAP' : '',\\r\\n                parameters.envMap ? '#define ' + envMapModeDefine : '',\\r\\n                parameters.lightMap ? '#define USE_LIGHTMAP' : '',\\r\\n                parameters.aoMap ? '#define USE_AOMAP' : '',\\r\\n                parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\\r\\n                parameters.bumpMap ? '#define USE_BUMPMAP' : '',\\r\\n                parameters.normalMap ? '#define USE_NORMALMAP' : '',\\r\\n                ( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\\r\\n                parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\\r\\n                parameters.specularMap ? '#define USE_SPECULARMAP' : '',\\r\\n                parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\\r\\n                parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\\r\\n                parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\\r\\n                parameters.vertexColors ? '#define USE_COLOR' : '',\\r\\n\\r\\n                parameters.flatShading ? '#define FLAT_SHADED' : '',\\r\\n\\r\\n                parameters.skinning ? '#define USE_SKINNING' : '',\\r\\n                parameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\\r\\n\\r\\n                parameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\\r\\n                parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\\r\\n                parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\\r\\n                parameters.flipSided ? '#define FLIP_SIDED' : '',\\r\\n\\r\\n                parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\\r\\n                parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\\r\\n\\r\\n                parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\\r\\n\\r\\n                parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\\r\\n                parameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\\r\\n\\r\\n                'uniform mat4 modelMatrix;',\\r\\n                'uniform mat4 modelViewMatrix;',\\r\\n                'uniform mat4 projectionMatrix;',\\r\\n                'uniform mat4 viewMatrix;',\\r\\n                'uniform mat3 normalMatrix;',\\r\\n                'uniform vec3 cameraPosition;',\\r\\n\\r\\n                'attribute vec3 position;',\\r\\n                'attribute vec3 normal;',\\r\\n                'attribute vec2 uv;',\\r\\n\\r\\n                '#ifdef USE_COLOR',\\r\\n\\r\\n                '\\tattribute vec3 color;',\\r\\n\\r\\n                '#endif',\\r\\n\\r\\n                '#ifdef USE_MORPHTARGETS',\\r\\n\\r\\n                '\\tattribute vec3 morphTarget0;',\\r\\n                '\\tattribute vec3 morphTarget1;',\\r\\n                '\\tattribute vec3 morphTarget2;',\\r\\n                '\\tattribute vec3 morphTarget3;',\\r\\n\\r\\n                '\\t#ifdef USE_MORPHNORMALS',\\r\\n\\r\\n                '\\t\\tattribute vec3 morphNormal0;',\\r\\n                '\\t\\tattribute vec3 morphNormal1;',\\r\\n                '\\t\\tattribute vec3 morphNormal2;',\\r\\n                '\\t\\tattribute vec3 morphNormal3;',\\r\\n\\r\\n                '\\t#else',\\r\\n\\r\\n                '\\t\\tattribute vec3 morphTarget4;',\\r\\n                '\\t\\tattribute vec3 morphTarget5;',\\r\\n                '\\t\\tattribute vec3 morphTarget6;',\\r\\n                '\\t\\tattribute vec3 morphTarget7;',\\r\\n\\r\\n                '\\t#endif',\\r\\n\\r\\n                '#endif',\\r\\n\\r\\n                '#ifdef USE_SKINNING',\\r\\n\\r\\n                '\\tattribute vec4 skinIndex;',\\r\\n                '\\tattribute vec4 skinWeight;',\\r\\n\\r\\n                '#endif',\\r\\n\\r\\n                '\\\\n'\\r\\n\\r\\n            ].filter( filterEmptyLine ).join( '\\\\n' );\\r\\n\\r\\n            prefixFragment = [\\r\\n\\r\\n                customExtensions,\\r\\n\\r\\n                'precision ' + parameters.precision + ' float;',\\r\\n                'precision ' + parameters.precision + ' int;',\\r\\n\\r\\n                '#define SHADER_NAME ' + shader.name,\\r\\n\\r\\n                customDefines,\\r\\n\\r\\n                parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\\r\\n\\r\\n                '#define GAMMA_FACTOR ' + gammaFactorDefine,\\r\\n\\r\\n                ( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\\r\\n                ( parameters.useFog && parameters.fogExp ) ? '#define FOG_EXP2' : '',\\r\\n\\r\\n                parameters.map ? '#define USE_MAP' : '',\\r\\n                parameters.envMap ? '#define USE_ENVMAP' : '',\\r\\n                parameters.envMap ? '#define ' + envMapTypeDefine : '',\\r\\n                parameters.envMap ? '#define ' + envMapModeDefine : '',\\r\\n                parameters.envMap ? '#define ' + envMapBlendingDefine : '',\\r\\n                parameters.lightMap ? '#define USE_LIGHTMAP' : '',\\r\\n                parameters.aoMap ? '#define USE_AOMAP' : '',\\r\\n                parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\\r\\n                parameters.bumpMap ? '#define USE_BUMPMAP' : '',\\r\\n                parameters.normalMap ? '#define USE_NORMALMAP' : '',\\r\\n                ( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\\r\\n                parameters.specularMap ? '#define USE_SPECULARMAP' : '',\\r\\n                parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\\r\\n                parameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\\r\\n                parameters.alphaMap ? '#define USE_ALPHAMAP' : '',\\r\\n                parameters.vertexColors ? '#define USE_COLOR' : '',\\r\\n\\r\\n                parameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\\r\\n\\r\\n                parameters.flatShading ? '#define FLAT_SHADED' : '',\\r\\n\\r\\n                parameters.doubleSided ? '#define DOUBLE_SIDED' : '',\\r\\n                parameters.flipSided ? '#define FLIP_SIDED' : '',\\r\\n\\r\\n                parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\\r\\n                parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\\r\\n\\r\\n                parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\\r\\n\\r\\n                parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\\r\\n\\r\\n                parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\\r\\n                parameters.logarithmicDepthBuffer && ( capabilities.isWebGL2 || extensions.get( 'EXT_frag_depth' ) ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\\r\\n\\r\\n                parameters.envMap && ( capabilities.isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) ) ? '#define TEXTURE_LOD_EXT' : '',\\r\\n\\r\\n                'uniform mat4 viewMatrix;',\\r\\n                'uniform vec3 cameraPosition;',\\r\\n\\r\\n                ( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\\r\\n                ( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\\r\\n                ( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\\r\\n\\r\\n                parameters.dithering ? '#define DITHERING' : '',\\r\\n\\r\\n                ( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding ) ?\\r\\n                    ShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\\r\\n                parameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\\r\\n                parameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\\r\\n                parameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\\r\\n                parameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\\r\\n                parameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\\r\\n\\r\\n                parameters.depthPacking ? '#define DEPTH_PACKING ' + material.depthPacking : '',\\r\\n\\r\\n                '\\\\n'\\r\\n\\r\\n            ].filter( filterEmptyLine ).join( '\\\\n' );\\r\\n\\r\\n        }\\r\\n\\r\\n        vertexShader = parseIncludes( vertexShader );\\r\\n        vertexShader = replaceLightNums( vertexShader, parameters );\\r\\n        vertexShader = replaceClippingPlaneNums( vertexShader, parameters );\\r\\n\\r\\n        fragmentShader = parseIncludes( fragmentShader );\\r\\n        fragmentShader = replaceLightNums( fragmentShader, parameters );\\r\\n        fragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\\r\\n\\r\\n        vertexShader = unrollLoops( vertexShader );\\r\\n        fragmentShader = unrollLoops( fragmentShader );\\r\\n\\r\\n        if ( capabilities.isWebGL2 && ! material.isRawShaderMaterial ) {\\r\\n\\r\\n            var isGLSL3ShaderMaterial = false;\\r\\n\\r\\n            var versionRegex = /^\\\\s*#version\\\\s+300\\\\s+es\\\\s*\\\\n/;\\r\\n\\r\\n            if ( material.isShaderMaterial &&\\r\\n                vertexShader.match( versionRegex ) !== null &&\\r\\n                fragmentShader.match( versionRegex ) !== null ) {\\r\\n\\r\\n                isGLSL3ShaderMaterial = true;\\r\\n\\r\\n                vertexShader = vertexShader.replace( versionRegex, '' );\\r\\n                fragmentShader = fragmentShader.replace( versionRegex, '' );\\r\\n\\r\\n            }\\r\\n\\r\\n            // GLSL 3.0 conversion\\r\\n            prefixVertex = [\\r\\n                '#version 300 es\\\\n',\\r\\n                '#define attribute in',\\r\\n                '#define varying out',\\r\\n                '#define texture2D texture'\\r\\n            ].join( '\\\\n' ) + '\\\\n' + prefixVertex;\\r\\n\\r\\n            prefixFragment = [\\r\\n                '#version 300 es\\\\n',\\r\\n                '#define varying in',\\r\\n                isGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\\r\\n                isGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\\r\\n                '#define gl_FragDepthEXT gl_FragDepth',\\r\\n                '#define texture2D texture',\\r\\n                '#define textureCube texture',\\r\\n                '#define texture2DProj textureProj',\\r\\n                '#define texture2DLodEXT textureLod',\\r\\n                '#define texture2DProjLodEXT textureProjLod',\\r\\n                '#define textureCubeLodEXT textureLod',\\r\\n                '#define texture2DGradEXT textureGrad',\\r\\n                '#define texture2DProjGradEXT textureProjGrad',\\r\\n                '#define textureCubeGradEXT textureGrad'\\r\\n            ].join( '\\\\n' ) + '\\\\n' + prefixFragment;\\r\\n\\r\\n        }\\r\\n\\r\\n        var vertexGlsl = prefixVertex + vertexShader;\\r\\n        var fragmentGlsl = prefixFragment + fragmentShader;\\r\\n\\r\\n        // console.log( '*VERTEX*', vertexGlsl );\\r\\n        // console.log( '*FRAGMENT*', fragmentGlsl );\\r\\n\\r\\n        var glVertexShader = WebGLShader( gl, gl.VERTEX_SHADER, vertexGlsl );\\r\\n        var glFragmentShader = WebGLShader( gl, gl.FRAGMENT_SHADER, fragmentGlsl );\\r\\n\\r\\n        gl.attachShader( program, glVertexShader );\\r\\n        gl.attachShader( program, glFragmentShader );\\r\\n\\r\\n        // Force a particular attribute to index 0.\\r\\n\\r\\n        if ( material.index0AttributeName !== undefined ) {\\r\\n\\r\\n            gl.bindAttribLocation( program, 0, material.index0AttributeName );\\r\\n\\r\\n        } else if ( parameters.morphTargets === true ) {\\r\\n\\r\\n            // programs with morphTargets displace position out of attribute 0\\r\\n            gl.bindAttribLocation( program, 0, 'position' );\\r\\n\\r\\n        }\\r\\n\\r\\n        gl.linkProgram( program );\\r\\n\\r\\n        var programLog = gl.getProgramInfoLog( program ).trim();\\r\\n        var vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\\r\\n        var fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\\r\\n\\r\\n        var runnable = true;\\r\\n        var haveDiagnostics = true;\\r\\n\\r\\n        // console.log( '**VERTEX**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glVertexShader ) );\\r\\n        // console.log( '**FRAGMENT**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( glFragmentShader ) );\\r\\n\\r\\n        if ( gl.getProgramParameter( program, gl.LINK_STATUS ) === false ) {\\r\\n\\r\\n            runnable = false;\\r\\n\\r\\n            console.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), 'gl.VALIDATE_STATUS', gl.getProgramParameter( program, gl.VALIDATE_STATUS ), 'gl.getProgramInfoLog', programLog, vertexLog, fragmentLog );\\r\\n\\r\\n        } else if ( programLog !== '' ) {\\r\\n\\r\\n            console.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\\r\\n\\r\\n        } else if ( vertexLog === '' || fragmentLog === '' ) {\\r\\n\\r\\n            haveDiagnostics = false;\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( haveDiagnostics ) {\\r\\n\\r\\n            this.diagnostics = {\\r\\n\\r\\n                runnable: runnable,\\r\\n                material: material,\\r\\n\\r\\n                programLog: programLog,\\r\\n\\r\\n                vertexShader: {\\r\\n\\r\\n                    log: vertexLog,\\r\\n                    prefix: prefixVertex\\r\\n\\r\\n                },\\r\\n\\r\\n                fragmentShader: {\\r\\n\\r\\n                    log: fragmentLog,\\r\\n                    prefix: prefixFragment\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }\\r\\n\\r\\n        // clean up\\r\\n\\r\\n        gl.deleteShader( glVertexShader );\\r\\n        gl.deleteShader( glFragmentShader );\\r\\n\\r\\n        // set up caching for uniform locations\\r\\n\\r\\n        var cachedUniforms;\\r\\n\\r\\n        this.getUniforms = function () {\\r\\n\\r\\n            if ( cachedUniforms === undefined ) {\\r\\n\\r\\n                cachedUniforms = new WebGLUniforms( gl, program, renderer );\\r\\n\\r\\n            }\\r\\n\\r\\n            return cachedUniforms;\\r\\n\\r\\n        };\\r\\n\\r\\n        // set up caching for attribute locations\\r\\n\\r\\n        var cachedAttributes;\\r\\n\\r\\n        this.getAttributes = function () {\\r\\n\\r\\n            if ( cachedAttributes === undefined ) {\\r\\n\\r\\n                cachedAttributes = fetchAttributeLocations( gl, program );\\r\\n\\r\\n            }\\r\\n\\r\\n            return cachedAttributes;\\r\\n\\r\\n        };\\r\\n\\r\\n        // free resource\\r\\n\\r\\n        this.destroy = function () {\\r\\n\\r\\n            gl.deleteProgram( program );\\r\\n            this.program = undefined;\\r\\n\\r\\n        };\\r\\n\\r\\n        // DEPRECATED\\r\\n\\r\\n        Object.defineProperties( this, {\\r\\n\\r\\n            uniforms: {\\r\\n                get: function () {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLProgram: .uniforms is now .getUniforms().' );\\r\\n                    return this.getUniforms();\\r\\n\\r\\n                }\\r\\n            },\\r\\n\\r\\n            attributes: {\\r\\n                get: function () {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLProgram: .attributes is now .getAttributes().' );\\r\\n                    return this.getAttributes();\\r\\n\\r\\n                }\\r\\n            }\\r\\n\\r\\n        } );\\r\\n\\r\\n\\r\\n        //\\r\\n\\r\\n        this.name = shader.name;\\r\\n        this.id = programIdCount ++;\\r\\n        this.code = code;\\r\\n        this.usedTimes = 1;\\r\\n        this.program = program;\\r\\n        this.vertexShader = glVertexShader;\\r\\n        this.fragmentShader = glFragmentShader;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLPrograms( renderer, extensions, capabilities ) {\\r\\n\\r\\n        var programs = [];\\r\\n\\r\\n        var shaderIDs = {\\r\\n            MeshDepthMaterial: 'depth',\\r\\n            MeshDistanceMaterial: 'distanceRGBA',\\r\\n            MeshNormalMaterial: 'normal',\\r\\n            MeshBasicMaterial: 'basic',\\r\\n            MeshLambertMaterial: 'lambert',\\r\\n            MeshPhongMaterial: 'phong',\\r\\n            MeshToonMaterial: 'phong',\\r\\n            MeshStandardMaterial: 'physical',\\r\\n            MeshPhysicalMaterial: 'physical',\\r\\n            MeshMatcapMaterial: 'matcap',\\r\\n            LineBasicMaterial: 'basic',\\r\\n            LineDashedMaterial: 'dashed',\\r\\n            PointsMaterial: 'points',\\r\\n            ShadowMaterial: 'shadow',\\r\\n            SpriteMaterial: 'sprite'\\r\\n        };\\r\\n\\r\\n        var parameterNames = [\\r\\n            \\\"precision\\\", \\\"supportsVertexTextures\\\", \\\"map\\\", \\\"mapEncoding\\\", \\\"matcapEncoding\\\", \\\"envMap\\\", \\\"envMapMode\\\", \\\"envMapEncoding\\\",\\r\\n            \\\"lightMap\\\", \\\"aoMap\\\", \\\"emissiveMap\\\", \\\"emissiveMapEncoding\\\", \\\"bumpMap\\\", \\\"normalMap\\\", \\\"objectSpaceNormalMap\\\", \\\"displacementMap\\\", \\\"specularMap\\\",\\r\\n            \\\"roughnessMap\\\", \\\"metalnessMap\\\", \\\"gradientMap\\\",\\r\\n            \\\"alphaMap\\\", \\\"combine\\\", \\\"vertexColors\\\", \\\"fog\\\", \\\"useFog\\\", \\\"fogExp\\\",\\r\\n            \\\"flatShading\\\", \\\"sizeAttenuation\\\", \\\"logarithmicDepthBuffer\\\", \\\"skinning\\\",\\r\\n            \\\"maxBones\\\", \\\"useVertexTexture\\\", \\\"morphTargets\\\", \\\"morphNormals\\\",\\r\\n            \\\"maxMorphTargets\\\", \\\"maxMorphNormals\\\", \\\"premultipliedAlpha\\\",\\r\\n            \\\"numDirLights\\\", \\\"numPointLights\\\", \\\"numSpotLights\\\", \\\"numHemiLights\\\", \\\"numRectAreaLights\\\",\\r\\n            \\\"shadowMapEnabled\\\", \\\"shadowMapType\\\", \\\"toneMapping\\\", 'physicallyCorrectLights',\\r\\n            \\\"alphaTest\\\", \\\"doubleSided\\\", \\\"flipSided\\\", \\\"numClippingPlanes\\\", \\\"numClipIntersection\\\", \\\"depthPacking\\\", \\\"dithering\\\"\\r\\n        ];\\r\\n\\r\\n\\r\\n        function allocateBones( object ) {\\r\\n\\r\\n            var skeleton = object.skeleton;\\r\\n            var bones = skeleton.bones;\\r\\n\\r\\n            if ( capabilities.floatVertexTextures ) {\\r\\n\\r\\n                return 1024;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // default for when object is not specified\\r\\n                // ( for example when prebuilding shader to be used with multiple objects )\\r\\n                //\\r\\n                //  - leave some extra space for other uniforms\\r\\n                //  - limit here is ANGLE's 254 max uniform vectors\\r\\n                //    (up to 54 should be safe)\\r\\n\\r\\n                var nVertexUniforms = capabilities.maxVertexUniforms;\\r\\n                var nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\\r\\n\\r\\n                var maxBones = Math.min( nVertexMatrices, bones.length );\\r\\n\\r\\n                if ( maxBones < bones.length ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\\r\\n                    return 0;\\r\\n\\r\\n                }\\r\\n\\r\\n                return maxBones;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function getTextureEncodingFromMap( map, gammaOverrideLinear ) {\\r\\n\\r\\n            var encoding;\\r\\n\\r\\n            if ( ! map ) {\\r\\n\\r\\n                encoding = LinearEncoding;\\r\\n\\r\\n            } else if ( map.isTexture ) {\\r\\n\\r\\n                encoding = map.encoding;\\r\\n\\r\\n            } else if ( map.isWebGLRenderTarget ) {\\r\\n\\r\\n                console.warn( \\\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\\\" );\\r\\n                encoding = map.texture.encoding;\\r\\n\\r\\n            }\\r\\n\\r\\n            // add backwards compatibility for WebGLRenderer.gammaInput/gammaOutput parameter, should probably be removed at some point.\\r\\n            if ( encoding === LinearEncoding && gammaOverrideLinear ) {\\r\\n\\r\\n                encoding = GammaEncoding;\\r\\n\\r\\n            }\\r\\n\\r\\n            return encoding;\\r\\n\\r\\n        }\\r\\n\\r\\n        this.getParameters = function ( material, lights, shadows, fog, nClipPlanes, nClipIntersection, object ) {\\r\\n\\r\\n            var shaderID = shaderIDs[ material.type ];\\r\\n\\r\\n            // heuristics to create shader parameters according to lights in the scene\\r\\n            // (not to blow over maxLights budget)\\r\\n\\r\\n            var maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\\r\\n            var precision = capabilities.precision;\\r\\n\\r\\n            if ( material.precision !== null ) {\\r\\n\\r\\n                precision = capabilities.getMaxPrecision( material.precision );\\r\\n\\r\\n                if ( precision !== material.precision ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var currentRenderTarget = renderer.getRenderTarget();\\r\\n\\r\\n            var parameters = {\\r\\n\\r\\n                shaderID: shaderID,\\r\\n\\r\\n                precision: precision,\\r\\n                supportsVertexTextures: capabilities.vertexTextures,\\r\\n                outputEncoding: getTextureEncodingFromMap( ( ! currentRenderTarget ) ? null : currentRenderTarget.texture, renderer.gammaOutput ),\\r\\n                map: !! material.map,\\r\\n                mapEncoding: getTextureEncodingFromMap( material.map, renderer.gammaInput ),\\r\\n                matcap: !! material.matcap,\\r\\n                matcapEncoding: getTextureEncodingFromMap( material.matcap, renderer.gammaInput ),\\r\\n                envMap: !! material.envMap,\\r\\n                envMapMode: material.envMap && material.envMap.mapping,\\r\\n                envMapEncoding: getTextureEncodingFromMap( material.envMap, renderer.gammaInput ),\\r\\n                envMapCubeUV: ( !! material.envMap ) && ( ( material.envMap.mapping === CubeUVReflectionMapping ) || ( material.envMap.mapping === CubeUVRefractionMapping ) ),\\r\\n                lightMap: !! material.lightMap,\\r\\n                aoMap: !! material.aoMap,\\r\\n                emissiveMap: !! material.emissiveMap,\\r\\n                emissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap, renderer.gammaInput ),\\r\\n                bumpMap: !! material.bumpMap,\\r\\n                normalMap: !! material.normalMap,\\r\\n                objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\\r\\n                displacementMap: !! material.displacementMap,\\r\\n                roughnessMap: !! material.roughnessMap,\\r\\n                metalnessMap: !! material.metalnessMap,\\r\\n                specularMap: !! material.specularMap,\\r\\n                alphaMap: !! material.alphaMap,\\r\\n\\r\\n                gradientMap: !! material.gradientMap,\\r\\n\\r\\n                combine: material.combine,\\r\\n\\r\\n                vertexColors: material.vertexColors,\\r\\n\\r\\n                fog: !! fog,\\r\\n                useFog: material.fog,\\r\\n                fogExp: ( fog && fog.isFogExp2 ),\\r\\n\\r\\n                flatShading: material.flatShading,\\r\\n\\r\\n                sizeAttenuation: material.sizeAttenuation,\\r\\n                logarithmicDepthBuffer: capabilities.logarithmicDepthBuffer,\\r\\n\\r\\n                skinning: material.skinning && maxBones > 0,\\r\\n                maxBones: maxBones,\\r\\n                useVertexTexture: capabilities.floatVertexTextures,\\r\\n\\r\\n                morphTargets: material.morphTargets,\\r\\n                morphNormals: material.morphNormals,\\r\\n                maxMorphTargets: renderer.maxMorphTargets,\\r\\n                maxMorphNormals: renderer.maxMorphNormals,\\r\\n\\r\\n                numDirLights: lights.directional.length,\\r\\n                numPointLights: lights.point.length,\\r\\n                numSpotLights: lights.spot.length,\\r\\n                numRectAreaLights: lights.rectArea.length,\\r\\n                numHemiLights: lights.hemi.length,\\r\\n\\r\\n                numClippingPlanes: nClipPlanes,\\r\\n                numClipIntersection: nClipIntersection,\\r\\n\\r\\n                dithering: material.dithering,\\r\\n\\r\\n                shadowMapEnabled: renderer.shadowMap.enabled && object.receiveShadow && shadows.length > 0,\\r\\n                shadowMapType: renderer.shadowMap.type,\\r\\n\\r\\n                toneMapping: renderer.toneMapping,\\r\\n                physicallyCorrectLights: renderer.physicallyCorrectLights,\\r\\n\\r\\n                premultipliedAlpha: material.premultipliedAlpha,\\r\\n\\r\\n                alphaTest: material.alphaTest,\\r\\n                doubleSided: material.side === DoubleSide,\\r\\n                flipSided: material.side === BackSide,\\r\\n\\r\\n                depthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false\\r\\n\\r\\n            };\\r\\n\\r\\n            return parameters;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getProgramCode = function ( material, parameters ) {\\r\\n\\r\\n            var array = [];\\r\\n\\r\\n            if ( parameters.shaderID ) {\\r\\n\\r\\n                array.push( parameters.shaderID );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                array.push( material.fragmentShader );\\r\\n                array.push( material.vertexShader );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.defines !== undefined ) {\\r\\n\\r\\n                for ( var name in material.defines ) {\\r\\n\\r\\n                    array.push( name );\\r\\n                    array.push( material.defines[ name ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0; i < parameterNames.length; i ++ ) {\\r\\n\\r\\n                array.push( parameters[ parameterNames[ i ] ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            array.push( material.onBeforeCompile.toString() );\\r\\n\\r\\n            array.push( renderer.gammaOutput );\\r\\n\\r\\n            return array.join();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.acquireProgram = function ( material, shader, parameters, code ) {\\r\\n\\r\\n            var program;\\r\\n\\r\\n            // Check if code has been already compiled\\r\\n            for ( var p = 0, pl = programs.length; p < pl; p ++ ) {\\r\\n\\r\\n                var programInfo = programs[ p ];\\r\\n\\r\\n                if ( programInfo.code === code ) {\\r\\n\\r\\n                    program = programInfo;\\r\\n                    ++ program.usedTimes;\\r\\n\\r\\n                    break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( program === undefined ) {\\r\\n\\r\\n                program = new WebGLProgram( renderer, extensions, code, material, shader, parameters, capabilities );\\r\\n                programs.push( program );\\r\\n\\r\\n            }\\r\\n\\r\\n            return program;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.releaseProgram = function ( program ) {\\r\\n\\r\\n            if ( -- program.usedTimes === 0 ) {\\r\\n\\r\\n                // Remove from unordered set\\r\\n                var i = programs.indexOf( program );\\r\\n                programs[ i ] = programs[ programs.length - 1 ];\\r\\n                programs.pop();\\r\\n\\r\\n                // Free WebGL resources\\r\\n                program.destroy();\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        // Exposed for resource monitoring & error feedback via renderer.info:\\r\\n        this.programs = programs;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author fordacious / fordacious.github.io\\r\\n     */\\r\\n\\r\\n    function WebGLProperties() {\\r\\n\\r\\n        var properties = new WeakMap();\\r\\n\\r\\n        function get( object ) {\\r\\n\\r\\n            var map = properties.get( object );\\r\\n\\r\\n            if ( map === undefined ) {\\r\\n\\r\\n                map = {};\\r\\n                properties.set( object, map );\\r\\n\\r\\n            }\\r\\n\\r\\n            return map;\\r\\n\\r\\n        }\\r\\n\\r\\n        function remove( object ) {\\r\\n\\r\\n            properties.delete( object );\\r\\n\\r\\n        }\\r\\n\\r\\n        function update( object, key, value ) {\\r\\n\\r\\n            properties.get( object )[ key ] = value;\\r\\n\\r\\n        }\\r\\n\\r\\n        function dispose() {\\r\\n\\r\\n            properties = new WeakMap();\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            get: get,\\r\\n            remove: remove,\\r\\n            update: update,\\r\\n            dispose: dispose\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function painterSortStable( a, b ) {\\r\\n\\r\\n        if ( a.renderOrder !== b.renderOrder ) {\\r\\n\\r\\n            return a.renderOrder - b.renderOrder;\\r\\n\\r\\n        } else if ( a.program && b.program && a.program !== b.program ) {\\r\\n\\r\\n            return a.program.id - b.program.id;\\r\\n\\r\\n        } else if ( a.material.id !== b.material.id ) {\\r\\n\\r\\n            return a.material.id - b.material.id;\\r\\n\\r\\n        } else if ( a.z !== b.z ) {\\r\\n\\r\\n            return a.z - b.z;\\r\\n\\r\\n        } else {\\r\\n\\r\\n            return a.id - b.id;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function reversePainterSortStable( a, b ) {\\r\\n\\r\\n        if ( a.renderOrder !== b.renderOrder ) {\\r\\n\\r\\n            return a.renderOrder - b.renderOrder;\\r\\n\\r\\n        } if ( a.z !== b.z ) {\\r\\n\\r\\n            return b.z - a.z;\\r\\n\\r\\n        } else {\\r\\n\\r\\n            return a.id - b.id;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n\\r\\n    function WebGLRenderList() {\\r\\n\\r\\n        var renderItems = [];\\r\\n        var renderItemsIndex = 0;\\r\\n\\r\\n        var opaque = [];\\r\\n        var transparent = [];\\r\\n\\r\\n        function init() {\\r\\n\\r\\n            renderItemsIndex = 0;\\r\\n\\r\\n            opaque.length = 0;\\r\\n            transparent.length = 0;\\r\\n\\r\\n        }\\r\\n\\r\\n        function push( object, geometry, material, z, group ) {\\r\\n\\r\\n            var renderItem = renderItems[ renderItemsIndex ];\\r\\n\\r\\n            if ( renderItem === undefined ) {\\r\\n\\r\\n                renderItem = {\\r\\n                    id: object.id,\\r\\n                    object: object,\\r\\n                    geometry: geometry,\\r\\n                    material: material,\\r\\n                    program: material.program,\\r\\n                    renderOrder: object.renderOrder,\\r\\n                    z: z,\\r\\n                    group: group\\r\\n                };\\r\\n\\r\\n                renderItems[ renderItemsIndex ] = renderItem;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                renderItem.id = object.id;\\r\\n                renderItem.object = object;\\r\\n                renderItem.geometry = geometry;\\r\\n                renderItem.material = material;\\r\\n                renderItem.program = material.program;\\r\\n                renderItem.renderOrder = object.renderOrder;\\r\\n                renderItem.z = z;\\r\\n                renderItem.group = group;\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            ( material.transparent === true ? transparent : opaque ).push( renderItem );\\r\\n\\r\\n            renderItemsIndex ++;\\r\\n\\r\\n        }\\r\\n\\r\\n        function sort() {\\r\\n\\r\\n            if ( opaque.length > 1 ) opaque.sort( painterSortStable );\\r\\n            if ( transparent.length > 1 ) transparent.sort( reversePainterSortStable );\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            opaque: opaque,\\r\\n            transparent: transparent,\\r\\n\\r\\n            init: init,\\r\\n            push: push,\\r\\n\\r\\n            sort: sort\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    function WebGLRenderLists() {\\r\\n\\r\\n        var lists = {};\\r\\n\\r\\n        function get( scene, camera ) {\\r\\n\\r\\n            var hash = scene.id + ',' + camera.id;\\r\\n            var list = lists[ hash ];\\r\\n\\r\\n            if ( list === undefined ) {\\r\\n\\r\\n                // console.log( 'THREE.WebGLRenderLists:', hash );\\r\\n\\r\\n                list = new WebGLRenderList();\\r\\n                lists[ hash ] = list;\\r\\n\\r\\n            }\\r\\n\\r\\n            return list;\\r\\n\\r\\n        }\\r\\n\\r\\n        function dispose() {\\r\\n\\r\\n            lists = {};\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            get: get,\\r\\n            dispose: dispose\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function UniformsCache() {\\r\\n\\r\\n        var lights = {};\\r\\n\\r\\n        return {\\r\\n\\r\\n            get: function ( light ) {\\r\\n\\r\\n                if ( lights[ light.id ] !== undefined ) {\\r\\n\\r\\n                    return lights[ light.id ];\\r\\n\\r\\n                }\\r\\n\\r\\n                var uniforms;\\r\\n\\r\\n                switch ( light.type ) {\\r\\n\\r\\n                    case 'DirectionalLight':\\r\\n                        uniforms = {\\r\\n                            direction: new Vector3(),\\r\\n                            color: new Color(),\\r\\n\\r\\n                            shadow: false,\\r\\n                            shadowBias: 0,\\r\\n                            shadowRadius: 1,\\r\\n                            shadowMapSize: new Vector2()\\r\\n                        };\\r\\n                        break;\\r\\n\\r\\n                    case 'SpotLight':\\r\\n                        uniforms = {\\r\\n                            position: new Vector3(),\\r\\n                            direction: new Vector3(),\\r\\n                            color: new Color(),\\r\\n                            distance: 0,\\r\\n                            coneCos: 0,\\r\\n                            penumbraCos: 0,\\r\\n                            decay: 0,\\r\\n\\r\\n                            shadow: false,\\r\\n                            shadowBias: 0,\\r\\n                            shadowRadius: 1,\\r\\n                            shadowMapSize: new Vector2()\\r\\n                        };\\r\\n                        break;\\r\\n\\r\\n                    case 'PointLight':\\r\\n                        uniforms = {\\r\\n                            position: new Vector3(),\\r\\n                            color: new Color(),\\r\\n                            distance: 0,\\r\\n                            decay: 0,\\r\\n\\r\\n                            shadow: false,\\r\\n                            shadowBias: 0,\\r\\n                            shadowRadius: 1,\\r\\n                            shadowMapSize: new Vector2(),\\r\\n                            shadowCameraNear: 1,\\r\\n                            shadowCameraFar: 1000\\r\\n                        };\\r\\n                        break;\\r\\n\\r\\n                    case 'HemisphereLight':\\r\\n                        uniforms = {\\r\\n                            direction: new Vector3(),\\r\\n                            skyColor: new Color(),\\r\\n                            groundColor: new Color()\\r\\n                        };\\r\\n                        break;\\r\\n\\r\\n                    case 'RectAreaLight':\\r\\n                        uniforms = {\\r\\n                            color: new Color(),\\r\\n                            position: new Vector3(),\\r\\n                            halfWidth: new Vector3(),\\r\\n                            halfHeight: new Vector3()\\r\\n                            // TODO (abelnation): set RectAreaLight shadow uniforms\\r\\n                        };\\r\\n                        break;\\r\\n\\r\\n                }\\r\\n\\r\\n                lights[ light.id ] = uniforms;\\r\\n\\r\\n                return uniforms;\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    var count = 0;\\r\\n\\r\\n    function WebGLLights() {\\r\\n\\r\\n        var cache = new UniformsCache();\\r\\n\\r\\n        var state = {\\r\\n\\r\\n            id: count ++,\\r\\n\\r\\n            hash: {\\r\\n                stateID: - 1,\\r\\n                directionalLength: - 1,\\r\\n                pointLength: - 1,\\r\\n                spotLength: - 1,\\r\\n                rectAreaLength: - 1,\\r\\n                hemiLength: - 1,\\r\\n                shadowsLength: - 1\\r\\n            },\\r\\n\\r\\n            ambient: [ 0, 0, 0 ],\\r\\n            directional: [],\\r\\n            directionalShadowMap: [],\\r\\n            directionalShadowMatrix: [],\\r\\n            spot: [],\\r\\n            spotShadowMap: [],\\r\\n            spotShadowMatrix: [],\\r\\n            rectArea: [],\\r\\n            point: [],\\r\\n            pointShadowMap: [],\\r\\n            pointShadowMatrix: [],\\r\\n            hemi: []\\r\\n\\r\\n        };\\r\\n\\r\\n        var vector3 = new Vector3();\\r\\n        var matrix4 = new Matrix4();\\r\\n        var matrix42 = new Matrix4();\\r\\n\\r\\n        function setup( lights, shadows, camera ) {\\r\\n\\r\\n            var r = 0, g = 0, b = 0;\\r\\n\\r\\n            var directionalLength = 0;\\r\\n            var pointLength = 0;\\r\\n            var spotLength = 0;\\r\\n            var rectAreaLength = 0;\\r\\n            var hemiLength = 0;\\r\\n\\r\\n            var viewMatrix = camera.matrixWorldInverse;\\r\\n\\r\\n            for ( var i = 0, l = lights.length; i < l; i ++ ) {\\r\\n\\r\\n                var light = lights[ i ];\\r\\n\\r\\n                var color = light.color;\\r\\n                var intensity = light.intensity;\\r\\n                var distance = light.distance;\\r\\n\\r\\n                var shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\\r\\n\\r\\n                if ( light.isAmbientLight ) {\\r\\n\\r\\n                    r += color.r * intensity;\\r\\n                    g += color.g * intensity;\\r\\n                    b += color.b * intensity;\\r\\n\\r\\n                } else if ( light.isDirectionalLight ) {\\r\\n\\r\\n                    var uniforms = cache.get( light );\\r\\n\\r\\n                    uniforms.color.copy( light.color ).multiplyScalar( light.intensity );\\r\\n                    uniforms.direction.setFromMatrixPosition( light.matrixWorld );\\r\\n                    vector3.setFromMatrixPosition( light.target.matrixWorld );\\r\\n                    uniforms.direction.sub( vector3 );\\r\\n                    uniforms.direction.transformDirection( viewMatrix );\\r\\n\\r\\n                    uniforms.shadow = light.castShadow;\\r\\n\\r\\n                    if ( light.castShadow ) {\\r\\n\\r\\n                        var shadow = light.shadow;\\r\\n\\r\\n                        uniforms.shadowBias = shadow.bias;\\r\\n                        uniforms.shadowRadius = shadow.radius;\\r\\n                        uniforms.shadowMapSize = shadow.mapSize;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    state.directionalShadowMap[ directionalLength ] = shadowMap;\\r\\n                    state.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\\r\\n                    state.directional[ directionalLength ] = uniforms;\\r\\n\\r\\n                    directionalLength ++;\\r\\n\\r\\n                } else if ( light.isSpotLight ) {\\r\\n\\r\\n                    var uniforms = cache.get( light );\\r\\n\\r\\n                    uniforms.position.setFromMatrixPosition( light.matrixWorld );\\r\\n                    uniforms.position.applyMatrix4( viewMatrix );\\r\\n\\r\\n                    uniforms.color.copy( color ).multiplyScalar( intensity );\\r\\n                    uniforms.distance = distance;\\r\\n\\r\\n                    uniforms.direction.setFromMatrixPosition( light.matrixWorld );\\r\\n                    vector3.setFromMatrixPosition( light.target.matrixWorld );\\r\\n                    uniforms.direction.sub( vector3 );\\r\\n                    uniforms.direction.transformDirection( viewMatrix );\\r\\n\\r\\n                    uniforms.coneCos = Math.cos( light.angle );\\r\\n                    uniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\\r\\n                    uniforms.decay = light.decay;\\r\\n\\r\\n                    uniforms.shadow = light.castShadow;\\r\\n\\r\\n                    if ( light.castShadow ) {\\r\\n\\r\\n                        var shadow = light.shadow;\\r\\n\\r\\n                        uniforms.shadowBias = shadow.bias;\\r\\n                        uniforms.shadowRadius = shadow.radius;\\r\\n                        uniforms.shadowMapSize = shadow.mapSize;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    state.spotShadowMap[ spotLength ] = shadowMap;\\r\\n                    state.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\\r\\n                    state.spot[ spotLength ] = uniforms;\\r\\n\\r\\n                    spotLength ++;\\r\\n\\r\\n                } else if ( light.isRectAreaLight ) {\\r\\n\\r\\n                    var uniforms = cache.get( light );\\r\\n\\r\\n                    // (a) intensity is the total visible light emitted\\r\\n                    //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\\r\\n\\r\\n                    // (b) intensity is the brightness of the light\\r\\n                    uniforms.color.copy( color ).multiplyScalar( intensity );\\r\\n\\r\\n                    uniforms.position.setFromMatrixPosition( light.matrixWorld );\\r\\n                    uniforms.position.applyMatrix4( viewMatrix );\\r\\n\\r\\n                    // extract local rotation of light to derive width/height half vectors\\r\\n                    matrix42.identity();\\r\\n                    matrix4.copy( light.matrixWorld );\\r\\n                    matrix4.premultiply( viewMatrix );\\r\\n                    matrix42.extractRotation( matrix4 );\\r\\n\\r\\n                    uniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\\r\\n                    uniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\\r\\n\\r\\n                    uniforms.halfWidth.applyMatrix4( matrix42 );\\r\\n                    uniforms.halfHeight.applyMatrix4( matrix42 );\\r\\n\\r\\n                    // TODO (abelnation): RectAreaLight distance?\\r\\n                    // uniforms.distance = distance;\\r\\n\\r\\n                    state.rectArea[ rectAreaLength ] = uniforms;\\r\\n\\r\\n                    rectAreaLength ++;\\r\\n\\r\\n                } else if ( light.isPointLight ) {\\r\\n\\r\\n                    var uniforms = cache.get( light );\\r\\n\\r\\n                    uniforms.position.setFromMatrixPosition( light.matrixWorld );\\r\\n                    uniforms.position.applyMatrix4( viewMatrix );\\r\\n\\r\\n                    uniforms.color.copy( light.color ).multiplyScalar( light.intensity );\\r\\n                    uniforms.distance = light.distance;\\r\\n                    uniforms.decay = light.decay;\\r\\n\\r\\n                    uniforms.shadow = light.castShadow;\\r\\n\\r\\n                    if ( light.castShadow ) {\\r\\n\\r\\n                        var shadow = light.shadow;\\r\\n\\r\\n                        uniforms.shadowBias = shadow.bias;\\r\\n                        uniforms.shadowRadius = shadow.radius;\\r\\n                        uniforms.shadowMapSize = shadow.mapSize;\\r\\n                        uniforms.shadowCameraNear = shadow.camera.near;\\r\\n                        uniforms.shadowCameraFar = shadow.camera.far;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    state.pointShadowMap[ pointLength ] = shadowMap;\\r\\n                    state.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\\r\\n                    state.point[ pointLength ] = uniforms;\\r\\n\\r\\n                    pointLength ++;\\r\\n\\r\\n                } else if ( light.isHemisphereLight ) {\\r\\n\\r\\n                    var uniforms = cache.get( light );\\r\\n\\r\\n                    uniforms.direction.setFromMatrixPosition( light.matrixWorld );\\r\\n                    uniforms.direction.transformDirection( viewMatrix );\\r\\n                    uniforms.direction.normalize();\\r\\n\\r\\n                    uniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\\r\\n                    uniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\\r\\n\\r\\n                    state.hemi[ hemiLength ] = uniforms;\\r\\n\\r\\n                    hemiLength ++;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            state.ambient[ 0 ] = r;\\r\\n            state.ambient[ 1 ] = g;\\r\\n            state.ambient[ 2 ] = b;\\r\\n\\r\\n            state.directional.length = directionalLength;\\r\\n            state.spot.length = spotLength;\\r\\n            state.rectArea.length = rectAreaLength;\\r\\n            state.point.length = pointLength;\\r\\n            state.hemi.length = hemiLength;\\r\\n\\r\\n            state.hash.stateID = state.id;\\r\\n            state.hash.directionalLength = directionalLength;\\r\\n            state.hash.pointLength = pointLength;\\r\\n            state.hash.spotLength = spotLength;\\r\\n            state.hash.rectAreaLength = rectAreaLength;\\r\\n            state.hash.hemiLength = hemiLength;\\r\\n            state.hash.shadowsLength = shadows.length;\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            setup: setup,\\r\\n            state: state\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function WebGLRenderState() {\\r\\n\\r\\n        var lights = new WebGLLights();\\r\\n\\r\\n        var lightsArray = [];\\r\\n        var shadowsArray = [];\\r\\n\\r\\n        function init() {\\r\\n\\r\\n            lightsArray.length = 0;\\r\\n            shadowsArray.length = 0;\\r\\n\\r\\n        }\\r\\n\\r\\n        function pushLight( light ) {\\r\\n\\r\\n            lightsArray.push( light );\\r\\n\\r\\n        }\\r\\n\\r\\n        function pushShadow( shadowLight ) {\\r\\n\\r\\n            shadowsArray.push( shadowLight );\\r\\n\\r\\n        }\\r\\n\\r\\n        function setupLights( camera ) {\\r\\n\\r\\n            lights.setup( lightsArray, shadowsArray, camera );\\r\\n\\r\\n        }\\r\\n\\r\\n        var state = {\\r\\n            lightsArray: lightsArray,\\r\\n            shadowsArray: shadowsArray,\\r\\n\\r\\n            lights: lights\\r\\n        };\\r\\n\\r\\n        return {\\r\\n            init: init,\\r\\n            state: state,\\r\\n            setupLights: setupLights,\\r\\n\\r\\n            pushLight: pushLight,\\r\\n            pushShadow: pushShadow\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    function WebGLRenderStates() {\\r\\n\\r\\n        var renderStates = {};\\r\\n\\r\\n        function get( scene, camera ) {\\r\\n\\r\\n            var renderState;\\r\\n\\r\\n            if ( renderStates[ scene.id ] === undefined ) {\\r\\n\\r\\n                renderState = new WebGLRenderState();\\r\\n                renderStates[ scene.id ] = {};\\r\\n                renderStates[ scene.id ][ camera.id ] = renderState;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                if ( renderStates[ scene.id ][ camera.id ] === undefined ) {\\r\\n\\r\\n                    renderState = new WebGLRenderState();\\r\\n                    renderStates[ scene.id ][ camera.id ] = renderState;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    renderState = renderStates[ scene.id ][ camera.id ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return renderState;\\r\\n\\r\\n        }\\r\\n\\r\\n        function dispose() {\\r\\n\\r\\n            renderStates = {};\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n            get: get,\\r\\n            dispose: dispose\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author bhouston / https://clara.io\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  displacementMap: new THREE.Texture( <Image> ),\\r\\n\\t *  displacementScale: <float>,\\r\\n\\t *  displacementBias: <float>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshDepthMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'MeshDepthMaterial';\\r\\n\\r\\n        this.depthPacking = BasicDepthPacking;\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.displacementMap = null;\\r\\n        this.displacementScale = 1;\\r\\n        this.displacementBias = 0;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n\\r\\n        this.fog = false;\\r\\n        this.lights = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshDepthMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\\r\\n\\r\\n    MeshDepthMaterial.prototype.isMeshDepthMaterial = true;\\r\\n\\r\\n    MeshDepthMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.depthPacking = source.depthPacking;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.displacementMap = source.displacementMap;\\r\\n        this.displacementScale = source.displacementScale;\\r\\n        this.displacementBias = source.displacementBias;\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *\\r\\n\\t *  referencePosition: <float>,\\r\\n\\t *  nearDistance: <float>,\\r\\n\\t *  farDistance: <float>,\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  displacementMap: new THREE.Texture( <Image> ),\\r\\n\\t *  displacementScale: <float>,\\r\\n\\t *  displacementBias: <float>\\r\\n\\t *\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshDistanceMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'MeshDistanceMaterial';\\r\\n\\r\\n        this.referencePosition = new Vector3();\\r\\n        this.nearDistance = 1;\\r\\n        this.farDistance = 1000;\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.displacementMap = null;\\r\\n        this.displacementScale = 1;\\r\\n        this.displacementBias = 0;\\r\\n\\r\\n        this.fog = false;\\r\\n        this.lights = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshDistanceMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\\r\\n\\r\\n    MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\\r\\n\\r\\n    MeshDistanceMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.referencePosition.copy( source.referencePosition );\\r\\n        this.nearDistance = source.nearDistance;\\r\\n        this.farDistance = source.farDistance;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.displacementMap = source.displacementMap;\\r\\n        this.displacementScale = source.displacementScale;\\r\\n        this.displacementBias = source.displacementBias;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\\r\\n\\r\\n        var _frustum = new Frustum(),\\r\\n            _projScreenMatrix = new Matrix4(),\\r\\n\\r\\n            _shadowMapSize = new Vector2(),\\r\\n            _maxShadowMapSize = new Vector2( maxTextureSize, maxTextureSize ),\\r\\n\\r\\n            _lookTarget = new Vector3(),\\r\\n            _lightPositionWorld = new Vector3(),\\r\\n\\r\\n            _MorphingFlag = 1,\\r\\n            _SkinningFlag = 2,\\r\\n\\r\\n            _NumberOfMaterialVariants = ( _MorphingFlag | _SkinningFlag ) + 1,\\r\\n\\r\\n            _depthMaterials = new Array( _NumberOfMaterialVariants ),\\r\\n            _distanceMaterials = new Array( _NumberOfMaterialVariants ),\\r\\n\\r\\n            _materialCache = {};\\r\\n\\r\\n        var shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\\r\\n\\r\\n        var cubeDirections = [\\r\\n            new Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\\r\\n            new Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\\r\\n        ];\\r\\n\\r\\n        var cubeUps = [\\r\\n            new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\\r\\n            new Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\\tnew Vector3( 0, 0, - 1 )\\r\\n        ];\\r\\n\\r\\n        var cube2DViewPorts = [\\r\\n            new Vector4(), new Vector4(), new Vector4(),\\r\\n            new Vector4(), new Vector4(), new Vector4()\\r\\n        ];\\r\\n\\r\\n        // init\\r\\n\\r\\n        for ( var i = 0; i !== _NumberOfMaterialVariants; ++ i ) {\\r\\n\\r\\n            var useMorphing = ( i & _MorphingFlag ) !== 0;\\r\\n            var useSkinning = ( i & _SkinningFlag ) !== 0;\\r\\n\\r\\n            var depthMaterial = new MeshDepthMaterial( {\\r\\n\\r\\n                depthPacking: RGBADepthPacking,\\r\\n\\r\\n                morphTargets: useMorphing,\\r\\n                skinning: useSkinning\\r\\n\\r\\n            } );\\r\\n\\r\\n            _depthMaterials[ i ] = depthMaterial;\\r\\n\\r\\n            //\\r\\n\\r\\n            var distanceMaterial = new MeshDistanceMaterial( {\\r\\n\\r\\n                morphTargets: useMorphing,\\r\\n                skinning: useSkinning\\r\\n\\r\\n            } );\\r\\n\\r\\n            _distanceMaterials[ i ] = distanceMaterial;\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        this.enabled = false;\\r\\n\\r\\n        this.autoUpdate = true;\\r\\n        this.needsUpdate = false;\\r\\n\\r\\n        this.type = PCFShadowMap;\\r\\n\\r\\n        this.render = function ( lights, scene, camera ) {\\r\\n\\r\\n            if ( scope.enabled === false ) return;\\r\\n            if ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\\r\\n\\r\\n            if ( lights.length === 0 ) return;\\r\\n\\r\\n            // TODO Clean up (needed in case of contextlost)\\r\\n            var _gl = _renderer.context;\\r\\n            var _state = _renderer.state;\\r\\n\\r\\n            // Set GL state for depth map.\\r\\n            _state.disable( _gl.BLEND );\\r\\n            _state.buffers.color.setClear( 1, 1, 1, 1 );\\r\\n            _state.buffers.depth.setTest( true );\\r\\n            _state.setScissorTest( false );\\r\\n\\r\\n            // render depth map\\r\\n\\r\\n            var faceCount;\\r\\n\\r\\n            for ( var i = 0, il = lights.length; i < il; i ++ ) {\\r\\n\\r\\n                var light = lights[ i ];\\r\\n                var shadow = light.shadow;\\r\\n                var isPointLight = light && light.isPointLight;\\r\\n\\r\\n                if ( shadow === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\\r\\n                    continue;\\r\\n\\r\\n                }\\r\\n\\r\\n                var shadowCamera = shadow.camera;\\r\\n\\r\\n                _shadowMapSize.copy( shadow.mapSize );\\r\\n                _shadowMapSize.min( _maxShadowMapSize );\\r\\n\\r\\n                if ( isPointLight ) {\\r\\n\\r\\n                    var vpWidth = _shadowMapSize.x;\\r\\n                    var vpHeight = _shadowMapSize.y;\\r\\n\\r\\n                    // These viewports map a cube-map onto a 2D texture with the\\r\\n                    // following orientation:\\r\\n                    //\\r\\n                    //  xzXZ\\r\\n                    //   y Y\\r\\n                    //\\r\\n                    // X - Positive x direction\\r\\n                    // x - Negative x direction\\r\\n                    // Y - Positive y direction\\r\\n                    // y - Negative y direction\\r\\n                    // Z - Positive z direction\\r\\n                    // z - Negative z direction\\r\\n\\r\\n                    // positive X\\r\\n                    cube2DViewPorts[ 0 ].set( vpWidth * 2, vpHeight, vpWidth, vpHeight );\\r\\n                    // negative X\\r\\n                    cube2DViewPorts[ 1 ].set( 0, vpHeight, vpWidth, vpHeight );\\r\\n                    // positive Z\\r\\n                    cube2DViewPorts[ 2 ].set( vpWidth * 3, vpHeight, vpWidth, vpHeight );\\r\\n                    // negative Z\\r\\n                    cube2DViewPorts[ 3 ].set( vpWidth, vpHeight, vpWidth, vpHeight );\\r\\n                    // positive Y\\r\\n                    cube2DViewPorts[ 4 ].set( vpWidth * 3, 0, vpWidth, vpHeight );\\r\\n                    // negative Y\\r\\n                    cube2DViewPorts[ 5 ].set( vpWidth, 0, vpWidth, vpHeight );\\r\\n\\r\\n                    _shadowMapSize.x *= 4.0;\\r\\n                    _shadowMapSize.y *= 2.0;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( shadow.map === null ) {\\r\\n\\r\\n                    var pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\\r\\n\\r\\n                    shadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\\r\\n                    shadow.map.texture.name = light.name + \\\".shadowMap\\\";\\r\\n\\r\\n                    shadowCamera.updateProjectionMatrix();\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( shadow.isSpotLightShadow ) {\\r\\n\\r\\n                    shadow.update( light );\\r\\n\\r\\n                }\\r\\n\\r\\n                var shadowMap = shadow.map;\\r\\n                var shadowMatrix = shadow.matrix;\\r\\n\\r\\n                _lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\\r\\n                shadowCamera.position.copy( _lightPositionWorld );\\r\\n\\r\\n                if ( isPointLight ) {\\r\\n\\r\\n                    faceCount = 6;\\r\\n\\r\\n                    // for point lights we set the shadow matrix to be a translation-only matrix\\r\\n                    // equal to inverse of the light's position\\r\\n\\r\\n                    shadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    faceCount = 1;\\r\\n\\r\\n                    _lookTarget.setFromMatrixPosition( light.target.matrixWorld );\\r\\n                    shadowCamera.lookAt( _lookTarget );\\r\\n                    shadowCamera.updateMatrixWorld();\\r\\n\\r\\n                    // compute shadow matrix\\r\\n\\r\\n                    shadowMatrix.set(\\r\\n                        0.5, 0.0, 0.0, 0.5,\\r\\n                        0.0, 0.5, 0.0, 0.5,\\r\\n                        0.0, 0.0, 0.5, 0.5,\\r\\n                        0.0, 0.0, 0.0, 1.0\\r\\n                    );\\r\\n\\r\\n                    shadowMatrix.multiply( shadowCamera.projectionMatrix );\\r\\n                    shadowMatrix.multiply( shadowCamera.matrixWorldInverse );\\r\\n\\r\\n                }\\r\\n\\r\\n                _renderer.setRenderTarget( shadowMap );\\r\\n                _renderer.clear();\\r\\n\\r\\n                // render shadow map for each cube face (if omni-directional) or\\r\\n                // run a single pass if not\\r\\n\\r\\n                for ( var face = 0; face < faceCount; face ++ ) {\\r\\n\\r\\n                    if ( isPointLight ) {\\r\\n\\r\\n                        _lookTarget.copy( shadowCamera.position );\\r\\n                        _lookTarget.add( cubeDirections[ face ] );\\r\\n                        shadowCamera.up.copy( cubeUps[ face ] );\\r\\n                        shadowCamera.lookAt( _lookTarget );\\r\\n                        shadowCamera.updateMatrixWorld();\\r\\n\\r\\n                        var vpDimensions = cube2DViewPorts[ face ];\\r\\n                        _state.viewport( vpDimensions );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    // update camera matrices and frustum\\r\\n\\r\\n                    _projScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\\r\\n                    _frustum.setFromMatrix( _projScreenMatrix );\\r\\n\\r\\n                    // set object matrices & frustum culling\\r\\n\\r\\n                    renderObject( scene, camera, shadowCamera, isPointLight );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            scope.needsUpdate = false;\\r\\n\\r\\n        };\\r\\n\\r\\n        function getDepthMaterial( object, material, isPointLight, lightPositionWorld, shadowCameraNear, shadowCameraFar ) {\\r\\n\\r\\n            var geometry = object.geometry;\\r\\n\\r\\n            var result = null;\\r\\n\\r\\n            var materialVariants = _depthMaterials;\\r\\n            var customMaterial = object.customDepthMaterial;\\r\\n\\r\\n            if ( isPointLight ) {\\r\\n\\r\\n                materialVariants = _distanceMaterials;\\r\\n                customMaterial = object.customDistanceMaterial;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ! customMaterial ) {\\r\\n\\r\\n                var useMorphing = false;\\r\\n\\r\\n                if ( material.morphTargets ) {\\r\\n\\r\\n                    if ( geometry && geometry.isBufferGeometry ) {\\r\\n\\r\\n                        useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\\r\\n\\r\\n                    } else if ( geometry && geometry.isGeometry ) {\\r\\n\\r\\n                        useMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( object.isSkinnedMesh && material.skinning === false ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\\r\\n\\r\\n                }\\r\\n\\r\\n                var useSkinning = object.isSkinnedMesh && material.skinning;\\r\\n\\r\\n                var variantIndex = 0;\\r\\n\\r\\n                if ( useMorphing ) variantIndex |= _MorphingFlag;\\r\\n                if ( useSkinning ) variantIndex |= _SkinningFlag;\\r\\n\\r\\n                result = materialVariants[ variantIndex ];\\r\\n\\r\\n            } else {\\r\\n\\r\\n                result = customMaterial;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( _renderer.localClippingEnabled &&\\r\\n                material.clipShadows === true &&\\r\\n                material.clippingPlanes.length !== 0 ) {\\r\\n\\r\\n                // in this case we need a unique material instance reflecting the\\r\\n                // appropriate state\\r\\n\\r\\n                var keyA = result.uuid, keyB = material.uuid;\\r\\n\\r\\n                var materialsForVariant = _materialCache[ keyA ];\\r\\n\\r\\n                if ( materialsForVariant === undefined ) {\\r\\n\\r\\n                    materialsForVariant = {};\\r\\n                    _materialCache[ keyA ] = materialsForVariant;\\r\\n\\r\\n                }\\r\\n\\r\\n                var cachedMaterial = materialsForVariant[ keyB ];\\r\\n\\r\\n                if ( cachedMaterial === undefined ) {\\r\\n\\r\\n                    cachedMaterial = result.clone();\\r\\n                    materialsForVariant[ keyB ] = cachedMaterial;\\r\\n\\r\\n                }\\r\\n\\r\\n                result = cachedMaterial;\\r\\n\\r\\n            }\\r\\n\\r\\n            result.visible = material.visible;\\r\\n            result.wireframe = material.wireframe;\\r\\n\\r\\n            result.side = ( material.shadowSide != null ) ? material.shadowSide : shadowSide[ material.side ];\\r\\n\\r\\n            result.clipShadows = material.clipShadows;\\r\\n            result.clippingPlanes = material.clippingPlanes;\\r\\n            result.clipIntersection = material.clipIntersection;\\r\\n\\r\\n            result.wireframeLinewidth = material.wireframeLinewidth;\\r\\n            result.linewidth = material.linewidth;\\r\\n\\r\\n            if ( isPointLight && result.isMeshDistanceMaterial ) {\\r\\n\\r\\n                result.referencePosition.copy( lightPositionWorld );\\r\\n                result.nearDistance = shadowCameraNear;\\r\\n                result.farDistance = shadowCameraFar;\\r\\n\\r\\n            }\\r\\n\\r\\n            return result;\\r\\n\\r\\n        }\\r\\n\\r\\n        function renderObject( object, camera, shadowCamera, isPointLight ) {\\r\\n\\r\\n            if ( object.visible === false ) return;\\r\\n\\r\\n            var visible = object.layers.test( camera.layers );\\r\\n\\r\\n            if ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\\r\\n\\r\\n                if ( object.castShadow && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\\r\\n\\r\\n                    object.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\\r\\n\\r\\n                    var geometry = _objects.update( object );\\r\\n                    var material = object.material;\\r\\n\\r\\n                    if ( Array.isArray( material ) ) {\\r\\n\\r\\n                        var groups = geometry.groups;\\r\\n\\r\\n                        for ( var k = 0, kl = groups.length; k < kl; k ++ ) {\\r\\n\\r\\n                            var group = groups[ k ];\\r\\n                            var groupMaterial = material[ group.materialIndex ];\\r\\n\\r\\n                            if ( groupMaterial && groupMaterial.visible ) {\\r\\n\\r\\n                                var depthMaterial = getDepthMaterial( object, groupMaterial, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\\r\\n                                _renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else if ( material.visible ) {\\r\\n\\r\\n                        var depthMaterial = getDepthMaterial( object, material, isPointLight, _lightPositionWorld, shadowCamera.near, shadowCamera.far );\\r\\n                        _renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var children = object.children;\\r\\n\\r\\n            for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                renderObject( children[ i ], camera, shadowCamera, isPointLight );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLState( gl, extensions, utils, capabilities ) {\\r\\n\\r\\n        function ColorBuffer() {\\r\\n\\r\\n            var locked = false;\\r\\n\\r\\n            var color = new Vector4();\\r\\n            var currentColorMask = null;\\r\\n            var currentColorClear = new Vector4( 0, 0, 0, 0 );\\r\\n\\r\\n            return {\\r\\n\\r\\n                setMask: function ( colorMask ) {\\r\\n\\r\\n                    if ( currentColorMask !== colorMask && ! locked ) {\\r\\n\\r\\n                        gl.colorMask( colorMask, colorMask, colorMask, colorMask );\\r\\n                        currentColorMask = colorMask;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setLocked: function ( lock ) {\\r\\n\\r\\n                    locked = lock;\\r\\n\\r\\n                },\\r\\n\\r\\n                setClear: function ( r, g, b, a, premultipliedAlpha ) {\\r\\n\\r\\n                    if ( premultipliedAlpha === true ) {\\r\\n\\r\\n                        r *= a; g *= a; b *= a;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    color.set( r, g, b, a );\\r\\n\\r\\n                    if ( currentColorClear.equals( color ) === false ) {\\r\\n\\r\\n                        gl.clearColor( r, g, b, a );\\r\\n                        currentColorClear.copy( color );\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                reset: function () {\\r\\n\\r\\n                    locked = false;\\r\\n\\r\\n                    currentColorMask = null;\\r\\n                    currentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }\\r\\n\\r\\n        function DepthBuffer() {\\r\\n\\r\\n            var locked = false;\\r\\n\\r\\n            var currentDepthMask = null;\\r\\n            var currentDepthFunc = null;\\r\\n            var currentDepthClear = null;\\r\\n\\r\\n            return {\\r\\n\\r\\n                setTest: function ( depthTest ) {\\r\\n\\r\\n                    if ( depthTest ) {\\r\\n\\r\\n                        enable( gl.DEPTH_TEST );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        disable( gl.DEPTH_TEST );\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setMask: function ( depthMask ) {\\r\\n\\r\\n                    if ( currentDepthMask !== depthMask && ! locked ) {\\r\\n\\r\\n                        gl.depthMask( depthMask );\\r\\n                        currentDepthMask = depthMask;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setFunc: function ( depthFunc ) {\\r\\n\\r\\n                    if ( currentDepthFunc !== depthFunc ) {\\r\\n\\r\\n                        if ( depthFunc ) {\\r\\n\\r\\n                            switch ( depthFunc ) {\\r\\n\\r\\n                                case NeverDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.NEVER );\\r\\n                                    break;\\r\\n\\r\\n                                case AlwaysDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.ALWAYS );\\r\\n                                    break;\\r\\n\\r\\n                                case LessDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.LESS );\\r\\n                                    break;\\r\\n\\r\\n                                case LessEqualDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.LEQUAL );\\r\\n                                    break;\\r\\n\\r\\n                                case EqualDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.EQUAL );\\r\\n                                    break;\\r\\n\\r\\n                                case GreaterEqualDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.GEQUAL );\\r\\n                                    break;\\r\\n\\r\\n                                case GreaterDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.GREATER );\\r\\n                                    break;\\r\\n\\r\\n                                case NotEqualDepth:\\r\\n\\r\\n                                    gl.depthFunc( gl.NOTEQUAL );\\r\\n                                    break;\\r\\n\\r\\n                                default:\\r\\n\\r\\n                                    gl.depthFunc( gl.LEQUAL );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            gl.depthFunc( gl.LEQUAL );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        currentDepthFunc = depthFunc;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setLocked: function ( lock ) {\\r\\n\\r\\n                    locked = lock;\\r\\n\\r\\n                },\\r\\n\\r\\n                setClear: function ( depth ) {\\r\\n\\r\\n                    if ( currentDepthClear !== depth ) {\\r\\n\\r\\n                        gl.clearDepth( depth );\\r\\n                        currentDepthClear = depth;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                reset: function () {\\r\\n\\r\\n                    locked = false;\\r\\n\\r\\n                    currentDepthMask = null;\\r\\n                    currentDepthFunc = null;\\r\\n                    currentDepthClear = null;\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }\\r\\n\\r\\n        function StencilBuffer() {\\r\\n\\r\\n            var locked = false;\\r\\n\\r\\n            var currentStencilMask = null;\\r\\n            var currentStencilFunc = null;\\r\\n            var currentStencilRef = null;\\r\\n            var currentStencilFuncMask = null;\\r\\n            var currentStencilFail = null;\\r\\n            var currentStencilZFail = null;\\r\\n            var currentStencilZPass = null;\\r\\n            var currentStencilClear = null;\\r\\n\\r\\n            return {\\r\\n\\r\\n                setTest: function ( stencilTest ) {\\r\\n\\r\\n                    if ( stencilTest ) {\\r\\n\\r\\n                        enable( gl.STENCIL_TEST );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        disable( gl.STENCIL_TEST );\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setMask: function ( stencilMask ) {\\r\\n\\r\\n                    if ( currentStencilMask !== stencilMask && ! locked ) {\\r\\n\\r\\n                        gl.stencilMask( stencilMask );\\r\\n                        currentStencilMask = stencilMask;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setFunc: function ( stencilFunc, stencilRef, stencilMask ) {\\r\\n\\r\\n                    if ( currentStencilFunc !== stencilFunc ||\\r\\n                        currentStencilRef \\t!== stencilRef \\t||\\r\\n                        currentStencilFuncMask !== stencilMask ) {\\r\\n\\r\\n                        gl.stencilFunc( stencilFunc, stencilRef, stencilMask );\\r\\n\\r\\n                        currentStencilFunc = stencilFunc;\\r\\n                        currentStencilRef = stencilRef;\\r\\n                        currentStencilFuncMask = stencilMask;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setOp: function ( stencilFail, stencilZFail, stencilZPass ) {\\r\\n\\r\\n                    if ( currentStencilFail\\t !== stencilFail \\t||\\r\\n                        currentStencilZFail !== stencilZFail ||\\r\\n                        currentStencilZPass !== stencilZPass ) {\\r\\n\\r\\n                        gl.stencilOp( stencilFail, stencilZFail, stencilZPass );\\r\\n\\r\\n                        currentStencilFail = stencilFail;\\r\\n                        currentStencilZFail = stencilZFail;\\r\\n                        currentStencilZPass = stencilZPass;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                setLocked: function ( lock ) {\\r\\n\\r\\n                    locked = lock;\\r\\n\\r\\n                },\\r\\n\\r\\n                setClear: function ( stencil ) {\\r\\n\\r\\n                    if ( currentStencilClear !== stencil ) {\\r\\n\\r\\n                        gl.clearStencil( stencil );\\r\\n                        currentStencilClear = stencil;\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                reset: function () {\\r\\n\\r\\n                    locked = false;\\r\\n\\r\\n                    currentStencilMask = null;\\r\\n                    currentStencilFunc = null;\\r\\n                    currentStencilRef = null;\\r\\n                    currentStencilFuncMask = null;\\r\\n                    currentStencilFail = null;\\r\\n                    currentStencilZFail = null;\\r\\n                    currentStencilZPass = null;\\r\\n                    currentStencilClear = null;\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        var colorBuffer = new ColorBuffer();\\r\\n        var depthBuffer = new DepthBuffer();\\r\\n        var stencilBuffer = new StencilBuffer();\\r\\n\\r\\n        var maxVertexAttributes = gl.getParameter( gl.MAX_VERTEX_ATTRIBS );\\r\\n        var newAttributes = new Uint8Array( maxVertexAttributes );\\r\\n        var enabledAttributes = new Uint8Array( maxVertexAttributes );\\r\\n        var attributeDivisors = new Uint8Array( maxVertexAttributes );\\r\\n\\r\\n        var enabledCapabilities = {};\\r\\n\\r\\n        var compressedTextureFormats = null;\\r\\n\\r\\n        var currentProgram = null;\\r\\n\\r\\n        var currentBlendingEnabled = null;\\r\\n        var currentBlending = null;\\r\\n        var currentBlendEquation = null;\\r\\n        var currentBlendSrc = null;\\r\\n        var currentBlendDst = null;\\r\\n        var currentBlendEquationAlpha = null;\\r\\n        var currentBlendSrcAlpha = null;\\r\\n        var currentBlendDstAlpha = null;\\r\\n        var currentPremultipledAlpha = false;\\r\\n\\r\\n        var currentFlipSided = null;\\r\\n        var currentCullFace = null;\\r\\n\\r\\n        var currentLineWidth = null;\\r\\n\\r\\n        var currentPolygonOffsetFactor = null;\\r\\n        var currentPolygonOffsetUnits = null;\\r\\n\\r\\n        var maxTextures = gl.getParameter( gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS );\\r\\n\\r\\n        var lineWidthAvailable = false;\\r\\n        var version = 0;\\r\\n        var glVersion = gl.getParameter( gl.VERSION );\\r\\n\\r\\n        if ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\\r\\n\\r\\n            version = parseFloat( /^WebGL\\\\ ([0-9])/.exec( glVersion )[ 1 ] );\\r\\n            lineWidthAvailable = ( version >= 1.0 );\\r\\n\\r\\n        } else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\\r\\n\\r\\n            version = parseFloat( /^OpenGL\\\\ ES\\\\ ([0-9])/.exec( glVersion )[ 1 ] );\\r\\n            lineWidthAvailable = ( version >= 2.0 );\\r\\n\\r\\n        }\\r\\n\\r\\n        var currentTextureSlot = null;\\r\\n        var currentBoundTextures = {};\\r\\n\\r\\n        var currentScissor = new Vector4();\\r\\n        var currentViewport = new Vector4();\\r\\n\\r\\n        function createTexture( type, target, count ) {\\r\\n\\r\\n            var data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\\r\\n            var texture = gl.createTexture();\\r\\n\\r\\n            gl.bindTexture( type, texture );\\r\\n            gl.texParameteri( type, gl.TEXTURE_MIN_FILTER, gl.NEAREST );\\r\\n            gl.texParameteri( type, gl.TEXTURE_MAG_FILTER, gl.NEAREST );\\r\\n\\r\\n            for ( var i = 0; i < count; i ++ ) {\\r\\n\\r\\n                gl.texImage2D( target + i, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, data );\\r\\n\\r\\n            }\\r\\n\\r\\n            return texture;\\r\\n\\r\\n        }\\r\\n\\r\\n        var emptyTextures = {};\\r\\n        emptyTextures[ gl.TEXTURE_2D ] = createTexture( gl.TEXTURE_2D, gl.TEXTURE_2D, 1 );\\r\\n        emptyTextures[ gl.TEXTURE_CUBE_MAP ] = createTexture( gl.TEXTURE_CUBE_MAP, gl.TEXTURE_CUBE_MAP_POSITIVE_X, 6 );\\r\\n\\r\\n        // init\\r\\n\\r\\n        colorBuffer.setClear( 0, 0, 0, 1 );\\r\\n        depthBuffer.setClear( 1 );\\r\\n        stencilBuffer.setClear( 0 );\\r\\n\\r\\n        enable( gl.DEPTH_TEST );\\r\\n        depthBuffer.setFunc( LessEqualDepth );\\r\\n\\r\\n        setFlipSided( false );\\r\\n        setCullFace( CullFaceBack );\\r\\n        enable( gl.CULL_FACE );\\r\\n\\r\\n        setBlending( NoBlending );\\r\\n\\r\\n        //\\r\\n\\r\\n        function initAttributes() {\\r\\n\\r\\n            for ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\\r\\n\\r\\n                newAttributes[ i ] = 0;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function enableAttribute( attribute ) {\\r\\n\\r\\n            enableAttributeAndDivisor( attribute, 0 );\\r\\n\\r\\n        }\\r\\n\\r\\n        function enableAttributeAndDivisor( attribute, meshPerAttribute ) {\\r\\n\\r\\n            newAttributes[ attribute ] = 1;\\r\\n\\r\\n            if ( enabledAttributes[ attribute ] === 0 ) {\\r\\n\\r\\n                gl.enableVertexAttribArray( attribute );\\r\\n                enabledAttributes[ attribute ] = 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\\r\\n\\r\\n                var extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\\r\\n\\r\\n                extension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\\r\\n                attributeDivisors[ attribute ] = meshPerAttribute;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function disableUnusedAttributes() {\\r\\n\\r\\n            for ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\\r\\n\\r\\n                if ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\\r\\n\\r\\n                    gl.disableVertexAttribArray( i );\\r\\n                    enabledAttributes[ i ] = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function enable( id ) {\\r\\n\\r\\n            if ( enabledCapabilities[ id ] !== true ) {\\r\\n\\r\\n                gl.enable( id );\\r\\n                enabledCapabilities[ id ] = true;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function disable( id ) {\\r\\n\\r\\n            if ( enabledCapabilities[ id ] !== false ) {\\r\\n\\r\\n                gl.disable( id );\\r\\n                enabledCapabilities[ id ] = false;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function getCompressedTextureFormats() {\\r\\n\\r\\n            if ( compressedTextureFormats === null ) {\\r\\n\\r\\n                compressedTextureFormats = [];\\r\\n\\r\\n                if ( extensions.get( 'WEBGL_compressed_texture_pvrtc' ) ||\\r\\n                    extensions.get( 'WEBGL_compressed_texture_s3tc' ) ||\\r\\n                    extensions.get( 'WEBGL_compressed_texture_etc1' ) ||\\r\\n                    extensions.get( 'WEBGL_compressed_texture_astc' ) ) {\\r\\n\\r\\n                    var formats = gl.getParameter( gl.COMPRESSED_TEXTURE_FORMATS );\\r\\n\\r\\n                    for ( var i = 0; i < formats.length; i ++ ) {\\r\\n\\r\\n                        compressedTextureFormats.push( formats[ i ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return compressedTextureFormats;\\r\\n\\r\\n        }\\r\\n\\r\\n        function useProgram( program ) {\\r\\n\\r\\n            if ( currentProgram !== program ) {\\r\\n\\r\\n                gl.useProgram( program );\\r\\n\\r\\n                currentProgram = program;\\r\\n\\r\\n                return true;\\r\\n\\r\\n            }\\r\\n\\r\\n            return false;\\r\\n\\r\\n        }\\r\\n\\r\\n        function setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\\r\\n\\r\\n            if ( blending === NoBlending ) {\\r\\n\\r\\n                if ( currentBlendingEnabled ) {\\r\\n\\r\\n                    disable( gl.BLEND );\\r\\n                    currentBlendingEnabled = false;\\r\\n\\r\\n                }\\r\\n\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ! currentBlendingEnabled ) {\\r\\n\\r\\n                enable( gl.BLEND );\\r\\n                currentBlendingEnabled = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( blending !== CustomBlending ) {\\r\\n\\r\\n                if ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\\r\\n\\r\\n                    if ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\\r\\n\\r\\n                        gl.blendEquation( gl.FUNC_ADD );\\r\\n\\r\\n                        currentBlendEquation = AddEquation;\\r\\n                        currentBlendEquationAlpha = AddEquation;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( premultipliedAlpha ) {\\r\\n\\r\\n                        switch ( blending ) {\\r\\n\\r\\n                            case NormalBlending:\\r\\n                                gl.blendFuncSeparate( gl.ONE, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\\r\\n                                break;\\r\\n\\r\\n                            case AdditiveBlending:\\r\\n                                gl.blendFunc( gl.ONE, gl.ONE );\\r\\n                                break;\\r\\n\\r\\n                            case SubtractiveBlending:\\r\\n                                gl.blendFuncSeparate( gl.ZERO, gl.ZERO, gl.ONE_MINUS_SRC_COLOR, gl.ONE_MINUS_SRC_ALPHA );\\r\\n                                break;\\r\\n\\r\\n                            case MultiplyBlending:\\r\\n                                gl.blendFuncSeparate( gl.ZERO, gl.SRC_COLOR, gl.ZERO, gl.SRC_ALPHA );\\r\\n                                break;\\r\\n\\r\\n                            default:\\r\\n                                console.error( 'THREE.WebGLState: Invalid blending: ', blending );\\r\\n                                break;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        switch ( blending ) {\\r\\n\\r\\n                            case NormalBlending:\\r\\n                                gl.blendFuncSeparate( gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA );\\r\\n                                break;\\r\\n\\r\\n                            case AdditiveBlending:\\r\\n                                gl.blendFunc( gl.SRC_ALPHA, gl.ONE );\\r\\n                                break;\\r\\n\\r\\n                            case SubtractiveBlending:\\r\\n                                gl.blendFunc( gl.ZERO, gl.ONE_MINUS_SRC_COLOR );\\r\\n                                break;\\r\\n\\r\\n                            case MultiplyBlending:\\r\\n                                gl.blendFunc( gl.ZERO, gl.SRC_COLOR );\\r\\n                                break;\\r\\n\\r\\n                            default:\\r\\n                                console.error( 'THREE.WebGLState: Invalid blending: ', blending );\\r\\n                                break;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    currentBlendSrc = null;\\r\\n                    currentBlendDst = null;\\r\\n                    currentBlendSrcAlpha = null;\\r\\n                    currentBlendDstAlpha = null;\\r\\n\\r\\n                    currentBlending = blending;\\r\\n                    currentPremultipledAlpha = premultipliedAlpha;\\r\\n\\r\\n                }\\r\\n\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            // custom blending\\r\\n\\r\\n            blendEquationAlpha = blendEquationAlpha || blendEquation;\\r\\n            blendSrcAlpha = blendSrcAlpha || blendSrc;\\r\\n            blendDstAlpha = blendDstAlpha || blendDst;\\r\\n\\r\\n            if ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\\r\\n\\r\\n                gl.blendEquationSeparate( utils.convert( blendEquation ), utils.convert( blendEquationAlpha ) );\\r\\n\\r\\n                currentBlendEquation = blendEquation;\\r\\n                currentBlendEquationAlpha = blendEquationAlpha;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\\r\\n\\r\\n                gl.blendFuncSeparate( utils.convert( blendSrc ), utils.convert( blendDst ), utils.convert( blendSrcAlpha ), utils.convert( blendDstAlpha ) );\\r\\n\\r\\n                currentBlendSrc = blendSrc;\\r\\n                currentBlendDst = blendDst;\\r\\n                currentBlendSrcAlpha = blendSrcAlpha;\\r\\n                currentBlendDstAlpha = blendDstAlpha;\\r\\n\\r\\n            }\\r\\n\\r\\n            currentBlending = blending;\\r\\n            currentPremultipledAlpha = null;\\r\\n\\r\\n        }\\r\\n\\r\\n        function setMaterial( material, frontFaceCW ) {\\r\\n\\r\\n            material.side === DoubleSide\\r\\n                ? disable( gl.CULL_FACE )\\r\\n                : enable( gl.CULL_FACE );\\r\\n\\r\\n            var flipSided = ( material.side === BackSide );\\r\\n            if ( frontFaceCW ) flipSided = ! flipSided;\\r\\n\\r\\n            setFlipSided( flipSided );\\r\\n\\r\\n            ( material.blending === NormalBlending && material.transparent === false )\\r\\n                ? setBlending( NoBlending )\\r\\n                : setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\\r\\n\\r\\n            depthBuffer.setFunc( material.depthFunc );\\r\\n            depthBuffer.setTest( material.depthTest );\\r\\n            depthBuffer.setMask( material.depthWrite );\\r\\n            colorBuffer.setMask( material.colorWrite );\\r\\n\\r\\n            setPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        function setFlipSided( flipSided ) {\\r\\n\\r\\n            if ( currentFlipSided !== flipSided ) {\\r\\n\\r\\n                if ( flipSided ) {\\r\\n\\r\\n                    gl.frontFace( gl.CW );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    gl.frontFace( gl.CCW );\\r\\n\\r\\n                }\\r\\n\\r\\n                currentFlipSided = flipSided;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function setCullFace( cullFace ) {\\r\\n\\r\\n            if ( cullFace !== CullFaceNone ) {\\r\\n\\r\\n                enable( gl.CULL_FACE );\\r\\n\\r\\n                if ( cullFace !== currentCullFace ) {\\r\\n\\r\\n                    if ( cullFace === CullFaceBack ) {\\r\\n\\r\\n                        gl.cullFace( gl.BACK );\\r\\n\\r\\n                    } else if ( cullFace === CullFaceFront ) {\\r\\n\\r\\n                        gl.cullFace( gl.FRONT );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        gl.cullFace( gl.FRONT_AND_BACK );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                disable( gl.CULL_FACE );\\r\\n\\r\\n            }\\r\\n\\r\\n            currentCullFace = cullFace;\\r\\n\\r\\n        }\\r\\n\\r\\n        function setLineWidth( width ) {\\r\\n\\r\\n            if ( width !== currentLineWidth ) {\\r\\n\\r\\n                if ( lineWidthAvailable ) gl.lineWidth( width );\\r\\n\\r\\n                currentLineWidth = width;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function setPolygonOffset( polygonOffset, factor, units ) {\\r\\n\\r\\n            if ( polygonOffset ) {\\r\\n\\r\\n                enable( gl.POLYGON_OFFSET_FILL );\\r\\n\\r\\n                if ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\\r\\n\\r\\n                    gl.polygonOffset( factor, units );\\r\\n\\r\\n                    currentPolygonOffsetFactor = factor;\\r\\n                    currentPolygonOffsetUnits = units;\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                disable( gl.POLYGON_OFFSET_FILL );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function setScissorTest( scissorTest ) {\\r\\n\\r\\n            if ( scissorTest ) {\\r\\n\\r\\n                enable( gl.SCISSOR_TEST );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                disable( gl.SCISSOR_TEST );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // texture\\r\\n\\r\\n        function activeTexture( webglSlot ) {\\r\\n\\r\\n            if ( webglSlot === undefined ) webglSlot = gl.TEXTURE0 + maxTextures - 1;\\r\\n\\r\\n            if ( currentTextureSlot !== webglSlot ) {\\r\\n\\r\\n                gl.activeTexture( webglSlot );\\r\\n                currentTextureSlot = webglSlot;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function bindTexture( webglType, webglTexture ) {\\r\\n\\r\\n            if ( currentTextureSlot === null ) {\\r\\n\\r\\n                activeTexture();\\r\\n\\r\\n            }\\r\\n\\r\\n            var boundTexture = currentBoundTextures[ currentTextureSlot ];\\r\\n\\r\\n            if ( boundTexture === undefined ) {\\r\\n\\r\\n                boundTexture = { type: undefined, texture: undefined };\\r\\n                currentBoundTextures[ currentTextureSlot ] = boundTexture;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\\r\\n\\r\\n                gl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\\r\\n\\r\\n                boundTexture.type = webglType;\\r\\n                boundTexture.texture = webglTexture;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function compressedTexImage2D() {\\r\\n\\r\\n            try {\\r\\n\\r\\n                gl.compressedTexImage2D.apply( gl, arguments );\\r\\n\\r\\n            } catch ( error ) {\\r\\n\\r\\n                console.error( 'THREE.WebGLState:', error );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function texImage2D() {\\r\\n\\r\\n            try {\\r\\n\\r\\n                gl.texImage2D.apply( gl, arguments );\\r\\n\\r\\n            } catch ( error ) {\\r\\n\\r\\n                console.error( 'THREE.WebGLState:', error );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function texImage3D() {\\r\\n\\r\\n            try {\\r\\n\\r\\n                gl.texImage3D.apply( gl, arguments );\\r\\n\\r\\n            } catch ( error ) {\\r\\n\\r\\n                console.error( 'THREE.WebGLState:', error );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        function scissor( scissor ) {\\r\\n\\r\\n            if ( currentScissor.equals( scissor ) === false ) {\\r\\n\\r\\n                gl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\\r\\n                currentScissor.copy( scissor );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function viewport( viewport ) {\\r\\n\\r\\n            if ( currentViewport.equals( viewport ) === false ) {\\r\\n\\r\\n                gl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\\r\\n                currentViewport.copy( viewport );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        function reset() {\\r\\n\\r\\n            for ( var i = 0; i < enabledAttributes.length; i ++ ) {\\r\\n\\r\\n                if ( enabledAttributes[ i ] === 1 ) {\\r\\n\\r\\n                    gl.disableVertexAttribArray( i );\\r\\n                    enabledAttributes[ i ] = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            enabledCapabilities = {};\\r\\n\\r\\n            compressedTextureFormats = null;\\r\\n\\r\\n            currentTextureSlot = null;\\r\\n            currentBoundTextures = {};\\r\\n\\r\\n            currentProgram = null;\\r\\n\\r\\n            currentBlending = null;\\r\\n\\r\\n            currentFlipSided = null;\\r\\n            currentCullFace = null;\\r\\n\\r\\n            colorBuffer.reset();\\r\\n            depthBuffer.reset();\\r\\n            stencilBuffer.reset();\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            buffers: {\\r\\n                color: colorBuffer,\\r\\n                depth: depthBuffer,\\r\\n                stencil: stencilBuffer\\r\\n            },\\r\\n\\r\\n            initAttributes: initAttributes,\\r\\n            enableAttribute: enableAttribute,\\r\\n            enableAttributeAndDivisor: enableAttributeAndDivisor,\\r\\n            disableUnusedAttributes: disableUnusedAttributes,\\r\\n            enable: enable,\\r\\n            disable: disable,\\r\\n            getCompressedTextureFormats: getCompressedTextureFormats,\\r\\n\\r\\n            useProgram: useProgram,\\r\\n\\r\\n            setBlending: setBlending,\\r\\n            setMaterial: setMaterial,\\r\\n\\r\\n            setFlipSided: setFlipSided,\\r\\n            setCullFace: setCullFace,\\r\\n\\r\\n            setLineWidth: setLineWidth,\\r\\n            setPolygonOffset: setPolygonOffset,\\r\\n\\r\\n            setScissorTest: setScissorTest,\\r\\n\\r\\n            activeTexture: activeTexture,\\r\\n            bindTexture: bindTexture,\\r\\n            compressedTexImage2D: compressedTexImage2D,\\r\\n            texImage2D: texImage2D,\\r\\n            texImage3D: texImage3D,\\r\\n\\r\\n            scissor: scissor,\\r\\n            viewport: viewport,\\r\\n\\r\\n            reset: reset\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\\r\\n\\r\\n        var _videoTextures = {};\\r\\n        var _canvas;\\r\\n\\r\\n        //\\r\\n\\r\\n        function clampToMaxSize( image, maxSize ) {\\r\\n\\r\\n            if ( image.width > maxSize || image.height > maxSize ) {\\r\\n\\r\\n                if ( 'data' in image ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n                // Warning: Scaling through the canvas will only work with images that use\\r\\n                // premultiplied alpha.\\r\\n\\r\\n                var scale = maxSize / Math.max( image.width, image.height );\\r\\n\\r\\n                var canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\\r\\n                canvas.width = Math.floor( image.width * scale );\\r\\n                canvas.height = Math.floor( image.height * scale );\\r\\n\\r\\n                var context = canvas.getContext( '2d' );\\r\\n                context.drawImage( image, 0, 0, image.width, image.height, 0, 0, canvas.width, canvas.height );\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: image is too big (' + image.width + 'x' + image.height + '). Resized to ' + canvas.width + 'x' + canvas.height );\\r\\n\\r\\n                return canvas;\\r\\n\\r\\n            }\\r\\n\\r\\n            return image;\\r\\n\\r\\n        }\\r\\n\\r\\n        function isPowerOfTwo( image ) {\\r\\n\\r\\n            return _Math.isPowerOfTwo( image.width ) && _Math.isPowerOfTwo( image.height );\\r\\n\\r\\n        }\\r\\n\\r\\n        function makePowerOfTwo( image ) {\\r\\n\\r\\n            if ( image instanceof HTMLImageElement || image instanceof HTMLCanvasElement || image instanceof ImageBitmap ) {\\r\\n\\r\\n                if ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\\r\\n\\r\\n                _canvas.width = _Math.floorPowerOfTwo( image.width );\\r\\n                _canvas.height = _Math.floorPowerOfTwo( image.height );\\r\\n\\r\\n                var context = _canvas.getContext( '2d' );\\r\\n                context.drawImage( image, 0, 0, _canvas.width, _canvas.height );\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: image is not power of two (' + image.width + 'x' + image.height + '). Resized to ' + _canvas.width + 'x' + _canvas.height );\\r\\n\\r\\n                return _canvas;\\r\\n\\r\\n            }\\r\\n\\r\\n            return image;\\r\\n\\r\\n        }\\r\\n\\r\\n        function textureNeedsPowerOfTwo( texture ) {\\r\\n\\r\\n            if ( capabilities.isWebGL2 ) return false;\\r\\n\\r\\n            return ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\\r\\n                ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\\r\\n\\r\\n        }\\r\\n\\r\\n        function textureNeedsGenerateMipmaps( texture, isPowerOfTwo ) {\\r\\n\\r\\n            return texture.generateMipmaps && isPowerOfTwo &&\\r\\n                texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\\r\\n\\r\\n        }\\r\\n\\r\\n        function generateMipmap( target, texture, width, height ) {\\r\\n\\r\\n            _gl.generateMipmap( target );\\r\\n\\r\\n            var textureProperties = properties.get( texture );\\r\\n\\r\\n            // Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\\r\\n            textureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\\r\\n\\r\\n        }\\r\\n\\r\\n        function getInternalFormat( glFormat, glType ) {\\r\\n\\r\\n            if ( ! capabilities.isWebGL2 ) return glFormat;\\r\\n\\r\\n            if ( glFormat === _gl.RED ) {\\r\\n\\r\\n                if ( glType === _gl.FLOAT ) return _gl.R32F;\\r\\n                if ( glType === _gl.HALF_FLOAT ) return _gl.R16F;\\r\\n                if ( glType === _gl.UNSIGNED_BYTE ) return _gl.R8;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( glFormat === _gl.RGB ) {\\r\\n\\r\\n                if ( glType === _gl.FLOAT ) return _gl.RGB32F;\\r\\n                if ( glType === _gl.HALF_FLOAT ) return _gl.RGB16F;\\r\\n                if ( glType === _gl.UNSIGNED_BYTE ) return _gl.RGB8;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( glFormat === _gl.RGBA ) {\\r\\n\\r\\n                if ( glType === _gl.FLOAT ) return _gl.RGBA32F;\\r\\n                if ( glType === _gl.HALF_FLOAT ) return _gl.RGBA16F;\\r\\n                if ( glType === _gl.UNSIGNED_BYTE ) return _gl.RGBA8;\\r\\n\\r\\n            }\\r\\n\\r\\n            return glFormat;\\r\\n\\r\\n        }\\r\\n\\r\\n        // Fallback filters for non-power-of-2 textures\\r\\n\\r\\n        function filterFallback( f ) {\\r\\n\\r\\n            if ( f === NearestFilter || f === NearestMipMapNearestFilter || f === NearestMipMapLinearFilter ) {\\r\\n\\r\\n                return _gl.NEAREST;\\r\\n\\r\\n            }\\r\\n\\r\\n            return _gl.LINEAR;\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        function onTextureDispose( event ) {\\r\\n\\r\\n            var texture = event.target;\\r\\n\\r\\n            texture.removeEventListener( 'dispose', onTextureDispose );\\r\\n\\r\\n            deallocateTexture( texture );\\r\\n\\r\\n            if ( texture.isVideoTexture ) {\\r\\n\\r\\n                delete _videoTextures[ texture.id ];\\r\\n\\r\\n            }\\r\\n\\r\\n            info.memory.textures --;\\r\\n\\r\\n        }\\r\\n\\r\\n        function onRenderTargetDispose( event ) {\\r\\n\\r\\n            var renderTarget = event.target;\\r\\n\\r\\n            renderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\\r\\n\\r\\n            deallocateRenderTarget( renderTarget );\\r\\n\\r\\n            info.memory.textures --;\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        function deallocateTexture( texture ) {\\r\\n\\r\\n            var textureProperties = properties.get( texture );\\r\\n\\r\\n            if ( texture.image && textureProperties.__image__webglTextureCube ) {\\r\\n\\r\\n                // cube texture\\r\\n\\r\\n                _gl.deleteTexture( textureProperties.__image__webglTextureCube );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // 2D texture\\r\\n\\r\\n                if ( textureProperties.__webglInit === undefined ) return;\\r\\n\\r\\n                _gl.deleteTexture( textureProperties.__webglTexture );\\r\\n\\r\\n            }\\r\\n\\r\\n            // remove all webgl properties\\r\\n            properties.remove( texture );\\r\\n\\r\\n        }\\r\\n\\r\\n        function deallocateRenderTarget( renderTarget ) {\\r\\n\\r\\n            var renderTargetProperties = properties.get( renderTarget );\\r\\n            var textureProperties = properties.get( renderTarget.texture );\\r\\n\\r\\n            if ( ! renderTarget ) return;\\r\\n\\r\\n            if ( textureProperties.__webglTexture !== undefined ) {\\r\\n\\r\\n                _gl.deleteTexture( textureProperties.__webglTexture );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( renderTarget.depthTexture ) {\\r\\n\\r\\n                renderTarget.depthTexture.dispose();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( renderTarget.isWebGLRenderTargetCube ) {\\r\\n\\r\\n                for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                    _gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\\r\\n                    if ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                _gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\\r\\n                if ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\\r\\n\\r\\n            }\\r\\n\\r\\n            properties.remove( renderTarget.texture );\\r\\n            properties.remove( renderTarget );\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n\\r\\n\\r\\n        function setTexture2D( texture, slot ) {\\r\\n\\r\\n            var textureProperties = properties.get( texture );\\r\\n\\r\\n            if ( texture.isVideoTexture ) updateVideoTexture( texture );\\r\\n\\r\\n            if ( texture.version > 0 && textureProperties.__version !== texture.version ) {\\r\\n\\r\\n                var image = texture.image;\\r\\n\\r\\n                if ( image === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\\r\\n\\r\\n                } else if ( image.complete === false ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    uploadTexture( textureProperties, texture, slot );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            state.activeTexture( _gl.TEXTURE0 + slot );\\r\\n            state.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\\r\\n\\r\\n        }\\r\\n\\r\\n        function setTexture3D( texture, slot ) {\\r\\n\\r\\n            var textureProperties = properties.get( texture );\\r\\n\\r\\n            if ( texture.version > 0 && textureProperties.__version !== texture.version ) {\\r\\n\\r\\n                uploadTexture( textureProperties, texture, slot );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            state.activeTexture( _gl.TEXTURE0 + slot );\\r\\n            state.bindTexture( _gl.TEXTURE_3D, textureProperties.__webglTexture );\\r\\n\\r\\n        }\\r\\n\\r\\n\\r\\n        function setTextureCube( texture, slot ) {\\r\\n\\r\\n            var textureProperties = properties.get( texture );\\r\\n\\r\\n            if ( texture.image.length === 6 ) {\\r\\n\\r\\n                if ( texture.version > 0 && textureProperties.__version !== texture.version ) {\\r\\n\\r\\n                    if ( ! textureProperties.__image__webglTextureCube ) {\\r\\n\\r\\n                        texture.addEventListener( 'dispose', onTextureDispose );\\r\\n\\r\\n                        textureProperties.__image__webglTextureCube = _gl.createTexture();\\r\\n\\r\\n                        info.memory.textures ++;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    state.activeTexture( _gl.TEXTURE0 + slot );\\r\\n                    state.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\\r\\n\\r\\n                    _gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\\r\\n\\r\\n                    var isCompressed = ( texture && texture.isCompressedTexture );\\r\\n                    var isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\\r\\n\\r\\n                    var cubeImage = [];\\r\\n\\r\\n                    for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                        if ( ! isCompressed && ! isDataTexture ) {\\r\\n\\r\\n                            cubeImage[ i ] = clampToMaxSize( texture.image[ i ], capabilities.maxCubemapSize );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            cubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    var image = cubeImage[ 0 ],\\r\\n                        isPowerOfTwoImage = isPowerOfTwo( image ),\\r\\n                        glFormat = utils.convert( texture.format ),\\r\\n                        glType = utils.convert( texture.type ),\\r\\n                        glInternalFormat = getInternalFormat( glFormat, glType );\\r\\n\\r\\n                    setTextureParameters( _gl.TEXTURE_CUBE_MAP, texture, isPowerOfTwoImage );\\r\\n\\r\\n                    for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                        if ( ! isCompressed ) {\\r\\n\\r\\n                            if ( isDataTexture ) {\\r\\n\\r\\n                                state.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\\r\\n\\r\\n                            } else {\\r\\n\\r\\n                                state.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            var mipmap, mipmaps = cubeImage[ i ].mipmaps;\\r\\n\\r\\n                            for ( var j = 0, jl = mipmaps.length; j < jl; j ++ ) {\\r\\n\\r\\n                                mipmap = mipmaps[ j ];\\r\\n\\r\\n                                if ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\\r\\n\\r\\n                                    if ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\\r\\n\\r\\n                                        state.compressedTexImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\\r\\n\\r\\n                                    } else {\\r\\n\\r\\n                                        console.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\\r\\n\\r\\n                                    }\\r\\n\\r\\n                                } else {\\r\\n\\r\\n                                    state.texImage2D( _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( ! isCompressed ) {\\r\\n\\r\\n                        textureProperties.__maxMipLevel = 0;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        textureProperties.__maxMipLevel = mipmaps.length - 1;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\\r\\n\\r\\n                        // We assume images for cube map have the same size.\\r\\n                        generateMipmap( _gl.TEXTURE_CUBE_MAP, texture, image.width, image.height );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    textureProperties.__version = texture.version;\\r\\n\\r\\n                    if ( texture.onUpdate ) texture.onUpdate( texture );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    state.activeTexture( _gl.TEXTURE0 + slot );\\r\\n                    state.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__image__webglTextureCube );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function setTextureCubeDynamic( texture, slot ) {\\r\\n\\r\\n            state.activeTexture( _gl.TEXTURE0 + slot );\\r\\n            state.bindTexture( _gl.TEXTURE_CUBE_MAP, properties.get( texture ).__webglTexture );\\r\\n\\r\\n        }\\r\\n\\r\\n        function setTextureParameters( textureType, texture, isPowerOfTwoImage ) {\\r\\n\\r\\n            var extension;\\r\\n\\r\\n            if ( isPowerOfTwoImage ) {\\r\\n\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, utils.convert( texture.wrapS ) );\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, utils.convert( texture.wrapT ) );\\r\\n\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, utils.convert( texture.magFilter ) );\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, utils.convert( texture.minFilter ) );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_S, _gl.CLAMP_TO_EDGE );\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_WRAP_T, _gl.CLAMP_TO_EDGE );\\r\\n\\r\\n                if ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\\r\\n\\r\\n                }\\r\\n\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_MAG_FILTER, filterFallback( texture.magFilter ) );\\r\\n                _gl.texParameteri( textureType, _gl.TEXTURE_MIN_FILTER, filterFallback( texture.minFilter ) );\\r\\n\\r\\n                if ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\\r\\n\\r\\n                    console.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            extension = extensions.get( 'EXT_texture_filter_anisotropic' );\\r\\n\\r\\n            if ( extension ) {\\r\\n\\r\\n                if ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\\r\\n                if ( texture.type === HalfFloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\\r\\n\\r\\n                if ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\\r\\n\\r\\n                    _gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\\r\\n                    properties.get( texture ).__currentAnisotropy = texture.anisotropy;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function uploadTexture( textureProperties, texture, slot ) {\\r\\n\\r\\n            var textureType;\\r\\n\\r\\n            if ( texture.isDataTexture3D ) {\\r\\n\\r\\n                textureType = _gl.TEXTURE_3D;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                textureType = _gl.TEXTURE_2D;\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            if ( textureProperties.__webglInit === undefined ) {\\r\\n\\r\\n                textureProperties.__webglInit = true;\\r\\n\\r\\n                texture.addEventListener( 'dispose', onTextureDispose );\\r\\n\\r\\n                textureProperties.__webglTexture = _gl.createTexture();\\r\\n\\r\\n                info.memory.textures ++;\\r\\n\\r\\n            }\\r\\n            state.activeTexture( _gl.TEXTURE0 + slot );\\r\\n\\r\\n\\r\\n            state.bindTexture( textureType, textureProperties.__webglTexture );\\r\\n\\r\\n\\r\\n\\r\\n            _gl.pixelStorei( _gl.UNPACK_FLIP_Y_WEBGL, texture.flipY );\\r\\n            _gl.pixelStorei( _gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, texture.premultiplyAlpha );\\r\\n            _gl.pixelStorei( _gl.UNPACK_ALIGNMENT, texture.unpackAlignment );\\r\\n\\r\\n            var image = clampToMaxSize( texture.image, capabilities.maxTextureSize );\\r\\n\\r\\n            if ( textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( image ) === false ) {\\r\\n\\r\\n                image = makePowerOfTwo( image );\\r\\n\\r\\n            }\\r\\n\\r\\n            var isPowerOfTwoImage = isPowerOfTwo( image ),\\r\\n                glFormat = utils.convert( texture.format ),\\r\\n                glType = utils.convert( texture.type ),\\r\\n                glInternalFormat = getInternalFormat( glFormat, glType );\\r\\n\\r\\n            setTextureParameters( textureType, texture, isPowerOfTwoImage );\\r\\n\\r\\n            var mipmap, mipmaps = texture.mipmaps;\\r\\n\\r\\n            if ( texture.isDepthTexture ) {\\r\\n\\r\\n                // populate depth texture with dummy data\\r\\n\\r\\n                glInternalFormat = _gl.DEPTH_COMPONENT;\\r\\n\\r\\n                if ( texture.type === FloatType ) {\\r\\n\\r\\n                    if ( ! capabilities.isWebGL2 ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\\r\\n                    glInternalFormat = _gl.DEPTH_COMPONENT32F;\\r\\n\\r\\n                } else if ( capabilities.isWebGL2 ) {\\r\\n\\r\\n                    // WebGL 2.0 requires signed internalformat for glTexImage2D\\r\\n                    glInternalFormat = _gl.DEPTH_COMPONENT16;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( texture.format === DepthFormat && glInternalFormat === _gl.DEPTH_COMPONENT ) {\\r\\n\\r\\n                    // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\\r\\n                    // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\\r\\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\\r\\n                    if ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\\r\\n\\r\\n                        console.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\\r\\n\\r\\n                        texture.type = UnsignedShortType;\\r\\n                        glType = utils.convert( texture.type );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                // Depth stencil textures need the DEPTH_STENCIL internal format\\r\\n                // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\\r\\n                if ( texture.format === DepthStencilFormat ) {\\r\\n\\r\\n                    glInternalFormat = _gl.DEPTH_STENCIL;\\r\\n\\r\\n                    // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\\r\\n                    // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\\r\\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\\r\\n                    if ( texture.type !== UnsignedInt248Type ) {\\r\\n\\r\\n                        console.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\\r\\n\\r\\n                        texture.type = UnsignedInt248Type;\\r\\n                        glType = utils.convert( texture.type );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                state.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\\r\\n\\r\\n            } else if ( texture.isDataTexture ) {\\r\\n\\r\\n                // use manually created mipmaps if available\\r\\n                // if there are no manual mipmaps\\r\\n                // set 0 level mipmap and then use GL to generate other mipmap levels\\r\\n\\r\\n                if ( mipmaps.length > 0 && isPowerOfTwoImage ) {\\r\\n\\r\\n                    for ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\\r\\n\\r\\n                        mipmap = mipmaps[ i ];\\r\\n                        state.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    texture.generateMipmaps = false;\\r\\n                    textureProperties.__maxMipLevel = mipmaps.length - 1;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    state.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\\r\\n                    textureProperties.__maxMipLevel = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( texture.isCompressedTexture ) {\\r\\n\\r\\n                for ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\\r\\n\\r\\n                    mipmap = mipmaps[ i ];\\r\\n\\r\\n                    if ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\\r\\n\\r\\n                        if ( state.getCompressedTextureFormats().indexOf( glFormat ) > - 1 ) {\\r\\n\\r\\n                            state.compressedTexImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            console.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        state.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\\r\\n\\r\\n            } else if ( texture.isDataTexture3D ) {\\r\\n\\r\\n                state.texImage3D( _gl.TEXTURE_3D, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\\r\\n                textureProperties.__maxMipLevel = 0;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // regular Texture (image, video, canvas)\\r\\n\\r\\n                // use manually created mipmaps if available\\r\\n                // if there are no manual mipmaps\\r\\n                // set 0 level mipmap and then use GL to generate other mipmap levels\\r\\n\\r\\n                if ( mipmaps.length > 0 && isPowerOfTwoImage ) {\\r\\n\\r\\n                    for ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\\r\\n\\r\\n                        mipmap = mipmaps[ i ];\\r\\n                        state.texImage2D( _gl.TEXTURE_2D, i, glInternalFormat, glFormat, glType, mipmap );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    texture.generateMipmaps = false;\\r\\n                    textureProperties.__maxMipLevel = mipmaps.length - 1;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    state.texImage2D( _gl.TEXTURE_2D, 0, glInternalFormat, glFormat, glType, image );\\r\\n                    textureProperties.__maxMipLevel = 0;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( textureNeedsGenerateMipmaps( texture, isPowerOfTwoImage ) ) {\\r\\n\\r\\n                generateMipmap( _gl.TEXTURE_2D, texture, image.width, image.height );\\r\\n\\r\\n            }\\r\\n\\r\\n            textureProperties.__version = texture.version;\\r\\n\\r\\n            if ( texture.onUpdate ) texture.onUpdate( texture );\\r\\n\\r\\n        }\\r\\n\\r\\n        // Render targets\\r\\n\\r\\n        // Setup storage for target texture and bind it to correct framebuffer\\r\\n        function setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\\r\\n\\r\\n            var glFormat = utils.convert( renderTarget.texture.format );\\r\\n            var glType = utils.convert( renderTarget.texture.type );\\r\\n            var glInternalFormat = getInternalFormat( glFormat, glType );\\r\\n            state.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\\r\\n            _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\\r\\n            _gl.framebufferTexture2D( _gl.FRAMEBUFFER, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\\r\\n            _gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\\r\\n\\r\\n        }\\r\\n\\r\\n        // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\\r\\n        function setupRenderBufferStorage( renderbuffer, renderTarget ) {\\r\\n\\r\\n            _gl.bindRenderbuffer( _gl.RENDERBUFFER, renderbuffer );\\r\\n\\r\\n            if ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\\r\\n\\r\\n                _gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_COMPONENT16, renderTarget.width, renderTarget.height );\\r\\n                _gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\\r\\n\\r\\n            } else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\\r\\n\\r\\n                _gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.DEPTH_STENCIL, renderTarget.width, renderTarget.height );\\r\\n                _gl.framebufferRenderbuffer( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.RENDERBUFFER, renderbuffer );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // FIXME: We don't support !depth !stencil\\r\\n                _gl.renderbufferStorage( _gl.RENDERBUFFER, _gl.RGBA4, renderTarget.width, renderTarget.height );\\r\\n\\r\\n            }\\r\\n\\r\\n            _gl.bindRenderbuffer( _gl.RENDERBUFFER, null );\\r\\n\\r\\n        }\\r\\n\\r\\n        // Setup resources for a Depth Texture for a FBO (needs an extension)\\r\\n        function setupDepthTexture( framebuffer, renderTarget ) {\\r\\n\\r\\n            var isCube = ( renderTarget && renderTarget.isWebGLRenderTargetCube );\\r\\n            if ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\\r\\n\\r\\n            _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\\r\\n\\r\\n            if ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\\r\\n\\r\\n                throw new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\\r\\n\\r\\n            }\\r\\n\\r\\n            // upload an empty depth texture with framebuffer size\\r\\n            if ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\\r\\n                renderTarget.depthTexture.image.width !== renderTarget.width ||\\r\\n                renderTarget.depthTexture.image.height !== renderTarget.height ) {\\r\\n\\r\\n                renderTarget.depthTexture.image.width = renderTarget.width;\\r\\n                renderTarget.depthTexture.image.height = renderTarget.height;\\r\\n                renderTarget.depthTexture.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            setTexture2D( renderTarget.depthTexture, 0 );\\r\\n\\r\\n            var webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\\r\\n\\r\\n            if ( renderTarget.depthTexture.format === DepthFormat ) {\\r\\n\\r\\n                _gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\\r\\n\\r\\n            } else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\\r\\n\\r\\n                _gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.DEPTH_STENCIL_ATTACHMENT, _gl.TEXTURE_2D, webglDepthTexture, 0 );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                throw new Error( 'Unknown depthTexture format' );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // Setup GL resources for a non-texture depth buffer\\r\\n        function setupDepthRenderbuffer( renderTarget ) {\\r\\n\\r\\n            var renderTargetProperties = properties.get( renderTarget );\\r\\n\\r\\n            var isCube = ( renderTarget.isWebGLRenderTargetCube === true );\\r\\n\\r\\n            if ( renderTarget.depthTexture ) {\\r\\n\\r\\n                if ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\\r\\n\\r\\n                setupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                if ( isCube ) {\\r\\n\\r\\n                    renderTargetProperties.__webglDepthbuffer = [];\\r\\n\\r\\n                    for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                        _gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer[ i ] );\\r\\n                        renderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\\r\\n                        setupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    _gl.bindFramebuffer( _gl.FRAMEBUFFER, renderTargetProperties.__webglFramebuffer );\\r\\n                    renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\\r\\n                    setupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            _gl.bindFramebuffer( _gl.FRAMEBUFFER, null );\\r\\n\\r\\n        }\\r\\n\\r\\n        // Set up GL resources for the render target\\r\\n        function setupRenderTarget( renderTarget ) {\\r\\n\\r\\n            var renderTargetProperties = properties.get( renderTarget );\\r\\n            var textureProperties = properties.get( renderTarget.texture );\\r\\n\\r\\n            renderTarget.addEventListener( 'dispose', onRenderTargetDispose );\\r\\n\\r\\n            textureProperties.__webglTexture = _gl.createTexture();\\r\\n\\r\\n            info.memory.textures ++;\\r\\n\\r\\n            var isCube = ( renderTarget.isWebGLRenderTargetCube === true );\\r\\n            var isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\\r\\n\\r\\n            // Setup framebuffer\\r\\n\\r\\n            if ( isCube ) {\\r\\n\\r\\n                renderTargetProperties.__webglFramebuffer = [];\\r\\n\\r\\n                for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                    renderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\\r\\n\\r\\n            }\\r\\n\\r\\n            // Setup color buffer\\r\\n\\r\\n            if ( isCube ) {\\r\\n\\r\\n                state.bindTexture( _gl.TEXTURE_CUBE_MAP, textureProperties.__webglTexture );\\r\\n                setTextureParameters( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, isTargetPowerOfTwo );\\r\\n\\r\\n                for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                    setupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + i );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) {\\r\\n\\r\\n                    generateMipmap( _gl.TEXTURE_CUBE_MAP, renderTarget.texture, renderTarget.width, renderTarget.height );\\r\\n\\r\\n                }\\r\\n\\r\\n                state.bindTexture( _gl.TEXTURE_CUBE_MAP, null );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                state.bindTexture( _gl.TEXTURE_2D, textureProperties.__webglTexture );\\r\\n                setTextureParameters( _gl.TEXTURE_2D, renderTarget.texture, isTargetPowerOfTwo );\\r\\n                setupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_2D );\\r\\n\\r\\n                if ( textureNeedsGenerateMipmaps( renderTarget.texture, isTargetPowerOfTwo ) ) {\\r\\n\\r\\n                    generateMipmap( _gl.TEXTURE_2D, renderTarget.texture, renderTarget.width, renderTarget.height );\\r\\n\\r\\n                }\\r\\n\\r\\n                state.bindTexture( _gl.TEXTURE_2D, null );\\r\\n\\r\\n            }\\r\\n\\r\\n            // Setup depth and stencil buffers\\r\\n\\r\\n            if ( renderTarget.depthBuffer ) {\\r\\n\\r\\n                setupDepthRenderbuffer( renderTarget );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function updateRenderTargetMipmap( renderTarget ) {\\r\\n\\r\\n            var texture = renderTarget.texture;\\r\\n            var isTargetPowerOfTwo = isPowerOfTwo( renderTarget );\\r\\n\\r\\n            if ( textureNeedsGenerateMipmaps( texture, isTargetPowerOfTwo ) ) {\\r\\n\\r\\n                var target = renderTarget.isWebGLRenderTargetCube ? _gl.TEXTURE_CUBE_MAP : _gl.TEXTURE_2D;\\r\\n                var webglTexture = properties.get( texture ).__webglTexture;\\r\\n\\r\\n                state.bindTexture( target, webglTexture );\\r\\n                generateMipmap( target, texture, renderTarget.width, renderTarget.height );\\r\\n                state.bindTexture( target, null );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function updateVideoTexture( texture ) {\\r\\n\\r\\n            var id = texture.id;\\r\\n            var frame = info.render.frame;\\r\\n\\r\\n            // Check the last frame we updated the VideoTexture\\r\\n\\r\\n            if ( _videoTextures[ id ] !== frame ) {\\r\\n\\r\\n                _videoTextures[ id ] = frame;\\r\\n                texture.update();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        this.setTexture2D = setTexture2D;\\r\\n        this.setTexture3D = setTexture3D;\\r\\n        this.setTextureCube = setTextureCube;\\r\\n        this.setTextureCubeDynamic = setTextureCubeDynamic;\\r\\n        this.setupRenderTarget = setupRenderTarget;\\r\\n        this.updateRenderTargetMipmap = updateRenderTargetMipmap;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author thespite / http://www.twitter.com/thespite\\r\\n     */\\r\\n\\r\\n    function WebGLUtils( gl, extensions, capabilities ) {\\r\\n\\r\\n        function convert( p ) {\\r\\n\\r\\n            var extension;\\r\\n\\r\\n            if ( p === RepeatWrapping ) return gl.REPEAT;\\r\\n            if ( p === ClampToEdgeWrapping ) return gl.CLAMP_TO_EDGE;\\r\\n            if ( p === MirroredRepeatWrapping ) return gl.MIRRORED_REPEAT;\\r\\n\\r\\n            if ( p === NearestFilter ) return gl.NEAREST;\\r\\n            if ( p === NearestMipMapNearestFilter ) return gl.NEAREST_MIPMAP_NEAREST;\\r\\n            if ( p === NearestMipMapLinearFilter ) return gl.NEAREST_MIPMAP_LINEAR;\\r\\n\\r\\n            if ( p === LinearFilter ) return gl.LINEAR;\\r\\n            if ( p === LinearMipMapNearestFilter ) return gl.LINEAR_MIPMAP_NEAREST;\\r\\n            if ( p === LinearMipMapLinearFilter ) return gl.LINEAR_MIPMAP_LINEAR;\\r\\n\\r\\n            if ( p === UnsignedByteType ) return gl.UNSIGNED_BYTE;\\r\\n            if ( p === UnsignedShort4444Type ) return gl.UNSIGNED_SHORT_4_4_4_4;\\r\\n            if ( p === UnsignedShort5551Type ) return gl.UNSIGNED_SHORT_5_5_5_1;\\r\\n            if ( p === UnsignedShort565Type ) return gl.UNSIGNED_SHORT_5_6_5;\\r\\n\\r\\n            if ( p === ByteType ) return gl.BYTE;\\r\\n            if ( p === ShortType ) return gl.SHORT;\\r\\n            if ( p === UnsignedShortType ) return gl.UNSIGNED_SHORT;\\r\\n            if ( p === IntType ) return gl.INT;\\r\\n            if ( p === UnsignedIntType ) return gl.UNSIGNED_INT;\\r\\n            if ( p === FloatType ) return gl.FLOAT;\\r\\n\\r\\n            if ( p === HalfFloatType ) {\\r\\n\\r\\n                if ( capabilities.isWebGL2 ) return gl.HALF_FLOAT;\\r\\n\\r\\n                extension = extensions.get( 'OES_texture_half_float' );\\r\\n\\r\\n                if ( extension !== null ) return extension.HALF_FLOAT_OES;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( p === AlphaFormat ) return gl.ALPHA;\\r\\n            if ( p === RGBFormat ) return gl.RGB;\\r\\n            if ( p === RGBAFormat ) return gl.RGBA;\\r\\n            if ( p === LuminanceFormat ) return gl.LUMINANCE;\\r\\n            if ( p === LuminanceAlphaFormat ) return gl.LUMINANCE_ALPHA;\\r\\n            if ( p === DepthFormat ) return gl.DEPTH_COMPONENT;\\r\\n            if ( p === DepthStencilFormat ) return gl.DEPTH_STENCIL;\\r\\n            if ( p === RedFormat ) return gl.RED;\\r\\n\\r\\n            if ( p === AddEquation ) return gl.FUNC_ADD;\\r\\n            if ( p === SubtractEquation ) return gl.FUNC_SUBTRACT;\\r\\n            if ( p === ReverseSubtractEquation ) return gl.FUNC_REVERSE_SUBTRACT;\\r\\n\\r\\n            if ( p === ZeroFactor ) return gl.ZERO;\\r\\n            if ( p === OneFactor ) return gl.ONE;\\r\\n            if ( p === SrcColorFactor ) return gl.SRC_COLOR;\\r\\n            if ( p === OneMinusSrcColorFactor ) return gl.ONE_MINUS_SRC_COLOR;\\r\\n            if ( p === SrcAlphaFactor ) return gl.SRC_ALPHA;\\r\\n            if ( p === OneMinusSrcAlphaFactor ) return gl.ONE_MINUS_SRC_ALPHA;\\r\\n            if ( p === DstAlphaFactor ) return gl.DST_ALPHA;\\r\\n            if ( p === OneMinusDstAlphaFactor ) return gl.ONE_MINUS_DST_ALPHA;\\r\\n\\r\\n            if ( p === DstColorFactor ) return gl.DST_COLOR;\\r\\n            if ( p === OneMinusDstColorFactor ) return gl.ONE_MINUS_DST_COLOR;\\r\\n            if ( p === SrcAlphaSaturateFactor ) return gl.SRC_ALPHA_SATURATE;\\r\\n\\r\\n            if ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\\r\\n                p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\\r\\n\\r\\n                extension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\\r\\n\\r\\n                if ( extension !== null ) {\\r\\n\\r\\n                    if ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\\r\\n                    if ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\\r\\n                    if ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\\r\\n                    if ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\\r\\n                p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\\r\\n\\r\\n                extension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\\r\\n\\r\\n                if ( extension !== null ) {\\r\\n\\r\\n                    if ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\\r\\n                    if ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\\r\\n                    if ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\\r\\n                    if ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( p === RGB_ETC1_Format ) {\\r\\n\\r\\n                extension = extensions.get( 'WEBGL_compressed_texture_etc1' );\\r\\n\\r\\n                if ( extension !== null ) return extension.COMPRESSED_RGB_ETC1_WEBGL;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\\r\\n                p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\\r\\n                p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\\r\\n                p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\\r\\n                p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ) {\\r\\n\\r\\n                extension = extensions.get( 'WEBGL_compressed_texture_astc' );\\r\\n\\r\\n                if ( extension !== null ) {\\r\\n\\r\\n                    return p;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( p === MinEquation || p === MaxEquation ) {\\r\\n\\r\\n                if ( capabilities.isWebGL2 ) {\\r\\n\\r\\n                    if ( p === MinEquation ) return gl.MIN;\\r\\n                    if ( p === MaxEquation ) return gl.MAX;\\r\\n\\r\\n                }\\r\\n\\r\\n                extension = extensions.get( 'EXT_blend_minmax' );\\r\\n\\r\\n                if ( extension !== null ) {\\r\\n\\r\\n                    if ( p === MinEquation ) return extension.MIN_EXT;\\r\\n                    if ( p === MaxEquation ) return extension.MAX_EXT;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( p === UnsignedInt248Type ) {\\r\\n\\r\\n                if ( capabilities.isWebGL2 ) return gl.UNSIGNED_INT_24_8;\\r\\n\\r\\n                extension = extensions.get( 'WEBGL_depth_texture' );\\r\\n\\r\\n                if ( extension !== null ) return extension.UNSIGNED_INT_24_8_WEBGL;\\r\\n\\r\\n            }\\r\\n\\r\\n            return 0;\\r\\n\\r\\n        }\\r\\n\\r\\n        return { convert: convert };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Group() {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Group';\\r\\n\\r\\n    }\\r\\n\\r\\n    Group.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Group,\\r\\n\\r\\n        isGroup: true\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function Camera() {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Camera';\\r\\n\\r\\n        this.matrixWorldInverse = new Matrix4();\\r\\n\\r\\n        this.projectionMatrix = new Matrix4();\\r\\n        this.projectionMatrixInverse = new Matrix4();\\r\\n\\r\\n    }\\r\\n\\r\\n    Camera.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Camera,\\r\\n\\r\\n        isCamera: true,\\r\\n\\r\\n        copy: function ( source, recursive ) {\\r\\n\\r\\n            Object3D.prototype.copy.call( this, source, recursive );\\r\\n\\r\\n            this.matrixWorldInverse.copy( source.matrixWorldInverse );\\r\\n\\r\\n            this.projectionMatrix.copy( source.projectionMatrix );\\r\\n            this.projectionMatrixInverse.copy( source.projectionMatrixInverse );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getWorldDirection: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            this.updateMatrixWorld( true );\\r\\n\\r\\n            var e = this.matrixWorld.elements;\\r\\n\\r\\n            return target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMatrixWorld: function ( force ) {\\r\\n\\r\\n            Object3D.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n            this.matrixWorldInverse.getInverse( this.matrixWorld );\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author greggman / http://games.greggman.com/\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function PerspectiveCamera( fov, aspect, near, far ) {\\r\\n\\r\\n        Camera.call( this );\\r\\n\\r\\n        this.type = 'PerspectiveCamera';\\r\\n\\r\\n        this.fov = fov !== undefined ? fov : 50;\\r\\n        this.zoom = 1;\\r\\n\\r\\n        this.near = near !== undefined ? near : 0.1;\\r\\n        this.far = far !== undefined ? far : 2000;\\r\\n        this.focus = 10;\\r\\n\\r\\n        this.aspect = aspect !== undefined ? aspect : 1;\\r\\n        this.view = null;\\r\\n\\r\\n        this.filmGauge = 35;\\t// width of the film (default in millimeters)\\r\\n        this.filmOffset = 0;\\t// horizontal film offset (same unit as gauge)\\r\\n\\r\\n        this.updateProjectionMatrix();\\r\\n\\r\\n    }\\r\\n\\r\\n    PerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\\r\\n\\r\\n        constructor: PerspectiveCamera,\\r\\n\\r\\n        isPerspectiveCamera: true,\\r\\n\\r\\n        copy: function ( source, recursive ) {\\r\\n\\r\\n            Camera.prototype.copy.call( this, source, recursive );\\r\\n\\r\\n            this.fov = source.fov;\\r\\n            this.zoom = source.zoom;\\r\\n\\r\\n            this.near = source.near;\\r\\n            this.far = source.far;\\r\\n            this.focus = source.focus;\\r\\n\\r\\n            this.aspect = source.aspect;\\r\\n            this.view = source.view === null ? null : Object.assign( {}, source.view );\\r\\n\\r\\n            this.filmGauge = source.filmGauge;\\r\\n            this.filmOffset = source.filmOffset;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        /**\\r\\n         * Sets the FOV by focal length in respect to the current .filmGauge.\\r\\n         *\\r\\n         * The default film gauge is 35, so that the focal length can be specified for\\r\\n         * a 35mm (full frame) camera.\\r\\n         *\\r\\n         * Values for focal length and film gauge must have the same unit.\\r\\n         */\\r\\n        setFocalLength: function ( focalLength ) {\\r\\n\\r\\n            // see http://www.bobatkins.com/photography/technical/field_of_view.html\\r\\n            var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\\r\\n\\r\\n            this.fov = _Math.RAD2DEG * 2 * Math.atan( vExtentSlope );\\r\\n            this.updateProjectionMatrix();\\r\\n\\r\\n        },\\r\\n\\r\\n        /**\\r\\n         * Calculates the focal length from the current .fov and .filmGauge.\\r\\n         */\\r\\n        getFocalLength: function () {\\r\\n\\r\\n            var vExtentSlope = Math.tan( _Math.DEG2RAD * 0.5 * this.fov );\\r\\n\\r\\n            return 0.5 * this.getFilmHeight() / vExtentSlope;\\r\\n\\r\\n        },\\r\\n\\r\\n        getEffectiveFOV: function () {\\r\\n\\r\\n            return _Math.RAD2DEG * 2 * Math.atan(\\r\\n                Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom );\\r\\n\\r\\n        },\\r\\n\\r\\n        getFilmWidth: function () {\\r\\n\\r\\n            // film not completely covered in portrait format (aspect < 1)\\r\\n            return this.filmGauge * Math.min( this.aspect, 1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        getFilmHeight: function () {\\r\\n\\r\\n            // film not completely covered in landscape format (aspect > 1)\\r\\n            return this.filmGauge / Math.max( this.aspect, 1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        /**\\r\\n         * Sets an offset in a larger frustum. This is useful for multi-window or\\r\\n         * multi-monitor/multi-machine setups.\\r\\n         *\\r\\n         * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\\r\\n         * the monitors are in grid like this\\r\\n         *\\r\\n         *   +---+---+---+\\r\\n         *   | A | B | C |\\r\\n         *   +---+---+---+\\r\\n         *   | D | E | F |\\r\\n         *   +---+---+---+\\r\\n         *\\r\\n         * then for each monitor you would call it like this\\r\\n         *\\r\\n         *   var w = 1920;\\r\\n         *   var h = 1080;\\r\\n         *   var fullWidth = w * 3;\\r\\n         *   var fullHeight = h * 2;\\r\\n         *\\r\\n         *   --A--\\r\\n         *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\\r\\n         *   --B--\\r\\n         *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\\r\\n         *   --C--\\r\\n         *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\\r\\n         *   --D--\\r\\n         *   camera.setOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\\r\\n         *   --E--\\r\\n         *   camera.setOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\\r\\n         *   --F--\\r\\n         *   camera.setOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\\r\\n         *\\r\\n         *   Note there is no reason monitors have to be the same size or in a grid.\\r\\n         */\\r\\n        setViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\\r\\n\\r\\n            this.aspect = fullWidth / fullHeight;\\r\\n\\r\\n            if ( this.view === null ) {\\r\\n\\r\\n                this.view = {\\r\\n                    enabled: true,\\r\\n                    fullWidth: 1,\\r\\n                    fullHeight: 1,\\r\\n                    offsetX: 0,\\r\\n                    offsetY: 0,\\r\\n                    width: 1,\\r\\n                    height: 1\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            this.view.enabled = true;\\r\\n            this.view.fullWidth = fullWidth;\\r\\n            this.view.fullHeight = fullHeight;\\r\\n            this.view.offsetX = x;\\r\\n            this.view.offsetY = y;\\r\\n            this.view.width = width;\\r\\n            this.view.height = height;\\r\\n\\r\\n            this.updateProjectionMatrix();\\r\\n\\r\\n        },\\r\\n\\r\\n        clearViewOffset: function () {\\r\\n\\r\\n            if ( this.view !== null ) {\\r\\n\\r\\n                this.view.enabled = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.updateProjectionMatrix();\\r\\n\\r\\n        },\\r\\n\\r\\n        updateProjectionMatrix: function () {\\r\\n\\r\\n            var near = this.near,\\r\\n                top = near * Math.tan( _Math.DEG2RAD * 0.5 * this.fov ) / this.zoom,\\r\\n                height = 2 * top,\\r\\n                width = this.aspect * height,\\r\\n                left = - 0.5 * width,\\r\\n                view = this.view;\\r\\n\\r\\n            if ( this.view !== null && this.view.enabled ) {\\r\\n\\r\\n                var fullWidth = view.fullWidth,\\r\\n                    fullHeight = view.fullHeight;\\r\\n\\r\\n                left += view.offsetX * width / fullWidth;\\r\\n                top -= view.offsetY * height / fullHeight;\\r\\n                width *= view.width / fullWidth;\\r\\n                height *= view.height / fullHeight;\\r\\n\\r\\n            }\\r\\n\\r\\n            var skew = this.filmOffset;\\r\\n            if ( skew !== 0 ) left += near * skew / this.getFilmWidth();\\r\\n\\r\\n            this.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\\r\\n\\r\\n            this.projectionMatrixInverse.getInverse( this.projectionMatrix );\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var data = Object3D.prototype.toJSON.call( this, meta );\\r\\n\\r\\n            data.object.fov = this.fov;\\r\\n            data.object.zoom = this.zoom;\\r\\n\\r\\n            data.object.near = this.near;\\r\\n            data.object.far = this.far;\\r\\n            data.object.focus = this.focus;\\r\\n\\r\\n            data.object.aspect = this.aspect;\\r\\n\\r\\n            if ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\\r\\n\\r\\n            data.object.filmGauge = this.filmGauge;\\r\\n            data.object.filmOffset = this.filmOffset;\\r\\n\\r\\n            return data;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function ArrayCamera( array ) {\\r\\n\\r\\n        PerspectiveCamera.call( this );\\r\\n\\r\\n        this.cameras = array || [];\\r\\n\\r\\n    }\\r\\n\\r\\n    ArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\\r\\n\\r\\n        constructor: ArrayCamera,\\r\\n\\r\\n        isArrayCamera: true\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebVRManager( renderer ) {\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        var device = null;\\r\\n        var frameData = null;\\r\\n\\r\\n        var poseTarget = null;\\r\\n\\r\\n        var controllers = [];\\r\\n        var standingMatrix = new Matrix4();\\r\\n        var standingMatrixInverse = new Matrix4();\\r\\n\\r\\n        var frameOfReferenceType = 'stage';\\r\\n\\r\\n        if ( typeof window !== 'undefined' && 'VRFrameData' in window ) {\\r\\n\\r\\n            frameData = new window.VRFrameData();\\r\\n            window.addEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange, false );\\r\\n\\r\\n        }\\r\\n\\r\\n        var matrixWorldInverse = new Matrix4();\\r\\n        var tempQuaternion = new Quaternion();\\r\\n        var tempPosition = new Vector3();\\r\\n\\r\\n        var cameraL = new PerspectiveCamera();\\r\\n        cameraL.bounds = new Vector4( 0.0, 0.0, 0.5, 1.0 );\\r\\n        cameraL.layers.enable( 1 );\\r\\n\\r\\n        var cameraR = new PerspectiveCamera();\\r\\n        cameraR.bounds = new Vector4( 0.5, 0.0, 0.5, 1.0 );\\r\\n        cameraR.layers.enable( 2 );\\r\\n\\r\\n        var cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\\r\\n        cameraVR.layers.enable( 1 );\\r\\n        cameraVR.layers.enable( 2 );\\r\\n\\r\\n        //\\r\\n\\r\\n        function isPresenting() {\\r\\n\\r\\n            return device !== null && device.isPresenting === true;\\r\\n\\r\\n        }\\r\\n\\r\\n        var currentSize, currentPixelRatio;\\r\\n\\r\\n        function onVRDisplayPresentChange() {\\r\\n\\r\\n            if ( isPresenting() ) {\\r\\n\\r\\n                var eyeParameters = device.getEyeParameters( 'left' );\\r\\n                var renderWidth = eyeParameters.renderWidth;\\r\\n                var renderHeight = eyeParameters.renderHeight;\\r\\n\\r\\n                currentPixelRatio = renderer.getPixelRatio();\\r\\n                currentSize = renderer.getSize();\\r\\n\\r\\n                renderer.setDrawingBufferSize( renderWidth * 2, renderHeight, 1 );\\r\\n\\r\\n                animation.start();\\r\\n\\r\\n            } else {\\r\\n\\r\\n                if ( scope.enabled ) {\\r\\n\\r\\n                    renderer.setDrawingBufferSize( currentSize.width, currentSize.height, currentPixelRatio );\\r\\n\\r\\n                }\\r\\n\\r\\n                animation.stop();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        var triggers = [];\\r\\n\\r\\n        function findGamepad( id ) {\\r\\n\\r\\n            var gamepads = navigator.getGamepads && navigator.getGamepads();\\r\\n\\r\\n            for ( var i = 0, j = 0, l = gamepads.length; i < l; i ++ ) {\\r\\n\\r\\n                var gamepad = gamepads[ i ];\\r\\n\\r\\n                if ( gamepad && ( gamepad.id === 'Daydream Controller' ||\\r\\n                        gamepad.id === 'Gear VR Controller' || gamepad.id === 'Oculus Go Controller' ||\\r\\n                        gamepad.id === 'OpenVR Gamepad' || gamepad.id.startsWith( 'Oculus Touch' ) ||\\r\\n                        gamepad.id.startsWith( 'Spatial Controller' ) ) ) {\\r\\n\\r\\n                    if ( j === id ) return gamepad;\\r\\n\\r\\n                    j ++;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function updateControllers() {\\r\\n\\r\\n            for ( var i = 0; i < controllers.length; i ++ ) {\\r\\n\\r\\n                var controller = controllers[ i ];\\r\\n\\r\\n                var gamepad = findGamepad( i );\\r\\n\\r\\n                if ( gamepad !== undefined && gamepad.pose !== undefined ) {\\r\\n\\r\\n                    if ( gamepad.pose === null ) return;\\r\\n\\r\\n                    //  Pose\\r\\n\\r\\n                    var pose = gamepad.pose;\\r\\n\\r\\n                    if ( pose.hasPosition === false ) controller.position.set( 0.2, - 0.6, - 0.05 );\\r\\n\\r\\n                    if ( pose.position !== null ) controller.position.fromArray( pose.position );\\r\\n                    if ( pose.orientation !== null ) controller.quaternion.fromArray( pose.orientation );\\r\\n                    controller.matrix.compose( controller.position, controller.quaternion, controller.scale );\\r\\n                    controller.matrix.premultiply( standingMatrix );\\r\\n                    controller.matrix.decompose( controller.position, controller.quaternion, controller.scale );\\r\\n                    controller.matrixWorldNeedsUpdate = true;\\r\\n                    controller.visible = true;\\r\\n\\r\\n                    //  Trigger\\r\\n\\r\\n                    var buttonId = gamepad.id === 'Daydream Controller' ? 0 : 1;\\r\\n\\r\\n                    if ( triggers[ i ] !== gamepad.buttons[ buttonId ].pressed ) {\\r\\n\\r\\n                        triggers[ i ] = gamepad.buttons[ buttonId ].pressed;\\r\\n\\r\\n                        if ( triggers[ i ] === true ) {\\r\\n\\r\\n                            controller.dispatchEvent( { type: 'selectstart' } );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            controller.dispatchEvent( { type: 'selectend' } );\\r\\n                            controller.dispatchEvent( { type: 'select' } );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    controller.visible = false;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        this.enabled = false;\\r\\n\\r\\n        this.getController = function ( id ) {\\r\\n\\r\\n            var controller = controllers[ id ];\\r\\n\\r\\n            if ( controller === undefined ) {\\r\\n\\r\\n                controller = new Group();\\r\\n                controller.matrixAutoUpdate = false;\\r\\n                controller.visible = false;\\r\\n\\r\\n                controllers[ id ] = controller;\\r\\n\\r\\n            }\\r\\n\\r\\n            return controller;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getDevice = function () {\\r\\n\\r\\n            return device;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setDevice = function ( value ) {\\r\\n\\r\\n            if ( value !== undefined ) device = value;\\r\\n\\r\\n            animation.setContext( value );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setFrameOfReferenceType = function ( value ) {\\r\\n\\r\\n            frameOfReferenceType = value;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setPoseTarget = function ( object ) {\\r\\n\\r\\n            if ( object !== undefined ) poseTarget = object;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getCamera = function ( camera ) {\\r\\n\\r\\n            var userHeight = frameOfReferenceType === 'stage' ? 1.6 : 0;\\r\\n\\r\\n            if ( device === null ) {\\r\\n\\r\\n                camera.position.set( 0, userHeight, 0 );\\r\\n                return camera;\\r\\n\\r\\n            }\\r\\n\\r\\n            device.depthNear = camera.near;\\r\\n            device.depthFar = camera.far;\\r\\n\\r\\n            device.getFrameData( frameData );\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( frameOfReferenceType === 'stage' ) {\\r\\n\\r\\n                var stageParameters = device.stageParameters;\\r\\n\\r\\n                if ( stageParameters ) {\\r\\n\\r\\n                    standingMatrix.fromArray( stageParameters.sittingToStandingTransform );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    standingMatrix.makeTranslation( 0, userHeight, 0 );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            var pose = frameData.pose;\\r\\n            var poseObject = poseTarget !== null ? poseTarget : camera;\\r\\n\\r\\n            // We want to manipulate poseObject by its position and quaternion components since users may rely on them.\\r\\n            poseObject.matrix.copy( standingMatrix );\\r\\n            poseObject.matrix.decompose( poseObject.position, poseObject.quaternion, poseObject.scale );\\r\\n\\r\\n            if ( pose.orientation !== null ) {\\r\\n\\r\\n                tempQuaternion.fromArray( pose.orientation );\\r\\n                poseObject.quaternion.multiply( tempQuaternion );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( pose.position !== null ) {\\r\\n\\r\\n                tempQuaternion.setFromRotationMatrix( standingMatrix );\\r\\n                tempPosition.fromArray( pose.position );\\r\\n                tempPosition.applyQuaternion( tempQuaternion );\\r\\n                poseObject.position.add( tempPosition );\\r\\n\\r\\n            }\\r\\n\\r\\n            poseObject.updateMatrixWorld();\\r\\n\\r\\n            if ( device.isPresenting === false ) return camera;\\r\\n\\r\\n            //\\r\\n\\r\\n            cameraL.near = camera.near;\\r\\n            cameraR.near = camera.near;\\r\\n\\r\\n            cameraL.far = camera.far;\\r\\n            cameraR.far = camera.far;\\r\\n\\r\\n            cameraVR.matrixWorld.copy( camera.matrixWorld );\\r\\n            cameraVR.matrixWorldInverse.copy( camera.matrixWorldInverse );\\r\\n\\r\\n            cameraL.matrixWorldInverse.fromArray( frameData.leftViewMatrix );\\r\\n            cameraR.matrixWorldInverse.fromArray( frameData.rightViewMatrix );\\r\\n\\r\\n            // TODO (mrdoob) Double check this code\\r\\n\\r\\n            standingMatrixInverse.getInverse( standingMatrix );\\r\\n\\r\\n            if ( frameOfReferenceType === 'stage' ) {\\r\\n\\r\\n                cameraL.matrixWorldInverse.multiply( standingMatrixInverse );\\r\\n                cameraR.matrixWorldInverse.multiply( standingMatrixInverse );\\r\\n\\r\\n            }\\r\\n\\r\\n            var parent = poseObject.parent;\\r\\n\\r\\n            if ( parent !== null ) {\\r\\n\\r\\n                matrixWorldInverse.getInverse( parent.matrixWorld );\\r\\n\\r\\n                cameraL.matrixWorldInverse.multiply( matrixWorldInverse );\\r\\n                cameraR.matrixWorldInverse.multiply( matrixWorldInverse );\\r\\n\\r\\n            }\\r\\n\\r\\n            // envMap and Mirror needs camera.matrixWorld\\r\\n\\r\\n            cameraL.matrixWorld.getInverse( cameraL.matrixWorldInverse );\\r\\n            cameraR.matrixWorld.getInverse( cameraR.matrixWorldInverse );\\r\\n\\r\\n            cameraL.projectionMatrix.fromArray( frameData.leftProjectionMatrix );\\r\\n            cameraR.projectionMatrix.fromArray( frameData.rightProjectionMatrix );\\r\\n\\r\\n            // HACK (mrdoob)\\r\\n            // https://github.com/w3c/webvr/issues/203\\r\\n\\r\\n            cameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\\r\\n\\r\\n            //\\r\\n\\r\\n            var layers = device.getLayers();\\r\\n\\r\\n            if ( layers.length ) {\\r\\n\\r\\n                var layer = layers[ 0 ];\\r\\n\\r\\n                if ( layer.leftBounds !== null && layer.leftBounds.length === 4 ) {\\r\\n\\r\\n                    cameraL.bounds.fromArray( layer.leftBounds );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( layer.rightBounds !== null && layer.rightBounds.length === 4 ) {\\r\\n\\r\\n                    cameraR.bounds.fromArray( layer.rightBounds );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            updateControllers();\\r\\n\\r\\n            return cameraVR;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getStandingMatrix = function () {\\r\\n\\r\\n            return standingMatrix;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.isPresenting = isPresenting;\\r\\n\\r\\n        // Animation Loop\\r\\n\\r\\n        var animation = new WebGLAnimation();\\r\\n\\r\\n        this.setAnimationLoop = function ( callback ) {\\r\\n\\r\\n            animation.setAnimationLoop( callback );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.submitFrame = function () {\\r\\n\\r\\n            if ( isPresenting() ) device.submitFrame();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.dispose = function () {\\r\\n\\r\\n            if ( typeof window !== 'undefined' ) {\\r\\n\\r\\n                window.removeEventListener( 'vrdisplaypresentchange', onVRDisplayPresentChange );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function WebXRManager( renderer ) {\\r\\n\\r\\n        var gl = renderer.context;\\r\\n\\r\\n        var device = null;\\r\\n        var session = null;\\r\\n\\r\\n        var frameOfReference = null;\\r\\n        var frameOfReferenceType = 'stage';\\r\\n\\r\\n        var pose = null;\\r\\n\\r\\n        var controllers = [];\\r\\n        var inputSources = [];\\r\\n\\r\\n        function isPresenting() {\\r\\n\\r\\n            return session !== null && frameOfReference !== null;\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        var cameraL = new PerspectiveCamera();\\r\\n        cameraL.layers.enable( 1 );\\r\\n        cameraL.viewport = new Vector4();\\r\\n\\r\\n        var cameraR = new PerspectiveCamera();\\r\\n        cameraR.layers.enable( 2 );\\r\\n        cameraR.viewport = new Vector4();\\r\\n\\r\\n        var cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\\r\\n        cameraVR.layers.enable( 1 );\\r\\n        cameraVR.layers.enable( 2 );\\r\\n\\r\\n        //\\r\\n\\r\\n        this.enabled = false;\\r\\n\\r\\n        this.getController = function ( id ) {\\r\\n\\r\\n            var controller = controllers[ id ];\\r\\n\\r\\n            if ( controller === undefined ) {\\r\\n\\r\\n                controller = new Group();\\r\\n                controller.matrixAutoUpdate = false;\\r\\n                controller.visible = false;\\r\\n\\r\\n                controllers[ id ] = controller;\\r\\n\\r\\n            }\\r\\n\\r\\n            return controller;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getDevice = function () {\\r\\n\\r\\n            return device;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setDevice = function ( value ) {\\r\\n\\r\\n            if ( value !== undefined ) device = value;\\r\\n            if ( value instanceof XRDevice ) gl.setCompatibleXRDevice( value );\\r\\n\\r\\n        };\\r\\n\\r\\n        //\\r\\n\\r\\n        function onSessionEvent( event ) {\\r\\n\\r\\n            var controller = controllers[ inputSources.indexOf( event.inputSource ) ];\\r\\n            if ( controller ) controller.dispatchEvent( { type: event.type } );\\r\\n\\r\\n        }\\r\\n\\r\\n        function onSessionEnd() {\\r\\n\\r\\n            renderer.setFramebuffer( null );\\r\\n            animation.stop();\\r\\n\\r\\n        }\\r\\n\\r\\n        this.setFrameOfReferenceType = function ( value ) {\\r\\n\\r\\n            frameOfReferenceType = value;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setSession = function ( value ) {\\r\\n\\r\\n            session = value;\\r\\n\\r\\n            if ( session !== null ) {\\r\\n\\r\\n                session.addEventListener( 'select', onSessionEvent );\\r\\n                session.addEventListener( 'selectstart', onSessionEvent );\\r\\n                session.addEventListener( 'selectend', onSessionEvent );\\r\\n                session.addEventListener( 'end', onSessionEnd );\\r\\n\\r\\n                session.baseLayer = new XRWebGLLayer( session, gl );\\r\\n                session.requestFrameOfReference( frameOfReferenceType ).then( function ( value ) {\\r\\n\\r\\n                    frameOfReference = value;\\r\\n\\r\\n                    renderer.setFramebuffer( session.baseLayer.framebuffer );\\r\\n\\r\\n                    animation.setContext( session );\\r\\n                    animation.start();\\r\\n\\r\\n                } );\\r\\n\\r\\n                //\\r\\n\\r\\n                inputSources = session.getInputSources();\\r\\n\\r\\n                session.addEventListener( 'inputsourceschange', function () {\\r\\n\\r\\n                    inputSources = session.getInputSources();\\r\\n                    console.log( inputSources );\\r\\n\\r\\n                } );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        function updateCamera( camera, parent ) {\\r\\n\\r\\n            if ( parent === null ) {\\r\\n\\r\\n                camera.matrixWorld.copy( camera.matrix );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                camera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n            camera.matrixWorldInverse.getInverse( camera.matrixWorld );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.getCamera = function ( camera ) {\\r\\n\\r\\n            if ( isPresenting() ) {\\r\\n\\r\\n                var parent = camera.parent;\\r\\n                var cameras = cameraVR.cameras;\\r\\n\\r\\n                // apply camera.parent to cameraVR\\r\\n\\r\\n                updateCamera( cameraVR, parent );\\r\\n\\r\\n                for ( var i = 0; i < cameras.length; i ++ ) {\\r\\n\\r\\n                    updateCamera( cameras[ i ], parent );\\r\\n\\r\\n                }\\r\\n\\r\\n                // update camera and its children\\r\\n\\r\\n                camera.matrixWorld.copy( cameraVR.matrixWorld );\\r\\n\\r\\n                var children = camera.children;\\r\\n\\r\\n                for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                    children[ i ].updateMatrixWorld( true );\\r\\n\\r\\n                }\\r\\n\\r\\n                return cameraVR;\\r\\n\\r\\n            }\\r\\n\\r\\n            return camera;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.isPresenting = isPresenting;\\r\\n\\r\\n        // Animation Loop\\r\\n\\r\\n        var onAnimationFrameCallback = null;\\r\\n\\r\\n        function onAnimationFrame( time, frame ) {\\r\\n\\r\\n            pose = frame.getDevicePose( frameOfReference );\\r\\n\\r\\n            if ( pose !== null ) {\\r\\n\\r\\n                var layer = session.baseLayer;\\r\\n                var views = frame.views;\\r\\n\\r\\n                for ( var i = 0; i < views.length; i ++ ) {\\r\\n\\r\\n                    var view = views[ i ];\\r\\n                    var viewport = layer.getViewport( view );\\r\\n                    var viewMatrix = pose.getViewMatrix( view );\\r\\n\\r\\n                    var camera = cameraVR.cameras[ i ];\\r\\n                    camera.matrix.fromArray( viewMatrix ).getInverse( camera.matrix );\\r\\n                    camera.projectionMatrix.fromArray( view.projectionMatrix );\\r\\n                    camera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\\r\\n\\r\\n                    if ( i === 0 ) {\\r\\n\\r\\n                        cameraVR.matrix.copy( camera.matrix );\\r\\n\\r\\n                        // HACK (mrdoob)\\r\\n                        // https://github.com/w3c/webvr/issues/203\\r\\n\\r\\n                        cameraVR.projectionMatrix.copy( camera.projectionMatrix );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            for ( var i = 0; i < controllers.length; i ++ ) {\\r\\n\\r\\n                var controller = controllers[ i ];\\r\\n\\r\\n                var inputSource = inputSources[ i ];\\r\\n\\r\\n                if ( inputSource ) {\\r\\n\\r\\n                    var inputPose = frame.getInputPose( inputSource, frameOfReference );\\r\\n\\r\\n                    if ( inputPose !== null ) {\\r\\n\\r\\n                        if ( 'targetRay' in inputPose ) {\\r\\n\\r\\n                            controller.matrix.elements = inputPose.targetRay.transformMatrix;\\r\\n\\r\\n                        } else if ( 'pointerMatrix' in inputPose ) {\\r\\n\\r\\n                            // DEPRECATED\\r\\n\\r\\n                            controller.matrix.elements = inputPose.pointerMatrix;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        controller.matrix.decompose( controller.position, controller.rotation, controller.scale );\\r\\n                        controller.visible = true;\\r\\n\\r\\n                        continue;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                controller.visible = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\\r\\n\\r\\n        }\\r\\n\\r\\n        var animation = new WebGLAnimation();\\r\\n        animation.setAnimationLoop( onAnimationFrame );\\r\\n\\r\\n        this.setAnimationLoop = function ( callback ) {\\r\\n\\r\\n            onAnimationFrameCallback = callback;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.dispose = function () {};\\r\\n\\r\\n        // DEPRECATED\\r\\n\\r\\n        this.getStandingMatrix = function () {\\r\\n\\r\\n            console.warn( 'THREE.WebXRManager: getStandingMatrix() is no longer needed.' );\\r\\n            return new THREE.Matrix4();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.submitFrame = function () {};\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author supereggbert / http://www.paulbrunt.co.uk/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author szimek / https://github.com/szimek/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function WebGLRenderer( parameters ) {\\r\\n\\r\\n        console.log( 'THREE.WebGLRenderer', REVISION );\\r\\n\\r\\n        parameters = parameters || {};\\r\\n\\r\\n        var _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\\r\\n            _context = parameters.context !== undefined ? parameters.context : null,\\r\\n\\r\\n            _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\\r\\n            _depth = parameters.depth !== undefined ? parameters.depth : true,\\r\\n            _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\\r\\n            _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\\r\\n            _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\\r\\n            _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\\r\\n            _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default';\\r\\n\\r\\n        var currentRenderList = null;\\r\\n        var currentRenderState = null;\\r\\n\\r\\n        // public properties\\r\\n\\r\\n        this.domElement = _canvas;\\r\\n        this.context = null;\\r\\n\\r\\n        // clearing\\r\\n\\r\\n        this.autoClear = true;\\r\\n        this.autoClearColor = true;\\r\\n        this.autoClearDepth = true;\\r\\n        this.autoClearStencil = true;\\r\\n\\r\\n        // scene graph\\r\\n\\r\\n        this.sortObjects = true;\\r\\n\\r\\n        // user-defined clipping\\r\\n\\r\\n        this.clippingPlanes = [];\\r\\n        this.localClippingEnabled = false;\\r\\n\\r\\n        // physically based shading\\r\\n\\r\\n        this.gammaFactor = 2.0;\\t// for backwards compatibility\\r\\n        this.gammaInput = false;\\r\\n        this.gammaOutput = false;\\r\\n\\r\\n        // physical lights\\r\\n\\r\\n        this.physicallyCorrectLights = false;\\r\\n\\r\\n        // tone mapping\\r\\n\\r\\n        this.toneMapping = LinearToneMapping;\\r\\n        this.toneMappingExposure = 1.0;\\r\\n        this.toneMappingWhitePoint = 1.0;\\r\\n\\r\\n        // morphs\\r\\n\\r\\n        this.maxMorphTargets = 8;\\r\\n        this.maxMorphNormals = 4;\\r\\n\\r\\n        // internal properties\\r\\n\\r\\n        var _this = this,\\r\\n\\r\\n            _isContextLost = false,\\r\\n\\r\\n            // internal state cache\\r\\n\\r\\n            _framebuffer = null,\\r\\n\\r\\n            _currentRenderTarget = null,\\r\\n            _currentFramebuffer = null,\\r\\n            _currentMaterialId = - 1,\\r\\n\\r\\n            // geometry and program caching\\r\\n\\r\\n            _currentGeometryProgram = {\\r\\n                geometry: null,\\r\\n                program: null,\\r\\n                wireframe: false\\r\\n            },\\r\\n\\r\\n            _currentCamera = null,\\r\\n            _currentArrayCamera = null,\\r\\n\\r\\n            _currentViewport = new Vector4(),\\r\\n            _currentScissor = new Vector4(),\\r\\n            _currentScissorTest = null,\\r\\n\\r\\n            //\\r\\n\\r\\n            _usedTextureUnits = 0,\\r\\n\\r\\n            //\\r\\n\\r\\n            _width = _canvas.width,\\r\\n            _height = _canvas.height,\\r\\n\\r\\n            _pixelRatio = 1,\\r\\n\\r\\n            _viewport = new Vector4( 0, 0, _width, _height ),\\r\\n            _scissor = new Vector4( 0, 0, _width, _height ),\\r\\n            _scissorTest = false,\\r\\n\\r\\n            // frustum\\r\\n\\r\\n            _frustum = new Frustum(),\\r\\n\\r\\n            // clipping\\r\\n\\r\\n            _clipping = new WebGLClipping(),\\r\\n            _clippingEnabled = false,\\r\\n            _localClippingEnabled = false,\\r\\n\\r\\n            // camera matrices cache\\r\\n\\r\\n            _projScreenMatrix = new Matrix4(),\\r\\n\\r\\n            _vector3 = new Vector3();\\r\\n\\r\\n        function getTargetPixelRatio() {\\r\\n\\r\\n            return _currentRenderTarget === null ? _pixelRatio : 1;\\r\\n\\r\\n        }\\r\\n\\r\\n        // initialize\\r\\n\\r\\n        var _gl;\\r\\n\\r\\n        try {\\r\\n\\r\\n            var contextAttributes = {\\r\\n                alpha: _alpha,\\r\\n                depth: _depth,\\r\\n                stencil: _stencil,\\r\\n                antialias: _antialias,\\r\\n                premultipliedAlpha: _premultipliedAlpha,\\r\\n                preserveDrawingBuffer: _preserveDrawingBuffer,\\r\\n                powerPreference: _powerPreference\\r\\n            };\\r\\n\\r\\n            // event listeners must be registered before WebGL context is created, see #12753\\r\\n\\r\\n            _canvas.addEventListener( 'webglcontextlost', onContextLost, false );\\r\\n            _canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\\r\\n\\r\\n            _gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\\r\\n\\r\\n            if ( _gl === null ) {\\r\\n\\r\\n                if ( _canvas.getContext( 'webgl' ) !== null ) {\\r\\n\\r\\n                    throw new Error( 'Error creating WebGL context with your selected attributes.' );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    throw new Error( 'Error creating WebGL context.' );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // Some experimental-webgl implementations do not have getShaderPrecisionFormat\\r\\n\\r\\n            if ( _gl.getShaderPrecisionFormat === undefined ) {\\r\\n\\r\\n                _gl.getShaderPrecisionFormat = function () {\\r\\n\\r\\n                    return { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\\r\\n\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n        } catch ( error ) {\\r\\n\\r\\n            console.error( 'THREE.WebGLRenderer: ' + error.message );\\r\\n\\r\\n        }\\r\\n\\r\\n        var extensions, capabilities, state, info;\\r\\n        var properties, textures, attributes, geometries, objects;\\r\\n        var programCache, renderLists, renderStates;\\r\\n\\r\\n        var background, morphtargets, bufferRenderer, indexedBufferRenderer;\\r\\n\\r\\n        var utils;\\r\\n\\r\\n        function initGLContext() {\\r\\n\\r\\n            extensions = new WebGLExtensions( _gl );\\r\\n\\r\\n            capabilities = new WebGLCapabilities( _gl, extensions, parameters );\\r\\n\\r\\n            if ( ! capabilities.isWebGL2 ) {\\r\\n\\r\\n                extensions.get( 'WEBGL_depth_texture' );\\r\\n                extensions.get( 'OES_texture_float' );\\r\\n                extensions.get( 'OES_texture_half_float' );\\r\\n                extensions.get( 'OES_texture_half_float_linear' );\\r\\n                extensions.get( 'OES_standard_derivatives' );\\r\\n                extensions.get( 'OES_element_index_uint' );\\r\\n                extensions.get( 'ANGLE_instanced_arrays' );\\r\\n\\r\\n            }\\r\\n\\r\\n            extensions.get( 'OES_texture_float_linear' );\\r\\n\\r\\n            utils = new WebGLUtils( _gl, extensions, capabilities );\\r\\n\\r\\n            state = new WebGLState( _gl, extensions, utils, capabilities );\\r\\n            state.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\\r\\n            state.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\\r\\n\\r\\n            info = new WebGLInfo( _gl );\\r\\n            properties = new WebGLProperties();\\r\\n            textures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\\r\\n            attributes = new WebGLAttributes( _gl );\\r\\n            geometries = new WebGLGeometries( _gl, attributes, info );\\r\\n            objects = new WebGLObjects( geometries, info );\\r\\n            morphtargets = new WebGLMorphtargets( _gl );\\r\\n            programCache = new WebGLPrograms( _this, extensions, capabilities );\\r\\n            renderLists = new WebGLRenderLists();\\r\\n            renderStates = new WebGLRenderStates();\\r\\n\\r\\n            background = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\\r\\n\\r\\n            bufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\\r\\n            indexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\\r\\n\\r\\n            info.programs = programCache.programs;\\r\\n\\r\\n            _this.context = _gl;\\r\\n            _this.capabilities = capabilities;\\r\\n            _this.extensions = extensions;\\r\\n            _this.properties = properties;\\r\\n            _this.renderLists = renderLists;\\r\\n            _this.state = state;\\r\\n            _this.info = info;\\r\\n\\r\\n        }\\r\\n\\r\\n        initGLContext();\\r\\n\\r\\n        // vr\\r\\n\\r\\n        var vr = null;\\r\\n\\r\\n        if ( typeof navigator !== 'undefined' ) {\\r\\n\\r\\n            vr = ( 'xr' in navigator ) ? new WebXRManager( _this ) : new WebVRManager( _this );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.vr = vr;\\r\\n\\r\\n        // shadow map\\r\\n\\r\\n        var shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\\r\\n\\r\\n        this.shadowMap = shadowMap;\\r\\n\\r\\n        // API\\r\\n\\r\\n        this.getContext = function () {\\r\\n\\r\\n            return _gl;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getContextAttributes = function () {\\r\\n\\r\\n            return _gl.getContextAttributes();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.forceContextLoss = function () {\\r\\n\\r\\n            var extension = extensions.get( 'WEBGL_lose_context' );\\r\\n            if ( extension ) extension.loseContext();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.forceContextRestore = function () {\\r\\n\\r\\n            var extension = extensions.get( 'WEBGL_lose_context' );\\r\\n            if ( extension ) extension.restoreContext();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getPixelRatio = function () {\\r\\n\\r\\n            return _pixelRatio;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setPixelRatio = function ( value ) {\\r\\n\\r\\n            if ( value === undefined ) return;\\r\\n\\r\\n            _pixelRatio = value;\\r\\n\\r\\n            this.setSize( _width, _height, false );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getSize = function () {\\r\\n\\r\\n            return {\\r\\n                width: _width,\\r\\n                height: _height\\r\\n            };\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setSize = function ( width, height, updateStyle ) {\\r\\n\\r\\n            if ( vr.isPresenting() ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: Can\\\\'t change size while VR device is presenting.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            _width = width;\\r\\n            _height = height;\\r\\n\\r\\n            _canvas.width = width * _pixelRatio;\\r\\n            _canvas.height = height * _pixelRatio;\\r\\n\\r\\n            if ( updateStyle !== false ) {\\r\\n\\r\\n                _canvas.style.width = width + 'px';\\r\\n                _canvas.style.height = height + 'px';\\r\\n\\r\\n            }\\r\\n\\r\\n            this.setViewport( 0, 0, width, height );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getDrawingBufferSize = function () {\\r\\n\\r\\n            return {\\r\\n                width: _width * _pixelRatio,\\r\\n                height: _height * _pixelRatio\\r\\n            };\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setDrawingBufferSize = function ( width, height, pixelRatio ) {\\r\\n\\r\\n            _width = width;\\r\\n            _height = height;\\r\\n\\r\\n            _pixelRatio = pixelRatio;\\r\\n\\r\\n            _canvas.width = width * pixelRatio;\\r\\n            _canvas.height = height * pixelRatio;\\r\\n\\r\\n            this.setViewport( 0, 0, width, height );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getCurrentViewport = function () {\\r\\n\\r\\n            return _currentViewport;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setViewport = function ( x, y, width, height ) {\\r\\n\\r\\n            _viewport.set( x, _height - y - height, width, height );\\r\\n            state.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ) );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setScissor = function ( x, y, width, height ) {\\r\\n\\r\\n            _scissor.set( x, _height - y - height, width, height );\\r\\n            state.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ) );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setScissorTest = function ( boolean ) {\\r\\n\\r\\n            state.setScissorTest( _scissorTest = boolean );\\r\\n\\r\\n        };\\r\\n\\r\\n        // Clearing\\r\\n\\r\\n        this.getClearColor = function () {\\r\\n\\r\\n            return background.getClearColor();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setClearColor = function () {\\r\\n\\r\\n            background.setClearColor.apply( background, arguments );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getClearAlpha = function () {\\r\\n\\r\\n            return background.getClearAlpha();\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setClearAlpha = function () {\\r\\n\\r\\n            background.setClearAlpha.apply( background, arguments );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.clear = function ( color, depth, stencil ) {\\r\\n\\r\\n            var bits = 0;\\r\\n\\r\\n            if ( color === undefined || color ) bits |= _gl.COLOR_BUFFER_BIT;\\r\\n            if ( depth === undefined || depth ) bits |= _gl.DEPTH_BUFFER_BIT;\\r\\n            if ( stencil === undefined || stencil ) bits |= _gl.STENCIL_BUFFER_BIT;\\r\\n\\r\\n            _gl.clear( bits );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.clearColor = function () {\\r\\n\\r\\n            this.clear( true, false, false );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.clearDepth = function () {\\r\\n\\r\\n            this.clear( false, true, false );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.clearStencil = function () {\\r\\n\\r\\n            this.clear( false, false, true );\\r\\n\\r\\n        };\\r\\n\\r\\n        //\\r\\n\\r\\n        this.dispose = function () {\\r\\n\\r\\n            _canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\\r\\n            _canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\\r\\n\\r\\n            renderLists.dispose();\\r\\n            renderStates.dispose();\\r\\n            properties.dispose();\\r\\n            objects.dispose();\\r\\n\\r\\n            vr.dispose();\\r\\n\\r\\n            animation.stop();\\r\\n\\r\\n        };\\r\\n\\r\\n        // Events\\r\\n\\r\\n        function onContextLost( event ) {\\r\\n\\r\\n            event.preventDefault();\\r\\n\\r\\n            console.log( 'THREE.WebGLRenderer: Context Lost.' );\\r\\n\\r\\n            _isContextLost = true;\\r\\n\\r\\n        }\\r\\n\\r\\n        function onContextRestore( /* event */ ) {\\r\\n\\r\\n            console.log( 'THREE.WebGLRenderer: Context Restored.' );\\r\\n\\r\\n            _isContextLost = false;\\r\\n\\r\\n            initGLContext();\\r\\n\\r\\n        }\\r\\n\\r\\n        function onMaterialDispose( event ) {\\r\\n\\r\\n            var material = event.target;\\r\\n\\r\\n            material.removeEventListener( 'dispose', onMaterialDispose );\\r\\n\\r\\n            deallocateMaterial( material );\\r\\n\\r\\n        }\\r\\n\\r\\n        // Buffer deallocation\\r\\n\\r\\n        function deallocateMaterial( material ) {\\r\\n\\r\\n            releaseMaterialProgramReference( material );\\r\\n\\r\\n            properties.remove( material );\\r\\n\\r\\n        }\\r\\n\\r\\n\\r\\n        function releaseMaterialProgramReference( material ) {\\r\\n\\r\\n            var programInfo = properties.get( material ).program;\\r\\n\\r\\n            material.program = undefined;\\r\\n\\r\\n            if ( programInfo !== undefined ) {\\r\\n\\r\\n                programCache.releaseProgram( programInfo );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // Buffer rendering\\r\\n\\r\\n        function renderObjectImmediate( object, program ) {\\r\\n\\r\\n            object.render( function ( object ) {\\r\\n\\r\\n                _this.renderBufferImmediate( object, program );\\r\\n\\r\\n            } );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.renderBufferImmediate = function ( object, program ) {\\r\\n\\r\\n            state.initAttributes();\\r\\n\\r\\n            var buffers = properties.get( object );\\r\\n\\r\\n            if ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\\r\\n            if ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\\r\\n            if ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\\r\\n            if ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\\r\\n\\r\\n            var programAttributes = program.getAttributes();\\r\\n\\r\\n            if ( object.hasPositions ) {\\r\\n\\r\\n                _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.position );\\r\\n                _gl.bufferData( _gl.ARRAY_BUFFER, object.positionArray, _gl.DYNAMIC_DRAW );\\r\\n\\r\\n                state.enableAttribute( programAttributes.position );\\r\\n                _gl.vertexAttribPointer( programAttributes.position, 3, _gl.FLOAT, false, 0, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( object.hasNormals ) {\\r\\n\\r\\n                _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.normal );\\r\\n                _gl.bufferData( _gl.ARRAY_BUFFER, object.normalArray, _gl.DYNAMIC_DRAW );\\r\\n\\r\\n                state.enableAttribute( programAttributes.normal );\\r\\n                _gl.vertexAttribPointer( programAttributes.normal, 3, _gl.FLOAT, false, 0, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( object.hasUvs ) {\\r\\n\\r\\n                _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.uv );\\r\\n                _gl.bufferData( _gl.ARRAY_BUFFER, object.uvArray, _gl.DYNAMIC_DRAW );\\r\\n\\r\\n                state.enableAttribute( programAttributes.uv );\\r\\n                _gl.vertexAttribPointer( programAttributes.uv, 2, _gl.FLOAT, false, 0, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( object.hasColors ) {\\r\\n\\r\\n                _gl.bindBuffer( _gl.ARRAY_BUFFER, buffers.color );\\r\\n                _gl.bufferData( _gl.ARRAY_BUFFER, object.colorArray, _gl.DYNAMIC_DRAW );\\r\\n\\r\\n                state.enableAttribute( programAttributes.color );\\r\\n                _gl.vertexAttribPointer( programAttributes.color, 3, _gl.FLOAT, false, 0, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            state.disableUnusedAttributes();\\r\\n\\r\\n            _gl.drawArrays( _gl.TRIANGLES, 0, object.count );\\r\\n\\r\\n            object.count = 0;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.renderBufferDirect = function ( camera, fog, geometry, material, object, group ) {\\r\\n\\r\\n            var frontFaceCW = ( object.isMesh && object.normalMatrix.determinant() < 0 );\\r\\n\\r\\n            state.setMaterial( material, frontFaceCW );\\r\\n\\r\\n            var program = setProgram( camera, fog, material, object );\\r\\n\\r\\n            var updateBuffers = false;\\r\\n\\r\\n            if ( _currentGeometryProgram.geometry !== geometry.id ||\\r\\n                _currentGeometryProgram.program !== program.id ||\\r\\n                _currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\\r\\n\\r\\n                _currentGeometryProgram.geometry = geometry.id;\\r\\n                _currentGeometryProgram.program = program.id;\\r\\n                _currentGeometryProgram.wireframe = material.wireframe === true;\\r\\n                updateBuffers = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( object.morphTargetInfluences ) {\\r\\n\\r\\n                morphtargets.update( object, geometry, material, program );\\r\\n\\r\\n                updateBuffers = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            var index = geometry.index;\\r\\n            var position = geometry.attributes.position;\\r\\n            var rangeFactor = 1;\\r\\n\\r\\n            if ( material.wireframe === true ) {\\r\\n\\r\\n                index = geometries.getWireframeAttribute( geometry );\\r\\n                rangeFactor = 2;\\r\\n\\r\\n            }\\r\\n\\r\\n            var attribute;\\r\\n            var renderer = bufferRenderer;\\r\\n\\r\\n            if ( index !== null ) {\\r\\n\\r\\n                attribute = attributes.get( index );\\r\\n\\r\\n                renderer = indexedBufferRenderer;\\r\\n                renderer.setIndex( attribute );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( updateBuffers ) {\\r\\n\\r\\n                setupVertexAttributes( material, program, geometry );\\r\\n\\r\\n                if ( index !== null ) {\\r\\n\\r\\n                    _gl.bindBuffer( _gl.ELEMENT_ARRAY_BUFFER, attribute.buffer );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            var dataCount = Infinity;\\r\\n\\r\\n            if ( index !== null ) {\\r\\n\\r\\n                dataCount = index.count;\\r\\n\\r\\n            } else if ( position !== undefined ) {\\r\\n\\r\\n                dataCount = position.count;\\r\\n\\r\\n            }\\r\\n\\r\\n            var rangeStart = geometry.drawRange.start * rangeFactor;\\r\\n            var rangeCount = geometry.drawRange.count * rangeFactor;\\r\\n\\r\\n            var groupStart = group !== null ? group.start * rangeFactor : 0;\\r\\n            var groupCount = group !== null ? group.count * rangeFactor : Infinity;\\r\\n\\r\\n            var drawStart = Math.max( rangeStart, groupStart );\\r\\n            var drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\\r\\n\\r\\n            var drawCount = Math.max( 0, drawEnd - drawStart + 1 );\\r\\n\\r\\n            if ( drawCount === 0 ) return;\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( object.isMesh ) {\\r\\n\\r\\n                if ( material.wireframe === true ) {\\r\\n\\r\\n                    state.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\\r\\n                    renderer.setMode( _gl.LINES );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    switch ( object.drawMode ) {\\r\\n\\r\\n                        case TrianglesDrawMode:\\r\\n                            renderer.setMode( _gl.TRIANGLES );\\r\\n                            break;\\r\\n\\r\\n                        case TriangleStripDrawMode:\\r\\n                            renderer.setMode( _gl.TRIANGLE_STRIP );\\r\\n                            break;\\r\\n\\r\\n                        case TriangleFanDrawMode:\\r\\n                            renderer.setMode( _gl.TRIANGLE_FAN );\\r\\n                            break;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n\\r\\n            } else if ( object.isLine ) {\\r\\n\\r\\n                var lineWidth = material.linewidth;\\r\\n\\r\\n                if ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\\r\\n\\r\\n                state.setLineWidth( lineWidth * getTargetPixelRatio() );\\r\\n\\r\\n                if ( object.isLineSegments ) {\\r\\n\\r\\n                    renderer.setMode( _gl.LINES );\\r\\n\\r\\n                } else if ( object.isLineLoop ) {\\r\\n\\r\\n                    renderer.setMode( _gl.LINE_LOOP );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    renderer.setMode( _gl.LINE_STRIP );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( object.isPoints ) {\\r\\n\\r\\n                renderer.setMode( _gl.POINTS );\\r\\n\\r\\n            } else if ( object.isSprite ) {\\r\\n\\r\\n                renderer.setMode( _gl.TRIANGLES );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( geometry && geometry.isInstancedBufferGeometry ) {\\r\\n\\r\\n                if ( geometry.maxInstancedCount > 0 ) {\\r\\n\\r\\n                    renderer.renderInstances( geometry, drawStart, drawCount );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                renderer.render( drawStart, drawCount );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        function setupVertexAttributes( material, program, geometry ) {\\r\\n\\r\\n            if ( geometry && geometry.isInstancedBufferGeometry & ! capabilities.isWebGL2 ) {\\r\\n\\r\\n                if ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) {\\r\\n\\r\\n                    console.error( 'THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            state.initAttributes();\\r\\n\\r\\n            var geometryAttributes = geometry.attributes;\\r\\n\\r\\n            var programAttributes = program.getAttributes();\\r\\n\\r\\n            var materialDefaultAttributeValues = material.defaultAttributeValues;\\r\\n\\r\\n            for ( var name in programAttributes ) {\\r\\n\\r\\n                var programAttribute = programAttributes[ name ];\\r\\n\\r\\n                if ( programAttribute >= 0 ) {\\r\\n\\r\\n                    var geometryAttribute = geometryAttributes[ name ];\\r\\n\\r\\n                    if ( geometryAttribute !== undefined ) {\\r\\n\\r\\n                        var normalized = geometryAttribute.normalized;\\r\\n                        var size = geometryAttribute.itemSize;\\r\\n\\r\\n                        var attribute = attributes.get( geometryAttribute );\\r\\n\\r\\n                        // TODO Attribute may not be available on context restore\\r\\n\\r\\n                        if ( attribute === undefined ) continue;\\r\\n\\r\\n                        var buffer = attribute.buffer;\\r\\n                        var type = attribute.type;\\r\\n                        var bytesPerElement = attribute.bytesPerElement;\\r\\n\\r\\n                        if ( geometryAttribute.isInterleavedBufferAttribute ) {\\r\\n\\r\\n                            var data = geometryAttribute.data;\\r\\n                            var stride = data.stride;\\r\\n                            var offset = geometryAttribute.offset;\\r\\n\\r\\n                            if ( data && data.isInstancedInterleavedBuffer ) {\\r\\n\\r\\n                                state.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\\r\\n\\r\\n                                if ( geometry.maxInstancedCount === undefined ) {\\r\\n\\r\\n                                    geometry.maxInstancedCount = data.meshPerAttribute * data.count;\\r\\n\\r\\n                                }\\r\\n\\r\\n                            } else {\\r\\n\\r\\n                                state.enableAttribute( programAttribute );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            _gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\\r\\n                            _gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            if ( geometryAttribute.isInstancedBufferAttribute ) {\\r\\n\\r\\n                                state.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\\r\\n\\r\\n                                if ( geometry.maxInstancedCount === undefined ) {\\r\\n\\r\\n                                    geometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\\r\\n\\r\\n                                }\\r\\n\\r\\n                            } else {\\r\\n\\r\\n                                state.enableAttribute( programAttribute );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            _gl.bindBuffer( _gl.ARRAY_BUFFER, buffer );\\r\\n                            _gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else if ( materialDefaultAttributeValues !== undefined ) {\\r\\n\\r\\n                        var value = materialDefaultAttributeValues[ name ];\\r\\n\\r\\n                        if ( value !== undefined ) {\\r\\n\\r\\n                            switch ( value.length ) {\\r\\n\\r\\n                                case 2:\\r\\n                                    _gl.vertexAttrib2fv( programAttribute, value );\\r\\n                                    break;\\r\\n\\r\\n                                case 3:\\r\\n                                    _gl.vertexAttrib3fv( programAttribute, value );\\r\\n                                    break;\\r\\n\\r\\n                                case 4:\\r\\n                                    _gl.vertexAttrib4fv( programAttribute, value );\\r\\n                                    break;\\r\\n\\r\\n                                default:\\r\\n                                    _gl.vertexAttrib1fv( programAttribute, value );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            state.disableUnusedAttributes();\\r\\n\\r\\n        }\\r\\n\\r\\n        // Compile\\r\\n\\r\\n        this.compile = function ( scene, camera ) {\\r\\n\\r\\n            currentRenderState = renderStates.get( scene, camera );\\r\\n            currentRenderState.init();\\r\\n\\r\\n            scene.traverse( function ( object ) {\\r\\n\\r\\n                if ( object.isLight ) {\\r\\n\\r\\n                    currentRenderState.pushLight( object );\\r\\n\\r\\n                    if ( object.castShadow ) {\\r\\n\\r\\n                        currentRenderState.pushShadow( object );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } );\\r\\n\\r\\n            currentRenderState.setupLights( camera );\\r\\n\\r\\n            scene.traverse( function ( object ) {\\r\\n\\r\\n                if ( object.material ) {\\r\\n\\r\\n                    if ( Array.isArray( object.material ) ) {\\r\\n\\r\\n                        for ( var i = 0; i < object.material.length; i ++ ) {\\r\\n\\r\\n                            initMaterial( object.material[ i ], scene.fog, object );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        initMaterial( object.material, scene.fog, object );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } );\\r\\n\\r\\n        };\\r\\n\\r\\n        // Animation Loop\\r\\n\\r\\n        var onAnimationFrameCallback = null;\\r\\n\\r\\n        function onAnimationFrame( time ) {\\r\\n\\r\\n            if ( vr.isPresenting() ) return;\\r\\n            if ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\\r\\n\\r\\n        }\\r\\n\\r\\n        var animation = new WebGLAnimation();\\r\\n        animation.setAnimationLoop( onAnimationFrame );\\r\\n\\r\\n        if ( typeof window !== 'undefined' ) animation.setContext( window );\\r\\n\\r\\n        this.setAnimationLoop = function ( callback ) {\\r\\n\\r\\n            onAnimationFrameCallback = callback;\\r\\n            vr.setAnimationLoop( callback );\\r\\n\\r\\n            animation.start();\\r\\n\\r\\n        };\\r\\n\\r\\n        // Rendering\\r\\n\\r\\n        this.render = function ( scene, camera, renderTarget, forceClear ) {\\r\\n\\r\\n            if ( ! ( camera && camera.isCamera ) ) {\\r\\n\\r\\n                console.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( _isContextLost ) return;\\r\\n\\r\\n            // reset caching for this frame\\r\\n\\r\\n            _currentGeometryProgram.geometry = null;\\r\\n            _currentGeometryProgram.program = null;\\r\\n            _currentGeometryProgram.wireframe = false;\\r\\n            _currentMaterialId = - 1;\\r\\n            _currentCamera = null;\\r\\n\\r\\n            // update scene graph\\r\\n\\r\\n            if ( scene.autoUpdate === true ) scene.updateMatrixWorld();\\r\\n\\r\\n            // update camera matrices and frustum\\r\\n\\r\\n            if ( camera.parent === null ) camera.updateMatrixWorld();\\r\\n\\r\\n            if ( vr.enabled ) {\\r\\n\\r\\n                camera = vr.getCamera( camera );\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            currentRenderState = renderStates.get( scene, camera );\\r\\n            currentRenderState.init();\\r\\n\\r\\n            scene.onBeforeRender( _this, scene, camera, renderTarget );\\r\\n\\r\\n            _projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\\r\\n            _frustum.setFromMatrix( _projScreenMatrix );\\r\\n\\r\\n            _localClippingEnabled = this.localClippingEnabled;\\r\\n            _clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\\r\\n\\r\\n            currentRenderList = renderLists.get( scene, camera );\\r\\n            currentRenderList.init();\\r\\n\\r\\n            projectObject( scene, camera, _this.sortObjects );\\r\\n\\r\\n            if ( _this.sortObjects === true ) {\\r\\n\\r\\n                currentRenderList.sort();\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( _clippingEnabled ) _clipping.beginShadows();\\r\\n\\r\\n            var shadowsArray = currentRenderState.state.shadowsArray;\\r\\n\\r\\n            shadowMap.render( shadowsArray, scene, camera );\\r\\n\\r\\n            currentRenderState.setupLights( camera );\\r\\n\\r\\n            if ( _clippingEnabled ) _clipping.endShadows();\\r\\n\\r\\n            //\\r\\n\\r\\n            if ( this.info.autoReset ) this.info.reset();\\r\\n\\r\\n            if ( renderTarget === undefined ) {\\r\\n\\r\\n                renderTarget = null;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.setRenderTarget( renderTarget );\\r\\n\\r\\n            //\\r\\n\\r\\n            background.render( currentRenderList, scene, camera, forceClear );\\r\\n\\r\\n            // render scene\\r\\n\\r\\n            var opaqueObjects = currentRenderList.opaque;\\r\\n            var transparentObjects = currentRenderList.transparent;\\r\\n\\r\\n            if ( scene.overrideMaterial ) {\\r\\n\\r\\n                var overrideMaterial = scene.overrideMaterial;\\r\\n\\r\\n                if ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\\r\\n                if ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // opaque pass (front-to-back order)\\r\\n\\r\\n                if ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\\r\\n\\r\\n                // transparent pass (back-to-front order)\\r\\n\\r\\n                if ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\\r\\n\\r\\n            }\\r\\n\\r\\n            // Generate mipmap if we're using any kind of mipmap filtering\\r\\n\\r\\n            if ( renderTarget ) {\\r\\n\\r\\n                textures.updateRenderTargetMipmap( renderTarget );\\r\\n\\r\\n            }\\r\\n\\r\\n            // Ensure depth buffer writing is enabled so it can be cleared on next render\\r\\n\\r\\n            state.buffers.depth.setTest( true );\\r\\n            state.buffers.depth.setMask( true );\\r\\n            state.buffers.color.setMask( true );\\r\\n\\r\\n            state.setPolygonOffset( false );\\r\\n\\r\\n            scene.onAfterRender( _this, scene, camera );\\r\\n\\r\\n            if ( vr.enabled ) {\\r\\n\\r\\n                vr.submitFrame();\\r\\n\\r\\n            }\\r\\n\\r\\n            // _gl.finish();\\r\\n\\r\\n            currentRenderList = null;\\r\\n            currentRenderState = null;\\r\\n\\r\\n        };\\r\\n\\r\\n        /*\\r\\n\\t\\t// TODO Duplicated code (Frustum)\\r\\n\\r\\n\\t\\tvar _sphere = new Sphere();\\r\\n\\r\\n\\t\\tfunction isObjectViewable( object ) {\\r\\n\\r\\n\\t\\t\\tvar geometry = object.geometry;\\r\\n\\r\\n\\t\\t\\tif ( geometry.boundingSphere === null )\\r\\n\\t\\t\\t\\tgeometry.computeBoundingSphere();\\r\\n\\r\\n\\t\\t\\t_sphere.copy( geometry.boundingSphere ).\\r\\n\\t\\t\\tapplyMatrix4( object.matrixWorld );\\r\\n\\r\\n\\t\\t\\treturn isSphereViewable( _sphere );\\r\\n\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tfunction isSpriteViewable( sprite ) {\\r\\n\\r\\n\\t\\t\\t_sphere.center.set( 0, 0, 0 );\\r\\n\\t\\t\\t_sphere.radius = 0.7071067811865476;\\r\\n\\t\\t\\t_sphere.applyMatrix4( sprite.matrixWorld );\\r\\n\\r\\n\\t\\t\\treturn isSphereViewable( _sphere );\\r\\n\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tfunction isSphereViewable( sphere ) {\\r\\n\\r\\n\\t\\t\\tif ( ! _frustum.intersectsSphere( sphere ) ) return false;\\r\\n\\r\\n\\t\\t\\tvar numPlanes = _clipping.numPlanes;\\r\\n\\r\\n\\t\\t\\tif ( numPlanes === 0 ) return true;\\r\\n\\r\\n\\t\\t\\tvar planes = _this.clippingPlanes,\\r\\n\\r\\n\\t\\t\\t\\tcenter = sphere.center,\\r\\n\\t\\t\\t\\tnegRad = - sphere.radius,\\r\\n\\t\\t\\t\\ti = 0;\\r\\n\\r\\n\\t\\t\\tdo {\\r\\n\\r\\n\\t\\t\\t\\t// out when deeper than radius in the negative halfspace\\r\\n\\t\\t\\t\\tif ( planes[ i ].distanceToPoint( center ) < negRad ) return false;\\r\\n\\r\\n\\t\\t\\t} while ( ++ i !== numPlanes );\\r\\n\\r\\n\\t\\t\\treturn true;\\r\\n\\r\\n\\t\\t}\\r\\n\\t\\t*/\\r\\n\\r\\n        function projectObject( object, camera, sortObjects ) {\\r\\n\\r\\n            if ( object.visible === false ) return;\\r\\n\\r\\n            var visible = object.layers.test( camera.layers );\\r\\n\\r\\n            if ( visible ) {\\r\\n\\r\\n                if ( object.isLight ) {\\r\\n\\r\\n                    currentRenderState.pushLight( object );\\r\\n\\r\\n                    if ( object.castShadow ) {\\r\\n\\r\\n                        currentRenderState.pushShadow( object );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( object.isSprite ) {\\r\\n\\r\\n                    if ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\\r\\n\\r\\n                        if ( sortObjects ) {\\r\\n\\r\\n                            _vector3.setFromMatrixPosition( object.matrixWorld )\\r\\n                                .applyMatrix4( _projScreenMatrix );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        var geometry = objects.update( object );\\r\\n                        var material = object.material;\\r\\n\\r\\n                        currentRenderList.push( object, geometry, material, _vector3.z, null );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( object.isImmediateRenderObject ) {\\r\\n\\r\\n                    if ( sortObjects ) {\\r\\n\\r\\n                        _vector3.setFromMatrixPosition( object.matrixWorld )\\r\\n                            .applyMatrix4( _projScreenMatrix );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    currentRenderList.push( object, null, object.material, _vector3.z, null );\\r\\n\\r\\n                } else if ( object.isMesh || object.isLine || object.isPoints ) {\\r\\n\\r\\n                    if ( object.isSkinnedMesh ) {\\r\\n\\r\\n                        object.skeleton.update();\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\\r\\n\\r\\n                        if ( sortObjects ) {\\r\\n\\r\\n                            _vector3.setFromMatrixPosition( object.matrixWorld )\\r\\n                                .applyMatrix4( _projScreenMatrix );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        var geometry = objects.update( object );\\r\\n                        var material = object.material;\\r\\n\\r\\n                        if ( Array.isArray( material ) ) {\\r\\n\\r\\n                            var groups = geometry.groups;\\r\\n\\r\\n                            for ( var i = 0, l = groups.length; i < l; i ++ ) {\\r\\n\\r\\n                                var group = groups[ i ];\\r\\n                                var groupMaterial = material[ group.materialIndex ];\\r\\n\\r\\n                                if ( groupMaterial && groupMaterial.visible ) {\\r\\n\\r\\n                                    currentRenderList.push( object, geometry, groupMaterial, _vector3.z, group );\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else if ( material.visible ) {\\r\\n\\r\\n                            currentRenderList.push( object, geometry, material, _vector3.z, null );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var children = object.children;\\r\\n\\r\\n            for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                projectObject( children[ i ], camera, sortObjects );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function renderObjects( renderList, scene, camera, overrideMaterial ) {\\r\\n\\r\\n            for ( var i = 0, l = renderList.length; i < l; i ++ ) {\\r\\n\\r\\n                var renderItem = renderList[ i ];\\r\\n\\r\\n                var object = renderItem.object;\\r\\n                var geometry = renderItem.geometry;\\r\\n                var material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\\r\\n                var group = renderItem.group;\\r\\n\\r\\n                if ( camera.isArrayCamera ) {\\r\\n\\r\\n                    _currentArrayCamera = camera;\\r\\n\\r\\n                    var cameras = camera.cameras;\\r\\n\\r\\n                    for ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\\r\\n\\r\\n                        var camera2 = cameras[ j ];\\r\\n\\r\\n                        if ( object.layers.test( camera2.layers ) ) {\\r\\n\\r\\n                            if ( 'viewport' in camera2 ) { // XR\\r\\n\\r\\n                                state.viewport( _currentViewport.copy( camera2.viewport ) );\\r\\n\\r\\n                            } else {\\r\\n\\r\\n                                var bounds = camera2.bounds;\\r\\n\\r\\n                                var x = bounds.x * _width;\\r\\n                                var y = bounds.y * _height;\\r\\n                                var width = bounds.z * _width;\\r\\n                                var height = bounds.w * _height;\\r\\n\\r\\n                                state.viewport( _currentViewport.set( x, y, width, height ).multiplyScalar( _pixelRatio ) );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            currentRenderState.setupLights( camera2 );\\r\\n\\r\\n                            renderObject( object, scene, camera2, geometry, material, group );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    _currentArrayCamera = null;\\r\\n\\r\\n                    renderObject( object, scene, camera, geometry, material, group );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function renderObject( object, scene, camera, geometry, material, group ) {\\r\\n\\r\\n            object.onBeforeRender( _this, scene, camera, geometry, material, group );\\r\\n            currentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\\r\\n\\r\\n            object.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\\r\\n            object.normalMatrix.getNormalMatrix( object.modelViewMatrix );\\r\\n\\r\\n            if ( object.isImmediateRenderObject ) {\\r\\n\\r\\n                state.setMaterial( material );\\r\\n\\r\\n                var program = setProgram( camera, scene.fog, material, object );\\r\\n\\r\\n                _currentGeometryProgram.geometry = null;\\r\\n                _currentGeometryProgram.program = null;\\r\\n                _currentGeometryProgram.wireframe = false;\\r\\n\\r\\n                renderObjectImmediate( object, program );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                _this.renderBufferDirect( camera, scene.fog, geometry, material, object, group );\\r\\n\\r\\n            }\\r\\n\\r\\n            object.onAfterRender( _this, scene, camera, geometry, material, group );\\r\\n            currentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\\r\\n\\r\\n        }\\r\\n\\r\\n        function initMaterial( material, fog, object ) {\\r\\n\\r\\n            var materialProperties = properties.get( material );\\r\\n\\r\\n            var lights = currentRenderState.state.lights;\\r\\n            var shadowsArray = currentRenderState.state.shadowsArray;\\r\\n\\r\\n            var lightsHash = materialProperties.lightsHash;\\r\\n            var lightsStateHash = lights.state.hash;\\r\\n\\r\\n            var parameters = programCache.getParameters(\\r\\n                material, lights.state, shadowsArray, fog, _clipping.numPlanes, _clipping.numIntersection, object );\\r\\n\\r\\n            var code = programCache.getProgramCode( material, parameters );\\r\\n\\r\\n            var program = materialProperties.program;\\r\\n            var programChange = true;\\r\\n\\r\\n            if ( program === undefined ) {\\r\\n\\r\\n                // new material\\r\\n                material.addEventListener( 'dispose', onMaterialDispose );\\r\\n\\r\\n            } else if ( program.code !== code ) {\\r\\n\\r\\n                // changed glsl or parameters\\r\\n                releaseMaterialProgramReference( material );\\r\\n\\r\\n            } else if ( lightsHash.stateID !== lightsStateHash.stateID ||\\r\\n                lightsHash.directionalLength !== lightsStateHash.directionalLength ||\\r\\n                lightsHash.pointLength !== lightsStateHash.pointLength ||\\r\\n                lightsHash.spotLength !== lightsStateHash.spotLength ||\\r\\n                lightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\\r\\n                lightsHash.hemiLength !== lightsStateHash.hemiLength ||\\r\\n                lightsHash.shadowsLength !== lightsStateHash.shadowsLength ) {\\r\\n\\r\\n                lightsHash.stateID = lightsStateHash.stateID;\\r\\n                lightsHash.directionalLength = lightsStateHash.directionalLength;\\r\\n                lightsHash.pointLength = lightsStateHash.pointLength;\\r\\n                lightsHash.spotLength = lightsStateHash.spotLength;\\r\\n                lightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\\r\\n                lightsHash.hemiLength = lightsStateHash.hemiLength;\\r\\n                lightsHash.shadowsLength = lightsStateHash.shadowsLength;\\r\\n\\r\\n                programChange = false;\\r\\n\\r\\n            } else if ( parameters.shaderID !== undefined ) {\\r\\n\\r\\n                // same glsl and uniform list\\r\\n                return;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // only rebuild uniform list\\r\\n                programChange = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( programChange ) {\\r\\n\\r\\n                if ( parameters.shaderID ) {\\r\\n\\r\\n                    var shader = ShaderLib[ parameters.shaderID ];\\r\\n\\r\\n                    materialProperties.shader = {\\r\\n                        name: material.type,\\r\\n                        uniforms: UniformsUtils.clone( shader.uniforms ),\\r\\n                        vertexShader: shader.vertexShader,\\r\\n                        fragmentShader: shader.fragmentShader\\r\\n                    };\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    materialProperties.shader = {\\r\\n                        name: material.type,\\r\\n                        uniforms: material.uniforms,\\r\\n                        vertexShader: material.vertexShader,\\r\\n                        fragmentShader: material.fragmentShader\\r\\n                    };\\r\\n\\r\\n                }\\r\\n\\r\\n                material.onBeforeCompile( materialProperties.shader, _this );\\r\\n\\r\\n                // Computing code again as onBeforeCompile may have changed the shaders\\r\\n                code = programCache.getProgramCode( material, parameters );\\r\\n\\r\\n                program = programCache.acquireProgram( material, materialProperties.shader, parameters, code );\\r\\n\\r\\n                materialProperties.program = program;\\r\\n                material.program = program;\\r\\n\\r\\n            }\\r\\n\\r\\n            var programAttributes = program.getAttributes();\\r\\n\\r\\n            if ( material.morphTargets ) {\\r\\n\\r\\n                material.numSupportedMorphTargets = 0;\\r\\n\\r\\n                for ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\\r\\n\\r\\n                    if ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\\r\\n\\r\\n                        material.numSupportedMorphTargets ++;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.morphNormals ) {\\r\\n\\r\\n                material.numSupportedMorphNormals = 0;\\r\\n\\r\\n                for ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\\r\\n\\r\\n                    if ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\\r\\n\\r\\n                        material.numSupportedMorphNormals ++;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var uniforms = materialProperties.shader.uniforms;\\r\\n\\r\\n            if ( ! material.isShaderMaterial &&\\r\\n                ! material.isRawShaderMaterial ||\\r\\n                material.clipping === true ) {\\r\\n\\r\\n                materialProperties.numClippingPlanes = _clipping.numPlanes;\\r\\n                materialProperties.numIntersection = _clipping.numIntersection;\\r\\n                uniforms.clippingPlanes = _clipping.uniform;\\r\\n\\r\\n            }\\r\\n\\r\\n            materialProperties.fog = fog;\\r\\n\\r\\n            // store the light setup it was created for\\r\\n            if ( lightsHash === undefined ) {\\r\\n\\r\\n                materialProperties.lightsHash = lightsHash = {};\\r\\n\\r\\n            }\\r\\n\\r\\n            lightsHash.stateID = lightsStateHash.stateID;\\r\\n            lightsHash.directionalLength = lightsStateHash.directionalLength;\\r\\n            lightsHash.pointLength = lightsStateHash.pointLength;\\r\\n            lightsHash.spotLength = lightsStateHash.spotLength;\\r\\n            lightsHash.rectAreaLength = lightsStateHash.rectAreaLength;\\r\\n            lightsHash.hemiLength = lightsStateHash.hemiLength;\\r\\n            lightsHash.shadowsLength = lightsStateHash.shadowsLength;\\r\\n\\r\\n            if ( material.lights ) {\\r\\n\\r\\n                // wire up the material to this renderer's lighting state\\r\\n\\r\\n                uniforms.ambientLightColor.value = lights.state.ambient;\\r\\n                uniforms.directionalLights.value = lights.state.directional;\\r\\n                uniforms.spotLights.value = lights.state.spot;\\r\\n                uniforms.rectAreaLights.value = lights.state.rectArea;\\r\\n                uniforms.pointLights.value = lights.state.point;\\r\\n                uniforms.hemisphereLights.value = lights.state.hemi;\\r\\n\\r\\n                uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\\r\\n                uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\\r\\n                uniforms.spotShadowMap.value = lights.state.spotShadowMap;\\r\\n                uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\\r\\n                uniforms.pointShadowMap.value = lights.state.pointShadowMap;\\r\\n                uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\\r\\n                // TODO (abelnation): add area lights shadow info to uniforms\\r\\n\\r\\n            }\\r\\n\\r\\n            var progUniforms = materialProperties.program.getUniforms(),\\r\\n                uniformsList =\\r\\n                    WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\\r\\n\\r\\n            materialProperties.uniformsList = uniformsList;\\r\\n\\r\\n        }\\r\\n\\r\\n        function setProgram( camera, fog, material, object ) {\\r\\n\\r\\n            _usedTextureUnits = 0;\\r\\n\\r\\n            var materialProperties = properties.get( material );\\r\\n            var lights = currentRenderState.state.lights;\\r\\n\\r\\n            var lightsHash = materialProperties.lightsHash;\\r\\n            var lightsStateHash = lights.state.hash;\\r\\n\\r\\n            if ( _clippingEnabled ) {\\r\\n\\r\\n                if ( _localClippingEnabled || camera !== _currentCamera ) {\\r\\n\\r\\n                    var useCache =\\r\\n                        camera === _currentCamera &&\\r\\n                        material.id === _currentMaterialId;\\r\\n\\r\\n                    // we might want to call this function with some ClippingGroup\\r\\n                    // object instead of the material, once it becomes feasible\\r\\n                    // (#8465, #8379)\\r\\n                    _clipping.setState(\\r\\n                        material.clippingPlanes, material.clipIntersection, material.clipShadows,\\r\\n                        camera, materialProperties, useCache );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.needsUpdate === false ) {\\r\\n\\r\\n                if ( materialProperties.program === undefined ) {\\r\\n\\r\\n                    material.needsUpdate = true;\\r\\n\\r\\n                } else if ( material.fog && materialProperties.fog !== fog ) {\\r\\n\\r\\n                    material.needsUpdate = true;\\r\\n\\r\\n                } else if ( material.lights && ( lightsHash.stateID !== lightsStateHash.stateID ||\\r\\n                        lightsHash.directionalLength !== lightsStateHash.directionalLength ||\\r\\n                        lightsHash.pointLength !== lightsStateHash.pointLength ||\\r\\n                        lightsHash.spotLength !== lightsStateHash.spotLength ||\\r\\n                        lightsHash.rectAreaLength !== lightsStateHash.rectAreaLength ||\\r\\n                        lightsHash.hemiLength !== lightsStateHash.hemiLength ||\\r\\n                        lightsHash.shadowsLength !== lightsStateHash.shadowsLength ) ) {\\r\\n\\r\\n                    material.needsUpdate = true;\\r\\n\\r\\n                } else if ( materialProperties.numClippingPlanes !== undefined &&\\r\\n                    ( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\\r\\n                        materialProperties.numIntersection !== _clipping.numIntersection ) ) {\\r\\n\\r\\n                    material.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.needsUpdate ) {\\r\\n\\r\\n                initMaterial( material, fog, object );\\r\\n                material.needsUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            var refreshProgram = false;\\r\\n            var refreshMaterial = false;\\r\\n            var refreshLights = false;\\r\\n\\r\\n            var program = materialProperties.program,\\r\\n                p_uniforms = program.getUniforms(),\\r\\n                m_uniforms = materialProperties.shader.uniforms;\\r\\n\\r\\n            if ( state.useProgram( program.program ) ) {\\r\\n\\r\\n                refreshProgram = true;\\r\\n                refreshMaterial = true;\\r\\n                refreshLights = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.id !== _currentMaterialId ) {\\r\\n\\r\\n                _currentMaterialId = material.id;\\r\\n\\r\\n                refreshMaterial = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( refreshProgram || _currentCamera !== camera ) {\\r\\n\\r\\n                p_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\\r\\n\\r\\n                if ( capabilities.logarithmicDepthBuffer ) {\\r\\n\\r\\n                    p_uniforms.setValue( _gl, 'logDepthBufFC',\\r\\n                        2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( _currentCamera !== camera ) {\\r\\n\\r\\n                    _currentCamera = camera;\\r\\n\\r\\n                    // lighting uniforms depend on the camera so enforce an update\\r\\n                    // now, in case this material supports lights - or later, when\\r\\n                    // the next material that does gets activated:\\r\\n\\r\\n                    refreshMaterial = true;\\t\\t// set to true on material change\\r\\n                    refreshLights = true;\\t\\t// remains set until update done\\r\\n\\r\\n                }\\r\\n\\r\\n                // load material specific uniforms\\r\\n                // (shader material also gets them for the sake of genericity)\\r\\n\\r\\n                if ( material.isShaderMaterial ||\\r\\n                    material.isMeshPhongMaterial ||\\r\\n                    material.isMeshStandardMaterial ||\\r\\n                    material.envMap ) {\\r\\n\\r\\n                    var uCamPos = p_uniforms.map.cameraPosition;\\r\\n\\r\\n                    if ( uCamPos !== undefined ) {\\r\\n\\r\\n                        uCamPos.setValue( _gl,\\r\\n                            _vector3.setFromMatrixPosition( camera.matrixWorld ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( material.isMeshPhongMaterial ||\\r\\n                    material.isMeshLambertMaterial ||\\r\\n                    material.isMeshBasicMaterial ||\\r\\n                    material.isMeshStandardMaterial ||\\r\\n                    material.isShaderMaterial ||\\r\\n                    material.skinning ) {\\r\\n\\r\\n                    p_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // skinning uniforms must be set even if material didn't change\\r\\n            // auto-setting of texture unit for bone texture must go before other textures\\r\\n            // not sure why, but otherwise weird things happen\\r\\n\\r\\n            if ( material.skinning ) {\\r\\n\\r\\n                p_uniforms.setOptional( _gl, object, 'bindMatrix' );\\r\\n                p_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\\r\\n\\r\\n                var skeleton = object.skeleton;\\r\\n\\r\\n                if ( skeleton ) {\\r\\n\\r\\n                    var bones = skeleton.bones;\\r\\n\\r\\n                    if ( capabilities.floatVertexTextures ) {\\r\\n\\r\\n                        if ( skeleton.boneTexture === undefined ) {\\r\\n\\r\\n                            // layout (1 matrix = 4 pixels)\\r\\n                            //      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\\r\\n                            //  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\\r\\n                            //       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\\r\\n                            //       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\\r\\n                            //       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\\r\\n\\r\\n\\r\\n                            var size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\\r\\n                            size = _Math.ceilPowerOfTwo( size );\\r\\n                            size = Math.max( size, 4 );\\r\\n\\r\\n                            var boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\\r\\n                            boneMatrices.set( skeleton.boneMatrices ); // copy current values\\r\\n\\r\\n                            var boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\\r\\n                            boneTexture.needsUpdate = true;\\r\\n\\r\\n                            skeleton.boneMatrices = boneMatrices;\\r\\n                            skeleton.boneTexture = boneTexture;\\r\\n                            skeleton.boneTextureSize = size;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        p_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture );\\r\\n                        p_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        p_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( refreshMaterial ) {\\r\\n\\r\\n                p_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\\r\\n                p_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\\r\\n\\r\\n                if ( material.lights ) {\\r\\n\\r\\n                    // the current material requires lighting info\\r\\n\\r\\n                    // note: all lighting uniforms are always set correctly\\r\\n                    // they simply reference the renderer's state for their\\r\\n                    // values\\r\\n                    //\\r\\n                    // use the current material's .needsUpdate flags to set\\r\\n                    // the GL state when required\\r\\n\\r\\n                    markUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\\r\\n\\r\\n                }\\r\\n\\r\\n                // refresh uniforms common to several materials\\r\\n\\r\\n                if ( fog && material.fog ) {\\r\\n\\r\\n                    refreshUniformsFog( m_uniforms, fog );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( material.isMeshBasicMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isMeshLambertMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n                    refreshUniformsLambert( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isMeshPhongMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n\\r\\n                    if ( material.isMeshToonMaterial ) {\\r\\n\\r\\n                        refreshUniformsToon( m_uniforms, material );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        refreshUniformsPhong( m_uniforms, material );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( material.isMeshStandardMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n\\r\\n                    if ( material.isMeshPhysicalMaterial ) {\\r\\n\\r\\n                        refreshUniformsPhysical( m_uniforms, material );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        refreshUniformsStandard( m_uniforms, material );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( material.isMeshMatcapMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n\\r\\n                    refreshUniformsMatcap( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isMeshDepthMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n                    refreshUniformsDepth( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isMeshDistanceMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n                    refreshUniformsDistance( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isMeshNormalMaterial ) {\\r\\n\\r\\n                    refreshUniformsCommon( m_uniforms, material );\\r\\n                    refreshUniformsNormal( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isLineBasicMaterial ) {\\r\\n\\r\\n                    refreshUniformsLine( m_uniforms, material );\\r\\n\\r\\n                    if ( material.isLineDashedMaterial ) {\\r\\n\\r\\n                        refreshUniformsDash( m_uniforms, material );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( material.isPointsMaterial ) {\\r\\n\\r\\n                    refreshUniformsPoints( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isSpriteMaterial ) {\\r\\n\\r\\n                    refreshUniformsSprites( m_uniforms, material );\\r\\n\\r\\n                } else if ( material.isShadowMaterial ) {\\r\\n\\r\\n                    m_uniforms.color.value = material.color;\\r\\n                    m_uniforms.opacity.value = material.opacity;\\r\\n\\r\\n                }\\r\\n\\r\\n                // RectAreaLight Texture\\r\\n                // TODO (mrdoob): Find a nicer implementation\\r\\n\\r\\n                if ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\\r\\n                if ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\\r\\n\\r\\n                WebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\\r\\n\\r\\n                WebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, _this );\\r\\n                material.uniformsNeedUpdate = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.isSpriteMaterial ) {\\r\\n\\r\\n                p_uniforms.setValue( _gl, 'center', object.center );\\r\\n\\r\\n            }\\r\\n\\r\\n            // common matrices\\r\\n\\r\\n            p_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\\r\\n            p_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\\r\\n            p_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\\r\\n\\r\\n            return program;\\r\\n\\r\\n        }\\r\\n\\r\\n        // Uniforms (refresh uniforms objects)\\r\\n\\r\\n        function refreshUniformsCommon( uniforms, material ) {\\r\\n\\r\\n            uniforms.opacity.value = material.opacity;\\r\\n\\r\\n            if ( material.color ) {\\r\\n\\r\\n                uniforms.diffuse.value = material.color;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.emissive ) {\\r\\n\\r\\n                uniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.map ) {\\r\\n\\r\\n                uniforms.map.value = material.map;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.alphaMap ) {\\r\\n\\r\\n                uniforms.alphaMap.value = material.alphaMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.specularMap ) {\\r\\n\\r\\n                uniforms.specularMap.value = material.specularMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.envMap ) {\\r\\n\\r\\n                uniforms.envMap.value = material.envMap;\\r\\n\\r\\n                // don't flip CubeTexture envMaps, flip everything else:\\r\\n                //  WebGLRenderTargetCube will be flipped for backwards compatibility\\r\\n                //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\\r\\n                // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\\r\\n                uniforms.flipEnvMap.value = ( ! ( material.envMap && material.envMap.isCubeTexture ) ) ? 1 : - 1;\\r\\n\\r\\n                uniforms.reflectivity.value = material.reflectivity;\\r\\n                uniforms.refractionRatio.value = material.refractionRatio;\\r\\n\\r\\n                uniforms.maxMipLevel.value = properties.get( material.envMap ).__maxMipLevel;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.lightMap ) {\\r\\n\\r\\n                uniforms.lightMap.value = material.lightMap;\\r\\n                uniforms.lightMapIntensity.value = material.lightMapIntensity;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.aoMap ) {\\r\\n\\r\\n                uniforms.aoMap.value = material.aoMap;\\r\\n                uniforms.aoMapIntensity.value = material.aoMapIntensity;\\r\\n\\r\\n            }\\r\\n\\r\\n            // uv repeat and offset setting priorities\\r\\n            // 1. color map\\r\\n            // 2. specular map\\r\\n            // 3. normal map\\r\\n            // 4. bump map\\r\\n            // 5. alpha map\\r\\n            // 6. emissive map\\r\\n\\r\\n            var uvScaleMap;\\r\\n\\r\\n            if ( material.map ) {\\r\\n\\r\\n                uvScaleMap = material.map;\\r\\n\\r\\n            } else if ( material.specularMap ) {\\r\\n\\r\\n                uvScaleMap = material.specularMap;\\r\\n\\r\\n            } else if ( material.displacementMap ) {\\r\\n\\r\\n                uvScaleMap = material.displacementMap;\\r\\n\\r\\n            } else if ( material.normalMap ) {\\r\\n\\r\\n                uvScaleMap = material.normalMap;\\r\\n\\r\\n            } else if ( material.bumpMap ) {\\r\\n\\r\\n                uvScaleMap = material.bumpMap;\\r\\n\\r\\n            } else if ( material.roughnessMap ) {\\r\\n\\r\\n                uvScaleMap = material.roughnessMap;\\r\\n\\r\\n            } else if ( material.metalnessMap ) {\\r\\n\\r\\n                uvScaleMap = material.metalnessMap;\\r\\n\\r\\n            } else if ( material.alphaMap ) {\\r\\n\\r\\n                uvScaleMap = material.alphaMap;\\r\\n\\r\\n            } else if ( material.emissiveMap ) {\\r\\n\\r\\n                uvScaleMap = material.emissiveMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( uvScaleMap !== undefined ) {\\r\\n\\r\\n                // backwards compatibility\\r\\n                if ( uvScaleMap.isWebGLRenderTarget ) {\\r\\n\\r\\n                    uvScaleMap = uvScaleMap.texture;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( uvScaleMap.matrixAutoUpdate === true ) {\\r\\n\\r\\n                    uvScaleMap.updateMatrix();\\r\\n\\r\\n                }\\r\\n\\r\\n                uniforms.uvTransform.value.copy( uvScaleMap.matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsLine( uniforms, material ) {\\r\\n\\r\\n            uniforms.diffuse.value = material.color;\\r\\n            uniforms.opacity.value = material.opacity;\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsDash( uniforms, material ) {\\r\\n\\r\\n            uniforms.dashSize.value = material.dashSize;\\r\\n            uniforms.totalSize.value = material.dashSize + material.gapSize;\\r\\n            uniforms.scale.value = material.scale;\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsPoints( uniforms, material ) {\\r\\n\\r\\n            uniforms.diffuse.value = material.color;\\r\\n            uniforms.opacity.value = material.opacity;\\r\\n            uniforms.size.value = material.size * _pixelRatio;\\r\\n            uniforms.scale.value = _height * 0.5;\\r\\n\\r\\n            uniforms.map.value = material.map;\\r\\n\\r\\n            if ( material.map !== null ) {\\r\\n\\r\\n                if ( material.map.matrixAutoUpdate === true ) {\\r\\n\\r\\n                    material.map.updateMatrix();\\r\\n\\r\\n                }\\r\\n\\r\\n                uniforms.uvTransform.value.copy( material.map.matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsSprites( uniforms, material ) {\\r\\n\\r\\n            uniforms.diffuse.value = material.color;\\r\\n            uniforms.opacity.value = material.opacity;\\r\\n            uniforms.rotation.value = material.rotation;\\r\\n            uniforms.map.value = material.map;\\r\\n\\r\\n            if ( material.map !== null ) {\\r\\n\\r\\n                if ( material.map.matrixAutoUpdate === true ) {\\r\\n\\r\\n                    material.map.updateMatrix();\\r\\n\\r\\n                }\\r\\n\\r\\n                uniforms.uvTransform.value.copy( material.map.matrix );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsFog( uniforms, fog ) {\\r\\n\\r\\n            uniforms.fogColor.value = fog.color;\\r\\n\\r\\n            if ( fog.isFog ) {\\r\\n\\r\\n                uniforms.fogNear.value = fog.near;\\r\\n                uniforms.fogFar.value = fog.far;\\r\\n\\r\\n            } else if ( fog.isFogExp2 ) {\\r\\n\\r\\n                uniforms.fogDensity.value = fog.density;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsLambert( uniforms, material ) {\\r\\n\\r\\n            if ( material.emissiveMap ) {\\r\\n\\r\\n                uniforms.emissiveMap.value = material.emissiveMap;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsPhong( uniforms, material ) {\\r\\n\\r\\n            uniforms.specular.value = material.specular;\\r\\n            uniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\\r\\n\\r\\n            if ( material.emissiveMap ) {\\r\\n\\r\\n                uniforms.emissiveMap.value = material.emissiveMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.bumpMap ) {\\r\\n\\r\\n                uniforms.bumpMap.value = material.bumpMap;\\r\\n                uniforms.bumpScale.value = material.bumpScale;\\r\\n                if ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.normalMap ) {\\r\\n\\r\\n                uniforms.normalMap.value = material.normalMap;\\r\\n                uniforms.normalScale.value.copy( material.normalScale );\\r\\n                if ( material.side === BackSide ) uniforms.normalScale.value.negate();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.displacementMap ) {\\r\\n\\r\\n                uniforms.displacementMap.value = material.displacementMap;\\r\\n                uniforms.displacementScale.value = material.displacementScale;\\r\\n                uniforms.displacementBias.value = material.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsToon( uniforms, material ) {\\r\\n\\r\\n            refreshUniformsPhong( uniforms, material );\\r\\n\\r\\n            if ( material.gradientMap ) {\\r\\n\\r\\n                uniforms.gradientMap.value = material.gradientMap;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsStandard( uniforms, material ) {\\r\\n\\r\\n            uniforms.roughness.value = material.roughness;\\r\\n            uniforms.metalness.value = material.metalness;\\r\\n\\r\\n            if ( material.roughnessMap ) {\\r\\n\\r\\n                uniforms.roughnessMap.value = material.roughnessMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.metalnessMap ) {\\r\\n\\r\\n                uniforms.metalnessMap.value = material.metalnessMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.emissiveMap ) {\\r\\n\\r\\n                uniforms.emissiveMap.value = material.emissiveMap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.bumpMap ) {\\r\\n\\r\\n                uniforms.bumpMap.value = material.bumpMap;\\r\\n                uniforms.bumpScale.value = material.bumpScale;\\r\\n                if ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.normalMap ) {\\r\\n\\r\\n                uniforms.normalMap.value = material.normalMap;\\r\\n                uniforms.normalScale.value.copy( material.normalScale );\\r\\n                if ( material.side === BackSide ) uniforms.normalScale.value.negate();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.displacementMap ) {\\r\\n\\r\\n                uniforms.displacementMap.value = material.displacementMap;\\r\\n                uniforms.displacementScale.value = material.displacementScale;\\r\\n                uniforms.displacementBias.value = material.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.envMap ) {\\r\\n\\r\\n                //uniforms.envMap.value = material.envMap; // part of uniforms common\\r\\n                uniforms.envMapIntensity.value = material.envMapIntensity;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsPhysical( uniforms, material ) {\\r\\n\\r\\n            refreshUniformsStandard( uniforms, material );\\r\\n\\r\\n            uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\\r\\n\\r\\n            uniforms.clearCoat.value = material.clearCoat;\\r\\n            uniforms.clearCoatRoughness.value = material.clearCoatRoughness;\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsMatcap( uniforms, material ) {\\r\\n\\r\\n            if ( material.matcap ) {\\r\\n\\r\\n                uniforms.matcap.value = material.matcap;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.bumpMap ) {\\r\\n\\r\\n                uniforms.bumpMap.value = material.bumpMap;\\r\\n                uniforms.bumpScale.value = material.bumpScale;\\r\\n                if ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.normalMap ) {\\r\\n\\r\\n                uniforms.normalMap.value = material.normalMap;\\r\\n                uniforms.normalScale.value.copy( material.normalScale );\\r\\n                if ( material.side === BackSide ) uniforms.normalScale.value.negate();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.displacementMap ) {\\r\\n\\r\\n                uniforms.displacementMap.value = material.displacementMap;\\r\\n                uniforms.displacementScale.value = material.displacementScale;\\r\\n                uniforms.displacementBias.value = material.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsDepth( uniforms, material ) {\\r\\n\\r\\n            if ( material.displacementMap ) {\\r\\n\\r\\n                uniforms.displacementMap.value = material.displacementMap;\\r\\n                uniforms.displacementScale.value = material.displacementScale;\\r\\n                uniforms.displacementBias.value = material.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsDistance( uniforms, material ) {\\r\\n\\r\\n            if ( material.displacementMap ) {\\r\\n\\r\\n                uniforms.displacementMap.value = material.displacementMap;\\r\\n                uniforms.displacementScale.value = material.displacementScale;\\r\\n                uniforms.displacementBias.value = material.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n            uniforms.referencePosition.value.copy( material.referencePosition );\\r\\n            uniforms.nearDistance.value = material.nearDistance;\\r\\n            uniforms.farDistance.value = material.farDistance;\\r\\n\\r\\n        }\\r\\n\\r\\n        function refreshUniformsNormal( uniforms, material ) {\\r\\n\\r\\n            if ( material.bumpMap ) {\\r\\n\\r\\n                uniforms.bumpMap.value = material.bumpMap;\\r\\n                uniforms.bumpScale.value = material.bumpScale;\\r\\n                if ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.normalMap ) {\\r\\n\\r\\n                uniforms.normalMap.value = material.normalMap;\\r\\n                uniforms.normalScale.value.copy( material.normalScale );\\r\\n                if ( material.side === BackSide ) uniforms.normalScale.value.negate();\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( material.displacementMap ) {\\r\\n\\r\\n                uniforms.displacementMap.value = material.displacementMap;\\r\\n                uniforms.displacementScale.value = material.displacementScale;\\r\\n                uniforms.displacementBias.value = material.displacementBias;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // If uniforms are marked as clean, they don't need to be loaded to the GPU.\\r\\n\\r\\n        function markUniformsLightsNeedsUpdate( uniforms, value ) {\\r\\n\\r\\n            uniforms.ambientLightColor.needsUpdate = value;\\r\\n\\r\\n            uniforms.directionalLights.needsUpdate = value;\\r\\n            uniforms.pointLights.needsUpdate = value;\\r\\n            uniforms.spotLights.needsUpdate = value;\\r\\n            uniforms.rectAreaLights.needsUpdate = value;\\r\\n            uniforms.hemisphereLights.needsUpdate = value;\\r\\n\\r\\n        }\\r\\n\\r\\n        // Textures\\r\\n\\r\\n        function allocTextureUnit() {\\r\\n\\r\\n            var textureUnit = _usedTextureUnits;\\r\\n\\r\\n            if ( textureUnit >= capabilities.maxTextures ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + capabilities.maxTextures );\\r\\n\\r\\n            }\\r\\n\\r\\n            _usedTextureUnits += 1;\\r\\n\\r\\n            return textureUnit;\\r\\n\\r\\n        }\\r\\n\\r\\n        this.allocTextureUnit = allocTextureUnit;\\r\\n\\r\\n        // this.setTexture2D = setTexture2D;\\r\\n        this.setTexture2D = ( function () {\\r\\n\\r\\n            var warned = false;\\r\\n\\r\\n            // backwards compatibility: peel texture.texture\\r\\n            return function setTexture2D( texture, slot ) {\\r\\n\\r\\n                if ( texture && texture.isWebGLRenderTarget ) {\\r\\n\\r\\n                    if ( ! warned ) {\\r\\n\\r\\n                        console.warn( \\\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\\\" );\\r\\n                        warned = true;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    texture = texture.texture;\\r\\n\\r\\n                }\\r\\n\\r\\n                textures.setTexture2D( texture, slot );\\r\\n\\r\\n            };\\r\\n\\r\\n        }() );\\r\\n\\r\\n        this.setTexture3D = ( function () {\\r\\n\\r\\n            // backwards compatibility: peel texture.texture\\r\\n            return function setTexture3D( texture, slot ) {\\r\\n\\r\\n                textures.setTexture3D( texture, slot );\\r\\n\\r\\n            };\\r\\n\\r\\n        }() );\\r\\n\\r\\n        this.setTexture = ( function () {\\r\\n\\r\\n            var warned = false;\\r\\n\\r\\n            return function setTexture( texture, slot ) {\\r\\n\\r\\n                if ( ! warned ) {\\r\\n\\r\\n                    console.warn( \\\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\\\" );\\r\\n                    warned = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                textures.setTexture2D( texture, slot );\\r\\n\\r\\n            };\\r\\n\\r\\n        }() );\\r\\n\\r\\n        this.setTextureCube = ( function () {\\r\\n\\r\\n            var warned = false;\\r\\n\\r\\n            return function setTextureCube( texture, slot ) {\\r\\n\\r\\n                // backwards compatibility: peel texture.texture\\r\\n                if ( texture && texture.isWebGLRenderTargetCube ) {\\r\\n\\r\\n                    if ( ! warned ) {\\r\\n\\r\\n                        console.warn( \\\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\\\" );\\r\\n                        warned = true;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    texture = texture.texture;\\r\\n\\r\\n                }\\r\\n\\r\\n                // currently relying on the fact that WebGLRenderTargetCube.texture is a Texture and NOT a CubeTexture\\r\\n                // TODO: unify these code paths\\r\\n                if ( ( texture && texture.isCubeTexture ) ||\\r\\n                    ( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\\r\\n\\r\\n                    // CompressedTexture can have Array in image :/\\r\\n\\r\\n                    // this function alone should take care of cube textures\\r\\n                    textures.setTextureCube( texture, slot );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // assumed: texture property of THREE.WebGLRenderTargetCube\\r\\n\\r\\n                    textures.setTextureCubeDynamic( texture, slot );\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }() );\\r\\n\\r\\n        //\\r\\n\\r\\n        this.setFramebuffer = function ( value ) {\\r\\n\\r\\n            _framebuffer = value;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.getRenderTarget = function () {\\r\\n\\r\\n            return _currentRenderTarget;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setRenderTarget = function ( renderTarget ) {\\r\\n\\r\\n            _currentRenderTarget = renderTarget;\\r\\n\\r\\n            if ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\\r\\n\\r\\n                textures.setupRenderTarget( renderTarget );\\r\\n\\r\\n            }\\r\\n\\r\\n            var framebuffer = _framebuffer;\\r\\n            var isCube = false;\\r\\n\\r\\n            if ( renderTarget ) {\\r\\n\\r\\n                var __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\\r\\n\\r\\n                if ( renderTarget.isWebGLRenderTargetCube ) {\\r\\n\\r\\n                    framebuffer = __webglFramebuffer[ renderTarget.activeCubeFace ];\\r\\n                    isCube = true;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    framebuffer = __webglFramebuffer;\\r\\n\\r\\n                }\\r\\n\\r\\n                _currentViewport.copy( renderTarget.viewport );\\r\\n                _currentScissor.copy( renderTarget.scissor );\\r\\n                _currentScissorTest = renderTarget.scissorTest;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio );\\r\\n                _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio );\\r\\n                _currentScissorTest = _scissorTest;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( _currentFramebuffer !== framebuffer ) {\\r\\n\\r\\n                _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\\r\\n                _currentFramebuffer = framebuffer;\\r\\n\\r\\n            }\\r\\n\\r\\n            state.viewport( _currentViewport );\\r\\n            state.scissor( _currentScissor );\\r\\n            state.setScissorTest( _currentScissorTest );\\r\\n\\r\\n            if ( isCube ) {\\r\\n\\r\\n                var textureProperties = properties.get( renderTarget.texture );\\r\\n                _gl.framebufferTexture2D( _gl.FRAMEBUFFER, _gl.COLOR_ATTACHMENT0, _gl.TEXTURE_CUBE_MAP_POSITIVE_X + renderTarget.activeCubeFace, textureProperties.__webglTexture, renderTarget.activeMipMapLevel );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        this.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer ) {\\r\\n\\r\\n            if ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\\r\\n\\r\\n                console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            var framebuffer = properties.get( renderTarget ).__webglFramebuffer;\\r\\n\\r\\n            if ( framebuffer ) {\\r\\n\\r\\n                var restore = false;\\r\\n\\r\\n                if ( framebuffer !== _currentFramebuffer ) {\\r\\n\\r\\n                    _gl.bindFramebuffer( _gl.FRAMEBUFFER, framebuffer );\\r\\n\\r\\n                    restore = true;\\r\\n\\r\\n                }\\r\\n\\r\\n                try {\\r\\n\\r\\n                    var texture = renderTarget.texture;\\r\\n                    var textureFormat = texture.format;\\r\\n                    var textureType = texture.type;\\r\\n\\r\\n                    if ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_FORMAT ) ) {\\r\\n\\r\\n                        console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\\r\\n                        return;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( _gl.IMPLEMENTATION_COLOR_READ_TYPE ) && // IE11, Edge and Chrome Mac < 52 (#9513)\\r\\n                        ! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\\r\\n                        ! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\\r\\n\\r\\n                        console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\\r\\n                        return;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( _gl.checkFramebufferStatus( _gl.FRAMEBUFFER ) === _gl.FRAMEBUFFER_COMPLETE ) {\\r\\n\\r\\n                        // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\\r\\n\\r\\n                        if ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\\r\\n\\r\\n                            _gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        console.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } finally {\\r\\n\\r\\n                    if ( restore ) {\\r\\n\\r\\n                        _gl.bindFramebuffer( _gl.FRAMEBUFFER, _currentFramebuffer );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        this.copyFramebufferToTexture = function ( position, texture, level ) {\\r\\n\\r\\n            var width = texture.image.width;\\r\\n            var height = texture.image.height;\\r\\n            var glFormat = utils.convert( texture.format );\\r\\n\\r\\n            this.setTexture2D( texture, 0 );\\r\\n\\r\\n            _gl.copyTexImage2D( _gl.TEXTURE_2D, level || 0, glFormat, position.x, position.y, width, height, 0 );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\\r\\n\\r\\n            var width = srcTexture.image.width;\\r\\n            var height = srcTexture.image.height;\\r\\n            var glFormat = utils.convert( dstTexture.format );\\r\\n            var glType = utils.convert( dstTexture.type );\\r\\n\\r\\n            this.setTexture2D( dstTexture, 0 );\\r\\n\\r\\n            if ( srcTexture.isDataTexture ) {\\r\\n\\r\\n                _gl.texSubImage2D( _gl.TEXTURE_2D, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                _gl.texSubImage2D( _gl.TEXTURE_2D, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function FogExp2( color, density ) {\\r\\n\\r\\n        this.name = '';\\r\\n\\r\\n        this.color = new Color( color );\\r\\n        this.density = ( density !== undefined ) ? density : 0.00025;\\r\\n\\r\\n    }\\r\\n\\r\\n    FogExp2.prototype.isFogExp2 = true;\\r\\n\\r\\n    FogExp2.prototype.clone = function () {\\r\\n\\r\\n        return new FogExp2( this.color, this.density );\\r\\n\\r\\n    };\\r\\n\\r\\n    FogExp2.prototype.toJSON = function ( /* meta */ ) {\\r\\n\\r\\n        return {\\r\\n            type: 'FogExp2',\\r\\n            color: this.color.getHex(),\\r\\n            density: this.density\\r\\n        };\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function Fog( color, near, far ) {\\r\\n\\r\\n        this.name = '';\\r\\n\\r\\n        this.color = new Color( color );\\r\\n\\r\\n        this.near = ( near !== undefined ) ? near : 1;\\r\\n        this.far = ( far !== undefined ) ? far : 1000;\\r\\n\\r\\n    }\\r\\n\\r\\n    Fog.prototype.isFog = true;\\r\\n\\r\\n    Fog.prototype.clone = function () {\\r\\n\\r\\n        return new Fog( this.color, this.near, this.far );\\r\\n\\r\\n    };\\r\\n\\r\\n    Fog.prototype.toJSON = function ( /* meta */ ) {\\r\\n\\r\\n        return {\\r\\n            type: 'Fog',\\r\\n            color: this.color.getHex(),\\r\\n            near: this.near,\\r\\n            far: this.far\\r\\n        };\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Scene() {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Scene';\\r\\n\\r\\n        this.background = null;\\r\\n        this.fog = null;\\r\\n        this.overrideMaterial = null;\\r\\n\\r\\n        this.autoUpdate = true; // checked by the renderer\\r\\n\\r\\n    }\\r\\n\\r\\n    Scene.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Scene,\\r\\n\\r\\n        copy: function ( source, recursive ) {\\r\\n\\r\\n            Object3D.prototype.copy.call( this, source, recursive );\\r\\n\\r\\n            if ( source.background !== null ) this.background = source.background.clone();\\r\\n            if ( source.fog !== null ) this.fog = source.fog.clone();\\r\\n            if ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\\r\\n\\r\\n            this.autoUpdate = source.autoUpdate;\\r\\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var data = Object3D.prototype.toJSON.call( this, meta );\\r\\n\\r\\n            if ( this.background !== null ) data.object.background = this.background.toJSON( meta );\\r\\n            if ( this.fog !== null ) data.object.fog = this.fog.toJSON();\\r\\n\\r\\n            return data;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     */\\r\\n\\r\\n    function InterleavedBuffer( array, stride ) {\\r\\n\\r\\n        this.array = array;\\r\\n        this.stride = stride;\\r\\n        this.count = array !== undefined ? array.length / stride : 0;\\r\\n\\r\\n        this.dynamic = false;\\r\\n        this.updateRange = { offset: 0, count: - 1 };\\r\\n\\r\\n        this.version = 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\\r\\n\\r\\n        set: function ( value ) {\\r\\n\\r\\n            if ( value === true ) this.version ++;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( InterleavedBuffer.prototype, {\\r\\n\\r\\n        isInterleavedBuffer: true,\\r\\n\\r\\n        onUploadCallback: function () {},\\r\\n\\r\\n        setArray: function ( array ) {\\r\\n\\r\\n            if ( Array.isArray( array ) ) {\\r\\n\\r\\n                throw new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.count = array !== undefined ? array.length / this.stride : 0;\\r\\n            this.array = array;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setDynamic: function ( value ) {\\r\\n\\r\\n            this.dynamic = value;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.array = new source.array.constructor( source.array );\\r\\n            this.count = source.count;\\r\\n            this.stride = source.stride;\\r\\n            this.dynamic = source.dynamic;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        copyAt: function ( index1, attribute, index2 ) {\\r\\n\\r\\n            index1 *= this.stride;\\r\\n            index2 *= attribute.stride;\\r\\n\\r\\n            for ( var i = 0, l = this.stride; i < l; i ++ ) {\\r\\n\\r\\n                this.array[ index1 + i ] = attribute.array[ index2 + i ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        set: function ( value, offset ) {\\r\\n\\r\\n            if ( offset === undefined ) offset = 0;\\r\\n\\r\\n            this.array.set( value, offset );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        onUpload: function ( callback ) {\\r\\n\\r\\n            this.onUploadCallback = callback;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     */\\r\\n\\r\\n    function InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\\r\\n\\r\\n        this.data = interleavedBuffer;\\r\\n        this.itemSize = itemSize;\\r\\n        this.offset = offset;\\r\\n\\r\\n        this.normalized = normalized === true;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.defineProperties( InterleavedBufferAttribute.prototype, {\\r\\n\\r\\n        count: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this.data.count;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        array: {\\r\\n\\r\\n            get: function () {\\r\\n\\r\\n                return this.data.array;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( InterleavedBufferAttribute.prototype, {\\r\\n\\r\\n        isInterleavedBufferAttribute: true,\\r\\n\\r\\n        setX: function ( index, x ) {\\r\\n\\r\\n            this.data.array[ index * this.data.stride + this.offset ] = x;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setY: function ( index, y ) {\\r\\n\\r\\n            this.data.array[ index * this.data.stride + this.offset + 1 ] = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setZ: function ( index, z ) {\\r\\n\\r\\n            this.data.array[ index * this.data.stride + this.offset + 2 ] = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setW: function ( index, w ) {\\r\\n\\r\\n            this.data.array[ index * this.data.stride + this.offset + 3 ] = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getX: function ( index ) {\\r\\n\\r\\n            return this.data.array[ index * this.data.stride + this.offset ];\\r\\n\\r\\n        },\\r\\n\\r\\n        getY: function ( index ) {\\r\\n\\r\\n            return this.data.array[ index * this.data.stride + this.offset + 1 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        getZ: function ( index ) {\\r\\n\\r\\n            return this.data.array[ index * this.data.stride + this.offset + 2 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        getW: function ( index ) {\\r\\n\\r\\n            return this.data.array[ index * this.data.stride + this.offset + 3 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        setXY: function ( index, x, y ) {\\r\\n\\r\\n            index = index * this.data.stride + this.offset;\\r\\n\\r\\n            this.data.array[ index + 0 ] = x;\\r\\n            this.data.array[ index + 1 ] = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setXYZ: function ( index, x, y, z ) {\\r\\n\\r\\n            index = index * this.data.stride + this.offset;\\r\\n\\r\\n            this.data.array[ index + 0 ] = x;\\r\\n            this.data.array[ index + 1 ] = y;\\r\\n            this.data.array[ index + 2 ] = z;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setXYZW: function ( index, x, y, z, w ) {\\r\\n\\r\\n            index = index * this.data.stride + this.offset;\\r\\n\\r\\n            this.data.array[ index + 0 ] = x;\\r\\n            this.data.array[ index + 1 ] = y;\\r\\n            this.data.array[ index + 2 ] = z;\\r\\n            this.data.array[ index + 3 ] = w;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *  rotation: <float>,\\r\\n\\t *  sizeAttenuation: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function SpriteMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'SpriteMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff );\\r\\n        this.map = null;\\r\\n\\r\\n        this.rotation = 0;\\r\\n\\r\\n        this.sizeAttenuation = true;\\r\\n\\r\\n        this.lights = false;\\r\\n        this.transparent = true;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    SpriteMaterial.prototype = Object.create( Material.prototype );\\r\\n    SpriteMaterial.prototype.constructor = SpriteMaterial;\\r\\n    SpriteMaterial.prototype.isSpriteMaterial = true;\\r\\n\\r\\n    SpriteMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.rotation = source.rotation;\\r\\n\\r\\n        this.sizeAttenuation = source.sizeAttenuation;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    var geometry;\\r\\n\\r\\n    function Sprite( material ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Sprite';\\r\\n\\r\\n        if ( geometry === undefined ) {\\r\\n\\r\\n            geometry = new BufferGeometry();\\r\\n\\r\\n            var float32Array = new Float32Array( [\\r\\n                - 0.5, - 0.5, 0, 0, 0,\\r\\n                0.5, - 0.5, 0, 1, 0,\\r\\n                0.5, 0.5, 0, 1, 1,\\r\\n                - 0.5, 0.5, 0, 0, 1\\r\\n            ] );\\r\\n\\r\\n            var interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\\r\\n\\r\\n            geometry.setIndex( [ 0, 1, 2,\\t0, 2, 3 ] );\\r\\n            geometry.addAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\\r\\n            geometry.addAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.geometry = geometry;\\r\\n        this.material = ( material !== undefined ) ? material : new SpriteMaterial();\\r\\n\\r\\n        this.center = new Vector2( 0.5, 0.5 );\\r\\n\\r\\n    }\\r\\n\\r\\n    Sprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Sprite,\\r\\n\\r\\n        isSprite: true,\\r\\n\\r\\n        raycast: ( function () {\\r\\n\\r\\n            var intersectPoint = new Vector3();\\r\\n            var worldScale = new Vector3();\\r\\n            var mvPosition = new Vector3();\\r\\n\\r\\n            var alignedPosition = new Vector2();\\r\\n            var rotatedPosition = new Vector2();\\r\\n            var viewWorldMatrix = new Matrix4();\\r\\n\\r\\n            var vA = new Vector3();\\r\\n            var vB = new Vector3();\\r\\n            var vC = new Vector3();\\r\\n\\r\\n            var uvA = new Vector2();\\r\\n            var uvB = new Vector2();\\r\\n            var uvC = new Vector2();\\r\\n\\r\\n            function transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\\r\\n\\r\\n                // compute position in camera space\\r\\n                alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\\r\\n\\r\\n                // to check if rotation is not zero\\r\\n                if ( sin !== undefined ) {\\r\\n\\r\\n                    rotatedPosition.x = ( cos * alignedPosition.x ) - ( sin * alignedPosition.y );\\r\\n                    rotatedPosition.y = ( sin * alignedPosition.x ) + ( cos * alignedPosition.y );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    rotatedPosition.copy( alignedPosition );\\r\\n\\r\\n                }\\r\\n\\r\\n\\r\\n                vertexPosition.copy( mvPosition );\\r\\n                vertexPosition.x += rotatedPosition.x;\\r\\n                vertexPosition.y += rotatedPosition.y;\\r\\n\\r\\n                // transform to world space\\r\\n                vertexPosition.applyMatrix4( viewWorldMatrix );\\r\\n\\r\\n            }\\r\\n\\r\\n            return function raycast( raycaster, intersects ) {\\r\\n\\r\\n                worldScale.setFromMatrixScale( this.matrixWorld );\\r\\n                viewWorldMatrix.getInverse( this.modelViewMatrix ).premultiply( this.matrixWorld );\\r\\n                mvPosition.setFromMatrixPosition( this.modelViewMatrix );\\r\\n\\r\\n                var rotation = this.material.rotation;\\r\\n                var sin, cos;\\r\\n                if ( rotation !== 0 ) {\\r\\n\\r\\n                    cos = Math.cos( rotation );\\r\\n                    sin = Math.sin( rotation );\\r\\n\\r\\n                }\\r\\n\\r\\n                var center = this.center;\\r\\n\\r\\n                transformVertex( vA.set( - 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\\r\\n                transformVertex( vB.set( 0.5, - 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\\r\\n                transformVertex( vC.set( 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\\r\\n\\r\\n                uvA.set( 0, 0 );\\r\\n                uvB.set( 1, 0 );\\r\\n                uvC.set( 1, 1 );\\r\\n\\r\\n                // check first triangle\\r\\n                var intersect = raycaster.ray.intersectTriangle( vA, vB, vC, false, intersectPoint );\\r\\n\\r\\n                if ( intersect === null ) {\\r\\n\\r\\n                    // check second triangle\\r\\n                    transformVertex( vB.set( - 0.5, 0.5, 0 ), mvPosition, center, worldScale, sin, cos );\\r\\n                    uvB.set( 0, 1 );\\r\\n\\r\\n                    intersect = raycaster.ray.intersectTriangle( vA, vC, vB, false, intersectPoint );\\r\\n                    if ( intersect === null ) {\\r\\n\\r\\n                        return;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                var distance = raycaster.ray.origin.distanceTo( intersectPoint );\\r\\n\\r\\n                if ( distance < raycaster.near || distance > raycaster.far ) return;\\r\\n\\r\\n                intersects.push( {\\r\\n\\r\\n                    distance: distance,\\r\\n                    point: intersectPoint.clone(),\\r\\n                    uv: Triangle.getUV( intersectPoint, vA, vB, vC, uvA, uvB, uvC, new Vector2() ),\\r\\n                    face: null,\\r\\n                    object: this\\r\\n\\r\\n                } );\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.material ).copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Object3D.prototype.copy.call( this, source );\\r\\n\\r\\n            if ( source.center !== undefined ) this.center.copy( source.center );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function LOD() {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'LOD';\\r\\n\\r\\n        Object.defineProperties( this, {\\r\\n            levels: {\\r\\n                enumerable: true,\\r\\n                value: []\\r\\n            }\\r\\n        } );\\r\\n\\r\\n    }\\r\\n\\r\\n    LOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: LOD,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Object3D.prototype.copy.call( this, source, false );\\r\\n\\r\\n            var levels = source.levels;\\r\\n\\r\\n            for ( var i = 0, l = levels.length; i < l; i ++ ) {\\r\\n\\r\\n                var level = levels[ i ];\\r\\n\\r\\n                this.addLevel( level.object.clone(), level.distance );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        addLevel: function ( object, distance ) {\\r\\n\\r\\n            if ( distance === undefined ) distance = 0;\\r\\n\\r\\n            distance = Math.abs( distance );\\r\\n\\r\\n            var levels = this.levels;\\r\\n\\r\\n            for ( var l = 0; l < levels.length; l ++ ) {\\r\\n\\r\\n                if ( distance < levels[ l ].distance ) {\\r\\n\\r\\n                    break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            levels.splice( l, 0, { distance: distance, object: object } );\\r\\n\\r\\n            this.add( object );\\r\\n\\r\\n        },\\r\\n\\r\\n        getObjectForDistance: function ( distance ) {\\r\\n\\r\\n            var levels = this.levels;\\r\\n\\r\\n            for ( var i = 1, l = levels.length; i < l; i ++ ) {\\r\\n\\r\\n                if ( distance < levels[ i ].distance ) {\\r\\n\\r\\n                    break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return levels[ i - 1 ].object;\\r\\n\\r\\n        },\\r\\n\\r\\n        raycast: ( function () {\\r\\n\\r\\n            var matrixPosition = new Vector3();\\r\\n\\r\\n            return function raycast( raycaster, intersects ) {\\r\\n\\r\\n                matrixPosition.setFromMatrixPosition( this.matrixWorld );\\r\\n\\r\\n                var distance = raycaster.ray.origin.distanceTo( matrixPosition );\\r\\n\\r\\n                this.getObjectForDistance( distance ).raycast( raycaster, intersects );\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        update: function () {\\r\\n\\r\\n            var v1 = new Vector3();\\r\\n            var v2 = new Vector3();\\r\\n\\r\\n            return function update( camera ) {\\r\\n\\r\\n                var levels = this.levels;\\r\\n\\r\\n                if ( levels.length > 1 ) {\\r\\n\\r\\n                    v1.setFromMatrixPosition( camera.matrixWorld );\\r\\n                    v2.setFromMatrixPosition( this.matrixWorld );\\r\\n\\r\\n                    var distance = v1.distanceTo( v2 );\\r\\n\\r\\n                    levels[ 0 ].object.visible = true;\\r\\n\\r\\n                    for ( var i = 1, l = levels.length; i < l; i ++ ) {\\r\\n\\r\\n                        if ( distance >= levels[ i ].distance ) {\\r\\n\\r\\n                            levels[ i - 1 ].object.visible = false;\\r\\n                            levels[ i ].object.visible = true;\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    for ( ; i < l; i ++ ) {\\r\\n\\r\\n                        levels[ i ].object.visible = false;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var data = Object3D.prototype.toJSON.call( this, meta );\\r\\n\\r\\n            data.object.levels = [];\\r\\n\\r\\n            var levels = this.levels;\\r\\n\\r\\n            for ( var i = 0, l = levels.length; i < l; i ++ ) {\\r\\n\\r\\n                var level = levels[ i ];\\r\\n\\r\\n                data.object.levels.push( {\\r\\n                    object: level.object.uuid,\\r\\n                    distance: level.distance\\r\\n                } );\\r\\n\\r\\n            }\\r\\n\\r\\n            return data;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author michael guerrero / http://realitymeltdown.com\\r\\n     * @author ikerr / http://verold.com\\r\\n     */\\r\\n\\r\\n    function Skeleton( bones, boneInverses ) {\\r\\n\\r\\n        // copy the bone array\\r\\n\\r\\n        bones = bones || [];\\r\\n\\r\\n        this.bones = bones.slice( 0 );\\r\\n        this.boneMatrices = new Float32Array( this.bones.length * 16 );\\r\\n\\r\\n        // use the supplied bone inverses or calculate the inverses\\r\\n\\r\\n        if ( boneInverses === undefined ) {\\r\\n\\r\\n            this.calculateInverses();\\r\\n\\r\\n        } else {\\r\\n\\r\\n            if ( this.bones.length === boneInverses.length ) {\\r\\n\\r\\n                this.boneInverses = boneInverses.slice( 0 );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                console.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\\r\\n\\r\\n                this.boneInverses = [];\\r\\n\\r\\n                for ( var i = 0, il = this.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                    this.boneInverses.push( new Matrix4() );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Skeleton.prototype, {\\r\\n\\r\\n        calculateInverses: function () {\\r\\n\\r\\n            this.boneInverses = [];\\r\\n\\r\\n            for ( var i = 0, il = this.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                var inverse = new Matrix4();\\r\\n\\r\\n                if ( this.bones[ i ] ) {\\r\\n\\r\\n                    inverse.getInverse( this.bones[ i ].matrixWorld );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.boneInverses.push( inverse );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        pose: function () {\\r\\n\\r\\n            var bone, i, il;\\r\\n\\r\\n            // recover the bind-time world matrices\\r\\n\\r\\n            for ( i = 0, il = this.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                bone = this.bones[ i ];\\r\\n\\r\\n                if ( bone ) {\\r\\n\\r\\n                    bone.matrixWorld.getInverse( this.boneInverses[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // compute the local matrices, positions, rotations and scales\\r\\n\\r\\n            for ( i = 0, il = this.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                bone = this.bones[ i ];\\r\\n\\r\\n                if ( bone ) {\\r\\n\\r\\n                    if ( bone.parent && bone.parent.isBone ) {\\r\\n\\r\\n                        bone.matrix.getInverse( bone.parent.matrixWorld );\\r\\n                        bone.matrix.multiply( bone.matrixWorld );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        bone.matrix.copy( bone.matrixWorld );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    bone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        update: ( function () {\\r\\n\\r\\n            var offsetMatrix = new Matrix4();\\r\\n            var identityMatrix = new Matrix4();\\r\\n\\r\\n            return function update() {\\r\\n\\r\\n                var bones = this.bones;\\r\\n                var boneInverses = this.boneInverses;\\r\\n                var boneMatrices = this.boneMatrices;\\r\\n                var boneTexture = this.boneTexture;\\r\\n\\r\\n                // flatten bone matrices to array\\r\\n\\r\\n                for ( var i = 0, il = bones.length; i < il; i ++ ) {\\r\\n\\r\\n                    // compute the offset between the current and the original transform\\r\\n\\r\\n                    var matrix = bones[ i ] ? bones[ i ].matrixWorld : identityMatrix;\\r\\n\\r\\n                    offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\\r\\n                    offsetMatrix.toArray( boneMatrices, i * 16 );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( boneTexture !== undefined ) {\\r\\n\\r\\n                    boneTexture.needsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        } )(),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new Skeleton( this.bones, this.boneInverses );\\r\\n\\r\\n        },\\r\\n\\r\\n        getBoneByName: function ( name ) {\\r\\n\\r\\n            for ( var i = 0, il = this.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                var bone = this.bones[ i ];\\r\\n\\r\\n                if ( bone.name === name ) {\\r\\n\\r\\n                    return bone;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return undefined;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author ikerr / http://verold.com\\r\\n     */\\r\\n\\r\\n    function Bone() {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Bone';\\r\\n\\r\\n    }\\r\\n\\r\\n    Bone.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Bone,\\r\\n\\r\\n        isBone: true\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mikael emtinger / http://gomo.se/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author ikerr / http://verold.com\\r\\n     */\\r\\n\\r\\n    function SkinnedMesh( geometry, material ) {\\r\\n\\r\\n        Mesh.call( this, geometry, material );\\r\\n\\r\\n        this.type = 'SkinnedMesh';\\r\\n\\r\\n        this.bindMode = 'attached';\\r\\n        this.bindMatrix = new Matrix4();\\r\\n        this.bindMatrixInverse = new Matrix4();\\r\\n\\r\\n        var bones = this.initBones();\\r\\n        var skeleton = new Skeleton( bones );\\r\\n\\r\\n        this.bind( skeleton, this.matrixWorld );\\r\\n\\r\\n        this.normalizeSkinWeights();\\r\\n\\r\\n    }\\r\\n\\r\\n    SkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\\r\\n\\r\\n        constructor: SkinnedMesh,\\r\\n\\r\\n        isSkinnedMesh: true,\\r\\n\\r\\n        initBones: function () {\\r\\n\\r\\n            var bones = [], bone, gbone;\\r\\n            var i, il;\\r\\n\\r\\n            if ( this.geometry && this.geometry.bones !== undefined ) {\\r\\n\\r\\n                // first, create array of 'Bone' objects from geometry data\\r\\n\\r\\n                for ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                    gbone = this.geometry.bones[ i ];\\r\\n\\r\\n                    // create new 'Bone' object\\r\\n\\r\\n                    bone = new Bone();\\r\\n                    bones.push( bone );\\r\\n\\r\\n                    // apply values\\r\\n\\r\\n                    bone.name = gbone.name;\\r\\n                    bone.position.fromArray( gbone.pos );\\r\\n                    bone.quaternion.fromArray( gbone.rotq );\\r\\n                    if ( gbone.scl !== undefined ) bone.scale.fromArray( gbone.scl );\\r\\n\\r\\n                }\\r\\n\\r\\n                // second, create bone hierarchy\\r\\n\\r\\n                for ( i = 0, il = this.geometry.bones.length; i < il; i ++ ) {\\r\\n\\r\\n                    gbone = this.geometry.bones[ i ];\\r\\n\\r\\n                    if ( ( gbone.parent !== - 1 ) && ( gbone.parent !== null ) && ( bones[ gbone.parent ] !== undefined ) ) {\\r\\n\\r\\n                        // subsequent bones in the hierarchy\\r\\n\\r\\n                        bones[ gbone.parent ].add( bones[ i ] );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // topmost bone, immediate child of the skinned mesh\\r\\n\\r\\n                        this.add( bones[ i ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // now the bones are part of the scene graph and children of the skinned mesh.\\r\\n            // let's update the corresponding matrices\\r\\n\\r\\n            this.updateMatrixWorld( true );\\r\\n\\r\\n            return bones;\\r\\n\\r\\n        },\\r\\n\\r\\n        bind: function ( skeleton, bindMatrix ) {\\r\\n\\r\\n            this.skeleton = skeleton;\\r\\n\\r\\n            if ( bindMatrix === undefined ) {\\r\\n\\r\\n                this.updateMatrixWorld( true );\\r\\n\\r\\n                this.skeleton.calculateInverses();\\r\\n\\r\\n                bindMatrix = this.matrixWorld;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.bindMatrix.copy( bindMatrix );\\r\\n            this.bindMatrixInverse.getInverse( bindMatrix );\\r\\n\\r\\n        },\\r\\n\\r\\n        pose: function () {\\r\\n\\r\\n            this.skeleton.pose();\\r\\n\\r\\n        },\\r\\n\\r\\n        normalizeSkinWeights: function () {\\r\\n\\r\\n            var scale, i;\\r\\n\\r\\n            if ( this.geometry && this.geometry.isGeometry ) {\\r\\n\\r\\n                for ( i = 0; i < this.geometry.skinWeights.length; i ++ ) {\\r\\n\\r\\n                    var sw = this.geometry.skinWeights[ i ];\\r\\n\\r\\n                    scale = 1.0 / sw.manhattanLength();\\r\\n\\r\\n                    if ( scale !== Infinity ) {\\r\\n\\r\\n                        sw.multiplyScalar( scale );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        sw.set( 1, 0, 0, 0 ); // do something reasonable\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( this.geometry && this.geometry.isBufferGeometry ) {\\r\\n\\r\\n                var vec = new Vector4();\\r\\n\\r\\n                var skinWeight = this.geometry.attributes.skinWeight;\\r\\n\\r\\n                for ( i = 0; i < skinWeight.count; i ++ ) {\\r\\n\\r\\n                    vec.x = skinWeight.getX( i );\\r\\n                    vec.y = skinWeight.getY( i );\\r\\n                    vec.z = skinWeight.getZ( i );\\r\\n                    vec.w = skinWeight.getW( i );\\r\\n\\r\\n                    scale = 1.0 / vec.manhattanLength();\\r\\n\\r\\n                    if ( scale !== Infinity ) {\\r\\n\\r\\n                        vec.multiplyScalar( scale );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        vec.set( 1, 0, 0, 0 ); // do something reasonable\\r\\n\\r\\n                    }\\r\\n\\r\\n                    skinWeight.setXYZW( i, vec.x, vec.y, vec.z, vec.w );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMatrixWorld: function ( force ) {\\r\\n\\r\\n            Mesh.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n            if ( this.bindMode === 'attached' ) {\\r\\n\\r\\n                this.bindMatrixInverse.getInverse( this.matrixWorld );\\r\\n\\r\\n            } else if ( this.bindMode === 'detached' ) {\\r\\n\\r\\n                this.bindMatrixInverse.getInverse( this.bindMatrix );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                console.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.geometry, this.material ).copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  linewidth: <float>,\\r\\n\\t *  linecap: \\\"round\\\",\\r\\n\\t *  linejoin: \\\"round\\\"\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function LineBasicMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'LineBasicMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff );\\r\\n\\r\\n        this.linewidth = 1;\\r\\n        this.linecap = 'round';\\r\\n        this.linejoin = 'round';\\r\\n\\r\\n        this.lights = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    LineBasicMaterial.prototype = Object.create( Material.prototype );\\r\\n    LineBasicMaterial.prototype.constructor = LineBasicMaterial;\\r\\n\\r\\n    LineBasicMaterial.prototype.isLineBasicMaterial = true;\\r\\n\\r\\n    LineBasicMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n\\r\\n        this.linewidth = source.linewidth;\\r\\n        this.linecap = source.linecap;\\r\\n        this.linejoin = source.linejoin;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Line( geometry, material, mode ) {\\r\\n\\r\\n        if ( mode === 1 ) {\\r\\n\\r\\n            console.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Line';\\r\\n\\r\\n        this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\\r\\n        this.material = material !== undefined ? material : new LineBasicMaterial( { color: Math.random() * 0xffffff } );\\r\\n\\r\\n    }\\r\\n\\r\\n    Line.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Line,\\r\\n\\r\\n        isLine: true,\\r\\n\\r\\n        computeLineDistances: ( function () {\\r\\n\\r\\n            var start = new Vector3();\\r\\n            var end = new Vector3();\\r\\n\\r\\n            return function computeLineDistances() {\\r\\n\\r\\n                var geometry = this.geometry;\\r\\n\\r\\n                if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                    // we assume non-indexed geometry\\r\\n\\r\\n                    if ( geometry.index === null ) {\\r\\n\\r\\n                        var positionAttribute = geometry.attributes.position;\\r\\n                        var lineDistances = [ 0 ];\\r\\n\\r\\n                        for ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\\r\\n\\r\\n                            start.fromBufferAttribute( positionAttribute, i - 1 );\\r\\n                            end.fromBufferAttribute( positionAttribute, i );\\r\\n\\r\\n                            lineDistances[ i ] = lineDistances[ i - 1 ];\\r\\n                            lineDistances[ i ] += start.distanceTo( end );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        geometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        console.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( geometry.isGeometry ) {\\r\\n\\r\\n                    var vertices = geometry.vertices;\\r\\n                    var lineDistances = geometry.lineDistances;\\r\\n\\r\\n                    lineDistances[ 0 ] = 0;\\r\\n\\r\\n                    for ( var i = 1, l = vertices.length; i < l; i ++ ) {\\r\\n\\r\\n                        lineDistances[ i ] = lineDistances[ i - 1 ];\\r\\n                        lineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        raycast: ( function () {\\r\\n\\r\\n            var inverseMatrix = new Matrix4();\\r\\n            var ray = new Ray();\\r\\n            var sphere = new Sphere();\\r\\n\\r\\n            return function raycast( raycaster, intersects ) {\\r\\n\\r\\n                var precision = raycaster.linePrecision;\\r\\n\\r\\n                var geometry = this.geometry;\\r\\n                var matrixWorld = this.matrixWorld;\\r\\n\\r\\n                // Checking boundingSphere distance to ray\\r\\n\\r\\n                if ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\\r\\n\\r\\n                sphere.copy( geometry.boundingSphere );\\r\\n                sphere.applyMatrix4( matrixWorld );\\r\\n                sphere.radius += precision;\\r\\n\\r\\n                if ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\\r\\n\\r\\n                //\\r\\n\\r\\n                inverseMatrix.getInverse( matrixWorld );\\r\\n                ray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\\r\\n\\r\\n                var localPrecision = precision / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\\r\\n                var localPrecisionSq = localPrecision * localPrecision;\\r\\n\\r\\n                var vStart = new Vector3();\\r\\n                var vEnd = new Vector3();\\r\\n                var interSegment = new Vector3();\\r\\n                var interRay = new Vector3();\\r\\n                var step = ( this && this.isLineSegments ) ? 2 : 1;\\r\\n\\r\\n                if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                    var index = geometry.index;\\r\\n                    var attributes = geometry.attributes;\\r\\n                    var positions = attributes.position.array;\\r\\n\\r\\n                    if ( index !== null ) {\\r\\n\\r\\n                        var indices = index.array;\\r\\n\\r\\n                        for ( var i = 0, l = indices.length - 1; i < l; i += step ) {\\r\\n\\r\\n                            var a = indices[ i ];\\r\\n                            var b = indices[ i + 1 ];\\r\\n\\r\\n                            vStart.fromArray( positions, a * 3 );\\r\\n                            vEnd.fromArray( positions, b * 3 );\\r\\n\\r\\n                            var distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\\r\\n\\r\\n                            if ( distSq > localPrecisionSq ) continue;\\r\\n\\r\\n                            interRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\\r\\n\\r\\n                            var distance = raycaster.ray.origin.distanceTo( interRay );\\r\\n\\r\\n                            if ( distance < raycaster.near || distance > raycaster.far ) continue;\\r\\n\\r\\n                            intersects.push( {\\r\\n\\r\\n                                distance: distance,\\r\\n                                // What do we want? intersection point on the ray or on the segment??\\r\\n                                // point: raycaster.ray.at( distance ),\\r\\n                                point: interSegment.clone().applyMatrix4( this.matrixWorld ),\\r\\n                                index: i,\\r\\n                                face: null,\\r\\n                                faceIndex: null,\\r\\n                                object: this\\r\\n\\r\\n                            } );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        for ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\\r\\n\\r\\n                            vStart.fromArray( positions, 3 * i );\\r\\n                            vEnd.fromArray( positions, 3 * i + 3 );\\r\\n\\r\\n                            var distSq = ray.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\\r\\n\\r\\n                            if ( distSq > localPrecisionSq ) continue;\\r\\n\\r\\n                            interRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\\r\\n\\r\\n                            var distance = raycaster.ray.origin.distanceTo( interRay );\\r\\n\\r\\n                            if ( distance < raycaster.near || distance > raycaster.far ) continue;\\r\\n\\r\\n                            intersects.push( {\\r\\n\\r\\n                                distance: distance,\\r\\n                                // What do we want? intersection point on the ray or on the segment??\\r\\n                                // point: raycaster.ray.at( distance ),\\r\\n                                point: interSegment.clone().applyMatrix4( this.matrixWorld ),\\r\\n                                index: i,\\r\\n                                face: null,\\r\\n                                faceIndex: null,\\r\\n                                object: this\\r\\n\\r\\n                            } );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( geometry.isGeometry ) {\\r\\n\\r\\n                    var vertices = geometry.vertices;\\r\\n                    var nbVertices = vertices.length;\\r\\n\\r\\n                    for ( var i = 0; i < nbVertices - 1; i += step ) {\\r\\n\\r\\n                        var distSq = ray.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\\r\\n\\r\\n                        if ( distSq > localPrecisionSq ) continue;\\r\\n\\r\\n                        interRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\\r\\n\\r\\n                        var distance = raycaster.ray.origin.distanceTo( interRay );\\r\\n\\r\\n                        if ( distance < raycaster.near || distance > raycaster.far ) continue;\\r\\n\\r\\n                        intersects.push( {\\r\\n\\r\\n                            distance: distance,\\r\\n                            // What do we want? intersection point on the ray or on the segment??\\r\\n                            // point: raycaster.ray.at( distance ),\\r\\n                            point: interSegment.clone().applyMatrix4( this.matrixWorld ),\\r\\n                            index: i,\\r\\n                            face: null,\\r\\n                            faceIndex: null,\\r\\n                            object: this\\r\\n\\r\\n                        } );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.geometry, this.material ).copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function LineSegments( geometry, material ) {\\r\\n\\r\\n        Line.call( this, geometry, material );\\r\\n\\r\\n        this.type = 'LineSegments';\\r\\n\\r\\n    }\\r\\n\\r\\n    LineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\\r\\n\\r\\n        constructor: LineSegments,\\r\\n\\r\\n        isLineSegments: true,\\r\\n\\r\\n        computeLineDistances: ( function () {\\r\\n\\r\\n            var start = new Vector3();\\r\\n            var end = new Vector3();\\r\\n\\r\\n            return function computeLineDistances() {\\r\\n\\r\\n                var geometry = this.geometry;\\r\\n\\r\\n                if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                    // we assume non-indexed geometry\\r\\n\\r\\n                    if ( geometry.index === null ) {\\r\\n\\r\\n                        var positionAttribute = geometry.attributes.position;\\r\\n                        var lineDistances = [];\\r\\n\\r\\n                        for ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\\r\\n\\r\\n                            start.fromBufferAttribute( positionAttribute, i );\\r\\n                            end.fromBufferAttribute( positionAttribute, i + 1 );\\r\\n\\r\\n                            lineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\\r\\n                            lineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        geometry.addAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        console.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( geometry.isGeometry ) {\\r\\n\\r\\n                    var vertices = geometry.vertices;\\r\\n                    var lineDistances = geometry.lineDistances;\\r\\n\\r\\n                    for ( var i = 0, l = vertices.length; i < l; i += 2 ) {\\r\\n\\r\\n                        start.copy( vertices[ i ] );\\r\\n                        end.copy( vertices[ i + 1 ] );\\r\\n\\r\\n                        lineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\\r\\n                        lineDistances[ i + 1 ] = lineDistances[ i ] + start.distanceTo( end );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }() )\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mgreter / http://github.com/mgreter\\r\\n     */\\r\\n\\r\\n    function LineLoop( geometry, material ) {\\r\\n\\r\\n        Line.call( this, geometry, material );\\r\\n\\r\\n        this.type = 'LineLoop';\\r\\n\\r\\n    }\\r\\n\\r\\n    LineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\\r\\n\\r\\n        constructor: LineLoop,\\r\\n\\r\\n        isLineLoop: true,\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  size: <float>,\\r\\n\\t *  sizeAttenuation: <bool>\\r\\n\\t *\\r\\n\\t *  morphTargets: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function PointsMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'PointsMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff );\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.size = 1;\\r\\n        this.sizeAttenuation = true;\\r\\n\\r\\n        this.morphTargets = false;\\r\\n\\r\\n        this.lights = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    PointsMaterial.prototype = Object.create( Material.prototype );\\r\\n    PointsMaterial.prototype.constructor = PointsMaterial;\\r\\n\\r\\n    PointsMaterial.prototype.isPointsMaterial = true;\\r\\n\\r\\n    PointsMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.size = source.size;\\r\\n        this.sizeAttenuation = source.sizeAttenuation;\\r\\n\\r\\n        this.morphTargets = source.morphTargets;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function Points( geometry, material ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Points';\\r\\n\\r\\n        this.geometry = geometry !== undefined ? geometry : new BufferGeometry();\\r\\n        this.material = material !== undefined ? material : new PointsMaterial( { color: Math.random() * 0xffffff } );\\r\\n\\r\\n    }\\r\\n\\r\\n    Points.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Points,\\r\\n\\r\\n        isPoints: true,\\r\\n\\r\\n        raycast: ( function () {\\r\\n\\r\\n            var inverseMatrix = new Matrix4();\\r\\n            var ray = new Ray();\\r\\n            var sphere = new Sphere();\\r\\n\\r\\n            return function raycast( raycaster, intersects ) {\\r\\n\\r\\n                var object = this;\\r\\n                var geometry = this.geometry;\\r\\n                var matrixWorld = this.matrixWorld;\\r\\n                var threshold = raycaster.params.Points.threshold;\\r\\n\\r\\n                // Checking boundingSphere distance to ray\\r\\n\\r\\n                if ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\\r\\n\\r\\n                sphere.copy( geometry.boundingSphere );\\r\\n                sphere.applyMatrix4( matrixWorld );\\r\\n                sphere.radius += threshold;\\r\\n\\r\\n                if ( raycaster.ray.intersectsSphere( sphere ) === false ) return;\\r\\n\\r\\n                //\\r\\n\\r\\n                inverseMatrix.getInverse( matrixWorld );\\r\\n                ray.copy( raycaster.ray ).applyMatrix4( inverseMatrix );\\r\\n\\r\\n                var localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\\r\\n                var localThresholdSq = localThreshold * localThreshold;\\r\\n                var position = new Vector3();\\r\\n                var intersectPoint = new Vector3();\\r\\n\\r\\n                function testPoint( point, index ) {\\r\\n\\r\\n                    var rayPointDistanceSq = ray.distanceSqToPoint( point );\\r\\n\\r\\n                    if ( rayPointDistanceSq < localThresholdSq ) {\\r\\n\\r\\n                        ray.closestPointToPoint( point, intersectPoint );\\r\\n                        intersectPoint.applyMatrix4( matrixWorld );\\r\\n\\r\\n                        var distance = raycaster.ray.origin.distanceTo( intersectPoint );\\r\\n\\r\\n                        if ( distance < raycaster.near || distance > raycaster.far ) return;\\r\\n\\r\\n                        intersects.push( {\\r\\n\\r\\n                            distance: distance,\\r\\n                            distanceToRay: Math.sqrt( rayPointDistanceSq ),\\r\\n                            point: intersectPoint.clone(),\\r\\n                            index: index,\\r\\n                            face: null,\\r\\n                            object: object\\r\\n\\r\\n                        } );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n                    var index = geometry.index;\\r\\n                    var attributes = geometry.attributes;\\r\\n                    var positions = attributes.position.array;\\r\\n\\r\\n                    if ( index !== null ) {\\r\\n\\r\\n                        var indices = index.array;\\r\\n\\r\\n                        for ( var i = 0, il = indices.length; i < il; i ++ ) {\\r\\n\\r\\n                            var a = indices[ i ];\\r\\n\\r\\n                            position.fromArray( positions, a * 3 );\\r\\n\\r\\n                            testPoint( position, a );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        for ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\\r\\n\\r\\n                            position.fromArray( positions, i * 3 );\\r\\n\\r\\n                            testPoint( position, i );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    var vertices = geometry.vertices;\\r\\n\\r\\n                    for ( var i = 0, l = vertices.length; i < l; i ++ ) {\\r\\n\\r\\n                        testPoint( vertices[ i ], i );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor( this.geometry, this.material ).copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\\r\\n\\r\\n        Texture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\\r\\n\\r\\n        this.generateMipmaps = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    VideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\\r\\n\\r\\n        constructor: VideoTexture,\\r\\n\\r\\n        isVideoTexture: true,\\r\\n\\r\\n        update: function () {\\r\\n\\r\\n            var video = this.image;\\r\\n\\r\\n            if ( video.readyState >= video.HAVE_CURRENT_DATA ) {\\r\\n\\r\\n                this.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\\r\\n\\r\\n        Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\\r\\n\\r\\n        this.image = { width: width, height: height };\\r\\n        this.mipmaps = mipmaps;\\r\\n\\r\\n        // no flipping for cube textures\\r\\n        // (also flipping doesn't work for compressed textures )\\r\\n\\r\\n        this.flipY = false;\\r\\n\\r\\n        // can't generate mipmaps for compressed textures\\r\\n        // mips must be embedded in DDS files\\r\\n\\r\\n        this.generateMipmaps = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    CompressedTexture.prototype = Object.create( Texture.prototype );\\r\\n    CompressedTexture.prototype.constructor = CompressedTexture;\\r\\n\\r\\n    CompressedTexture.prototype.isCompressedTexture = true;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\\r\\n\\r\\n        Texture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\\r\\n\\r\\n        this.needsUpdate = true;\\r\\n\\r\\n    }\\r\\n\\r\\n    CanvasTexture.prototype = Object.create( Texture.prototype );\\r\\n    CanvasTexture.prototype.constructor = CanvasTexture;\\r\\n    CanvasTexture.prototype.isCanvasTexture = true;\\r\\n\\r\\n    /**\\r\\n     * @author Matt DesLauriers / @mattdesl\\r\\n     * @author atix / arthursilber.de\\r\\n     */\\r\\n\\r\\n    function DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\\r\\n\\r\\n        format = format !== undefined ? format : DepthFormat;\\r\\n\\r\\n        if ( format !== DepthFormat && format !== DepthStencilFormat ) {\\r\\n\\r\\n            throw new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\\r\\n        if ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\\r\\n\\r\\n        Texture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\\r\\n\\r\\n        this.image = { width: width, height: height };\\r\\n\\r\\n        this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\\r\\n        this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\\r\\n\\r\\n        this.flipY = false;\\r\\n        this.generateMipmaps\\t= false;\\r\\n\\r\\n    }\\r\\n\\r\\n    DepthTexture.prototype = Object.create( Texture.prototype );\\r\\n    DepthTexture.prototype.constructor = DepthTexture;\\r\\n    DepthTexture.prototype.isDepthTexture = true;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function WireframeGeometry( geometry ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'WireframeGeometry';\\r\\n\\r\\n        // buffer\\r\\n\\r\\n        var vertices = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var i, j, l, o, ol;\\r\\n        var edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\\r\\n        var key, keys = [ 'a', 'b', 'c' ];\\r\\n        var vertex;\\r\\n\\r\\n        // different logic for Geometry and BufferGeometry\\r\\n\\r\\n        if ( geometry && geometry.isGeometry ) {\\r\\n\\r\\n            // create a data structure that contains all edges without duplicates\\r\\n\\r\\n            var faces = geometry.faces;\\r\\n\\r\\n            for ( i = 0, l = faces.length; i < l; i ++ ) {\\r\\n\\r\\n                var face = faces[ i ];\\r\\n\\r\\n                for ( j = 0; j < 3; j ++ ) {\\r\\n\\r\\n                    edge1 = face[ keys[ j ] ];\\r\\n                    edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\\r\\n                    edge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\\r\\n                    edge[ 1 ] = Math.max( edge1, edge2 );\\r\\n\\r\\n                    key = edge[ 0 ] + ',' + edge[ 1 ];\\r\\n\\r\\n                    if ( edges[ key ] === undefined ) {\\r\\n\\r\\n                        edges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // generate vertices\\r\\n\\r\\n            for ( key in edges ) {\\r\\n\\r\\n                e = edges[ key ];\\r\\n\\r\\n                vertex = geometry.vertices[ e.index1 ];\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                vertex = geometry.vertices[ e.index2 ];\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n            }\\r\\n\\r\\n        } else if ( geometry && geometry.isBufferGeometry ) {\\r\\n\\r\\n            var position, indices, groups;\\r\\n            var group, start, count;\\r\\n            var index1, index2;\\r\\n\\r\\n            vertex = new Vector3();\\r\\n\\r\\n            if ( geometry.index !== null ) {\\r\\n\\r\\n                // indexed BufferGeometry\\r\\n\\r\\n                position = geometry.attributes.position;\\r\\n                indices = geometry.index;\\r\\n                groups = geometry.groups;\\r\\n\\r\\n                if ( groups.length === 0 ) {\\r\\n\\r\\n                    groups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\\r\\n\\r\\n                }\\r\\n\\r\\n                // create a data structure that contains all eges without duplicates\\r\\n\\r\\n                for ( o = 0, ol = groups.length; o < ol; ++ o ) {\\r\\n\\r\\n                    group = groups[ o ];\\r\\n\\r\\n                    start = group.start;\\r\\n                    count = group.count;\\r\\n\\r\\n                    for ( i = start, l = ( start + count ); i < l; i += 3 ) {\\r\\n\\r\\n                        for ( j = 0; j < 3; j ++ ) {\\r\\n\\r\\n                            edge1 = indices.getX( i + j );\\r\\n                            edge2 = indices.getX( i + ( j + 1 ) % 3 );\\r\\n                            edge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\\r\\n                            edge[ 1 ] = Math.max( edge1, edge2 );\\r\\n\\r\\n                            key = edge[ 0 ] + ',' + edge[ 1 ];\\r\\n\\r\\n                            if ( edges[ key ] === undefined ) {\\r\\n\\r\\n                                edges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                // generate vertices\\r\\n\\r\\n                for ( key in edges ) {\\r\\n\\r\\n                    e = edges[ key ];\\r\\n\\r\\n                    vertex.fromBufferAttribute( position, e.index1 );\\r\\n                    vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                    vertex.fromBufferAttribute( position, e.index2 );\\r\\n                    vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // non-indexed BufferGeometry\\r\\n\\r\\n                position = geometry.attributes.position;\\r\\n\\r\\n                for ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\\r\\n\\r\\n                    for ( j = 0; j < 3; j ++ ) {\\r\\n\\r\\n                        // three edges per triangle, an edge is represented as (index1, index2)\\r\\n                        // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\\r\\n\\r\\n                        index1 = 3 * i + j;\\r\\n                        vertex.fromBufferAttribute( position, index1 );\\r\\n                        vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                        index2 = 3 * i + ( ( j + 1 ) % 3 );\\r\\n                        vertex.fromBufferAttribute( position, index2 );\\r\\n                        vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    WireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    WireframeGeometry.prototype.constructor = WireframeGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / https://github.com/zz85\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     *\\r\\n     * Parametric Surfaces Geometry\\r\\n     * based on the brilliant article by @prideout http://prideout.net/blog/?p=44\\r\\n     */\\r\\n\\r\\n    // ParametricGeometry\\r\\n\\r\\n    function ParametricGeometry( func, slices, stacks ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'ParametricGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            func: func,\\r\\n            slices: slices,\\r\\n            stacks: stacks\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    ParametricGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    ParametricGeometry.prototype.constructor = ParametricGeometry;\\r\\n\\r\\n    // ParametricBufferGeometry\\r\\n\\r\\n    function ParametricBufferGeometry( func, slices, stacks ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'ParametricBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            func: func,\\r\\n            slices: slices,\\r\\n            stacks: stacks\\r\\n        };\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        var EPS = 0.00001;\\r\\n\\r\\n        var normal = new Vector3();\\r\\n\\r\\n        var p0 = new Vector3(), p1 = new Vector3();\\r\\n        var pu = new Vector3(), pv = new Vector3();\\r\\n\\r\\n        var i, j;\\r\\n\\r\\n        if ( func.length < 3 ) {\\r\\n\\r\\n            console.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        // generate vertices, normals and uvs\\r\\n\\r\\n        var sliceCount = slices + 1;\\r\\n\\r\\n        for ( i = 0; i <= stacks; i ++ ) {\\r\\n\\r\\n            var v = i / stacks;\\r\\n\\r\\n            for ( j = 0; j <= slices; j ++ ) {\\r\\n\\r\\n                var u = j / slices;\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                func( u, v, p0 );\\r\\n                vertices.push( p0.x, p0.y, p0.z );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                // approximate tangent vectors via finite differences\\r\\n\\r\\n                if ( u - EPS >= 0 ) {\\r\\n\\r\\n                    func( u - EPS, v, p1 );\\r\\n                    pu.subVectors( p0, p1 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    func( u + EPS, v, p1 );\\r\\n                    pu.subVectors( p1, p0 );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( v - EPS >= 0 ) {\\r\\n\\r\\n                    func( u, v - EPS, p1 );\\r\\n                    pv.subVectors( p0, p1 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    func( u, v + EPS, p1 );\\r\\n                    pv.subVectors( p1, p0 );\\r\\n\\r\\n                }\\r\\n\\r\\n                // cross product of tangent vectors returns surface normal\\r\\n\\r\\n                normal.crossVectors( pu, pv ).normalize();\\r\\n                normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uvs.push( u, v );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // generate indices\\r\\n\\r\\n        for ( i = 0; i < stacks; i ++ ) {\\r\\n\\r\\n            for ( j = 0; j < slices; j ++ ) {\\r\\n\\r\\n                var a = i * sliceCount + j;\\r\\n                var b = i * sliceCount + j + 1;\\r\\n                var c = ( i + 1 ) * sliceCount + j + 1;\\r\\n                var d = ( i + 1 ) * sliceCount + j;\\r\\n\\r\\n                // faces one and two\\r\\n\\r\\n                indices.push( a, b, d );\\r\\n                indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    ParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    ParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author clockworkgeek / https://github.com/clockworkgeek\\r\\n     * @author timothypratley / https://github.com/timothypratley\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // PolyhedronGeometry\\r\\n\\r\\n    function PolyhedronGeometry( vertices, indices, radius, detail ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'PolyhedronGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            vertices: vertices,\\r\\n            indices: indices,\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    PolyhedronGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    PolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\\r\\n\\r\\n    // PolyhedronBufferGeometry\\r\\n\\r\\n    function PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'PolyhedronBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            vertices: vertices,\\r\\n            indices: indices,\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n        radius = radius || 1;\\r\\n        detail = detail || 0;\\r\\n\\r\\n        // default buffer data\\r\\n\\r\\n        var vertexBuffer = [];\\r\\n        var uvBuffer = [];\\r\\n\\r\\n        // the subdivision creates the vertex buffer data\\r\\n\\r\\n        subdivide( detail );\\r\\n\\r\\n        // all vertices should lie on a conceptual sphere with a given radius\\r\\n\\r\\n        appplyRadius( radius );\\r\\n\\r\\n        // finally, create the uv data\\r\\n\\r\\n        generateUVs();\\r\\n\\r\\n        // build non-indexed geometry\\r\\n\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\\r\\n\\r\\n        if ( detail === 0 ) {\\r\\n\\r\\n            this.computeVertexNormals(); // flat normals\\r\\n\\r\\n        } else {\\r\\n\\r\\n            this.normalizeNormals(); // smooth normals\\r\\n\\r\\n        }\\r\\n\\r\\n        // helper functions\\r\\n\\r\\n        function subdivide( detail ) {\\r\\n\\r\\n            var a = new Vector3();\\r\\n            var b = new Vector3();\\r\\n            var c = new Vector3();\\r\\n\\r\\n            // iterate over all faces and apply a subdivison with the given detail value\\r\\n\\r\\n            for ( var i = 0; i < indices.length; i += 3 ) {\\r\\n\\r\\n                // get the vertices of the face\\r\\n\\r\\n                getVertexByIndex( indices[ i + 0 ], a );\\r\\n                getVertexByIndex( indices[ i + 1 ], b );\\r\\n                getVertexByIndex( indices[ i + 2 ], c );\\r\\n\\r\\n                // perform subdivision\\r\\n\\r\\n                subdivideFace( a, b, c, detail );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function subdivideFace( a, b, c, detail ) {\\r\\n\\r\\n            var cols = Math.pow( 2, detail );\\r\\n\\r\\n            // we use this multidimensional array as a data structure for creating the subdivision\\r\\n\\r\\n            var v = [];\\r\\n\\r\\n            var i, j;\\r\\n\\r\\n            // construct all of the vertices for this subdivision\\r\\n\\r\\n            for ( i = 0; i <= cols; i ++ ) {\\r\\n\\r\\n                v[ i ] = [];\\r\\n\\r\\n                var aj = a.clone().lerp( c, i / cols );\\r\\n                var bj = b.clone().lerp( c, i / cols );\\r\\n\\r\\n                var rows = cols - i;\\r\\n\\r\\n                for ( j = 0; j <= rows; j ++ ) {\\r\\n\\r\\n                    if ( j === 0 && i === cols ) {\\r\\n\\r\\n                        v[ i ][ j ] = aj;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        v[ i ][ j ] = aj.clone().lerp( bj, j / rows );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // construct all of the faces\\r\\n\\r\\n            for ( i = 0; i < cols; i ++ ) {\\r\\n\\r\\n                for ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\\r\\n\\r\\n                    var k = Math.floor( j / 2 );\\r\\n\\r\\n                    if ( j % 2 === 0 ) {\\r\\n\\r\\n                        pushVertex( v[ i ][ k + 1 ] );\\r\\n                        pushVertex( v[ i + 1 ][ k ] );\\r\\n                        pushVertex( v[ i ][ k ] );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        pushVertex( v[ i ][ k + 1 ] );\\r\\n                        pushVertex( v[ i + 1 ][ k + 1 ] );\\r\\n                        pushVertex( v[ i + 1 ][ k ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function appplyRadius( radius ) {\\r\\n\\r\\n            var vertex = new Vector3();\\r\\n\\r\\n            // iterate over the entire buffer and apply the radius to each vertex\\r\\n\\r\\n            for ( var i = 0; i < vertexBuffer.length; i += 3 ) {\\r\\n\\r\\n                vertex.x = vertexBuffer[ i + 0 ];\\r\\n                vertex.y = vertexBuffer[ i + 1 ];\\r\\n                vertex.z = vertexBuffer[ i + 2 ];\\r\\n\\r\\n                vertex.normalize().multiplyScalar( radius );\\r\\n\\r\\n                vertexBuffer[ i + 0 ] = vertex.x;\\r\\n                vertexBuffer[ i + 1 ] = vertex.y;\\r\\n                vertexBuffer[ i + 2 ] = vertex.z;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function generateUVs() {\\r\\n\\r\\n            var vertex = new Vector3();\\r\\n\\r\\n            for ( var i = 0; i < vertexBuffer.length; i += 3 ) {\\r\\n\\r\\n                vertex.x = vertexBuffer[ i + 0 ];\\r\\n                vertex.y = vertexBuffer[ i + 1 ];\\r\\n                vertex.z = vertexBuffer[ i + 2 ];\\r\\n\\r\\n                var u = azimuth( vertex ) / 2 / Math.PI + 0.5;\\r\\n                var v = inclination( vertex ) / Math.PI + 0.5;\\r\\n                uvBuffer.push( u, 1 - v );\\r\\n\\r\\n            }\\r\\n\\r\\n            correctUVs();\\r\\n\\r\\n            correctSeam();\\r\\n\\r\\n        }\\r\\n\\r\\n        function correctSeam() {\\r\\n\\r\\n            // handle case when face straddles the seam, see #3269\\r\\n\\r\\n            for ( var i = 0; i < uvBuffer.length; i += 6 ) {\\r\\n\\r\\n                // uv data of a single face\\r\\n\\r\\n                var x0 = uvBuffer[ i + 0 ];\\r\\n                var x1 = uvBuffer[ i + 2 ];\\r\\n                var x2 = uvBuffer[ i + 4 ];\\r\\n\\r\\n                var max = Math.max( x0, x1, x2 );\\r\\n                var min = Math.min( x0, x1, x2 );\\r\\n\\r\\n                // 0.9 is somewhat arbitrary\\r\\n\\r\\n                if ( max > 0.9 && min < 0.1 ) {\\r\\n\\r\\n                    if ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\\r\\n                    if ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\\r\\n                    if ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function pushVertex( vertex ) {\\r\\n\\r\\n            vertexBuffer.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n        }\\r\\n\\r\\n        function getVertexByIndex( index, vertex ) {\\r\\n\\r\\n            var stride = index * 3;\\r\\n\\r\\n            vertex.x = vertices[ stride + 0 ];\\r\\n            vertex.y = vertices[ stride + 1 ];\\r\\n            vertex.z = vertices[ stride + 2 ];\\r\\n\\r\\n        }\\r\\n\\r\\n        function correctUVs() {\\r\\n\\r\\n            var a = new Vector3();\\r\\n            var b = new Vector3();\\r\\n            var c = new Vector3();\\r\\n\\r\\n            var centroid = new Vector3();\\r\\n\\r\\n            var uvA = new Vector2();\\r\\n            var uvB = new Vector2();\\r\\n            var uvC = new Vector2();\\r\\n\\r\\n            for ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\\r\\n\\r\\n                a.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\\r\\n                b.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\\r\\n                c.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\\r\\n\\r\\n                uvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\\r\\n                uvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\\r\\n                uvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\\r\\n\\r\\n                centroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\\r\\n\\r\\n                var azi = azimuth( centroid );\\r\\n\\r\\n                correctUV( uvA, j + 0, a, azi );\\r\\n                correctUV( uvB, j + 2, b, azi );\\r\\n                correctUV( uvC, j + 4, c, azi );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function correctUV( uv, stride, vector, azimuth ) {\\r\\n\\r\\n            if ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\\r\\n\\r\\n                uvBuffer[ stride ] = uv.x - 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\\r\\n\\r\\n                uvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // Angle around the Y axis, counter-clockwise when looking from above.\\r\\n\\r\\n        function azimuth( vector ) {\\r\\n\\r\\n            return Math.atan2( vector.z, - vector.x );\\r\\n\\r\\n        }\\r\\n\\r\\n\\r\\n        // Angle above the XZ plane.\\r\\n\\r\\n        function inclination( vector ) {\\r\\n\\r\\n            return Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    PolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    PolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author timothypratley / https://github.com/timothypratley\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // TetrahedronGeometry\\r\\n\\r\\n    function TetrahedronGeometry( radius, detail ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'TetrahedronGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    TetrahedronGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    TetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\\r\\n\\r\\n    // TetrahedronBufferGeometry\\r\\n\\r\\n    function TetrahedronBufferGeometry( radius, detail ) {\\r\\n\\r\\n        var vertices = [\\r\\n            1, 1, 1, \\t- 1, - 1, 1, \\t- 1, 1, - 1, \\t1, - 1, - 1\\r\\n        ];\\r\\n\\r\\n        var indices = [\\r\\n            2, 1, 0, \\t0, 3, 2,\\t1, 3, 0,\\t2, 3, 1\\r\\n        ];\\r\\n\\r\\n        PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\\r\\n\\r\\n        this.type = 'TetrahedronBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    TetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\\r\\n    TetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author timothypratley / https://github.com/timothypratley\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // OctahedronGeometry\\r\\n\\r\\n    function OctahedronGeometry( radius, detail ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'OctahedronGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    OctahedronGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    OctahedronGeometry.prototype.constructor = OctahedronGeometry;\\r\\n\\r\\n    // OctahedronBufferGeometry\\r\\n\\r\\n    function OctahedronBufferGeometry( radius, detail ) {\\r\\n\\r\\n        var vertices = [\\r\\n            1, 0, 0, \\t- 1, 0, 0,\\t0, 1, 0,\\r\\n            0, - 1, 0, \\t0, 0, 1,\\t0, 0, - 1\\r\\n        ];\\r\\n\\r\\n        var indices = [\\r\\n            0, 2, 4,\\t0, 4, 3,\\t0, 3, 5,\\r\\n            0, 5, 2,\\t1, 2, 5,\\t1, 5, 3,\\r\\n            1, 3, 4,\\t1, 4, 2\\r\\n        ];\\r\\n\\r\\n        PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\\r\\n\\r\\n        this.type = 'OctahedronBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    OctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\\r\\n    OctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author timothypratley / https://github.com/timothypratley\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // IcosahedronGeometry\\r\\n\\r\\n    function IcosahedronGeometry( radius, detail ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'IcosahedronGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    IcosahedronGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    IcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\\r\\n\\r\\n    // IcosahedronBufferGeometry\\r\\n\\r\\n    function IcosahedronBufferGeometry( radius, detail ) {\\r\\n\\r\\n        var t = ( 1 + Math.sqrt( 5 ) ) / 2;\\r\\n\\r\\n        var vertices = [\\r\\n            - 1, t, 0, \\t1, t, 0, \\t- 1, - t, 0, \\t1, - t, 0,\\r\\n            0, - 1, t, \\t0, 1, t,\\t0, - 1, - t, \\t0, 1, - t,\\r\\n            t, 0, - 1, \\tt, 0, 1, \\t- t, 0, - 1, \\t- t, 0, 1\\r\\n        ];\\r\\n\\r\\n        var indices = [\\r\\n            0, 11, 5, \\t0, 5, 1, \\t0, 1, 7, \\t0, 7, 10, \\t0, 10, 11,\\r\\n            1, 5, 9, \\t5, 11, 4,\\t11, 10, 2,\\t10, 7, 6,\\t7, 1, 8,\\r\\n            3, 9, 4, \\t3, 4, 2,\\t3, 2, 6,\\t3, 6, 8,\\t3, 8, 9,\\r\\n            4, 9, 5, \\t2, 4, 11,\\t6, 2, 10,\\t8, 6, 7,\\t9, 8, 1\\r\\n        ];\\r\\n\\r\\n        PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\\r\\n\\r\\n        this.type = 'IcosahedronBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    IcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\\r\\n    IcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author Abe Pazos / https://hamoid.com\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // DodecahedronGeometry\\r\\n\\r\\n    function DodecahedronGeometry( radius, detail ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'DodecahedronGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    DodecahedronGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    DodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\\r\\n\\r\\n    // DodecahedronBufferGeometry\\r\\n\\r\\n    function DodecahedronBufferGeometry( radius, detail ) {\\r\\n\\r\\n        var t = ( 1 + Math.sqrt( 5 ) ) / 2;\\r\\n        var r = 1 / t;\\r\\n\\r\\n        var vertices = [\\r\\n\\r\\n            // (±1, ±1, ±1)\\r\\n            - 1, - 1, - 1,\\t- 1, - 1, 1,\\r\\n            - 1, 1, - 1, - 1, 1, 1,\\r\\n            1, - 1, - 1, 1, - 1, 1,\\r\\n            1, 1, - 1, 1, 1, 1,\\r\\n\\r\\n            // (0, ±1/φ, ±φ)\\r\\n            0, - r, - t, 0, - r, t,\\r\\n            0, r, - t, 0, r, t,\\r\\n\\r\\n            // (±1/φ, ±φ, 0)\\r\\n            - r, - t, 0, - r, t, 0,\\r\\n            r, - t, 0, r, t, 0,\\r\\n\\r\\n            // (±φ, 0, ±1/φ)\\r\\n            - t, 0, - r, t, 0, - r,\\r\\n            - t, 0, r, t, 0, r\\r\\n        ];\\r\\n\\r\\n        var indices = [\\r\\n            3, 11, 7, \\t3, 7, 15, \\t3, 15, 13,\\r\\n            7, 19, 17, \\t7, 17, 6, \\t7, 6, 15,\\r\\n            17, 4, 8, \\t17, 8, 10, \\t17, 10, 6,\\r\\n            8, 0, 16, \\t8, 16, 2, \\t8, 2, 10,\\r\\n            0, 12, 1, \\t0, 1, 18, \\t0, 18, 16,\\r\\n            6, 10, 2, \\t6, 2, 13, \\t6, 13, 15,\\r\\n            2, 16, 18, \\t2, 18, 3, \\t2, 3, 13,\\r\\n            18, 1, 9, \\t18, 9, 11, \\t18, 11, 3,\\r\\n            4, 14, 12, \\t4, 12, 0, \\t4, 0, 8,\\r\\n            11, 9, 5, \\t11, 5, 19, \\t11, 19, 7,\\r\\n            19, 5, 14, \\t19, 14, 4, \\t19, 4, 17,\\r\\n            1, 12, 14, \\t1, 14, 5, \\t1, 5, 9\\r\\n        ];\\r\\n\\r\\n        PolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\\r\\n\\r\\n        this.type = 'DodecahedronBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            detail: detail\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    DodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\\r\\n    DodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author oosmoxiecode / https://github.com/oosmoxiecode\\r\\n     * @author WestLangley / https://github.com/WestLangley\\r\\n     * @author zz85 / https://github.com/zz85\\r\\n     * @author miningold / https://github.com/miningold\\r\\n     * @author jonobr1 / https://github.com/jonobr1\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     *\\r\\n     */\\r\\n\\r\\n    // TubeGeometry\\r\\n\\r\\n    function TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'TubeGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            path: path,\\r\\n            tubularSegments: tubularSegments,\\r\\n            radius: radius,\\r\\n            radialSegments: radialSegments,\\r\\n            closed: closed\\r\\n        };\\r\\n\\r\\n        if ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\\r\\n\\r\\n        var bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\\r\\n\\r\\n        // expose internals\\r\\n\\r\\n        this.tangents = bufferGeometry.tangents;\\r\\n        this.normals = bufferGeometry.normals;\\r\\n        this.binormals = bufferGeometry.binormals;\\r\\n\\r\\n        // create geometry\\r\\n\\r\\n        this.fromBufferGeometry( bufferGeometry );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    TubeGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    TubeGeometry.prototype.constructor = TubeGeometry;\\r\\n\\r\\n    // TubeBufferGeometry\\r\\n\\r\\n    function TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'TubeBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            path: path,\\r\\n            tubularSegments: tubularSegments,\\r\\n            radius: radius,\\r\\n            radialSegments: radialSegments,\\r\\n            closed: closed\\r\\n        };\\r\\n\\r\\n        tubularSegments = tubularSegments || 64;\\r\\n        radius = radius || 1;\\r\\n        radialSegments = radialSegments || 8;\\r\\n        closed = closed || false;\\r\\n\\r\\n        var frames = path.computeFrenetFrames( tubularSegments, closed );\\r\\n\\r\\n        // expose internals\\r\\n\\r\\n        this.tangents = frames.tangents;\\r\\n        this.normals = frames.normals;\\r\\n        this.binormals = frames.binormals;\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var vertex = new Vector3();\\r\\n        var normal = new Vector3();\\r\\n        var uv = new Vector2();\\r\\n        var P = new Vector3();\\r\\n\\r\\n        var i, j;\\r\\n\\r\\n        // buffer\\r\\n\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n        var indices = [];\\r\\n\\r\\n        // create buffer data\\r\\n\\r\\n        generateBufferData();\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n        // functions\\r\\n\\r\\n        function generateBufferData() {\\r\\n\\r\\n            for ( i = 0; i < tubularSegments; i ++ ) {\\r\\n\\r\\n                generateSegment( i );\\r\\n\\r\\n            }\\r\\n\\r\\n            // if the geometry is not closed, generate the last row of vertices and normals\\r\\n            // at the regular position on the given path\\r\\n            //\\r\\n            // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\\r\\n\\r\\n            generateSegment( ( closed === false ) ? tubularSegments : 0 );\\r\\n\\r\\n            // uvs are generated in a separate function.\\r\\n            // this makes it easy compute correct values for closed geometries\\r\\n\\r\\n            generateUVs();\\r\\n\\r\\n            // finally create faces\\r\\n\\r\\n            generateIndices();\\r\\n\\r\\n        }\\r\\n\\r\\n        function generateSegment( i ) {\\r\\n\\r\\n            // we use getPointAt to sample evenly distributed points from the given path\\r\\n\\r\\n            P = path.getPointAt( i / tubularSegments, P );\\r\\n\\r\\n            // retrieve corresponding normal and binormal\\r\\n\\r\\n            var N = frames.normals[ i ];\\r\\n            var B = frames.binormals[ i ];\\r\\n\\r\\n            // generate normals and vertices for the current segment\\r\\n\\r\\n            for ( j = 0; j <= radialSegments; j ++ ) {\\r\\n\\r\\n                var v = j / radialSegments * Math.PI * 2;\\r\\n\\r\\n                var sin = Math.sin( v );\\r\\n                var cos = - Math.cos( v );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                normal.x = ( cos * N.x + sin * B.x );\\r\\n                normal.y = ( cos * N.y + sin * B.y );\\r\\n                normal.z = ( cos * N.z + sin * B.z );\\r\\n                normal.normalize();\\r\\n\\r\\n                normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertex.x = P.x + radius * normal.x;\\r\\n                vertex.y = P.y + radius * normal.y;\\r\\n                vertex.z = P.z + radius * normal.z;\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function generateIndices() {\\r\\n\\r\\n            for ( j = 1; j <= tubularSegments; j ++ ) {\\r\\n\\r\\n                for ( i = 1; i <= radialSegments; i ++ ) {\\r\\n\\r\\n                    var a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\\r\\n                    var b = ( radialSegments + 1 ) * j + ( i - 1 );\\r\\n                    var c = ( radialSegments + 1 ) * j + i;\\r\\n                    var d = ( radialSegments + 1 ) * ( j - 1 ) + i;\\r\\n\\r\\n                    // faces\\r\\n\\r\\n                    indices.push( a, b, d );\\r\\n                    indices.push( b, c, d );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        function generateUVs() {\\r\\n\\r\\n            for ( i = 0; i <= tubularSegments; i ++ ) {\\r\\n\\r\\n                for ( j = 0; j <= radialSegments; j ++ ) {\\r\\n\\r\\n                    uv.x = i / tubularSegments;\\r\\n                    uv.y = j / radialSegments;\\r\\n\\r\\n                    uvs.push( uv.x, uv.y );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    TubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    TubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author oosmoxiecode\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     *\\r\\n     * based on http://www.blackpawn.com/texts/pqtorus/\\r\\n     */\\r\\n\\r\\n    // TorusKnotGeometry\\r\\n\\r\\n    function TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'TorusKnotGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            tube: tube,\\r\\n            tubularSegments: tubularSegments,\\r\\n            radialSegments: radialSegments,\\r\\n            p: p,\\r\\n            q: q\\r\\n        };\\r\\n\\r\\n        if ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\\r\\n\\r\\n        this.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    TorusKnotGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    TorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\\r\\n\\r\\n    // TorusKnotBufferGeometry\\r\\n\\r\\n    function TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'TorusKnotBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            tube: tube,\\r\\n            tubularSegments: tubularSegments,\\r\\n            radialSegments: radialSegments,\\r\\n            p: p,\\r\\n            q: q\\r\\n        };\\r\\n\\r\\n        radius = radius || 1;\\r\\n        tube = tube || 0.4;\\r\\n        tubularSegments = Math.floor( tubularSegments ) || 64;\\r\\n        radialSegments = Math.floor( radialSegments ) || 8;\\r\\n        p = p || 2;\\r\\n        q = q || 3;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var i, j;\\r\\n\\r\\n        var vertex = new Vector3();\\r\\n        var normal = new Vector3();\\r\\n\\r\\n        var P1 = new Vector3();\\r\\n        var P2 = new Vector3();\\r\\n\\r\\n        var B = new Vector3();\\r\\n        var T = new Vector3();\\r\\n        var N = new Vector3();\\r\\n\\r\\n        // generate vertices, normals and uvs\\r\\n\\r\\n        for ( i = 0; i <= tubularSegments; ++ i ) {\\r\\n\\r\\n            // the radian \\\"u\\\" is used to calculate the position on the torus curve of the current tubular segement\\r\\n\\r\\n            var u = i / tubularSegments * p * Math.PI * 2;\\r\\n\\r\\n            // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\\r\\n            // these points are used to create a special \\\"coordinate space\\\", which is necessary to calculate the correct vertex positions\\r\\n\\r\\n            calculatePositionOnCurve( u, p, q, radius, P1 );\\r\\n            calculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\\r\\n\\r\\n            // calculate orthonormal basis\\r\\n\\r\\n            T.subVectors( P2, P1 );\\r\\n            N.addVectors( P2, P1 );\\r\\n            B.crossVectors( T, N );\\r\\n            N.crossVectors( B, T );\\r\\n\\r\\n            // normalize B, N. T can be ignored, we don't use it\\r\\n\\r\\n            B.normalize();\\r\\n            N.normalize();\\r\\n\\r\\n            for ( j = 0; j <= radialSegments; ++ j ) {\\r\\n\\r\\n                // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\\r\\n                // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\\r\\n\\r\\n                var v = j / radialSegments * Math.PI * 2;\\r\\n                var cx = - tube * Math.cos( v );\\r\\n                var cy = tube * Math.sin( v );\\r\\n\\r\\n                // now calculate the final vertex position.\\r\\n                // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\\r\\n\\r\\n                vertex.x = P1.x + ( cx * N.x + cy * B.x );\\r\\n                vertex.y = P1.y + ( cx * N.y + cy * B.y );\\r\\n                vertex.z = P1.z + ( cx * N.z + cy * B.z );\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\\r\\n\\r\\n                normal.subVectors( vertex, P1 ).normalize();\\r\\n\\r\\n                normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uvs.push( i / tubularSegments );\\r\\n                uvs.push( j / radialSegments );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // generate indices\\r\\n\\r\\n        for ( j = 1; j <= tubularSegments; j ++ ) {\\r\\n\\r\\n            for ( i = 1; i <= radialSegments; i ++ ) {\\r\\n\\r\\n                // indices\\r\\n\\r\\n                var a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\\r\\n                var b = ( radialSegments + 1 ) * j + ( i - 1 );\\r\\n                var c = ( radialSegments + 1 ) * j + i;\\r\\n                var d = ( radialSegments + 1 ) * ( j - 1 ) + i;\\r\\n\\r\\n                // faces\\r\\n\\r\\n                indices.push( a, b, d );\\r\\n                indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n        // this function calculates the current position on the torus curve\\r\\n\\r\\n        function calculatePositionOnCurve( u, p, q, radius, position ) {\\r\\n\\r\\n            var cu = Math.cos( u );\\r\\n            var su = Math.sin( u );\\r\\n            var quOverP = q / p * u;\\r\\n            var cs = Math.cos( quOverP );\\r\\n\\r\\n            position.x = radius * ( 2 + cs ) * 0.5 * cu;\\r\\n            position.y = radius * ( 2 + cs ) * su * 0.5;\\r\\n            position.z = radius * Math.sin( quOverP ) * 0.5;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    TorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    TorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author oosmoxiecode\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // TorusGeometry\\r\\n\\r\\n    function TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'TorusGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            tube: tube,\\r\\n            radialSegments: radialSegments,\\r\\n            tubularSegments: tubularSegments,\\r\\n            arc: arc\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    TorusGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    TorusGeometry.prototype.constructor = TorusGeometry;\\r\\n\\r\\n    // TorusBufferGeometry\\r\\n\\r\\n    function TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'TorusBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            tube: tube,\\r\\n            radialSegments: radialSegments,\\r\\n            tubularSegments: tubularSegments,\\r\\n            arc: arc\\r\\n        };\\r\\n\\r\\n        radius = radius || 1;\\r\\n        tube = tube || 0.4;\\r\\n        radialSegments = Math.floor( radialSegments ) || 8;\\r\\n        tubularSegments = Math.floor( tubularSegments ) || 6;\\r\\n        arc = arc || Math.PI * 2;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var center = new Vector3();\\r\\n        var vertex = new Vector3();\\r\\n        var normal = new Vector3();\\r\\n\\r\\n        var j, i;\\r\\n\\r\\n        // generate vertices, normals and uvs\\r\\n\\r\\n        for ( j = 0; j <= radialSegments; j ++ ) {\\r\\n\\r\\n            for ( i = 0; i <= tubularSegments; i ++ ) {\\r\\n\\r\\n                var u = i / tubularSegments * arc;\\r\\n                var v = j / radialSegments * Math.PI * 2;\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\\r\\n                vertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\\r\\n                vertex.z = tube * Math.sin( v );\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                center.x = radius * Math.cos( u );\\r\\n                center.y = radius * Math.sin( u );\\r\\n                normal.subVectors( vertex, center ).normalize();\\r\\n\\r\\n                normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uvs.push( i / tubularSegments );\\r\\n                uvs.push( j / radialSegments );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // generate indices\\r\\n\\r\\n        for ( j = 1; j <= radialSegments; j ++ ) {\\r\\n\\r\\n            for ( i = 1; i <= tubularSegments; i ++ ) {\\r\\n\\r\\n                // indices\\r\\n\\r\\n                var a = ( tubularSegments + 1 ) * j + i - 1;\\r\\n                var b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\\r\\n                var c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\\r\\n                var d = ( tubularSegments + 1 ) * j + i;\\r\\n\\r\\n                // faces\\r\\n\\r\\n                indices.push( a, b, d );\\r\\n                indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    TorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    TorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     * Port from https://github.com/mapbox/earcut (v2.1.2)\\r\\n     */\\r\\n\\r\\n    var Earcut = {\\r\\n\\r\\n        triangulate: function ( data, holeIndices, dim ) {\\r\\n\\r\\n            dim = dim || 2;\\r\\n\\r\\n            var hasHoles = holeIndices && holeIndices.length,\\r\\n                outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\\r\\n                outerNode = linkedList( data, 0, outerLen, dim, true ),\\r\\n                triangles = [];\\r\\n\\r\\n            if ( ! outerNode ) return triangles;\\r\\n\\r\\n            var minX, minY, maxX, maxY, x, y, invSize;\\r\\n\\r\\n            if ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\\r\\n\\r\\n            // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\\r\\n\\r\\n            if ( data.length > 80 * dim ) {\\r\\n\\r\\n                minX = maxX = data[ 0 ];\\r\\n                minY = maxY = data[ 1 ];\\r\\n\\r\\n                for ( var i = dim; i < outerLen; i += dim ) {\\r\\n\\r\\n                    x = data[ i ];\\r\\n                    y = data[ i + 1 ];\\r\\n                    if ( x < minX ) minX = x;\\r\\n                    if ( y < minY ) minY = y;\\r\\n                    if ( x > maxX ) maxX = x;\\r\\n                    if ( y > maxY ) maxY = y;\\r\\n\\r\\n                }\\r\\n\\r\\n                // minX, minY and invSize are later used to transform coords into integers for z-order calculation\\r\\n\\r\\n                invSize = Math.max( maxX - minX, maxY - minY );\\r\\n                invSize = invSize !== 0 ? 1 / invSize : 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            earcutLinked( outerNode, triangles, dim, minX, minY, invSize );\\r\\n\\r\\n            return triangles;\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    // create a circular doubly linked list from polygon points in the specified winding order\\r\\n\\r\\n    function linkedList( data, start, end, dim, clockwise ) {\\r\\n\\r\\n        var i, last;\\r\\n\\r\\n        if ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\\r\\n\\r\\n            for ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            for ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( last && equals( last, last.next ) ) {\\r\\n\\r\\n            removeNode( last );\\r\\n            last = last.next;\\r\\n\\r\\n        }\\r\\n\\r\\n        return last;\\r\\n\\r\\n    }\\r\\n\\r\\n    // eliminate colinear or duplicate points\\r\\n\\r\\n    function filterPoints( start, end ) {\\r\\n\\r\\n        if ( ! start ) return start;\\r\\n        if ( ! end ) end = start;\\r\\n\\r\\n        var p = start, again;\\r\\n\\r\\n        do {\\r\\n\\r\\n            again = false;\\r\\n\\r\\n            if ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\\r\\n\\r\\n                removeNode( p );\\r\\n                p = end = p.prev;\\r\\n                if ( p === p.next ) break;\\r\\n                again = true;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                p = p.next;\\r\\n\\r\\n            }\\r\\n\\r\\n        } while ( again || p !== end );\\r\\n\\r\\n        return end;\\r\\n\\r\\n    }\\r\\n\\r\\n    // main ear slicing loop which triangulates a polygon (given as a linked list)\\r\\n\\r\\n    function earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\\r\\n\\r\\n        if ( ! ear ) return;\\r\\n\\r\\n        // interlink polygon nodes in z-order\\r\\n\\r\\n        if ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\\r\\n\\r\\n        var stop = ear, prev, next;\\r\\n\\r\\n        // iterate through ears, slicing them one by one\\r\\n\\r\\n        while ( ear.prev !== ear.next ) {\\r\\n\\r\\n            prev = ear.prev;\\r\\n            next = ear.next;\\r\\n\\r\\n            if ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\\r\\n\\r\\n                // cut off the triangle\\r\\n                triangles.push( prev.i / dim );\\r\\n                triangles.push( ear.i / dim );\\r\\n                triangles.push( next.i / dim );\\r\\n\\r\\n                removeNode( ear );\\r\\n\\r\\n                // skipping the next vertice leads to less sliver triangles\\r\\n                ear = next.next;\\r\\n                stop = next.next;\\r\\n\\r\\n                continue;\\r\\n\\r\\n            }\\r\\n\\r\\n            ear = next;\\r\\n\\r\\n            // if we looped through the whole remaining polygon and can't find any more ears\\r\\n\\r\\n            if ( ear === stop ) {\\r\\n\\r\\n                // try filtering points and slicing again\\r\\n\\r\\n                if ( ! pass ) {\\r\\n\\r\\n                    earcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\\r\\n\\r\\n                    // if this didn't work, try curing all small self-intersections locally\\r\\n\\r\\n                } else if ( pass === 1 ) {\\r\\n\\r\\n                    ear = cureLocalIntersections( ear, triangles, dim );\\r\\n                    earcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\\r\\n\\r\\n                    // as a last resort, try splitting the remaining polygon into two\\r\\n\\r\\n                } else if ( pass === 2 ) {\\r\\n\\r\\n                    splitEarcut( ear, triangles, dim, minX, minY, invSize );\\r\\n\\r\\n                }\\r\\n\\r\\n                break;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // check whether a polygon node forms a valid ear with adjacent nodes\\r\\n\\r\\n    function isEar( ear ) {\\r\\n\\r\\n        var a = ear.prev,\\r\\n            b = ear,\\r\\n            c = ear.next;\\r\\n\\r\\n        if ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\\r\\n\\r\\n        // now make sure we don't have other points inside the potential ear\\r\\n        var p = ear.next.next;\\r\\n\\r\\n        while ( p !== ear.prev ) {\\r\\n\\r\\n            if ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) && area( p.prev, p, p.next ) >= 0 ) {\\r\\n\\r\\n                return false;\\r\\n\\r\\n            }\\r\\n\\r\\n            p = p.next;\\r\\n\\r\\n        }\\r\\n\\r\\n        return true;\\r\\n\\r\\n    }\\r\\n\\r\\n    function isEarHashed( ear, minX, minY, invSize ) {\\r\\n\\r\\n        var a = ear.prev,\\r\\n            b = ear,\\r\\n            c = ear.next;\\r\\n\\r\\n        if ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\\r\\n\\r\\n        // triangle bbox; min & max are calculated like this for speed\\r\\n\\r\\n        var minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\\r\\n            minTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\\r\\n            maxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\\r\\n            maxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\\r\\n\\r\\n        // z-order range for the current triangle bbox;\\r\\n\\r\\n        var minZ = zOrder( minTX, minTY, minX, minY, invSize ),\\r\\n            maxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\\r\\n\\r\\n        // first look for points inside the triangle in increasing z-order\\r\\n\\r\\n        var p = ear.nextZ;\\r\\n\\r\\n        while ( p && p.z <= maxZ ) {\\r\\n\\r\\n            if ( p !== ear.prev && p !== ear.next &&\\r\\n                pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\\r\\n                area( p.prev, p, p.next ) >= 0 ) return false;\\r\\n            p = p.nextZ;\\r\\n\\r\\n        }\\r\\n\\r\\n        // then look for points in decreasing z-order\\r\\n\\r\\n        p = ear.prevZ;\\r\\n\\r\\n        while ( p && p.z >= minZ ) {\\r\\n\\r\\n            if ( p !== ear.prev && p !== ear.next &&\\r\\n                pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\\r\\n                area( p.prev, p, p.next ) >= 0 ) return false;\\r\\n\\r\\n            p = p.prevZ;\\r\\n\\r\\n        }\\r\\n\\r\\n        return true;\\r\\n\\r\\n    }\\r\\n\\r\\n    // go through all polygon nodes and cure small local self-intersections\\r\\n\\r\\n    function cureLocalIntersections( start, triangles, dim ) {\\r\\n\\r\\n        var p = start;\\r\\n\\r\\n        do {\\r\\n\\r\\n            var a = p.prev, b = p.next.next;\\r\\n\\r\\n            if ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\\r\\n\\r\\n                triangles.push( a.i / dim );\\r\\n                triangles.push( p.i / dim );\\r\\n                triangles.push( b.i / dim );\\r\\n\\r\\n                // remove two nodes involved\\r\\n\\r\\n                removeNode( p );\\r\\n                removeNode( p.next );\\r\\n\\r\\n                p = start = b;\\r\\n\\r\\n            }\\r\\n\\r\\n            p = p.next;\\r\\n\\r\\n        } while ( p !== start );\\r\\n\\r\\n        return p;\\r\\n\\r\\n    }\\r\\n\\r\\n    // try splitting polygon into two and triangulate them independently\\r\\n\\r\\n    function splitEarcut( start, triangles, dim, minX, minY, invSize ) {\\r\\n\\r\\n        // look for a valid diagonal that divides the polygon into two\\r\\n\\r\\n        var a = start;\\r\\n\\r\\n        do {\\r\\n\\r\\n            var b = a.next.next;\\r\\n\\r\\n            while ( b !== a.prev ) {\\r\\n\\r\\n                if ( a.i !== b.i && isValidDiagonal( a, b ) ) {\\r\\n\\r\\n                    // split the polygon in two by the diagonal\\r\\n\\r\\n                    var c = splitPolygon( a, b );\\r\\n\\r\\n                    // filter colinear points around the cuts\\r\\n\\r\\n                    a = filterPoints( a, a.next );\\r\\n                    c = filterPoints( c, c.next );\\r\\n\\r\\n                    // run earcut on each half\\r\\n\\r\\n                    earcutLinked( a, triangles, dim, minX, minY, invSize );\\r\\n                    earcutLinked( c, triangles, dim, minX, minY, invSize );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n                b = b.next;\\r\\n\\r\\n            }\\r\\n\\r\\n            a = a.next;\\r\\n\\r\\n        } while ( a !== start );\\r\\n\\r\\n    }\\r\\n\\r\\n    // link every hole into the outer loop, producing a single-ring polygon without holes\\r\\n\\r\\n    function eliminateHoles( data, holeIndices, outerNode, dim ) {\\r\\n\\r\\n        var queue = [], i, len, start, end, list;\\r\\n\\r\\n        for ( i = 0, len = holeIndices.length; i < len; i ++ ) {\\r\\n\\r\\n            start = holeIndices[ i ] * dim;\\r\\n            end = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\\r\\n            list = linkedList( data, start, end, dim, false );\\r\\n            if ( list === list.next ) list.steiner = true;\\r\\n            queue.push( getLeftmost( list ) );\\r\\n\\r\\n        }\\r\\n\\r\\n        queue.sort( compareX );\\r\\n\\r\\n        // process holes from left to right\\r\\n\\r\\n        for ( i = 0; i < queue.length; i ++ ) {\\r\\n\\r\\n            eliminateHole( queue[ i ], outerNode );\\r\\n            outerNode = filterPoints( outerNode, outerNode.next );\\r\\n\\r\\n        }\\r\\n\\r\\n        return outerNode;\\r\\n\\r\\n    }\\r\\n\\r\\n    function compareX( a, b ) {\\r\\n\\r\\n        return a.x - b.x;\\r\\n\\r\\n    }\\r\\n\\r\\n    // find a bridge between vertices that connects hole with an outer ring and and link it\\r\\n\\r\\n    function eliminateHole( hole, outerNode ) {\\r\\n\\r\\n        outerNode = findHoleBridge( hole, outerNode );\\r\\n\\r\\n        if ( outerNode ) {\\r\\n\\r\\n            var b = splitPolygon( outerNode, hole );\\r\\n\\r\\n            filterPoints( b, b.next );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    // David Eberly's algorithm for finding a bridge between hole and outer polygon\\r\\n\\r\\n    function findHoleBridge( hole, outerNode ) {\\r\\n\\r\\n        var p = outerNode,\\r\\n            hx = hole.x,\\r\\n            hy = hole.y,\\r\\n            qx = - Infinity,\\r\\n            m;\\r\\n\\r\\n        // find a segment intersected by a ray from the hole's leftmost point to the left;\\r\\n        // segment's endpoint with lesser x will be potential connection point\\r\\n\\r\\n        do {\\r\\n\\r\\n            if ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\\r\\n\\r\\n                var x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\\r\\n\\r\\n                if ( x <= hx && x > qx ) {\\r\\n\\r\\n                    qx = x;\\r\\n\\r\\n                    if ( x === hx ) {\\r\\n\\r\\n                        if ( hy === p.y ) return p;\\r\\n                        if ( hy === p.next.y ) return p.next;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    m = p.x < p.next.x ? p : p.next;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            p = p.next;\\r\\n\\r\\n        } while ( p !== outerNode );\\r\\n\\r\\n        if ( ! m ) return null;\\r\\n\\r\\n        if ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\\r\\n\\r\\n        // look for points inside the triangle of hole point, segment intersection and endpoint;\\r\\n        // if there are no points found, we have a valid connection;\\r\\n        // otherwise choose the point of the minimum angle with the ray as connection point\\r\\n\\r\\n        var stop = m,\\r\\n            mx = m.x,\\r\\n            my = m.y,\\r\\n            tanMin = Infinity,\\r\\n            tan;\\r\\n\\r\\n        p = m.next;\\r\\n\\r\\n        while ( p !== stop ) {\\r\\n\\r\\n            if ( hx >= p.x && p.x >= mx && hx !== p.x &&\\r\\n                pointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\\r\\n\\r\\n                tan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\\r\\n\\r\\n                if ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\\r\\n\\r\\n                    m = p;\\r\\n                    tanMin = tan;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            p = p.next;\\r\\n\\r\\n        }\\r\\n\\r\\n        return m;\\r\\n\\r\\n    }\\r\\n\\r\\n    // interlink polygon nodes in z-order\\r\\n\\r\\n    function indexCurve( start, minX, minY, invSize ) {\\r\\n\\r\\n        var p = start;\\r\\n\\r\\n        do {\\r\\n\\r\\n            if ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\\r\\n            p.prevZ = p.prev;\\r\\n            p.nextZ = p.next;\\r\\n            p = p.next;\\r\\n\\r\\n        } while ( p !== start );\\r\\n\\r\\n        p.prevZ.nextZ = null;\\r\\n        p.prevZ = null;\\r\\n\\r\\n        sortLinked( p );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Simon Tatham's linked list merge sort algorithm\\r\\n    // http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\\r\\n\\r\\n    function sortLinked( list ) {\\r\\n\\r\\n        var i, p, q, e, tail, numMerges, pSize, qSize, inSize = 1;\\r\\n\\r\\n        do {\\r\\n\\r\\n            p = list;\\r\\n            list = null;\\r\\n            tail = null;\\r\\n            numMerges = 0;\\r\\n\\r\\n            while ( p ) {\\r\\n\\r\\n                numMerges ++;\\r\\n                q = p;\\r\\n                pSize = 0;\\r\\n\\r\\n                for ( i = 0; i < inSize; i ++ ) {\\r\\n\\r\\n                    pSize ++;\\r\\n                    q = q.nextZ;\\r\\n                    if ( ! q ) break;\\r\\n\\r\\n                }\\r\\n\\r\\n                qSize = inSize;\\r\\n\\r\\n                while ( pSize > 0 || ( qSize > 0 && q ) ) {\\r\\n\\r\\n                    if ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\\r\\n\\r\\n                        e = p;\\r\\n                        p = p.nextZ;\\r\\n                        pSize --;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        e = q;\\r\\n                        q = q.nextZ;\\r\\n                        qSize --;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( tail ) tail.nextZ = e;\\r\\n                    else list = e;\\r\\n\\r\\n                    e.prevZ = tail;\\r\\n                    tail = e;\\r\\n\\r\\n                }\\r\\n\\r\\n                p = q;\\r\\n\\r\\n            }\\r\\n\\r\\n            tail.nextZ = null;\\r\\n            inSize *= 2;\\r\\n\\r\\n        } while ( numMerges > 1 );\\r\\n\\r\\n        return list;\\r\\n\\r\\n    }\\r\\n\\r\\n    // z-order of a point given coords and inverse of the longer side of data bbox\\r\\n\\r\\n    function zOrder( x, y, minX, minY, invSize ) {\\r\\n\\r\\n        // coords are transformed into non-negative 15-bit integer range\\r\\n\\r\\n        x = 32767 * ( x - minX ) * invSize;\\r\\n        y = 32767 * ( y - minY ) * invSize;\\r\\n\\r\\n        x = ( x | ( x << 8 ) ) & 0x00FF00FF;\\r\\n        x = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\\r\\n        x = ( x | ( x << 2 ) ) & 0x33333333;\\r\\n        x = ( x | ( x << 1 ) ) & 0x55555555;\\r\\n\\r\\n        y = ( y | ( y << 8 ) ) & 0x00FF00FF;\\r\\n        y = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\\r\\n        y = ( y | ( y << 2 ) ) & 0x33333333;\\r\\n        y = ( y | ( y << 1 ) ) & 0x55555555;\\r\\n\\r\\n        return x | ( y << 1 );\\r\\n\\r\\n    }\\r\\n\\r\\n    // find the leftmost node of a polygon ring\\r\\n\\r\\n    function getLeftmost( start ) {\\r\\n\\r\\n        var p = start, leftmost = start;\\r\\n\\r\\n        do {\\r\\n\\r\\n            if ( p.x < leftmost.x ) leftmost = p;\\r\\n            p = p.next;\\r\\n\\r\\n        } while ( p !== start );\\r\\n\\r\\n        return leftmost;\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if a point lies within a convex triangle\\r\\n\\r\\n    function pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\\r\\n\\r\\n        return ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\\r\\n            ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\\r\\n            ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\\r\\n\\r\\n    function isValidDiagonal( a, b ) {\\r\\n\\r\\n        return a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\\r\\n            locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\\r\\n\\r\\n    }\\r\\n\\r\\n    // signed area of a triangle\\r\\n\\r\\n    function area( p, q, r ) {\\r\\n\\r\\n        return ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if two points are equal\\r\\n\\r\\n    function equals( p1, p2 ) {\\r\\n\\r\\n        return p1.x === p2.x && p1.y === p2.y;\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if two segments intersect\\r\\n\\r\\n    function intersects( p1, q1, p2, q2 ) {\\r\\n\\r\\n        if ( ( equals( p1, q1 ) && equals( p2, q2 ) ) ||\\r\\n            ( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\\r\\n\\r\\n        return area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\\r\\n            area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if a polygon diagonal intersects any polygon segments\\r\\n\\r\\n    function intersectsPolygon( a, b ) {\\r\\n\\r\\n        var p = a;\\r\\n\\r\\n        do {\\r\\n\\r\\n            if ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\\r\\n                intersects( p, p.next, a, b ) ) {\\r\\n\\r\\n                return true;\\r\\n\\r\\n            }\\r\\n\\r\\n            p = p.next;\\r\\n\\r\\n        } while ( p !== a );\\r\\n\\r\\n        return false;\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if a polygon diagonal is locally inside the polygon\\r\\n\\r\\n    function locallyInside( a, b ) {\\r\\n\\r\\n        return area( a.prev, a, a.next ) < 0 ?\\r\\n            area( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\\r\\n            area( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    // check if the middle point of a polygon diagonal is inside the polygon\\r\\n\\r\\n    function middleInside( a, b ) {\\r\\n\\r\\n        var p = a,\\r\\n            inside = false,\\r\\n            px = ( a.x + b.x ) / 2,\\r\\n            py = ( a.y + b.y ) / 2;\\r\\n\\r\\n        do {\\r\\n\\r\\n            if ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\\r\\n                ( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) ) {\\r\\n\\r\\n                inside = ! inside;\\r\\n\\r\\n            }\\r\\n\\r\\n            p = p.next;\\r\\n\\r\\n        } while ( p !== a );\\r\\n\\r\\n        return inside;\\r\\n\\r\\n    }\\r\\n\\r\\n    // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\\r\\n    // if one belongs to the outer ring and another to a hole, it merges it into a single ring\\r\\n\\r\\n    function splitPolygon( a, b ) {\\r\\n\\r\\n        var a2 = new Node( a.i, a.x, a.y ),\\r\\n            b2 = new Node( b.i, b.x, b.y ),\\r\\n            an = a.next,\\r\\n            bp = b.prev;\\r\\n\\r\\n        a.next = b;\\r\\n        b.prev = a;\\r\\n\\r\\n        a2.next = an;\\r\\n        an.prev = a2;\\r\\n\\r\\n        b2.next = a2;\\r\\n        a2.prev = b2;\\r\\n\\r\\n        bp.next = b2;\\r\\n        b2.prev = bp;\\r\\n\\r\\n        return b2;\\r\\n\\r\\n    }\\r\\n\\r\\n    // create a node and optionally link it with previous one (in a circular doubly linked list)\\r\\n\\r\\n    function insertNode( i, x, y, last ) {\\r\\n\\r\\n        var p = new Node( i, x, y );\\r\\n\\r\\n        if ( ! last ) {\\r\\n\\r\\n            p.prev = p;\\r\\n            p.next = p;\\r\\n\\r\\n        } else {\\r\\n\\r\\n            p.next = last.next;\\r\\n            p.prev = last;\\r\\n            last.next.prev = p;\\r\\n            last.next = p;\\r\\n\\r\\n        }\\r\\n\\r\\n        return p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function removeNode( p ) {\\r\\n\\r\\n        p.next.prev = p.prev;\\r\\n        p.prev.next = p.next;\\r\\n\\r\\n        if ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\\r\\n        if ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\\r\\n\\r\\n    }\\r\\n\\r\\n    function Node( i, x, y ) {\\r\\n\\r\\n        // vertice index in coordinates array\\r\\n        this.i = i;\\r\\n\\r\\n        // vertex coordinates\\r\\n        this.x = x;\\r\\n        this.y = y;\\r\\n\\r\\n        // previous and next vertice nodes in a polygon ring\\r\\n        this.prev = null;\\r\\n        this.next = null;\\r\\n\\r\\n        // z-order curve value\\r\\n        this.z = null;\\r\\n\\r\\n        // previous and next nodes in z-order\\r\\n        this.prevZ = null;\\r\\n        this.nextZ = null;\\r\\n\\r\\n        // indicates whether this is a steiner point\\r\\n        this.steiner = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    function signedArea( data, start, end, dim ) {\\r\\n\\r\\n        var sum = 0;\\r\\n\\r\\n        for ( var i = start, j = end - dim; i < end; i += dim ) {\\r\\n\\r\\n            sum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\\r\\n            j = i;\\r\\n\\r\\n        }\\r\\n\\r\\n        return sum;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     */\\r\\n\\r\\n    var ShapeUtils = {\\r\\n\\r\\n        // calculate area of the contour polygon\\r\\n\\r\\n        area: function ( contour ) {\\r\\n\\r\\n            var n = contour.length;\\r\\n            var a = 0.0;\\r\\n\\r\\n            for ( var p = n - 1, q = 0; q < n; p = q ++ ) {\\r\\n\\r\\n                a += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\\r\\n\\r\\n            }\\r\\n\\r\\n            return a * 0.5;\\r\\n\\r\\n        },\\r\\n\\r\\n        isClockWise: function ( pts ) {\\r\\n\\r\\n            return ShapeUtils.area( pts ) < 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        triangulateShape: function ( contour, holes ) {\\r\\n\\r\\n            var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\\r\\n            var holeIndices = []; // array of hole indices\\r\\n            var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\\r\\n\\r\\n            removeDupEndPts( contour );\\r\\n            addContour( vertices, contour );\\r\\n\\r\\n            //\\r\\n\\r\\n            var holeIndex = contour.length;\\r\\n\\r\\n            holes.forEach( removeDupEndPts );\\r\\n\\r\\n            for ( var i = 0; i < holes.length; i ++ ) {\\r\\n\\r\\n                holeIndices.push( holeIndex );\\r\\n                holeIndex += holes[ i ].length;\\r\\n                addContour( vertices, holes[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            var triangles = Earcut.triangulate( vertices, holeIndices );\\r\\n\\r\\n            //\\r\\n\\r\\n            for ( var i = 0; i < triangles.length; i += 3 ) {\\r\\n\\r\\n                faces.push( triangles.slice( i, i + 3 ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return faces;\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    function removeDupEndPts( points ) {\\r\\n\\r\\n        var l = points.length;\\r\\n\\r\\n        if ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\\r\\n\\r\\n            points.pop();\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function addContour( vertices, contour ) {\\r\\n\\r\\n        for ( var i = 0; i < contour.length; i ++ ) {\\r\\n\\r\\n            vertices.push( contour[ i ].x );\\r\\n            vertices.push( contour[ i ].y );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     *\\r\\n     * Creates extruded geometry from a path shape.\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *\\r\\n\\t *  curveSegments: <int>, // number of points on the curves\\r\\n\\t *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\\r\\n\\t *  depth: <float>, // Depth to extrude the shape\\r\\n\\t *\\r\\n\\t *  bevelEnabled: <bool>, // turn on bevel\\r\\n\\t *  bevelThickness: <float>, // how deep into the original shape bevel goes\\r\\n\\t *  bevelSize: <float>, // how far from shape outline is bevel\\r\\n\\t *  bevelSegments: <int>, // number of bevel layers\\r\\n\\t *\\r\\n\\t *  extrudePath: <THREE.Curve> // curve to extrude shape along\\r\\n\\t *\\r\\n\\t *  UVGenerator: <Object> // object that provides UV generator functions\\r\\n\\t *\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    // ExtrudeGeometry\\r\\n\\r\\n    function ExtrudeGeometry( shapes, options ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'ExtrudeGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            shapes: shapes,\\r\\n            options: options\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    ExtrudeGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    ExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\\r\\n\\r\\n    ExtrudeGeometry.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Geometry.prototype.toJSON.call( this );\\r\\n\\r\\n        var shapes = this.parameters.shapes;\\r\\n        var options = this.parameters.options;\\r\\n\\r\\n        return toJSON( shapes, options, data );\\r\\n\\r\\n    };\\r\\n\\r\\n    // ExtrudeBufferGeometry\\r\\n\\r\\n    function ExtrudeBufferGeometry( shapes, options ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'ExtrudeBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            shapes: shapes,\\r\\n            options: options\\r\\n        };\\r\\n\\r\\n        shapes = Array.isArray( shapes ) ? shapes : [ shapes ];\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        var verticesArray = [];\\r\\n        var uvArray = [];\\r\\n\\r\\n        for ( var i = 0, l = shapes.length; i < l; i ++ ) {\\r\\n\\r\\n            var shape = shapes[ i ];\\r\\n            addShape( shape );\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\\r\\n\\r\\n        this.computeVertexNormals();\\r\\n\\r\\n        // functions\\r\\n\\r\\n        function addShape( shape ) {\\r\\n\\r\\n            var placeholder = [];\\r\\n\\r\\n            // options\\r\\n\\r\\n            var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\\r\\n            var steps = options.steps !== undefined ? options.steps : 1;\\r\\n            var depth = options.depth !== undefined ? options.depth : 100;\\r\\n\\r\\n            var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\\r\\n            var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\\r\\n            var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\\r\\n            var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\\r\\n\\r\\n            var extrudePath = options.extrudePath;\\r\\n\\r\\n            var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\\r\\n\\r\\n            // deprecated options\\r\\n\\r\\n            if ( options.amount !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\\r\\n                depth = options.amount;\\r\\n\\r\\n            }\\r\\n\\r\\n            //\\r\\n\\r\\n            var extrudePts, extrudeByPath = false;\\r\\n            var splineTube, binormal, normal, position2;\\r\\n\\r\\n            if ( extrudePath ) {\\r\\n\\r\\n                extrudePts = extrudePath.getSpacedPoints( steps );\\r\\n\\r\\n                extrudeByPath = true;\\r\\n                bevelEnabled = false; // bevels not supported for path extrusion\\r\\n\\r\\n                // SETUP TNB variables\\r\\n\\r\\n                // TODO1 - have a .isClosed in spline?\\r\\n\\r\\n                splineTube = extrudePath.computeFrenetFrames( steps, false );\\r\\n\\r\\n                // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\\r\\n\\r\\n                binormal = new Vector3();\\r\\n                normal = new Vector3();\\r\\n                position2 = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            // Safeguards if bevels are not enabled\\r\\n\\r\\n            if ( ! bevelEnabled ) {\\r\\n\\r\\n                bevelSegments = 0;\\r\\n                bevelThickness = 0;\\r\\n                bevelSize = 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            // Variables initialization\\r\\n\\r\\n            var ahole, h, hl; // looping of holes\\r\\n\\r\\n            var shapePoints = shape.extractPoints( curveSegments );\\r\\n\\r\\n            var vertices = shapePoints.shape;\\r\\n            var holes = shapePoints.holes;\\r\\n\\r\\n            var reverse = ! ShapeUtils.isClockWise( vertices );\\r\\n\\r\\n            if ( reverse ) {\\r\\n\\r\\n                vertices = vertices.reverse();\\r\\n\\r\\n                // Maybe we should also check if holes are in the opposite direction, just to be safe ...\\r\\n\\r\\n                for ( h = 0, hl = holes.length; h < hl; h ++ ) {\\r\\n\\r\\n                    ahole = holes[ h ];\\r\\n\\r\\n                    if ( ShapeUtils.isClockWise( ahole ) ) {\\r\\n\\r\\n                        holes[ h ] = ahole.reverse();\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            var faces = ShapeUtils.triangulateShape( vertices, holes );\\r\\n\\r\\n            /* Vertices */\\r\\n\\r\\n            var contour = vertices; // vertices has all points but contour has only points of circumference\\r\\n\\r\\n            for ( h = 0, hl = holes.length; h < hl; h ++ ) {\\r\\n\\r\\n                ahole = holes[ h ];\\r\\n\\r\\n                vertices = vertices.concat( ahole );\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            function scalePt2( pt, vec, size ) {\\r\\n\\r\\n                if ( ! vec ) console.error( \\\"THREE.ExtrudeGeometry: vec does not exist\\\" );\\r\\n\\r\\n                return vec.clone().multiplyScalar( size ).add( pt );\\r\\n\\r\\n            }\\r\\n\\r\\n            var b, bs, t, z,\\r\\n                vert, vlen = vertices.length,\\r\\n                face, flen = faces.length;\\r\\n\\r\\n\\r\\n            // Find directions for point movement\\r\\n\\r\\n\\r\\n            function getBevelVec( inPt, inPrev, inNext ) {\\r\\n\\r\\n                // computes for inPt the corresponding point inPt' on a new contour\\r\\n                //   shifted by 1 unit (length of normalized vector) to the left\\r\\n                // if we walk along contour clockwise, this new contour is outside the old one\\r\\n                //\\r\\n                // inPt' is the intersection of the two lines parallel to the two\\r\\n                //  adjacent edges of inPt at a distance of 1 unit on the left side.\\r\\n\\r\\n                var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\\r\\n\\r\\n                // good reading for geometry algorithms (here: line-line intersection)\\r\\n                // http://geomalgorithms.com/a05-_intersect-1.html\\r\\n\\r\\n                var v_prev_x = inPt.x - inPrev.x,\\r\\n                    v_prev_y = inPt.y - inPrev.y;\\r\\n                var v_next_x = inNext.x - inPt.x,\\r\\n                    v_next_y = inNext.y - inPt.y;\\r\\n\\r\\n                var v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\\r\\n\\r\\n                // check for collinear edges\\r\\n                var collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\\r\\n\\r\\n                if ( Math.abs( collinear0 ) > Number.EPSILON ) {\\r\\n\\r\\n                    // not collinear\\r\\n\\r\\n                    // length of vectors for normalizing\\r\\n\\r\\n                    var v_prev_len = Math.sqrt( v_prev_lensq );\\r\\n                    var v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\\r\\n\\r\\n                    // shift adjacent points by unit vectors to the left\\r\\n\\r\\n                    var ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\\r\\n                    var ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\\r\\n\\r\\n                    var ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\\r\\n                    var ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\\r\\n\\r\\n                    // scaling factor for v_prev to intersection point\\r\\n\\r\\n                    var sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\\r\\n                        ( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\\r\\n                        ( v_prev_x * v_next_y - v_prev_y * v_next_x );\\r\\n\\r\\n                    // vector from inPt to intersection point\\r\\n\\r\\n                    v_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\\r\\n                    v_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\\r\\n\\r\\n                    // Don't normalize!, otherwise sharp corners become ugly\\r\\n                    //  but prevent crazy spikes\\r\\n                    var v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\\r\\n                    if ( v_trans_lensq <= 2 ) {\\r\\n\\r\\n                        return new Vector2( v_trans_x, v_trans_y );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        shrink_by = Math.sqrt( v_trans_lensq / 2 );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // handle special case of collinear edges\\r\\n\\r\\n                    var direction_eq = false; // assumes: opposite\\r\\n                    if ( v_prev_x > Number.EPSILON ) {\\r\\n\\r\\n                        if ( v_next_x > Number.EPSILON ) {\\r\\n\\r\\n                            direction_eq = true;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        if ( v_prev_x < - Number.EPSILON ) {\\r\\n\\r\\n                            if ( v_next_x < - Number.EPSILON ) {\\r\\n\\r\\n                                direction_eq = true;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            if ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\\r\\n\\r\\n                                direction_eq = true;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( direction_eq ) {\\r\\n\\r\\n                        // console.log(\\\"Warning: lines are a straight sequence\\\");\\r\\n                        v_trans_x = - v_prev_y;\\r\\n                        v_trans_y = v_prev_x;\\r\\n                        shrink_by = Math.sqrt( v_prev_lensq );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // console.log(\\\"Warning: lines are a straight spike\\\");\\r\\n                        v_trans_x = v_prev_x;\\r\\n                        v_trans_y = v_prev_y;\\r\\n                        shrink_by = Math.sqrt( v_prev_lensq / 2 );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            var contourMovements = [];\\r\\n\\r\\n            for ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\\r\\n\\r\\n                if ( j === il ) j = 0;\\r\\n                if ( k === il ) k = 0;\\r\\n\\r\\n                //  (j)---(i)---(k)\\r\\n                // console.log('i,j,k', i, j , k)\\r\\n\\r\\n                contourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            var holesMovements = [],\\r\\n                oneHoleMovements, verticesMovements = contourMovements.concat();\\r\\n\\r\\n            for ( h = 0, hl = holes.length; h < hl; h ++ ) {\\r\\n\\r\\n                ahole = holes[ h ];\\r\\n\\r\\n                oneHoleMovements = [];\\r\\n\\r\\n                for ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\\r\\n\\r\\n                    if ( j === il ) j = 0;\\r\\n                    if ( k === il ) k = 0;\\r\\n\\r\\n                    //  (j)---(i)---(k)\\r\\n                    oneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                holesMovements.push( oneHoleMovements );\\r\\n                verticesMovements = verticesMovements.concat( oneHoleMovements );\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            // Loop bevelSegments, 1 for the front, 1 for the back\\r\\n\\r\\n            for ( b = 0; b < bevelSegments; b ++ ) {\\r\\n\\r\\n                //for ( b = bevelSegments; b > 0; b -- ) {\\r\\n\\r\\n                t = b / bevelSegments;\\r\\n                z = bevelThickness * Math.cos( t * Math.PI / 2 );\\r\\n                bs = bevelSize * Math.sin( t * Math.PI / 2 );\\r\\n\\r\\n                // contract shape\\r\\n\\r\\n                for ( i = 0, il = contour.length; i < il; i ++ ) {\\r\\n\\r\\n                    vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\\r\\n\\r\\n                    v( vert.x, vert.y, - z );\\r\\n\\r\\n                }\\r\\n\\r\\n                // expand holes\\r\\n\\r\\n                for ( h = 0, hl = holes.length; h < hl; h ++ ) {\\r\\n\\r\\n                    ahole = holes[ h ];\\r\\n                    oneHoleMovements = holesMovements[ h ];\\r\\n\\r\\n                    for ( i = 0, il = ahole.length; i < il; i ++ ) {\\r\\n\\r\\n                        vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\\r\\n\\r\\n                        v( vert.x, vert.y, - z );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            bs = bevelSize;\\r\\n\\r\\n            // Back facing vertices\\r\\n\\r\\n            for ( i = 0; i < vlen; i ++ ) {\\r\\n\\r\\n                vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\\r\\n\\r\\n                if ( ! extrudeByPath ) {\\r\\n\\r\\n                    v( vert.x, vert.y, 0 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\\r\\n\\r\\n                    normal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\\r\\n                    binormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\\r\\n\\r\\n                    position2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\\r\\n\\r\\n                    v( position2.x, position2.y, position2.z );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // Add stepped vertices...\\r\\n            // Including front facing vertices\\r\\n\\r\\n            var s;\\r\\n\\r\\n            for ( s = 1; s <= steps; s ++ ) {\\r\\n\\r\\n                for ( i = 0; i < vlen; i ++ ) {\\r\\n\\r\\n                    vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\\r\\n\\r\\n                    if ( ! extrudeByPath ) {\\r\\n\\r\\n                        v( vert.x, vert.y, depth / steps * s );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\\r\\n\\r\\n                        normal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\\r\\n                        binormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\\r\\n\\r\\n                        position2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\\r\\n\\r\\n                        v( position2.x, position2.y, position2.z );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            // Add bevel segments planes\\r\\n\\r\\n            //for ( b = 1; b <= bevelSegments; b ++ ) {\\r\\n            for ( b = bevelSegments - 1; b >= 0; b -- ) {\\r\\n\\r\\n                t = b / bevelSegments;\\r\\n                z = bevelThickness * Math.cos( t * Math.PI / 2 );\\r\\n                bs = bevelSize * Math.sin( t * Math.PI / 2 );\\r\\n\\r\\n                // contract shape\\r\\n\\r\\n                for ( i = 0, il = contour.length; i < il; i ++ ) {\\r\\n\\r\\n                    vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\\r\\n                    v( vert.x, vert.y, depth + z );\\r\\n\\r\\n                }\\r\\n\\r\\n                // expand holes\\r\\n\\r\\n                for ( h = 0, hl = holes.length; h < hl; h ++ ) {\\r\\n\\r\\n                    ahole = holes[ h ];\\r\\n                    oneHoleMovements = holesMovements[ h ];\\r\\n\\r\\n                    for ( i = 0, il = ahole.length; i < il; i ++ ) {\\r\\n\\r\\n                        vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\\r\\n\\r\\n                        if ( ! extrudeByPath ) {\\r\\n\\r\\n                            v( vert.x, vert.y, depth + z );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            v( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            /* Faces */\\r\\n\\r\\n            // Top and bottom faces\\r\\n\\r\\n            buildLidFaces();\\r\\n\\r\\n            // Sides faces\\r\\n\\r\\n            buildSideFaces();\\r\\n\\r\\n\\r\\n            /////  Internal functions\\r\\n\\r\\n            function buildLidFaces() {\\r\\n\\r\\n                var start = verticesArray.length / 3;\\r\\n\\r\\n                if ( bevelEnabled ) {\\r\\n\\r\\n                    var layer = 0; // steps + 1\\r\\n                    var offset = vlen * layer;\\r\\n\\r\\n                    // Bottom faces\\r\\n\\r\\n                    for ( i = 0; i < flen; i ++ ) {\\r\\n\\r\\n                        face = faces[ i ];\\r\\n                        f3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    layer = steps + bevelSegments * 2;\\r\\n                    offset = vlen * layer;\\r\\n\\r\\n                    // Top faces\\r\\n\\r\\n                    for ( i = 0; i < flen; i ++ ) {\\r\\n\\r\\n                        face = faces[ i ];\\r\\n                        f3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // Bottom faces\\r\\n\\r\\n                    for ( i = 0; i < flen; i ++ ) {\\r\\n\\r\\n                        face = faces[ i ];\\r\\n                        f3( face[ 2 ], face[ 1 ], face[ 0 ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    // Top faces\\r\\n\\r\\n                    for ( i = 0; i < flen; i ++ ) {\\r\\n\\r\\n                        face = faces[ i ];\\r\\n                        f3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                scope.addGroup( start, verticesArray.length / 3 - start, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            // Create faces for the z-sides of the shape\\r\\n\\r\\n            function buildSideFaces() {\\r\\n\\r\\n                var start = verticesArray.length / 3;\\r\\n                var layeroffset = 0;\\r\\n                sidewalls( contour, layeroffset );\\r\\n                layeroffset += contour.length;\\r\\n\\r\\n                for ( h = 0, hl = holes.length; h < hl; h ++ ) {\\r\\n\\r\\n                    ahole = holes[ h ];\\r\\n                    sidewalls( ahole, layeroffset );\\r\\n\\r\\n                    //, true\\r\\n                    layeroffset += ahole.length;\\r\\n\\r\\n                }\\r\\n\\r\\n\\r\\n                scope.addGroup( start, verticesArray.length / 3 - start, 1 );\\r\\n\\r\\n\\r\\n            }\\r\\n\\r\\n            function sidewalls( contour, layeroffset ) {\\r\\n\\r\\n                var j, k;\\r\\n                i = contour.length;\\r\\n\\r\\n                while ( -- i >= 0 ) {\\r\\n\\r\\n                    j = i;\\r\\n                    k = i - 1;\\r\\n                    if ( k < 0 ) k = contour.length - 1;\\r\\n\\r\\n                    //console.log('b', i,j, i-1, k,vertices.length);\\r\\n\\r\\n                    var s = 0,\\r\\n                        sl = steps + bevelSegments * 2;\\r\\n\\r\\n                    for ( s = 0; s < sl; s ++ ) {\\r\\n\\r\\n                        var slen1 = vlen * s;\\r\\n                        var slen2 = vlen * ( s + 1 );\\r\\n\\r\\n                        var a = layeroffset + j + slen1,\\r\\n                            b = layeroffset + k + slen1,\\r\\n                            c = layeroffset + k + slen2,\\r\\n                            d = layeroffset + j + slen2;\\r\\n\\r\\n                        f4( a, b, c, d );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            function v( x, y, z ) {\\r\\n\\r\\n                placeholder.push( x );\\r\\n                placeholder.push( y );\\r\\n                placeholder.push( z );\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            function f3( a, b, c ) {\\r\\n\\r\\n                addVertex( a );\\r\\n                addVertex( b );\\r\\n                addVertex( c );\\r\\n\\r\\n                var nextIndex = verticesArray.length / 3;\\r\\n                var uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\\r\\n\\r\\n                addUV( uvs[ 0 ] );\\r\\n                addUV( uvs[ 1 ] );\\r\\n                addUV( uvs[ 2 ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            function f4( a, b, c, d ) {\\r\\n\\r\\n                addVertex( a );\\r\\n                addVertex( b );\\r\\n                addVertex( d );\\r\\n\\r\\n                addVertex( b );\\r\\n                addVertex( c );\\r\\n                addVertex( d );\\r\\n\\r\\n\\r\\n                var nextIndex = verticesArray.length / 3;\\r\\n                var uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\\r\\n\\r\\n                addUV( uvs[ 0 ] );\\r\\n                addUV( uvs[ 1 ] );\\r\\n                addUV( uvs[ 3 ] );\\r\\n\\r\\n                addUV( uvs[ 1 ] );\\r\\n                addUV( uvs[ 2 ] );\\r\\n                addUV( uvs[ 3 ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            function addVertex( index ) {\\r\\n\\r\\n                verticesArray.push( placeholder[ index * 3 + 0 ] );\\r\\n                verticesArray.push( placeholder[ index * 3 + 1 ] );\\r\\n                verticesArray.push( placeholder[ index * 3 + 2 ] );\\r\\n\\r\\n            }\\r\\n\\r\\n\\r\\n            function addUV( vector2 ) {\\r\\n\\r\\n                uvArray.push( vector2.x );\\r\\n                uvArray.push( vector2.y );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    ExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    ExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\\r\\n\\r\\n    ExtrudeBufferGeometry.prototype.toJSON = function () {\\r\\n\\r\\n        var data = BufferGeometry.prototype.toJSON.call( this );\\r\\n\\r\\n        var shapes = this.parameters.shapes;\\r\\n        var options = this.parameters.options;\\r\\n\\r\\n        return toJSON( shapes, options, data );\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    var WorldUVGenerator = {\\r\\n\\r\\n        generateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\\r\\n\\r\\n            var a_x = vertices[ indexA * 3 ];\\r\\n            var a_y = vertices[ indexA * 3 + 1 ];\\r\\n            var b_x = vertices[ indexB * 3 ];\\r\\n            var b_y = vertices[ indexB * 3 + 1 ];\\r\\n            var c_x = vertices[ indexC * 3 ];\\r\\n            var c_y = vertices[ indexC * 3 + 1 ];\\r\\n\\r\\n            return [\\r\\n                new Vector2( a_x, a_y ),\\r\\n                new Vector2( b_x, b_y ),\\r\\n                new Vector2( c_x, c_y )\\r\\n            ];\\r\\n\\r\\n        },\\r\\n\\r\\n        generateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\\r\\n\\r\\n            var a_x = vertices[ indexA * 3 ];\\r\\n            var a_y = vertices[ indexA * 3 + 1 ];\\r\\n            var a_z = vertices[ indexA * 3 + 2 ];\\r\\n            var b_x = vertices[ indexB * 3 ];\\r\\n            var b_y = vertices[ indexB * 3 + 1 ];\\r\\n            var b_z = vertices[ indexB * 3 + 2 ];\\r\\n            var c_x = vertices[ indexC * 3 ];\\r\\n            var c_y = vertices[ indexC * 3 + 1 ];\\r\\n            var c_z = vertices[ indexC * 3 + 2 ];\\r\\n            var d_x = vertices[ indexD * 3 ];\\r\\n            var d_y = vertices[ indexD * 3 + 1 ];\\r\\n            var d_z = vertices[ indexD * 3 + 2 ];\\r\\n\\r\\n            if ( Math.abs( a_y - b_y ) < 0.01 ) {\\r\\n\\r\\n                return [\\r\\n                    new Vector2( a_x, 1 - a_z ),\\r\\n                    new Vector2( b_x, 1 - b_z ),\\r\\n                    new Vector2( c_x, 1 - c_z ),\\r\\n                    new Vector2( d_x, 1 - d_z )\\r\\n                ];\\r\\n\\r\\n            } else {\\r\\n\\r\\n                return [\\r\\n                    new Vector2( a_y, 1 - a_z ),\\r\\n                    new Vector2( b_y, 1 - b_z ),\\r\\n                    new Vector2( c_y, 1 - c_z ),\\r\\n                    new Vector2( d_y, 1 - d_z )\\r\\n                ];\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n    };\\r\\n\\r\\n    function toJSON( shapes, options, data ) {\\r\\n\\r\\n        //\\r\\n\\r\\n        data.shapes = [];\\r\\n\\r\\n        if ( Array.isArray( shapes ) ) {\\r\\n\\r\\n            for ( var i = 0, l = shapes.length; i < l; i ++ ) {\\r\\n\\r\\n                var shape = shapes[ i ];\\r\\n\\r\\n                data.shapes.push( shape.uuid );\\r\\n\\r\\n            }\\r\\n\\r\\n        } else {\\r\\n\\r\\n            data.shapes.push( shapes.uuid );\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        if ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * Text = 3D Text\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  font: <THREE.Font>, // font\\r\\n\\t *\\r\\n\\t *  size: <float>, // size of the text\\r\\n\\t *  height: <float>, // thickness to extrude text\\r\\n\\t *  curveSegments: <int>, // number of points on the curves\\r\\n\\t *\\r\\n\\t *  bevelEnabled: <bool>, // turn on bevel\\r\\n\\t *  bevelThickness: <float>, // how deep into text bevel goes\\r\\n\\t *  bevelSize: <float> // how far from text outline is bevel\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    // TextGeometry\\r\\n\\r\\n    function TextGeometry( text, parameters ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'TextGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            text: text,\\r\\n            parameters: parameters\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    TextGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    TextGeometry.prototype.constructor = TextGeometry;\\r\\n\\r\\n    // TextBufferGeometry\\r\\n\\r\\n    function TextBufferGeometry( text, parameters ) {\\r\\n\\r\\n        parameters = parameters || {};\\r\\n\\r\\n        var font = parameters.font;\\r\\n\\r\\n        if ( ! ( font && font.isFont ) ) {\\r\\n\\r\\n            console.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\\r\\n            return new Geometry();\\r\\n\\r\\n        }\\r\\n\\r\\n        var shapes = font.generateShapes( text, parameters.size );\\r\\n\\r\\n        // translate parameters to ExtrudeGeometry API\\r\\n\\r\\n        parameters.depth = parameters.height !== undefined ? parameters.height : 50;\\r\\n\\r\\n        // defaults\\r\\n\\r\\n        if ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\\r\\n        if ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\\r\\n        if ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\\r\\n\\r\\n        ExtrudeBufferGeometry.call( this, shapes, parameters );\\r\\n\\r\\n        this.type = 'TextBufferGeometry';\\r\\n\\r\\n    }\\r\\n\\r\\n    TextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\\r\\n    TextBufferGeometry.prototype.constructor = TextBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // SphereGeometry\\r\\n\\r\\n    function SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'SphereGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            widthSegments: widthSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            phiStart: phiStart,\\r\\n            phiLength: phiLength,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    SphereGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    SphereGeometry.prototype.constructor = SphereGeometry;\\r\\n\\r\\n    // SphereBufferGeometry\\r\\n\\r\\n    function SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'SphereBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            widthSegments: widthSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            phiStart: phiStart,\\r\\n            phiLength: phiLength,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        radius = radius || 1;\\r\\n\\r\\n        widthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\\r\\n        heightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\\r\\n\\r\\n        phiStart = phiStart !== undefined ? phiStart : 0;\\r\\n        phiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\\r\\n\\r\\n        thetaStart = thetaStart !== undefined ? thetaStart : 0;\\r\\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\\r\\n\\r\\n        var thetaEnd = thetaStart + thetaLength;\\r\\n\\r\\n        var ix, iy;\\r\\n\\r\\n        var index = 0;\\r\\n        var grid = [];\\r\\n\\r\\n        var vertex = new Vector3();\\r\\n        var normal = new Vector3();\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // generate vertices, normals and uvs\\r\\n\\r\\n        for ( iy = 0; iy <= heightSegments; iy ++ ) {\\r\\n\\r\\n            var verticesRow = [];\\r\\n\\r\\n            var v = iy / heightSegments;\\r\\n\\r\\n            for ( ix = 0; ix <= widthSegments; ix ++ ) {\\r\\n\\r\\n                var u = ix / widthSegments;\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\\r\\n                vertex.y = radius * Math.cos( thetaStart + v * thetaLength );\\r\\n                vertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                normal.set( vertex.x, vertex.y, vertex.z ).normalize();\\r\\n                normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uvs.push( u, 1 - v );\\r\\n\\r\\n                verticesRow.push( index ++ );\\r\\n\\r\\n            }\\r\\n\\r\\n            grid.push( verticesRow );\\r\\n\\r\\n        }\\r\\n\\r\\n        // indices\\r\\n\\r\\n        for ( iy = 0; iy < heightSegments; iy ++ ) {\\r\\n\\r\\n            for ( ix = 0; ix < widthSegments; ix ++ ) {\\r\\n\\r\\n                var a = grid[ iy ][ ix + 1 ];\\r\\n                var b = grid[ iy ][ ix ];\\r\\n                var c = grid[ iy + 1 ][ ix ];\\r\\n                var d = grid[ iy + 1 ][ ix + 1 ];\\r\\n\\r\\n                if ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\\r\\n                if ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    SphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    SphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author Kaleb Murphy\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // RingGeometry\\r\\n\\r\\n    function RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'RingGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            innerRadius: innerRadius,\\r\\n            outerRadius: outerRadius,\\r\\n            thetaSegments: thetaSegments,\\r\\n            phiSegments: phiSegments,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    RingGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    RingGeometry.prototype.constructor = RingGeometry;\\r\\n\\r\\n    // RingBufferGeometry\\r\\n\\r\\n    function RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'RingBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            innerRadius: innerRadius,\\r\\n            outerRadius: outerRadius,\\r\\n            thetaSegments: thetaSegments,\\r\\n            phiSegments: phiSegments,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        innerRadius = innerRadius || 0.5;\\r\\n        outerRadius = outerRadius || 1;\\r\\n\\r\\n        thetaStart = thetaStart !== undefined ? thetaStart : 0;\\r\\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\\r\\n\\r\\n        thetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\\r\\n        phiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // some helper variables\\r\\n\\r\\n        var segment;\\r\\n        var radius = innerRadius;\\r\\n        var radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\\r\\n        var vertex = new Vector3();\\r\\n        var uv = new Vector2();\\r\\n        var j, i;\\r\\n\\r\\n        // generate vertices, normals and uvs\\r\\n\\r\\n        for ( j = 0; j <= phiSegments; j ++ ) {\\r\\n\\r\\n            for ( i = 0; i <= thetaSegments; i ++ ) {\\r\\n\\r\\n                // values are generate from the inside of the ring to the outside\\r\\n\\r\\n                segment = thetaStart + i / thetaSegments * thetaLength;\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertex.x = radius * Math.cos( segment );\\r\\n                vertex.y = radius * Math.sin( segment );\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                normals.push( 0, 0, 1 );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uv.x = ( vertex.x / outerRadius + 1 ) / 2;\\r\\n                uv.y = ( vertex.y / outerRadius + 1 ) / 2;\\r\\n\\r\\n                uvs.push( uv.x, uv.y );\\r\\n\\r\\n            }\\r\\n\\r\\n            // increase the radius for next row of vertices\\r\\n\\r\\n            radius += radiusStep;\\r\\n\\r\\n        }\\r\\n\\r\\n        // indices\\r\\n\\r\\n        for ( j = 0; j < phiSegments; j ++ ) {\\r\\n\\r\\n            var thetaSegmentLevel = j * ( thetaSegments + 1 );\\r\\n\\r\\n            for ( i = 0; i < thetaSegments; i ++ ) {\\r\\n\\r\\n                segment = i + thetaSegmentLevel;\\r\\n\\r\\n                var a = segment;\\r\\n                var b = segment + thetaSegments + 1;\\r\\n                var c = segment + thetaSegments + 2;\\r\\n                var d = segment + 1;\\r\\n\\r\\n                // faces\\r\\n\\r\\n                indices.push( a, b, d );\\r\\n                indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    RingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    RingBufferGeometry.prototype.constructor = RingBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / https://github.com/zz85\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // LatheGeometry\\r\\n\\r\\n    function LatheGeometry( points, segments, phiStart, phiLength ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'LatheGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            points: points,\\r\\n            segments: segments,\\r\\n            phiStart: phiStart,\\r\\n            phiLength: phiLength\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    LatheGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    LatheGeometry.prototype.constructor = LatheGeometry;\\r\\n\\r\\n    // LatheBufferGeometry\\r\\n\\r\\n    function LatheBufferGeometry( points, segments, phiStart, phiLength ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'LatheBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            points: points,\\r\\n            segments: segments,\\r\\n            phiStart: phiStart,\\r\\n            phiLength: phiLength\\r\\n        };\\r\\n\\r\\n        segments = Math.floor( segments ) || 12;\\r\\n        phiStart = phiStart || 0;\\r\\n        phiLength = phiLength || Math.PI * 2;\\r\\n\\r\\n        // clamp phiLength so it's in range of [ 0, 2PI ]\\r\\n\\r\\n        phiLength = _Math.clamp( phiLength, 0, Math.PI * 2 );\\r\\n\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var base;\\r\\n        var inverseSegments = 1.0 / segments;\\r\\n        var vertex = new Vector3();\\r\\n        var uv = new Vector2();\\r\\n        var i, j;\\r\\n\\r\\n        // generate vertices and uvs\\r\\n\\r\\n        for ( i = 0; i <= segments; i ++ ) {\\r\\n\\r\\n            var phi = phiStart + i * inverseSegments * phiLength;\\r\\n\\r\\n            var sin = Math.sin( phi );\\r\\n            var cos = Math.cos( phi );\\r\\n\\r\\n            for ( j = 0; j <= ( points.length - 1 ); j ++ ) {\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertex.x = points[ j ].x * sin;\\r\\n                vertex.y = points[ j ].y;\\r\\n                vertex.z = points[ j ].x * cos;\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uv.x = i / segments;\\r\\n                uv.y = j / ( points.length - 1 );\\r\\n\\r\\n                uvs.push( uv.x, uv.y );\\r\\n\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // indices\\r\\n\\r\\n        for ( i = 0; i < segments; i ++ ) {\\r\\n\\r\\n            for ( j = 0; j < ( points.length - 1 ); j ++ ) {\\r\\n\\r\\n                base = j + i * points.length;\\r\\n\\r\\n                var a = base;\\r\\n                var b = base + points.length;\\r\\n                var c = base + points.length + 1;\\r\\n                var d = base + 1;\\r\\n\\r\\n                // faces\\r\\n\\r\\n                indices.push( a, b, d );\\r\\n                indices.push( b, c, d );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n        // generate normals\\r\\n\\r\\n        this.computeVertexNormals();\\r\\n\\r\\n        // if the geometry is closed, we need to average the normals along the seam.\\r\\n        // because the corresponding vertices are identical (but still have different UVs).\\r\\n\\r\\n        if ( phiLength === Math.PI * 2 ) {\\r\\n\\r\\n            var normals = this.attributes.normal.array;\\r\\n            var n1 = new Vector3();\\r\\n            var n2 = new Vector3();\\r\\n            var n = new Vector3();\\r\\n\\r\\n            // this is the buffer offset for the last line of vertices\\r\\n\\r\\n            base = segments * points.length * 3;\\r\\n\\r\\n            for ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\\r\\n\\r\\n                // select the normal of the vertex in the first line\\r\\n\\r\\n                n1.x = normals[ j + 0 ];\\r\\n                n1.y = normals[ j + 1 ];\\r\\n                n1.z = normals[ j + 2 ];\\r\\n\\r\\n                // select the normal of the vertex in the last line\\r\\n\\r\\n                n2.x = normals[ base + j + 0 ];\\r\\n                n2.y = normals[ base + j + 1 ];\\r\\n                n2.z = normals[ base + j + 2 ];\\r\\n\\r\\n                // average normals\\r\\n\\r\\n                n.addVectors( n1, n2 ).normalize();\\r\\n\\r\\n                // assign the new values to both normals\\r\\n\\r\\n                normals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\\r\\n                normals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\\r\\n                normals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    LatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    LatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author jonobr1 / http://jonobr1.com\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // ShapeGeometry\\r\\n\\r\\n    function ShapeGeometry( shapes, curveSegments ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'ShapeGeometry';\\r\\n\\r\\n        if ( typeof curveSegments === 'object' ) {\\r\\n\\r\\n            console.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\\r\\n\\r\\n            curveSegments = curveSegments.curveSegments;\\r\\n\\r\\n        }\\r\\n\\r\\n        this.parameters = {\\r\\n            shapes: shapes,\\r\\n            curveSegments: curveSegments\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    ShapeGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    ShapeGeometry.prototype.constructor = ShapeGeometry;\\r\\n\\r\\n    ShapeGeometry.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Geometry.prototype.toJSON.call( this );\\r\\n\\r\\n        var shapes = this.parameters.shapes;\\r\\n\\r\\n        return toJSON$1( shapes, data );\\r\\n\\r\\n    };\\r\\n\\r\\n    // ShapeBufferGeometry\\r\\n\\r\\n    function ShapeBufferGeometry( shapes, curveSegments ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'ShapeBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            shapes: shapes,\\r\\n            curveSegments: curveSegments\\r\\n        };\\r\\n\\r\\n        curveSegments = curveSegments || 12;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var groupStart = 0;\\r\\n        var groupCount = 0;\\r\\n\\r\\n        // allow single and array values for \\\"shapes\\\" parameter\\r\\n\\r\\n        if ( Array.isArray( shapes ) === false ) {\\r\\n\\r\\n            addShape( shapes );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            for ( var i = 0; i < shapes.length; i ++ ) {\\r\\n\\r\\n                addShape( shapes[ i ] );\\r\\n\\r\\n                this.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\\r\\n\\r\\n                groupStart += groupCount;\\r\\n                groupCount = 0;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n\\r\\n        // helper functions\\r\\n\\r\\n        function addShape( shape ) {\\r\\n\\r\\n            var i, l, shapeHole;\\r\\n\\r\\n            var indexOffset = vertices.length / 3;\\r\\n            var points = shape.extractPoints( curveSegments );\\r\\n\\r\\n            var shapeVertices = points.shape;\\r\\n            var shapeHoles = points.holes;\\r\\n\\r\\n            // check direction of vertices\\r\\n\\r\\n            if ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\\r\\n\\r\\n                shapeVertices = shapeVertices.reverse();\\r\\n\\r\\n                // also check if holes are in the opposite direction\\r\\n\\r\\n                for ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\\r\\n\\r\\n                    shapeHole = shapeHoles[ i ];\\r\\n\\r\\n                    if ( ShapeUtils.isClockWise( shapeHole ) === true ) {\\r\\n\\r\\n                        shapeHoles[ i ] = shapeHole.reverse();\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\\r\\n\\r\\n            // join vertices of inner and outer paths to a single array\\r\\n\\r\\n            for ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\\r\\n\\r\\n                shapeHole = shapeHoles[ i ];\\r\\n                shapeVertices = shapeVertices.concat( shapeHole );\\r\\n\\r\\n            }\\r\\n\\r\\n            // vertices, normals, uvs\\r\\n\\r\\n            for ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\\r\\n\\r\\n                var vertex = shapeVertices[ i ];\\r\\n\\r\\n                vertices.push( vertex.x, vertex.y, 0 );\\r\\n                normals.push( 0, 0, 1 );\\r\\n                uvs.push( vertex.x, vertex.y ); // world uvs\\r\\n\\r\\n            }\\r\\n\\r\\n            // incides\\r\\n\\r\\n            for ( i = 0, l = faces.length; i < l; i ++ ) {\\r\\n\\r\\n                var face = faces[ i ];\\r\\n\\r\\n                var a = face[ 0 ] + indexOffset;\\r\\n                var b = face[ 1 ] + indexOffset;\\r\\n                var c = face[ 2 ] + indexOffset;\\r\\n\\r\\n                indices.push( a, b, c );\\r\\n                groupCount += 3;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    ShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    ShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\\r\\n\\r\\n    ShapeBufferGeometry.prototype.toJSON = function () {\\r\\n\\r\\n        var data = BufferGeometry.prototype.toJSON.call( this );\\r\\n\\r\\n        var shapes = this.parameters.shapes;\\r\\n\\r\\n        return toJSON$1( shapes, data );\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    function toJSON$1( shapes, data ) {\\r\\n\\r\\n        data.shapes = [];\\r\\n\\r\\n        if ( Array.isArray( shapes ) ) {\\r\\n\\r\\n            for ( var i = 0, l = shapes.length; i < l; i ++ ) {\\r\\n\\r\\n                var shape = shapes[ i ];\\r\\n\\r\\n                data.shapes.push( shape.uuid );\\r\\n\\r\\n            }\\r\\n\\r\\n        } else {\\r\\n\\r\\n            data.shapes.push( shapes.uuid );\\r\\n\\r\\n        }\\r\\n\\r\\n        return data;\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function EdgesGeometry( geometry, thresholdAngle ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'EdgesGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            thresholdAngle: thresholdAngle\\r\\n        };\\r\\n\\r\\n        thresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\\r\\n\\r\\n        // buffer\\r\\n\\r\\n        var vertices = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var thresholdDot = Math.cos( _Math.DEG2RAD * thresholdAngle );\\r\\n        var edge = [ 0, 0 ], edges = {}, edge1, edge2;\\r\\n        var key, keys = [ 'a', 'b', 'c' ];\\r\\n\\r\\n        // prepare source geometry\\r\\n\\r\\n        var geometry2;\\r\\n\\r\\n        if ( geometry.isBufferGeometry ) {\\r\\n\\r\\n            geometry2 = new Geometry();\\r\\n            geometry2.fromBufferGeometry( geometry );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            geometry2 = geometry.clone();\\r\\n\\r\\n        }\\r\\n\\r\\n        geometry2.mergeVertices();\\r\\n        geometry2.computeFaceNormals();\\r\\n\\r\\n        var sourceVertices = geometry2.vertices;\\r\\n        var faces = geometry2.faces;\\r\\n\\r\\n        // now create a data structure where each entry represents an edge with its adjoining faces\\r\\n\\r\\n        for ( var i = 0, l = faces.length; i < l; i ++ ) {\\r\\n\\r\\n            var face = faces[ i ];\\r\\n\\r\\n            for ( var j = 0; j < 3; j ++ ) {\\r\\n\\r\\n                edge1 = face[ keys[ j ] ];\\r\\n                edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\\r\\n                edge[ 0 ] = Math.min( edge1, edge2 );\\r\\n                edge[ 1 ] = Math.max( edge1, edge2 );\\r\\n\\r\\n                key = edge[ 0 ] + ',' + edge[ 1 ];\\r\\n\\r\\n                if ( edges[ key ] === undefined ) {\\r\\n\\r\\n                    edges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    edges[ key ].face2 = i;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // generate vertices\\r\\n\\r\\n        for ( key in edges ) {\\r\\n\\r\\n            var e = edges[ key ];\\r\\n\\r\\n            // an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\\r\\n\\r\\n            if ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\\r\\n\\r\\n                var vertex = sourceVertices[ e.index1 ];\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                vertex = sourceVertices[ e.index2 ];\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    EdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    EdgesGeometry.prototype.constructor = EdgesGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    // CylinderGeometry\\r\\n\\r\\n    function CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'CylinderGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radiusTop: radiusTop,\\r\\n            radiusBottom: radiusBottom,\\r\\n            height: height,\\r\\n            radialSegments: radialSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            openEnded: openEnded,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    CylinderGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    CylinderGeometry.prototype.constructor = CylinderGeometry;\\r\\n\\r\\n    // CylinderBufferGeometry\\r\\n\\r\\n    function CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'CylinderBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radiusTop: radiusTop,\\r\\n            radiusBottom: radiusBottom,\\r\\n            height: height,\\r\\n            radialSegments: radialSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            openEnded: openEnded,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        radiusTop = radiusTop !== undefined ? radiusTop : 1;\\r\\n        radiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\\r\\n        height = height || 1;\\r\\n\\r\\n        radialSegments = Math.floor( radialSegments ) || 8;\\r\\n        heightSegments = Math.floor( heightSegments ) || 1;\\r\\n\\r\\n        openEnded = openEnded !== undefined ? openEnded : false;\\r\\n        thetaStart = thetaStart !== undefined ? thetaStart : 0.0;\\r\\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var index = 0;\\r\\n        var indexArray = [];\\r\\n        var halfHeight = height / 2;\\r\\n        var groupStart = 0;\\r\\n\\r\\n        // generate geometry\\r\\n\\r\\n        generateTorso();\\r\\n\\r\\n        if ( openEnded === false ) {\\r\\n\\r\\n            if ( radiusTop > 0 ) generateCap( true );\\r\\n            if ( radiusBottom > 0 ) generateCap( false );\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n        function generateTorso() {\\r\\n\\r\\n            var x, y;\\r\\n            var normal = new Vector3();\\r\\n            var vertex = new Vector3();\\r\\n\\r\\n            var groupCount = 0;\\r\\n\\r\\n            // this will be used to calculate the normal\\r\\n            var slope = ( radiusBottom - radiusTop ) / height;\\r\\n\\r\\n            // generate vertices, normals and uvs\\r\\n\\r\\n            for ( y = 0; y <= heightSegments; y ++ ) {\\r\\n\\r\\n                var indexRow = [];\\r\\n\\r\\n                var v = y / heightSegments;\\r\\n\\r\\n                // calculate the radius of the current row\\r\\n\\r\\n                var radius = v * ( radiusBottom - radiusTop ) + radiusTop;\\r\\n\\r\\n                for ( x = 0; x <= radialSegments; x ++ ) {\\r\\n\\r\\n                    var u = x / radialSegments;\\r\\n\\r\\n                    var theta = u * thetaLength + thetaStart;\\r\\n\\r\\n                    var sinTheta = Math.sin( theta );\\r\\n                    var cosTheta = Math.cos( theta );\\r\\n\\r\\n                    // vertex\\r\\n\\r\\n                    vertex.x = radius * sinTheta;\\r\\n                    vertex.y = - v * height + halfHeight;\\r\\n                    vertex.z = radius * cosTheta;\\r\\n                    vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                    // normal\\r\\n\\r\\n                    normal.set( sinTheta, slope, cosTheta ).normalize();\\r\\n                    normals.push( normal.x, normal.y, normal.z );\\r\\n\\r\\n                    // uv\\r\\n\\r\\n                    uvs.push( u, 1 - v );\\r\\n\\r\\n                    // save index of vertex in respective row\\r\\n\\r\\n                    indexRow.push( index ++ );\\r\\n\\r\\n                }\\r\\n\\r\\n                // now save vertices of the row in our index array\\r\\n\\r\\n                indexArray.push( indexRow );\\r\\n\\r\\n            }\\r\\n\\r\\n            // generate indices\\r\\n\\r\\n            for ( x = 0; x < radialSegments; x ++ ) {\\r\\n\\r\\n                for ( y = 0; y < heightSegments; y ++ ) {\\r\\n\\r\\n                    // we use the index array to access the correct indices\\r\\n\\r\\n                    var a = indexArray[ y ][ x ];\\r\\n                    var b = indexArray[ y + 1 ][ x ];\\r\\n                    var c = indexArray[ y + 1 ][ x + 1 ];\\r\\n                    var d = indexArray[ y ][ x + 1 ];\\r\\n\\r\\n                    // faces\\r\\n\\r\\n                    indices.push( a, b, d );\\r\\n                    indices.push( b, c, d );\\r\\n\\r\\n                    // update group counter\\r\\n\\r\\n                    groupCount += 6;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // add a group to the geometry. this will ensure multi material support\\r\\n\\r\\n            scope.addGroup( groupStart, groupCount, 0 );\\r\\n\\r\\n            // calculate new start value for groups\\r\\n\\r\\n            groupStart += groupCount;\\r\\n\\r\\n        }\\r\\n\\r\\n        function generateCap( top ) {\\r\\n\\r\\n            var x, centerIndexStart, centerIndexEnd;\\r\\n\\r\\n            var uv = new Vector2();\\r\\n            var vertex = new Vector3();\\r\\n\\r\\n            var groupCount = 0;\\r\\n\\r\\n            var radius = ( top === true ) ? radiusTop : radiusBottom;\\r\\n            var sign = ( top === true ) ? 1 : - 1;\\r\\n\\r\\n            // save the index of the first center vertex\\r\\n            centerIndexStart = index;\\r\\n\\r\\n            // first we generate the center vertex data of the cap.\\r\\n            // because the geometry needs one set of uvs per face,\\r\\n            // we must generate a center vertex per face/segment\\r\\n\\r\\n            for ( x = 1; x <= radialSegments; x ++ ) {\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertices.push( 0, halfHeight * sign, 0 );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                normals.push( 0, sign, 0 );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uvs.push( 0.5, 0.5 );\\r\\n\\r\\n                // increase index\\r\\n\\r\\n                index ++;\\r\\n\\r\\n            }\\r\\n\\r\\n            // save the index of the last center vertex\\r\\n\\r\\n            centerIndexEnd = index;\\r\\n\\r\\n            // now we generate the surrounding vertices, normals and uvs\\r\\n\\r\\n            for ( x = 0; x <= radialSegments; x ++ ) {\\r\\n\\r\\n                var u = x / radialSegments;\\r\\n                var theta = u * thetaLength + thetaStart;\\r\\n\\r\\n                var cosTheta = Math.cos( theta );\\r\\n                var sinTheta = Math.sin( theta );\\r\\n\\r\\n                // vertex\\r\\n\\r\\n                vertex.x = radius * sinTheta;\\r\\n                vertex.y = halfHeight * sign;\\r\\n                vertex.z = radius * cosTheta;\\r\\n                vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n                // normal\\r\\n\\r\\n                normals.push( 0, sign, 0 );\\r\\n\\r\\n                // uv\\r\\n\\r\\n                uv.x = ( cosTheta * 0.5 ) + 0.5;\\r\\n                uv.y = ( sinTheta * 0.5 * sign ) + 0.5;\\r\\n                uvs.push( uv.x, uv.y );\\r\\n\\r\\n                // increase index\\r\\n\\r\\n                index ++;\\r\\n\\r\\n            }\\r\\n\\r\\n            // generate indices\\r\\n\\r\\n            for ( x = 0; x < radialSegments; x ++ ) {\\r\\n\\r\\n                var c = centerIndexStart + x;\\r\\n                var i = centerIndexEnd + x;\\r\\n\\r\\n                if ( top === true ) {\\r\\n\\r\\n                    // face top\\r\\n\\r\\n                    indices.push( i, i + 1, c );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // face bottom\\r\\n\\r\\n                    indices.push( i + 1, i, c );\\r\\n\\r\\n                }\\r\\n\\r\\n                groupCount += 3;\\r\\n\\r\\n            }\\r\\n\\r\\n            // add a group to the geometry. this will ensure multi material support\\r\\n\\r\\n            scope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\\r\\n\\r\\n            // calculate new start value for groups\\r\\n\\r\\n            groupStart += groupCount;\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    CylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    CylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author abelnation / http://github.com/abelnation\\r\\n     */\\r\\n\\r\\n    // ConeGeometry\\r\\n\\r\\n    function ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\\r\\n\\r\\n        CylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\\r\\n\\r\\n        this.type = 'ConeGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            height: height,\\r\\n            radialSegments: radialSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            openEnded: openEnded,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    ConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\\r\\n    ConeGeometry.prototype.constructor = ConeGeometry;\\r\\n\\r\\n    // ConeBufferGeometry\\r\\n\\r\\n    function ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\\r\\n\\r\\n        CylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\\r\\n\\r\\n        this.type = 'ConeBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            height: height,\\r\\n            radialSegments: radialSegments,\\r\\n            heightSegments: heightSegments,\\r\\n            openEnded: openEnded,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    ConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\\r\\n    ConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\\r\\n\\r\\n    /**\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     * @author hughes\\r\\n     */\\r\\n\\r\\n    // CircleGeometry\\r\\n\\r\\n    function CircleGeometry( radius, segments, thetaStart, thetaLength ) {\\r\\n\\r\\n        Geometry.call( this );\\r\\n\\r\\n        this.type = 'CircleGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            segments: segments,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        this.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\\r\\n        this.mergeVertices();\\r\\n\\r\\n    }\\r\\n\\r\\n    CircleGeometry.prototype = Object.create( Geometry.prototype );\\r\\n    CircleGeometry.prototype.constructor = CircleGeometry;\\r\\n\\r\\n    // CircleBufferGeometry\\r\\n\\r\\n    function CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'CircleBufferGeometry';\\r\\n\\r\\n        this.parameters = {\\r\\n            radius: radius,\\r\\n            segments: segments,\\r\\n            thetaStart: thetaStart,\\r\\n            thetaLength: thetaLength\\r\\n        };\\r\\n\\r\\n        radius = radius || 1;\\r\\n        segments = segments !== undefined ? Math.max( 3, segments ) : 8;\\r\\n\\r\\n        thetaStart = thetaStart !== undefined ? thetaStart : 0;\\r\\n        thetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\\r\\n\\r\\n        // buffers\\r\\n\\r\\n        var indices = [];\\r\\n        var vertices = [];\\r\\n        var normals = [];\\r\\n        var uvs = [];\\r\\n\\r\\n        // helper variables\\r\\n\\r\\n        var i, s;\\r\\n        var vertex = new Vector3();\\r\\n        var uv = new Vector2();\\r\\n\\r\\n        // center point\\r\\n\\r\\n        vertices.push( 0, 0, 0 );\\r\\n        normals.push( 0, 0, 1 );\\r\\n        uvs.push( 0.5, 0.5 );\\r\\n\\r\\n        for ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\\r\\n\\r\\n            var segment = thetaStart + s / segments * thetaLength;\\r\\n\\r\\n            // vertex\\r\\n\\r\\n            vertex.x = radius * Math.cos( segment );\\r\\n            vertex.y = radius * Math.sin( segment );\\r\\n\\r\\n            vertices.push( vertex.x, vertex.y, vertex.z );\\r\\n\\r\\n            // normal\\r\\n\\r\\n            normals.push( 0, 0, 1 );\\r\\n\\r\\n            // uvs\\r\\n\\r\\n            uv.x = ( vertices[ i ] / radius + 1 ) / 2;\\r\\n            uv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\\r\\n\\r\\n            uvs.push( uv.x, uv.y );\\r\\n\\r\\n        }\\r\\n\\r\\n        // indices\\r\\n\\r\\n        for ( i = 1; i <= segments; i ++ ) {\\r\\n\\r\\n            indices.push( i, i + 1, 0 );\\r\\n\\r\\n        }\\r\\n\\r\\n        // build geometry\\r\\n\\r\\n        this.setIndex( indices );\\r\\n        this.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        this.addAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\\r\\n        this.addAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    CircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\\r\\n    CircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\\r\\n\\r\\n\\r\\n\\r\\n    var Geometries = /*#__PURE__*/Object.freeze({\\r\\n        WireframeGeometry: WireframeGeometry,\\r\\n        ParametricGeometry: ParametricGeometry,\\r\\n        ParametricBufferGeometry: ParametricBufferGeometry,\\r\\n        TetrahedronGeometry: TetrahedronGeometry,\\r\\n        TetrahedronBufferGeometry: TetrahedronBufferGeometry,\\r\\n        OctahedronGeometry: OctahedronGeometry,\\r\\n        OctahedronBufferGeometry: OctahedronBufferGeometry,\\r\\n        IcosahedronGeometry: IcosahedronGeometry,\\r\\n        IcosahedronBufferGeometry: IcosahedronBufferGeometry,\\r\\n        DodecahedronGeometry: DodecahedronGeometry,\\r\\n        DodecahedronBufferGeometry: DodecahedronBufferGeometry,\\r\\n        PolyhedronGeometry: PolyhedronGeometry,\\r\\n        PolyhedronBufferGeometry: PolyhedronBufferGeometry,\\r\\n        TubeGeometry: TubeGeometry,\\r\\n        TubeBufferGeometry: TubeBufferGeometry,\\r\\n        TorusKnotGeometry: TorusKnotGeometry,\\r\\n        TorusKnotBufferGeometry: TorusKnotBufferGeometry,\\r\\n        TorusGeometry: TorusGeometry,\\r\\n        TorusBufferGeometry: TorusBufferGeometry,\\r\\n        TextGeometry: TextGeometry,\\r\\n        TextBufferGeometry: TextBufferGeometry,\\r\\n        SphereGeometry: SphereGeometry,\\r\\n        SphereBufferGeometry: SphereBufferGeometry,\\r\\n        RingGeometry: RingGeometry,\\r\\n        RingBufferGeometry: RingBufferGeometry,\\r\\n        PlaneGeometry: PlaneGeometry,\\r\\n        PlaneBufferGeometry: PlaneBufferGeometry,\\r\\n        LatheGeometry: LatheGeometry,\\r\\n        LatheBufferGeometry: LatheBufferGeometry,\\r\\n        ShapeGeometry: ShapeGeometry,\\r\\n        ShapeBufferGeometry: ShapeBufferGeometry,\\r\\n        ExtrudeGeometry: ExtrudeGeometry,\\r\\n        ExtrudeBufferGeometry: ExtrudeBufferGeometry,\\r\\n        EdgesGeometry: EdgesGeometry,\\r\\n        ConeGeometry: ConeGeometry,\\r\\n        ConeBufferGeometry: ConeBufferGeometry,\\r\\n        CylinderGeometry: CylinderGeometry,\\r\\n        CylinderBufferGeometry: CylinderBufferGeometry,\\r\\n        CircleGeometry: CircleGeometry,\\r\\n        CircleBufferGeometry: CircleBufferGeometry,\\r\\n        BoxGeometry: BoxGeometry,\\r\\n        BoxBufferGeometry: BoxBufferGeometry\\r\\n    });\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <THREE.Color>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function ShadowMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'ShadowMaterial';\\r\\n\\r\\n        this.color = new Color( 0x000000 );\\r\\n        this.transparent = true;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    ShadowMaterial.prototype = Object.create( Material.prototype );\\r\\n    ShadowMaterial.prototype.constructor = ShadowMaterial;\\r\\n\\r\\n    ShadowMaterial.prototype.isShadowMaterial = true;\\r\\n\\r\\n    ShadowMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function RawShaderMaterial( parameters ) {\\r\\n\\r\\n        ShaderMaterial.call( this, parameters );\\r\\n\\r\\n        this.type = 'RawShaderMaterial';\\r\\n\\r\\n    }\\r\\n\\r\\n    RawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\\r\\n    RawShaderMaterial.prototype.constructor = RawShaderMaterial;\\r\\n\\r\\n    RawShaderMaterial.prototype.isRawShaderMaterial = true;\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  roughness: <float>,\\r\\n\\t *  metalness: <float>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  lightMap: new THREE.Texture( <Image> ),\\r\\n\\t *  lightMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  aoMap: new THREE.Texture( <Image> ),\\r\\n\\t *  aoMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  emissive: <hex>,\\r\\n\\t *  emissiveIntensity: <float>\\r\\n\\t *  emissiveMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  bumpMap: new THREE.Texture( <Image> ),\\r\\n\\t *  bumpScale: <float>,\\r\\n\\t *\\r\\n\\t *  normalMap: new THREE.Texture( <Image> ),\\r\\n\\t *  normalMapType: THREE.TangentSpaceNormalMap,\\r\\n\\t *  normalScale: <Vector2>,\\r\\n\\t *\\r\\n\\t *  displacementMap: new THREE.Texture( <Image> ),\\r\\n\\t *  displacementScale: <float>,\\r\\n\\t *  displacementBias: <float>,\\r\\n\\t *\\r\\n\\t *  roughnessMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  metalnessMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\\r\\n\\t *  envMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  refractionRatio: <float>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>,\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *  morphNormals: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshStandardMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.defines = { 'STANDARD': '' };\\r\\n\\r\\n        this.type = 'MeshStandardMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff ); // diffuse\\r\\n        this.roughness = 0.5;\\r\\n        this.metalness = 0.5;\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.lightMap = null;\\r\\n        this.lightMapIntensity = 1.0;\\r\\n\\r\\n        this.aoMap = null;\\r\\n        this.aoMapIntensity = 1.0;\\r\\n\\r\\n        this.emissive = new Color( 0x000000 );\\r\\n        this.emissiveIntensity = 1.0;\\r\\n        this.emissiveMap = null;\\r\\n\\r\\n        this.bumpMap = null;\\r\\n        this.bumpScale = 1;\\r\\n\\r\\n        this.normalMap = null;\\r\\n        this.normalMapType = TangentSpaceNormalMap;\\r\\n        this.normalScale = new Vector2( 1, 1 );\\r\\n\\r\\n        this.displacementMap = null;\\r\\n        this.displacementScale = 1;\\r\\n        this.displacementBias = 0;\\r\\n\\r\\n        this.roughnessMap = null;\\r\\n\\r\\n        this.metalnessMap = null;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.envMap = null;\\r\\n        this.envMapIntensity = 1.0;\\r\\n\\r\\n        this.refractionRatio = 0.98;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n        this.wireframeLinecap = 'round';\\r\\n        this.wireframeLinejoin = 'round';\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n        this.morphNormals = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshStandardMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\\r\\n\\r\\n    MeshStandardMaterial.prototype.isMeshStandardMaterial = true;\\r\\n\\r\\n    MeshStandardMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.defines = { 'STANDARD': '' };\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n        this.roughness = source.roughness;\\r\\n        this.metalness = source.metalness;\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.lightMap = source.lightMap;\\r\\n        this.lightMapIntensity = source.lightMapIntensity;\\r\\n\\r\\n        this.aoMap = source.aoMap;\\r\\n        this.aoMapIntensity = source.aoMapIntensity;\\r\\n\\r\\n        this.emissive.copy( source.emissive );\\r\\n        this.emissiveMap = source.emissiveMap;\\r\\n        this.emissiveIntensity = source.emissiveIntensity;\\r\\n\\r\\n        this.bumpMap = source.bumpMap;\\r\\n        this.bumpScale = source.bumpScale;\\r\\n\\r\\n        this.normalMap = source.normalMap;\\r\\n        this.normalMapType = source.normalMapType;\\r\\n        this.normalScale.copy( source.normalScale );\\r\\n\\r\\n        this.displacementMap = source.displacementMap;\\r\\n        this.displacementScale = source.displacementScale;\\r\\n        this.displacementBias = source.displacementBias;\\r\\n\\r\\n        this.roughnessMap = source.roughnessMap;\\r\\n\\r\\n        this.metalnessMap = source.metalnessMap;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.envMap = source.envMap;\\r\\n        this.envMapIntensity = source.envMapIntensity;\\r\\n\\r\\n        this.refractionRatio = source.refractionRatio;\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n        this.wireframeLinecap = source.wireframeLinecap;\\r\\n        this.wireframeLinejoin = source.wireframeLinejoin;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n        this.morphNormals = source.morphNormals;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  reflectivity: <float>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshPhysicalMaterial( parameters ) {\\r\\n\\r\\n        MeshStandardMaterial.call( this );\\r\\n\\r\\n        this.defines = { 'PHYSICAL': '' };\\r\\n\\r\\n        this.type = 'MeshPhysicalMaterial';\\r\\n\\r\\n        this.reflectivity = 0.5; // maps to F0 = 0.04\\r\\n\\r\\n        this.clearCoat = 0.0;\\r\\n        this.clearCoatRoughness = 0.0;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\\r\\n    MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\\r\\n\\r\\n    MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\\r\\n\\r\\n    MeshPhysicalMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        MeshStandardMaterial.prototype.copy.call( this, source );\\r\\n\\r\\n        this.defines = { 'PHYSICAL': '' };\\r\\n\\r\\n        this.reflectivity = source.reflectivity;\\r\\n\\r\\n        this.clearCoat = source.clearCoat;\\r\\n        this.clearCoatRoughness = source.clearCoatRoughness;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  specular: <hex>,\\r\\n\\t *  shininess: <float>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  lightMap: new THREE.Texture( <Image> ),\\r\\n\\t *  lightMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  aoMap: new THREE.Texture( <Image> ),\\r\\n\\t *  aoMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  emissive: <hex>,\\r\\n\\t *  emissiveIntensity: <float>\\r\\n\\t *  emissiveMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  bumpMap: new THREE.Texture( <Image> ),\\r\\n\\t *  bumpScale: <float>,\\r\\n\\t *\\r\\n\\t *  normalMap: new THREE.Texture( <Image> ),\\r\\n\\t *  normalMapType: THREE.TangentSpaceNormalMap,\\r\\n\\t *  normalScale: <Vector2>,\\r\\n\\t *\\r\\n\\t *  displacementMap: new THREE.Texture( <Image> ),\\r\\n\\t *  displacementScale: <float>,\\r\\n\\t *  displacementBias: <float>,\\r\\n\\t *\\r\\n\\t *  specularMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\\r\\n\\t *  combine: THREE.Multiply,\\r\\n\\t *  reflectivity: <float>,\\r\\n\\t *  refractionRatio: <float>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>,\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *  morphNormals: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshPhongMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'MeshPhongMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff ); // diffuse\\r\\n        this.specular = new Color( 0x111111 );\\r\\n        this.shininess = 30;\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.lightMap = null;\\r\\n        this.lightMapIntensity = 1.0;\\r\\n\\r\\n        this.aoMap = null;\\r\\n        this.aoMapIntensity = 1.0;\\r\\n\\r\\n        this.emissive = new Color( 0x000000 );\\r\\n        this.emissiveIntensity = 1.0;\\r\\n        this.emissiveMap = null;\\r\\n\\r\\n        this.bumpMap = null;\\r\\n        this.bumpScale = 1;\\r\\n\\r\\n        this.normalMap = null;\\r\\n        this.normalMapType = TangentSpaceNormalMap;\\r\\n        this.normalScale = new Vector2( 1, 1 );\\r\\n\\r\\n        this.displacementMap = null;\\r\\n        this.displacementScale = 1;\\r\\n        this.displacementBias = 0;\\r\\n\\r\\n        this.specularMap = null;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.envMap = null;\\r\\n        this.combine = MultiplyOperation;\\r\\n        this.reflectivity = 1;\\r\\n        this.refractionRatio = 0.98;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n        this.wireframeLinecap = 'round';\\r\\n        this.wireframeLinejoin = 'round';\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n        this.morphNormals = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshPhongMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\\r\\n\\r\\n    MeshPhongMaterial.prototype.isMeshPhongMaterial = true;\\r\\n\\r\\n    MeshPhongMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n        this.specular.copy( source.specular );\\r\\n        this.shininess = source.shininess;\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.lightMap = source.lightMap;\\r\\n        this.lightMapIntensity = source.lightMapIntensity;\\r\\n\\r\\n        this.aoMap = source.aoMap;\\r\\n        this.aoMapIntensity = source.aoMapIntensity;\\r\\n\\r\\n        this.emissive.copy( source.emissive );\\r\\n        this.emissiveMap = source.emissiveMap;\\r\\n        this.emissiveIntensity = source.emissiveIntensity;\\r\\n\\r\\n        this.bumpMap = source.bumpMap;\\r\\n        this.bumpScale = source.bumpScale;\\r\\n\\r\\n        this.normalMap = source.normalMap;\\r\\n        this.normalMapType = source.normalMapType;\\r\\n        this.normalScale.copy( source.normalScale );\\r\\n\\r\\n        this.displacementMap = source.displacementMap;\\r\\n        this.displacementScale = source.displacementScale;\\r\\n        this.displacementBias = source.displacementBias;\\r\\n\\r\\n        this.specularMap = source.specularMap;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.envMap = source.envMap;\\r\\n        this.combine = source.combine;\\r\\n        this.reflectivity = source.reflectivity;\\r\\n        this.refractionRatio = source.refractionRatio;\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n        this.wireframeLinecap = source.wireframeLinecap;\\r\\n        this.wireframeLinejoin = source.wireframeLinejoin;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n        this.morphNormals = source.morphNormals;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author takahirox / http://github.com/takahirox\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  gradientMap: new THREE.Texture( <Image> )\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshToonMaterial( parameters ) {\\r\\n\\r\\n        MeshPhongMaterial.call( this );\\r\\n\\r\\n        this.defines = { 'TOON': '' };\\r\\n\\r\\n        this.type = 'MeshToonMaterial';\\r\\n\\r\\n        this.gradientMap = null;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshToonMaterial.prototype = Object.create( MeshPhongMaterial.prototype );\\r\\n    MeshToonMaterial.prototype.constructor = MeshToonMaterial;\\r\\n\\r\\n    MeshToonMaterial.prototype.isMeshToonMaterial = true;\\r\\n\\r\\n    MeshToonMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        MeshPhongMaterial.prototype.copy.call( this, source );\\r\\n\\r\\n        this.gradientMap = source.gradientMap;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  bumpMap: new THREE.Texture( <Image> ),\\r\\n\\t *  bumpScale: <float>,\\r\\n\\t *\\r\\n\\t *  normalMap: new THREE.Texture( <Image> ),\\r\\n\\t *  normalMapType: THREE.TangentSpaceNormalMap,\\r\\n\\t *  normalScale: <Vector2>,\\r\\n\\t *\\r\\n\\t *  displacementMap: new THREE.Texture( <Image> ),\\r\\n\\t *  displacementScale: <float>,\\r\\n\\t *  displacementBias: <float>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *  morphNormals: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshNormalMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'MeshNormalMaterial';\\r\\n\\r\\n        this.bumpMap = null;\\r\\n        this.bumpScale = 1;\\r\\n\\r\\n        this.normalMap = null;\\r\\n        this.normalMapType = TangentSpaceNormalMap;\\r\\n        this.normalScale = new Vector2( 1, 1 );\\r\\n\\r\\n        this.displacementMap = null;\\r\\n        this.displacementScale = 1;\\r\\n        this.displacementBias = 0;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n\\r\\n        this.fog = false;\\r\\n        this.lights = false;\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n        this.morphNormals = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshNormalMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\\r\\n\\r\\n    MeshNormalMaterial.prototype.isMeshNormalMaterial = true;\\r\\n\\r\\n    MeshNormalMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.bumpMap = source.bumpMap;\\r\\n        this.bumpScale = source.bumpScale;\\r\\n\\r\\n        this.normalMap = source.normalMap;\\r\\n        this.normalMapType = source.normalMapType;\\r\\n        this.normalScale.copy( source.normalScale );\\r\\n\\r\\n        this.displacementMap = source.displacementMap;\\r\\n        this.displacementScale = source.displacementScale;\\r\\n        this.displacementBias = source.displacementBias;\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n        this.morphNormals = source.morphNormals;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  lightMap: new THREE.Texture( <Image> ),\\r\\n\\t *  lightMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  aoMap: new THREE.Texture( <Image> ),\\r\\n\\t *  aoMapIntensity: <float>\\r\\n\\t *\\r\\n\\t *  emissive: <hex>,\\r\\n\\t *  emissiveIntensity: <float>\\r\\n\\t *  emissiveMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  specularMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\\r\\n\\t *  combine: THREE.Multiply,\\r\\n\\t *  reflectivity: <float>,\\r\\n\\t *  refractionRatio: <float>,\\r\\n\\t *\\r\\n\\t *  wireframe: <boolean>,\\r\\n\\t *  wireframeLinewidth: <float>,\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *  morphNormals: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshLambertMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.type = 'MeshLambertMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff ); // diffuse\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.lightMap = null;\\r\\n        this.lightMapIntensity = 1.0;\\r\\n\\r\\n        this.aoMap = null;\\r\\n        this.aoMapIntensity = 1.0;\\r\\n\\r\\n        this.emissive = new Color( 0x000000 );\\r\\n        this.emissiveIntensity = 1.0;\\r\\n        this.emissiveMap = null;\\r\\n\\r\\n        this.specularMap = null;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.envMap = null;\\r\\n        this.combine = MultiplyOperation;\\r\\n        this.reflectivity = 1;\\r\\n        this.refractionRatio = 0.98;\\r\\n\\r\\n        this.wireframe = false;\\r\\n        this.wireframeLinewidth = 1;\\r\\n        this.wireframeLinecap = 'round';\\r\\n        this.wireframeLinejoin = 'round';\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n        this.morphNormals = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshLambertMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\\r\\n\\r\\n    MeshLambertMaterial.prototype.isMeshLambertMaterial = true;\\r\\n\\r\\n    MeshLambertMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.lightMap = source.lightMap;\\r\\n        this.lightMapIntensity = source.lightMapIntensity;\\r\\n\\r\\n        this.aoMap = source.aoMap;\\r\\n        this.aoMapIntensity = source.aoMapIntensity;\\r\\n\\r\\n        this.emissive.copy( source.emissive );\\r\\n        this.emissiveMap = source.emissiveMap;\\r\\n        this.emissiveIntensity = source.emissiveIntensity;\\r\\n\\r\\n        this.specularMap = source.specularMap;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.envMap = source.envMap;\\r\\n        this.combine = source.combine;\\r\\n        this.reflectivity = source.reflectivity;\\r\\n        this.refractionRatio = source.refractionRatio;\\r\\n\\r\\n        this.wireframe = source.wireframe;\\r\\n        this.wireframeLinewidth = source.wireframeLinewidth;\\r\\n        this.wireframeLinecap = source.wireframeLinecap;\\r\\n        this.wireframeLinejoin = source.wireframeLinejoin;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n        this.morphNormals = source.morphNormals;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  matcap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  map: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  bumpMap: new THREE.Texture( <Image> ),\\r\\n\\t *  bumpScale: <float>,\\r\\n\\t *\\r\\n\\t *  normalMap: new THREE.Texture( <Image> ),\\r\\n\\t *  normalMapType: THREE.TangentSpaceNormalMap,\\r\\n\\t *  normalScale: <Vector2>,\\r\\n\\t *\\r\\n\\t *  displacementMap: new THREE.Texture( <Image> ),\\r\\n\\t *  displacementScale: <float>,\\r\\n\\t *  displacementBias: <float>,\\r\\n\\t *\\r\\n\\t *  alphaMap: new THREE.Texture( <Image> ),\\r\\n\\t *\\r\\n\\t *  skinning: <bool>,\\r\\n\\t *  morphTargets: <bool>,\\r\\n\\t *  morphNormals: <bool>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function MeshMatcapMaterial( parameters ) {\\r\\n\\r\\n        Material.call( this );\\r\\n\\r\\n        this.defines = { 'MATCAP': '' };\\r\\n\\r\\n        this.type = 'MeshMatcapMaterial';\\r\\n\\r\\n        this.color = new Color( 0xffffff ); // diffuse\\r\\n\\r\\n        this.matcap = null;\\r\\n\\r\\n        this.map = null;\\r\\n\\r\\n        this.bumpMap = null;\\r\\n        this.bumpScale = 1;\\r\\n\\r\\n        this.normalMap = null;\\r\\n        this.normalMapType = TangentSpaceNormalMap;\\r\\n        this.normalScale = new Vector2( 1, 1 );\\r\\n\\r\\n        this.displacementMap = null;\\r\\n        this.displacementScale = 1;\\r\\n        this.displacementBias = 0;\\r\\n\\r\\n        this.alphaMap = null;\\r\\n\\r\\n        this.skinning = false;\\r\\n        this.morphTargets = false;\\r\\n        this.morphNormals = false;\\r\\n\\r\\n        this.lights = false;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n        // a matcap is required\\r\\n\\r\\n        if ( this.matcap === null ) {\\r\\n\\r\\n            var canvas = document.createElement( 'canvas' );\\r\\n            canvas.width = 1;\\r\\n            canvas.height = 1;\\r\\n\\r\\n            var context = canvas.getContext( '2d' );\\r\\n\\r\\n            context.fillStyle = '#fff';\\r\\n            context.fillRect( 0, 0, 1, 1 );\\r\\n\\r\\n            this.matcap = new THREE.CanvasTexture( canvas );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    MeshMatcapMaterial.prototype = Object.create( Material.prototype );\\r\\n    MeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\\r\\n\\r\\n    MeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\\r\\n\\r\\n    MeshMatcapMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        Material.prototype.copy.call( this, source );\\r\\n\\r\\n        this.defines = { 'MATCAP': '' };\\r\\n\\r\\n        this.color.copy( source.color );\\r\\n\\r\\n        this.matcap = source.matcap;\\r\\n\\r\\n        this.map = source.map;\\r\\n\\r\\n        this.bumpMap = source.bumpMap;\\r\\n        this.bumpScale = source.bumpScale;\\r\\n\\r\\n        this.normalMap = source.normalMap;\\r\\n        this.normalMapType = source.normalMapType;\\r\\n        this.normalScale.copy( source.normalScale );\\r\\n\\r\\n        this.displacementMap = source.displacementMap;\\r\\n        this.displacementScale = source.displacementScale;\\r\\n        this.displacementBias = source.displacementBias;\\r\\n\\r\\n        this.alphaMap = source.alphaMap;\\r\\n\\r\\n        this.skinning = source.skinning;\\r\\n        this.morphTargets = source.morphTargets;\\r\\n        this.morphNormals = source.morphNormals;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     *\\r\\n     * parameters = {\\r\\n\\t *  color: <hex>,\\r\\n\\t *  opacity: <float>,\\r\\n\\t *\\r\\n\\t *  linewidth: <float>,\\r\\n\\t *\\r\\n\\t *  scale: <float>,\\r\\n\\t *  dashSize: <float>,\\r\\n\\t *  gapSize: <float>\\r\\n\\t * }\\r\\n     */\\r\\n\\r\\n    function LineDashedMaterial( parameters ) {\\r\\n\\r\\n        LineBasicMaterial.call( this );\\r\\n\\r\\n        this.type = 'LineDashedMaterial';\\r\\n\\r\\n        this.scale = 1;\\r\\n        this.dashSize = 3;\\r\\n        this.gapSize = 1;\\r\\n\\r\\n        this.setValues( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    LineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\\r\\n    LineDashedMaterial.prototype.constructor = LineDashedMaterial;\\r\\n\\r\\n    LineDashedMaterial.prototype.isLineDashedMaterial = true;\\r\\n\\r\\n    LineDashedMaterial.prototype.copy = function ( source ) {\\r\\n\\r\\n        LineBasicMaterial.prototype.copy.call( this, source );\\r\\n\\r\\n        this.scale = source.scale;\\r\\n        this.dashSize = source.dashSize;\\r\\n        this.gapSize = source.gapSize;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n\\r\\n\\r\\n    var Materials = /*#__PURE__*/Object.freeze({\\r\\n        ShadowMaterial: ShadowMaterial,\\r\\n        SpriteMaterial: SpriteMaterial,\\r\\n        RawShaderMaterial: RawShaderMaterial,\\r\\n        ShaderMaterial: ShaderMaterial,\\r\\n        PointsMaterial: PointsMaterial,\\r\\n        MeshPhysicalMaterial: MeshPhysicalMaterial,\\r\\n        MeshStandardMaterial: MeshStandardMaterial,\\r\\n        MeshPhongMaterial: MeshPhongMaterial,\\r\\n        MeshToonMaterial: MeshToonMaterial,\\r\\n        MeshNormalMaterial: MeshNormalMaterial,\\r\\n        MeshLambertMaterial: MeshLambertMaterial,\\r\\n        MeshDepthMaterial: MeshDepthMaterial,\\r\\n        MeshDistanceMaterial: MeshDistanceMaterial,\\r\\n        MeshBasicMaterial: MeshBasicMaterial,\\r\\n        MeshMatcapMaterial: MeshMatcapMaterial,\\r\\n        LineDashedMaterial: LineDashedMaterial,\\r\\n        LineBasicMaterial: LineBasicMaterial,\\r\\n        Material: Material\\r\\n    });\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var Cache = {\\r\\n\\r\\n        enabled: false,\\r\\n\\r\\n        files: {},\\r\\n\\r\\n        add: function ( key, file ) {\\r\\n\\r\\n            if ( this.enabled === false ) return;\\r\\n\\r\\n            // console.log( 'THREE.Cache', 'Adding key:', key );\\r\\n\\r\\n            this.files[ key ] = file;\\r\\n\\r\\n        },\\r\\n\\r\\n        get: function ( key ) {\\r\\n\\r\\n            if ( this.enabled === false ) return;\\r\\n\\r\\n            // console.log( 'THREE.Cache', 'Checking key:', key );\\r\\n\\r\\n            return this.files[ key ];\\r\\n\\r\\n        },\\r\\n\\r\\n        remove: function ( key ) {\\r\\n\\r\\n            delete this.files[ key ];\\r\\n\\r\\n        },\\r\\n\\r\\n        clear: function () {\\r\\n\\r\\n            this.files = {};\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function LoadingManager( onLoad, onProgress, onError ) {\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        var isLoading = false;\\r\\n        var itemsLoaded = 0;\\r\\n        var itemsTotal = 0;\\r\\n        var urlModifier = undefined;\\r\\n\\r\\n        // Refer to #5689 for the reason why we don't set .onStart\\r\\n        // in the constructor\\r\\n\\r\\n        this.onStart = undefined;\\r\\n        this.onLoad = onLoad;\\r\\n        this.onProgress = onProgress;\\r\\n        this.onError = onError;\\r\\n\\r\\n        this.itemStart = function ( url ) {\\r\\n\\r\\n            itemsTotal ++;\\r\\n\\r\\n            if ( isLoading === false ) {\\r\\n\\r\\n                if ( scope.onStart !== undefined ) {\\r\\n\\r\\n                    scope.onStart( url, itemsLoaded, itemsTotal );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            isLoading = true;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.itemEnd = function ( url ) {\\r\\n\\r\\n            itemsLoaded ++;\\r\\n\\r\\n            if ( scope.onProgress !== undefined ) {\\r\\n\\r\\n                scope.onProgress( url, itemsLoaded, itemsTotal );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( itemsLoaded === itemsTotal ) {\\r\\n\\r\\n                isLoading = false;\\r\\n\\r\\n                if ( scope.onLoad !== undefined ) {\\r\\n\\r\\n                    scope.onLoad();\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        this.itemError = function ( url ) {\\r\\n\\r\\n            if ( scope.onError !== undefined ) {\\r\\n\\r\\n                scope.onError( url );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n        this.resolveURL = function ( url ) {\\r\\n\\r\\n            if ( urlModifier ) {\\r\\n\\r\\n                return urlModifier( url );\\r\\n\\r\\n            }\\r\\n\\r\\n            return url;\\r\\n\\r\\n        };\\r\\n\\r\\n        this.setURLModifier = function ( transform ) {\\r\\n\\r\\n            urlModifier = transform;\\r\\n            return this;\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    var DefaultLoadingManager = new LoadingManager();\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var loading = {};\\r\\n\\r\\n    function FileLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( FileLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            if ( url === undefined ) url = '';\\r\\n\\r\\n            if ( this.path !== undefined ) url = this.path + url;\\r\\n\\r\\n            url = this.manager.resolveURL( url );\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var cached = Cache.get( url );\\r\\n\\r\\n            if ( cached !== undefined ) {\\r\\n\\r\\n                scope.manager.itemStart( url );\\r\\n\\r\\n                setTimeout( function () {\\r\\n\\r\\n                    if ( onLoad ) onLoad( cached );\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n\\r\\n                }, 0 );\\r\\n\\r\\n                return cached;\\r\\n\\r\\n            }\\r\\n\\r\\n            // Check if request is duplicate\\r\\n\\r\\n            if ( loading[ url ] !== undefined ) {\\r\\n\\r\\n                loading[ url ].push( {\\r\\n\\r\\n                    onLoad: onLoad,\\r\\n                    onProgress: onProgress,\\r\\n                    onError: onError\\r\\n\\r\\n                } );\\r\\n\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            // Check for data: URI\\r\\n            var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\\r\\n            var dataUriRegexResult = url.match( dataUriRegex );\\r\\n\\r\\n            // Safari can not handle Data URIs through XMLHttpRequest so process manually\\r\\n            if ( dataUriRegexResult ) {\\r\\n\\r\\n                var mimeType = dataUriRegexResult[ 1 ];\\r\\n                var isBase64 = !! dataUriRegexResult[ 2 ];\\r\\n                var data = dataUriRegexResult[ 3 ];\\r\\n\\r\\n                data = window.decodeURIComponent( data );\\r\\n\\r\\n                if ( isBase64 ) data = window.atob( data );\\r\\n\\r\\n                try {\\r\\n\\r\\n                    var response;\\r\\n                    var responseType = ( this.responseType || '' ).toLowerCase();\\r\\n\\r\\n                    switch ( responseType ) {\\r\\n\\r\\n                        case 'arraybuffer':\\r\\n                        case 'blob':\\r\\n\\r\\n                            var view = new Uint8Array( data.length );\\r\\n\\r\\n                            for ( var i = 0; i < data.length; i ++ ) {\\r\\n\\r\\n                                view[ i ] = data.charCodeAt( i );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            if ( responseType === 'blob' ) {\\r\\n\\r\\n                                response = new Blob( [ view.buffer ], { type: mimeType } );\\r\\n\\r\\n                            } else {\\r\\n\\r\\n                                response = view.buffer;\\r\\n\\r\\n                            }\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'document':\\r\\n\\r\\n                            var parser = new DOMParser();\\r\\n                            response = parser.parseFromString( data, mimeType );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'json':\\r\\n\\r\\n                            response = JSON.parse( data );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        default: // 'text' or other\\r\\n\\r\\n                            response = data;\\r\\n\\r\\n                            break;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    // Wait for next browser tick like standard XMLHttpRequest event dispatching does\\r\\n                    window.setTimeout( function () {\\r\\n\\r\\n                        if ( onLoad ) onLoad( response );\\r\\n\\r\\n                        scope.manager.itemEnd( url );\\r\\n\\r\\n                    }, 0 );\\r\\n\\r\\n                } catch ( error ) {\\r\\n\\r\\n                    // Wait for next browser tick like standard XMLHttpRequest event dispatching does\\r\\n                    window.setTimeout( function () {\\r\\n\\r\\n                        if ( onError ) onError( error );\\r\\n\\r\\n                        scope.manager.itemEnd( url );\\r\\n                        scope.manager.itemError( url );\\r\\n\\r\\n                    }, 0 );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // Initialise array for duplicate requests\\r\\n\\r\\n                loading[ url ] = [];\\r\\n\\r\\n                loading[ url ].push( {\\r\\n\\r\\n                    onLoad: onLoad,\\r\\n                    onProgress: onProgress,\\r\\n                    onError: onError\\r\\n\\r\\n                } );\\r\\n\\r\\n                var request = new XMLHttpRequest();\\r\\n\\r\\n                request.open( 'GET', url, true );\\r\\n\\r\\n                request.addEventListener( 'load', function ( event ) {\\r\\n\\r\\n                    var response = this.response;\\r\\n\\r\\n                    Cache.add( url, response );\\r\\n\\r\\n                    var callbacks = loading[ url ];\\r\\n\\r\\n                    delete loading[ url ];\\r\\n\\r\\n                    if ( this.status === 200 || this.status === 0 ) {\\r\\n\\r\\n                        // Some browsers return HTTP Status 0 when using non-http protocol\\r\\n                        // e.g. 'file://' or 'data://'. Handle as success.\\r\\n\\r\\n                        if ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\\r\\n\\r\\n                        for ( var i = 0, il = callbacks.length; i < il; i ++ ) {\\r\\n\\r\\n                            var callback = callbacks[ i ];\\r\\n                            if ( callback.onLoad ) callback.onLoad( response );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        scope.manager.itemEnd( url );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        for ( var i = 0, il = callbacks.length; i < il; i ++ ) {\\r\\n\\r\\n                            var callback = callbacks[ i ];\\r\\n                            if ( callback.onError ) callback.onError( event );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        scope.manager.itemEnd( url );\\r\\n                        scope.manager.itemError( url );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }, false );\\r\\n\\r\\n                request.addEventListener( 'progress', function ( event ) {\\r\\n\\r\\n                    var callbacks = loading[ url ];\\r\\n\\r\\n                    for ( var i = 0, il = callbacks.length; i < il; i ++ ) {\\r\\n\\r\\n                        var callback = callbacks[ i ];\\r\\n                        if ( callback.onProgress ) callback.onProgress( event );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }, false );\\r\\n\\r\\n                request.addEventListener( 'error', function ( event ) {\\r\\n\\r\\n                    var callbacks = loading[ url ];\\r\\n\\r\\n                    delete loading[ url ];\\r\\n\\r\\n                    for ( var i = 0, il = callbacks.length; i < il; i ++ ) {\\r\\n\\r\\n                        var callback = callbacks[ i ];\\r\\n                        if ( callback.onError ) callback.onError( event );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n                    scope.manager.itemError( url );\\r\\n\\r\\n                }, false );\\r\\n\\r\\n                request.addEventListener( 'abort', function ( event ) {\\r\\n\\r\\n                    var callbacks = loading[ url ];\\r\\n\\r\\n                    delete loading[ url ];\\r\\n\\r\\n                    for ( var i = 0, il = callbacks.length; i < il; i ++ ) {\\r\\n\\r\\n                        var callback = callbacks[ i ];\\r\\n                        if ( callback.onError ) callback.onError( event );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n                    scope.manager.itemError( url );\\r\\n\\r\\n                }, false );\\r\\n\\r\\n                if ( this.responseType !== undefined ) request.responseType = this.responseType;\\r\\n                if ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\\r\\n\\r\\n                if ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\\r\\n\\r\\n                for ( var header in this.requestHeader ) {\\r\\n\\r\\n                    request.setRequestHeader( header, this.requestHeader[ header ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                request.send( null );\\r\\n\\r\\n            }\\r\\n\\r\\n            scope.manager.itemStart( url );\\r\\n\\r\\n            return request;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setResponseType: function ( value ) {\\r\\n\\r\\n            this.responseType = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setWithCredentials: function ( value ) {\\r\\n\\r\\n            this.withCredentials = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setMimeType: function ( value ) {\\r\\n\\r\\n            this.mimeType = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setRequestHeader: function ( value ) {\\r\\n\\r\\n            this.requestHeader = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     *\\r\\n     * Abstract Base class to block based textures loader (dds, pvr, ...)\\r\\n     */\\r\\n\\r\\n    function CompressedTextureLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n        // override in sub classes\\r\\n        this._parser = null;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( CompressedTextureLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var images = [];\\r\\n\\r\\n            var texture = new CompressedTexture();\\r\\n            texture.image = images;\\r\\n\\r\\n            var loader = new FileLoader( this.manager );\\r\\n            loader.setPath( this.path );\\r\\n            loader.setResponseType( 'arraybuffer' );\\r\\n\\r\\n            function loadTexture( i ) {\\r\\n\\r\\n                loader.load( url[ i ], function ( buffer ) {\\r\\n\\r\\n                    var texDatas = scope._parser( buffer, true );\\r\\n\\r\\n                    images[ i ] = {\\r\\n                        width: texDatas.width,\\r\\n                        height: texDatas.height,\\r\\n                        format: texDatas.format,\\r\\n                        mipmaps: texDatas.mipmaps\\r\\n                    };\\r\\n\\r\\n                    loaded += 1;\\r\\n\\r\\n                    if ( loaded === 6 ) {\\r\\n\\r\\n                        if ( texDatas.mipmapCount === 1 )\\r\\n                            texture.minFilter = LinearFilter;\\r\\n\\r\\n                        texture.format = texDatas.format;\\r\\n                        texture.needsUpdate = true;\\r\\n\\r\\n                        if ( onLoad ) onLoad( texture );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }, onProgress, onError );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( Array.isArray( url ) ) {\\r\\n\\r\\n                var loaded = 0;\\r\\n\\r\\n                for ( var i = 0, il = url.length; i < il; ++ i ) {\\r\\n\\r\\n                    loadTexture( i );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // compressed cubemap texture stored in a single DDS file\\r\\n\\r\\n                loader.load( url, function ( buffer ) {\\r\\n\\r\\n                    var texDatas = scope._parser( buffer, true );\\r\\n\\r\\n                    if ( texDatas.isCubemap ) {\\r\\n\\r\\n                        var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\\r\\n\\r\\n                        for ( var f = 0; f < faces; f ++ ) {\\r\\n\\r\\n                            images[ f ] = { mipmaps: [] };\\r\\n\\r\\n                            for ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\\r\\n\\r\\n                                images[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\\r\\n                                images[ f ].format = texDatas.format;\\r\\n                                images[ f ].width = texDatas.width;\\r\\n                                images[ f ].height = texDatas.height;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        texture.image.width = texDatas.width;\\r\\n                        texture.image.height = texDatas.height;\\r\\n                        texture.mipmaps = texDatas.mipmaps;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( texDatas.mipmapCount === 1 ) {\\r\\n\\r\\n                        texture.minFilter = LinearFilter;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    texture.format = texDatas.format;\\r\\n                    texture.needsUpdate = true;\\r\\n\\r\\n                    if ( onLoad ) onLoad( texture );\\r\\n\\r\\n                }, onProgress, onError );\\r\\n\\r\\n            }\\r\\n\\r\\n            return texture;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author Nikos M. / https://github.com/foo123/\\r\\n     *\\r\\n     * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\\r\\n     */\\r\\n\\r\\n    function DataTextureLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n        // override in sub classes\\r\\n        this._parser = null;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( DataTextureLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var texture = new DataTexture();\\r\\n\\r\\n            var loader = new FileLoader( this.manager );\\r\\n            loader.setResponseType( 'arraybuffer' );\\r\\n\\r\\n            loader.load( url, function ( buffer ) {\\r\\n\\r\\n                var texData = scope._parser( buffer );\\r\\n\\r\\n                if ( ! texData ) return;\\r\\n\\r\\n                if ( undefined !== texData.image ) {\\r\\n\\r\\n                    texture.image = texData.image;\\r\\n\\r\\n                } else if ( undefined !== texData.data ) {\\r\\n\\r\\n                    texture.image.width = texData.width;\\r\\n                    texture.image.height = texData.height;\\r\\n                    texture.image.data = texData.data;\\r\\n\\r\\n                }\\r\\n\\r\\n                texture.wrapS = undefined !== texData.wrapS ? texData.wrapS : ClampToEdgeWrapping;\\r\\n                texture.wrapT = undefined !== texData.wrapT ? texData.wrapT : ClampToEdgeWrapping;\\r\\n\\r\\n                texture.magFilter = undefined !== texData.magFilter ? texData.magFilter : LinearFilter;\\r\\n                texture.minFilter = undefined !== texData.minFilter ? texData.minFilter : LinearMipMapLinearFilter;\\r\\n\\r\\n                texture.anisotropy = undefined !== texData.anisotropy ? texData.anisotropy : 1;\\r\\n\\r\\n                if ( undefined !== texData.format ) {\\r\\n\\r\\n                    texture.format = texData.format;\\r\\n\\r\\n                }\\r\\n                if ( undefined !== texData.type ) {\\r\\n\\r\\n                    texture.type = texData.type;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( undefined !== texData.mipmaps ) {\\r\\n\\r\\n                    texture.mipmaps = texData.mipmaps;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( 1 === texData.mipmapCount ) {\\r\\n\\r\\n                    texture.minFilter = LinearFilter;\\r\\n\\r\\n                }\\r\\n\\r\\n                texture.needsUpdate = true;\\r\\n\\r\\n                if ( onLoad ) onLoad( texture, texData );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n\\r\\n            return texture;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n\\r\\n    function ImageLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( ImageLoader.prototype, {\\r\\n\\r\\n        crossOrigin: 'anonymous',\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            if ( url === undefined ) url = '';\\r\\n\\r\\n            if ( this.path !== undefined ) url = this.path + url;\\r\\n\\r\\n            url = this.manager.resolveURL( url );\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var cached = Cache.get( url );\\r\\n\\r\\n            if ( cached !== undefined ) {\\r\\n\\r\\n                scope.manager.itemStart( url );\\r\\n\\r\\n                setTimeout( function () {\\r\\n\\r\\n                    if ( onLoad ) onLoad( cached );\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n\\r\\n                }, 0 );\\r\\n\\r\\n                return cached;\\r\\n\\r\\n            }\\r\\n\\r\\n            var image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\\r\\n\\r\\n            function onImageLoad() {\\r\\n\\r\\n                image.removeEventListener( 'load', onImageLoad, false );\\r\\n                image.removeEventListener( 'error', onImageError, false );\\r\\n\\r\\n                Cache.add( url, this );\\r\\n\\r\\n                if ( onLoad ) onLoad( this );\\r\\n\\r\\n                scope.manager.itemEnd( url );\\r\\n\\r\\n            }\\r\\n\\r\\n            function onImageError( event ) {\\r\\n\\r\\n                image.removeEventListener( 'load', onImageLoad, false );\\r\\n                image.removeEventListener( 'error', onImageError, false );\\r\\n\\r\\n                if ( onError ) onError( event );\\r\\n\\r\\n                scope.manager.itemEnd( url );\\r\\n                scope.manager.itemError( url );\\r\\n\\r\\n            }\\r\\n\\r\\n            image.addEventListener( 'load', onImageLoad, false );\\r\\n            image.addEventListener( 'error', onImageError, false );\\r\\n\\r\\n            if ( url.substr( 0, 5 ) !== 'data:' ) {\\r\\n\\r\\n                if ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\\r\\n\\r\\n            }\\r\\n\\r\\n            scope.manager.itemStart( url );\\r\\n\\r\\n            image.src = url;\\r\\n\\r\\n            return image;\\r\\n\\r\\n        },\\r\\n\\r\\n        setCrossOrigin: function ( value ) {\\r\\n\\r\\n            this.crossOrigin = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n\\r\\n    function CubeTextureLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( CubeTextureLoader.prototype, {\\r\\n\\r\\n        crossOrigin: 'anonymous',\\r\\n\\r\\n        load: function ( urls, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var texture = new CubeTexture();\\r\\n\\r\\n            var loader = new ImageLoader( this.manager );\\r\\n            loader.setCrossOrigin( this.crossOrigin );\\r\\n            loader.setPath( this.path );\\r\\n\\r\\n            var loaded = 0;\\r\\n\\r\\n            function loadTexture( i ) {\\r\\n\\r\\n                loader.load( urls[ i ], function ( image ) {\\r\\n\\r\\n                    texture.images[ i ] = image;\\r\\n\\r\\n                    loaded ++;\\r\\n\\r\\n                    if ( loaded === 6 ) {\\r\\n\\r\\n                        texture.needsUpdate = true;\\r\\n\\r\\n                        if ( onLoad ) onLoad( texture );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }, undefined, onError );\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0; i < urls.length; ++ i ) {\\r\\n\\r\\n                loadTexture( i );\\r\\n\\r\\n            }\\r\\n\\r\\n            return texture;\\r\\n\\r\\n        },\\r\\n\\r\\n        setCrossOrigin: function ( value ) {\\r\\n\\r\\n            this.crossOrigin = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n\\r\\n    function TextureLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( TextureLoader.prototype, {\\r\\n\\r\\n        crossOrigin: 'anonymous',\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var texture = new Texture();\\r\\n\\r\\n            var loader = new ImageLoader( this.manager );\\r\\n            loader.setCrossOrigin( this.crossOrigin );\\r\\n            loader.setPath( this.path );\\r\\n\\r\\n            loader.load( url, function ( image ) {\\r\\n\\r\\n                texture.image = image;\\r\\n\\r\\n                // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\\r\\n                var isJPEG = url.search( /\\\\.jpe?g$/i ) > 0 || url.search( /^data\\\\:image\\\\/jpeg/ ) === 0;\\r\\n\\r\\n                texture.format = isJPEG ? RGBFormat : RGBAFormat;\\r\\n                texture.needsUpdate = true;\\r\\n\\r\\n                if ( onLoad !== undefined ) {\\r\\n\\r\\n                    onLoad( texture );\\r\\n\\r\\n                }\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n            return texture;\\r\\n\\r\\n        },\\r\\n\\r\\n        setCrossOrigin: function ( value ) {\\r\\n\\r\\n            this.crossOrigin = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * Extensible curve object\\r\\n     *\\r\\n     * Some common of curve methods:\\r\\n     * .getPoint( t, optionalTarget ), .getTangent( t )\\r\\n     * .getPointAt( u, optionalTarget ), .getTangentAt( u )\\r\\n     * .getPoints(), .getSpacedPoints()\\r\\n     * .getLength()\\r\\n     * .updateArcLengths()\\r\\n     *\\r\\n     * This following curves inherit from THREE.Curve:\\r\\n     *\\r\\n     * -- 2D curves --\\r\\n     * THREE.ArcCurve\\r\\n     * THREE.CubicBezierCurve\\r\\n     * THREE.EllipseCurve\\r\\n     * THREE.LineCurve\\r\\n     * THREE.QuadraticBezierCurve\\r\\n     * THREE.SplineCurve\\r\\n     *\\r\\n     * -- 3D curves --\\r\\n     * THREE.CatmullRomCurve3\\r\\n     * THREE.CubicBezierCurve3\\r\\n     * THREE.LineCurve3\\r\\n     * THREE.QuadraticBezierCurve3\\r\\n     *\\r\\n     * A series of curves can be represented as a THREE.CurvePath.\\r\\n     *\\r\\n     **/\\r\\n\\r\\n    /**************************************************************\\r\\n     *\\tAbstract Curve base class\\r\\n     **************************************************************/\\r\\n\\r\\n    function Curve() {\\r\\n\\r\\n        this.type = 'Curve';\\r\\n\\r\\n        this.arcLengthDivisions = 200;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Curve.prototype, {\\r\\n\\r\\n        // Virtual base class method to overwrite and implement in subclasses\\r\\n        //\\t- t [0 .. 1]\\r\\n\\r\\n        getPoint: function ( /* t, optionalTarget */ ) {\\r\\n\\r\\n            console.warn( 'THREE.Curve: .getPoint() not implemented.' );\\r\\n            return null;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Get point at relative position in curve according to arc length\\r\\n        // - u [0 .. 1]\\r\\n\\r\\n        getPointAt: function ( u, optionalTarget ) {\\r\\n\\r\\n            var t = this.getUtoTmapping( u );\\r\\n            return this.getPoint( t, optionalTarget );\\r\\n\\r\\n        },\\r\\n\\r\\n        // Get sequence of points using getPoint( t )\\r\\n\\r\\n        getPoints: function ( divisions ) {\\r\\n\\r\\n            if ( divisions === undefined ) divisions = 5;\\r\\n\\r\\n            var points = [];\\r\\n\\r\\n            for ( var d = 0; d <= divisions; d ++ ) {\\r\\n\\r\\n                points.push( this.getPoint( d / divisions ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return points;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Get sequence of points using getPointAt( u )\\r\\n\\r\\n        getSpacedPoints: function ( divisions ) {\\r\\n\\r\\n            if ( divisions === undefined ) divisions = 5;\\r\\n\\r\\n            var points = [];\\r\\n\\r\\n            for ( var d = 0; d <= divisions; d ++ ) {\\r\\n\\r\\n                points.push( this.getPointAt( d / divisions ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return points;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Get total curve arc length\\r\\n\\r\\n        getLength: function () {\\r\\n\\r\\n            var lengths = this.getLengths();\\r\\n            return lengths[ lengths.length - 1 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        // Get list of cumulative segment lengths\\r\\n\\r\\n        getLengths: function ( divisions ) {\\r\\n\\r\\n            if ( divisions === undefined ) divisions = this.arcLengthDivisions;\\r\\n\\r\\n            if ( this.cacheArcLengths &&\\r\\n                ( this.cacheArcLengths.length === divisions + 1 ) &&\\r\\n                ! this.needsUpdate ) {\\r\\n\\r\\n                return this.cacheArcLengths;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.needsUpdate = false;\\r\\n\\r\\n            var cache = [];\\r\\n            var current, last = this.getPoint( 0 );\\r\\n            var p, sum = 0;\\r\\n\\r\\n            cache.push( 0 );\\r\\n\\r\\n            for ( p = 1; p <= divisions; p ++ ) {\\r\\n\\r\\n                current = this.getPoint( p / divisions );\\r\\n                sum += current.distanceTo( last );\\r\\n                cache.push( sum );\\r\\n                last = current;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.cacheArcLengths = cache;\\r\\n\\r\\n            return cache; // { sums: cache, sum: sum }; Sum is in the last element.\\r\\n\\r\\n        },\\r\\n\\r\\n        updateArcLengths: function () {\\r\\n\\r\\n            this.needsUpdate = true;\\r\\n            this.getLengths();\\r\\n\\r\\n        },\\r\\n\\r\\n        // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\\r\\n\\r\\n        getUtoTmapping: function ( u, distance ) {\\r\\n\\r\\n            var arcLengths = this.getLengths();\\r\\n\\r\\n            var i = 0, il = arcLengths.length;\\r\\n\\r\\n            var targetArcLength; // The targeted u distance value to get\\r\\n\\r\\n            if ( distance ) {\\r\\n\\r\\n                targetArcLength = distance;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                targetArcLength = u * arcLengths[ il - 1 ];\\r\\n\\r\\n            }\\r\\n\\r\\n            // binary search for the index with largest value smaller than target u distance\\r\\n\\r\\n            var low = 0, high = il - 1, comparison;\\r\\n\\r\\n            while ( low <= high ) {\\r\\n\\r\\n                i = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\\r\\n\\r\\n                comparison = arcLengths[ i ] - targetArcLength;\\r\\n\\r\\n                if ( comparison < 0 ) {\\r\\n\\r\\n                    low = i + 1;\\r\\n\\r\\n                } else if ( comparison > 0 ) {\\r\\n\\r\\n                    high = i - 1;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    high = i;\\r\\n                    break;\\r\\n\\r\\n                    // DONE\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            i = high;\\r\\n\\r\\n            if ( arcLengths[ i ] === targetArcLength ) {\\r\\n\\r\\n                return i / ( il - 1 );\\r\\n\\r\\n            }\\r\\n\\r\\n            // we could get finer grain at lengths, or use simple interpolation between two points\\r\\n\\r\\n            var lengthBefore = arcLengths[ i ];\\r\\n            var lengthAfter = arcLengths[ i + 1 ];\\r\\n\\r\\n            var segmentLength = lengthAfter - lengthBefore;\\r\\n\\r\\n            // determine where we are between the 'before' and 'after' points\\r\\n\\r\\n            var segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\\r\\n\\r\\n            // add that fractional amount to t\\r\\n\\r\\n            var t = ( i + segmentFraction ) / ( il - 1 );\\r\\n\\r\\n            return t;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Returns a unit vector tangent at t\\r\\n        // In case any sub curve does not implement its tangent derivation,\\r\\n        // 2 points a small delta apart will be used to find its gradient\\r\\n        // which seems to give a reasonable approximation\\r\\n\\r\\n        getTangent: function ( t ) {\\r\\n\\r\\n            var delta = 0.0001;\\r\\n            var t1 = t - delta;\\r\\n            var t2 = t + delta;\\r\\n\\r\\n            // Capping in case of danger\\r\\n\\r\\n            if ( t1 < 0 ) t1 = 0;\\r\\n            if ( t2 > 1 ) t2 = 1;\\r\\n\\r\\n            var pt1 = this.getPoint( t1 );\\r\\n            var pt2 = this.getPoint( t2 );\\r\\n\\r\\n            var vec = pt2.clone().sub( pt1 );\\r\\n            return vec.normalize();\\r\\n\\r\\n        },\\r\\n\\r\\n        getTangentAt: function ( u ) {\\r\\n\\r\\n            var t = this.getUtoTmapping( u );\\r\\n            return this.getTangent( t );\\r\\n\\r\\n        },\\r\\n\\r\\n        computeFrenetFrames: function ( segments, closed ) {\\r\\n\\r\\n            // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\\r\\n\\r\\n            var normal = new Vector3();\\r\\n\\r\\n            var tangents = [];\\r\\n            var normals = [];\\r\\n            var binormals = [];\\r\\n\\r\\n            var vec = new Vector3();\\r\\n            var mat = new Matrix4();\\r\\n\\r\\n            var i, u, theta;\\r\\n\\r\\n            // compute the tangent vectors for each segment on the curve\\r\\n\\r\\n            for ( i = 0; i <= segments; i ++ ) {\\r\\n\\r\\n                u = i / segments;\\r\\n\\r\\n                tangents[ i ] = this.getTangentAt( u );\\r\\n                tangents[ i ].normalize();\\r\\n\\r\\n            }\\r\\n\\r\\n            // select an initial normal vector perpendicular to the first tangent vector,\\r\\n            // and in the direction of the minimum tangent xyz component\\r\\n\\r\\n            normals[ 0 ] = new Vector3();\\r\\n            binormals[ 0 ] = new Vector3();\\r\\n            var min = Number.MAX_VALUE;\\r\\n            var tx = Math.abs( tangents[ 0 ].x );\\r\\n            var ty = Math.abs( tangents[ 0 ].y );\\r\\n            var tz = Math.abs( tangents[ 0 ].z );\\r\\n\\r\\n            if ( tx <= min ) {\\r\\n\\r\\n                min = tx;\\r\\n                normal.set( 1, 0, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( ty <= min ) {\\r\\n\\r\\n                min = ty;\\r\\n                normal.set( 0, 1, 0 );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( tz <= min ) {\\r\\n\\r\\n                normal.set( 0, 0, 1 );\\r\\n\\r\\n            }\\r\\n\\r\\n            vec.crossVectors( tangents[ 0 ], normal ).normalize();\\r\\n\\r\\n            normals[ 0 ].crossVectors( tangents[ 0 ], vec );\\r\\n            binormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\\r\\n\\r\\n\\r\\n            // compute the slowly-varying normal and binormal vectors for each segment on the curve\\r\\n\\r\\n            for ( i = 1; i <= segments; i ++ ) {\\r\\n\\r\\n                normals[ i ] = normals[ i - 1 ].clone();\\r\\n\\r\\n                binormals[ i ] = binormals[ i - 1 ].clone();\\r\\n\\r\\n                vec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\\r\\n\\r\\n                if ( vec.length() > Number.EPSILON ) {\\r\\n\\r\\n                    vec.normalize();\\r\\n\\r\\n                    theta = Math.acos( _Math.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\\r\\n\\r\\n                    normals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                binormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\\r\\n\\r\\n            if ( closed === true ) {\\r\\n\\r\\n                theta = Math.acos( _Math.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\\r\\n                theta /= segments;\\r\\n\\r\\n                if ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\\r\\n\\r\\n                    theta = - theta;\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( i = 1; i <= segments; i ++ ) {\\r\\n\\r\\n                    // twist a little...\\r\\n                    normals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\\r\\n                    binormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return {\\r\\n                tangents: tangents,\\r\\n                normals: normals,\\r\\n                binormals: binormals\\r\\n            };\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.arcLengthDivisions = source.arcLengthDivisions;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var data = {\\r\\n                metadata: {\\r\\n                    version: 4.5,\\r\\n                    type: 'Curve',\\r\\n                    generator: 'Curve.toJSON'\\r\\n                }\\r\\n            };\\r\\n\\r\\n            data.arcLengthDivisions = this.arcLengthDivisions;\\r\\n            data.type = this.type;\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromJSON: function ( json ) {\\r\\n\\r\\n            this.arcLengthDivisions = json.arcLengthDivisions;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    function EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'EllipseCurve';\\r\\n\\r\\n        this.aX = aX || 0;\\r\\n        this.aY = aY || 0;\\r\\n\\r\\n        this.xRadius = xRadius || 1;\\r\\n        this.yRadius = yRadius || 1;\\r\\n\\r\\n        this.aStartAngle = aStartAngle || 0;\\r\\n        this.aEndAngle = aEndAngle || 2 * Math.PI;\\r\\n\\r\\n        this.aClockwise = aClockwise || false;\\r\\n\\r\\n        this.aRotation = aRotation || 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    EllipseCurve.prototype = Object.create( Curve.prototype );\\r\\n    EllipseCurve.prototype.constructor = EllipseCurve;\\r\\n\\r\\n    EllipseCurve.prototype.isEllipseCurve = true;\\r\\n\\r\\n    EllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector2();\\r\\n\\r\\n        var twoPi = Math.PI * 2;\\r\\n        var deltaAngle = this.aEndAngle - this.aStartAngle;\\r\\n        var samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\\r\\n\\r\\n        // ensures that deltaAngle is 0 .. 2 PI\\r\\n        while ( deltaAngle < 0 ) deltaAngle += twoPi;\\r\\n        while ( deltaAngle > twoPi ) deltaAngle -= twoPi;\\r\\n\\r\\n        if ( deltaAngle < Number.EPSILON ) {\\r\\n\\r\\n            if ( samePoints ) {\\r\\n\\r\\n                deltaAngle = 0;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                deltaAngle = twoPi;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( this.aClockwise === true && ! samePoints ) {\\r\\n\\r\\n            if ( deltaAngle === twoPi ) {\\r\\n\\r\\n                deltaAngle = - twoPi;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                deltaAngle = deltaAngle - twoPi;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        var angle = this.aStartAngle + t * deltaAngle;\\r\\n        var x = this.aX + this.xRadius * Math.cos( angle );\\r\\n        var y = this.aY + this.yRadius * Math.sin( angle );\\r\\n\\r\\n        if ( this.aRotation !== 0 ) {\\r\\n\\r\\n            var cos = Math.cos( this.aRotation );\\r\\n            var sin = Math.sin( this.aRotation );\\r\\n\\r\\n            var tx = x - this.aX;\\r\\n            var ty = y - this.aY;\\r\\n\\r\\n            // Rotate the point about the center of the ellipse.\\r\\n            x = tx * cos - ty * sin + this.aX;\\r\\n            y = tx * sin + ty * cos + this.aY;\\r\\n\\r\\n        }\\r\\n\\r\\n        return point.set( x, y );\\r\\n\\r\\n    };\\r\\n\\r\\n    EllipseCurve.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.aX = source.aX;\\r\\n        this.aY = source.aY;\\r\\n\\r\\n        this.xRadius = source.xRadius;\\r\\n        this.yRadius = source.yRadius;\\r\\n\\r\\n        this.aStartAngle = source.aStartAngle;\\r\\n        this.aEndAngle = source.aEndAngle;\\r\\n\\r\\n        this.aClockwise = source.aClockwise;\\r\\n\\r\\n        this.aRotation = source.aRotation;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n\\r\\n    EllipseCurve.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.aX = this.aX;\\r\\n        data.aY = this.aY;\\r\\n\\r\\n        data.xRadius = this.xRadius;\\r\\n        data.yRadius = this.yRadius;\\r\\n\\r\\n        data.aStartAngle = this.aStartAngle;\\r\\n        data.aEndAngle = this.aEndAngle;\\r\\n\\r\\n        data.aClockwise = this.aClockwise;\\r\\n\\r\\n        data.aRotation = this.aRotation;\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    EllipseCurve.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.aX = json.aX;\\r\\n        this.aY = json.aY;\\r\\n\\r\\n        this.xRadius = json.xRadius;\\r\\n        this.yRadius = json.yRadius;\\r\\n\\r\\n        this.aStartAngle = json.aStartAngle;\\r\\n        this.aEndAngle = json.aEndAngle;\\r\\n\\r\\n        this.aClockwise = json.aClockwise;\\r\\n\\r\\n        this.aRotation = json.aRotation;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\\r\\n\\r\\n        EllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\\r\\n\\r\\n        this.type = 'ArcCurve';\\r\\n\\r\\n    }\\r\\n\\r\\n    ArcCurve.prototype = Object.create( EllipseCurve.prototype );\\r\\n    ArcCurve.prototype.constructor = ArcCurve;\\r\\n\\r\\n    ArcCurve.prototype.isArcCurve = true;\\r\\n\\r\\n    /**\\r\\n     * @author zz85 https://github.com/zz85\\r\\n     *\\r\\n     * Centripetal CatmullRom Curve - which is useful for avoiding\\r\\n     * cusps and self-intersections in non-uniform catmull rom curves.\\r\\n     * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\\r\\n     *\\r\\n     * curve.type accepts centripetal(default), chordal and catmullrom\\r\\n     * curve.tension is used for catmullrom which defaults to 0.5\\r\\n     */\\r\\n\\r\\n\\r\\n    /*\\r\\n\\tBased on an optimized c++ solution in\\r\\n\\t - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\\r\\n\\t - http://ideone.com/NoEbVM\\r\\n\\r\\n\\tThis CubicPoly class could be used for reusing some variables and calculations,\\r\\n\\tbut for three.js curve use, it could be possible inlined and flatten into a single function call\\r\\n\\twhich can be placed in CurveUtils.\\r\\n\\t*/\\r\\n\\r\\n    function CubicPoly() {\\r\\n\\r\\n        var c0 = 0, c1 = 0, c2 = 0, c3 = 0;\\r\\n\\r\\n        /*\\r\\n\\t\\t * Compute coefficients for a cubic polynomial\\r\\n\\t\\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\\r\\n\\t\\t * such that\\r\\n\\t\\t *   p(0) = x0, p(1) = x1\\r\\n\\t\\t *  and\\r\\n\\t\\t *   p'(0) = t0, p'(1) = t1.\\r\\n\\t\\t */\\r\\n        function init( x0, x1, t0, t1 ) {\\r\\n\\r\\n            c0 = x0;\\r\\n            c1 = t0;\\r\\n            c2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\\r\\n            c3 = 2 * x0 - 2 * x1 + t0 + t1;\\r\\n\\r\\n        }\\r\\n\\r\\n        return {\\r\\n\\r\\n            initCatmullRom: function ( x0, x1, x2, x3, tension ) {\\r\\n\\r\\n                init( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\\r\\n\\r\\n            },\\r\\n\\r\\n            initNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\\r\\n\\r\\n                // compute tangents when parameterized in [t1,t2]\\r\\n                var t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\\r\\n                var t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\\r\\n\\r\\n                // rescale tangents for parametrization in [0,1]\\r\\n                t1 *= dt1;\\r\\n                t2 *= dt1;\\r\\n\\r\\n                init( x1, x2, t1, t2 );\\r\\n\\r\\n            },\\r\\n\\r\\n            calc: function ( t ) {\\r\\n\\r\\n                var t2 = t * t;\\r\\n                var t3 = t2 * t;\\r\\n                return c0 + c1 * t + c2 * t2 + c3 * t3;\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    var tmp = new Vector3();\\r\\n    var px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\\r\\n\\r\\n    function CatmullRomCurve3( points, closed, curveType, tension ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'CatmullRomCurve3';\\r\\n\\r\\n        this.points = points || [];\\r\\n        this.closed = closed || false;\\r\\n        this.curveType = curveType || 'centripetal';\\r\\n        this.tension = tension || 0.5;\\r\\n\\r\\n    }\\r\\n\\r\\n    CatmullRomCurve3.prototype = Object.create( Curve.prototype );\\r\\n    CatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\\r\\n\\r\\n    CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\\r\\n\\r\\n    CatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector3();\\r\\n\\r\\n        var points = this.points;\\r\\n        var l = points.length;\\r\\n\\r\\n        var p = ( l - ( this.closed ? 0 : 1 ) ) * t;\\r\\n        var intPoint = Math.floor( p );\\r\\n        var weight = p - intPoint;\\r\\n\\r\\n        if ( this.closed ) {\\r\\n\\r\\n            intPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\\r\\n\\r\\n        } else if ( weight === 0 && intPoint === l - 1 ) {\\r\\n\\r\\n            intPoint = l - 2;\\r\\n            weight = 1;\\r\\n\\r\\n        }\\r\\n\\r\\n        var p0, p1, p2, p3; // 4 points\\r\\n\\r\\n        if ( this.closed || intPoint > 0 ) {\\r\\n\\r\\n            p0 = points[ ( intPoint - 1 ) % l ];\\r\\n\\r\\n        } else {\\r\\n\\r\\n            // extrapolate first point\\r\\n            tmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\\r\\n            p0 = tmp;\\r\\n\\r\\n        }\\r\\n\\r\\n        p1 = points[ intPoint % l ];\\r\\n        p2 = points[ ( intPoint + 1 ) % l ];\\r\\n\\r\\n        if ( this.closed || intPoint + 2 < l ) {\\r\\n\\r\\n            p3 = points[ ( intPoint + 2 ) % l ];\\r\\n\\r\\n        } else {\\r\\n\\r\\n            // extrapolate last point\\r\\n            tmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\\r\\n            p3 = tmp;\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\\r\\n\\r\\n            // init Centripetal / Chordal Catmull-Rom\\r\\n            var pow = this.curveType === 'chordal' ? 0.5 : 0.25;\\r\\n            var dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\\r\\n            var dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\\r\\n            var dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\\r\\n\\r\\n            // safety check for repeated points\\r\\n            if ( dt1 < 1e-4 ) dt1 = 1.0;\\r\\n            if ( dt0 < 1e-4 ) dt0 = dt1;\\r\\n            if ( dt2 < 1e-4 ) dt2 = dt1;\\r\\n\\r\\n            px.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\\r\\n            py.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\\r\\n            pz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\\r\\n\\r\\n        } else if ( this.curveType === 'catmullrom' ) {\\r\\n\\r\\n            px.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\\r\\n            py.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\\r\\n            pz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\\r\\n\\r\\n        }\\r\\n\\r\\n        point.set(\\r\\n            px.calc( weight ),\\r\\n            py.calc( weight ),\\r\\n            pz.calc( weight )\\r\\n        );\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    CatmullRomCurve3.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.points = [];\\r\\n\\r\\n        for ( var i = 0, l = source.points.length; i < l; i ++ ) {\\r\\n\\r\\n            var point = source.points[ i ];\\r\\n\\r\\n            this.points.push( point.clone() );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.closed = source.closed;\\r\\n        this.curveType = source.curveType;\\r\\n        this.tension = source.tension;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    CatmullRomCurve3.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.points = [];\\r\\n\\r\\n        for ( var i = 0, l = this.points.length; i < l; i ++ ) {\\r\\n\\r\\n            var point = this.points[ i ];\\r\\n            data.points.push( point.toArray() );\\r\\n\\r\\n        }\\r\\n\\r\\n        data.closed = this.closed;\\r\\n        data.curveType = this.curveType;\\r\\n        data.tension = this.tension;\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    CatmullRomCurve3.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.points = [];\\r\\n\\r\\n        for ( var i = 0, l = json.points.length; i < l; i ++ ) {\\r\\n\\r\\n            var point = json.points[ i ];\\r\\n            this.points.push( new Vector3().fromArray( point ) );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.closed = json.closed;\\r\\n        this.curveType = json.curveType;\\r\\n        this.tension = json.tension;\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     *\\r\\n     * Bezier Curves formulas obtained from\\r\\n     * http://en.wikipedia.org/wiki/Bézier_curve\\r\\n     */\\r\\n\\r\\n    function CatmullRom( t, p0, p1, p2, p3 ) {\\r\\n\\r\\n        var v0 = ( p2 - p0 ) * 0.5;\\r\\n        var v1 = ( p3 - p1 ) * 0.5;\\r\\n        var t2 = t * t;\\r\\n        var t3 = t * t2;\\r\\n        return ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    function QuadraticBezierP0( t, p ) {\\r\\n\\r\\n        var k = 1 - t;\\r\\n        return k * k * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function QuadraticBezierP1( t, p ) {\\r\\n\\r\\n        return 2 * ( 1 - t ) * t * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function QuadraticBezierP2( t, p ) {\\r\\n\\r\\n        return t * t * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function QuadraticBezier( t, p0, p1, p2 ) {\\r\\n\\r\\n        return QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\\r\\n            QuadraticBezierP2( t, p2 );\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    function CubicBezierP0( t, p ) {\\r\\n\\r\\n        var k = 1 - t;\\r\\n        return k * k * k * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function CubicBezierP1( t, p ) {\\r\\n\\r\\n        var k = 1 - t;\\r\\n        return 3 * k * k * t * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function CubicBezierP2( t, p ) {\\r\\n\\r\\n        return 3 * ( 1 - t ) * t * t * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function CubicBezierP3( t, p ) {\\r\\n\\r\\n        return t * t * t * p;\\r\\n\\r\\n    }\\r\\n\\r\\n    function CubicBezier( t, p0, p1, p2, p3 ) {\\r\\n\\r\\n        return CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\\r\\n            CubicBezierP3( t, p3 );\\r\\n\\r\\n    }\\r\\n\\r\\n    function CubicBezierCurve( v0, v1, v2, v3 ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'CubicBezierCurve';\\r\\n\\r\\n        this.v0 = v0 || new Vector2();\\r\\n        this.v1 = v1 || new Vector2();\\r\\n        this.v2 = v2 || new Vector2();\\r\\n        this.v3 = v3 || new Vector2();\\r\\n\\r\\n    }\\r\\n\\r\\n    CubicBezierCurve.prototype = Object.create( Curve.prototype );\\r\\n    CubicBezierCurve.prototype.constructor = CubicBezierCurve;\\r\\n\\r\\n    CubicBezierCurve.prototype.isCubicBezierCurve = true;\\r\\n\\r\\n    CubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector2();\\r\\n\\r\\n        var v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\\r\\n\\r\\n        point.set(\\r\\n            CubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\\r\\n            CubicBezier( t, v0.y, v1.y, v2.y, v3.y )\\r\\n        );\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    CubicBezierCurve.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.v0.copy( source.v0 );\\r\\n        this.v1.copy( source.v1 );\\r\\n        this.v2.copy( source.v2 );\\r\\n        this.v3.copy( source.v3 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    CubicBezierCurve.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.v0 = this.v0.toArray();\\r\\n        data.v1 = this.v1.toArray();\\r\\n        data.v2 = this.v2.toArray();\\r\\n        data.v3 = this.v3.toArray();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    CubicBezierCurve.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.v0.fromArray( json.v0 );\\r\\n        this.v1.fromArray( json.v1 );\\r\\n        this.v2.fromArray( json.v2 );\\r\\n        this.v3.fromArray( json.v3 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function CubicBezierCurve3( v0, v1, v2, v3 ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'CubicBezierCurve3';\\r\\n\\r\\n        this.v0 = v0 || new Vector3();\\r\\n        this.v1 = v1 || new Vector3();\\r\\n        this.v2 = v2 || new Vector3();\\r\\n        this.v3 = v3 || new Vector3();\\r\\n\\r\\n    }\\r\\n\\r\\n    CubicBezierCurve3.prototype = Object.create( Curve.prototype );\\r\\n    CubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\\r\\n\\r\\n    CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\\r\\n\\r\\n    CubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector3();\\r\\n\\r\\n        var v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\\r\\n\\r\\n        point.set(\\r\\n            CubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\\r\\n            CubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\\r\\n            CubicBezier( t, v0.z, v1.z, v2.z, v3.z )\\r\\n        );\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    CubicBezierCurve3.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.v0.copy( source.v0 );\\r\\n        this.v1.copy( source.v1 );\\r\\n        this.v2.copy( source.v2 );\\r\\n        this.v3.copy( source.v3 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    CubicBezierCurve3.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.v0 = this.v0.toArray();\\r\\n        data.v1 = this.v1.toArray();\\r\\n        data.v2 = this.v2.toArray();\\r\\n        data.v3 = this.v3.toArray();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    CubicBezierCurve3.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.v0.fromArray( json.v0 );\\r\\n        this.v1.fromArray( json.v1 );\\r\\n        this.v2.fromArray( json.v2 );\\r\\n        this.v3.fromArray( json.v3 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function LineCurve( v1, v2 ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'LineCurve';\\r\\n\\r\\n        this.v1 = v1 || new Vector2();\\r\\n        this.v2 = v2 || new Vector2();\\r\\n\\r\\n    }\\r\\n\\r\\n    LineCurve.prototype = Object.create( Curve.prototype );\\r\\n    LineCurve.prototype.constructor = LineCurve;\\r\\n\\r\\n    LineCurve.prototype.isLineCurve = true;\\r\\n\\r\\n    LineCurve.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector2();\\r\\n\\r\\n        if ( t === 1 ) {\\r\\n\\r\\n            point.copy( this.v2 );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            point.copy( this.v2 ).sub( this.v1 );\\r\\n            point.multiplyScalar( t ).add( this.v1 );\\r\\n\\r\\n        }\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    // Line curve is linear, so we can overwrite default getPointAt\\r\\n\\r\\n    LineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\\r\\n\\r\\n        return this.getPoint( u, optionalTarget );\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve.prototype.getTangent = function ( /* t */ ) {\\r\\n\\r\\n        var tangent = this.v2.clone().sub( this.v1 );\\r\\n\\r\\n        return tangent.normalize();\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.v1.copy( source.v1 );\\r\\n        this.v2.copy( source.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.v1 = this.v1.toArray();\\r\\n        data.v2 = this.v2.toArray();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.v1.fromArray( json.v1 );\\r\\n        this.v2.fromArray( json.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function LineCurve3( v1, v2 ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'LineCurve3';\\r\\n\\r\\n        this.v1 = v1 || new Vector3();\\r\\n        this.v2 = v2 || new Vector3();\\r\\n\\r\\n    }\\r\\n\\r\\n    LineCurve3.prototype = Object.create( Curve.prototype );\\r\\n    LineCurve3.prototype.constructor = LineCurve3;\\r\\n\\r\\n    LineCurve3.prototype.isLineCurve3 = true;\\r\\n\\r\\n    LineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector3();\\r\\n\\r\\n        if ( t === 1 ) {\\r\\n\\r\\n            point.copy( this.v2 );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            point.copy( this.v2 ).sub( this.v1 );\\r\\n            point.multiplyScalar( t ).add( this.v1 );\\r\\n\\r\\n        }\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    // Line curve is linear, so we can overwrite default getPointAt\\r\\n\\r\\n    LineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\\r\\n\\r\\n        return this.getPoint( u, optionalTarget );\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve3.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.v1.copy( source.v1 );\\r\\n        this.v2.copy( source.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve3.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.v1 = this.v1.toArray();\\r\\n        data.v2 = this.v2.toArray();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    LineCurve3.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.v1.fromArray( json.v1 );\\r\\n        this.v2.fromArray( json.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function QuadraticBezierCurve( v0, v1, v2 ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'QuadraticBezierCurve';\\r\\n\\r\\n        this.v0 = v0 || new Vector2();\\r\\n        this.v1 = v1 || new Vector2();\\r\\n        this.v2 = v2 || new Vector2();\\r\\n\\r\\n    }\\r\\n\\r\\n    QuadraticBezierCurve.prototype = Object.create( Curve.prototype );\\r\\n    QuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\\r\\n\\r\\n    QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\\r\\n\\r\\n    QuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector2();\\r\\n\\r\\n        var v0 = this.v0, v1 = this.v1, v2 = this.v2;\\r\\n\\r\\n        point.set(\\r\\n            QuadraticBezier( t, v0.x, v1.x, v2.x ),\\r\\n            QuadraticBezier( t, v0.y, v1.y, v2.y )\\r\\n        );\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    QuadraticBezierCurve.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.v0.copy( source.v0 );\\r\\n        this.v1.copy( source.v1 );\\r\\n        this.v2.copy( source.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    QuadraticBezierCurve.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.v0 = this.v0.toArray();\\r\\n        data.v1 = this.v1.toArray();\\r\\n        data.v2 = this.v2.toArray();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    QuadraticBezierCurve.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.v0.fromArray( json.v0 );\\r\\n        this.v1.fromArray( json.v1 );\\r\\n        this.v2.fromArray( json.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function QuadraticBezierCurve3( v0, v1, v2 ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'QuadraticBezierCurve3';\\r\\n\\r\\n        this.v0 = v0 || new Vector3();\\r\\n        this.v1 = v1 || new Vector3();\\r\\n        this.v2 = v2 || new Vector3();\\r\\n\\r\\n    }\\r\\n\\r\\n    QuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\\r\\n    QuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\\r\\n\\r\\n    QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\\r\\n\\r\\n    QuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector3();\\r\\n\\r\\n        var v0 = this.v0, v1 = this.v1, v2 = this.v2;\\r\\n\\r\\n        point.set(\\r\\n            QuadraticBezier( t, v0.x, v1.x, v2.x ),\\r\\n            QuadraticBezier( t, v0.y, v1.y, v2.y ),\\r\\n            QuadraticBezier( t, v0.z, v1.z, v2.z )\\r\\n        );\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    QuadraticBezierCurve3.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.v0.copy( source.v0 );\\r\\n        this.v1.copy( source.v1 );\\r\\n        this.v2.copy( source.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    QuadraticBezierCurve3.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.v0 = this.v0.toArray();\\r\\n        data.v1 = this.v1.toArray();\\r\\n        data.v2 = this.v2.toArray();\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    QuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.v0.fromArray( json.v0 );\\r\\n        this.v1.fromArray( json.v1 );\\r\\n        this.v2.fromArray( json.v2 );\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    function SplineCurve( points /* array of Vector2 */ ) {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'SplineCurve';\\r\\n\\r\\n        this.points = points || [];\\r\\n\\r\\n    }\\r\\n\\r\\n    SplineCurve.prototype = Object.create( Curve.prototype );\\r\\n    SplineCurve.prototype.constructor = SplineCurve;\\r\\n\\r\\n    SplineCurve.prototype.isSplineCurve = true;\\r\\n\\r\\n    SplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\\r\\n\\r\\n        var point = optionalTarget || new Vector2();\\r\\n\\r\\n        var points = this.points;\\r\\n        var p = ( points.length - 1 ) * t;\\r\\n\\r\\n        var intPoint = Math.floor( p );\\r\\n        var weight = p - intPoint;\\r\\n\\r\\n        var p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\\r\\n        var p1 = points[ intPoint ];\\r\\n        var p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\\r\\n        var p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\\r\\n\\r\\n        point.set(\\r\\n            CatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\\r\\n            CatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\\r\\n        );\\r\\n\\r\\n        return point;\\r\\n\\r\\n    };\\r\\n\\r\\n    SplineCurve.prototype.copy = function ( source ) {\\r\\n\\r\\n        Curve.prototype.copy.call( this, source );\\r\\n\\r\\n        this.points = [];\\r\\n\\r\\n        for ( var i = 0, l = source.points.length; i < l; i ++ ) {\\r\\n\\r\\n            var point = source.points[ i ];\\r\\n\\r\\n            this.points.push( point.clone() );\\r\\n\\r\\n        }\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    SplineCurve.prototype.toJSON = function () {\\r\\n\\r\\n        var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n        data.points = [];\\r\\n\\r\\n        for ( var i = 0, l = this.points.length; i < l; i ++ ) {\\r\\n\\r\\n            var point = this.points[ i ];\\r\\n            data.points.push( point.toArray() );\\r\\n\\r\\n        }\\r\\n\\r\\n        return data;\\r\\n\\r\\n    };\\r\\n\\r\\n    SplineCurve.prototype.fromJSON = function ( json ) {\\r\\n\\r\\n        Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n        this.points = [];\\r\\n\\r\\n        for ( var i = 0, l = json.points.length; i < l; i ++ ) {\\r\\n\\r\\n            var point = json.points[ i ];\\r\\n            this.points.push( new Vector2().fromArray( point ) );\\r\\n\\r\\n        }\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n\\r\\n\\r\\n    var Curves = /*#__PURE__*/Object.freeze({\\r\\n        ArcCurve: ArcCurve,\\r\\n        CatmullRomCurve3: CatmullRomCurve3,\\r\\n        CubicBezierCurve: CubicBezierCurve,\\r\\n        CubicBezierCurve3: CubicBezierCurve3,\\r\\n        EllipseCurve: EllipseCurve,\\r\\n        LineCurve: LineCurve,\\r\\n        LineCurve3: LineCurve3,\\r\\n        QuadraticBezierCurve: QuadraticBezierCurve,\\r\\n        QuadraticBezierCurve3: QuadraticBezierCurve3,\\r\\n        SplineCurve: SplineCurve\\r\\n    });\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     *\\r\\n     **/\\r\\n\\r\\n    /**************************************************************\\r\\n     *\\tCurved Path - a curve path is simply a array of connected\\r\\n     *  curves, but retains the api of a curve\\r\\n     **************************************************************/\\r\\n\\r\\n    function CurvePath() {\\r\\n\\r\\n        Curve.call( this );\\r\\n\\r\\n        this.type = 'CurvePath';\\r\\n\\r\\n        this.curves = [];\\r\\n        this.autoClose = false; // Automatically closes the path\\r\\n\\r\\n    }\\r\\n\\r\\n    CurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\\r\\n\\r\\n        constructor: CurvePath,\\r\\n\\r\\n        add: function ( curve ) {\\r\\n\\r\\n            this.curves.push( curve );\\r\\n\\r\\n        },\\r\\n\\r\\n        closePath: function () {\\r\\n\\r\\n            // Add a line curve if start and end of lines are not connected\\r\\n            var startPoint = this.curves[ 0 ].getPoint( 0 );\\r\\n            var endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\\r\\n\\r\\n            if ( ! startPoint.equals( endPoint ) ) {\\r\\n\\r\\n                this.curves.push( new LineCurve( endPoint, startPoint ) );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        // To get accurate point with reference to\\r\\n        // entire path distance at time t,\\r\\n        // following has to be done:\\r\\n\\r\\n        // 1. Length of each sub path have to be known\\r\\n        // 2. Locate and identify type of curve\\r\\n        // 3. Get t for the curve\\r\\n        // 4. Return curve.getPointAt(t')\\r\\n\\r\\n        getPoint: function ( t ) {\\r\\n\\r\\n            var d = t * this.getLength();\\r\\n            var curveLengths = this.getCurveLengths();\\r\\n            var i = 0;\\r\\n\\r\\n            // To think about boundaries points.\\r\\n\\r\\n            while ( i < curveLengths.length ) {\\r\\n\\r\\n                if ( curveLengths[ i ] >= d ) {\\r\\n\\r\\n                    var diff = curveLengths[ i ] - d;\\r\\n                    var curve = this.curves[ i ];\\r\\n\\r\\n                    var segmentLength = curve.getLength();\\r\\n                    var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\\r\\n\\r\\n                    return curve.getPointAt( u );\\r\\n\\r\\n                }\\r\\n\\r\\n                i ++;\\r\\n\\r\\n            }\\r\\n\\r\\n            return null;\\r\\n\\r\\n            // loop where sum != 0, sum > d , sum+1 <d\\r\\n\\r\\n        },\\r\\n\\r\\n        // We cannot use the default THREE.Curve getPoint() with getLength() because in\\r\\n        // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\\r\\n        // getPoint() depends on getLength\\r\\n\\r\\n        getLength: function () {\\r\\n\\r\\n            var lens = this.getCurveLengths();\\r\\n            return lens[ lens.length - 1 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        // cacheLengths must be recalculated.\\r\\n        updateArcLengths: function () {\\r\\n\\r\\n            this.needsUpdate = true;\\r\\n            this.cacheLengths = null;\\r\\n            this.getCurveLengths();\\r\\n\\r\\n        },\\r\\n\\r\\n        // Compute lengths and cache them\\r\\n        // We cannot overwrite getLengths() because UtoT mapping uses it.\\r\\n\\r\\n        getCurveLengths: function () {\\r\\n\\r\\n            // We use cache values if curves and cache array are same length\\r\\n\\r\\n            if ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\\r\\n\\r\\n                return this.cacheLengths;\\r\\n\\r\\n            }\\r\\n\\r\\n            // Get length of sub-curve\\r\\n            // Push sums into cached array\\r\\n\\r\\n            var lengths = [], sums = 0;\\r\\n\\r\\n            for ( var i = 0, l = this.curves.length; i < l; i ++ ) {\\r\\n\\r\\n                sums += this.curves[ i ].getLength();\\r\\n                lengths.push( sums );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.cacheLengths = lengths;\\r\\n\\r\\n            return lengths;\\r\\n\\r\\n        },\\r\\n\\r\\n        getSpacedPoints: function ( divisions ) {\\r\\n\\r\\n            if ( divisions === undefined ) divisions = 40;\\r\\n\\r\\n            var points = [];\\r\\n\\r\\n            for ( var i = 0; i <= divisions; i ++ ) {\\r\\n\\r\\n                points.push( this.getPoint( i / divisions ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.autoClose ) {\\r\\n\\r\\n                points.push( points[ 0 ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            return points;\\r\\n\\r\\n        },\\r\\n\\r\\n        getPoints: function ( divisions ) {\\r\\n\\r\\n            divisions = divisions || 12;\\r\\n\\r\\n            var points = [], last;\\r\\n\\r\\n            for ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\\r\\n\\r\\n                var curve = curves[ i ];\\r\\n                var resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\\r\\n                    : ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\\r\\n                        : ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\\r\\n                            : divisions;\\r\\n\\r\\n                var pts = curve.getPoints( resolution );\\r\\n\\r\\n                for ( var j = 0; j < pts.length; j ++ ) {\\r\\n\\r\\n                    var point = pts[ j ];\\r\\n\\r\\n                    if ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\\r\\n\\r\\n                    points.push( point );\\r\\n                    last = point;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\\r\\n\\r\\n                points.push( points[ 0 ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            return points;\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Curve.prototype.copy.call( this, source );\\r\\n\\r\\n            this.curves = [];\\r\\n\\r\\n            for ( var i = 0, l = source.curves.length; i < l; i ++ ) {\\r\\n\\r\\n                var curve = source.curves[ i ];\\r\\n\\r\\n                this.curves.push( curve.clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.autoClose = source.autoClose;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var data = Curve.prototype.toJSON.call( this );\\r\\n\\r\\n            data.autoClose = this.autoClose;\\r\\n            data.curves = [];\\r\\n\\r\\n            for ( var i = 0, l = this.curves.length; i < l; i ++ ) {\\r\\n\\r\\n                var curve = this.curves[ i ];\\r\\n                data.curves.push( curve.toJSON() );\\r\\n\\r\\n            }\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromJSON: function ( json ) {\\r\\n\\r\\n            Curve.prototype.fromJSON.call( this, json );\\r\\n\\r\\n            this.autoClose = json.autoClose;\\r\\n            this.curves = [];\\r\\n\\r\\n            for ( var i = 0, l = json.curves.length; i < l; i ++ ) {\\r\\n\\r\\n                var curve = json.curves[ i ];\\r\\n                this.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * Creates free form 2d path using series of points, lines or curves.\\r\\n     **/\\r\\n\\r\\n    function Path( points ) {\\r\\n\\r\\n        CurvePath.call( this );\\r\\n\\r\\n        this.type = 'Path';\\r\\n\\r\\n        this.currentPoint = new Vector2();\\r\\n\\r\\n        if ( points ) {\\r\\n\\r\\n            this.setFromPoints( points );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    Path.prototype = Object.assign( Object.create( CurvePath.prototype ), {\\r\\n\\r\\n        constructor: Path,\\r\\n\\r\\n        setFromPoints: function ( points ) {\\r\\n\\r\\n            this.moveTo( points[ 0 ].x, points[ 0 ].y );\\r\\n\\r\\n            for ( var i = 1, l = points.length; i < l; i ++ ) {\\r\\n\\r\\n                this.lineTo( points[ i ].x, points[ i ].y );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        moveTo: function ( x, y ) {\\r\\n\\r\\n            this.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\\r\\n\\r\\n        },\\r\\n\\r\\n        lineTo: function ( x, y ) {\\r\\n\\r\\n            var curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\\r\\n            this.curves.push( curve );\\r\\n\\r\\n            this.currentPoint.set( x, y );\\r\\n\\r\\n        },\\r\\n\\r\\n        quadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\\r\\n\\r\\n            var curve = new QuadraticBezierCurve(\\r\\n                this.currentPoint.clone(),\\r\\n                new Vector2( aCPx, aCPy ),\\r\\n                new Vector2( aX, aY )\\r\\n            );\\r\\n\\r\\n            this.curves.push( curve );\\r\\n\\r\\n            this.currentPoint.set( aX, aY );\\r\\n\\r\\n        },\\r\\n\\r\\n        bezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\\r\\n\\r\\n            var curve = new CubicBezierCurve(\\r\\n                this.currentPoint.clone(),\\r\\n                new Vector2( aCP1x, aCP1y ),\\r\\n                new Vector2( aCP2x, aCP2y ),\\r\\n                new Vector2( aX, aY )\\r\\n            );\\r\\n\\r\\n            this.curves.push( curve );\\r\\n\\r\\n            this.currentPoint.set( aX, aY );\\r\\n\\r\\n        },\\r\\n\\r\\n        splineThru: function ( pts /*Array of Vector*/ ) {\\r\\n\\r\\n            var npts = [ this.currentPoint.clone() ].concat( pts );\\r\\n\\r\\n            var curve = new SplineCurve( npts );\\r\\n            this.curves.push( curve );\\r\\n\\r\\n            this.currentPoint.copy( pts[ pts.length - 1 ] );\\r\\n\\r\\n        },\\r\\n\\r\\n        arc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\\r\\n\\r\\n            var x0 = this.currentPoint.x;\\r\\n            var y0 = this.currentPoint.y;\\r\\n\\r\\n            this.absarc( aX + x0, aY + y0, aRadius,\\r\\n                aStartAngle, aEndAngle, aClockwise );\\r\\n\\r\\n        },\\r\\n\\r\\n        absarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\\r\\n\\r\\n            this.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\\r\\n\\r\\n        },\\r\\n\\r\\n        ellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\\r\\n\\r\\n            var x0 = this.currentPoint.x;\\r\\n            var y0 = this.currentPoint.y;\\r\\n\\r\\n            this.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\\r\\n\\r\\n        },\\r\\n\\r\\n        absellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\\r\\n\\r\\n            var curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\\r\\n\\r\\n            if ( this.curves.length > 0 ) {\\r\\n\\r\\n                // if a previous curve is present, attempt to join\\r\\n                var firstPoint = curve.getPoint( 0 );\\r\\n\\r\\n                if ( ! firstPoint.equals( this.currentPoint ) ) {\\r\\n\\r\\n                    this.lineTo( firstPoint.x, firstPoint.y );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            this.curves.push( curve );\\r\\n\\r\\n            var lastPoint = curve.getPoint( 1 );\\r\\n            this.currentPoint.copy( lastPoint );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            CurvePath.prototype.copy.call( this, source );\\r\\n\\r\\n            this.currentPoint.copy( source.currentPoint );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var data = CurvePath.prototype.toJSON.call( this );\\r\\n\\r\\n            data.currentPoint = this.currentPoint.toArray();\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromJSON: function ( json ) {\\r\\n\\r\\n            CurvePath.prototype.fromJSON.call( this, json );\\r\\n\\r\\n            this.currentPoint.fromArray( json.currentPoint );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * Defines a 2d shape plane using paths.\\r\\n     **/\\r\\n\\r\\n    // STEP 1 Create a path.\\r\\n    // STEP 2 Turn path into shape.\\r\\n    // STEP 3 ExtrudeGeometry takes in Shape/Shapes\\r\\n    // STEP 3a - Extract points from each shape, turn to vertices\\r\\n    // STEP 3b - Triangulate each shape, add faces.\\r\\n\\r\\n    function Shape( points ) {\\r\\n\\r\\n        Path.call( this, points );\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        this.type = 'Shape';\\r\\n\\r\\n        this.holes = [];\\r\\n\\r\\n    }\\r\\n\\r\\n    Shape.prototype = Object.assign( Object.create( Path.prototype ), {\\r\\n\\r\\n        constructor: Shape,\\r\\n\\r\\n        getPointsHoles: function ( divisions ) {\\r\\n\\r\\n            var holesPts = [];\\r\\n\\r\\n            for ( var i = 0, l = this.holes.length; i < l; i ++ ) {\\r\\n\\r\\n                holesPts[ i ] = this.holes[ i ].getPoints( divisions );\\r\\n\\r\\n            }\\r\\n\\r\\n            return holesPts;\\r\\n\\r\\n        },\\r\\n\\r\\n        // get points of shape and holes (keypoints based on segments parameter)\\r\\n\\r\\n        extractPoints: function ( divisions ) {\\r\\n\\r\\n            return {\\r\\n\\r\\n                shape: this.getPoints( divisions ),\\r\\n                holes: this.getPointsHoles( divisions )\\r\\n\\r\\n            };\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Path.prototype.copy.call( this, source );\\r\\n\\r\\n            this.holes = [];\\r\\n\\r\\n            for ( var i = 0, l = source.holes.length; i < l; i ++ ) {\\r\\n\\r\\n                var hole = source.holes[ i ];\\r\\n\\r\\n                this.holes.push( hole.clone() );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var data = Path.prototype.toJSON.call( this );\\r\\n\\r\\n            data.uuid = this.uuid;\\r\\n            data.holes = [];\\r\\n\\r\\n            for ( var i = 0, l = this.holes.length; i < l; i ++ ) {\\r\\n\\r\\n                var hole = this.holes[ i ];\\r\\n                data.holes.push( hole.toJSON() );\\r\\n\\r\\n            }\\r\\n\\r\\n            return data;\\r\\n\\r\\n        },\\r\\n\\r\\n        fromJSON: function ( json ) {\\r\\n\\r\\n            Path.prototype.fromJSON.call( this, json );\\r\\n\\r\\n            this.uuid = json.uuid;\\r\\n            this.holes = [];\\r\\n\\r\\n            for ( var i = 0, l = json.holes.length; i < l; i ++ ) {\\r\\n\\r\\n                var hole = json.holes[ i ];\\r\\n                this.holes.push( new Path().fromJSON( hole ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function Light( color, intensity ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Light';\\r\\n\\r\\n        this.color = new Color( color );\\r\\n        this.intensity = intensity !== undefined ? intensity : 1;\\r\\n\\r\\n        this.receiveShadow = undefined;\\r\\n\\r\\n    }\\r\\n\\r\\n    Light.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Light,\\r\\n\\r\\n        isLight: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Object3D.prototype.copy.call( this, source );\\r\\n\\r\\n            this.color.copy( source.color );\\r\\n            this.intensity = source.intensity;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var data = Object3D.prototype.toJSON.call( this, meta );\\r\\n\\r\\n            data.object.color = this.color.getHex();\\r\\n            data.object.intensity = this.intensity;\\r\\n\\r\\n            if ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\\r\\n\\r\\n            if ( this.distance !== undefined ) data.object.distance = this.distance;\\r\\n            if ( this.angle !== undefined ) data.object.angle = this.angle;\\r\\n            if ( this.decay !== undefined ) data.object.decay = this.decay;\\r\\n            if ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\\r\\n\\r\\n            if ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\\r\\n\\r\\n            return data;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function HemisphereLight( skyColor, groundColor, intensity ) {\\r\\n\\r\\n        Light.call( this, skyColor, intensity );\\r\\n\\r\\n        this.type = 'HemisphereLight';\\r\\n\\r\\n        this.castShadow = undefined;\\r\\n\\r\\n        this.position.copy( Object3D.DefaultUp );\\r\\n        this.updateMatrix();\\r\\n\\r\\n        this.groundColor = new Color( groundColor );\\r\\n\\r\\n    }\\r\\n\\r\\n    HemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\\r\\n\\r\\n        constructor: HemisphereLight,\\r\\n\\r\\n        isHemisphereLight: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Light.prototype.copy.call( this, source );\\r\\n\\r\\n            this.groundColor.copy( source.groundColor );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function LightShadow( camera ) {\\r\\n\\r\\n        this.camera = camera;\\r\\n\\r\\n        this.bias = 0;\\r\\n        this.radius = 1;\\r\\n\\r\\n        this.mapSize = new Vector2( 512, 512 );\\r\\n\\r\\n        this.map = null;\\r\\n        this.matrix = new Matrix4();\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( LightShadow.prototype, {\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            this.camera = source.camera.clone();\\r\\n\\r\\n            this.bias = source.bias;\\r\\n            this.radius = source.radius;\\r\\n\\r\\n            this.mapSize.copy( source.mapSize );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function () {\\r\\n\\r\\n            var object = {};\\r\\n\\r\\n            if ( this.bias !== 0 ) object.bias = this.bias;\\r\\n            if ( this.radius !== 1 ) object.radius = this.radius;\\r\\n            if ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\\r\\n\\r\\n            object.camera = this.camera.toJSON( false ).object;\\r\\n            delete object.camera.matrix;\\r\\n\\r\\n            return object;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function SpotLightShadow() {\\r\\n\\r\\n        LightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    SpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\\r\\n\\r\\n        constructor: SpotLightShadow,\\r\\n\\r\\n        isSpotLightShadow: true,\\r\\n\\r\\n        update: function ( light ) {\\r\\n\\r\\n            var camera = this.camera;\\r\\n\\r\\n            var fov = _Math.RAD2DEG * 2 * light.angle;\\r\\n            var aspect = this.mapSize.width / this.mapSize.height;\\r\\n            var far = light.distance || camera.far;\\r\\n\\r\\n            if ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\\r\\n\\r\\n                camera.fov = fov;\\r\\n                camera.aspect = aspect;\\r\\n                camera.far = far;\\r\\n                camera.updateProjectionMatrix();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function SpotLight( color, intensity, distance, angle, penumbra, decay ) {\\r\\n\\r\\n        Light.call( this, color, intensity );\\r\\n\\r\\n        this.type = 'SpotLight';\\r\\n\\r\\n        this.position.copy( Object3D.DefaultUp );\\r\\n        this.updateMatrix();\\r\\n\\r\\n        this.target = new Object3D();\\r\\n\\r\\n        Object.defineProperty( this, 'power', {\\r\\n            get: function () {\\r\\n\\r\\n                // intensity = power per solid angle.\\r\\n                // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\r\\n                return this.intensity * Math.PI;\\r\\n\\r\\n            },\\r\\n            set: function ( power ) {\\r\\n\\r\\n                // intensity = power per solid angle.\\r\\n                // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\r\\n                this.intensity = power / Math.PI;\\r\\n\\r\\n            }\\r\\n        } );\\r\\n\\r\\n        this.distance = ( distance !== undefined ) ? distance : 0;\\r\\n        this.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\\r\\n        this.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\\r\\n        this.decay = ( decay !== undefined ) ? decay : 1;\\t// for physically correct lights, should be 2.\\r\\n\\r\\n        this.shadow = new SpotLightShadow();\\r\\n\\r\\n    }\\r\\n\\r\\n    SpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\\r\\n\\r\\n        constructor: SpotLight,\\r\\n\\r\\n        isSpotLight: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Light.prototype.copy.call( this, source );\\r\\n\\r\\n            this.distance = source.distance;\\r\\n            this.angle = source.angle;\\r\\n            this.penumbra = source.penumbra;\\r\\n            this.decay = source.decay;\\r\\n\\r\\n            this.target = source.target.clone();\\r\\n\\r\\n            this.shadow = source.shadow.clone();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n\\r\\n    function PointLight( color, intensity, distance, decay ) {\\r\\n\\r\\n        Light.call( this, color, intensity );\\r\\n\\r\\n        this.type = 'PointLight';\\r\\n\\r\\n        Object.defineProperty( this, 'power', {\\r\\n            get: function () {\\r\\n\\r\\n                // intensity = power per solid angle.\\r\\n                // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\r\\n                return this.intensity * 4 * Math.PI;\\r\\n\\r\\n            },\\r\\n            set: function ( power ) {\\r\\n\\r\\n                // intensity = power per solid angle.\\r\\n                // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\\r\\n                this.intensity = power / ( 4 * Math.PI );\\r\\n\\r\\n            }\\r\\n        } );\\r\\n\\r\\n        this.distance = ( distance !== undefined ) ? distance : 0;\\r\\n        this.decay = ( decay !== undefined ) ? decay : 1;\\t// for physically correct lights, should be 2.\\r\\n\\r\\n        this.shadow = new LightShadow( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    PointLight.prototype = Object.assign( Object.create( Light.prototype ), {\\r\\n\\r\\n        constructor: PointLight,\\r\\n\\r\\n        isPointLight: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Light.prototype.copy.call( this, source );\\r\\n\\r\\n            this.distance = source.distance;\\r\\n            this.decay = source.decay;\\r\\n\\r\\n            this.shadow = source.shadow.clone();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author arose / http://github.com/arose\\r\\n     */\\r\\n\\r\\n    function OrthographicCamera( left, right, top, bottom, near, far ) {\\r\\n\\r\\n        Camera.call( this );\\r\\n\\r\\n        this.type = 'OrthographicCamera';\\r\\n\\r\\n        this.zoom = 1;\\r\\n        this.view = null;\\r\\n\\r\\n        this.left = left;\\r\\n        this.right = right;\\r\\n        this.top = top;\\r\\n        this.bottom = bottom;\\r\\n\\r\\n        this.near = ( near !== undefined ) ? near : 0.1;\\r\\n        this.far = ( far !== undefined ) ? far : 2000;\\r\\n\\r\\n        this.updateProjectionMatrix();\\r\\n\\r\\n    }\\r\\n\\r\\n    OrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\\r\\n\\r\\n        constructor: OrthographicCamera,\\r\\n\\r\\n        isOrthographicCamera: true,\\r\\n\\r\\n        copy: function ( source, recursive ) {\\r\\n\\r\\n            Camera.prototype.copy.call( this, source, recursive );\\r\\n\\r\\n            this.left = source.left;\\r\\n            this.right = source.right;\\r\\n            this.top = source.top;\\r\\n            this.bottom = source.bottom;\\r\\n            this.near = source.near;\\r\\n            this.far = source.far;\\r\\n\\r\\n            this.zoom = source.zoom;\\r\\n            this.view = source.view === null ? null : Object.assign( {}, source.view );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\\r\\n\\r\\n            if ( this.view === null ) {\\r\\n\\r\\n                this.view = {\\r\\n                    enabled: true,\\r\\n                    fullWidth: 1,\\r\\n                    fullHeight: 1,\\r\\n                    offsetX: 0,\\r\\n                    offsetY: 0,\\r\\n                    width: 1,\\r\\n                    height: 1\\r\\n                };\\r\\n\\r\\n            }\\r\\n\\r\\n            this.view.enabled = true;\\r\\n            this.view.fullWidth = fullWidth;\\r\\n            this.view.fullHeight = fullHeight;\\r\\n            this.view.offsetX = x;\\r\\n            this.view.offsetY = y;\\r\\n            this.view.width = width;\\r\\n            this.view.height = height;\\r\\n\\r\\n            this.updateProjectionMatrix();\\r\\n\\r\\n        },\\r\\n\\r\\n        clearViewOffset: function () {\\r\\n\\r\\n            if ( this.view !== null ) {\\r\\n\\r\\n                this.view.enabled = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.updateProjectionMatrix();\\r\\n\\r\\n        },\\r\\n\\r\\n        updateProjectionMatrix: function () {\\r\\n\\r\\n            var dx = ( this.right - this.left ) / ( 2 * this.zoom );\\r\\n            var dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\\r\\n            var cx = ( this.right + this.left ) / 2;\\r\\n            var cy = ( this.top + this.bottom ) / 2;\\r\\n\\r\\n            var left = cx - dx;\\r\\n            var right = cx + dx;\\r\\n            var top = cy + dy;\\r\\n            var bottom = cy - dy;\\r\\n\\r\\n            if ( this.view !== null && this.view.enabled ) {\\r\\n\\r\\n                var zoomW = this.zoom / ( this.view.width / this.view.fullWidth );\\r\\n                var zoomH = this.zoom / ( this.view.height / this.view.fullHeight );\\r\\n                var scaleW = ( this.right - this.left ) / this.view.width;\\r\\n                var scaleH = ( this.top - this.bottom ) / this.view.height;\\r\\n\\r\\n                left += scaleW * ( this.view.offsetX / zoomW );\\r\\n                right = left + scaleW * ( this.view.width / zoomW );\\r\\n                top -= scaleH * ( this.view.offsetY / zoomH );\\r\\n                bottom = top - scaleH * ( this.view.height / zoomH );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\\r\\n\\r\\n            this.projectionMatrixInverse.getInverse( this.projectionMatrix );\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var data = Object3D.prototype.toJSON.call( this, meta );\\r\\n\\r\\n            data.object.zoom = this.zoom;\\r\\n            data.object.left = this.left;\\r\\n            data.object.right = this.right;\\r\\n            data.object.top = this.top;\\r\\n            data.object.bottom = this.bottom;\\r\\n            data.object.near = this.near;\\r\\n            data.object.far = this.far;\\r\\n\\r\\n            if ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\\r\\n\\r\\n            return data;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function DirectionalLightShadow( ) {\\r\\n\\r\\n        LightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    DirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\\r\\n\\r\\n        constructor: DirectionalLightShadow\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function DirectionalLight( color, intensity ) {\\r\\n\\r\\n        Light.call( this, color, intensity );\\r\\n\\r\\n        this.type = 'DirectionalLight';\\r\\n\\r\\n        this.position.copy( Object3D.DefaultUp );\\r\\n        this.updateMatrix();\\r\\n\\r\\n        this.target = new Object3D();\\r\\n\\r\\n        this.shadow = new DirectionalLightShadow();\\r\\n\\r\\n    }\\r\\n\\r\\n    DirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\\r\\n\\r\\n        constructor: DirectionalLight,\\r\\n\\r\\n        isDirectionalLight: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Light.prototype.copy.call( this, source );\\r\\n\\r\\n            this.target = source.target.clone();\\r\\n\\r\\n            this.shadow = source.shadow.clone();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function AmbientLight( color, intensity ) {\\r\\n\\r\\n        Light.call( this, color, intensity );\\r\\n\\r\\n        this.type = 'AmbientLight';\\r\\n\\r\\n        this.castShadow = undefined;\\r\\n\\r\\n    }\\r\\n\\r\\n    AmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\\r\\n\\r\\n        constructor: AmbientLight,\\r\\n\\r\\n        isAmbientLight: true\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author abelnation / http://github.com/abelnation\\r\\n     */\\r\\n\\r\\n    function RectAreaLight( color, intensity, width, height ) {\\r\\n\\r\\n        Light.call( this, color, intensity );\\r\\n\\r\\n        this.type = 'RectAreaLight';\\r\\n\\r\\n        this.width = ( width !== undefined ) ? width : 10;\\r\\n        this.height = ( height !== undefined ) ? height : 10;\\r\\n\\r\\n    }\\r\\n\\r\\n    RectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\\r\\n\\r\\n        constructor: RectAreaLight,\\r\\n\\r\\n        isRectAreaLight: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            Light.prototype.copy.call( this, source );\\r\\n\\r\\n            this.width = source.width;\\r\\n            this.height = source.height;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( meta ) {\\r\\n\\r\\n            var data = Light.prototype.toJSON.call( this, meta );\\r\\n\\r\\n            data.object.width = this.width;\\r\\n            data.object.height = this.height;\\r\\n\\r\\n            return data;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author tschw\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     */\\r\\n\\r\\n    var AnimationUtils = {\\r\\n\\r\\n        // same as Array.prototype.slice, but also works on typed arrays\\r\\n        arraySlice: function ( array, from, to ) {\\r\\n\\r\\n            if ( AnimationUtils.isTypedArray( array ) ) {\\r\\n\\r\\n                // in ios9 array.subarray(from, undefined) will return empty array\\r\\n                // but array.subarray(from) or array.subarray(from, len) is correct\\r\\n                return new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return array.slice( from, to );\\r\\n\\r\\n        },\\r\\n\\r\\n        // converts an array to a specific type\\r\\n        convertArray: function ( array, type, forceClone ) {\\r\\n\\r\\n            if ( ! array || // let 'undefined' and 'null' pass\\r\\n                ! forceClone && array.constructor === type ) return array;\\r\\n\\r\\n            if ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\\r\\n\\r\\n                return new type( array ); // create typed array\\r\\n\\r\\n            }\\r\\n\\r\\n            return Array.prototype.slice.call( array ); // create Array\\r\\n\\r\\n        },\\r\\n\\r\\n        isTypedArray: function ( object ) {\\r\\n\\r\\n            return ArrayBuffer.isView( object ) &&\\r\\n                ! ( object instanceof DataView );\\r\\n\\r\\n        },\\r\\n\\r\\n        // returns an array by which times and values can be sorted\\r\\n        getKeyframeOrder: function ( times ) {\\r\\n\\r\\n            function compareTime( i, j ) {\\r\\n\\r\\n                return times[ i ] - times[ j ];\\r\\n\\r\\n            }\\r\\n\\r\\n            var n = times.length;\\r\\n            var result = new Array( n );\\r\\n            for ( var i = 0; i !== n; ++ i ) result[ i ] = i;\\r\\n\\r\\n            result.sort( compareTime );\\r\\n\\r\\n            return result;\\r\\n\\r\\n        },\\r\\n\\r\\n        // uses the array previously returned by 'getKeyframeOrder' to sort data\\r\\n        sortedArray: function ( values, stride, order ) {\\r\\n\\r\\n            var nValues = values.length;\\r\\n            var result = new values.constructor( nValues );\\r\\n\\r\\n            for ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\\r\\n\\r\\n                var srcOffset = order[ i ] * stride;\\r\\n\\r\\n                for ( var j = 0; j !== stride; ++ j ) {\\r\\n\\r\\n                    result[ dstOffset ++ ] = values[ srcOffset + j ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return result;\\r\\n\\r\\n        },\\r\\n\\r\\n        // function for parsing AOS keyframe formats\\r\\n        flattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\\r\\n\\r\\n            var i = 1, key = jsonKeys[ 0 ];\\r\\n\\r\\n            while ( key !== undefined && key[ valuePropertyName ] === undefined ) {\\r\\n\\r\\n                key = jsonKeys[ i ++ ];\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( key === undefined ) return; // no data\\r\\n\\r\\n            var value = key[ valuePropertyName ];\\r\\n            if ( value === undefined ) return; // no data\\r\\n\\r\\n            if ( Array.isArray( value ) ) {\\r\\n\\r\\n                do {\\r\\n\\r\\n                    value = key[ valuePropertyName ];\\r\\n\\r\\n                    if ( value !== undefined ) {\\r\\n\\r\\n                        times.push( key.time );\\r\\n                        values.push.apply( values, value ); // push all elements\\r\\n\\r\\n                    }\\r\\n\\r\\n                    key = jsonKeys[ i ++ ];\\r\\n\\r\\n                } while ( key !== undefined );\\r\\n\\r\\n            } else if ( value.toArray !== undefined ) {\\r\\n\\r\\n                // ...assume THREE.Math-ish\\r\\n\\r\\n                do {\\r\\n\\r\\n                    value = key[ valuePropertyName ];\\r\\n\\r\\n                    if ( value !== undefined ) {\\r\\n\\r\\n                        times.push( key.time );\\r\\n                        value.toArray( values, values.length );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    key = jsonKeys[ i ++ ];\\r\\n\\r\\n                } while ( key !== undefined );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // otherwise push as-is\\r\\n\\r\\n                do {\\r\\n\\r\\n                    value = key[ valuePropertyName ];\\r\\n\\r\\n                    if ( value !== undefined ) {\\r\\n\\r\\n                        times.push( key.time );\\r\\n                        values.push( value );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    key = jsonKeys[ i ++ ];\\r\\n\\r\\n                } while ( key !== undefined );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * Abstract base class of interpolants over parametric samples.\\r\\n     *\\r\\n     * The parameter domain is one dimensional, typically the time or a path\\r\\n     * along a curve defined by the data.\\r\\n     *\\r\\n     * The sample values can have any dimensionality and derived classes may\\r\\n     * apply special interpretations to the data.\\r\\n     *\\r\\n     * This class provides the interval seek in a Template Method, deferring\\r\\n     * the actual interpolation to derived classes.\\r\\n     *\\r\\n     * Time complexity is O(1) for linear access crossing at most two points\\r\\n     * and O(log N) for random access, where N is the number of positions.\\r\\n     *\\r\\n     * References:\\r\\n     *\\r\\n     * \\t\\thttp://www.oodesign.com/template-method-pattern.html\\r\\n     *\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\\r\\n\\r\\n        this.parameterPositions = parameterPositions;\\r\\n        this._cachedIndex = 0;\\r\\n\\r\\n        this.resultBuffer = resultBuffer !== undefined ?\\r\\n            resultBuffer : new sampleValues.constructor( sampleSize );\\r\\n        this.sampleValues = sampleValues;\\r\\n        this.valueSize = sampleSize;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Interpolant.prototype, {\\r\\n\\r\\n        evaluate: function ( t ) {\\r\\n\\r\\n            var pp = this.parameterPositions,\\r\\n                i1 = this._cachedIndex,\\r\\n\\r\\n                t1 = pp[ i1 ],\\r\\n                t0 = pp[ i1 - 1 ];\\r\\n\\r\\n            validate_interval: {\\r\\n\\r\\n                seek: {\\r\\n\\r\\n                    var right;\\r\\n\\r\\n                    linear_scan: {\\r\\n\\r\\n                        //- See http://jsperf.com/comparison-to-undefined/3\\r\\n                        //- slower code:\\r\\n                        //-\\r\\n                        //- \\t\\t\\t\\tif ( t >= t1 || t1 === undefined ) {\\r\\n                        forward_scan: if ( ! ( t < t1 ) ) {\\r\\n\\r\\n                            for ( var giveUpAt = i1 + 2; ; ) {\\r\\n\\r\\n                                if ( t1 === undefined ) {\\r\\n\\r\\n                                    if ( t < t0 ) break forward_scan;\\r\\n\\r\\n                                    // after end\\r\\n\\r\\n                                    i1 = pp.length;\\r\\n                                    this._cachedIndex = i1;\\r\\n                                    return this.afterEnd_( i1 - 1, t, t0 );\\r\\n\\r\\n                                }\\r\\n\\r\\n                                if ( i1 === giveUpAt ) break; // this loop\\r\\n\\r\\n                                t0 = t1;\\r\\n                                t1 = pp[ ++ i1 ];\\r\\n\\r\\n                                if ( t < t1 ) {\\r\\n\\r\\n                                    // we have arrived at the sought interval\\r\\n                                    break seek;\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                            // prepare binary search on the right side of the index\\r\\n                            right = pp.length;\\r\\n                            break linear_scan;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        //- slower code:\\r\\n                        //-\\t\\t\\t\\t\\tif ( t < t0 || t0 === undefined ) {\\r\\n                        if ( ! ( t >= t0 ) ) {\\r\\n\\r\\n                            // looping?\\r\\n\\r\\n                            var t1global = pp[ 1 ];\\r\\n\\r\\n                            if ( t < t1global ) {\\r\\n\\r\\n                                i1 = 2; // + 1, using the scan for the details\\r\\n                                t0 = t1global;\\r\\n\\r\\n                            }\\r\\n\\r\\n                            // linear reverse scan\\r\\n\\r\\n                            for ( var giveUpAt = i1 - 2; ; ) {\\r\\n\\r\\n                                if ( t0 === undefined ) {\\r\\n\\r\\n                                    // before start\\r\\n\\r\\n                                    this._cachedIndex = 0;\\r\\n                                    return this.beforeStart_( 0, t, t1 );\\r\\n\\r\\n                                }\\r\\n\\r\\n                                if ( i1 === giveUpAt ) break; // this loop\\r\\n\\r\\n                                t1 = t0;\\r\\n                                t0 = pp[ -- i1 - 1 ];\\r\\n\\r\\n                                if ( t >= t0 ) {\\r\\n\\r\\n                                    // we have arrived at the sought interval\\r\\n                                    break seek;\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                            // prepare binary search on the left side of the index\\r\\n                            right = i1;\\r\\n                            i1 = 0;\\r\\n                            break linear_scan;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        // the interval is valid\\r\\n\\r\\n                        break validate_interval;\\r\\n\\r\\n                    } // linear scan\\r\\n\\r\\n                    // binary search\\r\\n\\r\\n                    while ( i1 < right ) {\\r\\n\\r\\n                        var mid = ( i1 + right ) >>> 1;\\r\\n\\r\\n                        if ( t < pp[ mid ] ) {\\r\\n\\r\\n                            right = mid;\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            i1 = mid + 1;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    t1 = pp[ i1 ];\\r\\n                    t0 = pp[ i1 - 1 ];\\r\\n\\r\\n                    // check boundary cases, again\\r\\n\\r\\n                    if ( t0 === undefined ) {\\r\\n\\r\\n                        this._cachedIndex = 0;\\r\\n                        return this.beforeStart_( 0, t, t1 );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( t1 === undefined ) {\\r\\n\\r\\n                        i1 = pp.length;\\r\\n                        this._cachedIndex = i1;\\r\\n                        return this.afterEnd_( i1 - 1, t0, t );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } // seek\\r\\n\\r\\n                this._cachedIndex = i1;\\r\\n\\r\\n                this.intervalChanged_( i1, t0, t1 );\\r\\n\\r\\n            } // validate_interval\\r\\n\\r\\n            return this.interpolate_( i1, t0, t, t1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        settings: null, // optional, subclass-specific settings structure\\r\\n        // Note: The indirection allows central control of many interpolants.\\r\\n\\r\\n        // --- Protected interface\\r\\n\\r\\n        DefaultSettings_: {},\\r\\n\\r\\n        getSettings_: function () {\\r\\n\\r\\n            return this.settings || this.DefaultSettings_;\\r\\n\\r\\n        },\\r\\n\\r\\n        copySampleValue_: function ( index ) {\\r\\n\\r\\n            // copies a sample value to the result buffer\\r\\n\\r\\n            var result = this.resultBuffer,\\r\\n                values = this.sampleValues,\\r\\n                stride = this.valueSize,\\r\\n                offset = index * stride;\\r\\n\\r\\n            for ( var i = 0; i !== stride; ++ i ) {\\r\\n\\r\\n                result[ i ] = values[ offset + i ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return result;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Template methods for derived classes:\\r\\n\\r\\n        interpolate_: function ( /* i1, t0, t, t1 */ ) {\\r\\n\\r\\n            throw new Error( 'call to abstract method' );\\r\\n            // implementations shall return this.resultBuffer\\r\\n\\r\\n        },\\r\\n\\r\\n        intervalChanged_: function ( /* i1, t0, t1 */ ) {\\r\\n\\r\\n            // empty\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //!\\\\ DECLARE ALIAS AFTER assign prototype !\\r\\n    Object.assign( Interpolant.prototype, {\\r\\n\\r\\n        //( 0, t, t0 ), returns this.resultBuffer\\r\\n        beforeStart_: Interpolant.prototype.copySampleValue_,\\r\\n\\r\\n        //( N-1, tN-1, t ), returns this.resultBuffer\\r\\n        afterEnd_: Interpolant.prototype.copySampleValue_,\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * Fast and simple cubic spline interpolant.\\r\\n     *\\r\\n     * It was derived from a Hermitian construction setting the first derivative\\r\\n     * at each sample position to the linear slope between neighboring positions\\r\\n     * over their parameter interval.\\r\\n     *\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\\r\\n\\r\\n        Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\\r\\n\\r\\n        this._weightPrev = - 0;\\r\\n        this._offsetPrev = - 0;\\r\\n        this._weightNext = - 0;\\r\\n        this._offsetNext = - 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    CubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\\r\\n\\r\\n        constructor: CubicInterpolant,\\r\\n\\r\\n        DefaultSettings_: {\\r\\n\\r\\n            endingStart: ZeroCurvatureEnding,\\r\\n            endingEnd: ZeroCurvatureEnding\\r\\n\\r\\n        },\\r\\n\\r\\n        intervalChanged_: function ( i1, t0, t1 ) {\\r\\n\\r\\n            var pp = this.parameterPositions,\\r\\n                iPrev = i1 - 2,\\r\\n                iNext = i1 + 1,\\r\\n\\r\\n                tPrev = pp[ iPrev ],\\r\\n                tNext = pp[ iNext ];\\r\\n\\r\\n            if ( tPrev === undefined ) {\\r\\n\\r\\n                switch ( this.getSettings_().endingStart ) {\\r\\n\\r\\n                    case ZeroSlopeEnding:\\r\\n\\r\\n                        // f'(t0) = 0\\r\\n                        iPrev = i1;\\r\\n                        tPrev = 2 * t0 - t1;\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case WrapAroundEnding:\\r\\n\\r\\n                        // use the other end of the curve\\r\\n                        iPrev = pp.length - 2;\\r\\n                        tPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    default: // ZeroCurvatureEnding\\r\\n\\r\\n                        // f''(t0) = 0 a.k.a. Natural Spline\\r\\n                        iPrev = i1;\\r\\n                        tPrev = t1;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( tNext === undefined ) {\\r\\n\\r\\n                switch ( this.getSettings_().endingEnd ) {\\r\\n\\r\\n                    case ZeroSlopeEnding:\\r\\n\\r\\n                        // f'(tN) = 0\\r\\n                        iNext = i1;\\r\\n                        tNext = 2 * t1 - t0;\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case WrapAroundEnding:\\r\\n\\r\\n                        // use the other end of the curve\\r\\n                        iNext = 1;\\r\\n                        tNext = t1 + pp[ 1 ] - pp[ 0 ];\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    default: // ZeroCurvatureEnding\\r\\n\\r\\n                        // f''(tN) = 0, a.k.a. Natural Spline\\r\\n                        iNext = i1 - 1;\\r\\n                        tNext = t0;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var halfDt = ( t1 - t0 ) * 0.5,\\r\\n                stride = this.valueSize;\\r\\n\\r\\n            this._weightPrev = halfDt / ( t0 - tPrev );\\r\\n            this._weightNext = halfDt / ( tNext - t1 );\\r\\n            this._offsetPrev = iPrev * stride;\\r\\n            this._offsetNext = iNext * stride;\\r\\n\\r\\n        },\\r\\n\\r\\n        interpolate_: function ( i1, t0, t, t1 ) {\\r\\n\\r\\n            var result = this.resultBuffer,\\r\\n                values = this.sampleValues,\\r\\n                stride = this.valueSize,\\r\\n\\r\\n                o1 = i1 * stride,\\t\\to0 = o1 - stride,\\r\\n                oP = this._offsetPrev, \\toN = this._offsetNext,\\r\\n                wP = this._weightPrev,\\twN = this._weightNext,\\r\\n\\r\\n                p = ( t - t0 ) / ( t1 - t0 ),\\r\\n                pp = p * p,\\r\\n                ppp = pp * p;\\r\\n\\r\\n            // evaluate polynomials\\r\\n\\r\\n            var sP = - wP * ppp + 2 * wP * pp - wP * p;\\r\\n            var s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\\r\\n            var s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\\r\\n            var sN = wN * ppp - wN * pp;\\r\\n\\r\\n            // combine data linearly\\r\\n\\r\\n            for ( var i = 0; i !== stride; ++ i ) {\\r\\n\\r\\n                result[ i ] =\\r\\n                    sP * values[ oP + i ] +\\r\\n                    s0 * values[ o0 + i ] +\\r\\n                    s1 * values[ o1 + i ] +\\r\\n                    sN * values[ oN + i ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return result;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\\r\\n\\r\\n        Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\\r\\n\\r\\n    }\\r\\n\\r\\n    LinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\\r\\n\\r\\n        constructor: LinearInterpolant,\\r\\n\\r\\n        interpolate_: function ( i1, t0, t, t1 ) {\\r\\n\\r\\n            var result = this.resultBuffer,\\r\\n                values = this.sampleValues,\\r\\n                stride = this.valueSize,\\r\\n\\r\\n                offset1 = i1 * stride,\\r\\n                offset0 = offset1 - stride,\\r\\n\\r\\n                weight1 = ( t - t0 ) / ( t1 - t0 ),\\r\\n                weight0 = 1 - weight1;\\r\\n\\r\\n            for ( var i = 0; i !== stride; ++ i ) {\\r\\n\\r\\n                result[ i ] =\\r\\n                    values[ offset0 + i ] * weight0 +\\r\\n                    values[ offset1 + i ] * weight1;\\r\\n\\r\\n            }\\r\\n\\r\\n            return result;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * Interpolant that evaluates to the sample value at the position preceeding\\r\\n     * the parameter.\\r\\n     *\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\\r\\n\\r\\n        Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\\r\\n\\r\\n    }\\r\\n\\r\\n    DiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\\r\\n\\r\\n        constructor: DiscreteInterpolant,\\r\\n\\r\\n        interpolate_: function ( i1 /*, t0, t, t1 */ ) {\\r\\n\\r\\n            return this.copySampleValue_( i1 - 1 );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A timed sequence of keyframes for a specific property.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function KeyframeTrack( name, times, values, interpolation ) {\\r\\n\\r\\n        if ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\\r\\n        if ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\\r\\n\\r\\n        this.name = name;\\r\\n\\r\\n        this.times = AnimationUtils.convertArray( times, this.TimeBufferType );\\r\\n        this.values = AnimationUtils.convertArray( values, this.ValueBufferType );\\r\\n\\r\\n        this.setInterpolation( interpolation || this.DefaultInterpolation );\\r\\n\\r\\n    }\\r\\n\\r\\n    // Static methods\\r\\n\\r\\n    Object.assign( KeyframeTrack, {\\r\\n\\r\\n        // Serialization (in static context, because of constructor invocation\\r\\n        // and automatic invocation of .toJSON):\\r\\n\\r\\n        toJSON: function ( track ) {\\r\\n\\r\\n            var trackType = track.constructor;\\r\\n\\r\\n            var json;\\r\\n\\r\\n            // derived classes can define a static toJSON method\\r\\n            if ( trackType.toJSON !== undefined ) {\\r\\n\\r\\n                json = trackType.toJSON( track );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // by default, we assume the data can be serialized as-is\\r\\n                json = {\\r\\n\\r\\n                    'name': track.name,\\r\\n                    'times': AnimationUtils.convertArray( track.times, Array ),\\r\\n                    'values': AnimationUtils.convertArray( track.values, Array )\\r\\n\\r\\n                };\\r\\n\\r\\n                var interpolation = track.getInterpolation();\\r\\n\\r\\n                if ( interpolation !== track.DefaultInterpolation ) {\\r\\n\\r\\n                    json.interpolation = interpolation;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            json.type = track.ValueTypeName; // mandatory\\r\\n\\r\\n            return json;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( KeyframeTrack.prototype, {\\r\\n\\r\\n        constructor: KeyframeTrack,\\r\\n\\r\\n        TimeBufferType: Float32Array,\\r\\n\\r\\n        ValueBufferType: Float32Array,\\r\\n\\r\\n        DefaultInterpolation: InterpolateLinear,\\r\\n\\r\\n        InterpolantFactoryMethodDiscrete: function ( result ) {\\r\\n\\r\\n            return new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\\r\\n\\r\\n        },\\r\\n\\r\\n        InterpolantFactoryMethodLinear: function ( result ) {\\r\\n\\r\\n            return new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\\r\\n\\r\\n        },\\r\\n\\r\\n        InterpolantFactoryMethodSmooth: function ( result ) {\\r\\n\\r\\n            return new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\\r\\n\\r\\n        },\\r\\n\\r\\n        setInterpolation: function ( interpolation ) {\\r\\n\\r\\n            var factoryMethod;\\r\\n\\r\\n            switch ( interpolation ) {\\r\\n\\r\\n                case InterpolateDiscrete:\\r\\n\\r\\n                    factoryMethod = this.InterpolantFactoryMethodDiscrete;\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case InterpolateLinear:\\r\\n\\r\\n                    factoryMethod = this.InterpolantFactoryMethodLinear;\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case InterpolateSmooth:\\r\\n\\r\\n                    factoryMethod = this.InterpolantFactoryMethodSmooth;\\r\\n\\r\\n                    break;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( factoryMethod === undefined ) {\\r\\n\\r\\n                var message = \\\"unsupported interpolation for \\\" +\\r\\n                    this.ValueTypeName + \\\" keyframe track named \\\" + this.name;\\r\\n\\r\\n                if ( this.createInterpolant === undefined ) {\\r\\n\\r\\n                    // fall back to default, unless the default itself is messed up\\r\\n                    if ( interpolation !== this.DefaultInterpolation ) {\\r\\n\\r\\n                        this.setInterpolation( this.DefaultInterpolation );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        throw new Error( message ); // fatal, in this case\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                console.warn( 'THREE.KeyframeTrack:', message );\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.createInterpolant = factoryMethod;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getInterpolation: function () {\\r\\n\\r\\n            switch ( this.createInterpolant ) {\\r\\n\\r\\n                case this.InterpolantFactoryMethodDiscrete:\\r\\n\\r\\n                    return InterpolateDiscrete;\\r\\n\\r\\n                case this.InterpolantFactoryMethodLinear:\\r\\n\\r\\n                    return InterpolateLinear;\\r\\n\\r\\n                case this.InterpolantFactoryMethodSmooth:\\r\\n\\r\\n                    return InterpolateSmooth;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        getValueSize: function () {\\r\\n\\r\\n            return this.values.length / this.times.length;\\r\\n\\r\\n        },\\r\\n\\r\\n        // move all keyframes either forwards or backwards in time\\r\\n        shift: function ( timeOffset ) {\\r\\n\\r\\n            if ( timeOffset !== 0.0 ) {\\r\\n\\r\\n                var times = this.times;\\r\\n\\r\\n                for ( var i = 0, n = times.length; i !== n; ++ i ) {\\r\\n\\r\\n                    times[ i ] += timeOffset;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\\r\\n        scale: function ( timeScale ) {\\r\\n\\r\\n            if ( timeScale !== 1.0 ) {\\r\\n\\r\\n                var times = this.times;\\r\\n\\r\\n                for ( var i = 0, n = times.length; i !== n; ++ i ) {\\r\\n\\r\\n                    times[ i ] *= timeScale;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\\r\\n        // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\\r\\n        trim: function ( startTime, endTime ) {\\r\\n\\r\\n            var times = this.times,\\r\\n                nKeys = times.length,\\r\\n                from = 0,\\r\\n                to = nKeys - 1;\\r\\n\\r\\n            while ( from !== nKeys && times[ from ] < startTime ) {\\r\\n\\r\\n                ++ from;\\r\\n\\r\\n            }\\r\\n\\r\\n            while ( to !== - 1 && times[ to ] > endTime ) {\\r\\n\\r\\n                -- to;\\r\\n\\r\\n            }\\r\\n\\r\\n            ++ to; // inclusive -> exclusive bound\\r\\n\\r\\n            if ( from !== 0 || to !== nKeys ) {\\r\\n\\r\\n                // empty tracks are forbidden, so keep at least one keyframe\\r\\n                if ( from >= to ) to = Math.max( to, 1 ), from = to - 1;\\r\\n\\r\\n                var stride = this.getValueSize();\\r\\n                this.times = AnimationUtils.arraySlice( times, from, to );\\r\\n                this.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\\r\\n        validate: function () {\\r\\n\\r\\n            var valid = true;\\r\\n\\r\\n            var valueSize = this.getValueSize();\\r\\n            if ( valueSize - Math.floor( valueSize ) !== 0 ) {\\r\\n\\r\\n                console.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\\r\\n                valid = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            var times = this.times,\\r\\n                values = this.values,\\r\\n\\r\\n                nKeys = times.length;\\r\\n\\r\\n            if ( nKeys === 0 ) {\\r\\n\\r\\n                console.error( 'THREE.KeyframeTrack: Track is empty.', this );\\r\\n                valid = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            var prevTime = null;\\r\\n\\r\\n            for ( var i = 0; i !== nKeys; i ++ ) {\\r\\n\\r\\n                var currTime = times[ i ];\\r\\n\\r\\n                if ( typeof currTime === 'number' && isNaN( currTime ) ) {\\r\\n\\r\\n                    console.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\\r\\n                    valid = false;\\r\\n                    break;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( prevTime !== null && prevTime > currTime ) {\\r\\n\\r\\n                    console.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\\r\\n                    valid = false;\\r\\n                    break;\\r\\n\\r\\n                }\\r\\n\\r\\n                prevTime = currTime;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( values !== undefined ) {\\r\\n\\r\\n                if ( AnimationUtils.isTypedArray( values ) ) {\\r\\n\\r\\n                    for ( var i = 0, n = values.length; i !== n; ++ i ) {\\r\\n\\r\\n                        var value = values[ i ];\\r\\n\\r\\n                        if ( isNaN( value ) ) {\\r\\n\\r\\n                            console.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\\r\\n                            valid = false;\\r\\n                            break;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return valid;\\r\\n\\r\\n        },\\r\\n\\r\\n        // removes equivalent sequential keys as common in morph target sequences\\r\\n        // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\\r\\n        optimize: function () {\\r\\n\\r\\n            var times = this.times,\\r\\n                values = this.values,\\r\\n                stride = this.getValueSize(),\\r\\n\\r\\n                smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\\r\\n\\r\\n                writeIndex = 1,\\r\\n                lastIndex = times.length - 1;\\r\\n\\r\\n            for ( var i = 1; i < lastIndex; ++ i ) {\\r\\n\\r\\n                var keep = false;\\r\\n\\r\\n                var time = times[ i ];\\r\\n                var timeNext = times[ i + 1 ];\\r\\n\\r\\n                // remove adjacent keyframes scheduled at the same time\\r\\n\\r\\n                if ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\\r\\n\\r\\n                    if ( ! smoothInterpolation ) {\\r\\n\\r\\n                        // remove unnecessary keyframes same as their neighbors\\r\\n\\r\\n                        var offset = i * stride,\\r\\n                            offsetP = offset - stride,\\r\\n                            offsetN = offset + stride;\\r\\n\\r\\n                        for ( var j = 0; j !== stride; ++ j ) {\\r\\n\\r\\n                            var value = values[ offset + j ];\\r\\n\\r\\n                            if ( value !== values[ offsetP + j ] ||\\r\\n                                value !== values[ offsetN + j ] ) {\\r\\n\\r\\n                                keep = true;\\r\\n                                break;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        keep = true;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                // in-place compaction\\r\\n\\r\\n                if ( keep ) {\\r\\n\\r\\n                    if ( i !== writeIndex ) {\\r\\n\\r\\n                        times[ writeIndex ] = times[ i ];\\r\\n\\r\\n                        var readOffset = i * stride,\\r\\n                            writeOffset = writeIndex * stride;\\r\\n\\r\\n                        for ( var j = 0; j !== stride; ++ j ) {\\r\\n\\r\\n                            values[ writeOffset + j ] = values[ readOffset + j ];\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    ++ writeIndex;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // flush last keyframe (compaction looks ahead)\\r\\n\\r\\n            if ( lastIndex > 0 ) {\\r\\n\\r\\n                times[ writeIndex ] = times[ lastIndex ];\\r\\n\\r\\n                for ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\\r\\n\\r\\n                    values[ writeOffset + j ] = values[ readOffset + j ];\\r\\n\\r\\n                }\\r\\n\\r\\n                ++ writeIndex;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( writeIndex !== times.length ) {\\r\\n\\r\\n                this.times = AnimationUtils.arraySlice( times, 0, writeIndex );\\r\\n                this.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A Track of Boolean keyframe values.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function BooleanKeyframeTrack( name, times, values ) {\\r\\n\\r\\n        KeyframeTrack.call( this, name, times, values );\\r\\n\\r\\n    }\\r\\n\\r\\n    BooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\\r\\n\\r\\n        constructor: BooleanKeyframeTrack,\\r\\n\\r\\n        ValueTypeName: 'bool',\\r\\n        ValueBufferType: Array,\\r\\n\\r\\n        DefaultInterpolation: InterpolateDiscrete,\\r\\n\\r\\n        InterpolantFactoryMethodLinear: undefined,\\r\\n        InterpolantFactoryMethodSmooth: undefined\\r\\n\\r\\n        // Note: Actually this track could have a optimized / compressed\\r\\n        // representation of a single value and a custom interpolant that\\r\\n        // computes \\\"firstValue ^ isOdd( index )\\\".\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A Track of keyframe values that represent color.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function ColorKeyframeTrack( name, times, values, interpolation ) {\\r\\n\\r\\n        KeyframeTrack.call( this, name, times, values, interpolation );\\r\\n\\r\\n    }\\r\\n\\r\\n    ColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\\r\\n\\r\\n        constructor: ColorKeyframeTrack,\\r\\n\\r\\n        ValueTypeName: 'color'\\r\\n\\r\\n        // ValueBufferType is inherited\\r\\n\\r\\n        // DefaultInterpolation is inherited\\r\\n\\r\\n        // Note: Very basic implementation and nothing special yet.\\r\\n        // However, this is the place for color space parameterization.\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A Track of numeric keyframe values.\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function NumberKeyframeTrack( name, times, values, interpolation ) {\\r\\n\\r\\n        KeyframeTrack.call( this, name, times, values, interpolation );\\r\\n\\r\\n    }\\r\\n\\r\\n    NumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\\r\\n\\r\\n        constructor: NumberKeyframeTrack,\\r\\n\\r\\n        ValueTypeName: 'number'\\r\\n\\r\\n        // ValueBufferType is inherited\\r\\n\\r\\n        // DefaultInterpolation is inherited\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * Spherical linear unit quaternion interpolant.\\r\\n     *\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\\r\\n\\r\\n        Interpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\\r\\n\\r\\n    }\\r\\n\\r\\n    QuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\\r\\n\\r\\n        constructor: QuaternionLinearInterpolant,\\r\\n\\r\\n        interpolate_: function ( i1, t0, t, t1 ) {\\r\\n\\r\\n            var result = this.resultBuffer,\\r\\n                values = this.sampleValues,\\r\\n                stride = this.valueSize,\\r\\n\\r\\n                offset = i1 * stride,\\r\\n\\r\\n                alpha = ( t - t0 ) / ( t1 - t0 );\\r\\n\\r\\n            for ( var end = offset + stride; offset !== end; offset += 4 ) {\\r\\n\\r\\n                Quaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\\r\\n\\r\\n            }\\r\\n\\r\\n            return result;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A Track of quaternion keyframe values.\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function QuaternionKeyframeTrack( name, times, values, interpolation ) {\\r\\n\\r\\n        KeyframeTrack.call( this, name, times, values, interpolation );\\r\\n\\r\\n    }\\r\\n\\r\\n    QuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\\r\\n\\r\\n        constructor: QuaternionKeyframeTrack,\\r\\n\\r\\n        ValueTypeName: 'quaternion',\\r\\n\\r\\n        // ValueBufferType is inherited\\r\\n\\r\\n        DefaultInterpolation: InterpolateLinear,\\r\\n\\r\\n        InterpolantFactoryMethodLinear: function ( result ) {\\r\\n\\r\\n            return new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\\r\\n\\r\\n        },\\r\\n\\r\\n        InterpolantFactoryMethodSmooth: undefined // not yet implemented\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A Track that interpolates Strings\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function StringKeyframeTrack( name, times, values, interpolation ) {\\r\\n\\r\\n        KeyframeTrack.call( this, name, times, values, interpolation );\\r\\n\\r\\n    }\\r\\n\\r\\n    StringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\\r\\n\\r\\n        constructor: StringKeyframeTrack,\\r\\n\\r\\n        ValueTypeName: 'string',\\r\\n        ValueBufferType: Array,\\r\\n\\r\\n        DefaultInterpolation: InterpolateDiscrete,\\r\\n\\r\\n        InterpolantFactoryMethodLinear: undefined,\\r\\n\\r\\n        InterpolantFactoryMethodSmooth: undefined\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A Track of vectored keyframe values.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function VectorKeyframeTrack( name, times, values, interpolation ) {\\r\\n\\r\\n        KeyframeTrack.call( this, name, times, values, interpolation );\\r\\n\\r\\n    }\\r\\n\\r\\n    VectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\\r\\n\\r\\n        constructor: VectorKeyframeTrack,\\r\\n\\r\\n        ValueTypeName: 'vector'\\r\\n\\r\\n        // ValueBufferType is inherited\\r\\n\\r\\n        // DefaultInterpolation is inherited\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * Reusable set of Tracks that represent an animation.\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     */\\r\\n\\r\\n    function AnimationClip( name, duration, tracks ) {\\r\\n\\r\\n        this.name = name;\\r\\n        this.tracks = tracks;\\r\\n        this.duration = ( duration !== undefined ) ? duration : - 1;\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        // this means it should figure out its duration by scanning the tracks\\r\\n        if ( this.duration < 0 ) {\\r\\n\\r\\n            this.resetDuration();\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    function getTrackTypeForValueTypeName( typeName ) {\\r\\n\\r\\n        switch ( typeName.toLowerCase() ) {\\r\\n\\r\\n            case 'scalar':\\r\\n            case 'double':\\r\\n            case 'float':\\r\\n            case 'number':\\r\\n            case 'integer':\\r\\n\\r\\n                return NumberKeyframeTrack;\\r\\n\\r\\n            case 'vector':\\r\\n            case 'vector2':\\r\\n            case 'vector3':\\r\\n            case 'vector4':\\r\\n\\r\\n                return VectorKeyframeTrack;\\r\\n\\r\\n            case 'color':\\r\\n\\r\\n                return ColorKeyframeTrack;\\r\\n\\r\\n            case 'quaternion':\\r\\n\\r\\n                return QuaternionKeyframeTrack;\\r\\n\\r\\n            case 'bool':\\r\\n            case 'boolean':\\r\\n\\r\\n                return BooleanKeyframeTrack;\\r\\n\\r\\n            case 'string':\\r\\n\\r\\n                return StringKeyframeTrack;\\r\\n\\r\\n        }\\r\\n\\r\\n        throw new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\\r\\n\\r\\n    }\\r\\n\\r\\n    function parseKeyframeTrack( json ) {\\r\\n\\r\\n        if ( json.type === undefined ) {\\r\\n\\r\\n            throw new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\\r\\n\\r\\n        }\\r\\n\\r\\n        var trackType = getTrackTypeForValueTypeName( json.type );\\r\\n\\r\\n        if ( json.times === undefined ) {\\r\\n\\r\\n            var times = [], values = [];\\r\\n\\r\\n            AnimationUtils.flattenJSON( json.keys, times, values, 'value' );\\r\\n\\r\\n            json.times = times;\\r\\n            json.values = values;\\r\\n\\r\\n        }\\r\\n\\r\\n        // derived classes can define a static parse method\\r\\n        if ( trackType.parse !== undefined ) {\\r\\n\\r\\n            return trackType.parse( json );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            // by default, we assume a constructor compatible with the base\\r\\n            return new trackType( json.name, json.times, json.values, json.interpolation );\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( AnimationClip, {\\r\\n\\r\\n        parse: function ( json ) {\\r\\n\\r\\n            var tracks = [],\\r\\n                jsonTracks = json.tracks,\\r\\n                frameTime = 1.0 / ( json.fps || 1.0 );\\r\\n\\r\\n            for ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\\r\\n\\r\\n                tracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return new AnimationClip( json.name, json.duration, tracks );\\r\\n\\r\\n        },\\r\\n\\r\\n        toJSON: function ( clip ) {\\r\\n\\r\\n            var tracks = [],\\r\\n                clipTracks = clip.tracks;\\r\\n\\r\\n            var json = {\\r\\n\\r\\n                'name': clip.name,\\r\\n                'duration': clip.duration,\\r\\n                'tracks': tracks,\\r\\n                'uuid': clip.uuid\\r\\n\\r\\n            };\\r\\n\\r\\n            for ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\\r\\n\\r\\n                tracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return json;\\r\\n\\r\\n        },\\r\\n\\r\\n        CreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\\r\\n\\r\\n            var numMorphTargets = morphTargetSequence.length;\\r\\n            var tracks = [];\\r\\n\\r\\n            for ( var i = 0; i < numMorphTargets; i ++ ) {\\r\\n\\r\\n                var times = [];\\r\\n                var values = [];\\r\\n\\r\\n                times.push(\\r\\n                    ( i + numMorphTargets - 1 ) % numMorphTargets,\\r\\n                    i,\\r\\n                    ( i + 1 ) % numMorphTargets );\\r\\n\\r\\n                values.push( 0, 1, 0 );\\r\\n\\r\\n                var order = AnimationUtils.getKeyframeOrder( times );\\r\\n                times = AnimationUtils.sortedArray( times, 1, order );\\r\\n                values = AnimationUtils.sortedArray( values, 1, order );\\r\\n\\r\\n                // if there is a key at the first frame, duplicate it as the\\r\\n                // last frame as well for perfect loop.\\r\\n                if ( ! noLoop && times[ 0 ] === 0 ) {\\r\\n\\r\\n                    times.push( numMorphTargets );\\r\\n                    values.push( values[ 0 ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                tracks.push(\\r\\n                    new NumberKeyframeTrack(\\r\\n                        '.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\\r\\n                        times, values\\r\\n                    ).scale( 1.0 / fps ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return new AnimationClip( name, - 1, tracks );\\r\\n\\r\\n        },\\r\\n\\r\\n        findByName: function ( objectOrClipArray, name ) {\\r\\n\\r\\n            var clipArray = objectOrClipArray;\\r\\n\\r\\n            if ( ! Array.isArray( objectOrClipArray ) ) {\\r\\n\\r\\n                var o = objectOrClipArray;\\r\\n                clipArray = o.geometry && o.geometry.animations || o.animations;\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0; i < clipArray.length; i ++ ) {\\r\\n\\r\\n                if ( clipArray[ i ].name === name ) {\\r\\n\\r\\n                    return clipArray[ i ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return null;\\r\\n\\r\\n        },\\r\\n\\r\\n        CreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\\r\\n\\r\\n            var animationToMorphTargets = {};\\r\\n\\r\\n            // tested with https://regex101.com/ on trick sequences\\r\\n            // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\\r\\n            var pattern = /^([\\\\w-]*?)([\\\\d]+)$/;\\r\\n\\r\\n            // sort morph target names into animation groups based\\r\\n            // patterns like Walk_001, Walk_002, Run_001, Run_002\\r\\n            for ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\\r\\n\\r\\n                var morphTarget = morphTargets[ i ];\\r\\n                var parts = morphTarget.name.match( pattern );\\r\\n\\r\\n                if ( parts && parts.length > 1 ) {\\r\\n\\r\\n                    var name = parts[ 1 ];\\r\\n\\r\\n                    var animationMorphTargets = animationToMorphTargets[ name ];\\r\\n                    if ( ! animationMorphTargets ) {\\r\\n\\r\\n                        animationToMorphTargets[ name ] = animationMorphTargets = [];\\r\\n\\r\\n                    }\\r\\n\\r\\n                    animationMorphTargets.push( morphTarget );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var clips = [];\\r\\n\\r\\n            for ( var name in animationToMorphTargets ) {\\r\\n\\r\\n                clips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return clips;\\r\\n\\r\\n        },\\r\\n\\r\\n        // parse the animation.hierarchy format\\r\\n        parseAnimation: function ( animation, bones ) {\\r\\n\\r\\n            if ( ! animation ) {\\r\\n\\r\\n                console.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\\r\\n                return null;\\r\\n\\r\\n            }\\r\\n\\r\\n            var addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\\r\\n\\r\\n                // only return track if there are actually keys.\\r\\n                if ( animationKeys.length !== 0 ) {\\r\\n\\r\\n                    var times = [];\\r\\n                    var values = [];\\r\\n\\r\\n                    AnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\\r\\n\\r\\n                    // empty keys are filtered out, so check again\\r\\n                    if ( times.length !== 0 ) {\\r\\n\\r\\n                        destTracks.push( new trackType( trackName, times, values ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n            var tracks = [];\\r\\n\\r\\n            var clipName = animation.name || 'default';\\r\\n            // automatic length determination in AnimationClip.\\r\\n            var duration = animation.length || - 1;\\r\\n            var fps = animation.fps || 30;\\r\\n\\r\\n            var hierarchyTracks = animation.hierarchy || [];\\r\\n\\r\\n            for ( var h = 0; h < hierarchyTracks.length; h ++ ) {\\r\\n\\r\\n                var animationKeys = hierarchyTracks[ h ].keys;\\r\\n\\r\\n                // skip empty tracks\\r\\n                if ( ! animationKeys || animationKeys.length === 0 ) continue;\\r\\n\\r\\n                // process morph targets\\r\\n                if ( animationKeys[ 0 ].morphTargets ) {\\r\\n\\r\\n                    // figure out all morph targets used in this track\\r\\n                    var morphTargetNames = {};\\r\\n\\r\\n                    for ( var k = 0; k < animationKeys.length; k ++ ) {\\r\\n\\r\\n                        if ( animationKeys[ k ].morphTargets ) {\\r\\n\\r\\n                            for ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\\r\\n\\r\\n                                morphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    // create a track for each morph target with all zero\\r\\n                    // morphTargetInfluences except for the keys in which\\r\\n                    // the morphTarget is named.\\r\\n                    for ( var morphTargetName in morphTargetNames ) {\\r\\n\\r\\n                        var times = [];\\r\\n                        var values = [];\\r\\n\\r\\n                        for ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\\r\\n\\r\\n                            var animationKey = animationKeys[ k ];\\r\\n\\r\\n                            times.push( animationKey.time );\\r\\n                            values.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        tracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    duration = morphTargetNames.length * ( fps || 1.0 );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    // ...assume skeletal animation\\r\\n\\r\\n                    var boneName = '.bones[' + bones[ h ].name + ']';\\r\\n\\r\\n                    addNonemptyTrack(\\r\\n                        VectorKeyframeTrack, boneName + '.position',\\r\\n                        animationKeys, 'pos', tracks );\\r\\n\\r\\n                    addNonemptyTrack(\\r\\n                        QuaternionKeyframeTrack, boneName + '.quaternion',\\r\\n                        animationKeys, 'rot', tracks );\\r\\n\\r\\n                    addNonemptyTrack(\\r\\n                        VectorKeyframeTrack, boneName + '.scale',\\r\\n                        animationKeys, 'scl', tracks );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( tracks.length === 0 ) {\\r\\n\\r\\n                return null;\\r\\n\\r\\n            }\\r\\n\\r\\n            var clip = new AnimationClip( clipName, duration, tracks );\\r\\n\\r\\n            return clip;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( AnimationClip.prototype, {\\r\\n\\r\\n        resetDuration: function () {\\r\\n\\r\\n            var tracks = this.tracks, duration = 0;\\r\\n\\r\\n            for ( var i = 0, n = tracks.length; i !== n; ++ i ) {\\r\\n\\r\\n                var track = this.tracks[ i ];\\r\\n\\r\\n                duration = Math.max( duration, track.times[ track.times.length - 1 ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.duration = duration;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        trim: function () {\\r\\n\\r\\n            for ( var i = 0; i < this.tracks.length; i ++ ) {\\r\\n\\r\\n                this.tracks[ i ].trim( 0, this.duration );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        validate: function () {\\r\\n\\r\\n            var valid = true;\\r\\n\\r\\n            for ( var i = 0; i < this.tracks.length; i ++ ) {\\r\\n\\r\\n                valid = valid && this.tracks[ i ].validate();\\r\\n\\r\\n            }\\r\\n\\r\\n            return valid;\\r\\n\\r\\n        },\\r\\n\\r\\n        optimize: function () {\\r\\n\\r\\n            for ( var i = 0; i < this.tracks.length; i ++ ) {\\r\\n\\r\\n                this.tracks[ i ].optimize();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function MaterialLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n        this.textures = {};\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( MaterialLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var loader = new FileLoader( scope.manager );\\r\\n            loader.load( url, function ( text ) {\\r\\n\\r\\n                onLoad( scope.parse( JSON.parse( text ) ) );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n        },\\r\\n\\r\\n        setTextures: function ( value ) {\\r\\n\\r\\n            this.textures = value;\\r\\n\\r\\n        },\\r\\n\\r\\n        parse: function ( json ) {\\r\\n\\r\\n            var textures = this.textures;\\r\\n\\r\\n            function getTexture( name ) {\\r\\n\\r\\n                if ( textures[ name ] === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.MaterialLoader: Undefined texture', name );\\r\\n\\r\\n                }\\r\\n\\r\\n                return textures[ name ];\\r\\n\\r\\n            }\\r\\n\\r\\n            var material = new Materials[ json.type ]();\\r\\n\\r\\n            if ( json.uuid !== undefined ) material.uuid = json.uuid;\\r\\n            if ( json.name !== undefined ) material.name = json.name;\\r\\n            if ( json.color !== undefined ) material.color.setHex( json.color );\\r\\n            if ( json.roughness !== undefined ) material.roughness = json.roughness;\\r\\n            if ( json.metalness !== undefined ) material.metalness = json.metalness;\\r\\n            if ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\\r\\n            if ( json.specular !== undefined ) material.specular.setHex( json.specular );\\r\\n            if ( json.shininess !== undefined ) material.shininess = json.shininess;\\r\\n            if ( json.clearCoat !== undefined ) material.clearCoat = json.clearCoat;\\r\\n            if ( json.clearCoatRoughness !== undefined ) material.clearCoatRoughness = json.clearCoatRoughness;\\r\\n            if ( json.vertexColors !== undefined ) material.vertexColors = json.vertexColors;\\r\\n            if ( json.fog !== undefined ) material.fog = json.fog;\\r\\n            if ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\\r\\n            if ( json.blending !== undefined ) material.blending = json.blending;\\r\\n            if ( json.combine !== undefined ) material.combine = json.combine;\\r\\n            if ( json.side !== undefined ) material.side = json.side;\\r\\n            if ( json.opacity !== undefined ) material.opacity = json.opacity;\\r\\n            if ( json.transparent !== undefined ) material.transparent = json.transparent;\\r\\n            if ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\\r\\n            if ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\\r\\n            if ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\\r\\n            if ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\\r\\n            if ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\\r\\n            if ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\\r\\n            if ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\\r\\n            if ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\\r\\n\\r\\n            if ( json.rotation !== undefined ) material.rotation = json.rotation;\\r\\n\\r\\n            if ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\\r\\n            if ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\\r\\n            if ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\\r\\n            if ( json.scale !== undefined ) material.scale = json.scale;\\r\\n\\r\\n            if ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\\r\\n            if ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\\r\\n            if ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\\r\\n\\r\\n            if ( json.skinning !== undefined ) material.skinning = json.skinning;\\r\\n            if ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\\r\\n            if ( json.dithering !== undefined ) material.dithering = json.dithering;\\r\\n\\r\\n            if ( json.visible !== undefined ) material.visible = json.visible;\\r\\n            if ( json.userData !== undefined ) material.userData = json.userData;\\r\\n\\r\\n            // Shader Material\\r\\n\\r\\n            if ( json.uniforms !== undefined ) {\\r\\n\\r\\n                for ( var name in json.uniforms ) {\\r\\n\\r\\n                    var uniform = json.uniforms[ name ];\\r\\n\\r\\n                    material.uniforms[ name ] = {};\\r\\n\\r\\n                    switch ( uniform.type ) {\\r\\n\\r\\n                        case 't':\\r\\n                            material.uniforms[ name ].value = getTexture( uniform.value );\\r\\n                            break;\\r\\n\\r\\n                        case 'c':\\r\\n                            material.uniforms[ name ].value = new Color().setHex( uniform.value );\\r\\n                            break;\\r\\n\\r\\n                        case 'v2':\\r\\n                            material.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\\r\\n                            break;\\r\\n\\r\\n                        case 'v3':\\r\\n                            material.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\\r\\n                            break;\\r\\n\\r\\n                        case 'v4':\\r\\n                            material.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\\r\\n                            break;\\r\\n\\r\\n                        case 'm4':\\r\\n                            material.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\\r\\n                            break;\\r\\n\\r\\n                        default:\\r\\n                            material.uniforms[ name ].value = uniform.value;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( json.defines !== undefined ) material.defines = json.defines;\\r\\n            if ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\\r\\n            if ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\\r\\n\\r\\n            // Deprecated\\r\\n\\r\\n            if ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\\r\\n\\r\\n            // for PointsMaterial\\r\\n\\r\\n            if ( json.size !== undefined ) material.size = json.size;\\r\\n            if ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\\r\\n\\r\\n            // maps\\r\\n\\r\\n            if ( json.map !== undefined ) material.map = getTexture( json.map );\\r\\n\\r\\n            if ( json.alphaMap !== undefined ) {\\r\\n\\r\\n                material.alphaMap = getTexture( json.alphaMap );\\r\\n                material.transparent = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\\r\\n            if ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\\r\\n\\r\\n            if ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\\r\\n            if ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\\r\\n            if ( json.normalScale !== undefined ) {\\r\\n\\r\\n                var normalScale = json.normalScale;\\r\\n\\r\\n                if ( Array.isArray( normalScale ) === false ) {\\r\\n\\r\\n                    // Blender exporter used to export a scalar. See #7459\\r\\n\\r\\n                    normalScale = [ normalScale, normalScale ];\\r\\n\\r\\n                }\\r\\n\\r\\n                material.normalScale = new Vector2().fromArray( normalScale );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\\r\\n            if ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\\r\\n            if ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\\r\\n\\r\\n            if ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\\r\\n            if ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\\r\\n\\r\\n            if ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\\r\\n            if ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\\r\\n\\r\\n            if ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\\r\\n\\r\\n            if ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\\r\\n            if ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\\r\\n\\r\\n            if ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\\r\\n\\r\\n            if ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\\r\\n            if ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\\r\\n\\r\\n            if ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\\r\\n            if ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\\r\\n\\r\\n            if ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\\r\\n\\r\\n            return material;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function BufferGeometryLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( BufferGeometryLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var loader = new FileLoader( scope.manager );\\r\\n            loader.load( url, function ( text ) {\\r\\n\\r\\n                onLoad( scope.parse( JSON.parse( text ) ) );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n        },\\r\\n\\r\\n        parse: function ( json ) {\\r\\n\\r\\n            var geometry = new BufferGeometry();\\r\\n\\r\\n            var index = json.data.index;\\r\\n\\r\\n            if ( index !== undefined ) {\\r\\n\\r\\n                var typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\\r\\n                geometry.setIndex( new BufferAttribute( typedArray, 1 ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            var attributes = json.data.attributes;\\r\\n\\r\\n            for ( var key in attributes ) {\\r\\n\\r\\n                var attribute = attributes[ key ];\\r\\n                var typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\\r\\n\\r\\n                geometry.addAttribute( key, new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            var groups = json.data.groups || json.data.drawcalls || json.data.offsets;\\r\\n\\r\\n            if ( groups !== undefined ) {\\r\\n\\r\\n                for ( var i = 0, n = groups.length; i !== n; ++ i ) {\\r\\n\\r\\n                    var group = groups[ i ];\\r\\n\\r\\n                    geometry.addGroup( group.start, group.count, group.materialIndex );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var boundingSphere = json.data.boundingSphere;\\r\\n\\r\\n            if ( boundingSphere !== undefined ) {\\r\\n\\r\\n                var center = new Vector3();\\r\\n\\r\\n                if ( boundingSphere.center !== undefined ) {\\r\\n\\r\\n                    center.fromArray( boundingSphere.center );\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.boundingSphere = new Sphere( center, boundingSphere.radius );\\r\\n\\r\\n            }\\r\\n\\r\\n            return geometry;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    var TYPED_ARRAYS = {\\r\\n        Int8Array: Int8Array,\\r\\n        Uint8Array: Uint8Array,\\r\\n        // Workaround for IE11 pre KB2929437. See #11440\\r\\n        Uint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\\r\\n        Int16Array: Int16Array,\\r\\n        Uint16Array: Uint16Array,\\r\\n        Int32Array: Int32Array,\\r\\n        Uint32Array: Uint32Array,\\r\\n        Float32Array: Float32Array,\\r\\n        Float64Array: Float64Array\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function Loader() {}\\r\\n\\r\\n    Loader.Handlers = {\\r\\n\\r\\n        handlers: [],\\r\\n\\r\\n        add: function ( regex, loader ) {\\r\\n\\r\\n            this.handlers.push( regex, loader );\\r\\n\\r\\n        },\\r\\n\\r\\n        get: function ( file ) {\\r\\n\\r\\n            var handlers = this.handlers;\\r\\n\\r\\n            for ( var i = 0, l = handlers.length; i < l; i += 2 ) {\\r\\n\\r\\n                var regex = handlers[ i ];\\r\\n                var loader = handlers[ i + 1 ];\\r\\n\\r\\n                if ( regex.test( file ) ) {\\r\\n\\r\\n                    return loader;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return null;\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    Object.assign( Loader.prototype, {\\r\\n\\r\\n        crossOrigin: 'anonymous',\\r\\n\\r\\n        onLoadStart: function () {},\\r\\n\\r\\n        onLoadProgress: function () {},\\r\\n\\r\\n        onLoadComplete: function () {},\\r\\n\\r\\n        initMaterials: function ( materials, texturePath, crossOrigin ) {\\r\\n\\r\\n            var array = [];\\r\\n\\r\\n            for ( var i = 0; i < materials.length; ++ i ) {\\r\\n\\r\\n                array[ i ] = this.createMaterial( materials[ i ], texturePath, crossOrigin );\\r\\n\\r\\n            }\\r\\n\\r\\n            return array;\\r\\n\\r\\n        },\\r\\n\\r\\n        createMaterial: ( function () {\\r\\n\\r\\n            var BlendingMode = {\\r\\n                NoBlending: NoBlending,\\r\\n                NormalBlending: NormalBlending,\\r\\n                AdditiveBlending: AdditiveBlending,\\r\\n                SubtractiveBlending: SubtractiveBlending,\\r\\n                MultiplyBlending: MultiplyBlending,\\r\\n                CustomBlending: CustomBlending\\r\\n            };\\r\\n\\r\\n            var color = new Color();\\r\\n            var textureLoader = new TextureLoader();\\r\\n            var materialLoader = new MaterialLoader();\\r\\n\\r\\n            return function createMaterial( m, texturePath, crossOrigin ) {\\r\\n\\r\\n                // convert from old material format\\r\\n\\r\\n                var textures = {};\\r\\n\\r\\n                function loadTexture( path, repeat, offset, wrap, anisotropy ) {\\r\\n\\r\\n                    var fullPath = texturePath + path;\\r\\n                    var loader = Loader.Handlers.get( fullPath );\\r\\n\\r\\n                    var texture;\\r\\n\\r\\n                    if ( loader !== null ) {\\r\\n\\r\\n                        texture = loader.load( fullPath );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        textureLoader.setCrossOrigin( crossOrigin );\\r\\n                        texture = textureLoader.load( fullPath );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( repeat !== undefined ) {\\r\\n\\r\\n                        texture.repeat.fromArray( repeat );\\r\\n\\r\\n                        if ( repeat[ 0 ] !== 1 ) texture.wrapS = RepeatWrapping;\\r\\n                        if ( repeat[ 1 ] !== 1 ) texture.wrapT = RepeatWrapping;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( offset !== undefined ) {\\r\\n\\r\\n                        texture.offset.fromArray( offset );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( wrap !== undefined ) {\\r\\n\\r\\n                        if ( wrap[ 0 ] === 'repeat' ) texture.wrapS = RepeatWrapping;\\r\\n                        if ( wrap[ 0 ] === 'mirror' ) texture.wrapS = MirroredRepeatWrapping;\\r\\n\\r\\n                        if ( wrap[ 1 ] === 'repeat' ) texture.wrapT = RepeatWrapping;\\r\\n                        if ( wrap[ 1 ] === 'mirror' ) texture.wrapT = MirroredRepeatWrapping;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( anisotropy !== undefined ) {\\r\\n\\r\\n                        texture.anisotropy = anisotropy;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    var uuid = _Math.generateUUID();\\r\\n\\r\\n                    textures[ uuid ] = texture;\\r\\n\\r\\n                    return uuid;\\r\\n\\r\\n                }\\r\\n\\r\\n                //\\r\\n\\r\\n                var json = {\\r\\n                    uuid: _Math.generateUUID(),\\r\\n                    type: 'MeshLambertMaterial'\\r\\n                };\\r\\n\\r\\n                for ( var name in m ) {\\r\\n\\r\\n                    var value = m[ name ];\\r\\n\\r\\n                    switch ( name ) {\\r\\n\\r\\n                        case 'DbgColor':\\r\\n                        case 'DbgIndex':\\r\\n                        case 'opticalDensity':\\r\\n                        case 'illumination':\\r\\n                            break;\\r\\n                        case 'DbgName':\\r\\n                            json.name = value;\\r\\n                            break;\\r\\n                        case 'blending':\\r\\n                            json.blending = BlendingMode[ value ];\\r\\n                            break;\\r\\n                        case 'colorAmbient':\\r\\n                        case 'mapAmbient':\\r\\n                            console.warn( 'THREE.Loader.createMaterial:', name, 'is no longer supported.' );\\r\\n                            break;\\r\\n                        case 'colorDiffuse':\\r\\n                            json.color = color.fromArray( value ).getHex();\\r\\n                            break;\\r\\n                        case 'colorSpecular':\\r\\n                            json.specular = color.fromArray( value ).getHex();\\r\\n                            break;\\r\\n                        case 'colorEmissive':\\r\\n                            json.emissive = color.fromArray( value ).getHex();\\r\\n                            break;\\r\\n                        case 'specularCoef':\\r\\n                            json.shininess = value;\\r\\n                            break;\\r\\n                        case 'shading':\\r\\n                            if ( value.toLowerCase() === 'basic' ) json.type = 'MeshBasicMaterial';\\r\\n                            if ( value.toLowerCase() === 'phong' ) json.type = 'MeshPhongMaterial';\\r\\n                            if ( value.toLowerCase() === 'standard' ) json.type = 'MeshStandardMaterial';\\r\\n                            break;\\r\\n                        case 'mapDiffuse':\\r\\n                            json.map = loadTexture( value, m.mapDiffuseRepeat, m.mapDiffuseOffset, m.mapDiffuseWrap, m.mapDiffuseAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapDiffuseRepeat':\\r\\n                        case 'mapDiffuseOffset':\\r\\n                        case 'mapDiffuseWrap':\\r\\n                        case 'mapDiffuseAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapEmissive':\\r\\n                            json.emissiveMap = loadTexture( value, m.mapEmissiveRepeat, m.mapEmissiveOffset, m.mapEmissiveWrap, m.mapEmissiveAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapEmissiveRepeat':\\r\\n                        case 'mapEmissiveOffset':\\r\\n                        case 'mapEmissiveWrap':\\r\\n                        case 'mapEmissiveAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapLight':\\r\\n                            json.lightMap = loadTexture( value, m.mapLightRepeat, m.mapLightOffset, m.mapLightWrap, m.mapLightAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapLightRepeat':\\r\\n                        case 'mapLightOffset':\\r\\n                        case 'mapLightWrap':\\r\\n                        case 'mapLightAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapAO':\\r\\n                            json.aoMap = loadTexture( value, m.mapAORepeat, m.mapAOOffset, m.mapAOWrap, m.mapAOAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapAORepeat':\\r\\n                        case 'mapAOOffset':\\r\\n                        case 'mapAOWrap':\\r\\n                        case 'mapAOAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapBump':\\r\\n                            json.bumpMap = loadTexture( value, m.mapBumpRepeat, m.mapBumpOffset, m.mapBumpWrap, m.mapBumpAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapBumpScale':\\r\\n                            json.bumpScale = value;\\r\\n                            break;\\r\\n                        case 'mapBumpRepeat':\\r\\n                        case 'mapBumpOffset':\\r\\n                        case 'mapBumpWrap':\\r\\n                        case 'mapBumpAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapNormal':\\r\\n                            json.normalMap = loadTexture( value, m.mapNormalRepeat, m.mapNormalOffset, m.mapNormalWrap, m.mapNormalAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapNormalFactor':\\r\\n                            json.normalScale = value;\\r\\n                            break;\\r\\n                        case 'mapNormalRepeat':\\r\\n                        case 'mapNormalOffset':\\r\\n                        case 'mapNormalWrap':\\r\\n                        case 'mapNormalAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapSpecular':\\r\\n                            json.specularMap = loadTexture( value, m.mapSpecularRepeat, m.mapSpecularOffset, m.mapSpecularWrap, m.mapSpecularAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapSpecularRepeat':\\r\\n                        case 'mapSpecularOffset':\\r\\n                        case 'mapSpecularWrap':\\r\\n                        case 'mapSpecularAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapMetalness':\\r\\n                            json.metalnessMap = loadTexture( value, m.mapMetalnessRepeat, m.mapMetalnessOffset, m.mapMetalnessWrap, m.mapMetalnessAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapMetalnessRepeat':\\r\\n                        case 'mapMetalnessOffset':\\r\\n                        case 'mapMetalnessWrap':\\r\\n                        case 'mapMetalnessAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapRoughness':\\r\\n                            json.roughnessMap = loadTexture( value, m.mapRoughnessRepeat, m.mapRoughnessOffset, m.mapRoughnessWrap, m.mapRoughnessAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapRoughnessRepeat':\\r\\n                        case 'mapRoughnessOffset':\\r\\n                        case 'mapRoughnessWrap':\\r\\n                        case 'mapRoughnessAnisotropy':\\r\\n                            break;\\r\\n                        case 'mapAlpha':\\r\\n                            json.alphaMap = loadTexture( value, m.mapAlphaRepeat, m.mapAlphaOffset, m.mapAlphaWrap, m.mapAlphaAnisotropy );\\r\\n                            break;\\r\\n                        case 'mapAlphaRepeat':\\r\\n                        case 'mapAlphaOffset':\\r\\n                        case 'mapAlphaWrap':\\r\\n                        case 'mapAlphaAnisotropy':\\r\\n                            break;\\r\\n                        case 'flipSided':\\r\\n                            json.side = BackSide;\\r\\n                            break;\\r\\n                        case 'doubleSided':\\r\\n                            json.side = DoubleSide;\\r\\n                            break;\\r\\n                        case 'transparency':\\r\\n                            console.warn( 'THREE.Loader.createMaterial: transparency has been renamed to opacity' );\\r\\n                            json.opacity = value;\\r\\n                            break;\\r\\n                        case 'depthTest':\\r\\n                        case 'depthWrite':\\r\\n                        case 'colorWrite':\\r\\n                        case 'opacity':\\r\\n                        case 'reflectivity':\\r\\n                        case 'transparent':\\r\\n                        case 'visible':\\r\\n                        case 'wireframe':\\r\\n                            json[ name ] = value;\\r\\n                            break;\\r\\n                        case 'vertexColors':\\r\\n                            if ( value === true ) json.vertexColors = VertexColors;\\r\\n                            if ( value === 'face' ) json.vertexColors = FaceColors;\\r\\n                            break;\\r\\n                        default:\\r\\n                            console.error( 'THREE.Loader.createMaterial: Unsupported', name, value );\\r\\n                            break;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( json.type === 'MeshBasicMaterial' ) delete json.emissive;\\r\\n                if ( json.type !== 'MeshPhongMaterial' ) delete json.specular;\\r\\n\\r\\n                if ( json.opacity < 1 ) json.transparent = true;\\r\\n\\r\\n                materialLoader.setTextures( textures );\\r\\n\\r\\n                return materialLoader.parse( json );\\r\\n\\r\\n            };\\r\\n\\r\\n        } )()\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author Don McCurdy / https://www.donmccurdy.com\\r\\n     */\\r\\n\\r\\n    var LoaderUtils = {\\r\\n\\r\\n        decodeText: function ( array ) {\\r\\n\\r\\n            if ( typeof TextDecoder !== 'undefined' ) {\\r\\n\\r\\n                return new TextDecoder().decode( array );\\r\\n\\r\\n            }\\r\\n\\r\\n            // Avoid the String.fromCharCode.apply(null, array) shortcut, which\\r\\n            // throws a \\\"maximum call stack size exceeded\\\" error for large arrays.\\r\\n\\r\\n            var s = '';\\r\\n\\r\\n            for ( var i = 0, il = array.length; i < il; i ++ ) {\\r\\n\\r\\n                // Implicitly assumes little-endian.\\r\\n                s += String.fromCharCode( array[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            // Merges multi-byte utf-8 characters.\\r\\n            return decodeURIComponent( escape( s ) );\\r\\n\\r\\n        },\\r\\n\\r\\n        extractUrlBase: function ( url ) {\\r\\n\\r\\n            var index = url.lastIndexOf( '/' );\\r\\n\\r\\n            if ( index === - 1 ) return './';\\r\\n\\r\\n            return url.substr( 0, index + 1 );\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function JSONLoader( manager ) {\\r\\n\\r\\n        if ( typeof manager === 'boolean' ) {\\r\\n\\r\\n            console.warn( 'THREE.JSONLoader: showStatus parameter has been removed from constructor.' );\\r\\n            manager = undefined;\\r\\n\\r\\n        }\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n        this.withCredentials = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( JSONLoader.prototype, {\\r\\n\\r\\n        crossOrigin: 'anonymous',\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var path = ( this.path === undefined ) ? LoaderUtils.extractUrlBase( url ) : this.path;\\r\\n\\r\\n            var loader = new FileLoader( this.manager );\\r\\n            loader.setPath( this.path );\\r\\n            loader.setWithCredentials( this.withCredentials );\\r\\n            loader.load( url, function ( text ) {\\r\\n\\r\\n                var json = JSON.parse( text );\\r\\n                var metadata = json.metadata;\\r\\n\\r\\n                if ( metadata !== undefined ) {\\r\\n\\r\\n                    var type = metadata.type;\\r\\n\\r\\n                    if ( type !== undefined ) {\\r\\n\\r\\n                        if ( type.toLowerCase() === 'object' ) {\\r\\n\\r\\n                            console.error( 'THREE.JSONLoader: ' + url + ' should be loaded with THREE.ObjectLoader instead.' );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                var object = scope.parse( json, path );\\r\\n                onLoad( object.geometry, object.materials );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setResourcePath: function ( value ) {\\r\\n\\r\\n            this.resourcePath = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setCrossOrigin: function ( value ) {\\r\\n\\r\\n            this.crossOrigin = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        parse: ( function () {\\r\\n\\r\\n            function parseModel( json, geometry ) {\\r\\n\\r\\n                function isBitSet( value, position ) {\\r\\n\\r\\n                    return value & ( 1 << position );\\r\\n\\r\\n                }\\r\\n\\r\\n                var i, j, fi,\\r\\n\\r\\n                    offset, zLength,\\r\\n\\r\\n                    colorIndex, normalIndex, uvIndex, materialIndex,\\r\\n\\r\\n                    type,\\r\\n                    isQuad,\\r\\n                    hasMaterial,\\r\\n                    hasFaceVertexUv,\\r\\n                    hasFaceNormal, hasFaceVertexNormal,\\r\\n                    hasFaceColor, hasFaceVertexColor,\\r\\n\\r\\n                    vertex, face, faceA, faceB, hex, normal,\\r\\n\\r\\n                    uvLayer, uv, u, v,\\r\\n\\r\\n                    faces = json.faces,\\r\\n                    vertices = json.vertices,\\r\\n                    normals = json.normals,\\r\\n                    colors = json.colors,\\r\\n\\r\\n                    scale = json.scale,\\r\\n\\r\\n                    nUvLayers = 0;\\r\\n\\r\\n\\r\\n                if ( json.uvs !== undefined ) {\\r\\n\\r\\n                    // disregard empty arrays\\r\\n\\r\\n                    for ( i = 0; i < json.uvs.length; i ++ ) {\\r\\n\\r\\n                        if ( json.uvs[ i ].length ) nUvLayers ++;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    for ( i = 0; i < nUvLayers; i ++ ) {\\r\\n\\r\\n                        geometry.faceVertexUvs[ i ] = [];\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                offset = 0;\\r\\n                zLength = vertices.length;\\r\\n\\r\\n                while ( offset < zLength ) {\\r\\n\\r\\n                    vertex = new Vector3();\\r\\n\\r\\n                    vertex.x = vertices[ offset ++ ] * scale;\\r\\n                    vertex.y = vertices[ offset ++ ] * scale;\\r\\n                    vertex.z = vertices[ offset ++ ] * scale;\\r\\n\\r\\n                    geometry.vertices.push( vertex );\\r\\n\\r\\n                }\\r\\n\\r\\n                offset = 0;\\r\\n                zLength = faces.length;\\r\\n\\r\\n                while ( offset < zLength ) {\\r\\n\\r\\n                    type = faces[ offset ++ ];\\r\\n\\r\\n                    isQuad = isBitSet( type, 0 );\\r\\n                    hasMaterial = isBitSet( type, 1 );\\r\\n                    hasFaceVertexUv = isBitSet( type, 3 );\\r\\n                    hasFaceNormal = isBitSet( type, 4 );\\r\\n                    hasFaceVertexNormal = isBitSet( type, 5 );\\r\\n                    hasFaceColor = isBitSet( type, 6 );\\r\\n                    hasFaceVertexColor = isBitSet( type, 7 );\\r\\n\\r\\n                    // console.log(\\\"type\\\", type, \\\"bits\\\", isQuad, hasMaterial, hasFaceVertexUv, hasFaceNormal, hasFaceVertexNormal, hasFaceColor, hasFaceVertexColor);\\r\\n\\r\\n                    if ( isQuad ) {\\r\\n\\r\\n                        faceA = new Face3();\\r\\n                        faceA.a = faces[ offset ];\\r\\n                        faceA.b = faces[ offset + 1 ];\\r\\n                        faceA.c = faces[ offset + 3 ];\\r\\n\\r\\n                        faceB = new Face3();\\r\\n                        faceB.a = faces[ offset + 1 ];\\r\\n                        faceB.b = faces[ offset + 2 ];\\r\\n                        faceB.c = faces[ offset + 3 ];\\r\\n\\r\\n                        offset += 4;\\r\\n\\r\\n                        if ( hasMaterial ) {\\r\\n\\r\\n                            materialIndex = faces[ offset ++ ];\\r\\n                            faceA.materialIndex = materialIndex;\\r\\n                            faceB.materialIndex = materialIndex;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        // to get face <=> uv index correspondence\\r\\n\\r\\n                        fi = geometry.faces.length;\\r\\n\\r\\n                        if ( hasFaceVertexUv ) {\\r\\n\\r\\n                            for ( i = 0; i < nUvLayers; i ++ ) {\\r\\n\\r\\n                                uvLayer = json.uvs[ i ];\\r\\n\\r\\n                                geometry.faceVertexUvs[ i ][ fi ] = [];\\r\\n                                geometry.faceVertexUvs[ i ][ fi + 1 ] = [];\\r\\n\\r\\n                                for ( j = 0; j < 4; j ++ ) {\\r\\n\\r\\n                                    uvIndex = faces[ offset ++ ];\\r\\n\\r\\n                                    u = uvLayer[ uvIndex * 2 ];\\r\\n                                    v = uvLayer[ uvIndex * 2 + 1 ];\\r\\n\\r\\n                                    uv = new Vector2( u, v );\\r\\n\\r\\n                                    if ( j !== 2 ) geometry.faceVertexUvs[ i ][ fi ].push( uv );\\r\\n                                    if ( j !== 0 ) geometry.faceVertexUvs[ i ][ fi + 1 ].push( uv );\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                        if ( hasFaceNormal ) {\\r\\n\\r\\n                            normalIndex = faces[ offset ++ ] * 3;\\r\\n\\r\\n                            faceA.normal.set(\\r\\n                                normals[ normalIndex ++ ],\\r\\n                                normals[ normalIndex ++ ],\\r\\n                                normals[ normalIndex ]\\r\\n                            );\\r\\n\\r\\n                            faceB.normal.copy( faceA.normal );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        if ( hasFaceVertexNormal ) {\\r\\n\\r\\n                            for ( i = 0; i < 4; i ++ ) {\\r\\n\\r\\n                                normalIndex = faces[ offset ++ ] * 3;\\r\\n\\r\\n                                normal = new Vector3(\\r\\n                                    normals[ normalIndex ++ ],\\r\\n                                    normals[ normalIndex ++ ],\\r\\n                                    normals[ normalIndex ]\\r\\n                                );\\r\\n\\r\\n\\r\\n                                if ( i !== 2 ) faceA.vertexNormals.push( normal );\\r\\n                                if ( i !== 0 ) faceB.vertexNormals.push( normal );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n\\r\\n                        if ( hasFaceColor ) {\\r\\n\\r\\n                            colorIndex = faces[ offset ++ ];\\r\\n                            hex = colors[ colorIndex ];\\r\\n\\r\\n                            faceA.color.setHex( hex );\\r\\n                            faceB.color.setHex( hex );\\r\\n\\r\\n                        }\\r\\n\\r\\n\\r\\n                        if ( hasFaceVertexColor ) {\\r\\n\\r\\n                            for ( i = 0; i < 4; i ++ ) {\\r\\n\\r\\n                                colorIndex = faces[ offset ++ ];\\r\\n                                hex = colors[ colorIndex ];\\r\\n\\r\\n                                if ( i !== 2 ) faceA.vertexColors.push( new Color( hex ) );\\r\\n                                if ( i !== 0 ) faceB.vertexColors.push( new Color( hex ) );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                        geometry.faces.push( faceA );\\r\\n                        geometry.faces.push( faceB );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        face = new Face3();\\r\\n                        face.a = faces[ offset ++ ];\\r\\n                        face.b = faces[ offset ++ ];\\r\\n                        face.c = faces[ offset ++ ];\\r\\n\\r\\n                        if ( hasMaterial ) {\\r\\n\\r\\n                            materialIndex = faces[ offset ++ ];\\r\\n                            face.materialIndex = materialIndex;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        // to get face <=> uv index correspondence\\r\\n\\r\\n                        fi = geometry.faces.length;\\r\\n\\r\\n                        if ( hasFaceVertexUv ) {\\r\\n\\r\\n                            for ( i = 0; i < nUvLayers; i ++ ) {\\r\\n\\r\\n                                uvLayer = json.uvs[ i ];\\r\\n\\r\\n                                geometry.faceVertexUvs[ i ][ fi ] = [];\\r\\n\\r\\n                                for ( j = 0; j < 3; j ++ ) {\\r\\n\\r\\n                                    uvIndex = faces[ offset ++ ];\\r\\n\\r\\n                                    u = uvLayer[ uvIndex * 2 ];\\r\\n                                    v = uvLayer[ uvIndex * 2 + 1 ];\\r\\n\\r\\n                                    uv = new Vector2( u, v );\\r\\n\\r\\n                                    geometry.faceVertexUvs[ i ][ fi ].push( uv );\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                        if ( hasFaceNormal ) {\\r\\n\\r\\n                            normalIndex = faces[ offset ++ ] * 3;\\r\\n\\r\\n                            face.normal.set(\\r\\n                                normals[ normalIndex ++ ],\\r\\n                                normals[ normalIndex ++ ],\\r\\n                                normals[ normalIndex ]\\r\\n                            );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        if ( hasFaceVertexNormal ) {\\r\\n\\r\\n                            for ( i = 0; i < 3; i ++ ) {\\r\\n\\r\\n                                normalIndex = faces[ offset ++ ] * 3;\\r\\n\\r\\n                                normal = new Vector3(\\r\\n                                    normals[ normalIndex ++ ],\\r\\n                                    normals[ normalIndex ++ ],\\r\\n                                    normals[ normalIndex ]\\r\\n                                );\\r\\n\\r\\n                                face.vertexNormals.push( normal );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n\\r\\n                        if ( hasFaceColor ) {\\r\\n\\r\\n                            colorIndex = faces[ offset ++ ];\\r\\n                            face.color.setHex( colors[ colorIndex ] );\\r\\n\\r\\n                        }\\r\\n\\r\\n\\r\\n                        if ( hasFaceVertexColor ) {\\r\\n\\r\\n                            for ( i = 0; i < 3; i ++ ) {\\r\\n\\r\\n                                colorIndex = faces[ offset ++ ];\\r\\n                                face.vertexColors.push( new Color( colors[ colorIndex ] ) );\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                        geometry.faces.push( face );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            function parseSkin( json, geometry ) {\\r\\n\\r\\n                var influencesPerVertex = ( json.influencesPerVertex !== undefined ) ? json.influencesPerVertex : 2;\\r\\n\\r\\n                if ( json.skinWeights ) {\\r\\n\\r\\n                    for ( var i = 0, l = json.skinWeights.length; i < l; i += influencesPerVertex ) {\\r\\n\\r\\n                        var x = json.skinWeights[ i ];\\r\\n                        var y = ( influencesPerVertex > 1 ) ? json.skinWeights[ i + 1 ] : 0;\\r\\n                        var z = ( influencesPerVertex > 2 ) ? json.skinWeights[ i + 2 ] : 0;\\r\\n                        var w = ( influencesPerVertex > 3 ) ? json.skinWeights[ i + 3 ] : 0;\\r\\n\\r\\n                        geometry.skinWeights.push( new Vector4( x, y, z, w ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( json.skinIndices ) {\\r\\n\\r\\n                    for ( var i = 0, l = json.skinIndices.length; i < l; i += influencesPerVertex ) {\\r\\n\\r\\n                        var a = json.skinIndices[ i ];\\r\\n                        var b = ( influencesPerVertex > 1 ) ? json.skinIndices[ i + 1 ] : 0;\\r\\n                        var c = ( influencesPerVertex > 2 ) ? json.skinIndices[ i + 2 ] : 0;\\r\\n                        var d = ( influencesPerVertex > 3 ) ? json.skinIndices[ i + 3 ] : 0;\\r\\n\\r\\n                        geometry.skinIndices.push( new Vector4( a, b, c, d ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                geometry.bones = json.bones;\\r\\n\\r\\n                if ( geometry.bones && geometry.bones.length > 0 && ( geometry.skinWeights.length !== geometry.skinIndices.length || geometry.skinIndices.length !== geometry.vertices.length ) ) {\\r\\n\\r\\n                    console.warn( 'When skinning, number of vertices (' + geometry.vertices.length + '), skinIndices (' +\\r\\n                        geometry.skinIndices.length + '), and skinWeights (' + geometry.skinWeights.length + ') should match.' );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            function parseMorphing( json, geometry ) {\\r\\n\\r\\n                var scale = json.scale;\\r\\n\\r\\n                if ( json.morphTargets !== undefined ) {\\r\\n\\r\\n                    for ( var i = 0, l = json.morphTargets.length; i < l; i ++ ) {\\r\\n\\r\\n                        geometry.morphTargets[ i ] = {};\\r\\n                        geometry.morphTargets[ i ].name = json.morphTargets[ i ].name;\\r\\n                        geometry.morphTargets[ i ].vertices = [];\\r\\n\\r\\n                        var dstVertices = geometry.morphTargets[ i ].vertices;\\r\\n                        var srcVertices = json.morphTargets[ i ].vertices;\\r\\n\\r\\n                        for ( var v = 0, vl = srcVertices.length; v < vl; v += 3 ) {\\r\\n\\r\\n                            var vertex = new Vector3();\\r\\n                            vertex.x = srcVertices[ v ] * scale;\\r\\n                            vertex.y = srcVertices[ v + 1 ] * scale;\\r\\n                            vertex.z = srcVertices[ v + 2 ] * scale;\\r\\n\\r\\n                            dstVertices.push( vertex );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( json.morphColors !== undefined && json.morphColors.length > 0 ) {\\r\\n\\r\\n                    console.warn( 'THREE.JSONLoader: \\\"morphColors\\\" no longer supported. Using them as face colors.' );\\r\\n\\r\\n                    var faces = geometry.faces;\\r\\n                    var morphColors = json.morphColors[ 0 ].colors;\\r\\n\\r\\n                    for ( var i = 0, l = faces.length; i < l; i ++ ) {\\r\\n\\r\\n                        faces[ i ].color.fromArray( morphColors, i * 3 );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            function parseAnimations( json, geometry ) {\\r\\n\\r\\n                var outputAnimations = [];\\r\\n\\r\\n                // parse old style Bone/Hierarchy animations\\r\\n                var animations = [];\\r\\n\\r\\n                if ( json.animation !== undefined ) {\\r\\n\\r\\n                    animations.push( json.animation );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( json.animations !== undefined ) {\\r\\n\\r\\n                    if ( json.animations.length ) {\\r\\n\\r\\n                        animations = animations.concat( json.animations );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        animations.push( json.animations );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( var i = 0; i < animations.length; i ++ ) {\\r\\n\\r\\n                    var clip = AnimationClip.parseAnimation( animations[ i ], geometry.bones );\\r\\n                    if ( clip ) outputAnimations.push( clip );\\r\\n\\r\\n                }\\r\\n\\r\\n                // parse implicit morph animations\\r\\n                if ( geometry.morphTargets ) {\\r\\n\\r\\n                    // TODO: Figure out what an appropraite FPS is for morph target animations -- defaulting to 10, but really it is completely arbitrary.\\r\\n                    var morphAnimationClips = AnimationClip.CreateClipsFromMorphTargetSequences( geometry.morphTargets, 10 );\\r\\n                    outputAnimations = outputAnimations.concat( morphAnimationClips );\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( outputAnimations.length > 0 ) geometry.animations = outputAnimations;\\r\\n\\r\\n            }\\r\\n\\r\\n            return function parse( json, path ) {\\r\\n\\r\\n                if ( json.data !== undefined ) {\\r\\n\\r\\n                    // Geometry 4.0 spec\\r\\n                    json = json.data;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( json.scale !== undefined ) {\\r\\n\\r\\n                    json.scale = 1.0 / json.scale;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    json.scale = 1.0;\\r\\n\\r\\n                }\\r\\n\\r\\n                var geometry = new Geometry();\\r\\n\\r\\n                parseModel( json, geometry );\\r\\n                parseSkin( json, geometry );\\r\\n                parseMorphing( json, geometry );\\r\\n                parseAnimations( json, geometry );\\r\\n\\r\\n                geometry.computeFaceNormals();\\r\\n                geometry.computeBoundingSphere();\\r\\n\\r\\n                if ( json.materials === undefined || json.materials.length === 0 ) {\\r\\n\\r\\n                    return { geometry: geometry };\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    var materials = Loader.prototype.initMaterials( json.materials, this.resourcePath || path, this.crossOrigin );\\r\\n\\r\\n                    return { geometry: geometry, materials: materials };\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        } )()\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function ObjectLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n        this.texturePath = '';\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( ObjectLoader.prototype, {\\r\\n\\r\\n        crossOrigin: 'anonymous',\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            if ( this.texturePath === '' ) {\\r\\n\\r\\n                this.texturePath = url.substring( 0, url.lastIndexOf( '/' ) + 1 );\\r\\n\\r\\n            }\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var loader = new FileLoader( scope.manager );\\r\\n            loader.load( url, function ( text ) {\\r\\n\\r\\n                var json = null;\\r\\n\\r\\n                try {\\r\\n\\r\\n                    json = JSON.parse( text );\\r\\n\\r\\n                } catch ( error ) {\\r\\n\\r\\n                    if ( onError !== undefined ) onError( error );\\r\\n\\r\\n                    console.error( 'THREE:ObjectLoader: Can\\\\'t parse ' + url + '.', error.message );\\r\\n\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n                var metadata = json.metadata;\\r\\n\\r\\n                if ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\\r\\n\\r\\n                    console.error( 'THREE.ObjectLoader: Can\\\\'t load ' + url + '. Use THREE.JSONLoader instead.' );\\r\\n                    return;\\r\\n\\r\\n                }\\r\\n\\r\\n                scope.parse( json, onLoad );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n        },\\r\\n\\r\\n        setTexturePath: function ( value ) {\\r\\n\\r\\n            this.texturePath = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setCrossOrigin: function ( value ) {\\r\\n\\r\\n            this.crossOrigin = value;\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        parse: function ( json, onLoad ) {\\r\\n\\r\\n            var shapes = this.parseShape( json.shapes );\\r\\n            var geometries = this.parseGeometries( json.geometries, shapes );\\r\\n\\r\\n            var images = this.parseImages( json.images, function () {\\r\\n\\r\\n                if ( onLoad !== undefined ) onLoad( object );\\r\\n\\r\\n            } );\\r\\n\\r\\n            var textures = this.parseTextures( json.textures, images );\\r\\n            var materials = this.parseMaterials( json.materials, textures );\\r\\n\\r\\n            var object = this.parseObject( json.object, geometries, materials );\\r\\n\\r\\n            if ( json.animations ) {\\r\\n\\r\\n                object.animations = this.parseAnimations( json.animations );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( json.images === undefined || json.images.length === 0 ) {\\r\\n\\r\\n                if ( onLoad !== undefined ) onLoad( object );\\r\\n\\r\\n            }\\r\\n\\r\\n            return object;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseShape: function ( json ) {\\r\\n\\r\\n            var shapes = {};\\r\\n\\r\\n            if ( json !== undefined ) {\\r\\n\\r\\n                for ( var i = 0, l = json.length; i < l; i ++ ) {\\r\\n\\r\\n                    var shape = new Shape().fromJSON( json[ i ] );\\r\\n\\r\\n                    shapes[ shape.uuid ] = shape;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return shapes;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseGeometries: function ( json, shapes ) {\\r\\n\\r\\n            var geometries = {};\\r\\n\\r\\n            if ( json !== undefined ) {\\r\\n\\r\\n                var geometryLoader = new JSONLoader();\\r\\n                var bufferGeometryLoader = new BufferGeometryLoader();\\r\\n\\r\\n                for ( var i = 0, l = json.length; i < l; i ++ ) {\\r\\n\\r\\n                    var geometry;\\r\\n                    var data = json[ i ];\\r\\n\\r\\n                    switch ( data.type ) {\\r\\n\\r\\n                        case 'PlaneGeometry':\\r\\n                        case 'PlaneBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.width,\\r\\n                                data.height,\\r\\n                                data.widthSegments,\\r\\n                                data.heightSegments\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'BoxGeometry':\\r\\n                        case 'BoxBufferGeometry':\\r\\n                        case 'CubeGeometry': // backwards compatible\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.width,\\r\\n                                data.height,\\r\\n                                data.depth,\\r\\n                                data.widthSegments,\\r\\n                                data.heightSegments,\\r\\n                                data.depthSegments\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'CircleGeometry':\\r\\n                        case 'CircleBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radius,\\r\\n                                data.segments,\\r\\n                                data.thetaStart,\\r\\n                                data.thetaLength\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'CylinderGeometry':\\r\\n                        case 'CylinderBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radiusTop,\\r\\n                                data.radiusBottom,\\r\\n                                data.height,\\r\\n                                data.radialSegments,\\r\\n                                data.heightSegments,\\r\\n                                data.openEnded,\\r\\n                                data.thetaStart,\\r\\n                                data.thetaLength\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'ConeGeometry':\\r\\n                        case 'ConeBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radius,\\r\\n                                data.height,\\r\\n                                data.radialSegments,\\r\\n                                data.heightSegments,\\r\\n                                data.openEnded,\\r\\n                                data.thetaStart,\\r\\n                                data.thetaLength\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'SphereGeometry':\\r\\n                        case 'SphereBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radius,\\r\\n                                data.widthSegments,\\r\\n                                data.heightSegments,\\r\\n                                data.phiStart,\\r\\n                                data.phiLength,\\r\\n                                data.thetaStart,\\r\\n                                data.thetaLength\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'DodecahedronGeometry':\\r\\n                        case 'DodecahedronBufferGeometry':\\r\\n                        case 'IcosahedronGeometry':\\r\\n                        case 'IcosahedronBufferGeometry':\\r\\n                        case 'OctahedronGeometry':\\r\\n                        case 'OctahedronBufferGeometry':\\r\\n                        case 'TetrahedronGeometry':\\r\\n                        case 'TetrahedronBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radius,\\r\\n                                data.detail\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'RingGeometry':\\r\\n                        case 'RingBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.innerRadius,\\r\\n                                data.outerRadius,\\r\\n                                data.thetaSegments,\\r\\n                                data.phiSegments,\\r\\n                                data.thetaStart,\\r\\n                                data.thetaLength\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'TorusGeometry':\\r\\n                        case 'TorusBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radius,\\r\\n                                data.tube,\\r\\n                                data.radialSegments,\\r\\n                                data.tubularSegments,\\r\\n                                data.arc\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'TorusKnotGeometry':\\r\\n                        case 'TorusKnotBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.radius,\\r\\n                                data.tube,\\r\\n                                data.tubularSegments,\\r\\n                                data.radialSegments,\\r\\n                                data.p,\\r\\n                                data.q\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'LatheGeometry':\\r\\n                        case 'LatheBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.points,\\r\\n                                data.segments,\\r\\n                                data.phiStart,\\r\\n                                data.phiLength\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'PolyhedronGeometry':\\r\\n                        case 'PolyhedronBufferGeometry':\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                data.vertices,\\r\\n                                data.indices,\\r\\n                                data.radius,\\r\\n                                data.details\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'ShapeGeometry':\\r\\n                        case 'ShapeBufferGeometry':\\r\\n\\r\\n                            var geometryShapes = [];\\r\\n\\r\\n                            for ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\\r\\n\\r\\n                                var shape = shapes[ data.shapes[ j ] ];\\r\\n\\r\\n                                geometryShapes.push( shape );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                geometryShapes,\\r\\n                                data.curveSegments\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n\\r\\n                        case 'ExtrudeGeometry':\\r\\n                        case 'ExtrudeBufferGeometry':\\r\\n\\r\\n                            var geometryShapes = [];\\r\\n\\r\\n                            for ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\\r\\n\\r\\n                                var shape = shapes[ data.shapes[ j ] ];\\r\\n\\r\\n                                geometryShapes.push( shape );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            var extrudePath = data.options.extrudePath;\\r\\n\\r\\n                            if ( extrudePath !== undefined ) {\\r\\n\\r\\n                                data.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\\r\\n\\r\\n                            }\\r\\n\\r\\n                            geometry = new Geometries[ data.type ](\\r\\n                                geometryShapes,\\r\\n                                data.options\\r\\n                            );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'BufferGeometry':\\r\\n\\r\\n                            geometry = bufferGeometryLoader.parse( data );\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        case 'Geometry':\\r\\n\\r\\n                            geometry = geometryLoader.parse( data, this.texturePath ).geometry;\\r\\n\\r\\n                            break;\\r\\n\\r\\n                        default:\\r\\n\\r\\n                            console.warn( 'THREE.ObjectLoader: Unsupported geometry type \\\"' + data.type + '\\\"' );\\r\\n\\r\\n                            continue;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    geometry.uuid = data.uuid;\\r\\n\\r\\n                    if ( data.name !== undefined ) geometry.name = data.name;\\r\\n                    if ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\\r\\n\\r\\n                    geometries[ data.uuid ] = geometry;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return geometries;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseMaterials: function ( json, textures ) {\\r\\n\\r\\n            var materials = {};\\r\\n\\r\\n            if ( json !== undefined ) {\\r\\n\\r\\n                var loader = new MaterialLoader();\\r\\n                loader.setTextures( textures );\\r\\n\\r\\n                for ( var i = 0, l = json.length; i < l; i ++ ) {\\r\\n\\r\\n                    var data = json[ i ];\\r\\n\\r\\n                    if ( data.type === 'MultiMaterial' ) {\\r\\n\\r\\n                        // Deprecated\\r\\n\\r\\n                        var array = [];\\r\\n\\r\\n                        for ( var j = 0; j < data.materials.length; j ++ ) {\\r\\n\\r\\n                            array.push( loader.parse( data.materials[ j ] ) );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        materials[ data.uuid ] = array;\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        materials[ data.uuid ] = loader.parse( data );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return materials;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseAnimations: function ( json ) {\\r\\n\\r\\n            var animations = [];\\r\\n\\r\\n            for ( var i = 0; i < json.length; i ++ ) {\\r\\n\\r\\n                var data = json[ i ];\\r\\n\\r\\n                var clip = AnimationClip.parse( data );\\r\\n\\r\\n                if ( data.uuid !== undefined ) clip.uuid = data.uuid;\\r\\n\\r\\n                animations.push( clip );\\r\\n\\r\\n            }\\r\\n\\r\\n            return animations;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseImages: function ( json, onLoad ) {\\r\\n\\r\\n            var scope = this;\\r\\n            var images = {};\\r\\n\\r\\n            function loadImage( url ) {\\r\\n\\r\\n                scope.manager.itemStart( url );\\r\\n\\r\\n                return loader.load( url, function () {\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n\\r\\n                }, undefined, function () {\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n                    scope.manager.itemError( url );\\r\\n\\r\\n                } );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( json !== undefined && json.length > 0 ) {\\r\\n\\r\\n                var manager = new LoadingManager( onLoad );\\r\\n\\r\\n                var loader = new ImageLoader( manager );\\r\\n                loader.setCrossOrigin( this.crossOrigin );\\r\\n\\r\\n                for ( var i = 0, il = json.length; i < il; i ++ ) {\\r\\n\\r\\n                    var image = json[ i ];\\r\\n                    var url = image.url;\\r\\n\\r\\n                    if ( Array.isArray( url ) ) {\\r\\n\\r\\n                        // load array of images e.g CubeTexture\\r\\n\\r\\n                        images[ image.uuid ] = [];\\r\\n\\r\\n                        for ( var j = 0, jl = url.length; j < jl; j ++ ) {\\r\\n\\r\\n                            var currentUrl = url[ j ];\\r\\n\\r\\n                            var path = /^(\\\\/\\\\/)|([a-z]+:(\\\\/\\\\/)?)/i.test( currentUrl ) ? currentUrl : scope.texturePath + currentUrl;\\r\\n\\r\\n                            images[ image.uuid ].push( loadImage( path ) );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // load single image\\r\\n\\r\\n                        var path = /^(\\\\/\\\\/)|([a-z]+:(\\\\/\\\\/)?)/i.test( image.url ) ? image.url : scope.texturePath + image.url;\\r\\n\\r\\n                        images[ image.uuid ] = loadImage( path );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return images;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseTextures: function ( json, images ) {\\r\\n\\r\\n            function parseConstant( value, type ) {\\r\\n\\r\\n                if ( typeof value === 'number' ) return value;\\r\\n\\r\\n                console.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\\r\\n\\r\\n                return type[ value ];\\r\\n\\r\\n            }\\r\\n\\r\\n            var textures = {};\\r\\n\\r\\n            if ( json !== undefined ) {\\r\\n\\r\\n                for ( var i = 0, l = json.length; i < l; i ++ ) {\\r\\n\\r\\n                    var data = json[ i ];\\r\\n\\r\\n                    if ( data.image === undefined ) {\\r\\n\\r\\n                        console.warn( 'THREE.ObjectLoader: No \\\"image\\\" specified for', data.uuid );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( images[ data.image ] === undefined ) {\\r\\n\\r\\n                        console.warn( 'THREE.ObjectLoader: Undefined image', data.image );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    var texture;\\r\\n\\r\\n                    if ( Array.isArray( images[ data.image ] ) ) {\\r\\n\\r\\n                        texture = new CubeTexture( images[ data.image ] );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        texture = new Texture( images[ data.image ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    texture.needsUpdate = true;\\r\\n\\r\\n                    texture.uuid = data.uuid;\\r\\n\\r\\n                    if ( data.name !== undefined ) texture.name = data.name;\\r\\n\\r\\n                    if ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\\r\\n\\r\\n                    if ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\\r\\n                    if ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\\r\\n                    if ( data.center !== undefined ) texture.center.fromArray( data.center );\\r\\n                    if ( data.rotation !== undefined ) texture.rotation = data.rotation;\\r\\n\\r\\n                    if ( data.wrap !== undefined ) {\\r\\n\\r\\n                        texture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\\r\\n                        texture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( data.format !== undefined ) texture.format = data.format;\\r\\n\\r\\n                    if ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\\r\\n                    if ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\\r\\n                    if ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\\r\\n\\r\\n                    if ( data.flipY !== undefined ) texture.flipY = data.flipY;\\r\\n\\r\\n                    textures[ data.uuid ] = texture;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return textures;\\r\\n\\r\\n        },\\r\\n\\r\\n        parseObject: function ( data, geometries, materials ) {\\r\\n\\r\\n            var object;\\r\\n\\r\\n            function getGeometry( name ) {\\r\\n\\r\\n                if ( geometries[ name ] === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.ObjectLoader: Undefined geometry', name );\\r\\n\\r\\n                }\\r\\n\\r\\n                return geometries[ name ];\\r\\n\\r\\n            }\\r\\n\\r\\n            function getMaterial( name ) {\\r\\n\\r\\n                if ( name === undefined ) return undefined;\\r\\n\\r\\n                if ( Array.isArray( name ) ) {\\r\\n\\r\\n                    var array = [];\\r\\n\\r\\n                    for ( var i = 0, l = name.length; i < l; i ++ ) {\\r\\n\\r\\n                        var uuid = name[ i ];\\r\\n\\r\\n                        if ( materials[ uuid ] === undefined ) {\\r\\n\\r\\n                            console.warn( 'THREE.ObjectLoader: Undefined material', uuid );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        array.push( materials[ uuid ] );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    return array;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( materials[ name ] === undefined ) {\\r\\n\\r\\n                    console.warn( 'THREE.ObjectLoader: Undefined material', name );\\r\\n\\r\\n                }\\r\\n\\r\\n                return materials[ name ];\\r\\n\\r\\n            }\\r\\n\\r\\n            switch ( data.type ) {\\r\\n\\r\\n                case 'Scene':\\r\\n\\r\\n                    object = new Scene();\\r\\n\\r\\n                    if ( data.background !== undefined ) {\\r\\n\\r\\n                        if ( Number.isInteger( data.background ) ) {\\r\\n\\r\\n                            object.background = new Color( data.background );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( data.fog !== undefined ) {\\r\\n\\r\\n                        if ( data.fog.type === 'Fog' ) {\\r\\n\\r\\n                            object.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\\r\\n\\r\\n                        } else if ( data.fog.type === 'FogExp2' ) {\\r\\n\\r\\n                            object.fog = new FogExp2( data.fog.color, data.fog.density );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'PerspectiveCamera':\\r\\n\\r\\n                    object = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\\r\\n\\r\\n                    if ( data.focus !== undefined ) object.focus = data.focus;\\r\\n                    if ( data.zoom !== undefined ) object.zoom = data.zoom;\\r\\n                    if ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\\r\\n                    if ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\\r\\n                    if ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'OrthographicCamera':\\r\\n\\r\\n                    object = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\\r\\n\\r\\n                    if ( data.zoom !== undefined ) object.zoom = data.zoom;\\r\\n                    if ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'AmbientLight':\\r\\n\\r\\n                    object = new AmbientLight( data.color, data.intensity );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'DirectionalLight':\\r\\n\\r\\n                    object = new DirectionalLight( data.color, data.intensity );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'PointLight':\\r\\n\\r\\n                    object = new PointLight( data.color, data.intensity, data.distance, data.decay );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'RectAreaLight':\\r\\n\\r\\n                    object = new RectAreaLight( data.color, data.intensity, data.width, data.height );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'SpotLight':\\r\\n\\r\\n                    object = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'HemisphereLight':\\r\\n\\r\\n                    object = new HemisphereLight( data.color, data.groundColor, data.intensity );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'SkinnedMesh':\\r\\n\\r\\n                    console.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\\r\\n\\r\\n                case 'Mesh':\\r\\n\\r\\n                    var geometry = getGeometry( data.geometry );\\r\\n                    var material = getMaterial( data.material );\\r\\n\\r\\n                    if ( geometry.bones && geometry.bones.length > 0 ) {\\r\\n\\r\\n                        object = new SkinnedMesh( geometry, material );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        object = new Mesh( geometry, material );\\r\\n\\r\\n                    }\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'LOD':\\r\\n\\r\\n                    object = new LOD();\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'Line':\\r\\n\\r\\n                    object = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'LineLoop':\\r\\n\\r\\n                    object = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'LineSegments':\\r\\n\\r\\n                    object = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'PointCloud':\\r\\n                case 'Points':\\r\\n\\r\\n                    object = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'Sprite':\\r\\n\\r\\n                    object = new Sprite( getMaterial( data.material ) );\\r\\n\\r\\n                    break;\\r\\n\\r\\n                case 'Group':\\r\\n\\r\\n                    object = new Group();\\r\\n\\r\\n                    break;\\r\\n\\r\\n                default:\\r\\n\\r\\n                    object = new Object3D();\\r\\n\\r\\n            }\\r\\n\\r\\n            object.uuid = data.uuid;\\r\\n\\r\\n            if ( data.name !== undefined ) object.name = data.name;\\r\\n\\r\\n            if ( data.matrix !== undefined ) {\\r\\n\\r\\n                object.matrix.fromArray( data.matrix );\\r\\n\\r\\n                if ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\\r\\n                if ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                if ( data.position !== undefined ) object.position.fromArray( data.position );\\r\\n                if ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\\r\\n                if ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\\r\\n                if ( data.scale !== undefined ) object.scale.fromArray( data.scale );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\\r\\n            if ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\\r\\n\\r\\n            if ( data.shadow ) {\\r\\n\\r\\n                if ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\\r\\n                if ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\\r\\n                if ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\\r\\n                if ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( data.visible !== undefined ) object.visible = data.visible;\\r\\n            if ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\\r\\n            if ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\\r\\n            if ( data.userData !== undefined ) object.userData = data.userData;\\r\\n            if ( data.layers !== undefined ) object.layers.mask = data.layers;\\r\\n\\r\\n            if ( data.children !== undefined ) {\\r\\n\\r\\n                var children = data.children;\\r\\n\\r\\n                for ( var i = 0; i < children.length; i ++ ) {\\r\\n\\r\\n                    object.add( this.parseObject( children[ i ], geometries, materials ) );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( data.type === 'LOD' ) {\\r\\n\\r\\n                var levels = data.levels;\\r\\n\\r\\n                for ( var l = 0; l < levels.length; l ++ ) {\\r\\n\\r\\n                    var level = levels[ l ];\\r\\n                    var child = object.getObjectByProperty( 'uuid', level.object );\\r\\n\\r\\n                    if ( child !== undefined ) {\\r\\n\\r\\n                        object.addLevel( child, level.distance );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return object;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    var TEXTURE_MAPPING = {\\r\\n        UVMapping: UVMapping,\\r\\n        CubeReflectionMapping: CubeReflectionMapping,\\r\\n        CubeRefractionMapping: CubeRefractionMapping,\\r\\n        EquirectangularReflectionMapping: EquirectangularReflectionMapping,\\r\\n        EquirectangularRefractionMapping: EquirectangularRefractionMapping,\\r\\n        SphericalReflectionMapping: SphericalReflectionMapping,\\r\\n        CubeUVReflectionMapping: CubeUVReflectionMapping,\\r\\n        CubeUVRefractionMapping: CubeUVRefractionMapping\\r\\n    };\\r\\n\\r\\n    var TEXTURE_WRAPPING = {\\r\\n        RepeatWrapping: RepeatWrapping,\\r\\n        ClampToEdgeWrapping: ClampToEdgeWrapping,\\r\\n        MirroredRepeatWrapping: MirroredRepeatWrapping\\r\\n    };\\r\\n\\r\\n    var TEXTURE_FILTER = {\\r\\n        NearestFilter: NearestFilter,\\r\\n        NearestMipMapNearestFilter: NearestMipMapNearestFilter,\\r\\n        NearestMipMapLinearFilter: NearestMipMapLinearFilter,\\r\\n        LinearFilter: LinearFilter,\\r\\n        LinearMipMapNearestFilter: LinearMipMapNearestFilter,\\r\\n        LinearMipMapLinearFilter: LinearMipMapLinearFilter\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author thespite / http://clicktorelease.com/\\r\\n     */\\r\\n\\r\\n\\r\\n    function ImageBitmapLoader( manager ) {\\r\\n\\r\\n        if ( typeof createImageBitmap === 'undefined' ) {\\r\\n\\r\\n            console.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        if ( typeof fetch === 'undefined' ) {\\r\\n\\r\\n            console.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.manager = manager !== undefined ? manager : DefaultLoadingManager;\\r\\n        this.options = undefined;\\r\\n\\r\\n    }\\r\\n\\r\\n    ImageBitmapLoader.prototype = {\\r\\n\\r\\n        constructor: ImageBitmapLoader,\\r\\n\\r\\n        setOptions: function setOptions( options ) {\\r\\n\\r\\n            this.options = options;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            if ( url === undefined ) url = '';\\r\\n\\r\\n            if ( this.path !== undefined ) url = this.path + url;\\r\\n\\r\\n            url = this.manager.resolveURL( url );\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var cached = Cache.get( url );\\r\\n\\r\\n            if ( cached !== undefined ) {\\r\\n\\r\\n                scope.manager.itemStart( url );\\r\\n\\r\\n                setTimeout( function () {\\r\\n\\r\\n                    if ( onLoad ) onLoad( cached );\\r\\n\\r\\n                    scope.manager.itemEnd( url );\\r\\n\\r\\n                }, 0 );\\r\\n\\r\\n                return cached;\\r\\n\\r\\n            }\\r\\n\\r\\n            fetch( url ).then( function ( res ) {\\r\\n\\r\\n                return res.blob();\\r\\n\\r\\n            } ).then( function ( blob ) {\\r\\n\\r\\n                return createImageBitmap( blob, scope.options );\\r\\n\\r\\n            } ).then( function ( imageBitmap ) {\\r\\n\\r\\n                Cache.add( url, imageBitmap );\\r\\n\\r\\n                if ( onLoad ) onLoad( imageBitmap );\\r\\n\\r\\n                scope.manager.itemEnd( url );\\r\\n\\r\\n            } ).catch( function ( e ) {\\r\\n\\r\\n                if ( onError ) onError( e );\\r\\n\\r\\n                scope.manager.itemEnd( url );\\r\\n                scope.manager.itemError( url );\\r\\n\\r\\n            } );\\r\\n\\r\\n        },\\r\\n\\r\\n        setCrossOrigin: function ( /* value */ ) {\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * minimal class for proxing functions to Path. Replaces old \\\"extractSubpaths()\\\"\\r\\n     **/\\r\\n\\r\\n    function ShapePath() {\\r\\n\\r\\n        this.type = 'ShapePath';\\r\\n\\r\\n        this.color = new Color();\\r\\n\\r\\n        this.subPaths = [];\\r\\n        this.currentPath = null;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( ShapePath.prototype, {\\r\\n\\r\\n        moveTo: function ( x, y ) {\\r\\n\\r\\n            this.currentPath = new Path();\\r\\n            this.subPaths.push( this.currentPath );\\r\\n            this.currentPath.moveTo( x, y );\\r\\n\\r\\n        },\\r\\n\\r\\n        lineTo: function ( x, y ) {\\r\\n\\r\\n            this.currentPath.lineTo( x, y );\\r\\n\\r\\n        },\\r\\n\\r\\n        quadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\\r\\n\\r\\n            this.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\\r\\n\\r\\n        },\\r\\n\\r\\n        bezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\\r\\n\\r\\n            this.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\\r\\n\\r\\n        },\\r\\n\\r\\n        splineThru: function ( pts ) {\\r\\n\\r\\n            this.currentPath.splineThru( pts );\\r\\n\\r\\n        },\\r\\n\\r\\n        toShapes: function ( isCCW, noHoles ) {\\r\\n\\r\\n            function toShapesNoHoles( inSubpaths ) {\\r\\n\\r\\n                var shapes = [];\\r\\n\\r\\n                for ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\\r\\n\\r\\n                    var tmpPath = inSubpaths[ i ];\\r\\n\\r\\n                    var tmpShape = new Shape();\\r\\n                    tmpShape.curves = tmpPath.curves;\\r\\n\\r\\n                    shapes.push( tmpShape );\\r\\n\\r\\n                }\\r\\n\\r\\n                return shapes;\\r\\n\\r\\n            }\\r\\n\\r\\n            function isPointInsidePolygon( inPt, inPolygon ) {\\r\\n\\r\\n                var polyLen = inPolygon.length;\\r\\n\\r\\n                // inPt on polygon contour => immediate success    or\\r\\n                // toggling of inside/outside at every single! intersection point of an edge\\r\\n                //  with the horizontal line through inPt, left of inPt\\r\\n                //  not counting lowerY endpoints of edges and whole edges on that line\\r\\n                var inside = false;\\r\\n                for ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\\r\\n\\r\\n                    var edgeLowPt = inPolygon[ p ];\\r\\n                    var edgeHighPt = inPolygon[ q ];\\r\\n\\r\\n                    var edgeDx = edgeHighPt.x - edgeLowPt.x;\\r\\n                    var edgeDy = edgeHighPt.y - edgeLowPt.y;\\r\\n\\r\\n                    if ( Math.abs( edgeDy ) > Number.EPSILON ) {\\r\\n\\r\\n                        // not parallel\\r\\n                        if ( edgeDy < 0 ) {\\r\\n\\r\\n                            edgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\\r\\n                            edgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\\r\\n\\r\\n                        }\\r\\n                        if ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \\t\\tcontinue;\\r\\n\\r\\n                        if ( inPt.y === edgeLowPt.y ) {\\r\\n\\r\\n                            if ( inPt.x === edgeLowPt.x )\\t\\treturn\\ttrue;\\t\\t// inPt is on contour ?\\r\\n                            // continue;\\t\\t\\t\\t// no intersection or edgeLowPt => doesn't count !!!\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            var perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\\r\\n                            if ( perpEdge === 0 )\\t\\t\\t\\treturn\\ttrue;\\t\\t// inPt is on contour ?\\r\\n                            if ( perpEdge < 0 ) \\t\\t\\t\\tcontinue;\\r\\n                            inside = ! inside;\\t\\t// true intersection left of inPt\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // parallel or collinear\\r\\n                        if ( inPt.y !== edgeLowPt.y ) \\t\\tcontinue;\\t\\t\\t// parallel\\r\\n                        // edge lies on the same horizontal line as inPt\\r\\n                        if ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\\r\\n                            ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\\t\\treturn\\ttrue;\\t// inPt: Point on contour !\\r\\n                        // continue;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                return\\tinside;\\r\\n\\r\\n            }\\r\\n\\r\\n            var isClockWise = ShapeUtils.isClockWise;\\r\\n\\r\\n            var subPaths = this.subPaths;\\r\\n            if ( subPaths.length === 0 ) return [];\\r\\n\\r\\n            if ( noHoles === true )\\treturn\\ttoShapesNoHoles( subPaths );\\r\\n\\r\\n\\r\\n            var solid, tmpPath, tmpShape, shapes = [];\\r\\n\\r\\n            if ( subPaths.length === 1 ) {\\r\\n\\r\\n                tmpPath = subPaths[ 0 ];\\r\\n                tmpShape = new Shape();\\r\\n                tmpShape.curves = tmpPath.curves;\\r\\n                shapes.push( tmpShape );\\r\\n                return shapes;\\r\\n\\r\\n            }\\r\\n\\r\\n            var holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\\r\\n            holesFirst = isCCW ? ! holesFirst : holesFirst;\\r\\n\\r\\n            // console.log(\\\"Holes first\\\", holesFirst);\\r\\n\\r\\n            var betterShapeHoles = [];\\r\\n            var newShapes = [];\\r\\n            var newShapeHoles = [];\\r\\n            var mainIdx = 0;\\r\\n            var tmpPoints;\\r\\n\\r\\n            newShapes[ mainIdx ] = undefined;\\r\\n            newShapeHoles[ mainIdx ] = [];\\r\\n\\r\\n            for ( var i = 0, l = subPaths.length; i < l; i ++ ) {\\r\\n\\r\\n                tmpPath = subPaths[ i ];\\r\\n                tmpPoints = tmpPath.getPoints();\\r\\n                solid = isClockWise( tmpPoints );\\r\\n                solid = isCCW ? ! solid : solid;\\r\\n\\r\\n                if ( solid ) {\\r\\n\\r\\n                    if ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\\tmainIdx ++;\\r\\n\\r\\n                    newShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\\r\\n                    newShapes[ mainIdx ].s.curves = tmpPath.curves;\\r\\n\\r\\n                    if ( holesFirst )\\tmainIdx ++;\\r\\n                    newShapeHoles[ mainIdx ] = [];\\r\\n\\r\\n                    //console.log('cw', i);\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    newShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\\r\\n\\r\\n                    //console.log('ccw', i);\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // only Holes? -> probably all Shapes with wrong orientation\\r\\n            if ( ! newShapes[ 0 ] )\\treturn\\ttoShapesNoHoles( subPaths );\\r\\n\\r\\n\\r\\n            if ( newShapes.length > 1 ) {\\r\\n\\r\\n                var ambiguous = false;\\r\\n                var toChange = [];\\r\\n\\r\\n                for ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\\r\\n\\r\\n                    betterShapeHoles[ sIdx ] = [];\\r\\n\\r\\n                }\\r\\n\\r\\n                for ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\\r\\n\\r\\n                    var sho = newShapeHoles[ sIdx ];\\r\\n\\r\\n                    for ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\\r\\n\\r\\n                        var ho = sho[ hIdx ];\\r\\n                        var hole_unassigned = true;\\r\\n\\r\\n                        for ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\\r\\n\\r\\n                            if ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\\r\\n\\r\\n                                if ( sIdx !== s2Idx )\\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\\r\\n                                if ( hole_unassigned ) {\\r\\n\\r\\n                                    hole_unassigned = false;\\r\\n                                    betterShapeHoles[ s2Idx ].push( ho );\\r\\n\\r\\n                                } else {\\r\\n\\r\\n                                    ambiguous = true;\\r\\n\\r\\n                                }\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n                        if ( hole_unassigned ) {\\r\\n\\r\\n                            betterShapeHoles[ sIdx ].push( ho );\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n                // console.log(\\\"ambiguous: \\\", ambiguous);\\r\\n                if ( toChange.length > 0 ) {\\r\\n\\r\\n                    // console.log(\\\"to change: \\\", toChange);\\r\\n                    if ( ! ambiguous )\\tnewShapeHoles = betterShapeHoles;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var tmpHoles;\\r\\n\\r\\n            for ( var i = 0, il = newShapes.length; i < il; i ++ ) {\\r\\n\\r\\n                tmpShape = newShapes[ i ].s;\\r\\n                shapes.push( tmpShape );\\r\\n                tmpHoles = newShapeHoles[ i ];\\r\\n\\r\\n                for ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\\r\\n\\r\\n                    tmpShape.holes.push( tmpHoles[ j ].h );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            //console.log(\\\"shape\\\", shapes);\\r\\n\\r\\n            return shapes;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author zz85 / http://www.lab4games.net/zz85/blog\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n\\r\\n    function Font( data ) {\\r\\n\\r\\n        this.type = 'Font';\\r\\n\\r\\n        this.data = data;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Font.prototype, {\\r\\n\\r\\n        isFont: true,\\r\\n\\r\\n        generateShapes: function ( text, size ) {\\r\\n\\r\\n            if ( size === undefined ) size = 100;\\r\\n\\r\\n            var shapes = [];\\r\\n            var paths = createPaths( text, size, this.data );\\r\\n\\r\\n            for ( var p = 0, pl = paths.length; p < pl; p ++ ) {\\r\\n\\r\\n                Array.prototype.push.apply( shapes, paths[ p ].toShapes() );\\r\\n\\r\\n            }\\r\\n\\r\\n            return shapes;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    function createPaths( text, size, data ) {\\r\\n\\r\\n        var chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // see #13988\\r\\n        var scale = size / data.resolution;\\r\\n        var line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\\r\\n\\r\\n        var paths = [];\\r\\n\\r\\n        var offsetX = 0, offsetY = 0;\\r\\n\\r\\n        for ( var i = 0; i < chars.length; i ++ ) {\\r\\n\\r\\n            var char = chars[ i ];\\r\\n\\r\\n            if ( char === '\\\\n' ) {\\r\\n\\r\\n                offsetX = 0;\\r\\n                offsetY -= line_height;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var ret = createPath( char, scale, offsetX, offsetY, data );\\r\\n                offsetX += ret.offsetX;\\r\\n                paths.push( ret.path );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        return paths;\\r\\n\\r\\n    }\\r\\n\\r\\n    function createPath( char, scale, offsetX, offsetY, data ) {\\r\\n\\r\\n        var glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\\r\\n\\r\\n        if ( ! glyph ) return;\\r\\n\\r\\n        var path = new ShapePath();\\r\\n\\r\\n        var x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\\r\\n\\r\\n        if ( glyph.o ) {\\r\\n\\r\\n            var outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\\r\\n\\r\\n            for ( var i = 0, l = outline.length; i < l; ) {\\r\\n\\r\\n                var action = outline[ i ++ ];\\r\\n\\r\\n                switch ( action ) {\\r\\n\\r\\n                    case 'm': // moveTo\\r\\n\\r\\n                        x = outline[ i ++ ] * scale + offsetX;\\r\\n                        y = outline[ i ++ ] * scale + offsetY;\\r\\n\\r\\n                        path.moveTo( x, y );\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case 'l': // lineTo\\r\\n\\r\\n                        x = outline[ i ++ ] * scale + offsetX;\\r\\n                        y = outline[ i ++ ] * scale + offsetY;\\r\\n\\r\\n                        path.lineTo( x, y );\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case 'q': // quadraticCurveTo\\r\\n\\r\\n                        cpx = outline[ i ++ ] * scale + offsetX;\\r\\n                        cpy = outline[ i ++ ] * scale + offsetY;\\r\\n                        cpx1 = outline[ i ++ ] * scale + offsetX;\\r\\n                        cpy1 = outline[ i ++ ] * scale + offsetY;\\r\\n\\r\\n                        path.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case 'b': // bezierCurveTo\\r\\n\\r\\n                        cpx = outline[ i ++ ] * scale + offsetX;\\r\\n                        cpy = outline[ i ++ ] * scale + offsetY;\\r\\n                        cpx1 = outline[ i ++ ] * scale + offsetX;\\r\\n                        cpy1 = outline[ i ++ ] * scale + offsetY;\\r\\n                        cpx2 = outline[ i ++ ] * scale + offsetX;\\r\\n                        cpy2 = outline[ i ++ ] * scale + offsetY;\\r\\n\\r\\n                        path.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\\r\\n\\r\\n                        break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        return { offsetX: glyph.ha * scale, path: path };\\r\\n\\r\\n    }\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function FontLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( FontLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            var loader = new FileLoader( this.manager );\\r\\n            loader.setPath( this.path );\\r\\n            loader.load( url, function ( text ) {\\r\\n\\r\\n                var json;\\r\\n\\r\\n                try {\\r\\n\\r\\n                    json = JSON.parse( text );\\r\\n\\r\\n                } catch ( e ) {\\r\\n\\r\\n                    console.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\\r\\n                    json = JSON.parse( text.substring( 65, text.length - 2 ) );\\r\\n\\r\\n                }\\r\\n\\r\\n                var font = scope.parse( json );\\r\\n\\r\\n                if ( onLoad ) onLoad( font );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n        },\\r\\n\\r\\n        parse: function ( json ) {\\r\\n\\r\\n            return new Font( json );\\r\\n\\r\\n        },\\r\\n\\r\\n        setPath: function ( value ) {\\r\\n\\r\\n            this.path = value;\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    var context;\\r\\n\\r\\n    var AudioContext = {\\r\\n\\r\\n        getContext: function () {\\r\\n\\r\\n            if ( context === undefined ) {\\r\\n\\r\\n                context = new ( window.AudioContext || window.webkitAudioContext )();\\r\\n\\r\\n            }\\r\\n\\r\\n            return context;\\r\\n\\r\\n        },\\r\\n\\r\\n        setContext: function ( value ) {\\r\\n\\r\\n            context = value;\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author Reece Aaron Lecrivain / http://reecenotes.com/\\r\\n     */\\r\\n\\r\\n    function AudioLoader( manager ) {\\r\\n\\r\\n        this.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( AudioLoader.prototype, {\\r\\n\\r\\n        load: function ( url, onLoad, onProgress, onError ) {\\r\\n\\r\\n            var loader = new FileLoader( this.manager );\\r\\n            loader.setResponseType( 'arraybuffer' );\\r\\n            loader.load( url, function ( buffer ) {\\r\\n\\r\\n                // Create a copy of the buffer. The `decodeAudioData` method\\r\\n                // detaches the buffer when complete, preventing reuse.\\r\\n                var bufferCopy = buffer.slice( 0 );\\r\\n\\r\\n                var context = AudioContext.getContext();\\r\\n                context.decodeAudioData( bufferCopy, function ( audioBuffer ) {\\r\\n\\r\\n                    onLoad( audioBuffer );\\r\\n\\r\\n                } );\\r\\n\\r\\n            }, onProgress, onError );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function StereoCamera() {\\r\\n\\r\\n        this.type = 'StereoCamera';\\r\\n\\r\\n        this.aspect = 1;\\r\\n\\r\\n        this.eyeSep = 0.064;\\r\\n\\r\\n        this.cameraL = new PerspectiveCamera();\\r\\n        this.cameraL.layers.enable( 1 );\\r\\n        this.cameraL.matrixAutoUpdate = false;\\r\\n\\r\\n        this.cameraR = new PerspectiveCamera();\\r\\n        this.cameraR.layers.enable( 2 );\\r\\n        this.cameraR.matrixAutoUpdate = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( StereoCamera.prototype, {\\r\\n\\r\\n        update: ( function () {\\r\\n\\r\\n            var instance, focus, fov, aspect, near, far, zoom, eyeSep;\\r\\n\\r\\n            var eyeRight = new Matrix4();\\r\\n            var eyeLeft = new Matrix4();\\r\\n\\r\\n            return function update( camera ) {\\r\\n\\r\\n                var needsUpdate = instance !== this || focus !== camera.focus || fov !== camera.fov ||\\r\\n                    aspect !== camera.aspect * this.aspect || near !== camera.near ||\\r\\n                    far !== camera.far || zoom !== camera.zoom || eyeSep !== this.eyeSep;\\r\\n\\r\\n                if ( needsUpdate ) {\\r\\n\\r\\n                    instance = this;\\r\\n                    focus = camera.focus;\\r\\n                    fov = camera.fov;\\r\\n                    aspect = camera.aspect * this.aspect;\\r\\n                    near = camera.near;\\r\\n                    far = camera.far;\\r\\n                    zoom = camera.zoom;\\r\\n\\r\\n                    // Off-axis stereoscopic effect based on\\r\\n                    // http://paulbourke.net/stereographics/stereorender/\\r\\n\\r\\n                    var projectionMatrix = camera.projectionMatrix.clone();\\r\\n                    eyeSep = this.eyeSep / 2;\\r\\n                    var eyeSepOnProjection = eyeSep * near / focus;\\r\\n                    var ymax = ( near * Math.tan( _Math.DEG2RAD * fov * 0.5 ) ) / zoom;\\r\\n                    var xmin, xmax;\\r\\n\\r\\n                    // translate xOffset\\r\\n\\r\\n                    eyeLeft.elements[ 12 ] = - eyeSep;\\r\\n                    eyeRight.elements[ 12 ] = eyeSep;\\r\\n\\r\\n                    // for left eye\\r\\n\\r\\n                    xmin = - ymax * aspect + eyeSepOnProjection;\\r\\n                    xmax = ymax * aspect + eyeSepOnProjection;\\r\\n\\r\\n                    projectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\\r\\n                    projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\\r\\n\\r\\n                    this.cameraL.projectionMatrix.copy( projectionMatrix );\\r\\n\\r\\n                    // for right eye\\r\\n\\r\\n                    xmin = - ymax * aspect - eyeSepOnProjection;\\r\\n                    xmax = ymax * aspect - eyeSepOnProjection;\\r\\n\\r\\n                    projectionMatrix.elements[ 0 ] = 2 * near / ( xmax - xmin );\\r\\n                    projectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\\r\\n\\r\\n                    this.cameraR.projectionMatrix.copy( projectionMatrix );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( eyeLeft );\\r\\n                this.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( eyeRight );\\r\\n\\r\\n            };\\r\\n\\r\\n        } )()\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * Camera for rendering cube maps\\r\\n     *\\t- renders scene into axis-aligned cube\\r\\n     *\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function CubeCamera( near, far, cubeResolution ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'CubeCamera';\\r\\n\\r\\n        var fov = 90, aspect = 1;\\r\\n\\r\\n        var cameraPX = new PerspectiveCamera( fov, aspect, near, far );\\r\\n        cameraPX.up.set( 0, - 1, 0 );\\r\\n        cameraPX.lookAt( new Vector3( 1, 0, 0 ) );\\r\\n        this.add( cameraPX );\\r\\n\\r\\n        var cameraNX = new PerspectiveCamera( fov, aspect, near, far );\\r\\n        cameraNX.up.set( 0, - 1, 0 );\\r\\n        cameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\\r\\n        this.add( cameraNX );\\r\\n\\r\\n        var cameraPY = new PerspectiveCamera( fov, aspect, near, far );\\r\\n        cameraPY.up.set( 0, 0, 1 );\\r\\n        cameraPY.lookAt( new Vector3( 0, 1, 0 ) );\\r\\n        this.add( cameraPY );\\r\\n\\r\\n        var cameraNY = new PerspectiveCamera( fov, aspect, near, far );\\r\\n        cameraNY.up.set( 0, 0, - 1 );\\r\\n        cameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\\r\\n        this.add( cameraNY );\\r\\n\\r\\n        var cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\\r\\n        cameraPZ.up.set( 0, - 1, 0 );\\r\\n        cameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\\r\\n        this.add( cameraPZ );\\r\\n\\r\\n        var cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\\r\\n        cameraNZ.up.set( 0, - 1, 0 );\\r\\n        cameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\\r\\n        this.add( cameraNZ );\\r\\n\\r\\n        var options = { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\\r\\n\\r\\n        this.renderTarget = new WebGLRenderTargetCube( cubeResolution, cubeResolution, options );\\r\\n        this.renderTarget.texture.name = \\\"CubeCamera\\\";\\r\\n\\r\\n        this.update = function ( renderer, scene ) {\\r\\n\\r\\n            if ( this.parent === null ) this.updateMatrixWorld();\\r\\n\\r\\n            var renderTarget = this.renderTarget;\\r\\n            var generateMipmaps = renderTarget.texture.generateMipmaps;\\r\\n\\r\\n            renderTarget.texture.generateMipmaps = false;\\r\\n\\r\\n            renderTarget.activeCubeFace = 0;\\r\\n            renderer.render( scene, cameraPX, renderTarget );\\r\\n\\r\\n            renderTarget.activeCubeFace = 1;\\r\\n            renderer.render( scene, cameraNX, renderTarget );\\r\\n\\r\\n            renderTarget.activeCubeFace = 2;\\r\\n            renderer.render( scene, cameraPY, renderTarget );\\r\\n\\r\\n            renderTarget.activeCubeFace = 3;\\r\\n            renderer.render( scene, cameraNY, renderTarget );\\r\\n\\r\\n            renderTarget.activeCubeFace = 4;\\r\\n            renderer.render( scene, cameraPZ, renderTarget );\\r\\n\\r\\n            renderTarget.texture.generateMipmaps = generateMipmaps;\\r\\n\\r\\n            renderTarget.activeCubeFace = 5;\\r\\n            renderer.render( scene, cameraNZ, renderTarget );\\r\\n\\r\\n            renderer.setRenderTarget( null );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.clear = function ( renderer, color, depth, stencil ) {\\r\\n\\r\\n            var renderTarget = this.renderTarget;\\r\\n\\r\\n            for ( var i = 0; i < 6; i ++ ) {\\r\\n\\r\\n                renderTarget.activeCubeFace = i;\\r\\n                renderer.setRenderTarget( renderTarget );\\r\\n\\r\\n                renderer.clear( color, depth, stencil );\\r\\n\\r\\n            }\\r\\n\\r\\n            renderer.setRenderTarget( null );\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    CubeCamera.prototype = Object.create( Object3D.prototype );\\r\\n    CubeCamera.prototype.constructor = CubeCamera;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function AudioListener() {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'AudioListener';\\r\\n\\r\\n        this.context = AudioContext.getContext();\\r\\n\\r\\n        this.gain = this.context.createGain();\\r\\n        this.gain.connect( this.context.destination );\\r\\n\\r\\n        this.filter = null;\\r\\n\\r\\n    }\\r\\n\\r\\n    AudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: AudioListener,\\r\\n\\r\\n        getInput: function () {\\r\\n\\r\\n            return this.gain;\\r\\n\\r\\n        },\\r\\n\\r\\n        removeFilter: function ( ) {\\r\\n\\r\\n            if ( this.filter !== null ) {\\r\\n\\r\\n                this.gain.disconnect( this.filter );\\r\\n                this.filter.disconnect( this.context.destination );\\r\\n                this.gain.connect( this.context.destination );\\r\\n                this.filter = null;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getFilter: function () {\\r\\n\\r\\n            return this.filter;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFilter: function ( value ) {\\r\\n\\r\\n            if ( this.filter !== null ) {\\r\\n\\r\\n                this.gain.disconnect( this.filter );\\r\\n                this.filter.disconnect( this.context.destination );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.gain.disconnect( this.context.destination );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.filter = value;\\r\\n            this.gain.connect( this.filter );\\r\\n            this.filter.connect( this.context.destination );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getMasterVolume: function () {\\r\\n\\r\\n            return this.gain.gain.value;\\r\\n\\r\\n        },\\r\\n\\r\\n        setMasterVolume: function ( value ) {\\r\\n\\r\\n            this.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMatrixWorld: ( function () {\\r\\n\\r\\n            var position = new Vector3();\\r\\n            var quaternion = new Quaternion();\\r\\n            var scale = new Vector3();\\r\\n\\r\\n            var orientation = new Vector3();\\r\\n\\r\\n            return function updateMatrixWorld( force ) {\\r\\n\\r\\n                Object3D.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n                var listener = this.context.listener;\\r\\n                var up = this.up;\\r\\n\\r\\n                this.matrixWorld.decompose( position, quaternion, scale );\\r\\n\\r\\n                orientation.set( 0, 0, - 1 ).applyQuaternion( quaternion );\\r\\n\\r\\n                if ( listener.positionX ) {\\r\\n\\r\\n                    listener.positionX.setValueAtTime( position.x, this.context.currentTime );\\r\\n                    listener.positionY.setValueAtTime( position.y, this.context.currentTime );\\r\\n                    listener.positionZ.setValueAtTime( position.z, this.context.currentTime );\\r\\n                    listener.forwardX.setValueAtTime( orientation.x, this.context.currentTime );\\r\\n                    listener.forwardY.setValueAtTime( orientation.y, this.context.currentTime );\\r\\n                    listener.forwardZ.setValueAtTime( orientation.z, this.context.currentTime );\\r\\n                    listener.upX.setValueAtTime( up.x, this.context.currentTime );\\r\\n                    listener.upY.setValueAtTime( up.y, this.context.currentTime );\\r\\n                    listener.upZ.setValueAtTime( up.z, this.context.currentTime );\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    listener.setPosition( position.x, position.y, position.z );\\r\\n                    listener.setOrientation( orientation.x, orientation.y, orientation.z, up.x, up.y, up.z );\\r\\n\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        } )()\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Reece Aaron Lecrivain / http://reecenotes.com/\\r\\n     */\\r\\n\\r\\n    function Audio( listener ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.type = 'Audio';\\r\\n\\r\\n        this.context = listener.context;\\r\\n\\r\\n        this.gain = this.context.createGain();\\r\\n        this.gain.connect( listener.getInput() );\\r\\n\\r\\n        this.autoplay = false;\\r\\n\\r\\n        this.buffer = null;\\r\\n        this.loop = false;\\r\\n        this.startTime = 0;\\r\\n        this.offset = 0;\\r\\n        this.playbackRate = 1;\\r\\n        this.isPlaying = false;\\r\\n        this.hasPlaybackControl = true;\\r\\n        this.sourceType = 'empty';\\r\\n\\r\\n        this.filters = [];\\r\\n\\r\\n    }\\r\\n\\r\\n    Audio.prototype = Object.assign( Object.create( Object3D.prototype ), {\\r\\n\\r\\n        constructor: Audio,\\r\\n\\r\\n        getOutput: function () {\\r\\n\\r\\n            return this.gain;\\r\\n\\r\\n        },\\r\\n\\r\\n        setNodeSource: function ( audioNode ) {\\r\\n\\r\\n            this.hasPlaybackControl = false;\\r\\n            this.sourceType = 'audioNode';\\r\\n            this.source = audioNode;\\r\\n            this.connect();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setMediaElementSource: function ( mediaElement ) {\\r\\n\\r\\n            this.hasPlaybackControl = false;\\r\\n            this.sourceType = 'mediaNode';\\r\\n            this.source = this.context.createMediaElementSource( mediaElement );\\r\\n            this.connect();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setBuffer: function ( audioBuffer ) {\\r\\n\\r\\n            this.buffer = audioBuffer;\\r\\n            this.sourceType = 'buffer';\\r\\n\\r\\n            if ( this.autoplay ) this.play();\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        play: function () {\\r\\n\\r\\n            if ( this.isPlaying === true ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: Audio is already playing.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.hasPlaybackControl === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: this Audio has no playback control.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            var source = this.context.createBufferSource();\\r\\n\\r\\n            source.buffer = this.buffer;\\r\\n            source.loop = this.loop;\\r\\n            source.onended = this.onEnded.bind( this );\\r\\n            source.playbackRate.setValueAtTime( this.playbackRate, this.startTime );\\r\\n            this.startTime = this.context.currentTime;\\r\\n            source.start( this.startTime, this.offset );\\r\\n\\r\\n            this.isPlaying = true;\\r\\n\\r\\n            this.source = source;\\r\\n\\r\\n            return this.connect();\\r\\n\\r\\n        },\\r\\n\\r\\n        pause: function () {\\r\\n\\r\\n            if ( this.hasPlaybackControl === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: this Audio has no playback control.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.isPlaying === true ) {\\r\\n\\r\\n                this.source.stop();\\r\\n                this.source.onended = null;\\r\\n                this.offset += ( this.context.currentTime - this.startTime ) * this.playbackRate;\\r\\n                this.isPlaying = false;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        stop: function () {\\r\\n\\r\\n            if ( this.hasPlaybackControl === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: this Audio has no playback control.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.source.stop();\\r\\n            this.source.onended = null;\\r\\n            this.offset = 0;\\r\\n            this.isPlaying = false;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        connect: function () {\\r\\n\\r\\n            if ( this.filters.length > 0 ) {\\r\\n\\r\\n                this.source.connect( this.filters[ 0 ] );\\r\\n\\r\\n                for ( var i = 1, l = this.filters.length; i < l; i ++ ) {\\r\\n\\r\\n                    this.filters[ i - 1 ].connect( this.filters[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.filters[ this.filters.length - 1 ].connect( this.getOutput() );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.source.connect( this.getOutput() );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        disconnect: function () {\\r\\n\\r\\n            if ( this.filters.length > 0 ) {\\r\\n\\r\\n                this.source.disconnect( this.filters[ 0 ] );\\r\\n\\r\\n                for ( var i = 1, l = this.filters.length; i < l; i ++ ) {\\r\\n\\r\\n                    this.filters[ i - 1 ].disconnect( this.filters[ i ] );\\r\\n\\r\\n                }\\r\\n\\r\\n                this.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.source.disconnect( this.getOutput() );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getFilters: function () {\\r\\n\\r\\n            return this.filters;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFilters: function ( value ) {\\r\\n\\r\\n            if ( ! value ) value = [];\\r\\n\\r\\n            if ( this.isPlaying === true ) {\\r\\n\\r\\n                this.disconnect();\\r\\n                this.filters = value;\\r\\n                this.connect();\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.filters = value;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getFilter: function () {\\r\\n\\r\\n            return this.getFilters()[ 0 ];\\r\\n\\r\\n        },\\r\\n\\r\\n        setFilter: function ( filter ) {\\r\\n\\r\\n            return this.setFilters( filter ? [ filter ] : [] );\\r\\n\\r\\n        },\\r\\n\\r\\n        setPlaybackRate: function ( value ) {\\r\\n\\r\\n            if ( this.hasPlaybackControl === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: this Audio has no playback control.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.playbackRate = value;\\r\\n\\r\\n            if ( this.isPlaying === true ) {\\r\\n\\r\\n                this.source.playbackRate.setValueAtTime( this.playbackRate, this.context.currentTime );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getPlaybackRate: function () {\\r\\n\\r\\n            return this.playbackRate;\\r\\n\\r\\n        },\\r\\n\\r\\n        onEnded: function () {\\r\\n\\r\\n            this.isPlaying = false;\\r\\n\\r\\n        },\\r\\n\\r\\n        getLoop: function () {\\r\\n\\r\\n            if ( this.hasPlaybackControl === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: this Audio has no playback control.' );\\r\\n                return false;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.loop;\\r\\n\\r\\n        },\\r\\n\\r\\n        setLoop: function ( value ) {\\r\\n\\r\\n            if ( this.hasPlaybackControl === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Audio: this Audio has no playback control.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            this.loop = value;\\r\\n\\r\\n            if ( this.isPlaying === true ) {\\r\\n\\r\\n                this.source.loop = this.loop;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getVolume: function () {\\r\\n\\r\\n            return this.gain.gain.value;\\r\\n\\r\\n        },\\r\\n\\r\\n        setVolume: function ( value ) {\\r\\n\\r\\n            this.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function PositionalAudio( listener ) {\\r\\n\\r\\n        Audio.call( this, listener );\\r\\n\\r\\n        this.panner = this.context.createPanner();\\r\\n        this.panner.connect( this.gain );\\r\\n\\r\\n    }\\r\\n\\r\\n    PositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\\r\\n\\r\\n        constructor: PositionalAudio,\\r\\n\\r\\n        getOutput: function () {\\r\\n\\r\\n            return this.panner;\\r\\n\\r\\n        },\\r\\n\\r\\n        getRefDistance: function () {\\r\\n\\r\\n            return this.panner.refDistance;\\r\\n\\r\\n        },\\r\\n\\r\\n        setRefDistance: function ( value ) {\\r\\n\\r\\n            this.panner.refDistance = value;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getRolloffFactor: function () {\\r\\n\\r\\n            return this.panner.rolloffFactor;\\r\\n\\r\\n        },\\r\\n\\r\\n        setRolloffFactor: function ( value ) {\\r\\n\\r\\n            this.panner.rolloffFactor = value;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getDistanceModel: function () {\\r\\n\\r\\n            return this.panner.distanceModel;\\r\\n\\r\\n        },\\r\\n\\r\\n        setDistanceModel: function ( value ) {\\r\\n\\r\\n            this.panner.distanceModel = value;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getMaxDistance: function () {\\r\\n\\r\\n            return this.panner.maxDistance;\\r\\n\\r\\n        },\\r\\n\\r\\n        setMaxDistance: function ( value ) {\\r\\n\\r\\n            this.panner.maxDistance = value;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\\r\\n\\r\\n            this.panner.coneInnerAngle = coneInnerAngle;\\r\\n            this.panner.coneOuterAngle = coneOuterAngle;\\r\\n            this.panner.coneOuterGain = coneOuterGain;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        updateMatrixWorld: ( function () {\\r\\n\\r\\n            var position = new Vector3();\\r\\n            var quaternion = new Quaternion();\\r\\n            var scale = new Vector3();\\r\\n\\r\\n            var orientation = new Vector3();\\r\\n\\r\\n            return function updateMatrixWorld( force ) {\\r\\n\\r\\n                Object3D.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n                var panner = this.panner;\\r\\n                this.matrixWorld.decompose( position, quaternion, scale );\\r\\n\\r\\n                orientation.set( 0, 0, 1 ).applyQuaternion( quaternion );\\r\\n\\r\\n                panner.setPosition( position.x, position.y, position.z );\\r\\n                panner.setOrientation( orientation.x, orientation.y, orientation.z );\\r\\n\\r\\n            };\\r\\n\\r\\n        } )()\\r\\n\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function AudioAnalyser( audio, fftSize ) {\\r\\n\\r\\n        this.analyser = audio.context.createAnalyser();\\r\\n        this.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\\r\\n\\r\\n        this.data = new Uint8Array( this.analyser.frequencyBinCount );\\r\\n\\r\\n        audio.getOutput().connect( this.analyser );\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( AudioAnalyser.prototype, {\\r\\n\\r\\n        getFrequencyData: function () {\\r\\n\\r\\n            this.analyser.getByteFrequencyData( this.data );\\r\\n\\r\\n            return this.data;\\r\\n\\r\\n        },\\r\\n\\r\\n        getAverageFrequency: function () {\\r\\n\\r\\n            var value = 0, data = this.getFrequencyData();\\r\\n\\r\\n            for ( var i = 0; i < data.length; i ++ ) {\\r\\n\\r\\n                value += data[ i ];\\r\\n\\r\\n            }\\r\\n\\r\\n            return value / data.length;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * Buffered scene graph property that allows weighted accumulation.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function PropertyMixer( binding, typeName, valueSize ) {\\r\\n\\r\\n        this.binding = binding;\\r\\n        this.valueSize = valueSize;\\r\\n\\r\\n        var bufferType = Float64Array,\\r\\n            mixFunction;\\r\\n\\r\\n        switch ( typeName ) {\\r\\n\\r\\n            case 'quaternion':\\r\\n                mixFunction = this._slerp;\\r\\n                break;\\r\\n\\r\\n            case 'string':\\r\\n            case 'bool':\\r\\n                bufferType = Array;\\r\\n                mixFunction = this._select;\\r\\n                break;\\r\\n\\r\\n            default:\\r\\n                mixFunction = this._lerp;\\r\\n\\r\\n        }\\r\\n\\r\\n        this.buffer = new bufferType( valueSize * 4 );\\r\\n        // layout: [ incoming | accu0 | accu1 | orig ]\\r\\n        //\\r\\n        // interpolators can use .buffer as their .result\\r\\n        // the data then goes to 'incoming'\\r\\n        //\\r\\n        // 'accu0' and 'accu1' are used frame-interleaved for\\r\\n        // the cumulative result and are compared to detect\\r\\n        // changes\\r\\n        //\\r\\n        // 'orig' stores the original state of the property\\r\\n\\r\\n        this._mixBufferRegion = mixFunction;\\r\\n\\r\\n        this.cumulativeWeight = 0;\\r\\n\\r\\n        this.useCount = 0;\\r\\n        this.referenceCount = 0;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( PropertyMixer.prototype, {\\r\\n\\r\\n        // accumulate data in the 'incoming' region into 'accu<i>'\\r\\n        accumulate: function ( accuIndex, weight ) {\\r\\n\\r\\n            // note: happily accumulating nothing when weight = 0, the caller knows\\r\\n            // the weight and shouldn't have made the call in the first place\\r\\n\\r\\n            var buffer = this.buffer,\\r\\n                stride = this.valueSize,\\r\\n                offset = accuIndex * stride + stride,\\r\\n\\r\\n                currentWeight = this.cumulativeWeight;\\r\\n\\r\\n            if ( currentWeight === 0 ) {\\r\\n\\r\\n                // accuN := incoming * weight\\r\\n\\r\\n                for ( var i = 0; i !== stride; ++ i ) {\\r\\n\\r\\n                    buffer[ offset + i ] = buffer[ i ];\\r\\n\\r\\n                }\\r\\n\\r\\n                currentWeight = weight;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // accuN := accuN + incoming * weight\\r\\n\\r\\n                currentWeight += weight;\\r\\n                var mix = weight / currentWeight;\\r\\n                this._mixBufferRegion( buffer, offset, 0, mix, stride );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.cumulativeWeight = currentWeight;\\r\\n\\r\\n        },\\r\\n\\r\\n        // apply the state of 'accu<i>' to the binding when accus differ\\r\\n        apply: function ( accuIndex ) {\\r\\n\\r\\n            var stride = this.valueSize,\\r\\n                buffer = this.buffer,\\r\\n                offset = accuIndex * stride + stride,\\r\\n\\r\\n                weight = this.cumulativeWeight,\\r\\n\\r\\n                binding = this.binding;\\r\\n\\r\\n            this.cumulativeWeight = 0;\\r\\n\\r\\n            if ( weight < 1 ) {\\r\\n\\r\\n                // accuN := accuN + original * ( 1 - cumulativeWeight )\\r\\n\\r\\n                var originalValueOffset = stride * 3;\\r\\n\\r\\n                this._mixBufferRegion(\\r\\n                    buffer, offset, originalValueOffset, 1 - weight, stride );\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = stride, e = stride + stride; i !== e; ++ i ) {\\r\\n\\r\\n                if ( buffer[ i ] !== buffer[ i + stride ] ) {\\r\\n\\r\\n                    // value has changed -> update scene graph\\r\\n\\r\\n                    binding.setValue( buffer, offset );\\r\\n                    break;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        // remember the state of the bound property and copy it to both accus\\r\\n        saveOriginalState: function () {\\r\\n\\r\\n            var binding = this.binding;\\r\\n\\r\\n            var buffer = this.buffer,\\r\\n                stride = this.valueSize,\\r\\n\\r\\n                originalValueOffset = stride * 3;\\r\\n\\r\\n            binding.getValue( buffer, originalValueOffset );\\r\\n\\r\\n            // accu[0..1] := orig -- initially detect changes against the original\\r\\n            for ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\\r\\n\\r\\n                buffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\\r\\n\\r\\n            }\\r\\n\\r\\n            this.cumulativeWeight = 0;\\r\\n\\r\\n        },\\r\\n\\r\\n        // apply the state previously taken via 'saveOriginalState' to the binding\\r\\n        restoreOriginalState: function () {\\r\\n\\r\\n            var originalValueOffset = this.valueSize * 3;\\r\\n            this.binding.setValue( this.buffer, originalValueOffset );\\r\\n\\r\\n        },\\r\\n\\r\\n\\r\\n        // mix functions\\r\\n\\r\\n        _select: function ( buffer, dstOffset, srcOffset, t, stride ) {\\r\\n\\r\\n            if ( t >= 0.5 ) {\\r\\n\\r\\n                for ( var i = 0; i !== stride; ++ i ) {\\r\\n\\r\\n                    buffer[ dstOffset + i ] = buffer[ srcOffset + i ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _slerp: function ( buffer, dstOffset, srcOffset, t ) {\\r\\n\\r\\n            Quaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\\r\\n\\r\\n        },\\r\\n\\r\\n        _lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\\r\\n\\r\\n            var s = 1 - t;\\r\\n\\r\\n            for ( var i = 0; i !== stride; ++ i ) {\\r\\n\\r\\n                var j = dstOffset + i;\\r\\n\\r\\n                buffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A reference to a real property in the scene graph.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n        // Characters [].:/ are reserved for track binding syntax.\\r\\n    var RESERVED_CHARS_RE = '\\\\\\\\[\\\\\\\\]\\\\\\\\.:\\\\\\\\/';\\r\\n\\r\\n    function Composite( targetGroup, path, optionalParsedPath ) {\\r\\n\\r\\n        var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\\r\\n\\r\\n        this._targetGroup = targetGroup;\\r\\n        this._bindings = targetGroup.subscribe_( path, parsedPath );\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Composite.prototype, {\\r\\n\\r\\n        getValue: function ( array, offset ) {\\r\\n\\r\\n            this.bind(); // bind all binding\\r\\n\\r\\n            var firstValidIndex = this._targetGroup.nCachedObjects_,\\r\\n                binding = this._bindings[ firstValidIndex ];\\r\\n\\r\\n            // and only call .getValue on the first\\r\\n            if ( binding !== undefined ) binding.getValue( array, offset );\\r\\n\\r\\n        },\\r\\n\\r\\n        setValue: function ( array, offset ) {\\r\\n\\r\\n            var bindings = this._bindings;\\r\\n\\r\\n            for ( var i = this._targetGroup.nCachedObjects_,\\r\\n                      n = bindings.length; i !== n; ++ i ) {\\r\\n\\r\\n                bindings[ i ].setValue( array, offset );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        bind: function () {\\r\\n\\r\\n            var bindings = this._bindings;\\r\\n\\r\\n            for ( var i = this._targetGroup.nCachedObjects_,\\r\\n                      n = bindings.length; i !== n; ++ i ) {\\r\\n\\r\\n                bindings[ i ].bind();\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        unbind: function () {\\r\\n\\r\\n            var bindings = this._bindings;\\r\\n\\r\\n            for ( var i = this._targetGroup.nCachedObjects_,\\r\\n                      n = bindings.length; i !== n; ++ i ) {\\r\\n\\r\\n                bindings[ i ].unbind();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n\\r\\n    function PropertyBinding( rootNode, path, parsedPath ) {\\r\\n\\r\\n        this.path = path;\\r\\n        this.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\\r\\n\\r\\n        this.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\\r\\n\\r\\n        this.rootNode = rootNode;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( PropertyBinding, {\\r\\n\\r\\n        Composite: Composite,\\r\\n\\r\\n        create: function ( root, path, parsedPath ) {\\r\\n\\r\\n            if ( ! ( root && root.isAnimationObjectGroup ) ) {\\r\\n\\r\\n                return new PropertyBinding( root, path, parsedPath );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                return new PropertyBinding.Composite( root, path, parsedPath );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        /**\\r\\n         * Replaces spaces with underscores and removes unsupported characters from\\r\\n         * node names, to ensure compatibility with parseTrackName().\\r\\n         *\\r\\n         * @param  {string} name Node name to be sanitized.\\r\\n         * @return {string}\\r\\n         */\\r\\n        sanitizeNodeName: ( function () {\\r\\n\\r\\n            var reservedRe = new RegExp( '[' + RESERVED_CHARS_RE + ']', 'g' );\\r\\n\\r\\n            return function sanitizeNodeName( name ) {\\r\\n\\r\\n                return name.replace( /\\\\s/g, '_' ).replace( reservedRe, '' );\\r\\n\\r\\n            };\\r\\n\\r\\n        }() ),\\r\\n\\r\\n        parseTrackName: function () {\\r\\n\\r\\n            // Attempts to allow node names from any language. ES5's `\\\\w` regexp matches\\r\\n            // only latin characters, and the unicode \\\\p{L} is not yet supported. So\\r\\n            // instead, we exclude reserved characters and match everything else.\\r\\n            var wordChar = '[^' + RESERVED_CHARS_RE + ']';\\r\\n            var wordCharOrDot = '[^' + RESERVED_CHARS_RE.replace( '\\\\\\\\.', '' ) + ']';\\r\\n\\r\\n            // Parent directories, delimited by '/' or ':'. Currently unused, but must\\r\\n            // be matched to parse the rest of the track name.\\r\\n            var directoryRe = /((?:WC+[\\\\/:])*)/.source.replace( 'WC', wordChar );\\r\\n\\r\\n            // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\\r\\n            var nodeRe = /(WCOD+)?/.source.replace( 'WCOD', wordCharOrDot );\\r\\n\\r\\n            // Object on target node, and accessor. May not contain reserved\\r\\n            // characters. Accessor may contain any character except closing bracket.\\r\\n            var objectRe = /(?:\\\\.(WC+)(?:\\\\[(.+)\\\\])?)?/.source.replace( 'WC', wordChar );\\r\\n\\r\\n            // Property and accessor. May not contain reserved characters. Accessor may\\r\\n            // contain any non-bracket characters.\\r\\n            var propertyRe = /\\\\.(WC+)(?:\\\\[(.+)\\\\])?/.source.replace( 'WC', wordChar );\\r\\n\\r\\n            var trackRe = new RegExp( ''\\r\\n                + '^'\\r\\n                + directoryRe\\r\\n                + nodeRe\\r\\n                + objectRe\\r\\n                + propertyRe\\r\\n                + '$'\\r\\n            );\\r\\n\\r\\n            var supportedObjectNames = [ 'material', 'materials', 'bones' ];\\r\\n\\r\\n            return function parseTrackName( trackName ) {\\r\\n\\r\\n                var matches = trackRe.exec( trackName );\\r\\n\\r\\n                if ( ! matches ) {\\r\\n\\r\\n                    throw new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\\r\\n\\r\\n                }\\r\\n\\r\\n                var results = {\\r\\n                    // directoryName: matches[ 1 ], // (tschw) currently unused\\r\\n                    nodeName: matches[ 2 ],\\r\\n                    objectName: matches[ 3 ],\\r\\n                    objectIndex: matches[ 4 ],\\r\\n                    propertyName: matches[ 5 ], // required\\r\\n                    propertyIndex: matches[ 6 ]\\r\\n                };\\r\\n\\r\\n                var lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\\r\\n\\r\\n                if ( lastDot !== undefined && lastDot !== - 1 ) {\\r\\n\\r\\n                    var objectName = results.nodeName.substring( lastDot + 1 );\\r\\n\\r\\n                    // Object names must be checked against a whitelist. Otherwise, there\\r\\n                    // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\\r\\n                    // 'bar' could be the objectName, or part of a nodeName (which can\\r\\n                    // include '.' characters).\\r\\n                    if ( supportedObjectNames.indexOf( objectName ) !== - 1 ) {\\r\\n\\r\\n                        results.nodeName = results.nodeName.substring( 0, lastDot );\\r\\n                        results.objectName = objectName;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( results.propertyName === null || results.propertyName.length === 0 ) {\\r\\n\\r\\n                    throw new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\\r\\n\\r\\n                }\\r\\n\\r\\n                return results;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        findNode: function ( root, nodeName ) {\\r\\n\\r\\n            if ( ! nodeName || nodeName === \\\"\\\" || nodeName === \\\"root\\\" || nodeName === \\\".\\\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\\r\\n\\r\\n                return root;\\r\\n\\r\\n            }\\r\\n\\r\\n            // search into skeleton bones.\\r\\n            if ( root.skeleton ) {\\r\\n\\r\\n                var bone = root.skeleton.getBoneByName( nodeName );\\r\\n\\r\\n                if ( bone !== undefined ) {\\r\\n\\r\\n                    return bone;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // search into node subtree.\\r\\n            if ( root.children ) {\\r\\n\\r\\n                var searchNodeSubtree = function ( children ) {\\r\\n\\r\\n                    for ( var i = 0; i < children.length; i ++ ) {\\r\\n\\r\\n                        var childNode = children[ i ];\\r\\n\\r\\n                        if ( childNode.name === nodeName || childNode.uuid === nodeName ) {\\r\\n\\r\\n                            return childNode;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        var result = searchNodeSubtree( childNode.children );\\r\\n\\r\\n                        if ( result ) return result;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    return null;\\r\\n\\r\\n                };\\r\\n\\r\\n                var subTreeNode = searchNodeSubtree( root.children );\\r\\n\\r\\n                if ( subTreeNode ) {\\r\\n\\r\\n                    return subTreeNode;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            return null;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( PropertyBinding.prototype, { // prototype, continued\\r\\n\\r\\n        // these are used to \\\"bind\\\" a nonexistent property\\r\\n        _getValue_unavailable: function () {},\\r\\n        _setValue_unavailable: function () {},\\r\\n\\r\\n        BindingType: {\\r\\n            Direct: 0,\\r\\n            EntireArray: 1,\\r\\n            ArrayElement: 2,\\r\\n            HasFromToArray: 3\\r\\n        },\\r\\n\\r\\n        Versioning: {\\r\\n            None: 0,\\r\\n            NeedsUpdate: 1,\\r\\n            MatrixWorldNeedsUpdate: 2\\r\\n        },\\r\\n\\r\\n        GetterByBindingType: [\\r\\n\\r\\n            function getValue_direct( buffer, offset ) {\\r\\n\\r\\n                buffer[ offset ] = this.node[ this.propertyName ];\\r\\n\\r\\n            },\\r\\n\\r\\n            function getValue_array( buffer, offset ) {\\r\\n\\r\\n                var source = this.resolvedProperty;\\r\\n\\r\\n                for ( var i = 0, n = source.length; i !== n; ++ i ) {\\r\\n\\r\\n                    buffer[ offset ++ ] = source[ i ];\\r\\n\\r\\n                }\\r\\n\\r\\n            },\\r\\n\\r\\n            function getValue_arrayElement( buffer, offset ) {\\r\\n\\r\\n                buffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\\r\\n\\r\\n            },\\r\\n\\r\\n            function getValue_toArray( buffer, offset ) {\\r\\n\\r\\n                this.resolvedProperty.toArray( buffer, offset );\\r\\n\\r\\n            }\\r\\n\\r\\n        ],\\r\\n\\r\\n        SetterByBindingTypeAndVersioning: [\\r\\n\\r\\n            [\\r\\n                // Direct\\r\\n\\r\\n                function setValue_direct( buffer, offset ) {\\r\\n\\r\\n                    this.targetObject[ this.propertyName ] = buffer[ offset ];\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_direct_setNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    this.targetObject[ this.propertyName ] = buffer[ offset ];\\r\\n                    this.targetObject.needsUpdate = true;\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    this.targetObject[ this.propertyName ] = buffer[ offset ];\\r\\n                    this.targetObject.matrixWorldNeedsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n            ], [\\r\\n\\r\\n                // EntireArray\\r\\n\\r\\n                function setValue_array( buffer, offset ) {\\r\\n\\r\\n                    var dest = this.resolvedProperty;\\r\\n\\r\\n                    for ( var i = 0, n = dest.length; i !== n; ++ i ) {\\r\\n\\r\\n                        dest[ i ] = buffer[ offset ++ ];\\r\\n\\r\\n                    }\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_array_setNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    var dest = this.resolvedProperty;\\r\\n\\r\\n                    for ( var i = 0, n = dest.length; i !== n; ++ i ) {\\r\\n\\r\\n                        dest[ i ] = buffer[ offset ++ ];\\r\\n\\r\\n                    }\\r\\n\\r\\n                    this.targetObject.needsUpdate = true;\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    var dest = this.resolvedProperty;\\r\\n\\r\\n                    for ( var i = 0, n = dest.length; i !== n; ++ i ) {\\r\\n\\r\\n                        dest[ i ] = buffer[ offset ++ ];\\r\\n\\r\\n                    }\\r\\n\\r\\n                    this.targetObject.matrixWorldNeedsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n            ], [\\r\\n\\r\\n                // ArrayElement\\r\\n\\r\\n                function setValue_arrayElement( buffer, offset ) {\\r\\n\\r\\n                    this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\\r\\n                    this.targetObject.needsUpdate = true;\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    this.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\\r\\n                    this.targetObject.matrixWorldNeedsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n            ], [\\r\\n\\r\\n                // HasToFromArray\\r\\n\\r\\n                function setValue_fromArray( buffer, offset ) {\\r\\n\\r\\n                    this.resolvedProperty.fromArray( buffer, offset );\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_fromArray_setNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    this.resolvedProperty.fromArray( buffer, offset );\\r\\n                    this.targetObject.needsUpdate = true;\\r\\n\\r\\n                },\\r\\n\\r\\n                function setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\\r\\n\\r\\n                    this.resolvedProperty.fromArray( buffer, offset );\\r\\n                    this.targetObject.matrixWorldNeedsUpdate = true;\\r\\n\\r\\n                }\\r\\n\\r\\n            ]\\r\\n\\r\\n        ],\\r\\n\\r\\n        getValue: function getValue_unbound( targetArray, offset ) {\\r\\n\\r\\n            this.bind();\\r\\n            this.getValue( targetArray, offset );\\r\\n\\r\\n            // Note: This class uses a State pattern on a per-method basis:\\r\\n            // 'bind' sets 'this.getValue' / 'setValue' and shadows the\\r\\n            // prototype version of these methods with one that represents\\r\\n            // the bound state. When the property is not found, the methods\\r\\n            // become no-ops.\\r\\n\\r\\n        },\\r\\n\\r\\n        setValue: function getValue_unbound( sourceArray, offset ) {\\r\\n\\r\\n            this.bind();\\r\\n            this.setValue( sourceArray, offset );\\r\\n\\r\\n        },\\r\\n\\r\\n        // create getter / setter pair for a property in the scene graph\\r\\n        bind: function () {\\r\\n\\r\\n            var targetObject = this.node,\\r\\n                parsedPath = this.parsedPath,\\r\\n\\r\\n                objectName = parsedPath.objectName,\\r\\n                propertyName = parsedPath.propertyName,\\r\\n                propertyIndex = parsedPath.propertyIndex;\\r\\n\\r\\n            if ( ! targetObject ) {\\r\\n\\r\\n                targetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\\r\\n\\r\\n                this.node = targetObject;\\r\\n\\r\\n            }\\r\\n\\r\\n            // set fail state so we can just 'return' on error\\r\\n            this.getValue = this._getValue_unavailable;\\r\\n            this.setValue = this._setValue_unavailable;\\r\\n\\r\\n            // ensure there is a value node\\r\\n            if ( ! targetObject ) {\\r\\n\\r\\n                console.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\\\'t found.' );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( objectName ) {\\r\\n\\r\\n                var objectIndex = parsedPath.objectIndex;\\r\\n\\r\\n                // special cases were we need to reach deeper into the hierarchy to get the face materials....\\r\\n                switch ( objectName ) {\\r\\n\\r\\n                    case 'materials':\\r\\n\\r\\n                        if ( ! targetObject.material ) {\\r\\n\\r\\n                            console.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        if ( ! targetObject.material.materials ) {\\r\\n\\r\\n                            console.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        targetObject = targetObject.material.materials;\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    case 'bones':\\r\\n\\r\\n                        if ( ! targetObject.skeleton ) {\\r\\n\\r\\n                            console.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        // potential future optimization: skip this if propertyIndex is already an integer\\r\\n                        // and convert the integer string to a true integer.\\r\\n\\r\\n                        targetObject = targetObject.skeleton.bones;\\r\\n\\r\\n                        // support resolving morphTarget names into indices.\\r\\n                        for ( var i = 0; i < targetObject.length; i ++ ) {\\r\\n\\r\\n                            if ( targetObject[ i ].name === objectIndex ) {\\r\\n\\r\\n                                objectIndex = i;\\r\\n                                break;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                        break;\\r\\n\\r\\n                    default:\\r\\n\\r\\n                        if ( targetObject[ objectName ] === undefined ) {\\r\\n\\r\\n                            console.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        targetObject = targetObject[ objectName ];\\r\\n\\r\\n                }\\r\\n\\r\\n\\r\\n                if ( objectIndex !== undefined ) {\\r\\n\\r\\n                    if ( targetObject[ objectIndex ] === undefined ) {\\r\\n\\r\\n                        console.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\\r\\n                        return;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    targetObject = targetObject[ objectIndex ];\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            // resolve property\\r\\n            var nodeProperty = targetObject[ propertyName ];\\r\\n\\r\\n            if ( nodeProperty === undefined ) {\\r\\n\\r\\n                var nodeName = parsedPath.nodeName;\\r\\n\\r\\n                console.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\\r\\n                    '.' + propertyName + ' but it wasn\\\\'t found.', targetObject );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            // determine versioning scheme\\r\\n            var versioning = this.Versioning.None;\\r\\n\\r\\n            this.targetObject = targetObject;\\r\\n\\r\\n            if ( targetObject.needsUpdate !== undefined ) { // material\\r\\n\\r\\n                versioning = this.Versioning.NeedsUpdate;\\r\\n\\r\\n            } else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\\r\\n\\r\\n                versioning = this.Versioning.MatrixWorldNeedsUpdate;\\r\\n\\r\\n            }\\r\\n\\r\\n            // determine how the property gets bound\\r\\n            var bindingType = this.BindingType.Direct;\\r\\n\\r\\n            if ( propertyIndex !== undefined ) {\\r\\n\\r\\n                // access a sub element of the property array (only primitives are supported right now)\\r\\n\\r\\n                if ( propertyName === \\\"morphTargetInfluences\\\" ) {\\r\\n\\r\\n                    // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\\r\\n\\r\\n                    // support resolving morphTarget names into indices.\\r\\n                    if ( ! targetObject.geometry ) {\\r\\n\\r\\n                        console.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\\r\\n                        return;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    if ( targetObject.geometry.isBufferGeometry ) {\\r\\n\\r\\n                        if ( ! targetObject.geometry.morphAttributes ) {\\r\\n\\r\\n                            console.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        for ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\\r\\n\\r\\n                            if ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\\r\\n\\r\\n                                propertyIndex = i;\\r\\n                                break;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        if ( ! targetObject.geometry.morphTargets ) {\\r\\n\\r\\n                            console.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\\r\\n                            return;\\r\\n\\r\\n                        }\\r\\n\\r\\n                        for ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\\r\\n\\r\\n                            if ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\\r\\n\\r\\n                                propertyIndex = i;\\r\\n                                break;\\r\\n\\r\\n                            }\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                bindingType = this.BindingType.ArrayElement;\\r\\n\\r\\n                this.resolvedProperty = nodeProperty;\\r\\n                this.propertyIndex = propertyIndex;\\r\\n\\r\\n            } else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\\r\\n\\r\\n                // must use copy for Object3D.Euler/Quaternion\\r\\n\\r\\n                bindingType = this.BindingType.HasFromToArray;\\r\\n\\r\\n                this.resolvedProperty = nodeProperty;\\r\\n\\r\\n            } else if ( Array.isArray( nodeProperty ) ) {\\r\\n\\r\\n                bindingType = this.BindingType.EntireArray;\\r\\n\\r\\n                this.resolvedProperty = nodeProperty;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.propertyName = propertyName;\\r\\n\\r\\n            }\\r\\n\\r\\n            // select getter / setter\\r\\n            this.getValue = this.GetterByBindingType[ bindingType ];\\r\\n            this.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\\r\\n\\r\\n        },\\r\\n\\r\\n        unbind: function () {\\r\\n\\r\\n            this.node = null;\\r\\n\\r\\n            // back to the prototype version of getValue / setValue\\r\\n            // note: avoiding to mutate the shape of 'this' via 'delete'\\r\\n            this.getValue = this._getValue_unbound;\\r\\n            this.setValue = this._setValue_unbound;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //!\\\\ DECLARE ALIAS AFTER assign prototype !\\r\\n    Object.assign( PropertyBinding.prototype, {\\r\\n\\r\\n        // initial state of these methods that calls 'bind'\\r\\n        _getValue_unbound: PropertyBinding.prototype.getValue,\\r\\n        _setValue_unbound: PropertyBinding.prototype.setValue,\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * A group of objects that receives a shared animation state.\\r\\n     *\\r\\n     * Usage:\\r\\n     *\\r\\n     * \\t-\\tAdd objects you would otherwise pass as 'root' to the\\r\\n     * \\t\\tconstructor or the .clipAction method of AnimationMixer.\\r\\n     *\\r\\n     * \\t-\\tInstead pass this object as 'root'.\\r\\n     *\\r\\n     * \\t-\\tYou can also add and remove objects later when the mixer\\r\\n     * \\t\\tis running.\\r\\n     *\\r\\n     * Note:\\r\\n     *\\r\\n     *  \\tObjects of this class appear as one object to the mixer,\\r\\n     *  \\tso cache control of the individual objects must be done\\r\\n     *  \\ton the group.\\r\\n     *\\r\\n     * Limitation:\\r\\n     *\\r\\n     * \\t- \\tThe animated properties must be compatible among the\\r\\n     * \\t\\tall objects in the group.\\r\\n     *\\r\\n     *  -\\tA single property can either be controlled through a\\r\\n     *  \\ttarget group or directly, but not both.\\r\\n     *\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function AnimationObjectGroup() {\\r\\n\\r\\n        this.uuid = _Math.generateUUID();\\r\\n\\r\\n        // cached objects followed by the active ones\\r\\n        this._objects = Array.prototype.slice.call( arguments );\\r\\n\\r\\n        this.nCachedObjects_ = 0;\\t\\t\\t// threshold\\r\\n        // note: read by PropertyBinding.Composite\\r\\n\\r\\n        var indices = {};\\r\\n        this._indicesByUUID = indices;\\t\\t// for bookkeeping\\r\\n\\r\\n        for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\\r\\n\\r\\n            indices[ arguments[ i ].uuid ] = i;\\r\\n\\r\\n        }\\r\\n\\r\\n        this._paths = [];\\t\\t\\t\\t\\t// inside: string\\r\\n        this._parsedPaths = [];\\t\\t\\t\\t// inside: { we don't care, here }\\r\\n        this._bindings = []; \\t\\t\\t\\t// inside: Array< PropertyBinding >\\r\\n        this._bindingsIndicesByPath = {}; \\t// inside: indices in these arrays\\r\\n\\r\\n        var scope = this;\\r\\n\\r\\n        this.stats = {\\r\\n\\r\\n            objects: {\\r\\n                get total() {\\r\\n\\r\\n                    return scope._objects.length;\\r\\n\\r\\n                },\\r\\n                get inUse() {\\r\\n\\r\\n                    return this.total - scope.nCachedObjects_;\\r\\n\\r\\n                }\\r\\n            },\\r\\n            get bindingsPerObject() {\\r\\n\\r\\n                return scope._bindings.length;\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( AnimationObjectGroup.prototype, {\\r\\n\\r\\n        isAnimationObjectGroup: true,\\r\\n\\r\\n        add: function () {\\r\\n\\r\\n            var objects = this._objects,\\r\\n                nObjects = objects.length,\\r\\n                nCachedObjects = this.nCachedObjects_,\\r\\n                indicesByUUID = this._indicesByUUID,\\r\\n                paths = this._paths,\\r\\n                parsedPaths = this._parsedPaths,\\r\\n                bindings = this._bindings,\\r\\n                nBindings = bindings.length,\\r\\n                knownObject = undefined;\\r\\n\\r\\n            for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\\r\\n\\r\\n                var object = arguments[ i ],\\r\\n                    uuid = object.uuid,\\r\\n                    index = indicesByUUID[ uuid ];\\r\\n\\r\\n                if ( index === undefined ) {\\r\\n\\r\\n                    // unknown object -> add it to the ACTIVE region\\r\\n\\r\\n                    index = nObjects ++;\\r\\n                    indicesByUUID[ uuid ] = index;\\r\\n                    objects.push( object );\\r\\n\\r\\n                    // accounting is done, now do the same for all bindings\\r\\n\\r\\n                    for ( var j = 0, m = nBindings; j !== m; ++ j ) {\\r\\n\\r\\n                        bindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( index < nCachedObjects ) {\\r\\n\\r\\n                    knownObject = objects[ index ];\\r\\n\\r\\n                    // move existing object to the ACTIVE region\\r\\n\\r\\n                    var firstActiveIndex = -- nCachedObjects,\\r\\n                        lastCachedObject = objects[ firstActiveIndex ];\\r\\n\\r\\n                    indicesByUUID[ lastCachedObject.uuid ] = index;\\r\\n                    objects[ index ] = lastCachedObject;\\r\\n\\r\\n                    indicesByUUID[ uuid ] = firstActiveIndex;\\r\\n                    objects[ firstActiveIndex ] = object;\\r\\n\\r\\n                    // accounting is done, now do the same for all bindings\\r\\n\\r\\n                    for ( var j = 0, m = nBindings; j !== m; ++ j ) {\\r\\n\\r\\n                        var bindingsForPath = bindings[ j ],\\r\\n                            lastCached = bindingsForPath[ firstActiveIndex ],\\r\\n                            binding = bindingsForPath[ index ];\\r\\n\\r\\n                        bindingsForPath[ index ] = lastCached;\\r\\n\\r\\n                        if ( binding === undefined ) {\\r\\n\\r\\n                            // since we do not bother to create new bindings\\r\\n                            // for objects that are cached, the binding may\\r\\n                            // or may not exist\\r\\n\\r\\n                            binding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        bindingsForPath[ firstActiveIndex ] = binding;\\r\\n\\r\\n                    }\\r\\n\\r\\n                } else if ( objects[ index ] !== knownObject ) {\\r\\n\\r\\n                    console.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\\r\\n                        'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\\r\\n\\r\\n                } // else the object is already where we want it to be\\r\\n\\r\\n            } // for arguments\\r\\n\\r\\n            this.nCachedObjects_ = nCachedObjects;\\r\\n\\r\\n        },\\r\\n\\r\\n        remove: function () {\\r\\n\\r\\n            var objects = this._objects,\\r\\n                nCachedObjects = this.nCachedObjects_,\\r\\n                indicesByUUID = this._indicesByUUID,\\r\\n                bindings = this._bindings,\\r\\n                nBindings = bindings.length;\\r\\n\\r\\n            for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\\r\\n\\r\\n                var object = arguments[ i ],\\r\\n                    uuid = object.uuid,\\r\\n                    index = indicesByUUID[ uuid ];\\r\\n\\r\\n                if ( index !== undefined && index >= nCachedObjects ) {\\r\\n\\r\\n                    // move existing object into the CACHED region\\r\\n\\r\\n                    var lastCachedIndex = nCachedObjects ++,\\r\\n                        firstActiveObject = objects[ lastCachedIndex ];\\r\\n\\r\\n                    indicesByUUID[ firstActiveObject.uuid ] = index;\\r\\n                    objects[ index ] = firstActiveObject;\\r\\n\\r\\n                    indicesByUUID[ uuid ] = lastCachedIndex;\\r\\n                    objects[ lastCachedIndex ] = object;\\r\\n\\r\\n                    // accounting is done, now do the same for all bindings\\r\\n\\r\\n                    for ( var j = 0, m = nBindings; j !== m; ++ j ) {\\r\\n\\r\\n                        var bindingsForPath = bindings[ j ],\\r\\n                            firstActive = bindingsForPath[ lastCachedIndex ],\\r\\n                            binding = bindingsForPath[ index ];\\r\\n\\r\\n                        bindingsForPath[ index ] = firstActive;\\r\\n                        bindingsForPath[ lastCachedIndex ] = binding;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } // for arguments\\r\\n\\r\\n            this.nCachedObjects_ = nCachedObjects;\\r\\n\\r\\n        },\\r\\n\\r\\n        // remove & forget\\r\\n        uncache: function () {\\r\\n\\r\\n            var objects = this._objects,\\r\\n                nObjects = objects.length,\\r\\n                nCachedObjects = this.nCachedObjects_,\\r\\n                indicesByUUID = this._indicesByUUID,\\r\\n                bindings = this._bindings,\\r\\n                nBindings = bindings.length;\\r\\n\\r\\n            for ( var i = 0, n = arguments.length; i !== n; ++ i ) {\\r\\n\\r\\n                var object = arguments[ i ],\\r\\n                    uuid = object.uuid,\\r\\n                    index = indicesByUUID[ uuid ];\\r\\n\\r\\n                if ( index !== undefined ) {\\r\\n\\r\\n                    delete indicesByUUID[ uuid ];\\r\\n\\r\\n                    if ( index < nCachedObjects ) {\\r\\n\\r\\n                        // object is cached, shrink the CACHED region\\r\\n\\r\\n                        var firstActiveIndex = -- nCachedObjects,\\r\\n                            lastCachedObject = objects[ firstActiveIndex ],\\r\\n                            lastIndex = -- nObjects,\\r\\n                            lastObject = objects[ lastIndex ];\\r\\n\\r\\n                        // last cached object takes this object's place\\r\\n                        indicesByUUID[ lastCachedObject.uuid ] = index;\\r\\n                        objects[ index ] = lastCachedObject;\\r\\n\\r\\n                        // last object goes to the activated slot and pop\\r\\n                        indicesByUUID[ lastObject.uuid ] = firstActiveIndex;\\r\\n                        objects[ firstActiveIndex ] = lastObject;\\r\\n                        objects.pop();\\r\\n\\r\\n                        // accounting is done, now do the same for all bindings\\r\\n\\r\\n                        for ( var j = 0, m = nBindings; j !== m; ++ j ) {\\r\\n\\r\\n                            var bindingsForPath = bindings[ j ],\\r\\n                                lastCached = bindingsForPath[ firstActiveIndex ],\\r\\n                                last = bindingsForPath[ lastIndex ];\\r\\n\\r\\n                            bindingsForPath[ index ] = lastCached;\\r\\n                            bindingsForPath[ firstActiveIndex ] = last;\\r\\n                            bindingsForPath.pop();\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // object is active, just swap with the last and pop\\r\\n\\r\\n                        var lastIndex = -- nObjects,\\r\\n                            lastObject = objects[ lastIndex ];\\r\\n\\r\\n                        indicesByUUID[ lastObject.uuid ] = index;\\r\\n                        objects[ index ] = lastObject;\\r\\n                        objects.pop();\\r\\n\\r\\n                        // accounting is done, now do the same for all bindings\\r\\n\\r\\n                        for ( var j = 0, m = nBindings; j !== m; ++ j ) {\\r\\n\\r\\n                            var bindingsForPath = bindings[ j ];\\r\\n\\r\\n                            bindingsForPath[ index ] = bindingsForPath[ lastIndex ];\\r\\n                            bindingsForPath.pop();\\r\\n\\r\\n                        }\\r\\n\\r\\n                    } // cached or active\\r\\n\\r\\n                } // if object is known\\r\\n\\r\\n            } // for arguments\\r\\n\\r\\n            this.nCachedObjects_ = nCachedObjects;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Internal interface used by befriended PropertyBinding.Composite:\\r\\n\\r\\n        subscribe_: function ( path, parsedPath ) {\\r\\n\\r\\n            // returns an array of bindings for the given path that is changed\\r\\n            // according to the contained objects in the group\\r\\n\\r\\n            var indicesByPath = this._bindingsIndicesByPath,\\r\\n                index = indicesByPath[ path ],\\r\\n                bindings = this._bindings;\\r\\n\\r\\n            if ( index !== undefined ) return bindings[ index ];\\r\\n\\r\\n            var paths = this._paths,\\r\\n                parsedPaths = this._parsedPaths,\\r\\n                objects = this._objects,\\r\\n                nObjects = objects.length,\\r\\n                nCachedObjects = this.nCachedObjects_,\\r\\n                bindingsForPath = new Array( nObjects );\\r\\n\\r\\n            index = bindings.length;\\r\\n\\r\\n            indicesByPath[ path ] = index;\\r\\n\\r\\n            paths.push( path );\\r\\n            parsedPaths.push( parsedPath );\\r\\n            bindings.push( bindingsForPath );\\r\\n\\r\\n            for ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\\r\\n\\r\\n                var object = objects[ i ];\\r\\n                bindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\\r\\n\\r\\n            }\\r\\n\\r\\n            return bindingsForPath;\\r\\n\\r\\n        },\\r\\n\\r\\n        unsubscribe_: function ( path ) {\\r\\n\\r\\n            // tells the group to forget about a property path and no longer\\r\\n            // update the array previously obtained with 'subscribe_'\\r\\n\\r\\n            var indicesByPath = this._bindingsIndicesByPath,\\r\\n                index = indicesByPath[ path ];\\r\\n\\r\\n            if ( index !== undefined ) {\\r\\n\\r\\n                var paths = this._paths,\\r\\n                    parsedPaths = this._parsedPaths,\\r\\n                    bindings = this._bindings,\\r\\n                    lastBindingsIndex = bindings.length - 1,\\r\\n                    lastBindings = bindings[ lastBindingsIndex ],\\r\\n                    lastBindingsPath = path[ lastBindingsIndex ];\\r\\n\\r\\n                indicesByPath[ lastBindingsPath ] = index;\\r\\n\\r\\n                bindings[ index ] = lastBindings;\\r\\n                bindings.pop();\\r\\n\\r\\n                parsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\\r\\n                parsedPaths.pop();\\r\\n\\r\\n                paths[ index ] = paths[ lastBindingsIndex ];\\r\\n                paths.pop();\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * Action provided by AnimationMixer for scheduling clip playback on specific\\r\\n     * objects.\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     *\\r\\n     */\\r\\n\\r\\n    function AnimationAction( mixer, clip, localRoot ) {\\r\\n\\r\\n        this._mixer = mixer;\\r\\n        this._clip = clip;\\r\\n        this._localRoot = localRoot || null;\\r\\n\\r\\n        var tracks = clip.tracks,\\r\\n            nTracks = tracks.length,\\r\\n            interpolants = new Array( nTracks );\\r\\n\\r\\n        var interpolantSettings = {\\r\\n            endingStart: ZeroCurvatureEnding,\\r\\n            endingEnd: ZeroCurvatureEnding\\r\\n        };\\r\\n\\r\\n        for ( var i = 0; i !== nTracks; ++ i ) {\\r\\n\\r\\n            var interpolant = tracks[ i ].createInterpolant( null );\\r\\n            interpolants[ i ] = interpolant;\\r\\n            interpolant.settings = interpolantSettings;\\r\\n\\r\\n        }\\r\\n\\r\\n        this._interpolantSettings = interpolantSettings;\\r\\n\\r\\n        this._interpolants = interpolants;\\t// bound by the mixer\\r\\n\\r\\n        // inside: PropertyMixer (managed by the mixer)\\r\\n        this._propertyBindings = new Array( nTracks );\\r\\n\\r\\n        this._cacheIndex = null;\\t\\t\\t// for the memory manager\\r\\n        this._byClipCacheIndex = null;\\t\\t// for the memory manager\\r\\n\\r\\n        this._timeScaleInterpolant = null;\\r\\n        this._weightInterpolant = null;\\r\\n\\r\\n        this.loop = LoopRepeat;\\r\\n        this._loopCount = - 1;\\r\\n\\r\\n        // global mixer time when the action is to be started\\r\\n        // it's set back to 'null' upon start of the action\\r\\n        this._startTime = null;\\r\\n\\r\\n        // scaled local time of the action\\r\\n        // gets clamped or wrapped to 0..clip.duration according to loop\\r\\n        this.time = 0;\\r\\n\\r\\n        this.timeScale = 1;\\r\\n        this._effectiveTimeScale = 1;\\r\\n\\r\\n        this.weight = 1;\\r\\n        this._effectiveWeight = 1;\\r\\n\\r\\n        this.repetitions = Infinity; \\t\\t// no. of repetitions when looping\\r\\n\\r\\n        this.paused = false;\\t\\t\\t\\t// true -> zero effective time scale\\r\\n        this.enabled = true;\\t\\t\\t\\t// false -> zero effective weight\\r\\n\\r\\n        this.clampWhenFinished \\t= false;\\t// keep feeding the last frame?\\r\\n\\r\\n        this.zeroSlopeAtStart \\t= true;\\t\\t// for smooth interpolation w/o separate\\r\\n        this.zeroSlopeAtEnd\\t\\t= true;\\t\\t// clips for start, loop and end\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( AnimationAction.prototype, {\\r\\n\\r\\n        // State & Scheduling\\r\\n\\r\\n        play: function () {\\r\\n\\r\\n            this._mixer._activateAction( this );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        stop: function () {\\r\\n\\r\\n            this._mixer._deactivateAction( this );\\r\\n\\r\\n            return this.reset();\\r\\n\\r\\n        },\\r\\n\\r\\n        reset: function () {\\r\\n\\r\\n            this.paused = false;\\r\\n            this.enabled = true;\\r\\n\\r\\n            this.time = 0;\\t\\t\\t// restart clip\\r\\n            this._loopCount = - 1;\\t// forget previous loops\\r\\n            this._startTime = null;\\t// forget scheduling\\r\\n\\r\\n            return this.stopFading().stopWarping();\\r\\n\\r\\n        },\\r\\n\\r\\n        isRunning: function () {\\r\\n\\r\\n            return this.enabled && ! this.paused && this.timeScale !== 0 &&\\r\\n                this._startTime === null && this._mixer._isActiveAction( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        // return true when play has been called\\r\\n        isScheduled: function () {\\r\\n\\r\\n            return this._mixer._isActiveAction( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        startAt: function ( time ) {\\r\\n\\r\\n            this._startTime = time;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setLoop: function ( mode, repetitions ) {\\r\\n\\r\\n            this.loop = mode;\\r\\n            this.repetitions = repetitions;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Weight\\r\\n\\r\\n        // set the weight stopping any scheduled fading\\r\\n        // although .enabled = false yields an effective weight of zero, this\\r\\n        // method does *not* change .enabled, because it would be confusing\\r\\n        setEffectiveWeight: function ( weight ) {\\r\\n\\r\\n            this.weight = weight;\\r\\n\\r\\n            // note: same logic as when updated at runtime\\r\\n            this._effectiveWeight = this.enabled ? weight : 0;\\r\\n\\r\\n            return this.stopFading();\\r\\n\\r\\n        },\\r\\n\\r\\n        // return the weight considering fading and .enabled\\r\\n        getEffectiveWeight: function () {\\r\\n\\r\\n            return this._effectiveWeight;\\r\\n\\r\\n        },\\r\\n\\r\\n        fadeIn: function ( duration ) {\\r\\n\\r\\n            return this._scheduleFading( duration, 0, 1 );\\r\\n\\r\\n        },\\r\\n\\r\\n        fadeOut: function ( duration ) {\\r\\n\\r\\n            return this._scheduleFading( duration, 1, 0 );\\r\\n\\r\\n        },\\r\\n\\r\\n        crossFadeFrom: function ( fadeOutAction, duration, warp ) {\\r\\n\\r\\n            fadeOutAction.fadeOut( duration );\\r\\n            this.fadeIn( duration );\\r\\n\\r\\n            if ( warp ) {\\r\\n\\r\\n                var fadeInDuration = this._clip.duration,\\r\\n                    fadeOutDuration = fadeOutAction._clip.duration,\\r\\n\\r\\n                    startEndRatio = fadeOutDuration / fadeInDuration,\\r\\n                    endStartRatio = fadeInDuration / fadeOutDuration;\\r\\n\\r\\n                fadeOutAction.warp( 1.0, startEndRatio, duration );\\r\\n                this.warp( endStartRatio, 1.0, duration );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        crossFadeTo: function ( fadeInAction, duration, warp ) {\\r\\n\\r\\n            return fadeInAction.crossFadeFrom( this, duration, warp );\\r\\n\\r\\n        },\\r\\n\\r\\n        stopFading: function () {\\r\\n\\r\\n            var weightInterpolant = this._weightInterpolant;\\r\\n\\r\\n            if ( weightInterpolant !== null ) {\\r\\n\\r\\n                this._weightInterpolant = null;\\r\\n                this._mixer._takeBackControlInterpolant( weightInterpolant );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Time Scale Control\\r\\n\\r\\n        // set the time scale stopping any scheduled warping\\r\\n        // although .paused = true yields an effective time scale of zero, this\\r\\n        // method does *not* change .paused, because it would be confusing\\r\\n        setEffectiveTimeScale: function ( timeScale ) {\\r\\n\\r\\n            this.timeScale = timeScale;\\r\\n            this._effectiveTimeScale = this.paused ? 0 : timeScale;\\r\\n\\r\\n            return this.stopWarping();\\r\\n\\r\\n        },\\r\\n\\r\\n        // return the time scale considering warping and .paused\\r\\n        getEffectiveTimeScale: function () {\\r\\n\\r\\n            return this._effectiveTimeScale;\\r\\n\\r\\n        },\\r\\n\\r\\n        setDuration: function ( duration ) {\\r\\n\\r\\n            this.timeScale = this._clip.duration / duration;\\r\\n\\r\\n            return this.stopWarping();\\r\\n\\r\\n        },\\r\\n\\r\\n        syncWith: function ( action ) {\\r\\n\\r\\n            this.time = action.time;\\r\\n            this.timeScale = action.timeScale;\\r\\n\\r\\n            return this.stopWarping();\\r\\n\\r\\n        },\\r\\n\\r\\n        halt: function ( duration ) {\\r\\n\\r\\n            return this.warp( this._effectiveTimeScale, 0, duration );\\r\\n\\r\\n        },\\r\\n\\r\\n        warp: function ( startTimeScale, endTimeScale, duration ) {\\r\\n\\r\\n            var mixer = this._mixer, now = mixer.time,\\r\\n                interpolant = this._timeScaleInterpolant,\\r\\n\\r\\n                timeScale = this.timeScale;\\r\\n\\r\\n            if ( interpolant === null ) {\\r\\n\\r\\n                interpolant = mixer._lendControlInterpolant();\\r\\n                this._timeScaleInterpolant = interpolant;\\r\\n\\r\\n            }\\r\\n\\r\\n            var times = interpolant.parameterPositions,\\r\\n                values = interpolant.sampleValues;\\r\\n\\r\\n            times[ 0 ] = now;\\r\\n            times[ 1 ] = now + duration;\\r\\n\\r\\n            values[ 0 ] = startTimeScale / timeScale;\\r\\n            values[ 1 ] = endTimeScale / timeScale;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        stopWarping: function () {\\r\\n\\r\\n            var timeScaleInterpolant = this._timeScaleInterpolant;\\r\\n\\r\\n            if ( timeScaleInterpolant !== null ) {\\r\\n\\r\\n                this._timeScaleInterpolant = null;\\r\\n                this._mixer._takeBackControlInterpolant( timeScaleInterpolant );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Object Accessors\\r\\n\\r\\n        getMixer: function () {\\r\\n\\r\\n            return this._mixer;\\r\\n\\r\\n        },\\r\\n\\r\\n        getClip: function () {\\r\\n\\r\\n            return this._clip;\\r\\n\\r\\n        },\\r\\n\\r\\n        getRoot: function () {\\r\\n\\r\\n            return this._localRoot || this._mixer._root;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Interna\\r\\n\\r\\n        _update: function ( time, deltaTime, timeDirection, accuIndex ) {\\r\\n\\r\\n            // called by the mixer\\r\\n\\r\\n            if ( ! this.enabled ) {\\r\\n\\r\\n                // call ._updateWeight() to update ._effectiveWeight\\r\\n\\r\\n                this._updateWeight( time );\\r\\n                return;\\r\\n\\r\\n            }\\r\\n\\r\\n            var startTime = this._startTime;\\r\\n\\r\\n            if ( startTime !== null ) {\\r\\n\\r\\n                // check for scheduled start of action\\r\\n\\r\\n                var timeRunning = ( time - startTime ) * timeDirection;\\r\\n                if ( timeRunning < 0 || timeDirection === 0 ) {\\r\\n\\r\\n                    return; // yet to come / don't decide when delta = 0\\r\\n\\r\\n                }\\r\\n\\r\\n                // start\\r\\n\\r\\n                this._startTime = null; // unschedule\\r\\n                deltaTime = timeDirection * timeRunning;\\r\\n\\r\\n            }\\r\\n\\r\\n            // apply time scale and advance time\\r\\n\\r\\n            deltaTime *= this._updateTimeScale( time );\\r\\n            var clipTime = this._updateTime( deltaTime );\\r\\n\\r\\n            // note: _updateTime may disable the action resulting in\\r\\n            // an effective weight of 0\\r\\n\\r\\n            var weight = this._updateWeight( time );\\r\\n\\r\\n            if ( weight > 0 ) {\\r\\n\\r\\n                var interpolants = this._interpolants;\\r\\n                var propertyMixers = this._propertyBindings;\\r\\n\\r\\n                for ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\\r\\n\\r\\n                    interpolants[ j ].evaluate( clipTime );\\r\\n                    propertyMixers[ j ].accumulate( accuIndex, weight );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _updateWeight: function ( time ) {\\r\\n\\r\\n            var weight = 0;\\r\\n\\r\\n            if ( this.enabled ) {\\r\\n\\r\\n                weight = this.weight;\\r\\n                var interpolant = this._weightInterpolant;\\r\\n\\r\\n                if ( interpolant !== null ) {\\r\\n\\r\\n                    var interpolantValue = interpolant.evaluate( time )[ 0 ];\\r\\n\\r\\n                    weight *= interpolantValue;\\r\\n\\r\\n                    if ( time > interpolant.parameterPositions[ 1 ] ) {\\r\\n\\r\\n                        this.stopFading();\\r\\n\\r\\n                        if ( interpolantValue === 0 ) {\\r\\n\\r\\n                            // faded out, disable\\r\\n                            this.enabled = false;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            this._effectiveWeight = weight;\\r\\n            return weight;\\r\\n\\r\\n        },\\r\\n\\r\\n        _updateTimeScale: function ( time ) {\\r\\n\\r\\n            var timeScale = 0;\\r\\n\\r\\n            if ( ! this.paused ) {\\r\\n\\r\\n                timeScale = this.timeScale;\\r\\n\\r\\n                var interpolant = this._timeScaleInterpolant;\\r\\n\\r\\n                if ( interpolant !== null ) {\\r\\n\\r\\n                    var interpolantValue = interpolant.evaluate( time )[ 0 ];\\r\\n\\r\\n                    timeScale *= interpolantValue;\\r\\n\\r\\n                    if ( time > interpolant.parameterPositions[ 1 ] ) {\\r\\n\\r\\n                        this.stopWarping();\\r\\n\\r\\n                        if ( timeScale === 0 ) {\\r\\n\\r\\n                            // motion has halted, pause\\r\\n                            this.paused = true;\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            // warp done - apply final time scale\\r\\n                            this.timeScale = timeScale;\\r\\n\\r\\n                        }\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            this._effectiveTimeScale = timeScale;\\r\\n            return timeScale;\\r\\n\\r\\n        },\\r\\n\\r\\n        _updateTime: function ( deltaTime ) {\\r\\n\\r\\n            var time = this.time + deltaTime;\\r\\n            var duration = this._clip.duration;\\r\\n            var loop = this.loop;\\r\\n            var loopCount = this._loopCount;\\r\\n\\r\\n            var pingPong = ( loop === LoopPingPong );\\r\\n\\r\\n            if ( deltaTime === 0 ) {\\r\\n\\r\\n                if ( loopCount === - 1 ) return time;\\r\\n\\r\\n                return ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( loop === LoopOnce ) {\\r\\n\\r\\n                if ( loopCount === - 1 ) {\\r\\n\\r\\n                    // just started\\r\\n\\r\\n                    this._loopCount = 0;\\r\\n                    this._setEndings( true, true, false );\\r\\n\\r\\n                }\\r\\n\\r\\n                handle_stop: {\\r\\n\\r\\n                    if ( time >= duration ) {\\r\\n\\r\\n                        time = duration;\\r\\n\\r\\n                    } else if ( time < 0 ) {\\r\\n\\r\\n                        time = 0;\\r\\n\\r\\n                    } else break handle_stop;\\r\\n\\r\\n                    if ( this.clampWhenFinished ) this.paused = true;\\r\\n                    else this.enabled = false;\\r\\n\\r\\n                    this._mixer.dispatchEvent( {\\r\\n                        type: 'finished', action: this,\\r\\n                        direction: deltaTime < 0 ? - 1 : 1\\r\\n                    } );\\r\\n\\r\\n                }\\r\\n\\r\\n            } else { // repetitive Repeat or PingPong\\r\\n\\r\\n                if ( loopCount === - 1 ) {\\r\\n\\r\\n                    // just started\\r\\n\\r\\n                    if ( deltaTime >= 0 ) {\\r\\n\\r\\n                        loopCount = 0;\\r\\n\\r\\n                        this._setEndings( true, this.repetitions === 0, pingPong );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // when looping in reverse direction, the initial\\r\\n                        // transition through zero counts as a repetition,\\r\\n                        // so leave loopCount at -1\\r\\n\\r\\n                        this._setEndings( this.repetitions === 0, true, pingPong );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( time >= duration || time < 0 ) {\\r\\n\\r\\n                    // wrap around\\r\\n\\r\\n                    var loopDelta = Math.floor( time / duration ); // signed\\r\\n                    time -= duration * loopDelta;\\r\\n\\r\\n                    loopCount += Math.abs( loopDelta );\\r\\n\\r\\n                    var pending = this.repetitions - loopCount;\\r\\n\\r\\n                    if ( pending <= 0 ) {\\r\\n\\r\\n                        // have to stop (switch state, clamp time, fire event)\\r\\n\\r\\n                        if ( this.clampWhenFinished ) this.paused = true;\\r\\n                        else this.enabled = false;\\r\\n\\r\\n                        time = deltaTime > 0 ? duration : 0;\\r\\n\\r\\n                        this._mixer.dispatchEvent( {\\r\\n                            type: 'finished', action: this,\\r\\n                            direction: deltaTime > 0 ? 1 : - 1\\r\\n                        } );\\r\\n\\r\\n                    } else {\\r\\n\\r\\n                        // keep running\\r\\n\\r\\n                        if ( pending === 1 ) {\\r\\n\\r\\n                            // entering the last round\\r\\n\\r\\n                            var atStart = deltaTime < 0;\\r\\n                            this._setEndings( atStart, ! atStart, pingPong );\\r\\n\\r\\n                        } else {\\r\\n\\r\\n                            this._setEndings( false, false, pingPong );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        this._loopCount = loopCount;\\r\\n\\r\\n                        this._mixer.dispatchEvent( {\\r\\n                            type: 'loop', action: this, loopDelta: loopDelta\\r\\n                        } );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( pingPong && ( loopCount & 1 ) === 1 ) {\\r\\n\\r\\n                    // invert time for the \\\"pong round\\\"\\r\\n\\r\\n                    this.time = time;\\r\\n                    return duration - time;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            this.time = time;\\r\\n            return time;\\r\\n\\r\\n        },\\r\\n\\r\\n        _setEndings: function ( atStart, atEnd, pingPong ) {\\r\\n\\r\\n            var settings = this._interpolantSettings;\\r\\n\\r\\n            if ( pingPong ) {\\r\\n\\r\\n                settings.endingStart \\t= ZeroSlopeEnding;\\r\\n                settings.endingEnd\\t\\t= ZeroSlopeEnding;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                // assuming for LoopOnce atStart == atEnd == true\\r\\n\\r\\n                if ( atStart ) {\\r\\n\\r\\n                    settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    settings.endingStart = WrapAroundEnding;\\r\\n\\r\\n                }\\r\\n\\r\\n                if ( atEnd ) {\\r\\n\\r\\n                    settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    settings.endingEnd \\t = WrapAroundEnding;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _scheduleFading: function ( duration, weightNow, weightThen ) {\\r\\n\\r\\n            var mixer = this._mixer, now = mixer.time,\\r\\n                interpolant = this._weightInterpolant;\\r\\n\\r\\n            if ( interpolant === null ) {\\r\\n\\r\\n                interpolant = mixer._lendControlInterpolant();\\r\\n                this._weightInterpolant = interpolant;\\r\\n\\r\\n            }\\r\\n\\r\\n            var times = interpolant.parameterPositions,\\r\\n                values = interpolant.sampleValues;\\r\\n\\r\\n            times[ 0 ] = now; \\t\\t\\t\\tvalues[ 0 ] = weightNow;\\r\\n            times[ 1 ] = now + duration;\\tvalues[ 1 ] = weightThen;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     *\\r\\n     * Player for AnimationClips.\\r\\n     *\\r\\n     *\\r\\n     * @author Ben Houston / http://clara.io/\\r\\n     * @author David Sarno / http://lighthaus.us/\\r\\n     * @author tschw\\r\\n     */\\r\\n\\r\\n    function AnimationMixer( root ) {\\r\\n\\r\\n        this._root = root;\\r\\n        this._initMemoryManager();\\r\\n        this._accuIndex = 0;\\r\\n\\r\\n        this.time = 0;\\r\\n\\r\\n        this.timeScale = 1.0;\\r\\n\\r\\n    }\\r\\n\\r\\n    AnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\\r\\n\\r\\n        constructor: AnimationMixer,\\r\\n\\r\\n        _bindAction: function ( action, prototypeAction ) {\\r\\n\\r\\n            var root = action._localRoot || this._root,\\r\\n                tracks = action._clip.tracks,\\r\\n                nTracks = tracks.length,\\r\\n                bindings = action._propertyBindings,\\r\\n                interpolants = action._interpolants,\\r\\n                rootUuid = root.uuid,\\r\\n                bindingsByRoot = this._bindingsByRootAndName,\\r\\n                bindingsByName = bindingsByRoot[ rootUuid ];\\r\\n\\r\\n            if ( bindingsByName === undefined ) {\\r\\n\\r\\n                bindingsByName = {};\\r\\n                bindingsByRoot[ rootUuid ] = bindingsByName;\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0; i !== nTracks; ++ i ) {\\r\\n\\r\\n                var track = tracks[ i ],\\r\\n                    trackName = track.name,\\r\\n                    binding = bindingsByName[ trackName ];\\r\\n\\r\\n                if ( binding !== undefined ) {\\r\\n\\r\\n                    bindings[ i ] = binding;\\r\\n\\r\\n                } else {\\r\\n\\r\\n                    binding = bindings[ i ];\\r\\n\\r\\n                    if ( binding !== undefined ) {\\r\\n\\r\\n                        // existing binding, make sure the cache knows\\r\\n\\r\\n                        if ( binding._cacheIndex === null ) {\\r\\n\\r\\n                            ++ binding.referenceCount;\\r\\n                            this._addInactiveBinding( binding, rootUuid, trackName );\\r\\n\\r\\n                        }\\r\\n\\r\\n                        continue;\\r\\n\\r\\n                    }\\r\\n\\r\\n                    var path = prototypeAction && prototypeAction.\\r\\n                        _propertyBindings[ i ].binding.parsedPath;\\r\\n\\r\\n                    binding = new PropertyMixer(\\r\\n                        PropertyBinding.create( root, trackName, path ),\\r\\n                        track.ValueTypeName, track.getValueSize() );\\r\\n\\r\\n                    ++ binding.referenceCount;\\r\\n                    this._addInactiveBinding( binding, rootUuid, trackName );\\r\\n\\r\\n                    bindings[ i ] = binding;\\r\\n\\r\\n                }\\r\\n\\r\\n                interpolants[ i ].resultBuffer = binding.buffer;\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _activateAction: function ( action ) {\\r\\n\\r\\n            if ( ! this._isActiveAction( action ) ) {\\r\\n\\r\\n                if ( action._cacheIndex === null ) {\\r\\n\\r\\n                    // this action has been forgotten by the cache, but the user\\r\\n                    // appears to be still using it -> rebind\\r\\n\\r\\n                    var rootUuid = ( action._localRoot || this._root ).uuid,\\r\\n                        clipUuid = action._clip.uuid,\\r\\n                        actionsForClip = this._actionsByClip[ clipUuid ];\\r\\n\\r\\n                    this._bindAction( action,\\r\\n                        actionsForClip && actionsForClip.knownActions[ 0 ] );\\r\\n\\r\\n                    this._addInactiveAction( action, clipUuid, rootUuid );\\r\\n\\r\\n                }\\r\\n\\r\\n                var bindings = action._propertyBindings;\\r\\n\\r\\n                // increment reference counts / sort out state\\r\\n                for ( var i = 0, n = bindings.length; i !== n; ++ i ) {\\r\\n\\r\\n                    var binding = bindings[ i ];\\r\\n\\r\\n                    if ( binding.useCount ++ === 0 ) {\\r\\n\\r\\n                        this._lendBinding( binding );\\r\\n                        binding.saveOriginalState();\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                this._lendAction( action );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _deactivateAction: function ( action ) {\\r\\n\\r\\n            if ( this._isActiveAction( action ) ) {\\r\\n\\r\\n                var bindings = action._propertyBindings;\\r\\n\\r\\n                // decrement reference counts / sort out state\\r\\n                for ( var i = 0, n = bindings.length; i !== n; ++ i ) {\\r\\n\\r\\n                    var binding = bindings[ i ];\\r\\n\\r\\n                    if ( -- binding.useCount === 0 ) {\\r\\n\\r\\n                        binding.restoreOriginalState();\\r\\n                        this._takeBackBinding( binding );\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n                this._takeBackAction( action );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        // Memory manager\\r\\n\\r\\n        _initMemoryManager: function () {\\r\\n\\r\\n            this._actions = []; // 'nActiveActions' followed by inactive ones\\r\\n            this._nActiveActions = 0;\\r\\n\\r\\n            this._actionsByClip = {};\\r\\n            // inside:\\r\\n            // {\\r\\n            // \\t\\tknownActions: Array< AnimationAction >\\t- used as prototypes\\r\\n            // \\t\\tactionByRoot: AnimationAction\\t\\t\\t- lookup\\r\\n            // }\\r\\n\\r\\n\\r\\n            this._bindings = []; // 'nActiveBindings' followed by inactive ones\\r\\n            this._nActiveBindings = 0;\\r\\n\\r\\n            this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\\r\\n\\r\\n\\r\\n            this._controlInterpolants = []; // same game as above\\r\\n            this._nActiveControlInterpolants = 0;\\r\\n\\r\\n            var scope = this;\\r\\n\\r\\n            this.stats = {\\r\\n\\r\\n                actions: {\\r\\n                    get total() {\\r\\n\\r\\n                        return scope._actions.length;\\r\\n\\r\\n                    },\\r\\n                    get inUse() {\\r\\n\\r\\n                        return scope._nActiveActions;\\r\\n\\r\\n                    }\\r\\n                },\\r\\n                bindings: {\\r\\n                    get total() {\\r\\n\\r\\n                        return scope._bindings.length;\\r\\n\\r\\n                    },\\r\\n                    get inUse() {\\r\\n\\r\\n                        return scope._nActiveBindings;\\r\\n\\r\\n                    }\\r\\n                },\\r\\n                controlInterpolants: {\\r\\n                    get total() {\\r\\n\\r\\n                        return scope._controlInterpolants.length;\\r\\n\\r\\n                    },\\r\\n                    get inUse() {\\r\\n\\r\\n                        return scope._nActiveControlInterpolants;\\r\\n\\r\\n                    }\\r\\n                }\\r\\n\\r\\n            };\\r\\n\\r\\n        },\\r\\n\\r\\n        // Memory management for AnimationAction objects\\r\\n\\r\\n        _isActiveAction: function ( action ) {\\r\\n\\r\\n            var index = action._cacheIndex;\\r\\n            return index !== null && index < this._nActiveActions;\\r\\n\\r\\n        },\\r\\n\\r\\n        _addInactiveAction: function ( action, clipUuid, rootUuid ) {\\r\\n\\r\\n            var actions = this._actions,\\r\\n                actionsByClip = this._actionsByClip,\\r\\n                actionsForClip = actionsByClip[ clipUuid ];\\r\\n\\r\\n            if ( actionsForClip === undefined ) {\\r\\n\\r\\n                actionsForClip = {\\r\\n\\r\\n                    knownActions: [ action ],\\r\\n                    actionByRoot: {}\\r\\n\\r\\n                };\\r\\n\\r\\n                action._byClipCacheIndex = 0;\\r\\n\\r\\n                actionsByClip[ clipUuid ] = actionsForClip;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var knownActions = actionsForClip.knownActions;\\r\\n\\r\\n                action._byClipCacheIndex = knownActions.length;\\r\\n                knownActions.push( action );\\r\\n\\r\\n            }\\r\\n\\r\\n            action._cacheIndex = actions.length;\\r\\n            actions.push( action );\\r\\n\\r\\n            actionsForClip.actionByRoot[ rootUuid ] = action;\\r\\n\\r\\n        },\\r\\n\\r\\n        _removeInactiveAction: function ( action ) {\\r\\n\\r\\n            var actions = this._actions,\\r\\n                lastInactiveAction = actions[ actions.length - 1 ],\\r\\n                cacheIndex = action._cacheIndex;\\r\\n\\r\\n            lastInactiveAction._cacheIndex = cacheIndex;\\r\\n            actions[ cacheIndex ] = lastInactiveAction;\\r\\n            actions.pop();\\r\\n\\r\\n            action._cacheIndex = null;\\r\\n\\r\\n\\r\\n            var clipUuid = action._clip.uuid,\\r\\n                actionsByClip = this._actionsByClip,\\r\\n                actionsForClip = actionsByClip[ clipUuid ],\\r\\n                knownActionsForClip = actionsForClip.knownActions,\\r\\n\\r\\n                lastKnownAction =\\r\\n                    knownActionsForClip[ knownActionsForClip.length - 1 ],\\r\\n\\r\\n                byClipCacheIndex = action._byClipCacheIndex;\\r\\n\\r\\n            lastKnownAction._byClipCacheIndex = byClipCacheIndex;\\r\\n            knownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\\r\\n            knownActionsForClip.pop();\\r\\n\\r\\n            action._byClipCacheIndex = null;\\r\\n\\r\\n\\r\\n            var actionByRoot = actionsForClip.actionByRoot,\\r\\n                rootUuid = ( action._localRoot || this._root ).uuid;\\r\\n\\r\\n            delete actionByRoot[ rootUuid ];\\r\\n\\r\\n            if ( knownActionsForClip.length === 0 ) {\\r\\n\\r\\n                delete actionsByClip[ clipUuid ];\\r\\n\\r\\n            }\\r\\n\\r\\n            this._removeInactiveBindingsForAction( action );\\r\\n\\r\\n        },\\r\\n\\r\\n        _removeInactiveBindingsForAction: function ( action ) {\\r\\n\\r\\n            var bindings = action._propertyBindings;\\r\\n            for ( var i = 0, n = bindings.length; i !== n; ++ i ) {\\r\\n\\r\\n                var binding = bindings[ i ];\\r\\n\\r\\n                if ( -- binding.referenceCount === 0 ) {\\r\\n\\r\\n                    this._removeInactiveBinding( binding );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _lendAction: function ( action ) {\\r\\n\\r\\n            // [ active actions |  inactive actions  ]\\r\\n            // [  active actions >| inactive actions ]\\r\\n            //                 s        a\\r\\n            //                  <-swap->\\r\\n            //                 a        s\\r\\n\\r\\n            var actions = this._actions,\\r\\n                prevIndex = action._cacheIndex,\\r\\n\\r\\n                lastActiveIndex = this._nActiveActions ++,\\r\\n\\r\\n                firstInactiveAction = actions[ lastActiveIndex ];\\r\\n\\r\\n            action._cacheIndex = lastActiveIndex;\\r\\n            actions[ lastActiveIndex ] = action;\\r\\n\\r\\n            firstInactiveAction._cacheIndex = prevIndex;\\r\\n            actions[ prevIndex ] = firstInactiveAction;\\r\\n\\r\\n        },\\r\\n\\r\\n        _takeBackAction: function ( action ) {\\r\\n\\r\\n            // [  active actions  | inactive actions ]\\r\\n            // [ active actions |< inactive actions  ]\\r\\n            //        a        s\\r\\n            //         <-swap->\\r\\n            //        s        a\\r\\n\\r\\n            var actions = this._actions,\\r\\n                prevIndex = action._cacheIndex,\\r\\n\\r\\n                firstInactiveIndex = -- this._nActiveActions,\\r\\n\\r\\n                lastActiveAction = actions[ firstInactiveIndex ];\\r\\n\\r\\n            action._cacheIndex = firstInactiveIndex;\\r\\n            actions[ firstInactiveIndex ] = action;\\r\\n\\r\\n            lastActiveAction._cacheIndex = prevIndex;\\r\\n            actions[ prevIndex ] = lastActiveAction;\\r\\n\\r\\n        },\\r\\n\\r\\n        // Memory management for PropertyMixer objects\\r\\n\\r\\n        _addInactiveBinding: function ( binding, rootUuid, trackName ) {\\r\\n\\r\\n            var bindingsByRoot = this._bindingsByRootAndName,\\r\\n                bindingByName = bindingsByRoot[ rootUuid ],\\r\\n\\r\\n                bindings = this._bindings;\\r\\n\\r\\n            if ( bindingByName === undefined ) {\\r\\n\\r\\n                bindingByName = {};\\r\\n                bindingsByRoot[ rootUuid ] = bindingByName;\\r\\n\\r\\n            }\\r\\n\\r\\n            bindingByName[ trackName ] = binding;\\r\\n\\r\\n            binding._cacheIndex = bindings.length;\\r\\n            bindings.push( binding );\\r\\n\\r\\n        },\\r\\n\\r\\n        _removeInactiveBinding: function ( binding ) {\\r\\n\\r\\n            var bindings = this._bindings,\\r\\n                propBinding = binding.binding,\\r\\n                rootUuid = propBinding.rootNode.uuid,\\r\\n                trackName = propBinding.path,\\r\\n                bindingsByRoot = this._bindingsByRootAndName,\\r\\n                bindingByName = bindingsByRoot[ rootUuid ],\\r\\n\\r\\n                lastInactiveBinding = bindings[ bindings.length - 1 ],\\r\\n                cacheIndex = binding._cacheIndex;\\r\\n\\r\\n            lastInactiveBinding._cacheIndex = cacheIndex;\\r\\n            bindings[ cacheIndex ] = lastInactiveBinding;\\r\\n            bindings.pop();\\r\\n\\r\\n            delete bindingByName[ trackName ];\\r\\n\\r\\n            remove_empty_map: {\\r\\n\\r\\n                for ( var _ in bindingByName ) break remove_empty_map; // eslint-disable-line no-unused-vars\\r\\n\\r\\n                delete bindingsByRoot[ rootUuid ];\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        _lendBinding: function ( binding ) {\\r\\n\\r\\n            var bindings = this._bindings,\\r\\n                prevIndex = binding._cacheIndex,\\r\\n\\r\\n                lastActiveIndex = this._nActiveBindings ++,\\r\\n\\r\\n                firstInactiveBinding = bindings[ lastActiveIndex ];\\r\\n\\r\\n            binding._cacheIndex = lastActiveIndex;\\r\\n            bindings[ lastActiveIndex ] = binding;\\r\\n\\r\\n            firstInactiveBinding._cacheIndex = prevIndex;\\r\\n            bindings[ prevIndex ] = firstInactiveBinding;\\r\\n\\r\\n        },\\r\\n\\r\\n        _takeBackBinding: function ( binding ) {\\r\\n\\r\\n            var bindings = this._bindings,\\r\\n                prevIndex = binding._cacheIndex,\\r\\n\\r\\n                firstInactiveIndex = -- this._nActiveBindings,\\r\\n\\r\\n                lastActiveBinding = bindings[ firstInactiveIndex ];\\r\\n\\r\\n            binding._cacheIndex = firstInactiveIndex;\\r\\n            bindings[ firstInactiveIndex ] = binding;\\r\\n\\r\\n            lastActiveBinding._cacheIndex = prevIndex;\\r\\n            bindings[ prevIndex ] = lastActiveBinding;\\r\\n\\r\\n        },\\r\\n\\r\\n\\r\\n        // Memory management of Interpolants for weight and time scale\\r\\n\\r\\n        _lendControlInterpolant: function () {\\r\\n\\r\\n            var interpolants = this._controlInterpolants,\\r\\n                lastActiveIndex = this._nActiveControlInterpolants ++,\\r\\n                interpolant = interpolants[ lastActiveIndex ];\\r\\n\\r\\n            if ( interpolant === undefined ) {\\r\\n\\r\\n                interpolant = new LinearInterpolant(\\r\\n                    new Float32Array( 2 ), new Float32Array( 2 ),\\r\\n                    1, this._controlInterpolantsResultBuffer );\\r\\n\\r\\n                interpolant.__cacheIndex = lastActiveIndex;\\r\\n                interpolants[ lastActiveIndex ] = interpolant;\\r\\n\\r\\n            }\\r\\n\\r\\n            return interpolant;\\r\\n\\r\\n        },\\r\\n\\r\\n        _takeBackControlInterpolant: function ( interpolant ) {\\r\\n\\r\\n            var interpolants = this._controlInterpolants,\\r\\n                prevIndex = interpolant.__cacheIndex,\\r\\n\\r\\n                firstInactiveIndex = -- this._nActiveControlInterpolants,\\r\\n\\r\\n                lastActiveInterpolant = interpolants[ firstInactiveIndex ];\\r\\n\\r\\n            interpolant.__cacheIndex = firstInactiveIndex;\\r\\n            interpolants[ firstInactiveIndex ] = interpolant;\\r\\n\\r\\n            lastActiveInterpolant.__cacheIndex = prevIndex;\\r\\n            interpolants[ prevIndex ] = lastActiveInterpolant;\\r\\n\\r\\n        },\\r\\n\\r\\n        _controlInterpolantsResultBuffer: new Float32Array( 1 ),\\r\\n\\r\\n        // return an action for a clip optionally using a custom root target\\r\\n        // object (this method allocates a lot of dynamic memory in case a\\r\\n        // previously unknown clip/root combination is specified)\\r\\n        clipAction: function ( clip, optionalRoot ) {\\r\\n\\r\\n            var root = optionalRoot || this._root,\\r\\n                rootUuid = root.uuid,\\r\\n\\r\\n                clipObject = typeof clip === 'string' ?\\r\\n                    AnimationClip.findByName( root, clip ) : clip,\\r\\n\\r\\n                clipUuid = clipObject !== null ? clipObject.uuid : clip,\\r\\n\\r\\n                actionsForClip = this._actionsByClip[ clipUuid ],\\r\\n                prototypeAction = null;\\r\\n\\r\\n            if ( actionsForClip !== undefined ) {\\r\\n\\r\\n                var existingAction =\\r\\n                    actionsForClip.actionByRoot[ rootUuid ];\\r\\n\\r\\n                if ( existingAction !== undefined ) {\\r\\n\\r\\n                    return existingAction;\\r\\n\\r\\n                }\\r\\n\\r\\n                // we know the clip, so we don't have to parse all\\r\\n                // the bindings again but can just copy\\r\\n                prototypeAction = actionsForClip.knownActions[ 0 ];\\r\\n\\r\\n                // also, take the clip from the prototype action\\r\\n                if ( clipObject === null )\\r\\n                    clipObject = prototypeAction._clip;\\r\\n\\r\\n            }\\r\\n\\r\\n            // clip must be known when specified via string\\r\\n            if ( clipObject === null ) return null;\\r\\n\\r\\n            // allocate all resources required to run it\\r\\n            var newAction = new AnimationAction( this, clipObject, optionalRoot );\\r\\n\\r\\n            this._bindAction( newAction, prototypeAction );\\r\\n\\r\\n            // and make the action known to the memory manager\\r\\n            this._addInactiveAction( newAction, clipUuid, rootUuid );\\r\\n\\r\\n            return newAction;\\r\\n\\r\\n        },\\r\\n\\r\\n        // get an existing action\\r\\n        existingAction: function ( clip, optionalRoot ) {\\r\\n\\r\\n            var root = optionalRoot || this._root,\\r\\n                rootUuid = root.uuid,\\r\\n\\r\\n                clipObject = typeof clip === 'string' ?\\r\\n                    AnimationClip.findByName( root, clip ) : clip,\\r\\n\\r\\n                clipUuid = clipObject ? clipObject.uuid : clip,\\r\\n\\r\\n                actionsForClip = this._actionsByClip[ clipUuid ];\\r\\n\\r\\n            if ( actionsForClip !== undefined ) {\\r\\n\\r\\n                return actionsForClip.actionByRoot[ rootUuid ] || null;\\r\\n\\r\\n            }\\r\\n\\r\\n            return null;\\r\\n\\r\\n        },\\r\\n\\r\\n        // deactivates all previously scheduled actions\\r\\n        stopAllAction: function () {\\r\\n\\r\\n            var actions = this._actions,\\r\\n                nActions = this._nActiveActions,\\r\\n                bindings = this._bindings,\\r\\n                nBindings = this._nActiveBindings;\\r\\n\\r\\n            this._nActiveActions = 0;\\r\\n            this._nActiveBindings = 0;\\r\\n\\r\\n            for ( var i = 0; i !== nActions; ++ i ) {\\r\\n\\r\\n                actions[ i ].reset();\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0; i !== nBindings; ++ i ) {\\r\\n\\r\\n                bindings[ i ].useCount = 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // advance the time and update apply the animation\\r\\n        update: function ( deltaTime ) {\\r\\n\\r\\n            deltaTime *= this.timeScale;\\r\\n\\r\\n            var actions = this._actions,\\r\\n                nActions = this._nActiveActions,\\r\\n\\r\\n                time = this.time += deltaTime,\\r\\n                timeDirection = Math.sign( deltaTime ),\\r\\n\\r\\n                accuIndex = this._accuIndex ^= 1;\\r\\n\\r\\n            // run active actions\\r\\n\\r\\n            for ( var i = 0; i !== nActions; ++ i ) {\\r\\n\\r\\n                var action = actions[ i ];\\r\\n\\r\\n                action._update( time, deltaTime, timeDirection, accuIndex );\\r\\n\\r\\n            }\\r\\n\\r\\n            // update scene graph\\r\\n\\r\\n            var bindings = this._bindings,\\r\\n                nBindings = this._nActiveBindings;\\r\\n\\r\\n            for ( var i = 0; i !== nBindings; ++ i ) {\\r\\n\\r\\n                bindings[ i ].apply( accuIndex );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // return this mixer's root target object\\r\\n        getRoot: function () {\\r\\n\\r\\n            return this._root;\\r\\n\\r\\n        },\\r\\n\\r\\n        // free all resources specific to a particular clip\\r\\n        uncacheClip: function ( clip ) {\\r\\n\\r\\n            var actions = this._actions,\\r\\n                clipUuid = clip.uuid,\\r\\n                actionsByClip = this._actionsByClip,\\r\\n                actionsForClip = actionsByClip[ clipUuid ];\\r\\n\\r\\n            if ( actionsForClip !== undefined ) {\\r\\n\\r\\n                // note: just calling _removeInactiveAction would mess up the\\r\\n                // iteration state and also require updating the state we can\\r\\n                // just throw away\\r\\n\\r\\n                var actionsToRemove = actionsForClip.knownActions;\\r\\n\\r\\n                for ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\\r\\n\\r\\n                    var action = actionsToRemove[ i ];\\r\\n\\r\\n                    this._deactivateAction( action );\\r\\n\\r\\n                    var cacheIndex = action._cacheIndex,\\r\\n                        lastInactiveAction = actions[ actions.length - 1 ];\\r\\n\\r\\n                    action._cacheIndex = null;\\r\\n                    action._byClipCacheIndex = null;\\r\\n\\r\\n                    lastInactiveAction._cacheIndex = cacheIndex;\\r\\n                    actions[ cacheIndex ] = lastInactiveAction;\\r\\n                    actions.pop();\\r\\n\\r\\n                    this._removeInactiveBindingsForAction( action );\\r\\n\\r\\n                }\\r\\n\\r\\n                delete actionsByClip[ clipUuid ];\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        // free all resources specific to a particular root target object\\r\\n        uncacheRoot: function ( root ) {\\r\\n\\r\\n            var rootUuid = root.uuid,\\r\\n                actionsByClip = this._actionsByClip;\\r\\n\\r\\n            for ( var clipUuid in actionsByClip ) {\\r\\n\\r\\n                var actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\\r\\n                    action = actionByRoot[ rootUuid ];\\r\\n\\r\\n                if ( action !== undefined ) {\\r\\n\\r\\n                    this._deactivateAction( action );\\r\\n                    this._removeInactiveAction( action );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            var bindingsByRoot = this._bindingsByRootAndName,\\r\\n                bindingByName = bindingsByRoot[ rootUuid ];\\r\\n\\r\\n            if ( bindingByName !== undefined ) {\\r\\n\\r\\n                for ( var trackName in bindingByName ) {\\r\\n\\r\\n                    var binding = bindingByName[ trackName ];\\r\\n                    binding.restoreOriginalState();\\r\\n                    this._removeInactiveBinding( binding );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        // remove a targeted clip from the cache\\r\\n        uncacheAction: function ( clip, optionalRoot ) {\\r\\n\\r\\n            var action = this.existingAction( clip, optionalRoot );\\r\\n\\r\\n            if ( action !== null ) {\\r\\n\\r\\n                this._deactivateAction( action );\\r\\n                this._removeInactiveAction( action );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Uniform( value ) {\\r\\n\\r\\n        if ( typeof value === 'string' ) {\\r\\n\\r\\n            console.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\\r\\n            value = arguments[ 1 ];\\r\\n\\r\\n        }\\r\\n\\r\\n        this.value = value;\\r\\n\\r\\n    }\\r\\n\\r\\n    Uniform.prototype.clone = function () {\\r\\n\\r\\n        return new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     */\\r\\n\\r\\n    function InstancedBufferGeometry() {\\r\\n\\r\\n        BufferGeometry.call( this );\\r\\n\\r\\n        this.type = 'InstancedBufferGeometry';\\r\\n        this.maxInstancedCount = undefined;\\r\\n\\r\\n    }\\r\\n\\r\\n    InstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\\r\\n\\r\\n        constructor: InstancedBufferGeometry,\\r\\n\\r\\n        isInstancedBufferGeometry: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            BufferGeometry.prototype.copy.call( this, source );\\r\\n\\r\\n            this.maxInstancedCount = source.maxInstancedCount;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     */\\r\\n\\r\\n    function InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\\r\\n\\r\\n        InterleavedBuffer.call( this, array, stride );\\r\\n\\r\\n        this.meshPerAttribute = meshPerAttribute || 1;\\r\\n\\r\\n    }\\r\\n\\r\\n    InstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\\r\\n\\r\\n        constructor: InstancedInterleavedBuffer,\\r\\n\\r\\n        isInstancedInterleavedBuffer: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            InterleavedBuffer.prototype.copy.call( this, source );\\r\\n\\r\\n            this.meshPerAttribute = source.meshPerAttribute;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author benaadams / https://twitter.com/ben_a_adams\\r\\n     */\\r\\n\\r\\n    function InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\\r\\n\\r\\n        if ( typeof ( normalized ) === 'number' ) {\\r\\n\\r\\n            meshPerAttribute = normalized;\\r\\n\\r\\n            normalized = false;\\r\\n\\r\\n            console.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        BufferAttribute.call( this, array, itemSize, normalized );\\r\\n\\r\\n        this.meshPerAttribute = meshPerAttribute || 1;\\r\\n\\r\\n    }\\r\\n\\r\\n    InstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\\r\\n\\r\\n        constructor: InstancedBufferAttribute,\\r\\n\\r\\n        isInstancedBufferAttribute: true,\\r\\n\\r\\n        copy: function ( source ) {\\r\\n\\r\\n            BufferAttribute.prototype.copy.call( this, source );\\r\\n\\r\\n            this.meshPerAttribute = source.meshPerAttribute;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author bhouston / http://clara.io/\\r\\n     * @author stephomi / http://stephaneginier.com/\\r\\n     */\\r\\n\\r\\n    function Raycaster( origin, direction, near, far ) {\\r\\n\\r\\n        this.ray = new Ray( origin, direction );\\r\\n        // direction is assumed to be normalized (for accurate distance calculations)\\r\\n\\r\\n        this.near = near || 0;\\r\\n        this.far = far || Infinity;\\r\\n\\r\\n        this.params = {\\r\\n            Mesh: {},\\r\\n            Line: {},\\r\\n            LOD: {},\\r\\n            Points: { threshold: 1 },\\r\\n            Sprite: {}\\r\\n        };\\r\\n\\r\\n        Object.defineProperties( this.params, {\\r\\n            PointCloud: {\\r\\n                get: function () {\\r\\n\\r\\n                    console.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\\r\\n                    return this.Points;\\r\\n\\r\\n                }\\r\\n            }\\r\\n        } );\\r\\n\\r\\n    }\\r\\n\\r\\n    function ascSort( a, b ) {\\r\\n\\r\\n        return a.distance - b.distance;\\r\\n\\r\\n    }\\r\\n\\r\\n    function intersectObject( object, raycaster, intersects, recursive ) {\\r\\n\\r\\n        if ( object.visible === false ) return;\\r\\n\\r\\n        object.raycast( raycaster, intersects );\\r\\n\\r\\n        if ( recursive === true ) {\\r\\n\\r\\n            var children = object.children;\\r\\n\\r\\n            for ( var i = 0, l = children.length; i < l; i ++ ) {\\r\\n\\r\\n                intersectObject( children[ i ], raycaster, intersects, true );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Raycaster.prototype, {\\r\\n\\r\\n        linePrecision: 1,\\r\\n\\r\\n        set: function ( origin, direction ) {\\r\\n\\r\\n            // direction is assumed to be normalized (for accurate distance calculations)\\r\\n\\r\\n            this.ray.set( origin, direction );\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCamera: function ( coords, camera ) {\\r\\n\\r\\n            if ( ( camera && camera.isPerspectiveCamera ) ) {\\r\\n\\r\\n                this.ray.origin.setFromMatrixPosition( camera.matrixWorld );\\r\\n                this.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\\r\\n\\r\\n            } else if ( ( camera && camera.isOrthographicCamera ) ) {\\r\\n\\r\\n                this.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\\r\\n                this.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                console.error( 'THREE.Raycaster: Unsupported camera type.' );\\r\\n\\r\\n            }\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectObject: function ( object, recursive, optionalTarget ) {\\r\\n\\r\\n            var intersects = optionalTarget || [];\\r\\n\\r\\n            intersectObject( object, this, intersects, recursive );\\r\\n\\r\\n            intersects.sort( ascSort );\\r\\n\\r\\n            return intersects;\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectObjects: function ( objects, recursive, optionalTarget ) {\\r\\n\\r\\n            var intersects = optionalTarget || [];\\r\\n\\r\\n            if ( Array.isArray( objects ) === false ) {\\r\\n\\r\\n                console.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\\r\\n                return intersects;\\r\\n\\r\\n            }\\r\\n\\r\\n            for ( var i = 0, l = objects.length; i < l; i ++ ) {\\r\\n\\r\\n                intersectObject( objects[ i ], this, intersects, recursive );\\r\\n\\r\\n            }\\r\\n\\r\\n            intersects.sort( ascSort );\\r\\n\\r\\n            return intersects;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function Clock( autoStart ) {\\r\\n\\r\\n        this.autoStart = ( autoStart !== undefined ) ? autoStart : true;\\r\\n\\r\\n        this.startTime = 0;\\r\\n        this.oldTime = 0;\\r\\n        this.elapsedTime = 0;\\r\\n\\r\\n        this.running = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Clock.prototype, {\\r\\n\\r\\n        start: function () {\\r\\n\\r\\n            this.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\\r\\n\\r\\n            this.oldTime = this.startTime;\\r\\n            this.elapsedTime = 0;\\r\\n            this.running = true;\\r\\n\\r\\n        },\\r\\n\\r\\n        stop: function () {\\r\\n\\r\\n            this.getElapsedTime();\\r\\n            this.running = false;\\r\\n            this.autoStart = false;\\r\\n\\r\\n        },\\r\\n\\r\\n        getElapsedTime: function () {\\r\\n\\r\\n            this.getDelta();\\r\\n            return this.elapsedTime;\\r\\n\\r\\n        },\\r\\n\\r\\n        getDelta: function () {\\r\\n\\r\\n            var diff = 0;\\r\\n\\r\\n            if ( this.autoStart && ! this.running ) {\\r\\n\\r\\n                this.start();\\r\\n                return 0;\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.running ) {\\r\\n\\r\\n                var newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\\r\\n\\r\\n                diff = ( newTime - this.oldTime ) / 1000;\\r\\n                this.oldTime = newTime;\\r\\n\\r\\n                this.elapsedTime += diff;\\r\\n\\r\\n            }\\r\\n\\r\\n            return diff;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     *\\r\\n     * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\\r\\n     *\\r\\n     * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\\r\\n     * The azimuthal angle (theta) is measured from the positive z-axiz.\\r\\n     */\\r\\n\\r\\n    function Spherical( radius, phi, theta ) {\\r\\n\\r\\n        this.radius = ( radius !== undefined ) ? radius : 1.0;\\r\\n        this.phi = ( phi !== undefined ) ? phi : 0; // polar angle\\r\\n        this.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\\r\\n\\r\\n        return this;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Spherical.prototype, {\\r\\n\\r\\n        set: function ( radius, phi, theta ) {\\r\\n\\r\\n            this.radius = radius;\\r\\n            this.phi = phi;\\r\\n            this.theta = theta;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( other ) {\\r\\n\\r\\n            this.radius = other.radius;\\r\\n            this.phi = other.phi;\\r\\n            this.theta = other.theta;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        // restrict phi to be betwee EPS and PI-EPS\\r\\n        makeSafe: function () {\\r\\n\\r\\n            var EPS = 0.000001;\\r\\n            this.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromVector3: function ( v ) {\\r\\n\\r\\n            return this.setFromCartesianCoords( v.x, v.y, v.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCartesianCoords: function ( x, y, z ) {\\r\\n\\r\\n            this.radius = Math.sqrt( x * x + y * y + z * z );\\r\\n\\r\\n            if ( this.radius === 0 ) {\\r\\n\\r\\n                this.theta = 0;\\r\\n                this.phi = 0;\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.theta = Math.atan2( x, z );\\r\\n                this.phi = Math.acos( _Math.clamp( y / this.radius, - 1, 1 ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     *\\r\\n     * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\\r\\n     *\\r\\n     */\\r\\n\\r\\n    function Cylindrical( radius, theta, y ) {\\r\\n\\r\\n        this.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\\r\\n        this.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\\r\\n        this.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\\r\\n\\r\\n        return this;\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Cylindrical.prototype, {\\r\\n\\r\\n        set: function ( radius, theta, y ) {\\r\\n\\r\\n            this.radius = radius;\\r\\n            this.theta = theta;\\r\\n            this.y = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( other ) {\\r\\n\\r\\n            this.radius = other.radius;\\r\\n            this.theta = other.theta;\\r\\n            this.y = other.y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromVector3: function ( v ) {\\r\\n\\r\\n            return this.setFromCartesianCoords( v.x, v.y, v.z );\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCartesianCoords: function ( x, y, z ) {\\r\\n\\r\\n            this.radius = Math.sqrt( x * x + z * z );\\r\\n            this.theta = Math.atan2( x, z );\\r\\n            this.y = y;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Box2( min, max ) {\\r\\n\\r\\n        this.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\\r\\n        this.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Box2.prototype, {\\r\\n\\r\\n        set: function ( min, max ) {\\r\\n\\r\\n            this.min.copy( min );\\r\\n            this.max.copy( max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromPoints: function ( points ) {\\r\\n\\r\\n            this.makeEmpty();\\r\\n\\r\\n            for ( var i = 0, il = points.length; i < il; i ++ ) {\\r\\n\\r\\n                this.expandByPoint( points[ i ] );\\r\\n\\r\\n            }\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        setFromCenterAndSize: function () {\\r\\n\\r\\n            var v1 = new Vector2();\\r\\n\\r\\n            return function setFromCenterAndSize( center, size ) {\\r\\n\\r\\n                var halfSize = v1.copy( size ).multiplyScalar( 0.5 );\\r\\n                this.min.copy( center ).sub( halfSize );\\r\\n                this.max.copy( center ).add( halfSize );\\r\\n\\r\\n                return this;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( box ) {\\r\\n\\r\\n            this.min.copy( box.min );\\r\\n            this.max.copy( box.max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        makeEmpty: function () {\\r\\n\\r\\n            this.min.x = this.min.y = + Infinity;\\r\\n            this.max.x = this.max.y = - Infinity;\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        isEmpty: function () {\\r\\n\\r\\n            // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\\r\\n\\r\\n            return ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\\r\\n\\r\\n        },\\r\\n\\r\\n        getCenter: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box2: .getCenter() target is now required' );\\r\\n                target = new Vector2();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\\r\\n\\r\\n        },\\r\\n\\r\\n        getSize: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box2: .getSize() target is now required' );\\r\\n                target = new Vector2();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByPoint: function ( point ) {\\r\\n\\r\\n            this.min.min( point );\\r\\n            this.max.max( point );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByVector: function ( vector ) {\\r\\n\\r\\n            this.min.sub( vector );\\r\\n            this.max.add( vector );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        expandByScalar: function ( scalar ) {\\r\\n\\r\\n            this.min.addScalar( - scalar );\\r\\n            this.max.addScalar( scalar );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        containsPoint: function ( point ) {\\r\\n\\r\\n            return point.x < this.min.x || point.x > this.max.x ||\\r\\n            point.y < this.min.y || point.y > this.max.y ? false : true;\\r\\n\\r\\n        },\\r\\n\\r\\n        containsBox: function ( box ) {\\r\\n\\r\\n            return this.min.x <= box.min.x && box.max.x <= this.max.x &&\\r\\n                this.min.y <= box.min.y && box.max.y <= this.max.y;\\r\\n\\r\\n        },\\r\\n\\r\\n        getParameter: function ( point, target ) {\\r\\n\\r\\n            // This can potentially have a divide by zero if the box\\r\\n            // has a size dimension of 0.\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box2: .getParameter() target is now required' );\\r\\n                target = new Vector2();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.set(\\r\\n                ( point.x - this.min.x ) / ( this.max.x - this.min.x ),\\r\\n                ( point.y - this.min.y ) / ( this.max.y - this.min.y )\\r\\n            );\\r\\n\\r\\n        },\\r\\n\\r\\n        intersectsBox: function ( box ) {\\r\\n\\r\\n            // using 4 splitting planes to rule out intersections\\r\\n\\r\\n            return box.max.x < this.min.x || box.min.x > this.max.x ||\\r\\n            box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\\r\\n\\r\\n        },\\r\\n\\r\\n        clampPoint: function ( point, target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Box2: .clampPoint() target is now required' );\\r\\n                target = new Vector2();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.copy( point ).clamp( this.min, this.max );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceToPoint: function () {\\r\\n\\r\\n            var v1 = new Vector2();\\r\\n\\r\\n            return function distanceToPoint( point ) {\\r\\n\\r\\n                var clampedPoint = v1.copy( point ).clamp( this.min, this.max );\\r\\n                return clampedPoint.sub( point ).length();\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        intersect: function ( box ) {\\r\\n\\r\\n            this.min.max( box.min );\\r\\n            this.max.min( box.max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        union: function ( box ) {\\r\\n\\r\\n            this.min.min( box.min );\\r\\n            this.max.max( box.max );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        translate: function ( offset ) {\\r\\n\\r\\n            this.min.add( offset );\\r\\n            this.max.add( offset );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( box ) {\\r\\n\\r\\n            return box.min.equals( this.min ) && box.max.equals( this.max );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author bhouston / http://clara.io\\r\\n     */\\r\\n\\r\\n    function Line3( start, end ) {\\r\\n\\r\\n        this.start = ( start !== undefined ) ? start : new Vector3();\\r\\n        this.end = ( end !== undefined ) ? end : new Vector3();\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( Line3.prototype, {\\r\\n\\r\\n        set: function ( start, end ) {\\r\\n\\r\\n            this.start.copy( start );\\r\\n            this.end.copy( end );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        clone: function () {\\r\\n\\r\\n            return new this.constructor().copy( this );\\r\\n\\r\\n        },\\r\\n\\r\\n        copy: function ( line ) {\\r\\n\\r\\n            this.start.copy( line.start );\\r\\n            this.end.copy( line.end );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        getCenter: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Line3: .getCenter() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\\r\\n\\r\\n        },\\r\\n\\r\\n        delta: function ( target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Line3: .delta() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return target.subVectors( this.end, this.start );\\r\\n\\r\\n        },\\r\\n\\r\\n        distanceSq: function () {\\r\\n\\r\\n            return this.start.distanceToSquared( this.end );\\r\\n\\r\\n        },\\r\\n\\r\\n        distance: function () {\\r\\n\\r\\n            return this.start.distanceTo( this.end );\\r\\n\\r\\n        },\\r\\n\\r\\n        at: function ( t, target ) {\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Line3: .at() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.delta( target ).multiplyScalar( t ).add( this.start );\\r\\n\\r\\n        },\\r\\n\\r\\n        closestPointToPointParameter: function () {\\r\\n\\r\\n            var startP = new Vector3();\\r\\n            var startEnd = new Vector3();\\r\\n\\r\\n            return function closestPointToPointParameter( point, clampToLine ) {\\r\\n\\r\\n                startP.subVectors( point, this.start );\\r\\n                startEnd.subVectors( this.end, this.start );\\r\\n\\r\\n                var startEnd2 = startEnd.dot( startEnd );\\r\\n                var startEnd_startP = startEnd.dot( startP );\\r\\n\\r\\n                var t = startEnd_startP / startEnd2;\\r\\n\\r\\n                if ( clampToLine ) {\\r\\n\\r\\n                    t = _Math.clamp( t, 0, 1 );\\r\\n\\r\\n                }\\r\\n\\r\\n                return t;\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n\\r\\n        closestPointToPoint: function ( point, clampToLine, target ) {\\r\\n\\r\\n            var t = this.closestPointToPointParameter( point, clampToLine );\\r\\n\\r\\n            if ( target === undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\\r\\n                target = new Vector3();\\r\\n\\r\\n            }\\r\\n\\r\\n            return this.delta( target ).multiplyScalar( t ).add( this.start );\\r\\n\\r\\n        },\\r\\n\\r\\n        applyMatrix4: function ( matrix ) {\\r\\n\\r\\n            this.start.applyMatrix4( matrix );\\r\\n            this.end.applyMatrix4( matrix );\\r\\n\\r\\n            return this;\\r\\n\\r\\n        },\\r\\n\\r\\n        equals: function ( line ) {\\r\\n\\r\\n            return line.start.equals( this.start ) && line.end.equals( this.end );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     */\\r\\n\\r\\n    function ImmediateRenderObject( material ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.material = material;\\r\\n        this.render = function ( /* renderCallback */ ) {};\\r\\n\\r\\n    }\\r\\n\\r\\n    ImmediateRenderObject.prototype = Object.create( Object3D.prototype );\\r\\n    ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\\r\\n\\r\\n    ImmediateRenderObject.prototype.isImmediateRenderObject = true;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function VertexNormalsHelper( object, size, hex, linewidth ) {\\r\\n\\r\\n        this.object = object;\\r\\n\\r\\n        this.size = ( size !== undefined ) ? size : 1;\\r\\n\\r\\n        var color = ( hex !== undefined ) ? hex : 0xff0000;\\r\\n\\r\\n        var width = ( linewidth !== undefined ) ? linewidth : 1;\\r\\n\\r\\n        //\\r\\n\\r\\n        var nNormals = 0;\\r\\n\\r\\n        var objGeometry = this.object.geometry;\\r\\n\\r\\n        if ( objGeometry && objGeometry.isGeometry ) {\\r\\n\\r\\n            nNormals = objGeometry.faces.length * 3;\\r\\n\\r\\n        } else if ( objGeometry && objGeometry.isBufferGeometry ) {\\r\\n\\r\\n            nNormals = objGeometry.attributes.normal.count;\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n\\r\\n        var positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\\r\\n\\r\\n        geometry.addAttribute( 'position', positions );\\r\\n\\r\\n        LineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\\r\\n\\r\\n        //\\r\\n\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    VertexNormalsHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    VertexNormalsHelper.prototype.constructor = VertexNormalsHelper;\\r\\n\\r\\n    VertexNormalsHelper.prototype.update = ( function () {\\r\\n\\r\\n        var v1 = new Vector3();\\r\\n        var v2 = new Vector3();\\r\\n        var normalMatrix = new Matrix3();\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            var keys = [ 'a', 'b', 'c' ];\\r\\n\\r\\n            this.object.updateMatrixWorld( true );\\r\\n\\r\\n            normalMatrix.getNormalMatrix( this.object.matrixWorld );\\r\\n\\r\\n            var matrixWorld = this.object.matrixWorld;\\r\\n\\r\\n            var position = this.geometry.attributes.position;\\r\\n\\r\\n            //\\r\\n\\r\\n            var objGeometry = this.object.geometry;\\r\\n\\r\\n            if ( objGeometry && objGeometry.isGeometry ) {\\r\\n\\r\\n                var vertices = objGeometry.vertices;\\r\\n\\r\\n                var faces = objGeometry.faces;\\r\\n\\r\\n                var idx = 0;\\r\\n\\r\\n                for ( var i = 0, l = faces.length; i < l; i ++ ) {\\r\\n\\r\\n                    var face = faces[ i ];\\r\\n\\r\\n                    for ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\\r\\n\\r\\n                        var vertex = vertices[ face[ keys[ j ] ] ];\\r\\n\\r\\n                        var normal = face.vertexNormals[ j ];\\r\\n\\r\\n                        v1.copy( vertex ).applyMatrix4( matrixWorld );\\r\\n\\r\\n                        v2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\\r\\n\\r\\n                        position.setXYZ( idx, v1.x, v1.y, v1.z );\\r\\n\\r\\n                        idx = idx + 1;\\r\\n\\r\\n                        position.setXYZ( idx, v2.x, v2.y, v2.z );\\r\\n\\r\\n                        idx = idx + 1;\\r\\n\\r\\n                    }\\r\\n\\r\\n                }\\r\\n\\r\\n            } else if ( objGeometry && objGeometry.isBufferGeometry ) {\\r\\n\\r\\n                var objPos = objGeometry.attributes.position;\\r\\n\\r\\n                var objNorm = objGeometry.attributes.normal;\\r\\n\\r\\n                var idx = 0;\\r\\n\\r\\n                // for simplicity, ignore index and drawcalls, and render every normal\\r\\n\\r\\n                for ( var j = 0, jl = objPos.count; j < jl; j ++ ) {\\r\\n\\r\\n                    v1.set( objPos.getX( j ), objPos.getY( j ), objPos.getZ( j ) ).applyMatrix4( matrixWorld );\\r\\n\\r\\n                    v2.set( objNorm.getX( j ), objNorm.getY( j ), objNorm.getZ( j ) );\\r\\n\\r\\n                    v2.applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\\r\\n\\r\\n                    position.setXYZ( idx, v1.x, v1.y, v1.z );\\r\\n\\r\\n                    idx = idx + 1;\\r\\n\\r\\n                    position.setXYZ( idx, v2.x, v2.y, v2.z );\\r\\n\\r\\n                    idx = idx + 1;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            position.needsUpdate = true;\\r\\n\\r\\n        };\\r\\n\\r\\n    }() );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function SpotLightHelper( light, color ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.light = light;\\r\\n        this.light.updateMatrixWorld();\\r\\n\\r\\n        this.matrix = light.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.color = color;\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n\\r\\n        var positions = [\\r\\n            0, 0, 0, \\t0, 0, 1,\\r\\n            0, 0, 0, \\t1, 0, 1,\\r\\n            0, 0, 0,\\t- 1, 0, 1,\\r\\n            0, 0, 0, \\t0, 1, 1,\\r\\n            0, 0, 0, \\t0, - 1, 1\\r\\n        ];\\r\\n\\r\\n        for ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\\r\\n\\r\\n            var p1 = ( i / l ) * Math.PI * 2;\\r\\n            var p2 = ( j / l ) * Math.PI * 2;\\r\\n\\r\\n            positions.push(\\r\\n                Math.cos( p1 ), Math.sin( p1 ), 1,\\r\\n                Math.cos( p2 ), Math.sin( p2 ), 1\\r\\n            );\\r\\n\\r\\n        }\\r\\n\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\\r\\n\\r\\n        var material = new LineBasicMaterial( { fog: false } );\\r\\n\\r\\n        this.cone = new LineSegments( geometry, material );\\r\\n        this.add( this.cone );\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    SpotLightHelper.prototype = Object.create( Object3D.prototype );\\r\\n    SpotLightHelper.prototype.constructor = SpotLightHelper;\\r\\n\\r\\n    SpotLightHelper.prototype.dispose = function () {\\r\\n\\r\\n        this.cone.geometry.dispose();\\r\\n        this.cone.material.dispose();\\r\\n\\r\\n    };\\r\\n\\r\\n    SpotLightHelper.prototype.update = function () {\\r\\n\\r\\n        var vector = new Vector3();\\r\\n        var vector2 = new Vector3();\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            this.light.updateMatrixWorld();\\r\\n\\r\\n            var coneLength = this.light.distance ? this.light.distance : 1000;\\r\\n            var coneWidth = coneLength * Math.tan( this.light.angle );\\r\\n\\r\\n            this.cone.scale.set( coneWidth, coneWidth, coneLength );\\r\\n\\r\\n            vector.setFromMatrixPosition( this.light.matrixWorld );\\r\\n            vector2.setFromMatrixPosition( this.light.target.matrixWorld );\\r\\n\\r\\n            this.cone.lookAt( vector2.sub( vector ) );\\r\\n\\r\\n            if ( this.color !== undefined ) {\\r\\n\\r\\n                this.cone.material.color.set( this.color );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.cone.material.color.copy( this.light.color );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    /**\\r\\n     * @author Sean Griffin / http://twitter.com/sgrif\\r\\n     * @author Michael Guerrero / http://realitymeltdown.com\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author ikerr / http://verold.com\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function getBoneList( object ) {\\r\\n\\r\\n        var boneList = [];\\r\\n\\r\\n        if ( object && object.isBone ) {\\r\\n\\r\\n            boneList.push( object );\\r\\n\\r\\n        }\\r\\n\\r\\n        for ( var i = 0; i < object.children.length; i ++ ) {\\r\\n\\r\\n            boneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\\r\\n\\r\\n        }\\r\\n\\r\\n        return boneList;\\r\\n\\r\\n    }\\r\\n\\r\\n    function SkeletonHelper( object ) {\\r\\n\\r\\n        var bones = getBoneList( object );\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n\\r\\n        var vertices = [];\\r\\n        var colors = [];\\r\\n\\r\\n        var color1 = new Color( 0, 0, 1 );\\r\\n        var color2 = new Color( 0, 1, 0 );\\r\\n\\r\\n        for ( var i = 0; i < bones.length; i ++ ) {\\r\\n\\r\\n            var bone = bones[ i ];\\r\\n\\r\\n            if ( bone.parent && bone.parent.isBone ) {\\r\\n\\r\\n                vertices.push( 0, 0, 0 );\\r\\n                vertices.push( 0, 0, 0 );\\r\\n                colors.push( color1.r, color1.g, color1.b );\\r\\n                colors.push( color2.r, color2.g, color2.b );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\\r\\n\\r\\n        var material = new LineBasicMaterial( { vertexColors: VertexColors, depthTest: false, depthWrite: false, transparent: true } );\\r\\n\\r\\n        LineSegments.call( this, geometry, material );\\r\\n\\r\\n        this.root = object;\\r\\n        this.bones = bones;\\r\\n\\r\\n        this.matrix = object.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n    }\\r\\n\\r\\n    SkeletonHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    SkeletonHelper.prototype.constructor = SkeletonHelper;\\r\\n\\r\\n    SkeletonHelper.prototype.updateMatrixWorld = function () {\\r\\n\\r\\n        var vector = new Vector3();\\r\\n\\r\\n        var boneMatrix = new Matrix4();\\r\\n        var matrixWorldInv = new Matrix4();\\r\\n\\r\\n        return function updateMatrixWorld( force ) {\\r\\n\\r\\n            var bones = this.bones;\\r\\n\\r\\n            var geometry = this.geometry;\\r\\n            var position = geometry.getAttribute( 'position' );\\r\\n\\r\\n            matrixWorldInv.getInverse( this.root.matrixWorld );\\r\\n\\r\\n            for ( var i = 0, j = 0; i < bones.length; i ++ ) {\\r\\n\\r\\n                var bone = bones[ i ];\\r\\n\\r\\n                if ( bone.parent && bone.parent.isBone ) {\\r\\n\\r\\n                    boneMatrix.multiplyMatrices( matrixWorldInv, bone.matrixWorld );\\r\\n                    vector.setFromMatrixPosition( boneMatrix );\\r\\n                    position.setXYZ( j, vector.x, vector.y, vector.z );\\r\\n\\r\\n                    boneMatrix.multiplyMatrices( matrixWorldInv, bone.parent.matrixWorld );\\r\\n                    vector.setFromMatrixPosition( boneMatrix );\\r\\n                    position.setXYZ( j + 1, vector.x, vector.y, vector.z );\\r\\n\\r\\n                    j += 2;\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n            geometry.getAttribute( 'position' ).needsUpdate = true;\\r\\n\\r\\n            Object3D.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function PointLightHelper( light, sphereSize, color ) {\\r\\n\\r\\n        this.light = light;\\r\\n        this.light.updateMatrixWorld();\\r\\n\\r\\n        this.color = color;\\r\\n\\r\\n        var geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\\r\\n        var material = new MeshBasicMaterial( { wireframe: true, fog: false } );\\r\\n\\r\\n        Mesh.call( this, geometry, material );\\r\\n\\r\\n        this.matrix = this.light.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.update();\\r\\n\\r\\n\\r\\n        /*\\r\\n\\t\\tvar distanceGeometry = new THREE.IcosahedronGeometry( 1, 2 );\\r\\n\\t\\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\\r\\n\\r\\n\\t\\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\\r\\n\\t\\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\\r\\n\\r\\n\\t\\tvar d = light.distance;\\r\\n\\r\\n\\t\\tif ( d === 0.0 ) {\\r\\n\\r\\n\\t\\t\\tthis.lightDistance.visible = false;\\r\\n\\r\\n\\t\\t} else {\\r\\n\\r\\n\\t\\t\\tthis.lightDistance.scale.set( d, d, d );\\r\\n\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tthis.add( this.lightDistance );\\r\\n\\t\\t*/\\r\\n\\r\\n    }\\r\\n\\r\\n    PointLightHelper.prototype = Object.create( Mesh.prototype );\\r\\n    PointLightHelper.prototype.constructor = PointLightHelper;\\r\\n\\r\\n    PointLightHelper.prototype.dispose = function () {\\r\\n\\r\\n        this.geometry.dispose();\\r\\n        this.material.dispose();\\r\\n\\r\\n    };\\r\\n\\r\\n    PointLightHelper.prototype.update = function () {\\r\\n\\r\\n        if ( this.color !== undefined ) {\\r\\n\\r\\n            this.material.color.set( this.color );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            this.material.color.copy( this.light.color );\\r\\n\\r\\n        }\\r\\n\\r\\n        /*\\r\\n\\t\\tvar d = this.light.distance;\\r\\n\\r\\n\\t\\tif ( d === 0.0 ) {\\r\\n\\r\\n\\t\\t\\tthis.lightDistance.visible = false;\\r\\n\\r\\n\\t\\t} else {\\r\\n\\r\\n\\t\\t\\tthis.lightDistance.visible = true;\\r\\n\\t\\t\\tthis.lightDistance.scale.set( d, d, d );\\r\\n\\r\\n\\t\\t}\\r\\n\\t\\t*/\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author abelnation / http://github.com/abelnation\\r\\n     * @author Mugen87 / http://github.com/Mugen87\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function RectAreaLightHelper( light, color ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.light = light;\\r\\n        this.light.updateMatrixWorld();\\r\\n\\r\\n        this.matrix = light.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.color = color;\\r\\n\\r\\n        var material = new LineBasicMaterial( { fog: false } );\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n\\r\\n        geometry.addAttribute( 'position', new BufferAttribute( new Float32Array( 5 * 3 ), 3 ) );\\r\\n\\r\\n        this.line = new Line( geometry, material );\\r\\n        this.add( this.line );\\r\\n\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    RectAreaLightHelper.prototype = Object.create( Object3D.prototype );\\r\\n    RectAreaLightHelper.prototype.constructor = RectAreaLightHelper;\\r\\n\\r\\n    RectAreaLightHelper.prototype.dispose = function () {\\r\\n\\r\\n        this.children[ 0 ].geometry.dispose();\\r\\n        this.children[ 0 ].material.dispose();\\r\\n\\r\\n    };\\r\\n\\r\\n    RectAreaLightHelper.prototype.update = function () {\\r\\n\\r\\n        // calculate new dimensions of the helper\\r\\n\\r\\n        var hx = this.light.width * 0.5;\\r\\n        var hy = this.light.height * 0.5;\\r\\n\\r\\n        var position = this.line.geometry.attributes.position;\\r\\n        var array = position.array;\\r\\n\\r\\n        // update vertices\\r\\n\\r\\n        array[ 0 ] = hx; array[ 1 ] = - hy; array[ 2 ] = 0;\\r\\n        array[ 3 ] = hx; array[ 4 ] = hy; array[ 5 ] = 0;\\r\\n        array[ 6 ] = - hx; array[ 7 ] = hy; array[ 8 ] = 0;\\r\\n        array[ 9 ] = - hx; array[ 10 ] = - hy; array[ 11 ] = 0;\\r\\n        array[ 12 ] = hx; array[ 13 ] = - hy; array[ 14 ] = 0;\\r\\n\\r\\n        position.needsUpdate = true;\\r\\n\\r\\n        if ( this.color !== undefined ) {\\r\\n\\r\\n            this.line.material.color.set( this.color );\\r\\n\\r\\n        } else {\\r\\n\\r\\n            this.line.material.color.copy( this.light.color );\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function HemisphereLightHelper( light, size, color ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.light = light;\\r\\n        this.light.updateMatrixWorld();\\r\\n\\r\\n        this.matrix = light.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.color = color;\\r\\n\\r\\n        var geometry = new OctahedronBufferGeometry( size );\\r\\n        geometry.rotateY( Math.PI * 0.5 );\\r\\n\\r\\n        this.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\\r\\n        if ( this.color === undefined ) this.material.vertexColors = VertexColors;\\r\\n\\r\\n        var position = geometry.getAttribute( 'position' );\\r\\n        var colors = new Float32Array( position.count * 3 );\\r\\n\\r\\n        geometry.addAttribute( 'color', new BufferAttribute( colors, 3 ) );\\r\\n\\r\\n        this.add( new Mesh( geometry, this.material ) );\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    HemisphereLightHelper.prototype = Object.create( Object3D.prototype );\\r\\n    HemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\\r\\n\\r\\n    HemisphereLightHelper.prototype.dispose = function () {\\r\\n\\r\\n        this.children[ 0 ].geometry.dispose();\\r\\n        this.children[ 0 ].material.dispose();\\r\\n\\r\\n    };\\r\\n\\r\\n    HemisphereLightHelper.prototype.update = function () {\\r\\n\\r\\n        var vector = new Vector3();\\r\\n\\r\\n        var color1 = new Color();\\r\\n        var color2 = new Color();\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            var mesh = this.children[ 0 ];\\r\\n\\r\\n            if ( this.color !== undefined ) {\\r\\n\\r\\n                this.material.color.set( this.color );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                var colors = mesh.geometry.getAttribute( 'color' );\\r\\n\\r\\n                color1.copy( this.light.color );\\r\\n                color2.copy( this.light.groundColor );\\r\\n\\r\\n                for ( var i = 0, l = colors.count; i < l; i ++ ) {\\r\\n\\r\\n                    var color = ( i < ( l / 2 ) ) ? color1 : color2;\\r\\n\\r\\n                    colors.setXYZ( i, color.r, color.g, color.b );\\r\\n\\r\\n                }\\r\\n\\r\\n                colors.needsUpdate = true;\\r\\n\\r\\n            }\\r\\n\\r\\n            mesh.lookAt( vector.setFromMatrixPosition( this.light.matrixWorld ).negate() );\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function GridHelper( size, divisions, color1, color2 ) {\\r\\n\\r\\n        size = size || 10;\\r\\n        divisions = divisions || 10;\\r\\n        color1 = new Color( color1 !== undefined ? color1 : 0x444444 );\\r\\n        color2 = new Color( color2 !== undefined ? color2 : 0x888888 );\\r\\n\\r\\n        var center = divisions / 2;\\r\\n        var step = size / divisions;\\r\\n        var halfSize = size / 2;\\r\\n\\r\\n        var vertices = [], colors = [];\\r\\n\\r\\n        for ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\\r\\n\\r\\n            vertices.push( - halfSize, 0, k, halfSize, 0, k );\\r\\n            vertices.push( k, 0, - halfSize, k, 0, halfSize );\\r\\n\\r\\n            var color = i === center ? color1 : color2;\\r\\n\\r\\n            color.toArray( colors, j ); j += 3;\\r\\n            color.toArray( colors, j ); j += 3;\\r\\n            color.toArray( colors, j ); j += 3;\\r\\n            color.toArray( colors, j ); j += 3;\\r\\n\\r\\n        }\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\\r\\n\\r\\n        var material = new LineBasicMaterial( { vertexColors: VertexColors } );\\r\\n\\r\\n        LineSegments.call( this, geometry, material );\\r\\n\\r\\n    }\\r\\n\\r\\n    GridHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    GridHelper.prototype.constructor = GridHelper;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / http://github.com/Mugen87\\r\\n     * @author Hectate / http://www.github.com/Hectate\\r\\n     */\\r\\n\\r\\n    function PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\\r\\n\\r\\n        radius = radius || 10;\\r\\n        radials = radials || 16;\\r\\n        circles = circles || 8;\\r\\n        divisions = divisions || 64;\\r\\n        color1 = new Color( color1 !== undefined ? color1 : 0x444444 );\\r\\n        color2 = new Color( color2 !== undefined ? color2 : 0x888888 );\\r\\n\\r\\n        var vertices = [];\\r\\n        var colors = [];\\r\\n\\r\\n        var x, z;\\r\\n        var v, i, j, r, color;\\r\\n\\r\\n        // create the radials\\r\\n\\r\\n        for ( i = 0; i <= radials; i ++ ) {\\r\\n\\r\\n            v = ( i / radials ) * ( Math.PI * 2 );\\r\\n\\r\\n            x = Math.sin( v ) * radius;\\r\\n            z = Math.cos( v ) * radius;\\r\\n\\r\\n            vertices.push( 0, 0, 0 );\\r\\n            vertices.push( x, 0, z );\\r\\n\\r\\n            color = ( i & 1 ) ? color1 : color2;\\r\\n\\r\\n            colors.push( color.r, color.g, color.b );\\r\\n            colors.push( color.r, color.g, color.b );\\r\\n\\r\\n        }\\r\\n\\r\\n        // create the circles\\r\\n\\r\\n        for ( i = 0; i <= circles; i ++ ) {\\r\\n\\r\\n            color = ( i & 1 ) ? color1 : color2;\\r\\n\\r\\n            r = radius - ( radius / circles * i );\\r\\n\\r\\n            for ( j = 0; j < divisions; j ++ ) {\\r\\n\\r\\n                // first vertex\\r\\n\\r\\n                v = ( j / divisions ) * ( Math.PI * 2 );\\r\\n\\r\\n                x = Math.sin( v ) * r;\\r\\n                z = Math.cos( v ) * r;\\r\\n\\r\\n                vertices.push( x, 0, z );\\r\\n                colors.push( color.r, color.g, color.b );\\r\\n\\r\\n                // second vertex\\r\\n\\r\\n                v = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\\r\\n\\r\\n                x = Math.sin( v ) * r;\\r\\n                z = Math.cos( v ) * r;\\r\\n\\r\\n                vertices.push( x, 0, z );\\r\\n                colors.push( color.r, color.g, color.b );\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\\r\\n\\r\\n        var material = new LineBasicMaterial( { vertexColors: VertexColors } );\\r\\n\\r\\n        LineSegments.call( this, geometry, material );\\r\\n\\r\\n    }\\r\\n\\r\\n    PolarGridHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    PolarGridHelper.prototype.constructor = PolarGridHelper;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function FaceNormalsHelper( object, size, hex, linewidth ) {\\r\\n\\r\\n        // FaceNormalsHelper only supports THREE.Geometry\\r\\n\\r\\n        this.object = object;\\r\\n\\r\\n        this.size = ( size !== undefined ) ? size : 1;\\r\\n\\r\\n        var color = ( hex !== undefined ) ? hex : 0xffff00;\\r\\n\\r\\n        var width = ( linewidth !== undefined ) ? linewidth : 1;\\r\\n\\r\\n        //\\r\\n\\r\\n        var nNormals = 0;\\r\\n\\r\\n        var objGeometry = this.object.geometry;\\r\\n\\r\\n        if ( objGeometry && objGeometry.isGeometry ) {\\r\\n\\r\\n            nNormals = objGeometry.faces.length;\\r\\n\\r\\n        } else {\\r\\n\\r\\n            console.warn( 'THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.' );\\r\\n\\r\\n        }\\r\\n\\r\\n        //\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n\\r\\n        var positions = new Float32BufferAttribute( nNormals * 2 * 3, 3 );\\r\\n\\r\\n        geometry.addAttribute( 'position', positions );\\r\\n\\r\\n        LineSegments.call( this, geometry, new LineBasicMaterial( { color: color, linewidth: width } ) );\\r\\n\\r\\n        //\\r\\n\\r\\n        this.matrixAutoUpdate = false;\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    FaceNormalsHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    FaceNormalsHelper.prototype.constructor = FaceNormalsHelper;\\r\\n\\r\\n    FaceNormalsHelper.prototype.update = ( function () {\\r\\n\\r\\n        var v1 = new Vector3();\\r\\n        var v2 = new Vector3();\\r\\n        var normalMatrix = new Matrix3();\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            this.object.updateMatrixWorld( true );\\r\\n\\r\\n            normalMatrix.getNormalMatrix( this.object.matrixWorld );\\r\\n\\r\\n            var matrixWorld = this.object.matrixWorld;\\r\\n\\r\\n            var position = this.geometry.attributes.position;\\r\\n\\r\\n            //\\r\\n\\r\\n            var objGeometry = this.object.geometry;\\r\\n\\r\\n            var vertices = objGeometry.vertices;\\r\\n\\r\\n            var faces = objGeometry.faces;\\r\\n\\r\\n            var idx = 0;\\r\\n\\r\\n            for ( var i = 0, l = faces.length; i < l; i ++ ) {\\r\\n\\r\\n                var face = faces[ i ];\\r\\n\\r\\n                var normal = face.normal;\\r\\n\\r\\n                v1.copy( vertices[ face.a ] )\\r\\n                    .add( vertices[ face.b ] )\\r\\n                    .add( vertices[ face.c ] )\\r\\n                    .divideScalar( 3 )\\r\\n                    .applyMatrix4( matrixWorld );\\r\\n\\r\\n                v2.copy( normal ).applyMatrix3( normalMatrix ).normalize().multiplyScalar( this.size ).add( v1 );\\r\\n\\r\\n                position.setXYZ( idx, v1.x, v1.y, v1.z );\\r\\n\\r\\n                idx = idx + 1;\\r\\n\\r\\n                position.setXYZ( idx, v2.x, v2.y, v2.z );\\r\\n\\r\\n                idx = idx + 1;\\r\\n\\r\\n            }\\r\\n\\r\\n            position.needsUpdate = true;\\r\\n\\r\\n        };\\r\\n\\r\\n    }() );\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function DirectionalLightHelper( light, size, color ) {\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        this.light = light;\\r\\n        this.light.updateMatrixWorld();\\r\\n\\r\\n        this.matrix = light.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.color = color;\\r\\n\\r\\n        if ( size === undefined ) size = 1;\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( [\\r\\n            - size, size, 0,\\r\\n            size, size, 0,\\r\\n            size, - size, 0,\\r\\n            - size, - size, 0,\\r\\n            - size, size, 0\\r\\n        ], 3 ) );\\r\\n\\r\\n        var material = new LineBasicMaterial( { fog: false } );\\r\\n\\r\\n        this.lightPlane = new Line( geometry, material );\\r\\n        this.add( this.lightPlane );\\r\\n\\r\\n        geometry = new BufferGeometry();\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\\r\\n\\r\\n        this.targetLine = new Line( geometry, material );\\r\\n        this.add( this.targetLine );\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    DirectionalLightHelper.prototype = Object.create( Object3D.prototype );\\r\\n    DirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\\r\\n\\r\\n    DirectionalLightHelper.prototype.dispose = function () {\\r\\n\\r\\n        this.lightPlane.geometry.dispose();\\r\\n        this.lightPlane.material.dispose();\\r\\n        this.targetLine.geometry.dispose();\\r\\n        this.targetLine.material.dispose();\\r\\n\\r\\n    };\\r\\n\\r\\n    DirectionalLightHelper.prototype.update = function () {\\r\\n\\r\\n        var v1 = new Vector3();\\r\\n        var v2 = new Vector3();\\r\\n        var v3 = new Vector3();\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            v1.setFromMatrixPosition( this.light.matrixWorld );\\r\\n            v2.setFromMatrixPosition( this.light.target.matrixWorld );\\r\\n            v3.subVectors( v2, v1 );\\r\\n\\r\\n            this.lightPlane.lookAt( v3 );\\r\\n\\r\\n            if ( this.color !== undefined ) {\\r\\n\\r\\n                this.lightPlane.material.color.set( this.color );\\r\\n                this.targetLine.material.color.set( this.color );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                this.lightPlane.material.color.copy( this.light.color );\\r\\n                this.targetLine.material.color.copy( this.light.color );\\r\\n\\r\\n            }\\r\\n\\r\\n            this.targetLine.lookAt( v3 );\\r\\n            this.targetLine.scale.z = v3.length();\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    /**\\r\\n     * @author alteredq / http://alteredqualia.com/\\r\\n     * @author Mugen87 / https://github.com/Mugen87\\r\\n     *\\r\\n     *\\t- shows frustum, line of sight and up of the camera\\r\\n     *\\t- suitable for fast updates\\r\\n     * \\t- based on frustum visualization in lightgl.js shadowmap example\\r\\n     *\\t\\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\\r\\n     */\\r\\n\\r\\n    function CameraHelper( camera ) {\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        var material = new LineBasicMaterial( { color: 0xffffff, vertexColors: FaceColors } );\\r\\n\\r\\n        var vertices = [];\\r\\n        var colors = [];\\r\\n\\r\\n        var pointMap = {};\\r\\n\\r\\n        // colors\\r\\n\\r\\n        var colorFrustum = new Color( 0xffaa00 );\\r\\n        var colorCone = new Color( 0xff0000 );\\r\\n        var colorUp = new Color( 0x00aaff );\\r\\n        var colorTarget = new Color( 0xffffff );\\r\\n        var colorCross = new Color( 0x333333 );\\r\\n\\r\\n        // near\\r\\n\\r\\n        addLine( 'n1', 'n2', colorFrustum );\\r\\n        addLine( 'n2', 'n4', colorFrustum );\\r\\n        addLine( 'n4', 'n3', colorFrustum );\\r\\n        addLine( 'n3', 'n1', colorFrustum );\\r\\n\\r\\n        // far\\r\\n\\r\\n        addLine( 'f1', 'f2', colorFrustum );\\r\\n        addLine( 'f2', 'f4', colorFrustum );\\r\\n        addLine( 'f4', 'f3', colorFrustum );\\r\\n        addLine( 'f3', 'f1', colorFrustum );\\r\\n\\r\\n        // sides\\r\\n\\r\\n        addLine( 'n1', 'f1', colorFrustum );\\r\\n        addLine( 'n2', 'f2', colorFrustum );\\r\\n        addLine( 'n3', 'f3', colorFrustum );\\r\\n        addLine( 'n4', 'f4', colorFrustum );\\r\\n\\r\\n        // cone\\r\\n\\r\\n        addLine( 'p', 'n1', colorCone );\\r\\n        addLine( 'p', 'n2', colorCone );\\r\\n        addLine( 'p', 'n3', colorCone );\\r\\n        addLine( 'p', 'n4', colorCone );\\r\\n\\r\\n        // up\\r\\n\\r\\n        addLine( 'u1', 'u2', colorUp );\\r\\n        addLine( 'u2', 'u3', colorUp );\\r\\n        addLine( 'u3', 'u1', colorUp );\\r\\n\\r\\n        // target\\r\\n\\r\\n        addLine( 'c', 't', colorTarget );\\r\\n        addLine( 'p', 'c', colorCross );\\r\\n\\r\\n        // cross\\r\\n\\r\\n        addLine( 'cn1', 'cn2', colorCross );\\r\\n        addLine( 'cn3', 'cn4', colorCross );\\r\\n\\r\\n        addLine( 'cf1', 'cf2', colorCross );\\r\\n        addLine( 'cf3', 'cf4', colorCross );\\r\\n\\r\\n        function addLine( a, b, color ) {\\r\\n\\r\\n            addPoint( a, color );\\r\\n            addPoint( b, color );\\r\\n\\r\\n        }\\r\\n\\r\\n        function addPoint( id, color ) {\\r\\n\\r\\n            vertices.push( 0, 0, 0 );\\r\\n            colors.push( color.r, color.g, color.b );\\r\\n\\r\\n            if ( pointMap[ id ] === undefined ) {\\r\\n\\r\\n                pointMap[ id ] = [];\\r\\n\\r\\n            }\\r\\n\\r\\n            pointMap[ id ].push( ( vertices.length / 3 ) - 1 );\\r\\n\\r\\n        }\\r\\n\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\\r\\n\\r\\n        LineSegments.call( this, geometry, material );\\r\\n\\r\\n        this.camera = camera;\\r\\n        if ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\\r\\n\\r\\n        this.matrix = camera.matrixWorld;\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.pointMap = pointMap;\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    CameraHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    CameraHelper.prototype.constructor = CameraHelper;\\r\\n\\r\\n    CameraHelper.prototype.update = function () {\\r\\n\\r\\n        var geometry, pointMap;\\r\\n\\r\\n        var vector = new Vector3();\\r\\n        var camera = new Camera();\\r\\n\\r\\n        function setPoint( point, x, y, z ) {\\r\\n\\r\\n            vector.set( x, y, z ).unproject( camera );\\r\\n\\r\\n            var points = pointMap[ point ];\\r\\n\\r\\n            if ( points !== undefined ) {\\r\\n\\r\\n                var position = geometry.getAttribute( 'position' );\\r\\n\\r\\n                for ( var i = 0, l = points.length; i < l; i ++ ) {\\r\\n\\r\\n                    position.setXYZ( points[ i ], vector.x, vector.y, vector.z );\\r\\n\\r\\n                }\\r\\n\\r\\n            }\\r\\n\\r\\n        }\\r\\n\\r\\n        return function update() {\\r\\n\\r\\n            geometry = this.geometry;\\r\\n            pointMap = this.pointMap;\\r\\n\\r\\n            var w = 1, h = 1;\\r\\n\\r\\n            // we need just camera projection matrix\\r\\n            // world matrix must be identity\\r\\n\\r\\n            camera.projectionMatrix.copy( this.camera.projectionMatrix );\\r\\n\\r\\n            // center / target\\r\\n\\r\\n            setPoint( 'c', 0, 0, - 1 );\\r\\n            setPoint( 't', 0, 0, 1 );\\r\\n\\r\\n            // near\\r\\n\\r\\n            setPoint( 'n1', - w, - h, - 1 );\\r\\n            setPoint( 'n2', w, - h, - 1 );\\r\\n            setPoint( 'n3', - w, h, - 1 );\\r\\n            setPoint( 'n4', w, h, - 1 );\\r\\n\\r\\n            // far\\r\\n\\r\\n            setPoint( 'f1', - w, - h, 1 );\\r\\n            setPoint( 'f2', w, - h, 1 );\\r\\n            setPoint( 'f3', - w, h, 1 );\\r\\n            setPoint( 'f4', w, h, 1 );\\r\\n\\r\\n            // up\\r\\n\\r\\n            setPoint( 'u1', w * 0.7, h * 1.1, - 1 );\\r\\n            setPoint( 'u2', - w * 0.7, h * 1.1, - 1 );\\r\\n            setPoint( 'u3', 0, h * 2, - 1 );\\r\\n\\r\\n            // cross\\r\\n\\r\\n            setPoint( 'cf1', - w, 0, 1 );\\r\\n            setPoint( 'cf2', w, 0, 1 );\\r\\n            setPoint( 'cf3', 0, - h, 1 );\\r\\n            setPoint( 'cf4', 0, h, 1 );\\r\\n\\r\\n            setPoint( 'cn1', - w, 0, - 1 );\\r\\n            setPoint( 'cn2', w, 0, - 1 );\\r\\n            setPoint( 'cn3', 0, - h, - 1 );\\r\\n            setPoint( 'cn4', 0, h, - 1 );\\r\\n\\r\\n            geometry.getAttribute( 'position' ).needsUpdate = true;\\r\\n\\r\\n        };\\r\\n\\r\\n    }();\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     * @author Mugen87 / http://github.com/Mugen87\\r\\n     */\\r\\n\\r\\n    function BoxHelper( object, color ) {\\r\\n\\r\\n        this.object = object;\\r\\n\\r\\n        if ( color === undefined ) color = 0xffff00;\\r\\n\\r\\n        var indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\\r\\n        var positions = new Float32Array( 8 * 3 );\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        geometry.setIndex( new BufferAttribute( indices, 1 ) );\\r\\n        geometry.addAttribute( 'position', new BufferAttribute( positions, 3 ) );\\r\\n\\r\\n        LineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\\r\\n\\r\\n        this.matrixAutoUpdate = false;\\r\\n\\r\\n        this.update();\\r\\n\\r\\n    }\\r\\n\\r\\n    BoxHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    BoxHelper.prototype.constructor = BoxHelper;\\r\\n\\r\\n    BoxHelper.prototype.update = ( function () {\\r\\n\\r\\n        var box = new Box3();\\r\\n\\r\\n        return function update( object ) {\\r\\n\\r\\n            if ( object !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( this.object !== undefined ) {\\r\\n\\r\\n                box.setFromObject( this.object );\\r\\n\\r\\n            }\\r\\n\\r\\n            if ( box.isEmpty() ) return;\\r\\n\\r\\n            var min = box.min;\\r\\n            var max = box.max;\\r\\n\\r\\n            /*\\r\\n\\t\\t\\t  5____4\\r\\n\\t\\t\\t1/___0/|\\r\\n\\t\\t\\t| 6__|_7\\r\\n\\t\\t\\t2/___3/\\r\\n\\r\\n\\t\\t\\t0: max.x, max.y, max.z\\r\\n\\t\\t\\t1: min.x, max.y, max.z\\r\\n\\t\\t\\t2: min.x, min.y, max.z\\r\\n\\t\\t\\t3: max.x, min.y, max.z\\r\\n\\t\\t\\t4: max.x, max.y, min.z\\r\\n\\t\\t\\t5: min.x, max.y, min.z\\r\\n\\t\\t\\t6: min.x, min.y, min.z\\r\\n\\t\\t\\t7: max.x, min.y, min.z\\r\\n\\t\\t\\t*/\\r\\n\\r\\n            var position = this.geometry.attributes.position;\\r\\n            var array = position.array;\\r\\n\\r\\n            array[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\\r\\n            array[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\\r\\n            array[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\\r\\n            array[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\\r\\n            array[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\\r\\n            array[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\\r\\n            array[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\\r\\n            array[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\\r\\n\\r\\n            position.needsUpdate = true;\\r\\n\\r\\n            this.geometry.computeBoundingSphere();\\r\\n\\r\\n        };\\r\\n\\r\\n    } )();\\r\\n\\r\\n    BoxHelper.prototype.setFromObject = function ( object ) {\\r\\n\\r\\n        this.object = object;\\r\\n        this.update();\\r\\n\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function Box3Helper( box, hex ) {\\r\\n\\r\\n        this.type = 'Box3Helper';\\r\\n\\r\\n        this.box = box;\\r\\n\\r\\n        var color = ( hex !== undefined ) ? hex : 0xffff00;\\r\\n\\r\\n        var indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\\r\\n\\r\\n        var positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n\\r\\n        geometry.setIndex( new BufferAttribute( indices, 1 ) );\\r\\n\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\\r\\n\\r\\n        LineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\\r\\n\\r\\n        this.geometry.computeBoundingSphere();\\r\\n\\r\\n    }\\r\\n\\r\\n    Box3Helper.prototype = Object.create( LineSegments.prototype );\\r\\n    Box3Helper.prototype.constructor = Box3Helper;\\r\\n\\r\\n    Box3Helper.prototype.updateMatrixWorld = function ( force ) {\\r\\n\\r\\n        var box = this.box;\\r\\n\\r\\n        if ( box.isEmpty() ) return;\\r\\n\\r\\n        box.getCenter( this.position );\\r\\n\\r\\n        box.getSize( this.scale );\\r\\n\\r\\n        this.scale.multiplyScalar( 0.5 );\\r\\n\\r\\n        Object3D.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     */\\r\\n\\r\\n    function PlaneHelper( plane, size, hex ) {\\r\\n\\r\\n        this.type = 'PlaneHelper';\\r\\n\\r\\n        this.plane = plane;\\r\\n\\r\\n        this.size = ( size === undefined ) ? 1 : size;\\r\\n\\r\\n        var color = ( hex !== undefined ) ? hex : 0xffff00;\\r\\n\\r\\n        var positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\\r\\n        geometry.computeBoundingSphere();\\r\\n\\r\\n        Line.call( this, geometry, new LineBasicMaterial( { color: color } ) );\\r\\n\\r\\n        //\\r\\n\\r\\n        var positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\\r\\n\\r\\n        var geometry2 = new BufferGeometry();\\r\\n        geometry2.addAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\\r\\n        geometry2.computeBoundingSphere();\\r\\n\\r\\n        this.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    PlaneHelper.prototype = Object.create( Line.prototype );\\r\\n    PlaneHelper.prototype.constructor = PlaneHelper;\\r\\n\\r\\n    PlaneHelper.prototype.updateMatrixWorld = function ( force ) {\\r\\n\\r\\n        var scale = - this.plane.constant;\\r\\n\\r\\n        if ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\\r\\n\\r\\n        this.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\\r\\n\\r\\n        this.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\\r\\n\\r\\n        this.lookAt( this.plane.normal );\\r\\n\\r\\n        Object3D.prototype.updateMatrixWorld.call( this, force );\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author WestLangley / http://github.com/WestLangley\\r\\n     * @author zz85 / http://github.com/zz85\\r\\n     * @author bhouston / http://clara.io\\r\\n     *\\r\\n     * Creates an arrow for visualizing directions\\r\\n     *\\r\\n     * Parameters:\\r\\n     *  dir - Vector3\\r\\n     *  origin - Vector3\\r\\n     *  length - Number\\r\\n     *  color - color in hex value\\r\\n     *  headLength - Number\\r\\n     *  headWidth - Number\\r\\n     */\\r\\n\\r\\n    var lineGeometry, coneGeometry;\\r\\n\\r\\n    function ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\\r\\n\\r\\n        // dir is assumed to be normalized\\r\\n\\r\\n        Object3D.call( this );\\r\\n\\r\\n        if ( color === undefined ) color = 0xffff00;\\r\\n        if ( length === undefined ) length = 1;\\r\\n        if ( headLength === undefined ) headLength = 0.2 * length;\\r\\n        if ( headWidth === undefined ) headWidth = 0.2 * headLength;\\r\\n\\r\\n        if ( lineGeometry === undefined ) {\\r\\n\\r\\n            lineGeometry = new BufferGeometry();\\r\\n            lineGeometry.addAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\\r\\n\\r\\n            coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\\r\\n            coneGeometry.translate( 0, - 0.5, 0 );\\r\\n\\r\\n        }\\r\\n\\r\\n        this.position.copy( origin );\\r\\n\\r\\n        this.line = new Line( lineGeometry, new LineBasicMaterial( { color: color } ) );\\r\\n        this.line.matrixAutoUpdate = false;\\r\\n        this.add( this.line );\\r\\n\\r\\n        this.cone = new Mesh( coneGeometry, new MeshBasicMaterial( { color: color } ) );\\r\\n        this.cone.matrixAutoUpdate = false;\\r\\n        this.add( this.cone );\\r\\n\\r\\n        this.setDirection( dir );\\r\\n        this.setLength( length, headLength, headWidth );\\r\\n\\r\\n    }\\r\\n\\r\\n    ArrowHelper.prototype = Object.create( Object3D.prototype );\\r\\n    ArrowHelper.prototype.constructor = ArrowHelper;\\r\\n\\r\\n    ArrowHelper.prototype.setDirection = ( function () {\\r\\n\\r\\n        var axis = new Vector3();\\r\\n        var radians;\\r\\n\\r\\n        return function setDirection( dir ) {\\r\\n\\r\\n            // dir is assumed to be normalized\\r\\n\\r\\n            if ( dir.y > 0.99999 ) {\\r\\n\\r\\n                this.quaternion.set( 0, 0, 0, 1 );\\r\\n\\r\\n            } else if ( dir.y < - 0.99999 ) {\\r\\n\\r\\n                this.quaternion.set( 1, 0, 0, 0 );\\r\\n\\r\\n            } else {\\r\\n\\r\\n                axis.set( dir.z, 0, - dir.x ).normalize();\\r\\n\\r\\n                radians = Math.acos( dir.y );\\r\\n\\r\\n                this.quaternion.setFromAxisAngle( axis, radians );\\r\\n\\r\\n            }\\r\\n\\r\\n        };\\r\\n\\r\\n    }() );\\r\\n\\r\\n    ArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\\r\\n\\r\\n        if ( headLength === undefined ) headLength = 0.2 * length;\\r\\n        if ( headWidth === undefined ) headWidth = 0.2 * headLength;\\r\\n\\r\\n        this.line.scale.set( 1, Math.max( 0, length - headLength ), 1 );\\r\\n        this.line.updateMatrix();\\r\\n\\r\\n        this.cone.scale.set( headWidth, headLength, headWidth );\\r\\n        this.cone.position.y = length;\\r\\n        this.cone.updateMatrix();\\r\\n\\r\\n    };\\r\\n\\r\\n    ArrowHelper.prototype.setColor = function ( color ) {\\r\\n\\r\\n        this.line.material.color.copy( color );\\r\\n        this.cone.material.color.copy( color );\\r\\n\\r\\n    };\\r\\n\\r\\n    /**\\r\\n     * @author sroucheray / http://sroucheray.org/\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function AxesHelper( size ) {\\r\\n\\r\\n        size = size || 1;\\r\\n\\r\\n        var vertices = [\\r\\n            0, 0, 0,\\tsize, 0, 0,\\r\\n            0, 0, 0,\\t0, size, 0,\\r\\n            0, 0, 0,\\t0, 0, size\\r\\n        ];\\r\\n\\r\\n        var colors = [\\r\\n            1, 0, 0,\\t1, 0.6, 0,\\r\\n            0, 1, 0,\\t0.6, 1, 0,\\r\\n            0, 0, 1,\\t0, 0.6, 1\\r\\n        ];\\r\\n\\r\\n        var geometry = new BufferGeometry();\\r\\n        geometry.addAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\\r\\n        geometry.addAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\\r\\n\\r\\n        var material = new LineBasicMaterial( { vertexColors: VertexColors } );\\r\\n\\r\\n        LineSegments.call( this, geometry, material );\\r\\n\\r\\n    }\\r\\n\\r\\n    AxesHelper.prototype = Object.create( LineSegments.prototype );\\r\\n    AxesHelper.prototype.constructor = AxesHelper;\\r\\n\\r\\n    /**\\r\\n     * @author mrdoob / http://mrdoob.com/\\r\\n     */\\r\\n\\r\\n    function Face4( a, b, c, d, normal, color, materialIndex ) {\\r\\n\\r\\n        console.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\\r\\n        return new Face3( a, b, c, normal, color, materialIndex );\\r\\n\\r\\n    }\\r\\n\\r\\n    var LineStrip = 0;\\r\\n\\r\\n    var LinePieces = 1;\\r\\n\\r\\n    function MeshFaceMaterial( materials ) {\\r\\n\\r\\n        console.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\\r\\n        return materials;\\r\\n\\r\\n    }\\r\\n\\r\\n    function MultiMaterial( materials ) {\\r\\n\\r\\n        if ( materials === undefined ) materials = [];\\r\\n\\r\\n        console.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\\r\\n        materials.isMultiMaterial = true;\\r\\n        materials.materials = materials;\\r\\n        materials.clone = function () {\\r\\n\\r\\n            return materials.slice();\\r\\n\\r\\n        };\\r\\n        return materials;\\r\\n\\r\\n    }\\r\\n\\r\\n    function PointCloud( geometry, material ) {\\r\\n\\r\\n        console.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\\r\\n        return new Points( geometry, material );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Particle( material ) {\\r\\n\\r\\n        console.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\\r\\n        return new Sprite( material );\\r\\n\\r\\n    }\\r\\n\\r\\n    function ParticleSystem( geometry, material ) {\\r\\n\\r\\n        console.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\\r\\n        return new Points( geometry, material );\\r\\n\\r\\n    }\\r\\n\\r\\n    function PointCloudMaterial( parameters ) {\\r\\n\\r\\n        console.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\\r\\n        return new PointsMaterial( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    function ParticleBasicMaterial( parameters ) {\\r\\n\\r\\n        console.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\\r\\n        return new PointsMaterial( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    function ParticleSystemMaterial( parameters ) {\\r\\n\\r\\n        console.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\\r\\n        return new PointsMaterial( parameters );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Vertex( x, y, z ) {\\r\\n\\r\\n        console.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\\r\\n        return new Vector3( x, y, z );\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    function DynamicBufferAttribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.' );\\r\\n        return new BufferAttribute( array, itemSize ).setDynamic( true );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Int8Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\\r\\n        return new Int8BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Uint8Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\\r\\n        return new Uint8BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Uint8ClampedAttribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\\r\\n        return new Uint8ClampedBufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Int16Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\\r\\n        return new Int16BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Uint16Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\\r\\n        return new Uint16BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Int32Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\\r\\n        return new Int32BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Uint32Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\\r\\n        return new Uint32BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Float32Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\\r\\n        return new Float32BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    function Float64Attribute( array, itemSize ) {\\r\\n\\r\\n        console.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\\r\\n        return new Float64BufferAttribute( array, itemSize );\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    Curve.create = function ( construct, getPoint ) {\\r\\n\\r\\n        console.log( 'THREE.Curve.create() has been deprecated' );\\r\\n\\r\\n        construct.prototype = Object.create( Curve.prototype );\\r\\n        construct.prototype.constructor = construct;\\r\\n        construct.prototype.getPoint = getPoint;\\r\\n\\r\\n        return construct;\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( CurvePath.prototype, {\\r\\n\\r\\n        createPointsGeometry: function ( divisions ) {\\r\\n\\r\\n            console.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\\r\\n\\r\\n            // generate geometry from path points (for Line or Points objects)\\r\\n\\r\\n            var pts = this.getPoints( divisions );\\r\\n            return this.createGeometry( pts );\\r\\n\\r\\n        },\\r\\n\\r\\n        createSpacedPointsGeometry: function ( divisions ) {\\r\\n\\r\\n            console.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\\r\\n\\r\\n            // generate geometry from equidistant sampling along the path\\r\\n\\r\\n            var pts = this.getSpacedPoints( divisions );\\r\\n            return this.createGeometry( pts );\\r\\n\\r\\n        },\\r\\n\\r\\n        createGeometry: function ( points ) {\\r\\n\\r\\n            console.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\\r\\n\\r\\n            var geometry = new Geometry();\\r\\n\\r\\n            for ( var i = 0, l = points.length; i < l; i ++ ) {\\r\\n\\r\\n                var point = points[ i ];\\r\\n                geometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\\r\\n\\r\\n            }\\r\\n\\r\\n            return geometry;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( Path.prototype, {\\r\\n\\r\\n        fromPoints: function ( points ) {\\r\\n\\r\\n            console.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\\r\\n            this.setFromPoints( points );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    function ClosedSplineCurve3( points ) {\\r\\n\\r\\n        console.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\\r\\n\\r\\n        CatmullRomCurve3.call( this, points );\\r\\n        this.type = 'catmullrom';\\r\\n        this.closed = true;\\r\\n\\r\\n    }\\r\\n\\r\\n    ClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\\r\\n\\r\\n    //\\r\\n\\r\\n    function SplineCurve3( points ) {\\r\\n\\r\\n        console.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\\r\\n\\r\\n        CatmullRomCurve3.call( this, points );\\r\\n        this.type = 'catmullrom';\\r\\n\\r\\n    }\\r\\n\\r\\n    SplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\\r\\n\\r\\n    //\\r\\n\\r\\n    function Spline( points ) {\\r\\n\\r\\n        console.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\\r\\n\\r\\n        CatmullRomCurve3.call( this, points );\\r\\n        this.type = 'catmullrom';\\r\\n\\r\\n    }\\r\\n\\r\\n    Spline.prototype = Object.create( CatmullRomCurve3.prototype );\\r\\n\\r\\n    Object.assign( Spline.prototype, {\\r\\n\\r\\n        initFromArray: function ( /* a */ ) {\\r\\n\\r\\n            console.error( 'THREE.Spline: .initFromArray() has been removed.' );\\r\\n\\r\\n        },\\r\\n        getControlPointsArray: function ( /* optionalTarget */ ) {\\r\\n\\r\\n            console.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\\r\\n\\r\\n        },\\r\\n        reparametrizeByArcLength: function ( /* samplingCoef */ ) {\\r\\n\\r\\n            console.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    function AxisHelper( size ) {\\r\\n\\r\\n        console.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\\r\\n        return new AxesHelper( size );\\r\\n\\r\\n    }\\r\\n\\r\\n    function BoundingBoxHelper( object, color ) {\\r\\n\\r\\n        console.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\\r\\n        return new BoxHelper( object, color );\\r\\n\\r\\n    }\\r\\n\\r\\n    function EdgesHelper( object, hex ) {\\r\\n\\r\\n        console.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\\r\\n        return new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    GridHelper.prototype.setColors = function () {\\r\\n\\r\\n        console.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\\r\\n\\r\\n    };\\r\\n\\r\\n    SkeletonHelper.prototype.update = function () {\\r\\n\\r\\n        console.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\\r\\n\\r\\n    };\\r\\n\\r\\n    function WireframeHelper( object, hex ) {\\r\\n\\r\\n        console.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\\r\\n        return new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( Loader.prototype, {\\r\\n\\r\\n        extractUrlBase: function ( url ) {\\r\\n\\r\\n            console.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\\r\\n            return LoaderUtils.extractUrlBase( url );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    function XHRLoader( manager ) {\\r\\n\\r\\n        console.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\\r\\n        return new FileLoader( manager );\\r\\n\\r\\n    }\\r\\n\\r\\n    function BinaryTextureLoader( manager ) {\\r\\n\\r\\n        console.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\\r\\n        return new DataTextureLoader( manager );\\r\\n\\r\\n    }\\r\\n\\r\\n    Object.assign( JSONLoader.prototype, {\\r\\n\\r\\n        setTexturePath: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.JSONLoader: .setTexturePath() has been renamed to .setResourcePath().' );\\r\\n            return this.setResourcePath( value );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( Box2.prototype, {\\r\\n\\r\\n        center: function ( optionalTarget ) {\\r\\n\\r\\n            console.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\\r\\n            return this.getCenter( optionalTarget );\\r\\n\\r\\n        },\\r\\n        empty: function () {\\r\\n\\r\\n            console.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\\r\\n            return this.isEmpty();\\r\\n\\r\\n        },\\r\\n        isIntersectionBox: function ( box ) {\\r\\n\\r\\n            console.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\\r\\n            return this.intersectsBox( box );\\r\\n\\r\\n        },\\r\\n        size: function ( optionalTarget ) {\\r\\n\\r\\n            console.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\\r\\n            return this.getSize( optionalTarget );\\r\\n\\r\\n        }\\r\\n    } );\\r\\n\\r\\n    Object.assign( Box3.prototype, {\\r\\n\\r\\n        center: function ( optionalTarget ) {\\r\\n\\r\\n            console.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\\r\\n            return this.getCenter( optionalTarget );\\r\\n\\r\\n        },\\r\\n        empty: function () {\\r\\n\\r\\n            console.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\\r\\n            return this.isEmpty();\\r\\n\\r\\n        },\\r\\n        isIntersectionBox: function ( box ) {\\r\\n\\r\\n            console.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\\r\\n            return this.intersectsBox( box );\\r\\n\\r\\n        },\\r\\n        isIntersectionSphere: function ( sphere ) {\\r\\n\\r\\n            console.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\\r\\n            return this.intersectsSphere( sphere );\\r\\n\\r\\n        },\\r\\n        size: function ( optionalTarget ) {\\r\\n\\r\\n            console.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\\r\\n            return this.getSize( optionalTarget );\\r\\n\\r\\n        }\\r\\n    } );\\r\\n\\r\\n    Line3.prototype.center = function ( optionalTarget ) {\\r\\n\\r\\n        console.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\\r\\n        return this.getCenter( optionalTarget );\\r\\n\\r\\n    };\\r\\n\\r\\n    Object.assign( _Math, {\\r\\n\\r\\n        random16: function () {\\r\\n\\r\\n            console.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\\r\\n            return Math.random();\\r\\n\\r\\n        },\\r\\n\\r\\n        nearestPowerOfTwo: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\\r\\n            return _Math.floorPowerOfTwo( value );\\r\\n\\r\\n        },\\r\\n\\r\\n        nextPowerOfTwo: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\\r\\n            return _Math.ceilPowerOfTwo( value );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Matrix3.prototype, {\\r\\n\\r\\n        flattenToArrayOffset: function ( array, offset ) {\\r\\n\\r\\n            console.warn( \\\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\\\" );\\r\\n            return this.toArray( array, offset );\\r\\n\\r\\n        },\\r\\n        multiplyVector3: function ( vector ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\\r\\n            return vector.applyMatrix3( this );\\r\\n\\r\\n        },\\r\\n        multiplyVector3Array: function ( /* a */ ) {\\r\\n\\r\\n            console.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\\r\\n\\r\\n        },\\r\\n        applyToBuffer: function ( buffer /*, offset, length */ ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\\r\\n            return this.applyToBufferAttribute( buffer );\\r\\n\\r\\n        },\\r\\n        applyToVector3Array: function ( /* array, offset, length */ ) {\\r\\n\\r\\n            console.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Matrix4.prototype, {\\r\\n\\r\\n        extractPosition: function ( m ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\\r\\n            return this.copyPosition( m );\\r\\n\\r\\n        },\\r\\n        flattenToArrayOffset: function ( array, offset ) {\\r\\n\\r\\n            console.warn( \\\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\\\" );\\r\\n            return this.toArray( array, offset );\\r\\n\\r\\n        },\\r\\n        getPosition: function () {\\r\\n\\r\\n            var v1;\\r\\n\\r\\n            return function getPosition() {\\r\\n\\r\\n                if ( v1 === undefined ) v1 = new Vector3();\\r\\n                console.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\\r\\n                return v1.setFromMatrixColumn( this, 3 );\\r\\n\\r\\n            };\\r\\n\\r\\n        }(),\\r\\n        setRotationFromQuaternion: function ( q ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\\r\\n            return this.makeRotationFromQuaternion( q );\\r\\n\\r\\n        },\\r\\n        multiplyToArray: function () {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\\r\\n\\r\\n        },\\r\\n        multiplyVector3: function ( vector ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\\r\\n            return vector.applyMatrix4( this );\\r\\n\\r\\n        },\\r\\n        multiplyVector4: function ( vector ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\\r\\n            return vector.applyMatrix4( this );\\r\\n\\r\\n        },\\r\\n        multiplyVector3Array: function ( /* a */ ) {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\\r\\n\\r\\n        },\\r\\n        rotateAxis: function ( v ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\\r\\n            v.transformDirection( this );\\r\\n\\r\\n        },\\r\\n        crossVector: function ( vector ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\\r\\n            return vector.applyMatrix4( this );\\r\\n\\r\\n        },\\r\\n        translate: function () {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .translate() has been removed.' );\\r\\n\\r\\n        },\\r\\n        rotateX: function () {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .rotateX() has been removed.' );\\r\\n\\r\\n        },\\r\\n        rotateY: function () {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .rotateY() has been removed.' );\\r\\n\\r\\n        },\\r\\n        rotateZ: function () {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\\r\\n\\r\\n        },\\r\\n        rotateByAxis: function () {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\\r\\n\\r\\n        },\\r\\n        applyToBuffer: function ( buffer /*, offset, length */ ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.' );\\r\\n            return this.applyToBufferAttribute( buffer );\\r\\n\\r\\n        },\\r\\n        applyToVector3Array: function ( /* array, offset, length */ ) {\\r\\n\\r\\n            console.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\\r\\n\\r\\n        },\\r\\n        makeFrustum: function ( left, right, bottom, top, near, far ) {\\r\\n\\r\\n            console.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\\r\\n            return this.makePerspective( left, right, top, bottom, near, far );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Plane.prototype.isIntersectionLine = function ( line ) {\\r\\n\\r\\n        console.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\\r\\n        return this.intersectsLine( line );\\r\\n\\r\\n    };\\r\\n\\r\\n    Quaternion.prototype.multiplyVector3 = function ( vector ) {\\r\\n\\r\\n        console.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\\r\\n        return vector.applyQuaternion( this );\\r\\n\\r\\n    };\\r\\n\\r\\n    Object.assign( Ray.prototype, {\\r\\n\\r\\n        isIntersectionBox: function ( box ) {\\r\\n\\r\\n            console.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\\r\\n            return this.intersectsBox( box );\\r\\n\\r\\n        },\\r\\n        isIntersectionPlane: function ( plane ) {\\r\\n\\r\\n            console.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\\r\\n            return this.intersectsPlane( plane );\\r\\n\\r\\n        },\\r\\n        isIntersectionSphere: function ( sphere ) {\\r\\n\\r\\n            console.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\\r\\n            return this.intersectsSphere( sphere );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Triangle.prototype, {\\r\\n\\r\\n        area: function () {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\\r\\n            return this.getArea();\\r\\n\\r\\n        },\\r\\n        barycoordFromPoint: function ( point, target ) {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\\r\\n            return this.getBarycoord( point, target );\\r\\n\\r\\n        },\\r\\n        midpoint: function ( target ) {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\\r\\n            return this.getMidpoint( target );\\r\\n\\r\\n        },\\r\\n        normal: function ( target ) {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\\r\\n            return this.getNormal( target );\\r\\n\\r\\n        },\\r\\n        plane: function ( target ) {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\\r\\n            return this.getPlane( target );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Triangle, {\\r\\n\\r\\n        barycoordFromPoint: function ( point, a, b, c, target ) {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\\r\\n            return Triangle.getBarycoord( point, a, b, c, target );\\r\\n\\r\\n        },\\r\\n        normal: function ( a, b, c, target ) {\\r\\n\\r\\n            console.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\\r\\n            return Triangle.getNormal( a, b, c, target );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Shape.prototype, {\\r\\n\\r\\n        extractAllPoints: function ( divisions ) {\\r\\n\\r\\n            console.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\\r\\n            return this.extractPoints( divisions );\\r\\n\\r\\n        },\\r\\n        extrude: function ( options ) {\\r\\n\\r\\n            console.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\\r\\n            return new ExtrudeGeometry( this, options );\\r\\n\\r\\n        },\\r\\n        makeGeometry: function ( options ) {\\r\\n\\r\\n            console.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\\r\\n            return new ShapeGeometry( this, options );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Vector2.prototype, {\\r\\n\\r\\n        fromAttribute: function ( attribute, index, offset ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\\r\\n            return this.fromBufferAttribute( attribute, index, offset );\\r\\n\\r\\n        },\\r\\n        distanceToManhattan: function ( v ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\\r\\n            return this.manhattanDistanceTo( v );\\r\\n\\r\\n        },\\r\\n        lengthManhattan: function () {\\r\\n\\r\\n            console.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\\r\\n            return this.manhattanLength();\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Vector3.prototype, {\\r\\n\\r\\n        setEulerFromRotationMatrix: function () {\\r\\n\\r\\n            console.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\\r\\n\\r\\n        },\\r\\n        setEulerFromQuaternion: function () {\\r\\n\\r\\n            console.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\\r\\n\\r\\n        },\\r\\n        getPositionFromMatrix: function ( m ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\\r\\n            return this.setFromMatrixPosition( m );\\r\\n\\r\\n        },\\r\\n        getScaleFromMatrix: function ( m ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\\r\\n            return this.setFromMatrixScale( m );\\r\\n\\r\\n        },\\r\\n        getColumnFromMatrix: function ( index, matrix ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\\r\\n            return this.setFromMatrixColumn( matrix, index );\\r\\n\\r\\n        },\\r\\n        applyProjection: function ( m ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\\r\\n            return this.applyMatrix4( m );\\r\\n\\r\\n        },\\r\\n        fromAttribute: function ( attribute, index, offset ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\\r\\n            return this.fromBufferAttribute( attribute, index, offset );\\r\\n\\r\\n        },\\r\\n        distanceToManhattan: function ( v ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\\r\\n            return this.manhattanDistanceTo( v );\\r\\n\\r\\n        },\\r\\n        lengthManhattan: function () {\\r\\n\\r\\n            console.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\\r\\n            return this.manhattanLength();\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Vector4.prototype, {\\r\\n\\r\\n        fromAttribute: function ( attribute, index, offset ) {\\r\\n\\r\\n            console.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\\r\\n            return this.fromBufferAttribute( attribute, index, offset );\\r\\n\\r\\n        },\\r\\n        lengthManhattan: function () {\\r\\n\\r\\n            console.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\\r\\n            return this.manhattanLength();\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( Geometry.prototype, {\\r\\n\\r\\n        computeTangents: function () {\\r\\n\\r\\n            console.error( 'THREE.Geometry: .computeTangents() has been removed.' );\\r\\n\\r\\n        },\\r\\n        computeLineDistances: function () {\\r\\n\\r\\n            console.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( Object3D.prototype, {\\r\\n\\r\\n        getChildByName: function ( name ) {\\r\\n\\r\\n            console.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\\r\\n            return this.getObjectByName( name );\\r\\n\\r\\n        },\\r\\n        renderDepth: function () {\\r\\n\\r\\n            console.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\\r\\n\\r\\n        },\\r\\n        translate: function ( distance, axis ) {\\r\\n\\r\\n            console.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\\r\\n            return this.translateOnAxis( axis, distance );\\r\\n\\r\\n        },\\r\\n        getWorldRotation: function () {\\r\\n\\r\\n            console.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( Object3D.prototype, {\\r\\n\\r\\n        eulerOrder: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\\r\\n                return this.rotation.order;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\\r\\n                this.rotation.order = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        useQuaternion: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\\r\\n\\r\\n            },\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( LOD.prototype, {\\r\\n\\r\\n        objects: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\\r\\n                return this.levels;\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperty( Skeleton.prototype, 'useVertexTexture', {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\\r\\n\\r\\n        },\\r\\n        set: function () {\\r\\n\\r\\n            console.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperty( Curve.prototype, '__arcLengthDivisions', {\\r\\n\\r\\n        get: function () {\\r\\n\\r\\n            console.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\\r\\n            return this.arcLengthDivisions;\\r\\n\\r\\n        },\\r\\n        set: function ( value ) {\\r\\n\\r\\n            console.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\\r\\n            this.arcLengthDivisions = value;\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    PerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\\r\\n\\r\\n        console.warn( \\\"THREE.PerspectiveCamera.setLens is deprecated. \\\" +\\r\\n            \\\"Use .setFocalLength and .filmGauge for a photographic setup.\\\" );\\r\\n\\r\\n        if ( filmGauge !== undefined ) this.filmGauge = filmGauge;\\r\\n        this.setFocalLength( focalLength );\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.defineProperties( Light.prototype, {\\r\\n        onlyShadow: {\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.Light: .onlyShadow has been removed.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraFov: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\\r\\n                this.shadow.camera.fov = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraLeft: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\\r\\n                this.shadow.camera.left = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraRight: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\\r\\n                this.shadow.camera.right = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraTop: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\\r\\n                this.shadow.camera.top = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraBottom: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\\r\\n                this.shadow.camera.bottom = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraNear: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\\r\\n                this.shadow.camera.near = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraFar: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\\r\\n                this.shadow.camera.far = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowCameraVisible: {\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowBias: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\\r\\n                this.shadow.bias = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowDarkness: {\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowDarkness has been removed.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowMapWidth: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\\r\\n                this.shadow.mapSize.width = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowMapHeight: {\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\\r\\n                this.shadow.mapSize.height = value;\\r\\n\\r\\n            }\\r\\n        }\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.defineProperties( BufferAttribute.prototype, {\\r\\n\\r\\n        length: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\\r\\n                return this.array.length;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        copyIndicesArray: function ( /* indices */ ) {\\r\\n\\r\\n            console.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.assign( BufferGeometry.prototype, {\\r\\n\\r\\n        addIndex: function ( index ) {\\r\\n\\r\\n            console.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\\r\\n            this.setIndex( index );\\r\\n\\r\\n        },\\r\\n        addDrawCall: function ( start, count, indexOffset ) {\\r\\n\\r\\n            if ( indexOffset !== undefined ) {\\r\\n\\r\\n                console.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\\r\\n\\r\\n            }\\r\\n            console.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\\r\\n            this.addGroup( start, count );\\r\\n\\r\\n        },\\r\\n        clearDrawCalls: function () {\\r\\n\\r\\n            console.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\\r\\n            this.clearGroups();\\r\\n\\r\\n        },\\r\\n        computeTangents: function () {\\r\\n\\r\\n            console.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\\r\\n\\r\\n        },\\r\\n        computeOffsets: function () {\\r\\n\\r\\n            console.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( BufferGeometry.prototype, {\\r\\n\\r\\n        drawcalls: {\\r\\n            get: function () {\\r\\n\\r\\n                console.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\\r\\n                return this.groups;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        offsets: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\\r\\n                return this.groups;\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( ExtrudeBufferGeometry.prototype, {\\r\\n\\r\\n        getArrays: function () {\\r\\n\\r\\n            console.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\\r\\n\\r\\n        },\\r\\n\\r\\n        addShapeList: function () {\\r\\n\\r\\n            console.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\\r\\n\\r\\n        },\\r\\n\\r\\n        addShape: function () {\\r\\n\\r\\n            console.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.defineProperties( Uniform.prototype, {\\r\\n\\r\\n        dynamic: {\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        onUpdate: {\\r\\n            value: function () {\\r\\n\\r\\n                console.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\\r\\n                return this;\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.defineProperties( Material.prototype, {\\r\\n\\r\\n        wrapAround: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.Material: .wrapAround has been removed.' );\\r\\n\\r\\n            },\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.Material: .wrapAround has been removed.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        wrapRGB: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.Material: .wrapRGB has been removed.' );\\r\\n                return new Color();\\r\\n\\r\\n            }\\r\\n        },\\r\\n\\r\\n        shading: {\\r\\n            get: function () {\\r\\n\\r\\n                console.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\\r\\n                this.flatShading = ( value === FlatShading );\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( MeshPhongMaterial.prototype, {\\r\\n\\r\\n        metal: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\\r\\n                return false;\\r\\n\\r\\n            },\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( ShaderMaterial.prototype, {\\r\\n\\r\\n        derivatives: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\\r\\n                return this.extensions.derivatives;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\\r\\n                this.extensions.derivatives = value;\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.assign( WebGLRenderer.prototype, {\\r\\n\\r\\n        clearTarget: function ( renderTarget, color, depth, stencil ) {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\\r\\n            this.setRenderTarget( renderTarget );\\r\\n            this.clear( color, depth, stencil );\\r\\n\\r\\n        },\\r\\n\\r\\n        animate: function ( callback ) {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\\r\\n            this.setAnimationLoop( callback );\\r\\n\\r\\n        },\\r\\n\\r\\n        getCurrentRenderTarget: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\\r\\n            return this.getRenderTarget();\\r\\n\\r\\n        },\\r\\n\\r\\n        getMaxAnisotropy: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\\r\\n            return this.capabilities.getMaxAnisotropy();\\r\\n\\r\\n        },\\r\\n\\r\\n        getPrecision: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\\r\\n            return this.capabilities.precision;\\r\\n\\r\\n        },\\r\\n\\r\\n        resetGLState: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\\r\\n            return this.state.reset();\\r\\n\\r\\n        },\\r\\n\\r\\n        supportsFloatTextures: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\\\'OES_texture_float\\\\' ).' );\\r\\n            return this.extensions.get( 'OES_texture_float' );\\r\\n\\r\\n        },\\r\\n        supportsHalfFloatTextures: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\\\'OES_texture_half_float\\\\' ).' );\\r\\n            return this.extensions.get( 'OES_texture_half_float' );\\r\\n\\r\\n        },\\r\\n        supportsStandardDerivatives: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\\\'OES_standard_derivatives\\\\' ).' );\\r\\n            return this.extensions.get( 'OES_standard_derivatives' );\\r\\n\\r\\n        },\\r\\n        supportsCompressedTextureS3TC: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\\\'WEBGL_compressed_texture_s3tc\\\\' ).' );\\r\\n            return this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\\r\\n\\r\\n        },\\r\\n        supportsCompressedTexturePVRTC: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\\\'WEBGL_compressed_texture_pvrtc\\\\' ).' );\\r\\n            return this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\\r\\n\\r\\n        },\\r\\n        supportsBlendMinMax: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\\\'EXT_blend_minmax\\\\' ).' );\\r\\n            return this.extensions.get( 'EXT_blend_minmax' );\\r\\n\\r\\n        },\\r\\n        supportsVertexTextures: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\\r\\n            return this.capabilities.vertexTextures;\\r\\n\\r\\n        },\\r\\n        supportsInstancedArrays: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\\\'ANGLE_instanced_arrays\\\\' ).' );\\r\\n            return this.extensions.get( 'ANGLE_instanced_arrays' );\\r\\n\\r\\n        },\\r\\n        enableScissorTest: function ( boolean ) {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\\r\\n            this.setScissorTest( boolean );\\r\\n\\r\\n        },\\r\\n        initMaterial: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\\r\\n\\r\\n        },\\r\\n        addPrePlugin: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\\r\\n\\r\\n        },\\r\\n        addPostPlugin: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\\r\\n\\r\\n        },\\r\\n        updateShadowMap: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\\r\\n\\r\\n        },\\r\\n        setFaceCulling: function () {\\r\\n\\r\\n            console.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\\r\\n\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( WebGLRenderer.prototype, {\\r\\n\\r\\n        shadowMapEnabled: {\\r\\n            get: function () {\\r\\n\\r\\n                return this.shadowMap.enabled;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\\r\\n                this.shadowMap.enabled = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowMapType: {\\r\\n            get: function () {\\r\\n\\r\\n                return this.shadowMap.type;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\\r\\n                this.shadowMap.type = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        shadowMapCullFace: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\\r\\n                return undefined;\\r\\n\\r\\n            },\\r\\n            set: function ( /* value */ ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\\r\\n\\r\\n            }\\r\\n        }\\r\\n    } );\\r\\n\\r\\n    Object.defineProperties( WebGLShadowMap.prototype, {\\r\\n\\r\\n        cullFace: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\\r\\n                return undefined;\\r\\n\\r\\n            },\\r\\n            set: function ( /* cullFace */ ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        renderReverseSided: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\\r\\n                return undefined;\\r\\n\\r\\n            },\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        renderSingleSided: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\\r\\n                return undefined;\\r\\n\\r\\n            },\\r\\n            set: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.defineProperties( WebGLRenderTarget.prototype, {\\r\\n\\r\\n        wrapS: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\\r\\n                return this.texture.wrapS;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\\r\\n                this.texture.wrapS = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        wrapT: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\\r\\n                return this.texture.wrapT;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\\r\\n                this.texture.wrapT = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        magFilter: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\\r\\n                return this.texture.magFilter;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\\r\\n                this.texture.magFilter = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        minFilter: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\\r\\n                return this.texture.minFilter;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\\r\\n                this.texture.minFilter = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        anisotropy: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\\r\\n                return this.texture.anisotropy;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\\r\\n                this.texture.anisotropy = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        offset: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\\r\\n                return this.texture.offset;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\\r\\n                this.texture.offset = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        repeat: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\\r\\n                return this.texture.repeat;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\\r\\n                this.texture.repeat = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        format: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\\r\\n                return this.texture.format;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\\r\\n                this.texture.format = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        type: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\\r\\n                return this.texture.type;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\\r\\n                this.texture.type = value;\\r\\n\\r\\n            }\\r\\n        },\\r\\n        generateMipmaps: {\\r\\n            get: function () {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\\r\\n                return this.texture.generateMipmaps;\\r\\n\\r\\n            },\\r\\n            set: function ( value ) {\\r\\n\\r\\n                console.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\\r\\n                this.texture.generateMipmaps = value;\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Object.defineProperties( WebVRManager.prototype, {\\r\\n\\r\\n        standing: {\\r\\n            set: function ( /* value */ ) {\\r\\n\\r\\n                console.warn( 'THREE.WebVRManager: .standing has been removed.' );\\r\\n\\r\\n            }\\r\\n        },\\r\\n        userHeight: {\\r\\n            set: function ( /* value */ ) {\\r\\n\\r\\n                console.warn( 'THREE.WebVRManager: .userHeight has been removed.' );\\r\\n\\r\\n            }\\r\\n        }\\r\\n\\r\\n    } );\\r\\n\\r\\n    //\\r\\n\\r\\n    Audio.prototype.load = function ( file ) {\\r\\n\\r\\n        console.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\\r\\n        var scope = this;\\r\\n        var audioLoader = new AudioLoader();\\r\\n        audioLoader.load( file, function ( buffer ) {\\r\\n\\r\\n            scope.setBuffer( buffer );\\r\\n\\r\\n        } );\\r\\n        return this;\\r\\n\\r\\n    };\\r\\n\\r\\n    AudioAnalyser.prototype.getData = function () {\\r\\n\\r\\n        console.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\\r\\n        return this.getFrequencyData();\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    CubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\\r\\n\\r\\n        console.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\\r\\n        return this.update( renderer, scene );\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    var GeometryUtils = {\\r\\n\\r\\n        merge: function ( geometry1, geometry2, materialIndexOffset ) {\\r\\n\\r\\n            console.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\\r\\n            var matrix;\\r\\n\\r\\n            if ( geometry2.isMesh ) {\\r\\n\\r\\n                geometry2.matrixAutoUpdate && geometry2.updateMatrix();\\r\\n\\r\\n                matrix = geometry2.matrix;\\r\\n                geometry2 = geometry2.geometry;\\r\\n\\r\\n            }\\r\\n\\r\\n            geometry1.merge( geometry2, matrix, materialIndexOffset );\\r\\n\\r\\n        },\\r\\n\\r\\n        center: function ( geometry ) {\\r\\n\\r\\n            console.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\\r\\n            return geometry.center();\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    ImageUtils.crossOrigin = undefined;\\r\\n\\r\\n    ImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\\r\\n\\r\\n        console.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\\r\\n\\r\\n        var loader = new TextureLoader();\\r\\n        loader.setCrossOrigin( this.crossOrigin );\\r\\n\\r\\n        var texture = loader.load( url, onLoad, undefined, onError );\\r\\n\\r\\n        if ( mapping ) texture.mapping = mapping;\\r\\n\\r\\n        return texture;\\r\\n\\r\\n    };\\r\\n\\r\\n    ImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\\r\\n\\r\\n        console.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\\r\\n\\r\\n        var loader = new CubeTextureLoader();\\r\\n        loader.setCrossOrigin( this.crossOrigin );\\r\\n\\r\\n        var texture = loader.load( urls, onLoad, undefined, onError );\\r\\n\\r\\n        if ( mapping ) texture.mapping = mapping;\\r\\n\\r\\n        return texture;\\r\\n\\r\\n    };\\r\\n\\r\\n    ImageUtils.loadCompressedTexture = function () {\\r\\n\\r\\n        console.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\\r\\n\\r\\n    };\\r\\n\\r\\n    ImageUtils.loadCompressedTextureCube = function () {\\r\\n\\r\\n        console.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    function Projector() {\\r\\n\\r\\n        console.error( 'THREE.Projector has been moved to /examples/js/renderers/Projector.js.' );\\r\\n\\r\\n        this.projectVector = function ( vector, camera ) {\\r\\n\\r\\n            console.warn( 'THREE.Projector: .projectVector() is now vector.project().' );\\r\\n            vector.project( camera );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.unprojectVector = function ( vector, camera ) {\\r\\n\\r\\n            console.warn( 'THREE.Projector: .unprojectVector() is now vector.unproject().' );\\r\\n            vector.unproject( camera );\\r\\n\\r\\n        };\\r\\n\\r\\n        this.pickingRay = function () {\\r\\n\\r\\n            console.error( 'THREE.Projector: .pickingRay() is now raycaster.setFromCamera().' );\\r\\n\\r\\n        };\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    function CanvasRenderer() {\\r\\n\\r\\n        console.error( 'THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js' );\\r\\n\\r\\n        this.domElement = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\\r\\n        this.clear = function () {};\\r\\n        this.render = function () {};\\r\\n        this.setClearColor = function () {};\\r\\n        this.setSize = function () {};\\r\\n\\r\\n    }\\r\\n\\r\\n    //\\r\\n\\r\\n    var SceneUtils = {\\r\\n\\r\\n        createMultiMaterialObject: function ( /* geometry, materials */ ) {\\r\\n\\r\\n            console.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\\r\\n\\r\\n        },\\r\\n\\r\\n        detach: function ( /* child, parent, scene */ ) {\\r\\n\\r\\n            console.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\\r\\n\\r\\n        },\\r\\n\\r\\n        attach: function ( /* child, scene, parent */ ) {\\r\\n\\r\\n            console.error( 'THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js' );\\r\\n\\r\\n        }\\r\\n\\r\\n    };\\r\\n\\r\\n    //\\r\\n\\r\\n    function LensFlare() {\\r\\n\\r\\n        console.error( 'THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js' );\\r\\n\\r\\n    }\\r\\n\\r\\n    exports.WebGLRenderTargetCube = WebGLRenderTargetCube;\\r\\n    exports.WebGLRenderTarget = WebGLRenderTarget;\\r\\n    exports.WebGLRenderer = WebGLRenderer;\\r\\n    exports.ShaderLib = ShaderLib;\\r\\n    exports.UniformsLib = UniformsLib;\\r\\n    exports.UniformsUtils = UniformsUtils;\\r\\n    exports.ShaderChunk = ShaderChunk;\\r\\n    exports.FogExp2 = FogExp2;\\r\\n    exports.Fog = Fog;\\r\\n    exports.Scene = Scene;\\r\\n    exports.Sprite = Sprite;\\r\\n    exports.LOD = LOD;\\r\\n    exports.SkinnedMesh = SkinnedMesh;\\r\\n    exports.Skeleton = Skeleton;\\r\\n    exports.Bone = Bone;\\r\\n    exports.Mesh = Mesh;\\r\\n    exports.LineSegments = LineSegments;\\r\\n    exports.LineLoop = LineLoop;\\r\\n    exports.Line = Line;\\r\\n    exports.Points = Points;\\r\\n    exports.Group = Group;\\r\\n    exports.VideoTexture = VideoTexture;\\r\\n    exports.DataTexture = DataTexture;\\r\\n    exports.DataTexture3D = DataTexture3D;\\r\\n    exports.CompressedTexture = CompressedTexture;\\r\\n    exports.CubeTexture = CubeTexture;\\r\\n    exports.CanvasTexture = CanvasTexture;\\r\\n    exports.DepthTexture = DepthTexture;\\r\\n    exports.Texture = Texture;\\r\\n    exports.CompressedTextureLoader = CompressedTextureLoader;\\r\\n    exports.DataTextureLoader = DataTextureLoader;\\r\\n    exports.CubeTextureLoader = CubeTextureLoader;\\r\\n    exports.TextureLoader = TextureLoader;\\r\\n    exports.ObjectLoader = ObjectLoader;\\r\\n    exports.MaterialLoader = MaterialLoader;\\r\\n    exports.BufferGeometryLoader = BufferGeometryLoader;\\r\\n    exports.DefaultLoadingManager = DefaultLoadingManager;\\r\\n    exports.LoadingManager = LoadingManager;\\r\\n    exports.JSONLoader = JSONLoader;\\r\\n    exports.ImageLoader = ImageLoader;\\r\\n    exports.ImageBitmapLoader = ImageBitmapLoader;\\r\\n    exports.FontLoader = FontLoader;\\r\\n    exports.FileLoader = FileLoader;\\r\\n    exports.Loader = Loader;\\r\\n    exports.LoaderUtils = LoaderUtils;\\r\\n    exports.Cache = Cache;\\r\\n    exports.AudioLoader = AudioLoader;\\r\\n    exports.SpotLightShadow = SpotLightShadow;\\r\\n    exports.SpotLight = SpotLight;\\r\\n    exports.PointLight = PointLight;\\r\\n    exports.RectAreaLight = RectAreaLight;\\r\\n    exports.HemisphereLight = HemisphereLight;\\r\\n    exports.DirectionalLightShadow = DirectionalLightShadow;\\r\\n    exports.DirectionalLight = DirectionalLight;\\r\\n    exports.AmbientLight = AmbientLight;\\r\\n    exports.LightShadow = LightShadow;\\r\\n    exports.Light = Light;\\r\\n    exports.StereoCamera = StereoCamera;\\r\\n    exports.PerspectiveCamera = PerspectiveCamera;\\r\\n    exports.OrthographicCamera = OrthographicCamera;\\r\\n    exports.CubeCamera = CubeCamera;\\r\\n    exports.ArrayCamera = ArrayCamera;\\r\\n    exports.Camera = Camera;\\r\\n    exports.AudioListener = AudioListener;\\r\\n    exports.PositionalAudio = PositionalAudio;\\r\\n    exports.AudioContext = AudioContext;\\r\\n    exports.AudioAnalyser = AudioAnalyser;\\r\\n    exports.Audio = Audio;\\r\\n    exports.VectorKeyframeTrack = VectorKeyframeTrack;\\r\\n    exports.StringKeyframeTrack = StringKeyframeTrack;\\r\\n    exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\\r\\n    exports.NumberKeyframeTrack = NumberKeyframeTrack;\\r\\n    exports.ColorKeyframeTrack = ColorKeyframeTrack;\\r\\n    exports.BooleanKeyframeTrack = BooleanKeyframeTrack;\\r\\n    exports.PropertyMixer = PropertyMixer;\\r\\n    exports.PropertyBinding = PropertyBinding;\\r\\n    exports.KeyframeTrack = KeyframeTrack;\\r\\n    exports.AnimationUtils = AnimationUtils;\\r\\n    exports.AnimationObjectGroup = AnimationObjectGroup;\\r\\n    exports.AnimationMixer = AnimationMixer;\\r\\n    exports.AnimationClip = AnimationClip;\\r\\n    exports.Uniform = Uniform;\\r\\n    exports.InstancedBufferGeometry = InstancedBufferGeometry;\\r\\n    exports.BufferGeometry = BufferGeometry;\\r\\n    exports.Geometry = Geometry;\\r\\n    exports.InterleavedBufferAttribute = InterleavedBufferAttribute;\\r\\n    exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\\r\\n    exports.InterleavedBuffer = InterleavedBuffer;\\r\\n    exports.InstancedBufferAttribute = InstancedBufferAttribute;\\r\\n    exports.Face3 = Face3;\\r\\n    exports.Object3D = Object3D;\\r\\n    exports.Raycaster = Raycaster;\\r\\n    exports.Layers = Layers;\\r\\n    exports.EventDispatcher = EventDispatcher;\\r\\n    exports.Clock = Clock;\\r\\n    exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\\r\\n    exports.LinearInterpolant = LinearInterpolant;\\r\\n    exports.DiscreteInterpolant = DiscreteInterpolant;\\r\\n    exports.CubicInterpolant = CubicInterpolant;\\r\\n    exports.Interpolant = Interpolant;\\r\\n    exports.Triangle = Triangle;\\r\\n    exports.Math = _Math;\\r\\n    exports.Spherical = Spherical;\\r\\n    exports.Cylindrical = Cylindrical;\\r\\n    exports.Plane = Plane;\\r\\n    exports.Frustum = Frustum;\\r\\n    exports.Sphere = Sphere;\\r\\n    exports.Ray = Ray;\\r\\n    exports.Matrix4 = Matrix4;\\r\\n    exports.Matrix3 = Matrix3;\\r\\n    exports.Box3 = Box3;\\r\\n    exports.Box2 = Box2;\\r\\n    exports.Line3 = Line3;\\r\\n    exports.Euler = Euler;\\r\\n    exports.Vector4 = Vector4;\\r\\n    exports.Vector3 = Vector3;\\r\\n    exports.Vector2 = Vector2;\\r\\n    exports.Quaternion = Quaternion;\\r\\n    exports.Color = Color;\\r\\n    exports.ImmediateRenderObject = ImmediateRenderObject;\\r\\n    exports.VertexNormalsHelper = VertexNormalsHelper;\\r\\n    exports.SpotLightHelper = SpotLightHelper;\\r\\n    exports.SkeletonHelper = SkeletonHelper;\\r\\n    exports.PointLightHelper = PointLightHelper;\\r\\n    exports.RectAreaLightHelper = RectAreaLightHelper;\\r\\n    exports.HemisphereLightHelper = HemisphereLightHelper;\\r\\n    exports.GridHelper = GridHelper;\\r\\n    exports.PolarGridHelper = PolarGridHelper;\\r\\n    exports.FaceNormalsHelper = FaceNormalsHelper;\\r\\n    exports.DirectionalLightHelper = DirectionalLightHelper;\\r\\n    exports.CameraHelper = CameraHelper;\\r\\n    exports.BoxHelper = BoxHelper;\\r\\n    exports.Box3Helper = Box3Helper;\\r\\n    exports.PlaneHelper = PlaneHelper;\\r\\n    exports.ArrowHelper = ArrowHelper;\\r\\n    exports.AxesHelper = AxesHelper;\\r\\n    exports.Shape = Shape;\\r\\n    exports.Path = Path;\\r\\n    exports.ShapePath = ShapePath;\\r\\n    exports.Font = Font;\\r\\n    exports.CurvePath = CurvePath;\\r\\n    exports.Curve = Curve;\\r\\n    exports.ImageUtils = ImageUtils;\\r\\n    exports.ShapeUtils = ShapeUtils;\\r\\n    exports.WebGLUtils = WebGLUtils;\\r\\n    exports.WireframeGeometry = WireframeGeometry;\\r\\n    exports.ParametricGeometry = ParametricGeometry;\\r\\n    exports.ParametricBufferGeometry = ParametricBufferGeometry;\\r\\n    exports.TetrahedronGeometry = TetrahedronGeometry;\\r\\n    exports.TetrahedronBufferGeometry = TetrahedronBufferGeometry;\\r\\n    exports.OctahedronGeometry = OctahedronGeometry;\\r\\n    exports.OctahedronBufferGeometry = OctahedronBufferGeometry;\\r\\n    exports.IcosahedronGeometry = IcosahedronGeometry;\\r\\n    exports.IcosahedronBufferGeometry = IcosahedronBufferGeometry;\\r\\n    exports.DodecahedronGeometry = DodecahedronGeometry;\\r\\n    exports.DodecahedronBufferGeometry = DodecahedronBufferGeometry;\\r\\n    exports.PolyhedronGeometry = PolyhedronGeometry;\\r\\n    exports.PolyhedronBufferGeometry = PolyhedronBufferGeometry;\\r\\n    exports.TubeGeometry = TubeGeometry;\\r\\n    exports.TubeBufferGeometry = TubeBufferGeometry;\\r\\n    exports.TorusKnotGeometry = TorusKnotGeometry;\\r\\n    exports.TorusKnotBufferGeometry = TorusKnotBufferGeometry;\\r\\n    exports.TorusGeometry = TorusGeometry;\\r\\n    exports.TorusBufferGeometry = TorusBufferGeometry;\\r\\n    exports.TextGeometry = TextGeometry;\\r\\n    exports.TextBufferGeometry = TextBufferGeometry;\\r\\n    exports.SphereGeometry = SphereGeometry;\\r\\n    exports.SphereBufferGeometry = SphereBufferGeometry;\\r\\n    exports.RingGeometry = RingGeometry;\\r\\n    exports.RingBufferGeometry = RingBufferGeometry;\\r\\n    exports.PlaneGeometry = PlaneGeometry;\\r\\n    exports.PlaneBufferGeometry = PlaneBufferGeometry;\\r\\n    exports.LatheGeometry = LatheGeometry;\\r\\n    exports.LatheBufferGeometry = LatheBufferGeometry;\\r\\n    exports.ShapeGeometry = ShapeGeometry;\\r\\n    exports.ShapeBufferGeometry = ShapeBufferGeometry;\\r\\n    exports.ExtrudeGeometry = ExtrudeGeometry;\\r\\n    exports.ExtrudeBufferGeometry = ExtrudeBufferGeometry;\\r\\n    exports.EdgesGeometry = EdgesGeometry;\\r\\n    exports.ConeGeometry = ConeGeometry;\\r\\n    exports.ConeBufferGeometry = ConeBufferGeometry;\\r\\n    exports.CylinderGeometry = CylinderGeometry;\\r\\n    exports.CylinderBufferGeometry = CylinderBufferGeometry;\\r\\n    exports.CircleGeometry = CircleGeometry;\\r\\n    exports.CircleBufferGeometry = CircleBufferGeometry;\\r\\n    exports.BoxGeometry = BoxGeometry;\\r\\n    exports.BoxBufferGeometry = BoxBufferGeometry;\\r\\n    exports.ShadowMaterial = ShadowMaterial;\\r\\n    exports.SpriteMaterial = SpriteMaterial;\\r\\n    exports.RawShaderMaterial = RawShaderMaterial;\\r\\n    exports.ShaderMaterial = ShaderMaterial;\\r\\n    exports.PointsMaterial = PointsMaterial;\\r\\n    exports.MeshPhysicalMaterial = MeshPhysicalMaterial;\\r\\n    exports.MeshStandardMaterial = MeshStandardMaterial;\\r\\n    exports.MeshPhongMaterial = MeshPhongMaterial;\\r\\n    exports.MeshToonMaterial = MeshToonMaterial;\\r\\n    exports.MeshNormalMaterial = MeshNormalMaterial;\\r\\n    exports.MeshLambertMaterial = MeshLambertMaterial;\\r\\n    exports.MeshDepthMaterial = MeshDepthMaterial;\\r\\n    exports.MeshDistanceMaterial = MeshDistanceMaterial;\\r\\n    exports.MeshBasicMaterial = MeshBasicMaterial;\\r\\n    exports.MeshMatcapMaterial = MeshMatcapMaterial;\\r\\n    exports.LineDashedMaterial = LineDashedMaterial;\\r\\n    exports.LineBasicMaterial = LineBasicMaterial;\\r\\n    exports.Material = Material;\\r\\n    exports.Float64BufferAttribute = Float64BufferAttribute;\\r\\n    exports.Float32BufferAttribute = Float32BufferAttribute;\\r\\n    exports.Uint32BufferAttribute = Uint32BufferAttribute;\\r\\n    exports.Int32BufferAttribute = Int32BufferAttribute;\\r\\n    exports.Uint16BufferAttribute = Uint16BufferAttribute;\\r\\n    exports.Int16BufferAttribute = Int16BufferAttribute;\\r\\n    exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\\r\\n    exports.Uint8BufferAttribute = Uint8BufferAttribute;\\r\\n    exports.Int8BufferAttribute = Int8BufferAttribute;\\r\\n    exports.BufferAttribute = BufferAttribute;\\r\\n    exports.ArcCurve = ArcCurve;\\r\\n    exports.CatmullRomCurve3 = CatmullRomCurve3;\\r\\n    exports.CubicBezierCurve = CubicBezierCurve;\\r\\n    exports.CubicBezierCurve3 = CubicBezierCurve3;\\r\\n    exports.EllipseCurve = EllipseCurve;\\r\\n    exports.LineCurve = LineCurve;\\r\\n    exports.LineCurve3 = LineCurve3;\\r\\n    exports.QuadraticBezierCurve = QuadraticBezierCurve;\\r\\n    exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\\r\\n    exports.SplineCurve = SplineCurve;\\r\\n    exports.REVISION = REVISION;\\r\\n    exports.MOUSE = MOUSE;\\r\\n    exports.CullFaceNone = CullFaceNone;\\r\\n    exports.CullFaceBack = CullFaceBack;\\r\\n    exports.CullFaceFront = CullFaceFront;\\r\\n    exports.CullFaceFrontBack = CullFaceFrontBack;\\r\\n    exports.FrontFaceDirectionCW = FrontFaceDirectionCW;\\r\\n    exports.FrontFaceDirectionCCW = FrontFaceDirectionCCW;\\r\\n    exports.BasicShadowMap = BasicShadowMap;\\r\\n    exports.PCFShadowMap = PCFShadowMap;\\r\\n    exports.PCFSoftShadowMap = PCFSoftShadowMap;\\r\\n    exports.FrontSide = FrontSide;\\r\\n    exports.BackSide = BackSide;\\r\\n    exports.DoubleSide = DoubleSide;\\r\\n    exports.FlatShading = FlatShading;\\r\\n    exports.SmoothShading = SmoothShading;\\r\\n    exports.NoColors = NoColors;\\r\\n    exports.FaceColors = FaceColors;\\r\\n    exports.VertexColors = VertexColors;\\r\\n    exports.NoBlending = NoBlending;\\r\\n    exports.NormalBlending = NormalBlending;\\r\\n    exports.AdditiveBlending = AdditiveBlending;\\r\\n    exports.SubtractiveBlending = SubtractiveBlending;\\r\\n    exports.MultiplyBlending = MultiplyBlending;\\r\\n    exports.CustomBlending = CustomBlending;\\r\\n    exports.AddEquation = AddEquation;\\r\\n    exports.SubtractEquation = SubtractEquation;\\r\\n    exports.ReverseSubtractEquation = ReverseSubtractEquation;\\r\\n    exports.MinEquation = MinEquation;\\r\\n    exports.MaxEquation = MaxEquation;\\r\\n    exports.ZeroFactor = ZeroFactor;\\r\\n    exports.OneFactor = OneFactor;\\r\\n    exports.SrcColorFactor = SrcColorFactor;\\r\\n    exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\\r\\n    exports.SrcAlphaFactor = SrcAlphaFactor;\\r\\n    exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\\r\\n    exports.DstAlphaFactor = DstAlphaFactor;\\r\\n    exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\\r\\n    exports.DstColorFactor = DstColorFactor;\\r\\n    exports.OneMinusDstColorFactor = OneMinusDstColorFactor;\\r\\n    exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\\r\\n    exports.NeverDepth = NeverDepth;\\r\\n    exports.AlwaysDepth = AlwaysDepth;\\r\\n    exports.LessDepth = LessDepth;\\r\\n    exports.LessEqualDepth = LessEqualDepth;\\r\\n    exports.EqualDepth = EqualDepth;\\r\\n    exports.GreaterEqualDepth = GreaterEqualDepth;\\r\\n    exports.GreaterDepth = GreaterDepth;\\r\\n    exports.NotEqualDepth = NotEqualDepth;\\r\\n    exports.MultiplyOperation = MultiplyOperation;\\r\\n    exports.MixOperation = MixOperation;\\r\\n    exports.AddOperation = AddOperation;\\r\\n    exports.NoToneMapping = NoToneMapping;\\r\\n    exports.LinearToneMapping = LinearToneMapping;\\r\\n    exports.ReinhardToneMapping = ReinhardToneMapping;\\r\\n    exports.Uncharted2ToneMapping = Uncharted2ToneMapping;\\r\\n    exports.CineonToneMapping = CineonToneMapping;\\r\\n    exports.UVMapping = UVMapping;\\r\\n    exports.CubeReflectionMapping = CubeReflectionMapping;\\r\\n    exports.CubeRefractionMapping = CubeRefractionMapping;\\r\\n    exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\\r\\n    exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\\r\\n    exports.SphericalReflectionMapping = SphericalReflectionMapping;\\r\\n    exports.CubeUVReflectionMapping = CubeUVReflectionMapping;\\r\\n    exports.CubeUVRefractionMapping = CubeUVRefractionMapping;\\r\\n    exports.RepeatWrapping = RepeatWrapping;\\r\\n    exports.ClampToEdgeWrapping = ClampToEdgeWrapping;\\r\\n    exports.MirroredRepeatWrapping = MirroredRepeatWrapping;\\r\\n    exports.NearestFilter = NearestFilter;\\r\\n    exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\\r\\n    exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\\r\\n    exports.LinearFilter = LinearFilter;\\r\\n    exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\\r\\n    exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\\r\\n    exports.UnsignedByteType = UnsignedByteType;\\r\\n    exports.ByteType = ByteType;\\r\\n    exports.ShortType = ShortType;\\r\\n    exports.UnsignedShortType = UnsignedShortType;\\r\\n    exports.IntType = IntType;\\r\\n    exports.UnsignedIntType = UnsignedIntType;\\r\\n    exports.FloatType = FloatType;\\r\\n    exports.HalfFloatType = HalfFloatType;\\r\\n    exports.UnsignedShort4444Type = UnsignedShort4444Type;\\r\\n    exports.UnsignedShort5551Type = UnsignedShort5551Type;\\r\\n    exports.UnsignedShort565Type = UnsignedShort565Type;\\r\\n    exports.UnsignedInt248Type = UnsignedInt248Type;\\r\\n    exports.AlphaFormat = AlphaFormat;\\r\\n    exports.RGBFormat = RGBFormat;\\r\\n    exports.RGBAFormat = RGBAFormat;\\r\\n    exports.LuminanceFormat = LuminanceFormat;\\r\\n    exports.LuminanceAlphaFormat = LuminanceAlphaFormat;\\r\\n    exports.RGBEFormat = RGBEFormat;\\r\\n    exports.DepthFormat = DepthFormat;\\r\\n    exports.DepthStencilFormat = DepthStencilFormat;\\r\\n    exports.RedFormat = RedFormat;\\r\\n    exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\\r\\n    exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\\r\\n    exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\\r\\n    exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\\r\\n    exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\\r\\n    exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\\r\\n    exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\\r\\n    exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\\r\\n    exports.RGB_ETC1_Format = RGB_ETC1_Format;\\r\\n    exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\\r\\n    exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\\r\\n    exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\\r\\n    exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\\r\\n    exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\\r\\n    exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\\r\\n    exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\\r\\n    exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\\r\\n    exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\\r\\n    exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\\r\\n    exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\\r\\n    exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\\r\\n    exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\\r\\n    exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\\r\\n    exports.LoopOnce = LoopOnce;\\r\\n    exports.LoopRepeat = LoopRepeat;\\r\\n    exports.LoopPingPong = LoopPingPong;\\r\\n    exports.InterpolateDiscrete = InterpolateDiscrete;\\r\\n    exports.InterpolateLinear = InterpolateLinear;\\r\\n    exports.InterpolateSmooth = InterpolateSmooth;\\r\\n    exports.ZeroCurvatureEnding = ZeroCurvatureEnding;\\r\\n    exports.ZeroSlopeEnding = ZeroSlopeEnding;\\r\\n    exports.WrapAroundEnding = WrapAroundEnding;\\r\\n    exports.TrianglesDrawMode = TrianglesDrawMode;\\r\\n    exports.TriangleStripDrawMode = TriangleStripDrawMode;\\r\\n    exports.TriangleFanDrawMode = TriangleFanDrawMode;\\r\\n    exports.LinearEncoding = LinearEncoding;\\r\\n    exports.sRGBEncoding = sRGBEncoding;\\r\\n    exports.GammaEncoding = GammaEncoding;\\r\\n    exports.RGBEEncoding = RGBEEncoding;\\r\\n    exports.LogLuvEncoding = LogLuvEncoding;\\r\\n    exports.RGBM7Encoding = RGBM7Encoding;\\r\\n    exports.RGBM16Encoding = RGBM16Encoding;\\r\\n    exports.RGBDEncoding = RGBDEncoding;\\r\\n    exports.BasicDepthPacking = BasicDepthPacking;\\r\\n    exports.RGBADepthPacking = RGBADepthPacking;\\r\\n    exports.TangentSpaceNormalMap = TangentSpaceNormalMap;\\r\\n    exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\\r\\n    exports.CubeGeometry = BoxGeometry;\\r\\n    exports.Face4 = Face4;\\r\\n    exports.LineStrip = LineStrip;\\r\\n    exports.LinePieces = LinePieces;\\r\\n    exports.MeshFaceMaterial = MeshFaceMaterial;\\r\\n    exports.MultiMaterial = MultiMaterial;\\r\\n    exports.PointCloud = PointCloud;\\r\\n    exports.Particle = Particle;\\r\\n    exports.ParticleSystem = ParticleSystem;\\r\\n    exports.PointCloudMaterial = PointCloudMaterial;\\r\\n    exports.ParticleBasicMaterial = ParticleBasicMaterial;\\r\\n    exports.ParticleSystemMaterial = ParticleSystemMaterial;\\r\\n    exports.Vertex = Vertex;\\r\\n    exports.DynamicBufferAttribute = DynamicBufferAttribute;\\r\\n    exports.Int8Attribute = Int8Attribute;\\r\\n    exports.Uint8Attribute = Uint8Attribute;\\r\\n    exports.Uint8ClampedAttribute = Uint8ClampedAttribute;\\r\\n    exports.Int16Attribute = Int16Attribute;\\r\\n    exports.Uint16Attribute = Uint16Attribute;\\r\\n    exports.Int32Attribute = Int32Attribute;\\r\\n    exports.Uint32Attribute = Uint32Attribute;\\r\\n    exports.Float32Attribute = Float32Attribute;\\r\\n    exports.Float64Attribute = Float64Attribute;\\r\\n    exports.ClosedSplineCurve3 = ClosedSplineCurve3;\\r\\n    exports.SplineCurve3 = SplineCurve3;\\r\\n    exports.Spline = Spline;\\r\\n    exports.AxisHelper = AxisHelper;\\r\\n    exports.BoundingBoxHelper = BoundingBoxHelper;\\r\\n    exports.EdgesHelper = EdgesHelper;\\r\\n    exports.WireframeHelper = WireframeHelper;\\r\\n    exports.XHRLoader = XHRLoader;\\r\\n    exports.BinaryTextureLoader = BinaryTextureLoader;\\r\\n    exports.GeometryUtils = GeometryUtils;\\r\\n    exports.Projector = Projector;\\r\\n    exports.CanvasRenderer = CanvasRenderer;\\r\\n    exports.SceneUtils = SceneUtils;\\r\\n    exports.LensFlare = LensFlare;\\r\\n\\r\\n    Object.defineProperty(exports, '__esModule', { value: true });\\r\\n\\r\\n})));\"]}","code":"!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){\"use strict\";var r,i,a,o;function s(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}n(2),n(3),n(4),!1===WEBGL.isWebGLAvailable()&&document.body.appendChild(WEBGL.getWebGLErrorMessage()),function(){(a=new THREE.Scene).background=new THREE.Color(16777215),a.fog=new THREE.FogExp2(13421772,.002),(o=new THREE.WebGLRenderer({antialias:!0})).setPixelRatio(window.devicePixelRatio),o.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(o.domElement),(r=new THREE.PerspectiveCamera(90,window.innerWidth/window.innerHeight,.1,1e3)).position.set(-170,170,40),(i=new THREE.OrbitControls(r,o.domElement)).enableDamping=!0,i.dampingFactor=.25,i.screenSpacePanning=!1,i.minDistance=10,i.maxDistance=50,i.maxPolarAngle=Math.PI/2;var t=new THREE.CylinderBufferGeometry(0,10,30,4,1),e=new THREE.SphereGeometry(4,12*Math.random(),12*Math.random()),n=new THREE.CubeGeometry(4,4,4),c=new THREE.MeshPhongMaterial({color:16777215,flatShading:!0}),h=document.querySelector(\".create\"),l=document.querySelector(\"#figure-type\"),u={cube:\"cube\",sphere:\"sphere\",pyramid:\"pyramid\"},p=document.querySelector(\"#scale\"),d=document.querySelector(\".list\"),f=document.querySelectorAll(\".list-item\");h.addEventListener(\"click\",function(r){var i;r.preventDefault(),l.value===u.cube?(p.value&&(n.scale(p.value,p.value,p.value),p.value=1),i=new THREE.Mesh(n,c)):l.value===u.sphere?(p.value&&(e.scale(p.value,p.value,p.value),p.value=1),i=new THREE.Mesh(e,c)):(p.value&&(t.scale(p.value,p.value,p.value),p.value=1),i=new THREE.Mesh(t,c)),i.position.x=300*Math.random(),i.position.y=0,i.position.z=300*Math.random(),i.updateMatrix(),i.matrixAutoUpdate=!1,a.add(i);var o=document.createElement(\"li\");o.setAttribute(\"id\",i.uuid),o.innerHTML=\"<span>\"+i.uuid+'</span><div class=\"close\">X</div>',d.appendChild(o),(f=document.querySelectorAll(\".list li\"))[f.length-1].querySelector(\".close\").addEventListener(\"click\",function(){this.parentElement.remove(),a.remove(i)})}),(m=new THREE.DirectionalLight(16777215)).position.set(1,1,1),a.add(m),(m=new THREE.DirectionalLight(8840)).position.set(-1,-1,-1),a.add(m);var m=new THREE.AmbientLight(2236962);a.add(m),window.addEventListener(\"resize\",s,!1)}(),function t(){requestAnimationFrame(t);i.update();o.render(a,r)}()},function(t,e,n){\"use strict\";THREE.OrbitControls=function(t,e){this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new THREE.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:THREE.MOUSE.LEFT,MIDDLE:THREE.MOUSE.MIDDLE,RIGHT:THREE.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=function(){var e=new THREE.Vector3,i=(new THREE.Quaternion).setFromUnitVectors(t.up,new THREE.Vector3(0,1,0)),a=i.clone().inverse(),f=new THREE.Vector3,m=new THREE.Quaternion;return function(){var t=n.object.position;return e.copy(t).sub(n.target),e.applyQuaternion(i),h.setFromVector3(e),n.autoRotate&&s===o.NONE&&E(2*Math.PI/60/60*n.autoRotateSpeed),h.theta+=l.theta,h.phi+=l.phi,h.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,h.theta)),h.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=u,h.radius=Math.max(n.minDistance,Math.min(n.maxDistance,h.radius)),n.target.add(p),e.setFromSpherical(h),e.applyQuaternion(a),t.copy(n.target).add(e),n.object.lookAt(n.target),!0===n.enableDamping?(l.theta*=1-n.dampingFactor,l.phi*=1-n.dampingFactor,p.multiplyScalar(1-n.dampingFactor)):(l.set(0,0,0),p.set(0,0,0)),u=1,!!(d||f.distanceToSquared(n.object.position)>c||8*(1-m.dot(n.object.quaternion))>c)&&(n.dispatchEvent(r),f.copy(n.object.position),m.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener(\"contextmenu\",H,!1),n.domElement.removeEventListener(\"mousedown\",O,!1),n.domElement.removeEventListener(\"wheel\",D,!1),n.domElement.removeEventListener(\"touchstart\",B,!1),n.domElement.removeEventListener(\"touchend\",z,!1),n.domElement.removeEventListener(\"touchmove\",F,!1),document.removeEventListener(\"mousemove\",I,!1),document.removeEventListener(\"mouseup\",N,!1),window.removeEventListener(\"keydown\",U,!1)};var n=this,r={type:\"change\"},i={type:\"start\"},a={type:\"end\"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},s=o.NONE,c=1e-6,h=new THREE.Spherical,l=new THREE.Spherical,u=1,p=new THREE.Vector3,d=!1,f=new THREE.Vector2,m=new THREE.Vector2,g=new THREE.Vector2,v=new THREE.Vector2,y=new THREE.Vector2,x=new THREE.Vector2,b=new THREE.Vector2,_=new THREE.Vector2,w=new THREE.Vector2;function M(){return Math.pow(.95,n.zoomSpeed)}function E(t){l.theta-=t}function T(t){l.phi-=t}var S=function(){var t=new THREE.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),p.add(t)}}(),A=function(){var t=new THREE.Vector3;return function(e,r){!0===n.screenSpacePanning?t.setFromMatrixColumn(r,1):(t.setFromMatrixColumn(r,0),t.crossVectors(n.object.up,t)),t.multiplyScalar(e),p.add(t)}}(),L=function(){var t=new THREE.Vector3;return function(e,r){var i=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var a=n.object.position;t.copy(a).sub(n.target);var o=t.length();o*=Math.tan(n.object.fov/2*Math.PI/180),S(2*e*o/i.clientHeight,n.object.matrix),A(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(S(e*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),A(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.\"),n.enablePan=!1)}}();function R(t){n.object.isPerspectiveCamera?u/=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*t)),n.object.updateProjectionMatrix(),d=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),n.enableZoom=!1)}function P(t){n.object.isPerspectiveCamera?u*=t:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/t)),n.object.updateProjectionMatrix(),d=!0):(console.warn(\"WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.\"),n.enableZoom=!1)}function C(t){v.set(t.clientX,t.clientY)}function O(t){if(!1!==n.enabled){switch(t.preventDefault(),t.button){case n.mouseButtons.LEFT:if(t.ctrlKey||t.metaKey){if(!1===n.enablePan)return;C(t),s=o.PAN}else{if(!1===n.enableRotate)return;!function(t){f.set(t.clientX,t.clientY)}(t),s=o.ROTATE}break;case n.mouseButtons.MIDDLE:if(!1===n.enableZoom)return;!function(t){b.set(t.clientX,t.clientY)}(t),s=o.DOLLY;break;case n.mouseButtons.RIGHT:if(!1===n.enablePan)return;C(t),s=o.PAN}s!==o.NONE&&(document.addEventListener(\"mousemove\",I,!1),document.addEventListener(\"mouseup\",N,!1),n.dispatchEvent(i))}}function I(t){if(!1!==n.enabled)switch(t.preventDefault(),s){case o.ROTATE:if(!1===n.enableRotate)return;!function(t){m.set(t.clientX,t.clientY),g.subVectors(m,f).multiplyScalar(n.rotateSpeed);var e=n.domElement===document?n.domElement.body:n.domElement;E(2*Math.PI*g.x/e.clientHeight),T(2*Math.PI*g.y/e.clientHeight),f.copy(m),n.update()}(t);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(t){_.set(t.clientX,t.clientY),w.subVectors(_,b),w.y>0?R(M()):w.y<0&&P(M()),b.copy(_),n.update()}(t);break;case o.PAN:if(!1===n.enablePan)return;!function(t){y.set(t.clientX,t.clientY),x.subVectors(y,v).multiplyScalar(n.panSpeed),L(x.x,x.y),v.copy(y),n.update()}(t)}}function N(t){!1!==n.enabled&&(document.removeEventListener(\"mousemove\",I,!1),document.removeEventListener(\"mouseup\",N,!1),n.dispatchEvent(a),s=o.NONE)}function D(t){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(t.preventDefault(),t.stopPropagation(),n.dispatchEvent(i),function(t){t.deltaY<0?P(M()):t.deltaY>0&&R(M()),n.update()}(t),n.dispatchEvent(a))}function U(t){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(t){switch(t.keyCode){case n.keys.UP:L(0,n.keyPanSpeed),n.update();break;case n.keys.BOTTOM:L(0,-n.keyPanSpeed),n.update();break;case n.keys.LEFT:L(n.keyPanSpeed,0),n.update();break;case n.keys.RIGHT:L(-n.keyPanSpeed,0),n.update()}}(t)}function B(t){if(!1!==n.enabled){switch(t.preventDefault(),t.touches.length){case 1:if(!1===n.enableRotate)return;!function(t){f.set(t.touches[0].pageX,t.touches[0].pageY)}(t),s=o.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(t){if(n.enableZoom){var e=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+r*r);b.set(0,i)}if(n.enablePan){var a=.5*(t.touches[0].pageX+t.touches[1].pageX),o=.5*(t.touches[0].pageY+t.touches[1].pageY);v.set(a,o)}}(t),s=o.TOUCH_DOLLY_PAN;break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}}function F(t){if(!1!==n.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===n.enableRotate)return;if(s!==o.TOUCH_ROTATE)return;!function(t){m.set(t.touches[0].pageX,t.touches[0].pageY),g.subVectors(m,f).multiplyScalar(n.rotateSpeed);var e=n.domElement===document?n.domElement.body:n.domElement;E(2*Math.PI*g.x/e.clientHeight),T(2*Math.PI*g.y/e.clientHeight),f.copy(m),n.update()}(t);break;case 2:if(!1===n.enableZoom&&!1===n.enablePan)return;if(s!==o.TOUCH_DOLLY_PAN)return;!function(t){if(n.enableZoom){var e=t.touches[0].pageX-t.touches[1].pageX,r=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+r*r);_.set(0,i),w.set(0,Math.pow(_.y/b.y,n.zoomSpeed)),R(w.y),b.copy(_)}if(n.enablePan){var a=.5*(t.touches[0].pageX+t.touches[1].pageX),o=.5*(t.touches[0].pageY+t.touches[1].pageY);y.set(a,o),x.subVectors(y,v).multiplyScalar(n.panSpeed),L(x.x,x.y),v.copy(y)}n.update()}(t);break;default:s=o.NONE}}function z(t){!1!==n.enabled&&(n.dispatchEvent(a),s=o.NONE)}function H(t){!1!==n.enabled&&t.preventDefault()}n.domElement.addEventListener(\"contextmenu\",H,!1),n.domElement.addEventListener(\"mousedown\",O,!1),n.domElement.addEventListener(\"wheel\",D,!1),n.domElement.addEventListener(\"touchstart\",B,!1),n.domElement.addEventListener(\"touchend\",z,!1),n.domElement.addEventListener(\"touchmove\",F,!1),window.addEventListener(\"keydown\",U,!1),this.update()},THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.OrbitControls.prototype.constructor=THREE.OrbitControls,Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){return console.warn(\"THREE.OrbitControls: .center has been renamed to .target\"),this.target}},noZoom:{get:function(){return console.warn(\"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"),!this.enableZoom},set:function(t){console.warn(\"THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.\"),this.enableZoom=!t}},noRotate:{get:function(){return console.warn(\"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"),!this.enableRotate},set:function(t){console.warn(\"THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.\"),this.enableRotate=!t}},noPan:{get:function(){return console.warn(\"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"),!this.enablePan},set:function(t){console.warn(\"THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.\"),this.enablePan=!t}},noKeys:{get:function(){return console.warn(\"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"),!this.enableKeys},set:function(t){console.warn(\"THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.\"),this.enableKeys=!t}},staticMoving:{get:function(){return console.warn(\"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"),!this.enableDamping},set:function(t){console.warn(\"THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.\"),this.enableDamping=!t}},dynamicDampingFactor:{get:function(){return console.warn(\"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"),this.dampingFactor},set:function(t){console.warn(\"THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.\"),this.dampingFactor=t}}})},function(t,e,n){\"use strict\"},function(t,e,n){\"use strict\";var r,i,a,o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t};!function(n,s){\"object\"===o(e)&&void 0!==t?s(e):(i=[e],void 0===(a=\"function\"==typeof(r=s)?r.apply(e,i):r)||(t.exports=a))}(0,function(t){function e(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return\"number\"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),\"name\"in Function.prototype==!1&&Object.defineProperty(Function.prototype,\"name\",{get:function(){return this.toString().match(/^\\s*function\\s*([^\\(\\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(void 0===t||null===t)throw new TypeError(\"Cannot convert undefined or null to object\");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(e.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,t)}}}});var n=\"97\",r=0,i=1,a=2,s=1,c=2,h=0,l=1,u=2,p=0,d=1,f=2,m=0,g=1,v=2,y=3,x=4,b=5,_=100,w=101,M=102,E=103,T=104,S=200,A=201,L=202,R=203,P=204,C=205,O=206,I=207,N=208,D=209,U=210,B=0,F=1,z=2,H=3,G=4,V=5,k=6,j=7,W=0,X=1,q=2,Y=0,Z=1,J=2,Q=3,K=4,$=301,tt=302,et=303,nt=304,rt=305,it=306,at=307,ot=1e3,st=1001,ct=1002,ht=1003,lt=1004,ut=1005,pt=1006,dt=1007,ft=1008,mt=1009,gt=1010,vt=1011,yt=1012,xt=1013,bt=1014,_t=1015,wt=1016,Mt=1017,Et=1018,Tt=1019,St=1020,At=1021,Lt=1022,Rt=1023,Pt=1024,Ct=1025,Ot=Rt,It=1026,Nt=1027,Dt=1028,Ut=33776,Bt=33777,Ft=33778,zt=33779,Ht=35840,Gt=35841,Vt=35842,kt=35843,jt=36196,Wt=37808,Xt=37809,qt=37810,Yt=37811,Zt=37812,Jt=37813,Qt=37814,Kt=37815,$t=37816,te=37817,ee=37818,ne=37819,re=37820,ie=37821,ae=2201,oe=2400,se=0,ce=1,he=2,le=3e3,ue=3001,pe=3007,de=3002,fe=3004,me=3005,ge=3006,ve=3200,ye=3201,xe=0,be=1,_e={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?\"0\":\"\")+e.toString(16);return function(){var e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+\"-\"+t[255&n]+t[n>>8&255]+\"-\"+t[n>>16&15|64]+t[n>>24&255]+\"-\"+t[63&r|128]+t[r>>8&255]+\"-\"+t[r>>16&255]+t[r>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]).toUpperCase()}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*_e.DEG2RAD},radToDeg:function(t){return t*_e.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function we(t,e){this.x=t||0,this.y=e||0}function Me(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.\")}function Ee(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1}function Te(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}function Se(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error(\"THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.\")}Object.defineProperties(we.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(we.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new we,e=new we;return function(n,r){return t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector2: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}}),Object.assign(Me.prototype,{isMatrix4:!0,set:function(t,e,n,r,i,a,o,s,c,h,l,u,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=c,g[6]=h,g[10]=l,g[14]=u,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Me).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t=new Te;return function(e){var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}}(),makeRotationFromEuler:function(t){t&&t.isEuler||console.error(\"THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.\");var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),c=Math.sin(r),h=Math.cos(i),l=Math.sin(i);if(\"XYZ\"===t.order){var u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=-s*l,e[8]=c,e[1]=p+d*c,e[5]=u-f*c,e[9]=-o*s,e[2]=f-u*c,e[6]=d+p*c,e[10]=a*s}else if(\"YXZ\"===t.order){var m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m+y*o,e[4]=v*o-g,e[8]=a*c,e[1]=a*l,e[5]=a*h,e[9]=-o,e[2]=g*o-v,e[6]=y+m*o,e[10]=a*s}else if(\"ZXY\"===t.order){m=s*h,g=s*l,v=c*h,y=c*l;e[0]=m-y*o,e[4]=-a*l,e[8]=v+g*o,e[1]=g+v*o,e[5]=a*h,e[9]=y-m*o,e[2]=-a*c,e[6]=o,e[10]=a*s}else if(\"ZYX\"===t.order){u=a*h,p=a*l,d=o*h,f=o*l;e[0]=s*h,e[4]=d*c-p,e[8]=u*c+f,e[1]=s*l,e[5]=f*c+u,e[9]=p*c-d,e[2]=-c,e[6]=o*s,e[10]=a*s}else if(\"YZX\"===t.order){var x=a*s,b=a*c,_=o*s,w=o*c;e[0]=s*h,e[4]=w-x*l,e[8]=_*l+b,e[1]=l,e[5]=a*h,e[9]=-o*h,e[2]=-c*h,e[6]=b*l+_,e[10]=x-w*l}else if(\"XZY\"===t.order){x=a*s,b=a*c,_=o*s,w=o*c;e[0]=s*h,e[4]=-l,e[8]=c*h,e[1]=x*l+w,e[5]=a*h,e[9]=b*l-_,e[2]=_*l-b,e[6]=o*h,e[10]=w*l+x}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(){var t=new Te(0,0,0),e=new Te(1,1,1);return function(n){return this.compose(t,n,e)}}(),lookAt:function(){var t=new Te,e=new Te,n=new Te;return function(r,i,a){var o=this.elements;return n.subVectors(r,i),0===n.lengthSq()&&(n.z=1),n.normalize(),t.crossVectors(a,n),0===t.lengthSq()&&(1===Math.abs(a.z)?n.x+=1e-4:n.z+=1e-4,n.normalize(),t.crossVectors(a,n)),t.normalize(),e.crossVectors(n,t),o[0]=t.x,o[4]=e.x,o[8]=n.x,o[1]=t.y,o[5]=e.y,o[9]=n.y,o[2]=t.z,o[6]=e.z,o[10]=n.z,this}}(),multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.\"),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],c=n[12],h=n[1],l=n[5],u=n[9],p=n[13],d=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],x=n[11],b=n[15],_=r[0],w=r[4],M=r[8],E=r[12],T=r[1],S=r[5],A=r[9],L=r[13],R=r[2],P=r[6],C=r[10],O=r[14],I=r[3],N=r[7],D=r[11],U=r[15];return i[0]=a*_+o*T+s*R+c*I,i[4]=a*w+o*S+s*P+c*N,i[8]=a*M+o*A+s*C+c*D,i[12]=a*E+o*L+s*O+c*U,i[1]=h*_+l*T+u*R+p*I,i[5]=h*w+l*S+u*P+p*N,i[9]=h*M+l*A+u*C+p*D,i[13]=h*E+l*L+u*O+p*U,i[2]=d*_+f*T+m*R+g*I,i[6]=d*w+f*S+m*P+g*N,i[10]=d*M+f*A+m*C+g*D,i[14]=d*E+f*L+m*O+g*U,i[3]=v*_+y*T+x*R+b*I,i[7]=v*w+y*S+x*P+b*N,i[11]=v*M+y*A+x*C+b*D,i[15]=v*E+y*L+x*O+b*U,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new Te;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix4(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],c=t[13],h=t[2],l=t[6],u=t[10],p=t[14];return t[3]*(+i*s*l-r*c*l-i*o*u+n*c*u+r*o*p-n*s*p)+t[7]*(+e*s*p-e*c*u+i*a*u-r*a*p+r*c*h-i*s*h)+t[11]*(+e*c*l-e*o*p-i*a*l+n*a*p+i*o*h-n*c*h)+t[15]*(-r*o*h-e*s*l+e*o*u+r*a*l-n*a*u+n*s*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],c=r[4],h=r[5],l=r[6],u=r[7],p=r[8],d=r[9],f=r[10],m=r[11],g=r[12],v=r[13],y=r[14],x=r[15],b=d*y*u-v*f*u+v*l*m-h*y*m-d*l*x+h*f*x,_=g*f*u-p*y*u-g*l*m+c*y*m+p*l*x-c*f*x,w=p*v*u-g*d*u+g*h*m-c*v*m-p*h*x+c*d*x,M=g*d*l-p*v*l-g*h*f+c*v*f+p*h*y-c*d*y,E=i*b+a*_+o*w+s*M;if(0===E){var T=\"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var S=1/E;return n[0]=b*S,n[1]=(v*f*s-d*y*s-v*o*m+a*y*m+d*o*x-a*f*x)*S,n[2]=(h*y*s-v*l*s+v*o*u-a*y*u-h*o*x+a*l*x)*S,n[3]=(d*l*s-h*f*s-d*o*u+a*f*u+h*o*m-a*l*m)*S,n[4]=_*S,n[5]=(p*y*s-g*f*s+g*o*m-i*y*m-p*o*x+i*f*x)*S,n[6]=(g*l*s-c*y*s-g*o*u+i*y*u+c*o*x-i*l*x)*S,n[7]=(c*f*s-p*l*s+p*o*u-i*f*u-c*o*m+i*l*m)*S,n[8]=w*S,n[9]=(g*d*s-p*v*s-g*a*m+i*v*m+p*a*x-i*d*x)*S,n[10]=(c*v*s-g*h*s+g*a*u-i*v*u-c*a*x+i*h*x)*S,n[11]=(p*h*s-c*d*s-p*a*u+i*d*u+c*a*m-i*h*m)*S,n[12]=M*S,n[13]=(p*v*o-g*d*o+g*a*f-i*v*f-p*a*y+i*d*y)*S,n[14]=(g*h*o-c*v*o-g*a*l+i*v*l+c*a*y-i*h*y)*S,n[15]=(c*d*o-p*h*o+p*a*l-i*d*l-c*a*f+i*h*f)*S,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,c=i*a,h=i*o;return this.set(c*a+n,c*o-r*s,c*s+r*o,0,c*o+r*s,h*o+n,h*s-r*a,0,c*s-r*o,h*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var r=this.elements,i=e._x,a=e._y,o=e._z,s=e._w,c=i+i,h=a+a,l=o+o,u=i*c,p=i*h,d=i*l,f=a*h,m=a*l,g=o*l,v=s*c,y=s*h,x=s*l,b=n.x,_=n.y,w=n.z;return r[0]=(1-(f+g))*b,r[1]=(p+x)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(p-x)*_,r[5]=(1-(u+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(d+y)*w,r[9]=(m-v)*w,r[10]=(1-(u+f))*w,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this},decompose:function(){var t=new Te,e=new Me;return function(n,r,i){var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),c=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],e.copy(this);var h=1/o,l=1/s,u=1/c;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=u,e.elements[9]*=u,e.elements[10]*=u,r.setFromRotationMatrix(e),i.x=o,i.y=s,i.z=c,this}}(),makePerspective:function(t,e,n,r,i,a){void 0===a&&console.warn(\"THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.\");var o=this.elements,s=2*i/(e-t),c=2*i/(n-r),h=(e+t)/(e-t),l=(n+r)/(n-r),u=-(a+i)/(a-i),p=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=h,o[12]=0,o[1]=0,o[5]=c,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=u,o[14]=p,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makeOrthographic:function(t,e,n,r,i,a){var o=this.elements,s=1/(e-t),c=1/(n-r),h=1/(a-i),l=(e+t)*s,u=(n+r)*c,p=(a+i)*h;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*c,o[9]=0,o[13]=-u,o[2]=0,o[6]=0,o[10]=-2*h,o[14]=-p,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}),Object.assign(Ee,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,a,o){var s=n[r+0],c=n[r+1],h=n[r+2],l=n[r+3],u=i[a+0],p=i[a+1],d=i[a+2],f=i[a+3];if(l!==f||s!==u||c!==p||h!==d){var m=1-o,g=s*u+c*p+h*d+l*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var x=Math.sqrt(y),b=Math.atan2(x,g*v);m=Math.sin(m*b)/x,o=Math.sin(o*b)/x}var _=o*v;if(s=s*m+u*_,c=c*m+p*_,h=h*m+d*_,l=l*m+f*_,m===1-o){var w=1/Math.sqrt(s*s+c*c+h*h+l*l);s*=w,c*=w,h*=w,l*=w}}t[e]=s,t[e+1]=c,t[e+2]=h,t[e+3]=l}}),Object.defineProperties(Ee.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(Ee.prototype,{isQuaternion:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error(\"THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.\");var n=t._x,r=t._y,i=t._z,a=t.order,o=Math.cos,s=Math.sin,c=o(n/2),h=o(r/2),l=o(i/2),u=s(n/2),p=s(r/2),d=s(i/2);return\"XYZ\"===a?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):\"YXZ\"===a?(this._x=u*h*l+c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):\"ZXY\"===a?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l-u*p*d):\"ZYX\"===a?(this._x=u*h*l-c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l+u*p*d):\"YZX\"===a?(this._x=u*h*l+c*p*d,this._y=c*p*l+u*h*d,this._z=c*h*d-u*p*l,this._w=c*h*l-u*p*d):\"XZY\"===a&&(this._x=u*h*l-c*p*d,this._y=c*p*l-u*h*d,this._z=c*h*d+u*p*l,this._w=c*h*l+u*p*d),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],c=n[9],h=n[2],l=n[6],u=n[10],p=r+s+u;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(l-c)*e,this._y=(a-h)*e,this._z=(o-i)*e):r>s&&r>u?(e=2*Math.sqrt(1+r-s-u),this._w=(l-c)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(a+h)/e):s>u?(e=2*Math.sqrt(1+s-r-u),this._w=(a-h)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(c+l)/e):(e=2*Math.sqrt(1+u-r-s),this._w=(o-i)/e,this._x=(a+h)/e,this._y=(c+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new Te;return function(n,r){return void 0===e&&(e=new Te),(t=n.dot(r)+1)<1e-6?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,r),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),angleTo:function(t){return 2*Math.acos(Math.abs(_e.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.\"),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,c=e._z,h=e._w;return this._x=n*h+a*o+r*c-i*s,this._y=r*h+a*s+i*o-n*c,this._z=i*h+a*c+n*s-r*o,this._w=a*h-n*o-r*s-i*c,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var c=1-e;return this._w=c*a+e*this._w,this._x=c*n+e*this._x,this._y=c*r+e*this._y,this._z=c*i+e*this._z,this.normalize()}var h=Math.sqrt(s),l=Math.atan2(h,o),u=Math.sin((1-e)*l)/h,p=Math.sin(e*l)/h;return this._w=a*u+this._w*p,this._x=n*u+this._x*p,this._y=r*u+this._y*p,this._z=i*u+this._z*p,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Te.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.\"),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new Ee;return function(e){return e&&e.isEuler||console.error(\"THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.\"),this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new Ee;return function(e,n){return this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,c=s*e+a*r-o*n,h=s*n+o*e-i*r,l=s*r+i*n-a*e,u=-i*e-a*n-o*r;return this.x=c*s+u*-i+h*-o-l*-a,this.y=h*s+u*-a+l*-i-c*-o,this.z=l*s+u*-o+c*-a-h*-i,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(){var t=new Me;return function(e){return this.applyMatrix4(t.getInverse(e.projectionMatrix)).applyMatrix4(e.matrixWorld)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new Te,e=new Te;return function(n,r){return t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.\"),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new Te;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new Te;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(_e.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector3: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}}),Object.assign(Se.prototype,{isMatrix3:!0,set:function(t,e,n,r,i,a,o,s,c){var h=this.elements;return h[0]=t,h[1]=r,h[2]=o,h[3]=e,h[4]=i,h[5]=s,h[6]=n,h[7]=a,h[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new Te;return function(e){for(var n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.applyMatrix3(this),e.setXYZ(n,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[3],s=n[6],c=n[1],h=n[4],l=n[7],u=n[2],p=n[5],d=n[8],f=r[0],m=r[3],g=r[6],v=r[1],y=r[4],x=r[7],b=r[2],_=r[5],w=r[8];return i[0]=a*f+o*v+s*b,i[3]=a*m+o*y+s*_,i[6]=a*g+o*x+s*w,i[1]=c*f+h*v+l*b,i[4]=c*m+h*y+l*_,i[7]=c*g+h*x+l*w,i[2]=u*f+p*v+d*b,i[5]=u*m+p*y+d*_,i[8]=u*g+p*x+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],c=t[7],h=t[8];return e*a*h-e*o*c-n*i*h+n*o*s+r*i*c-r*a*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error(\"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\");var n=t.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],c=n[4],h=n[5],l=n[6],u=n[7],p=n[8],d=p*c-h*u,f=h*l-p*s,m=u*s-c*l,g=i*d+a*f+o*m;if(0===g){var v=\"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return r[0]=d*y,r[1]=(o*u-p*a)*y,r[2]=(h*a-o*c)*y,r[3]=f*y,r[4]=(p*i-o*l)*y,r[5]=(o*s-h*i)*y,r[6]=m*y,r[7]=(a*l-u*i)*y,r[8]=(c*i-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,r,i,a,o){var s=Math.cos(i),c=Math.sin(i);this.set(n*s,n*c,-n*(s*a+c*o)+a+t,-r*c,r*s,-r*(-c*a+s*o)+o+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],c=r[4],h=r[7];return r[0]=e*i+n*s,r[3]=e*a+n*c,r[6]=e*o+n*h,r[1]=-n*i+e*s,r[4]=-n*a+e*c,r[7]=-n*o+e*h,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var Ae={getDataURL:function(t){var e;if(t instanceof HTMLCanvasElement)e=t;else{(e=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")).width=t.width,e.height=t.height;var n=e.getContext(\"2d\");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height)}return e.width>2048||e.height>2048?e.toDataURL(\"image/jpeg\",.6):e.toDataURL(\"image/png\")}},Le=0;function Re(t,e,n,r,i,a,o,s,c,h){Object.defineProperty(this,\"id\",{value:Le++}),this.uuid=_e.generateUUID(),this.name=\"\",this.image=void 0!==t?t:Re.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:Re.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:st,this.wrapT=void 0!==r?r:st,this.magFilter=void 0!==i?i:pt,this.minFilter=void 0!==a?a:ft,this.anisotropy=void 0!==c?c:1,this.format=void 0!==o?o:Rt,this.type=void 0!==s?s:mt,this.offset=new we(0,0),this.repeat=new we(1,1),this.center=new we(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Se,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==h?h:le,this.version=0,this.onUpdate=null}function Pe(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1}function Ce(t,e,n){this.width=t,this.height=e,this.scissor=new Pe(0,0,t,e),this.scissorTest=!1,this.viewport=new Pe(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=pt),this.texture=new Re(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.generateMipmaps=void 0===n.generateMipmaps||n.generateMipmaps,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function Oe(t,e,n){Ce.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0}function Ie(t,e,n,r,i,a,o,s,c,h,l,u){Re.call(this,null,a,o,s,c,h,r,i,l,u),this.image={data:t,width:e,height:n},this.magFilter=void 0!==c?c:ht,this.minFilter=void 0!==h?h:ht,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function Ne(t,e){this.min=void 0!==t?t:new Te(1/0,1/0,1/0),this.max=void 0!==e?e:new Te(-1/0,-1/0,-1/0)}function De(t,e){this.center=void 0!==t?t:new Te,this.radius=void 0!==e?e:0}function Ue(t,e){this.normal=void 0!==t?t:new Te(1,0,0),this.constant=void 0!==e?e:0}function Be(t,e,n,r,i,a){this.planes=[void 0!==t?t:new Ue,void 0!==e?e:new Ue,void 0!==n?n:new Ue,void 0!==r?r:new Ue,void 0!==i?i:new Ue,void 0!==a?a:new Ue]}Re.DEFAULT_IMAGE=void 0,Re.DEFAULT_MAPPING=300,Re.prototype=Object.assign(Object.create(e.prototype),{constructor:Re,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||\"string\"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:\"Texture\",generator:\"Texture.toJSON\"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=_e.generateUUID()),!e&&void 0===t.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)i.push(Ae.getDataURL(r[a]))}else i=Ae.getDataURL(r);t.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:\"dispose\"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ot:t.x=t.x-Math.floor(t.x);break;case st:t.x=t.x<0?0:1;break;case ct:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ot:t.y=t.y-Math.floor(t.y);break;case st:t.y=t.y<0?0:1;break;case ct:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(Re.prototype,\"needsUpdate\",{set:function(t){!0===t&&this.version++}}),Object.assign(Pe.prototype,{isVector4:!0,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error(\"index is out of range: \"+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error(\"index is out of range: \"+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.\"),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn(\"THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.\"),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,a=t.elements,o=a[0],s=a[4],c=a[8],h=a[1],l=a[5],u=a[9],p=a[2],d=a[6],f=a[10];if(Math.abs(s-h)<.01&&Math.abs(c-p)<.01&&Math.abs(u-d)<.01){if(Math.abs(s+h)<.1&&Math.abs(c+p)<.1&&Math.abs(u+d)<.1&&Math.abs(o+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,g=(l+1)/2,v=(f+1)/2,y=(s+h)/4,x=(c+p)/4,b=(u+d)/4;return m>g&&m>v?m<.01?(n=0,r=.707106781,i=.707106781):(r=y/(n=Math.sqrt(m)),i=x/n):g>v?g<.01?(n=.707106781,r=0,i=.707106781):(n=y/(r=Math.sqrt(g)),i=b/r):v<.01?(n=.707106781,r=.707106781,i=0):(n=x/(i=Math.sqrt(v)),r=b/i),this.set(n,r,i,e),this}var _=Math.sqrt((d-u)*(d-u)+(c-p)*(c-p)+(h-s)*(h-s));return Math.abs(_)<.001&&(_=1),this.x=(d-u)/_,this.y=(c-p)/_,this.z=(h-s)/_,this.w=Math.acos((o+l+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new Pe,e=new Pe),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn(\"THREE.Vector4: offset has been removed from .fromBufferAttribute().\"),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),Ce.prototype=Object.assign(Object.create(e.prototype),{constructor:Ce,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),Oe.prototype=Object.create(Ce.prototype),Oe.prototype.constructor=Oe,Oe.prototype.isWebGLRenderTargetCube=!0,Ie.prototype=Object.create(Re.prototype),Ie.prototype.constructor=Ie,Ie.prototype.isDataTexture=!0,Object.assign(Ne.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=t.length;s<c;s+=3){var h=t[s],l=t[s+1],u=t[s+2];h<e&&(e=h),l<n&&(n=l),u<r&&(r=u),h>i&&(i=h),l>a&&(a=l),u>o&&(o=u)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,c=t.count;s<c;s++){var h=t.getX(s),l=t.getY(s),u=t.getZ(s);h<e&&(e=h),l<n&&(n=l),u<r&&(r=u),h>i&&(i=h),l>a&&(a=l),u>o&&(o=u)}return this.min.set(e,n,r),this.max.set(i,a,o),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new Te;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn(\"THREE.Box3: .getCenter() target is now required\"),t=new Te),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn(\"THREE.Box3: .getSize() target is now required\"),t=new Te),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){var t,e,n,r=new Te;function i(i){var a=i.geometry;if(void 0!==a)if(a.isGeometry){var o=a.vertices;for(e=0,n=o.length;e<n;e++)r.copy(o[e]),r.applyMatrix4(i.matrixWorld),t.expandByPoint(r)}else if(a.isBufferGeometry){var s=a.attributes.position;if(void 0!==s)for(e=0,n=s.count;e<n;e++)r.fromBufferAttribute(s,e).applyMatrix4(i.matrixWorld),t.expandByPoint(r)}}return function(e){return t=this,e.updateMatrixWorld(!0),e.traverse(i),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn(\"THREE.Box3: .getParameter() target is now required\"),e=new Te),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new Te;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(){var t=new Te,e=new Te,n=new Te,r=new Te,i=new Te,a=new Te,o=new Te,s=new Te,c=new Te,h=new Te;function l(r){var i,a;for(i=0,a=r.length-3;i<=a;i+=3){o.fromArray(r,i);var s=c.x*Math.abs(o.x)+c.y*Math.abs(o.y)+c.z*Math.abs(o.z),h=t.dot(o),l=e.dot(o),u=n.dot(o);if(Math.max(-Math.max(h,l,u),Math.min(h,l,u))>s)return!1}return!0}return function(o){if(this.isEmpty())return!1;this.getCenter(s),c.subVectors(this.max,s),t.subVectors(o.a,s),e.subVectors(o.b,s),n.subVectors(o.c,s),r.subVectors(e,t),i.subVectors(n,e),a.subVectors(t,n);var u=[0,-r.z,r.y,0,-i.z,i.y,0,-a.z,a.y,r.z,0,-r.x,i.z,0,-i.x,a.z,0,-a.x,-r.y,r.x,0,-i.y,i.x,0,-a.y,a.x,0];return!!l(u)&&(!!l(u=[1,0,0,0,1,0,0,0,1])&&(h.crossVectors(r,i),l(u=[h.x,h.y,h.z])))}}(),clampPoint:function(t,e){return void 0===e&&(console.warn(\"THREE.Box3: .clampPoint() target is now required\"),e=new Te),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new Te;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new Te;return function(e){return void 0===e&&(console.warn(\"THREE.Box3: .getBoundingSphere() target is now required\"),e=new De),this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new Te,new Te,new Te,new Te,new Te,new Te,new Te,new Te];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(De.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new Ne;return function(e,n){var r=this.center;void 0!==n?r.copy(n):t.setFromPoints(e).getCenter(r);for(var i=0,a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn(\"THREE.Sphere: .clampPoint() target is now required\"),e=new Te),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn(\"THREE.Sphere: .getBoundingBox() target is now required\"),t=new Ne),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}),Object.assign(Ue.prototype,{set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new Te,e=new Te;return function(n,r,i){var a=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn(\"THREE.Plane: .projectPoint() target is now required\"),e=new Te),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(){var t=new Te;return function(e,n){void 0===n&&(console.warn(\"THREE.Plane: .intersectLine() target is now required\"),n=new Te);var r=e.delta(t),i=this.normal.dot(r);if(0===i)return 0===this.distanceToPoint(e.start)?n.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?void 0:n.copy(r).multiplyScalar(a).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn(\"THREE.Plane: .coplanarPoint() target is now required\"),t=new Te),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new Te,e=new Se;return function(n,r){var i=r||e.getNormalMatrix(n),a=this.coplanarPoint(t).applyMatrix4(n),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}}(),translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}),Object.assign(Be.prototype,{set:function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5],h=n[6],l=n[7],u=n[8],p=n[9],d=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(o-r,l-s,f-u,y-m).normalize(),e[1].setComponents(o+r,l+s,f+u,y+m).normalize(),e[2].setComponents(o+i,l+c,f+p,y+g).normalize(),e[3].setComponents(o-i,l-c,f-p,y-g).normalize(),e[4].setComponents(o-a,l-h,f-d,y-v).normalize(),e[5].setComponents(o+a,l+h,f+d,y+v).normalize(),this},intersectsObject:function(){var t=new De;return function(e){var n=e.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),t.copy(n.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSprite:function(){var t=new De;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(){var t=new Te;return function(e){for(var n=this.planes,r=0;r<6;r++){var i=n[r];if(t.x=i.normal.x>0?e.max.x:e.min.x,t.y=i.normal.y>0?e.max.y:e.min.y,t.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(t)<0)return!1}return!0}}(),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var Fe={alphamap_fragment:\"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\\n\",alphamap_pars_fragment:\"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\\n\",alphatest_fragment:\"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\\n\",aomap_fragment:\"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\\n\",aomap_pars_fragment:\"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\",begin_vertex:\"\\nvec3 transformed = vec3( position );\\n\",beginnormal_vertex:\"\\nvec3 objectNormal = vec3( normal );\\n\",bsdfs:\"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\\n\\treturn specularColor * AB.x + AB.y;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n\",bumpmap_pars_fragment:\"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\\n\",clipping_planes_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\\n\",clipping_planes_pars_fragment:\"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\\n\",clipping_planes_pars_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n\",clipping_planes_vertex:\"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n\",color_fragment:\"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\",color_pars_fragment:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\\n\",color_pars_vertex:\"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\",color_vertex:\"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\",common:\"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\n\",cube_uv_reflection_fragment:\"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_textureSize (1024.0)\\nint getFaceFromDirection(vec3 direction) {\\n\\tvec3 absDirection = abs(direction);\\n\\tint face = -1;\\n\\tif( absDirection.x > absDirection.z ) {\\n\\t\\tif(absDirection.x > absDirection.y )\\n\\t\\t\\tface = direction.x > 0.0 ? 0 : 3;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\telse {\\n\\t\\tif(absDirection.z > absDirection.y )\\n\\t\\t\\tface = direction.z > 0.0 ? 2 : 5;\\n\\t\\telse\\n\\t\\t\\tface = direction.y > 0.0 ? 1 : 4;\\n\\t}\\n\\treturn face;\\n}\\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\\n\\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\\n\\tfloat dxRoughness = dFdx(roughness);\\n\\tfloat dyRoughness = dFdy(roughness);\\n\\tvec3 dx = dFdx( vec * scale * dxRoughness );\\n\\tvec3 dy = dFdy( vec * scale * dyRoughness );\\n\\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\\n\\td = clamp(d, 1.0, cubeUV_rangeClamp);\\n\\tfloat mipLevel = 0.5 * log2(d);\\n\\treturn vec2(floor(mipLevel), fract(mipLevel));\\n}\\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\\n\\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\\n\\tfloat a = 16.0 * cubeUV_rcpTextureSize;\\n\\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\\n\\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\\n\\tfloat powScale = exp2_packed.x * exp2_packed.y;\\n\\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\\n\\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\\n\\tbool bRes = mipLevel == 0.0;\\n\\tscale =  bRes && (scale < a) ? a : scale;\\n\\tvec3 r;\\n\\tvec2 offset;\\n\\tint face = getFaceFromDirection(direction);\\n\\tfloat rcpPowScale = 1.0 / powScale;\\n\\tif( face == 0) {\\n\\t\\tr = vec3(direction.x, -direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 1) {\\n\\t\\tr = vec3(direction.y, direction.x, direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 2) {\\n\\t\\tr = vec3(direction.z, direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\\n\\t}\\n\\telse if( face == 3) {\\n\\t\\tr = vec3(direction.x, direction.z, direction.y);\\n\\t\\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse if( face == 4) {\\n\\t\\tr = vec3(direction.y, direction.x, -direction.z);\\n\\t\\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\telse {\\n\\t\\tr = vec3(direction.z, -direction.x, direction.y);\\n\\t\\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\\n\\t\\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\\n\\t}\\n\\tr = normalize(r);\\n\\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\\n\\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\\n\\tvec2 base = offset + vec2( texelOffset );\\n\\treturn base + s * ( scale - 2.0 * texelOffset );\\n}\\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\\n\\tfloat roughnessVal = roughness* cubeUV_maxLods3;\\n\\tfloat r1 = floor(roughnessVal);\\n\\tfloat r2 = r1 + 1.0;\\n\\tfloat t = fract(roughnessVal);\\n\\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\\n\\tfloat s = mipInfo.y;\\n\\tfloat level0 = mipInfo.x;\\n\\tfloat level1 = level0 + 1.0;\\n\\tlevel1 = level1 > 5.0 ? 5.0 : level1;\\n\\tlevel0 += min( floor( s + 0.5 ), 5.0 );\\n\\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\\n\\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\\n\\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\\n\\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\\n\\tvec4 result = mix(color10, color20, t);\\n\\treturn vec4(result.rgb, 1.0);\\n}\\n#endif\\n\",defaultnormal_vertex:\"vec3 transformedNormal = normalMatrix * objectNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n\",displacementmap_pars_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\\n\",displacementmap_vertex:\"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\\n#endif\\n\",emissivemap_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\\n\",emissivemap_pars_fragment:\"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\\n\",encodings_fragment:\"  gl_FragColor = linearToOutputTexel( gl_FragColor );\\n\",encodings_pars_fragment:\"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = min( floor( D ) / 255.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\\n\",envmap_fragment:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\\n\",envmap_pars_fragment:\"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\\n\\tuniform float reflectivity;\\n\\tuniform float envMapIntensity;\\n#endif\\n#ifdef USE_ENVMAP\\n\\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\\n\",envmap_pars_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\\n\",envmap_physical_pars_fragment:\"#if defined( USE_ENVMAP ) && defined( PHYSICAL )\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\\n\",envmap_vertex:\"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\n\",fog_vertex:\"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\\n\",fog_pars_vertex:\"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\\n\",fog_fragment:\"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\\n\",fog_pars_fragment:\"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\\n\",gradientmap_pars_fragment:\"#ifdef TOON\\n\\tuniform sampler2D gradientMap;\\n\\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\t\\tfloat dotNL = dot( normal, lightDirection );\\n\\t\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t\\t#ifdef USE_GRADIENTMAP\\n\\t\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t\\t#else\\n\\t\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",lightmap_fragment:\"#ifdef USE_LIGHTMAP\\n\\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n#endif\\n\",lightmap_pars_fragment:\"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\",lights_lambert_vertex:\"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",lights_pars_begin:\"uniform vec3 ambientLightColor;\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t\\tfloat shadowCameraNear;\\n\\t\\tfloat shadowCameraFar;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t\\tint shadow;\\n\\t\\tfloat shadowBias;\\n\\t\\tfloat shadowRadius;\\n\\t\\tvec2 shadowMapSize;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\\n\",lights_phong_fragment:\"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\\n\",lights_phong_pars_fragment:\"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifdef TOON\\n\\t\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#else\\n\\t\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\t\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#endif\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\\n\",lights_physical_fragment:\"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\\n#ifdef STANDARD\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.clearCoat = saturate( clearCoat );\\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\\n#endif\\n\",lights_physical_pars_fragment:\"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoat;\\n\\t\\tfloat clearCoatRoughness;\\n\\t#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifndef STANDARD\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\\n\\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t#ifndef STANDARD\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\tfloat dotNL = dotNV;\\n\\t\\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\\n\\t#else\\n\\t\\tfloat clearCoatDHR = 0.0;\\n\\t#endif\\n\\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\\n\\t#ifndef STANDARD\\n\\t\\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\\n\\t#endif\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\\n\",lights_fragment_begin:\"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = normalize( vViewPosition );\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#ifdef USE_SHADOWMAP\\n\\t\\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearCoatRadiance = vec3( 0.0 );\\n#endif\\n\",lights_fragment_maps:\"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#ifndef STANDARD\\n\\t\\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\\n\\t#endif\\n#endif\\n\",lights_fragment_end:\"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\\n#endif\\n\",logdepthbuf_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\",logdepthbuf_pars_fragment:\"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n#endif\\n\",logdepthbuf_pars_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\\n\",logdepthbuf_vertex:\"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t#else\\n\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\tgl_Position.z *= gl_Position.w;\\n\\t#endif\\n#endif\\n\",map_fragment:\"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\\n\",map_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n\",map_particle_fragment:\"#ifdef USE_MAP\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n\",map_particle_pars_fragment:\"#ifdef USE_MAP\\n\\tuniform mat3 uvTransform;\\n\\tuniform sampler2D map;\\n#endif\\n\",metalnessmap_fragment:\"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\\n\",metalnessmap_pars_fragment:\"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\",morphnormal_vertex:\"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\\n#endif\\n\",morphtarget_pars_vertex:\"#ifdef USE_MORPHTARGETS\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\",morphtarget_vertex:\"#ifdef USE_MORPHTARGETS\\n\\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\\n\\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\\n\\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\\n\\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\\n\\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\\n\\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\\n\\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\\n\",normal_fragment_begin:\"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n#endif\\n\",normal_fragment_maps:\"#ifdef USE_NORMALMAP\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t#ifdef FLIP_SIDED\\n\\t\\t\\tnormal = - normal;\\n\\t\\t#endif\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\tnormal = normalize( normalMatrix * normal );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\\n\",normalmap_pars_fragment:\"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n\\t#ifdef OBJECTSPACE_NORMALMAP\\n\\t\\tuniform mat3 normalMatrix;\\n\\t#else\\n\\t\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\\n\\t\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\t\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t\\t\\tmapN.xy *= normalScale;\\n\\t\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\treturn normalize( tsn * mapN );\\n\\t\\t}\\n\\t#endif\\n#endif\\n\",packing:\"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\\n\",premultiplied_alpha_fragment:\"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\\n\",project_vertex:\"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\\ngl_Position = projectionMatrix * mvPosition;\\n\",dithering_fragment:\"#if defined( DITHERING )\\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\\n\",dithering_pars_fragment:\"#if defined( DITHERING )\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\\n\",roughnessmap_fragment:\"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\\n\",roughnessmap_pars_fragment:\"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\",shadowmap_pars_fragment:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\\n\\t\\tconst vec2 offset = vec2( 0.0, 1.0 );\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / size;\\n\\t\\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\\n\\t\\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\\n\\t\\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\\n\\t\\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\\n\\t\\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\\n\\t\\tvec2 f = fract( uv * size + 0.5 );\\n\\t\\tfloat a = mix( lb, lt, f.y );\\n\\t\\tfloat b = mix( rb, rt, f.y );\\n\\t\\tfloat c = mix( a, b, f.x );\\n\\t\\treturn c;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\\n\",shadowmap_pars_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\\n\\t#endif\\n#endif\\n\",shadowmap_vertex:\"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\\n\",shadowmask_pars_fragment:\"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHTS > 0\\n\\tDirectionalLight directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHTS > 0\\n\\tSpotLight spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHTS > 0\\n\\tPointLight pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\\n\",skinbase_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\",skinning_pars_vertex:\"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\\n\",skinning_vertex:\"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\\n\",skinnormal_vertex:\"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n#endif\\n\",specularmap_fragment:\"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\",specularmap_pars_fragment:\"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\",tonemapping_fragment:\"#if defined( TONE_MAPPING )\\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\\n\",tonemapping_pars_fragment:\"#ifndef saturate\\n\\t#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\n\",uv_pars_fragment:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n#endif\",uv_pars_vertex:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvarying vec2 vUv;\\n\\tuniform mat3 uvTransform;\\n#endif\\n\",uv_vertex:\"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\",uv2_pars_fragment:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_pars_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n#endif\",uv2_vertex:\"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = uv2;\\n#endif\",worldpos_vertex:\"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\\n#endif\\n\",background_frag:\"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tgl_FragColor = texture2D( t2D, vUv );\\n}\\n\",background_vert:\"varying vec2 vUv;\\nvoid main() {\\n\\tvUv = uv;\\n\\tgl_Position = vec4( position, 1.0 );\\n\\tgl_Position.z = 1.0;\\n}\\n\",cube_frag:\"uniform samplerCube tCube;\\nuniform float tFlip;\\nuniform float opacity;\\nvarying vec3 vWorldPosition;\\nvoid main() {\\n\\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\\n\\tgl_FragColor.a *= opacity;\\n}\\n\",cube_vert:\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\\n\",depth_frag:\"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\\n\\t#endif\\n}\\n\",depth_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n}\\n\",distanceRGBA_frag:\"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\\n\",distanceRGBA_vert:\"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\\n\",equirect_frag:\"uniform sampler2D tEquirect;\\nvarying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldPosition );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n}\\n\",equirect_vert:\"varying vec3 vWorldPosition;\\n#include <common>\\nvoid main() {\\n\\tvWorldPosition = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\\n\",linedashed_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",linedashed_vert:\"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshbasic_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshbasic_vert:\"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshlambert_frag:\"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\",meshlambert_vert:\"#define LAMBERT\\nvarying vec3 vLightFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshmatcap_frag:\"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",meshmatcap_vert:\"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\\n\",meshphong_frag:\"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\",meshphong_vert:\"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",meshphysical_frag:\"#define PHYSICAL\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifndef STANDARD\\n\\tuniform float clearCoat;\\n\\tuniform float clearCoatRoughness;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\\n\",meshphysical_vert:\"#define PHYSICAL\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",normal_frag:\"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\nvoid main() {\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\\n\",normal_vert:\"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\\n\",points_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",points_vert:\"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",shadow_frag:\"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <fog_fragment>\\n}\\n\",shadow_vert:\"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\\n\",sprite_frag:\"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\\n\",sprite_vert:\"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\\n\"},ze={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}},He={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ge(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}Object.assign(Ge.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):\"number\"==typeof t?this.setHex(t):\"string\"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=_e.euclideanModulo(e,1),n=_e.clamp(n,0,1),r=_e.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=t(a,i,e+1/3),this.g=t(a,i,e),this.b=t(a,i,e-1/3)}return this}}(),setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn(\"THREE.Color: Alpha component of \"+t+\" will be ignored.\")}var n;if(n=/^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec(t)){var r,i=n[1],a=n[2];switch(i){case\"rgb\":case\"rgba\":if(r=/^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case\"hsl\":case\"hsla\":if(r=/^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,c=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,c)}}}else if(n=/^\\#([A-Fa-f0-9]+)$/.exec(t)){var h,l=(h=n[1]).length;if(3===l)return this.r=parseInt(h.charAt(0)+h.charAt(0),16)/255,this.g=parseInt(h.charAt(1)+h.charAt(1),16)/255,this.b=parseInt(h.charAt(2)+h.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(h.charAt(0)+h.charAt(1),16)/255,this.g=parseInt(h.charAt(2)+h.charAt(3),16)/255,this.b=parseInt(h.charAt(4)+h.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(h=He[t])?this.setHex(h):console.warn(\"THREE.Color: Unknown color \"+t));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(){function t(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),copyLinearToSRGB:function(){function t(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}return function(e){return this.r=t(e.r),this.g=t(e.g),this.b=t(e.b),this}}(),convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return(\"000000\"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn(\"THREE.Color: .getHSL() target is now required\"),t={h:0,s:0,l:0});var e,n,r=this.r,i=this.g,a=this.b,o=Math.max(r,i,a),s=Math.min(r,i,a),c=(s+o)/2;if(s===o)e=0,n=0;else{var h=o-s;switch(n=c<=.5?h/(o+s):h/(2-o-s),o){case r:e=(i-a)/h+(i<a?6:0);break;case i:e=(a-r)/h+2;break;case a:e=(r-i)/h+4}e/=6}return t.h=e,t.s=n,t.l=c,t},getStyle:function(){return\"rgb(\"+(255*this.r|0)+\",\"+(255*this.g|0)+\",\"+(255*this.b|0)+\")\"},offsetHSL:function(){var t={};return function(e,n,r){return this.getHSL(t),t.h+=e,t.s+=n,t.l+=r,this.setHSL(t.h,t.s,t.l),this}}(),add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(){var t={h:0,s:0,l:0},e={h:0,s:0,l:0};return function(n,r){this.getHSL(t),n.getHSL(e);var i=_e.lerp(t.h,e.h,r),a=_e.lerp(t.s,e.s,r),o=_e.lerp(t.l,e.l,r);return this.setHSL(i,a,o),this}}(),equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}});var Ve={common:{diffuse:{value:new Ge(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Se},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new we(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ge(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Ge(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Se}},sprite:{diffuse:{value:new Ge(15658734)},opacity:{value:1},center:{value:new we(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Se}}},ke={basic:{uniforms:ze.merge([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:Fe.meshbasic_vert,fragmentShader:Fe.meshbasic_frag},lambert:{uniforms:ze.merge([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)}}]),vertexShader:Fe.meshlambert_vert,fragmentShader:Fe.meshlambert_frag},phong:{uniforms:ze.merge([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)},specular:{value:new Ge(1118481)},shininess:{value:30}}]),vertexShader:Fe.meshphong_vert,fragmentShader:Fe.meshphong_frag},standard:{uniforms:ze.merge([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new Ge(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Fe.meshphysical_vert,fragmentShader:Fe.meshphysical_frag},matcap:{uniforms:ze.merge([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:Fe.meshmatcap_vert,fragmentShader:Fe.meshmatcap_frag},points:{uniforms:ze.merge([Ve.points,Ve.fog]),vertexShader:Fe.points_vert,fragmentShader:Fe.points_frag},dashed:{uniforms:ze.merge([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Fe.linedashed_vert,fragmentShader:Fe.linedashed_frag},depth:{uniforms:ze.merge([Ve.common,Ve.displacementmap]),vertexShader:Fe.depth_vert,fragmentShader:Fe.depth_frag},normal:{uniforms:ze.merge([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:Fe.normal_vert,fragmentShader:Fe.normal_frag},sprite:{uniforms:ze.merge([Ve.sprite,Ve.fog]),vertexShader:Fe.sprite_vert,fragmentShader:Fe.sprite_frag},background:{uniforms:{t2D:{value:null}},vertexShader:Fe.background_vert,fragmentShader:Fe.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Fe.cube_vert,fragmentShader:Fe.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Fe.equirect_vert,fragmentShader:Fe.equirect_frag},distanceRGBA:{uniforms:ze.merge([Ve.common,Ve.displacementmap,{referencePosition:{value:new Te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Fe.distanceRGBA_vert,fragmentShader:Fe.distanceRGBA_frag},shadow:{uniforms:ze.merge([Ve.lights,Ve.fog,{color:{value:new Ge(0)},opacity:{value:1}}]),vertexShader:Fe.shadow_vert,fragmentShader:Fe.shadow_frag}};function je(){var t=null,e=!1,n=null;function r(i,a){!1!==e&&(n(i,a),t.requestAnimationFrame(r))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(r),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function We(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var r=e.get(n);r&&(t.deleteBuffer(r.buffer),e.delete(n))},update:function(n,r){n.isInterleavedBufferAttribute&&(n=n.data);var i=e.get(n);void 0===i?e.set(n,function(e,n){var r=e.array,i=e.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW,a=t.createBuffer();t.bindBuffer(n,a),t.bufferData(n,r,i),e.onUploadCallback();var o=t.FLOAT;return r instanceof Float32Array?o=t.FLOAT:r instanceof Float64Array?console.warn(\"THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.\"):r instanceof Uint16Array?o=t.UNSIGNED_SHORT:r instanceof Int16Array?o=t.SHORT:r instanceof Uint32Array?o=t.UNSIGNED_INT:r instanceof Int32Array?o=t.INT:r instanceof Int8Array?o=t.BYTE:r instanceof Uint8Array&&(o=t.UNSIGNED_BYTE),{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(n,r)):i.version<n.version&&(function(e,n,r){var i=n.array,a=n.updateRange;t.bindBuffer(r,e),!1===n.dynamic?t.bufferData(r,i,t.STATIC_DRAW):-1===a.count?t.bufferSubData(r,0,i):0===a.count?console.error(\"THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.\"):(t.bufferSubData(r,a.offset*i.BYTES_PER_ELEMENT,i.subarray(a.offset,a.offset+a.count)),a.count=-1)}(i.buffer,n,r),i.version=n.version)}}}function Xe(t,e,n,r,i,a){this.a=t,this.b=e,this.c=n,this.normal=r&&r.isVector3?r:new Te,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new Ge,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0}function qe(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||qe.DefaultOrder}function Ye(){this.mask=1}ke.physical={uniforms:ze.merge([ke.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Fe.meshphysical_vert,fragmentShader:Fe.meshphysical_frag},Object.assign(Xe.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}),qe.RotationOrders=[\"XYZ\",\"YZX\",\"ZXY\",\"XZY\",\"YXZ\",\"ZYX\"],qe.DefaultOrder=\"XYZ\",Object.defineProperties(qe.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(qe.prototype,{isEuler:!0,set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=_e.clamp,i=t.elements,a=i[0],o=i[4],s=i[8],c=i[1],h=i[5],l=i[9],u=i[2],p=i[6],d=i[10];return\"XYZ\"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(p,h),this._z=0)):\"YXZ\"===e?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(c,h)):(this._y=Math.atan2(-u,a),this._z=0)):\"ZXY\"===e?(this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-u,d),this._z=Math.atan2(-o,h)):(this._y=0,this._z=Math.atan2(c,a))):\"ZYX\"===e?(this._y=Math.asin(-r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(c,a)):(this._x=0,this._z=Math.atan2(-o,h))):\"YZX\"===e?(this._z=Math.asin(r(c,-1,1)),Math.abs(c)<.99999?(this._x=Math.atan2(-l,h),this._y=Math.atan2(-u,a)):(this._x=0,this._y=Math.atan2(s,d))):\"XZY\"===e?(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(p,h),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn(\"THREE.Euler: .setFromRotationMatrix() given unsupported order: \"+e),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new Me;return function(e,n,r){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new Ee;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Te(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}}),Object.assign(Ye.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}});var Ze=0;function Je(){Object.defineProperty(this,\"id\",{value:Ze++}),this.uuid=_e.generateUUID(),this.name=\"\",this.type=\"Object3D\",this.parent=null,this.children=[],this.up=Je.DefaultUp.clone();var t=new Te,e=new qe,n=new Ee,r=new Te(1,1,1);e.onChange(function(){n.setFromEuler(e,!1)}),n.onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new Me},normalMatrix:{value:new Se}}),this.matrix=new Me,this.matrixWorld=new Me,this.matrixAutoUpdate=Je.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ye,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}Je.DefaultUp=new Te(0,1,0),Je.DefaultMatrixAutoUpdate=!0,Je.prototype=Object.assign(Object.create(e.prototype),{constructor:Je,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new Ee;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new Ee;return function(e,n){return t.setFromAxisAngle(e,n),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new Te(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new Te(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new Te(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new Te;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new Te(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new Te(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new Te(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new Me;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new Ee,e=new Me,n=new Te,r=new Te;return function(i,a,o){i.isVector3?n.copy(i):n.set(i,a,o);var s=this.parent;this.updateWorldMatrix(!0,!1),r.setFromMatrixPosition(this.matrixWorld),this.isCamera?e.lookAt(r,n,this.up):e.lookAt(n,r,this.up),this.quaternion.setFromRotationMatrix(e),s&&(e.extractRotation(s.matrixWorld),t.setFromRotationMatrix(e),this.quaternion.premultiply(t.inverse()))}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error(\"THREE.Object3D.add: object can't be added as a child of itself.\",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:\"added\"}),this.children.push(t)):console.error(\"THREE.Object3D.add: object not an instance of THREE.Object3D.\",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,t.dispatchEvent({type:\"removed\"}),this.children.splice(n,1)),this},getObjectById:function(t){return this.getObjectByProperty(\"id\",t)},getObjectByName:function(t){return this.getObjectByProperty(\"name\",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){return void 0===t&&(console.warn(\"THREE.Object3D: .getWorldPosition() target is now required\"),t=new Te),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new Te,e=new Te;return function(n){return void 0===n&&(console.warn(\"THREE.Object3D: .getWorldQuaternion() target is now required\"),n=new Ee),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldScale:function(){var t=new Te,e=new Ee;return function(n){return void 0===n&&(console.warn(\"THREE.Object3D: .getWorldScale() target is now required\"),n=new Te),this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(t){void 0===t&&(console.warn(\"THREE.Object3D: .getWorldDirection() target is now required\"),t=new Te),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||\"string\"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:\"Object\",generator:\"Object3D.toJSON\"});var r={};function i(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,\"\"!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),\"{}\"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isMesh||this.isLine||this.isPoints){r.geometry=i(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,c=o.length;s<c;s++){var h=o[s];i(t.shapes,h)}else i(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){var l=[];for(s=0,c=this.material.length;s<c;s++)l.push(i(t.materials,this.material[s]));r.material=l}else r.material=i(t.materials,this.material);if(this.children.length>0){r.children=[];for(s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(t).object)}if(e){var u=m(t.geometries),p=m(t.materials),d=m(t.textures),f=m(t.images);o=m(t.shapes);u.length>0&&(n.geometries=u),p.length>0&&(n.materials=p),d.length>0&&(n.textures=d),f.length>0&&(n.images=f),o.length>0&&(n.shapes=o)}return n.object=r,n;function m(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}});var Qe=0;function Ke(){Object.defineProperty(this,\"id\",{value:Qe+=2}),this.uuid=_e.generateUUID(),this.name=\"\",this.type=\"Geometry\",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function $e(t,e,n){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");this.name=\"\",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function tn(t,e,n){$e.call(this,new Int8Array(t),e,n)}function en(t,e,n){$e.call(this,new Uint8Array(t),e,n)}function nn(t,e,n){$e.call(this,new Uint8ClampedArray(t),e,n)}function rn(t,e,n){$e.call(this,new Int16Array(t),e,n)}function an(t,e,n){$e.call(this,new Uint16Array(t),e,n)}function on(t,e,n){$e.call(this,new Int32Array(t),e,n)}function sn(t,e,n){$e.call(this,new Uint32Array(t),e,n)}function cn(t,e,n){$e.call(this,new Float32Array(t),e,n)}function hn(t,e,n){$e.call(this,new Float64Array(t),e,n)}function ln(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function un(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,r=t.length;n<r;++n)t[n]>e&&(e=t[n]);return e}Ke.prototype=Object.assign(Object.create(e.prototype),{constructor:Ke,isGeometry:!0,applyMatrix:function(t){for(var e=(new Se).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new Me;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Me;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Me;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Me;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Me;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Je;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,c=void 0!==r.uv2?r.uv2.array:void 0;void 0!==c&&(this.faceVertexUvs[1]=[]);for(var h=[],l=[],u=[],p=0,d=0;p<i.length;p+=3,d+=2)e.vertices.push(new Te(i[p],i[p+1],i[p+2])),void 0!==a&&h.push(new Te(a[p],a[p+1],a[p+2])),void 0!==o&&e.colors.push(new Ge(o[p],o[p+1],o[p+2])),void 0!==s&&l.push(new we(s[d],s[d+1])),void 0!==c&&u.push(new we(c[d],c[d+1]));function f(t,n,r,i){var p=new Xe(t,n,r,void 0!==a?[h[t].clone(),h[n].clone(),h[r].clone()]:[],void 0!==o?[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()]:[],i);e.faces.push(p),void 0!==s&&e.faceVertexUvs[0].push([l[t].clone(),l[n].clone(),l[r].clone()]),void 0!==c&&e.faceVertexUvs[1].push([u[t].clone(),u[n].clone(),u[r].clone()])}var m=t.groups;if(m.length>0)for(p=0;p<m.length;p++)for(var g=m[p],v=g.start,y=(d=v,v+g.count);d<y;d+=3)void 0!==n?f(n[d],n[d+1],n[d+2],g.materialIndex):f(d,d+1,d+2,g.materialIndex);else if(void 0!==n)for(p=0;p<n.length;p+=3)f(n[p],n[p+1],n[p+2]);else for(p=0;p<i.length/3;p+=3)f(p,p+1,p+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){var t=new Te;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new Me;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new Te,e=new Te,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new Te;if(t){var s,c,h,l=new Te,u=new Te;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],c=this.vertices[a.b],h=this.vertices[a.c],l.subVectors(h,c),u.subVectors(s,c),l.cross(u),o[a.a].add(l),o[a.b].add(l),o[a.c].add(l)}else for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var p=(a=this.faces[r]).vertexNormals;3===p.length?(p[0].copy(o[a.a]),p[1].copy(o[a.b]),p[2].copy(o[a.c])):(p[0]=o[a.a].clone(),p[1]=o[a.b].clone(),p[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var r=(n=this.faces[t]).vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var a=new Ke;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)c=new Te,h={a:new Te,b:new Te,c:new Te},o.push(c),s.push(h)}var c,h,l=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],c=l.faceNormals[n],h=l.vertexNormals[n],c.copy(i.normal),h.a.copy(i.vertexNormals[0]),h.b.copy(i.vertexNormals[1]),h.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ne),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new De),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var r,i=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,c=t.faces,h=this.faceVertexUvs[0],l=t.faceVertexUvs[0],u=this.colors,p=t.colors;void 0===n&&(n=0),void 0!==e&&(r=(new Se).getNormalMatrix(e));for(var d=0,f=o.length;d<f;d++){var m=o[d].clone();void 0!==e&&m.applyMatrix4(e),a.push(m)}for(d=0,f=p.length;d<f;d++)u.push(p[d].clone());for(d=0,f=c.length;d<f;d++){var g,v,y,x=c[d],b=x.vertexNormals,_=x.vertexColors;(g=new Xe(x.a+i,x.b+i,x.c+i)).normal.copy(x.normal),void 0!==r&&g.normal.applyMatrix3(r).normalize();for(var w=0,M=b.length;w<M;w++)v=b[w].clone(),void 0!==r&&v.applyMatrix3(r).normalize(),g.vertexNormals.push(v);g.color.copy(x.color);for(w=0,M=_.length;w<M;w++)y=_[w],g.vertexColors.push(y.clone());g.materialIndex=x.materialIndex+n,s.push(g)}for(d=0,f=l.length;d<f;d++){var E=l[d],T=[];if(void 0!==E){for(w=0,M=E.length;w<M;w++)T.push(E[w].clone());h.push(T)}}}else console.error(\"THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.\",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error(\"THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.\",t)},mergeVertices:function(){var t,e,n,r,i,a,o,s,c={},h=[],l=[],u=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===c[e=Math.round(t.x*u)+\"_\"+Math.round(t.y*u)+\"_\"+Math.round(t.z*u)]?(c[e]=n,h.push(this.vertices[n]),l[n]=h.length-1):l[n]=l[c[e]];var p=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],a=[i.a,i.b,i.c];for(var d=0;d<3;d++)if(a[d]===a[(d+1)%3]){p.push(n);break}}for(n=p.length-1;n>=0;n--){var f=p[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-h.length;return this.vertices=h,m},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var r=t[e];this.vertices.push(new Te(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort(function(t,e){return t.materialIndex-e.materialIndex});var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===e&&(r=[]),o&&o.length===e&&(i=[]);for(n=0;n<e;n++){var s=t[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.5,type:\"Geometry\",generator:\"Geometry.toJSON\"}};if(t.uuid=this.uuid,t.type=this.type,\"\"!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],c={},h=[],l={},u=[],p={};for(i=0;i<this.faces.length;i++){var d=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,x=0;if(x=M(x=M(x=M(x=M(x=M(x=M(x=M(x=M(x,0,0),1,!0),2,!1),3,f),4,m),5,g),6,v),7,y),o.push(x),o.push(d.a,d.b,d.c),o.push(d.materialIndex),f){var b=this.faceVertexUvs[0][i];o.push(S(b[0]),S(b[1]),S(b[2]))}if(m&&o.push(E(d.normal)),g){var _=d.vertexNormals;o.push(E(_[0]),E(_[1]),E(_[2]))}if(v&&o.push(T(d.color)),y){var w=d.vertexColors;o.push(T(w[0]),T(w[1]),T(w[2]))}}function M(t,e,n){return n?t|1<<e:t&~(1<<e)}function E(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==c[e]?c[e]:(c[e]=s.length/3,s.push(t.x,t.y,t.z),c[e])}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]?l[e]:(l[e]=h.length,h.push(t.getHex()),l[e])}function S(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]?p[e]:(p[e]=u.length/2,u.push(t.x,t.y),p[e])}return t.data={},t.data.vertices=r,t.data.normals=s,h.length>0&&(t.data.colors=h),u.length>0&&(t.data.uvs=[u]),t.data.faces=o,t},clone:function(){return(new Ke).copy(this)},copy:function(t){var e,n,r,i,a,o;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var c=t.colors;for(e=0,n=c.length;e<n;e++)this.colors.push(c[e].clone());var h=t.faces;for(e=0,n=h.length;e<n;e++)this.faces.push(h[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var l=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),r=0,i=l.length;r<i;r++){var u=l[r],p=[];for(a=0,o=u.length;a<o;a++){var d=u[a];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],r=0,i=f[e].vertices.length;r<i;r++)m.vertices.push(f[e].vertices[r].clone());if(void 0!==f[e].normals)for(m.normals=[],r=0,i=f[e].normals.length;r<i;r++)m.normals.push(f[e].normals[r].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;e<n;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],r=0,i=g[e].vertexNormals.length;r<i;r++){var y=g[e].vertexNormals[r],x={};x.a=y.a.clone(),x.b=y.b.clone(),x.c=y.c.clone(),v.vertexNormals.push(x)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],r=0,i=g[e].faceNormals.length;r<i;r++)v.faceNormals.push(g[e].faceNormals[r].clone());this.morphNormals.push(v)}var b=t.skinWeights;for(e=0,n=b.length;e<n;e++)this.skinWeights.push(b[e].clone());var _=t.skinIndices;for(e=0,n=_.length;e<n;e++)this.skinIndices.push(_[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var E=t.boundingSphere;return null!==E&&(this.boundingSphere=E.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),Object.defineProperty($e.prototype,\"needsUpdate\",{set:function(t){!0===t&&this.version++}}),Object.assign($e.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");return this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyColorsArray(): color is undefined\",r),a=new Ge),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector2sArray(): vector is undefined\",r),a=new we),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector3sArray(): vector is undefined\",r),a=new Te),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(console.warn(\"THREE.BufferAttribute.copyVector4sArray(): vector is undefined\",r),a=new Pe),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),tn.prototype=Object.create($e.prototype),tn.prototype.constructor=tn,en.prototype=Object.create($e.prototype),en.prototype.constructor=en,nn.prototype=Object.create($e.prototype),nn.prototype.constructor=nn,rn.prototype=Object.create($e.prototype),rn.prototype.constructor=rn,an.prototype=Object.create($e.prototype),an.prototype.constructor=an,on.prototype=Object.create($e.prototype),on.prototype.constructor=on,sn.prototype=Object.create($e.prototype),sn.prototype.constructor=sn,cn.prototype=Object.create($e.prototype),cn.prototype.constructor=cn,hn.prototype=Object.create($e.prototype),hn.prototype.constructor=hn,Object.assign(ln.prototype,{computeGroups:function(t){for(var e,n=[],r=void 0,i=t.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==r&&(r=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,n.push(e)),e={start:3*a,materialIndex:r})}void 0!==e&&(e.count=3*a-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,c=s.length;if(c>0){e=[];for(var h=0;h<c;h++)e[h]={name:s[h].name,data:[]};this.morphTargets.position=e}var l,u=t.morphNormals,p=u.length;if(p>0){l=[];for(h=0;h<p;h++)l[h]={name:u[h].name,data:[]};this.morphTargets.normal=l}var d=t.skinIndices,f=t.skinWeights,m=d.length===r.length,g=f.length===r.length;r.length>0&&0===n.length&&console.error(\"THREE.DirectGeometry: Faceless geometries are not supported.\");for(h=0;h<n.length;h++){var v=n[h];this.vertices.push(r[v.a],r[v.b],r[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var x=v.normal;this.normals.push(x,x,x)}var b,_=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===a)void 0!==(b=i[0][h])?this.uvs.push(b[0],b[1],b[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv \",h),this.uvs.push(new we,new we,new we));if(!0===o)void 0!==(b=i[1][h])?this.uvs2.push(b[0],b[1],b[2]):(console.warn(\"THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 \",h),this.uvs2.push(new we,new we,new we));for(var M=0;M<c;M++){var E=s[M].vertices;e[M].data.push(E[v.a],E[v.b],E[v.c])}for(M=0;M<p;M++){var T=u[M].vertexNormals[h];l[M].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}});var pn=1;function dn(){Object.defineProperty(this,\"id\",{value:pn+=2}),this.uuid=_e.generateUUID(),this.name=\"\",this.type=\"BufferGeometry\",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}function fn(t,e,n,r,i,a){Ke.call(this),this.type=\"BoxGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new mn(t,e,n,r,i,a)),this.mergeVertices()}function mn(t,e,n,r,i,a){dn.call(this),this.type=\"BoxBufferGeometry\",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o=this;t=t||1,e=e||1,n=n||1,r=Math.floor(r)||1,i=Math.floor(i)||1;var s=[],c=[],h=[],l=[],u=0,p=0;function d(t,e,n,r,i,a,d,f,m,g,v){var y,x,b=a/m,_=d/g,w=a/2,M=d/2,E=f/2,T=m+1,S=g+1,A=0,L=0,R=new Te;for(x=0;x<S;x++){var P=x*_-M;for(y=0;y<T;y++){var C=y*b-w;R[t]=C*r,R[e]=P*i,R[n]=E,c.push(R.x,R.y,R.z),R[t]=0,R[e]=0,R[n]=f>0?1:-1,h.push(R.x,R.y,R.z),l.push(y/m),l.push(1-x/g),A+=1}}for(x=0;x<g;x++)for(y=0;y<m;y++){var O=u+y+T*x,I=u+y+T*(x+1),N=u+(y+1)+T*(x+1),D=u+(y+1)+T*x;s.push(O,I,D),s.push(I,N,D),L+=6}o.addGroup(p,L,v),p+=L,u+=A}d(\"z\",\"y\",\"x\",-1,-1,n,e,t,a=Math.floor(a)||1,i,0),d(\"z\",\"y\",\"x\",1,-1,n,e,-t,a,i,1),d(\"x\",\"z\",\"y\",1,1,t,n,e,r,a,2),d(\"x\",\"z\",\"y\",1,-1,t,n,-e,r,a,3),d(\"x\",\"y\",\"z\",1,-1,t,e,n,r,i,4),d(\"x\",\"y\",\"z\",-1,-1,t,e,-n,r,i,5),this.setIndex(s),this.addAttribute(\"position\",new cn(c,3)),this.addAttribute(\"normal\",new cn(h,3)),this.addAttribute(\"uv\",new cn(l,2))}function gn(t,e,n,r){Ke.call(this),this.type=\"PlaneGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new vn(t,e,n,r)),this.mergeVertices()}function vn(t,e,n,r){dn.call(this),this.type=\"PlaneBufferGeometry\",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};var i,a,o=(t=t||1)/2,s=(e=e||1)/2,c=Math.floor(n)||1,h=Math.floor(r)||1,l=c+1,u=h+1,p=t/c,d=e/h,f=[],m=[],g=[],v=[];for(a=0;a<u;a++){var y=a*d-s;for(i=0;i<l;i++){var x=i*p-o;m.push(x,-y,0),g.push(0,0,1),v.push(i/c),v.push(1-a/h)}}for(a=0;a<h;a++)for(i=0;i<c;i++){var b=i+l*a,_=i+l*(a+1),w=i+1+l*(a+1),M=i+1+l*a;f.push(b,_,M),f.push(_,w,M)}this.setIndex(f),this.addAttribute(\"position\",new cn(m,3)),this.addAttribute(\"normal\",new cn(g,3)),this.addAttribute(\"uv\",new cn(v,2))}dn.prototype=Object.assign(Object.create(e.prototype),{constructor:dn,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(un(t)>65535?sn:an)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?\"index\"===t?(console.warn(\"THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.\"),this.setIndex(e),this):(this.attributes[t]=e,this):(console.warn(\"THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).\"),this.addAttribute(t,new $e(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new Se).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new Me;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new Me;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new Me;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new Me;return function(e,n,r){return t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t=new Me;return function(e,n,r){return t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t=new Je;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){var t=new Te;return function(){return this.computeBoundingBox(),this.boundingBox.getCenter(t).negate(),this.translate(t.x,t.y,t.z),this}}(),setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new cn(3*e.vertices.length,3),r=new cn(3*e.colors.length,3);if(this.addAttribute(\"position\",n.copyVector3sArray(e.vertices)),this.addAttribute(\"color\",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new cn(e.lineDistances.length,1);this.addAttribute(\"lineDistance\",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];e.push(i.x,i.y,i.z||0)}return this.addAttribute(\"position\",new cn(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new ln).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute(\"position\",new $e(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute(\"normal\",new $e(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute(\"color\",new $e(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute(\"uv\",new $e(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute(\"uv2\",new $e(a,2).copyVector2sArray(t.uvs2))}for(var o in this.groups=t.groups,t.morphTargets){for(var s=[],c=t.morphTargets[o],h=0,l=c.length;h<l;h++){var u=c[h],p=new cn(3*u.data.length,3);p.name=u.name,s.push(p.copyVector3sArray(u.data))}this.morphAttributes[o]=s}if(t.skinIndices.length>0){var d=new cn(4*t.skinIndices.length,4);this.addAttribute(\"skinIndex\",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new cn(4*t.skinWeights.length,4);this.addAttribute(\"skinWeight\",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ne);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var t=new Ne,e=new Te;return function(){null===this.boundingSphere&&(this.boundingSphere=new De);var n=this.attributes.position;if(n){var r=this.boundingSphere.center;t.setFromBufferAttribute(n),t.getCenter(r);for(var i=0,a=0,o=n.count;a<o;a++)e.x=n.getX(a),e.y=n.getY(a),e.z=n.getZ(a),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute(\"normal\",new $e(new Float32Array(n.length),3));else for(var r=e.normal.array,i=0,a=r.length;i<a;i++)r[i]=0;var o,s,c,h=e.normal.array,l=new Te,u=new Te,p=new Te,d=new Te,f=new Te;if(t){var m=t.array;for(i=0,a=t.count;i<a;i+=3)o=3*m[i+0],s=3*m[i+1],c=3*m[i+2],l.fromArray(n,o),u.fromArray(n,s),p.fromArray(n,c),d.subVectors(p,u),f.subVectors(l,u),d.cross(f),h[o]+=d.x,h[o+1]+=d.y,h[o+2]+=d.z,h[s]+=d.x,h[s+1]+=d.y,h[s+2]+=d.z,h[c]+=d.x,h[c+1]+=d.y,h[c+2]+=d.z}else for(i=0,a=n.length;i<a;i+=9)l.fromArray(n,i),u.fromArray(n,i+3),p.fromArray(n,i+6),d.subVectors(p,u),f.subVectors(l,u),d.cross(f),h[i]=d.x,h[i+1]=d.y,h[i+2]=d.z,h[i+3]=d.x,h[i+4]=d.y,h[i+5]=d.z,h[i+6]=d.x,h[i+7]=d.y,h[i+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn(\"THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.\"));var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,a=t.attributes[r],o=a.array,s=0,c=a.itemSize*e;s<o.length;s++,c++)i[c]=o[s];return this}console.error(\"THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.\",t)},normalizeNormals:function(){var t=new Te;return function(){for(var e=this.attributes.normal,n=0,r=e.count;n<r;n++)t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.normalize(),e.setXYZ(n,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn(\"THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.\"),this;var t=new dn,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],a=i.array,o=i.itemSize,s=new a.constructor(e.length*o),c=0,h=0,l=0,u=e.length;l<u;l++){c=e[l]*o;for(var p=0;p<o;p++)s[h++]=a[c++]}t.addAttribute(r,new $e(s,o))}var d=this.groups;for(l=0,u=d.length;l<u;l++){var f=d[l];t.addGroup(f.start,f.count,f.materialIndex)}return t},toJSON:function(){var t={metadata:{version:4.5,type:\"BufferGeometry\",generator:\"BufferGeometry.toJSON\"}};if(t.uuid=this.uuid,t.type=this.type,\"\"!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var a=this.attributes;for(var n in a){var o=a[n];i=Array.prototype.slice.call(o.array);t.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:i,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var c=this.boundingSphere;return null!==c&&(t.data.boundingSphere={center:c.center.toArray(),radius:c.radius}),t},clone:function(){return(new dn).copy(this)},copy:function(t){var e,n,r;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var a=t.attributes;for(e in a){var o=a[e];this.addAttribute(e,o.clone())}var s=t.morphAttributes;for(e in s){var c=[],h=s[e];for(n=0,r=h.length;n<r;n++)c.push(h[n].clone());this.morphAttributes[e]=c}var l=t.groups;for(n=0,r=l.length;n<r;n++){var u=l[n];this.addGroup(u.start,u.count,u.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),fn.prototype=Object.create(Ke.prototype),fn.prototype.constructor=fn,mn.prototype=Object.create(dn.prototype),mn.prototype.constructor=mn,gn.prototype=Object.create(Ke.prototype),gn.prototype.constructor=gn,vn.prototype=Object.create(dn.prototype),vn.prototype.constructor=vn;var yn=0;function xn(){Object.defineProperty(this,\"id\",{value:yn++}),this.uuid=_e.generateUUID(),this.name=\"\",this.type=\"Material\",this.fog=!0,this.lights=!0,this.blending=g,this.side=h,this.flatShading=!1,this.vertexColors=p,this.opacity=1,this.transparent=!1,this.blendSrc=P,this.blendDst=C,this.blendEquation=_,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=H,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function bn(t){xn.call(this),this.type=\"ShaderMaterial\",this.defines={},this.uniforms={},this.vertexShader=\"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\",this.fragmentShader=\"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error(\"THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.\"),this.setValues(t))}function _n(t,e){this.origin=void 0!==t?t:new Te,this.direction=void 0!==e?e:new Te}function wn(t,e,n){this.a=void 0!==t?t:new Te,this.b=void 0!==e?e:new Te,this.c=void 0!==n?n:new Te}function Mn(t){xn.call(this),this.type=\"MeshBasicMaterial\",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function En(t,e){Je.call(this),this.type=\"Mesh\",this.geometry=void 0!==t?t:new dn,this.material=void 0!==e?e:new Mn({color:16777215*Math.random()}),this.drawMode=se,this.updateMorphTargets()}function Tn(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Sn(t,e,n,r,i,a,o,s,c,h){t=void 0!==t?t:[],e=void 0!==e?e:$,Re.call(this,t,e,n,r,i,a,o,s,c,h),this.flipY=!1}function An(t,e,n,r){Re.call(this,null),this.image={data:t,width:e,height:n,depth:r},this.magFilter=ht,this.minFilter=ht,this.generateMipmaps=!1,this.flipY=!1}xn.prototype=Object.assign(Object.create(e.prototype),{constructor:xn,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if(\"shading\"!==e){var r=this[e];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[e]=\"overdraw\"===e?Number(n):n:console.warn(\"THREE.\"+this.type+\": '\"+e+\"' is not a property of this material.\")}else console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=1===n;else console.warn(\"THREE.Material: '\"+e+\"' parameter is undefined.\")}},toJSON:function(t){var e=void 0===t||\"string\"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:\"Material\",generator:\"Material.toJSON\"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,\"\"!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearCoat&&(n.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(n.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==g&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==h&&(n.side=this.side),this.vertexColors!==p&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),\"round\"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),\"round\"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),\"{}\"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var i=r(t.textures),a=r(t.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:\"dispose\"})}}),bn.prototype=Object.create(xn.prototype),bn.prototype.constructor=bn,bn.prototype.isShaderMaterial=!0,bn.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ze.clone(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},bn.prototype.toJSON=function(t){var e=xn.prototype.toJSON.call(this,t);for(var n in e.uniforms={},this.uniforms){var r=this.uniforms[n].value;r.isTexture?e.uniforms[n]={type:\"t\",value:r.toJSON(t).uuid}:r.isColor?e.uniforms[n]={type:\"c\",value:r.getHex()}:r.isVector2?e.uniforms[n]={type:\"v2\",value:r.toArray()}:r.isVector3?e.uniforms[n]={type:\"v3\",value:r.toArray()}:r.isVector4?e.uniforms[n]={type:\"v4\",value:r.toArray()}:r.isMatrix4?e.uniforms[n]={type:\"m4\",value:r.toArray()}:e.uniforms[n]={value:r}}return Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},Object.assign(_n.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn(\"THREE.Ray: .at() target is now required\"),e=new Te),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new Te;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){void 0===e&&(console.warn(\"THREE.Ray: .closestPointToPoint() target is now required\"),e=new Te),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new Te;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:function(){var t=new Te,e=new Te,n=new Te;return function(r,i,a,o){t.copy(r).add(i).multiplyScalar(.5),e.copy(i).sub(r).normalize(),n.copy(this.origin).sub(t);var s,c,h,l,u=.5*r.distanceTo(i),p=-this.direction.dot(e),d=n.dot(this.direction),f=-n.dot(e),m=n.lengthSq(),g=Math.abs(1-p*p);if(g>0)if(c=p*d-f,l=u*g,(s=p*f-d)>=0)if(c>=-l)if(c<=l){var v=1/g;h=(s*=v)*(s+p*(c*=v)+2*d)+c*(p*s+c+2*f)+m}else c=u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c=-u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;else c<=-l?h=-(s=Math.max(0,-(-p*u+d)))*s+(c=s>0?-u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m:c<=l?(s=0,h=(c=Math.min(Math.max(-u,-f),u))*(c+2*f)+m):h=-(s=Math.max(0,-(p*u+d)))*s+(c=s>0?u:Math.min(Math.max(-u,-f),u))*(c+2*f)+m;else c=p>0?-u:u,h=-(s=Math.max(0,-(p*c+d)))*s+c*(c+2*f)+m;return a&&a.copy(this.direction).multiplyScalar(s).add(this.origin),o&&o.copy(e).multiplyScalar(c).add(t),h}}(),intersectSphere:function(){var t=new Te;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,a=e.radius*e.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,c=r+o;return s<0&&c<0?null:s<0?this.at(c,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,a,o,s,c=1/this.direction.x,h=1/this.direction.y,l=1/this.direction.z,u=this.origin;return c>=0?(n=(t.min.x-u.x)*c,r=(t.max.x-u.x)*c):(n=(t.max.x-u.x)*c,r=(t.min.x-u.x)*c),h>=0?(i=(t.min.y-u.y)*h,a=(t.max.y-u.y)*h):(i=(t.max.y-u.y)*h,a=(t.min.y-u.y)*h),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),l>=0?(o=(t.min.z-u.z)*l,s=(t.max.z-u.z)*l):(o=(t.max.z-u.z)*l,s=(t.min.z-u.z)*l),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:function(){var t=new Te;return function(e){return null!==this.intersectBox(e,t)}}(),intersectTriangle:function(){var t=new Te,e=new Te,n=new Te,r=new Te;return function(i,a,o,s,c){e.subVectors(a,i),n.subVectors(o,i),r.crossVectors(e,n);var h,l=this.direction.dot(r);if(l>0){if(s)return null;h=1}else{if(!(l<0))return null;h=-1,l=-l}t.subVectors(this.origin,i);var u=h*this.direction.dot(n.crossVectors(t,n));if(u<0)return null;var p=h*this.direction.dot(e.cross(t));if(p<0)return null;if(u+p>l)return null;var d=-h*t.dot(r);return d<0?null:this.at(d/l,c)}}(),applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}),Object.assign(wn,{getNormal:function(){var t=new Te;return function(e,n,r,i){void 0===i&&(console.warn(\"THREE.Triangle: .getNormal() target is now required\"),i=new Te),i.subVectors(r,n),t.subVectors(e,n),i.cross(t);var a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}}(),getBarycoord:function(){var t=new Te,e=new Te,n=new Te;return function(r,i,a,o,s){t.subVectors(o,i),e.subVectors(a,i),n.subVectors(r,i);var c=t.dot(t),h=t.dot(e),l=t.dot(n),u=e.dot(e),p=e.dot(n),d=c*u-h*h;if(void 0===s&&(console.warn(\"THREE.Triangle: .getBarycoord() target is now required\"),s=new Te),0===d)return s.set(-2,-1,-1);var f=1/d,m=(u*l-h*p)*f,g=(c*p-h*l)*f;return s.set(1-m-g,g,m)}}(),containsPoint:function(){var t=new Te;return function(e,n,r,i){return wn.getBarycoord(e,n,r,i,t),t.x>=0&&t.y>=0&&t.x+t.y<=1}}(),getUV:function(){var t=new Te;return function(e,n,r,i,a,o,s,c){return this.getBarycoord(e,n,r,i,t),c.set(0,0),c.addScaledVector(a,t.x),c.addScaledVector(o,t.y),c.addScaledVector(s,t.z),c}}()}),Object.assign(wn.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){var t=new Te,e=new Te;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),getMidpoint:function(t){return void 0===t&&(console.warn(\"THREE.Triangle: .getMidpoint() target is now required\"),t=new Te),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return wn.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn(\"THREE.Triangle: .getPlane() target is now required\"),t=new Te),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return wn.getBarycoord(t,this.a,this.b,this.c,e)},containsPoint:function(t){return wn.containsPoint(t,this.a,this.b,this.c)},getUV:function(t,e,n,r,i){return wn.getUV(t,this.a,this.b,this.c,e,n,r,i)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(){var t=new Te,e=new Te,n=new Te,r=new Te,i=new Te,a=new Te;return function(o,s){void 0===s&&(console.warn(\"THREE.Triangle: .closestPointToPoint() target is now required\"),s=new Te);var c,h,l=this.a,u=this.b,p=this.c;t.subVectors(u,l),e.subVectors(p,l),r.subVectors(o,l);var d=t.dot(r),f=e.dot(r);if(d<=0&&f<=0)return s.copy(l);i.subVectors(o,u);var m=t.dot(i),g=e.dot(i);if(m>=0&&g<=m)return s.copy(u);var v=d*g-m*f;if(v<=0&&d>=0&&m<=0)return c=d/(d-m),s.copy(l).addScaledVector(t,c);a.subVectors(o,p);var y=t.dot(a),x=e.dot(a);if(x>=0&&y<=x)return s.copy(p);var b=y*f-d*x;if(b<=0&&f>=0&&x<=0)return h=f/(f-x),s.copy(l).addScaledVector(e,h);var _=m*x-y*g;if(_<=0&&g-m>=0&&y-x>=0)return n.subVectors(p,u),h=(g-m)/(g-m+(y-x)),s.copy(u).addScaledVector(n,h);var w=1/(_+b+v);return c=b*w,h=v*w,s.copy(l).addScaledVector(t,c).addScaledVector(e,h)}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}),Mn.prototype=Object.create(xn.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isMeshBasicMaterial=!0,Mn.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},En.prototype=Object.assign(Object.create(Je.prototype),{constructor:En,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return Je.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,r=this.geometry;if(r.isBufferGeometry){var i=r.morphAttributes,a=Object.keys(i);if(a.length>0){var o=i[a[0]];if(void 0!==o)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=o.length;t<e;t++)n=o[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=r.morphTargets;if(void 0!==s&&s.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=s.length;t<e;t++)n=s[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}},raycast:function(){var t=new Me,e=new _n,n=new De,r=new Te,i=new Te,a=new Te,o=new Te,s=new Te,c=new Te,h=new we,p=new we,d=new we,f=new Te,m=new Te;function g(t,e,n,r,i,a,o,s){if(null===(e.side===l?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,e.side!==u,s)))return null;m.copy(s),m.applyMatrix4(t.matrixWorld);var c=n.ray.origin.distanceTo(m);return c<n.near||c>n.far?null:{distance:c,point:m.clone(),object:t}}function v(t,e,n,o,s,c,l,u,m){r.fromBufferAttribute(s,l),i.fromBufferAttribute(s,u),a.fromBufferAttribute(s,m);var v=g(t,e,n,o,r,i,a,f);if(v){c&&(h.fromBufferAttribute(c,l),p.fromBufferAttribute(c,u),d.fromBufferAttribute(c,m),v.uv=wn.getUV(f,r,i,a,h,p,d,new we));var y=new Xe(l,u,m);wn.getNormal(r,i,a,y.normal),v.face=y}return v}return function(l,u){var m,y=this.geometry,x=this.material,b=this.matrixWorld;if(void 0!==x&&(null===y.boundingSphere&&y.computeBoundingSphere(),n.copy(y.boundingSphere),n.applyMatrix4(b),!1!==l.ray.intersectsSphere(n)&&(t.getInverse(b),e.copy(l.ray).applyMatrix4(t),null===y.boundingBox||!1!==e.intersectsBox(y.boundingBox))))if(y.isBufferGeometry){var _,w,M,E,T,S,A,L,R,P=y.index,C=y.attributes.position,O=y.attributes.uv,I=y.groups,N=y.drawRange;if(null!==P)if(Array.isArray(x))for(E=0,S=I.length;E<S;E++)for(R=x[(L=I[E]).materialIndex],T=Math.max(L.start,N.start),A=Math.min(L.start+L.count,N.start+N.count);T<A;T+=3)_=P.getX(T),w=P.getX(T+1),M=P.getX(T+2),(m=v(this,R,l,e,C,O,_,w,M))&&(m.faceIndex=Math.floor(T/3),u.push(m));else for(E=Math.max(0,N.start),S=Math.min(P.count,N.start+N.count);E<S;E+=3)_=P.getX(E),w=P.getX(E+1),M=P.getX(E+2),(m=v(this,x,l,e,C,O,_,w,M))&&(m.faceIndex=Math.floor(E/3),u.push(m));else if(void 0!==C)if(Array.isArray(x))for(E=0,S=I.length;E<S;E++)for(R=x[(L=I[E]).materialIndex],T=Math.max(L.start,N.start),A=Math.min(L.start+L.count,N.start+N.count);T<A;T+=3)(m=v(this,R,l,e,C,O,_=T,w=T+1,M=T+2))&&(m.faceIndex=Math.floor(T/3),u.push(m));else for(E=Math.max(0,N.start),S=Math.min(C.count,N.start+N.count);E<S;E+=3)(m=v(this,x,l,e,C,O,_=E,w=E+1,M=E+2))&&(m.faceIndex=Math.floor(E/3),u.push(m))}else if(y.isGeometry){var D,U,B,F,z=Array.isArray(x),H=y.vertices,G=y.faces,V=y.faceVertexUvs[0];V.length>0&&(F=V);for(var k=0,j=G.length;k<j;k++){var W=G[k],X=z?x[W.materialIndex]:x;if(void 0!==X){if(D=H[W.a],U=H[W.b],B=H[W.c],!0===X.morphTargets){var q=y.morphTargets,Y=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),a.set(0,0,0);for(var Z=0,J=q.length;Z<J;Z++){var Q=Y[Z];if(0!==Q){var K=q[Z].vertices;r.addScaledVector(o.subVectors(K[W.a],D),Q),i.addScaledVector(s.subVectors(K[W.b],U),Q),a.addScaledVector(c.subVectors(K[W.c],B),Q)}}r.add(D),i.add(U),a.add(B),D=r,U=i,B=a}if(m=g(this,X,l,e,D,U,B,f)){if(F&&F[k]){var $=F[k];h.copy($[0]),p.copy($[1]),d.copy($[2]),m.uv=wn.getUV(f,D,U,B,h,p,d,new we)}m.face=W,m.faceIndex=k,u.push(m)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Sn.prototype=Object.create(Re.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isCubeTexture=!0,Object.defineProperty(Sn.prototype,\"images\",{get:function(){return this.image},set:function(t){this.image=t}}),An.prototype=Object.create(Re.prototype),An.prototype.constructor=An,An.prototype.isDataTexture3D=!0;var Ln=new Re,Rn=new An,Pn=new Sn;function Cn(){this.seq=[],this.map={}}var On=[],In=[],Nn=new Float32Array(16),Dn=new Float32Array(9),Un=new Float32Array(4);function Bn(t,e,n){var r=t[0];if(r<=0||r>0)return t;var i=e*n,a=On[i];if(void 0===a&&(a=new Float32Array(i),On[i]=a),0!==e){r.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function Fn(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function zn(t,e){for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}function Hn(t,e){var n=In[e];void 0===n&&(n=new Int32Array(e),In[e]=n);for(var r=0;r!==e;++r)n[r]=t.allocTextureUnit();return n}function Gn(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Vn(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function kn(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fn(n,e))return;t.uniform2fv(this.addr,e),zn(n,e)}}function jn(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Fn(n,e))return;t.uniform3fv(this.addr,e),zn(n,e)}}function Wn(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fn(n,e))return;t.uniform4fv(this.addr,e),zn(n,e)}}function Xn(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Fn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),zn(n,e)}else{if(Fn(n,r))return;Un.set(r),t.uniformMatrix2fv(this.addr,!1,Un),zn(n,r)}}function qn(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Fn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),zn(n,e)}else{if(Fn(n,r))return;Dn.set(r),t.uniformMatrix3fv(this.addr,!1,Dn),zn(n,r)}}function Yn(t,e){var n=this.cache,r=e.elements;if(void 0===r){if(Fn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),zn(n,e)}else{if(Fn(n,r))return;Nn.set(r),t.uniformMatrix4fv(this.addr,!1,Nn),zn(n,r)}}function Zn(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||Ln,i)}function Jn(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Rn,i)}function Qn(t,e,n){var r=this.cache,i=n.allocTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Pn,i)}function Kn(t,e){var n=this.cache;Fn(n,e)||(t.uniform2iv(this.addr,e),zn(n,e))}function $n(t,e){var n=this.cache;Fn(n,e)||(t.uniform3iv(this.addr,e),zn(n,e))}function tr(t,e){var n=this.cache;Fn(n,e)||(t.uniform4iv(this.addr,e),zn(n,e))}function er(t,e){var n=this.cache;Fn(n,e)||(t.uniform1fv(this.addr,e),zn(n,e))}function nr(t,e){var n=this.cache;Fn(n,e)||(t.uniform1iv(this.addr,e),zn(n,e))}function rr(t,e){var n=this.cache,r=Bn(e,this.size,2);Fn(n,r)||(t.uniform2fv(this.addr,r),this.updateCache(r))}function ir(t,e){var n=this.cache,r=Bn(e,this.size,3);Fn(n,r)||(t.uniform3fv(this.addr,r),this.updateCache(r))}function ar(t,e){var n=this.cache,r=Bn(e,this.size,4);Fn(n,r)||(t.uniform4fv(this.addr,r),this.updateCache(r))}function or(t,e){var n=this.cache,r=Bn(e,this.size,4);Fn(n,r)||(t.uniformMatrix2fv(this.addr,!1,r),this.updateCache(r))}function sr(t,e){var n=this.cache,r=Bn(e,this.size,9);Fn(n,r)||(t.uniformMatrix3fv(this.addr,!1,r),this.updateCache(r))}function cr(t,e){var n=this.cache,r=Bn(e,this.size,16);Fn(n,r)||(t.uniformMatrix4fv(this.addr,!1,r),this.updateCache(r))}function hr(t,e,n){var r=this.cache,i=e.length,a=Hn(n,i);!1===Fn(r,a)&&(t.uniform1iv(this.addr,a),zn(r,a));for(var o=0;o!==i;++o)n.setTexture2D(e[o]||Ln,a[o])}function lr(t,e,n){var r=this.cache,i=e.length,a=Hn(n,i);!1===Fn(r,a)&&(t.uniform1iv(this.addr,a),zn(r,a));for(var o=0;o!==i;++o)n.setTextureCube(e[o]||Pn,a[o])}function ur(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return Gn;case 35664:return kn;case 35665:return jn;case 35666:return Wn;case 35674:return Xn;case 35675:return qn;case 35676:return Yn;case 35678:case 36198:return Zn;case 35679:return Jn;case 35680:return Qn;case 5124:case 35670:return Vn;case 35667:case 35671:return Kn;case 35668:case 35672:return $n;case 35669:case 35673:return tr}}(e.type)}function pr(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return er;case 35664:return rr;case 35665:return ir;case 35666:return ar;case 35674:return or;case 35675:return sr;case 35676:return cr;case 35678:return hr;case 35680:return lr;case 5124:case 35670:return nr;case 35667:case 35671:return Kn;case 35668:case 35672:return $n;case 35669:case 35673:return tr}}(e.type)}function dr(t){this.id=t,Cn.call(this)}pr.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),zn(e,t)},dr.prototype.setValue=function(t,e,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(t,e[o.id],n)}};var fr=/([\\w\\d_]+)(\\])?(\\[|\\.)?/g;function mr(t,e){t.seq.push(e),t.map[e.id]=e}function gr(t,e,n){var r=t.name,i=r.length;for(fr.lastIndex=0;;){var a=fr.exec(r),o=fr.lastIndex,s=a[1],c=\"]\"===a[2],h=a[3];if(c&&(s|=0),void 0===h||\"[\"===h&&o+2===i){mr(n,void 0===h?new ur(s,t,e):new pr(s,t,e));break}var l=n.map[s];void 0===l&&mr(n,l=new dr(s)),n=l}}function vr(t,e,n){Cn.call(this),this.renderer=n;for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(e,i);gr(a,t.getUniformLocation(e,a.name),this)}}function yr(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),!1===t.getShaderParameter(r,t.COMPILE_STATUS)&&console.error(\"THREE.WebGLShader: Shader couldn't compile.\"),\"\"!==t.getShaderInfoLog(r)&&console.warn(\"THREE.WebGLShader: gl.getShaderInfoLog()\",e===t.VERTEX_SHADER?\"vertex\":\"fragment\",t.getShaderInfoLog(r),function(t){for(var e=t.split(\"\\n\"),n=0;n<e.length;n++)e[n]=n+1+\": \"+e[n];return e.join(\"\\n\")}(n)),r}vr.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},vr.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},vr.upload=function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},vr.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n};var xr=0;function br(t){switch(t){case le:return[\"Linear\",\"( value )\"];case ue:return[\"sRGB\",\"( value )\"];case de:return[\"RGBE\",\"( value )\"];case fe:return[\"RGBM\",\"( value, 7.0 )\"];case me:return[\"RGBM\",\"( value, 16.0 )\"];case ge:return[\"RGBD\",\"( value, 256.0 )\"];case pe:return[\"Gamma\",\"( value, float( GAMMA_FACTOR ) )\"];default:throw new Error(\"unsupported encoding: \"+t)}}function _r(t,e){var n=br(e);return\"vec4 \"+t+\"( vec4 value ) { return \"+n[0]+\"ToLinear\"+n[1]+\"; }\"}function wr(t){return\"\"!==t}function Mr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function Er(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}function Tr(t){return t.replace(/^[ \\t]*#include +<([\\w\\d./]+)>/gm,function(t,e){var n=Fe[e];if(void 0===n)throw new Error(\"Can not resolve #include <\"+e+\">\");return Tr(n)})}function Sr(t){return t.replace(/#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g,function(t,e,n,r){for(var i=\"\",a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\\[ i \\]/g,\"[ \"+a+\" ]\");return i})}function Ar(t,e,n,r,i,a,o){var h=t.context,l=r.defines,u=i.vertexShader,p=i.fragmentShader,d=\"SHADOWMAP_TYPE_BASIC\";a.shadowMapType===s?d=\"SHADOWMAP_TYPE_PCF\":a.shadowMapType===c&&(d=\"SHADOWMAP_TYPE_PCF_SOFT\");var f=\"ENVMAP_TYPE_CUBE\",m=\"ENVMAP_MODE_REFLECTION\",g=\"ENVMAP_BLENDING_MULTIPLY\";if(a.envMap){switch(r.envMap.mapping){case $:case tt:f=\"ENVMAP_TYPE_CUBE\";break;case it:case at:f=\"ENVMAP_TYPE_CUBE_UV\";break;case et:case nt:f=\"ENVMAP_TYPE_EQUIREC\";break;case rt:f=\"ENVMAP_TYPE_SPHERE\"}switch(r.envMap.mapping){case tt:case nt:m=\"ENVMAP_MODE_REFRACTION\"}switch(r.combine){case W:g=\"ENVMAP_BLENDING_MULTIPLY\";break;case X:g=\"ENVMAP_BLENDING_MIX\";break;case q:g=\"ENVMAP_BLENDING_ADD\"}}var v,y,x=t.gammaFactor>0?t.gammaFactor:1,b=o.isWebGL2?\"\":function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap&&!e.objectSpaceNormalMap||e.flatShading?\"#extension GL_OES_standard_derivatives : enable\":\"\",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get(\"EXT_frag_depth\")?\"#extension GL_EXT_frag_depth : enable\":\"\",t.drawBuffers&&n.get(\"WEBGL_draw_buffers\")?\"#extension GL_EXT_draw_buffers : require\":\"\",(t.shaderTextureLOD||e.envMap)&&n.get(\"EXT_shader_texture_lod\")?\"#extension GL_EXT_shader_texture_lod : enable\":\"\"].filter(wr).join(\"\\n\")}(r.extensions,a,e),_=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push(\"#define \"+n+\" \"+r)}return e.join(\"\\n\")}(l),w=h.createProgram();if(r.isRawShaderMaterial?((v=[_].filter(wr).join(\"\\n\")).length>0&&(v+=\"\\n\"),(y=[b,_].filter(wr).join(\"\\n\")).length>0&&(y+=\"\\n\")):(v=[\"precision \"+a.precision+\" float;\",\"precision \"+a.precision+\" int;\",\"#define SHADER_NAME \"+i.name,_,a.supportsVertexTextures?\"#define VERTEX_TEXTURES\":\"\",\"#define GAMMA_FACTOR \"+x,\"#define MAX_BONES \"+a.maxBones,a.useFog&&a.fog?\"#define USE_FOG\":\"\",a.useFog&&a.fogExp?\"#define FOG_EXP2\":\"\",a.map?\"#define USE_MAP\":\"\",a.envMap?\"#define USE_ENVMAP\":\"\",a.envMap?\"#define \"+m:\"\",a.lightMap?\"#define USE_LIGHTMAP\":\"\",a.aoMap?\"#define USE_AOMAP\":\"\",a.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",a.bumpMap?\"#define USE_BUMPMAP\":\"\",a.normalMap?\"#define USE_NORMALMAP\":\"\",a.normalMap&&a.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",a.displacementMap&&a.supportsVertexTextures?\"#define USE_DISPLACEMENTMAP\":\"\",a.specularMap?\"#define USE_SPECULARMAP\":\"\",a.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",a.metalnessMap?\"#define USE_METALNESSMAP\":\"\",a.alphaMap?\"#define USE_ALPHAMAP\":\"\",a.vertexColors?\"#define USE_COLOR\":\"\",a.flatShading?\"#define FLAT_SHADED\":\"\",a.skinning?\"#define USE_SKINNING\":\"\",a.useVertexTexture?\"#define BONE_TEXTURE\":\"\",a.morphTargets?\"#define USE_MORPHTARGETS\":\"\",a.morphNormals&&!1===a.flatShading?\"#define USE_MORPHNORMALS\":\"\",a.doubleSided?\"#define DOUBLE_SIDED\":\"\",a.flipSided?\"#define FLIP_SIDED\":\"\",a.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",a.shadowMapEnabled?\"#define \"+d:\"\",a.sizeAttenuation?\"#define USE_SIZEATTENUATION\":\"\",a.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get(\"EXT_frag_depth\"))?\"#define USE_LOGDEPTHBUF_EXT\":\"\",\"uniform mat4 modelMatrix;\",\"uniform mat4 modelViewMatrix;\",\"uniform mat4 projectionMatrix;\",\"uniform mat4 viewMatrix;\",\"uniform mat3 normalMatrix;\",\"uniform vec3 cameraPosition;\",\"attribute vec3 position;\",\"attribute vec3 normal;\",\"attribute vec2 uv;\",\"#ifdef USE_COLOR\",\"\\tattribute vec3 color;\",\"#endif\",\"#ifdef USE_MORPHTARGETS\",\"\\tattribute vec3 morphTarget0;\",\"\\tattribute vec3 morphTarget1;\",\"\\tattribute vec3 morphTarget2;\",\"\\tattribute vec3 morphTarget3;\",\"\\t#ifdef USE_MORPHNORMALS\",\"\\t\\tattribute vec3 morphNormal0;\",\"\\t\\tattribute vec3 morphNormal1;\",\"\\t\\tattribute vec3 morphNormal2;\",\"\\t\\tattribute vec3 morphNormal3;\",\"\\t#else\",\"\\t\\tattribute vec3 morphTarget4;\",\"\\t\\tattribute vec3 morphTarget5;\",\"\\t\\tattribute vec3 morphTarget6;\",\"\\t\\tattribute vec3 morphTarget7;\",\"\\t#endif\",\"#endif\",\"#ifdef USE_SKINNING\",\"\\tattribute vec4 skinIndex;\",\"\\tattribute vec4 skinWeight;\",\"#endif\",\"\\n\"].filter(wr).join(\"\\n\"),y=[b,\"precision \"+a.precision+\" float;\",\"precision \"+a.precision+\" int;\",\"#define SHADER_NAME \"+i.name,_,a.alphaTest?\"#define ALPHATEST \"+a.alphaTest+(a.alphaTest%1?\"\":\".0\"):\"\",\"#define GAMMA_FACTOR \"+x,a.useFog&&a.fog?\"#define USE_FOG\":\"\",a.useFog&&a.fogExp?\"#define FOG_EXP2\":\"\",a.map?\"#define USE_MAP\":\"\",a.envMap?\"#define USE_ENVMAP\":\"\",a.envMap?\"#define \"+f:\"\",a.envMap?\"#define \"+m:\"\",a.envMap?\"#define \"+g:\"\",a.lightMap?\"#define USE_LIGHTMAP\":\"\",a.aoMap?\"#define USE_AOMAP\":\"\",a.emissiveMap?\"#define USE_EMISSIVEMAP\":\"\",a.bumpMap?\"#define USE_BUMPMAP\":\"\",a.normalMap?\"#define USE_NORMALMAP\":\"\",a.normalMap&&a.objectSpaceNormalMap?\"#define OBJECTSPACE_NORMALMAP\":\"\",a.specularMap?\"#define USE_SPECULARMAP\":\"\",a.roughnessMap?\"#define USE_ROUGHNESSMAP\":\"\",a.metalnessMap?\"#define USE_METALNESSMAP\":\"\",a.alphaMap?\"#define USE_ALPHAMAP\":\"\",a.vertexColors?\"#define USE_COLOR\":\"\",a.gradientMap?\"#define USE_GRADIENTMAP\":\"\",a.flatShading?\"#define FLAT_SHADED\":\"\",a.doubleSided?\"#define DOUBLE_SIDED\":\"\",a.flipSided?\"#define FLIP_SIDED\":\"\",a.shadowMapEnabled?\"#define USE_SHADOWMAP\":\"\",a.shadowMapEnabled?\"#define \"+d:\"\",a.premultipliedAlpha?\"#define PREMULTIPLIED_ALPHA\":\"\",a.physicallyCorrectLights?\"#define PHYSICALLY_CORRECT_LIGHTS\":\"\",a.logarithmicDepthBuffer?\"#define USE_LOGDEPTHBUF\":\"\",a.logarithmicDepthBuffer&&(o.isWebGL2||e.get(\"EXT_frag_depth\"))?\"#define USE_LOGDEPTHBUF_EXT\":\"\",a.envMap&&(o.isWebGL2||e.get(\"EXT_shader_texture_lod\"))?\"#define TEXTURE_LOD_EXT\":\"\",\"uniform mat4 viewMatrix;\",\"uniform vec3 cameraPosition;\",a.toneMapping!==Y?\"#define TONE_MAPPING\":\"\",a.toneMapping!==Y?Fe.tonemapping_pars_fragment:\"\",a.toneMapping!==Y?function(t,e){var n;switch(e){case Z:n=\"Linear\";break;case J:n=\"Reinhard\";break;case Q:n=\"Uncharted2\";break;case K:n=\"OptimizedCineon\";break;default:throw new Error(\"unsupported toneMapping: \"+e)}return\"vec3 \"+t+\"( vec3 color ) { return \"+n+\"ToneMapping( color ); }\"}(\"toneMapping\",a.toneMapping):\"\",a.dithering?\"#define DITHERING\":\"\",a.outputEncoding||a.mapEncoding||a.matcapEncoding||a.envMapEncoding||a.emissiveMapEncoding?Fe.encodings_pars_fragment:\"\",a.mapEncoding?_r(\"mapTexelToLinear\",a.mapEncoding):\"\",a.matcapEncoding?_r(\"matcapTexelToLinear\",a.matcapEncoding):\"\",a.envMapEncoding?_r(\"envMapTexelToLinear\",a.envMapEncoding):\"\",a.emissiveMapEncoding?_r(\"emissiveMapTexelToLinear\",a.emissiveMapEncoding):\"\",a.outputEncoding?function(t,e){var n=br(e);return\"vec4 \"+t+\"( vec4 value ) { return LinearTo\"+n[0]+n[1]+\"; }\"}(\"linearToOutputTexel\",a.outputEncoding):\"\",a.depthPacking?\"#define DEPTH_PACKING \"+r.depthPacking:\"\",\"\\n\"].filter(wr).join(\"\\n\")),u=Er(u=Mr(u=Tr(u),a),a),p=Er(p=Mr(p=Tr(p),a),a),u=Sr(u),p=Sr(p),o.isWebGL2&&!r.isRawShaderMaterial){var M=!1,E=/^\\s*#version\\s+300\\s+es\\s*\\n/;r.isShaderMaterial&&null!==u.match(E)&&null!==p.match(E)&&(M=!0,u=u.replace(E,\"\"),p=p.replace(E,\"\")),v=[\"#version 300 es\\n\",\"#define attribute in\",\"#define varying out\",\"#define texture2D texture\"].join(\"\\n\")+\"\\n\"+v,y=[\"#version 300 es\\n\",\"#define varying in\",M?\"\":\"out highp vec4 pc_fragColor;\",M?\"\":\"#define gl_FragColor pc_fragColor\",\"#define gl_FragDepthEXT gl_FragDepth\",\"#define texture2D texture\",\"#define textureCube texture\",\"#define texture2DProj textureProj\",\"#define texture2DLodEXT textureLod\",\"#define texture2DProjLodEXT textureProjLod\",\"#define textureCubeLodEXT textureLod\",\"#define texture2DGradEXT textureGrad\",\"#define texture2DProjGradEXT textureProjGrad\",\"#define textureCubeGradEXT textureGrad\"].join(\"\\n\")+\"\\n\"+y}var T=v+u,S=y+p,A=yr(h,h.VERTEX_SHADER,T),L=yr(h,h.FRAGMENT_SHADER,S);h.attachShader(w,A),h.attachShader(w,L),void 0!==r.index0AttributeName?h.bindAttribLocation(w,0,r.index0AttributeName):!0===a.morphTargets&&h.bindAttribLocation(w,0,\"position\"),h.linkProgram(w);var R,P,C=h.getProgramInfoLog(w).trim(),O=h.getShaderInfoLog(A).trim(),I=h.getShaderInfoLog(L).trim(),N=!0,D=!0;return!1===h.getProgramParameter(w,h.LINK_STATUS)?(N=!1,console.error(\"THREE.WebGLProgram: shader error: \",h.getError(),\"gl.VALIDATE_STATUS\",h.getProgramParameter(w,h.VALIDATE_STATUS),\"gl.getProgramInfoLog\",C,O,I)):\"\"!==C?console.warn(\"THREE.WebGLProgram: gl.getProgramInfoLog()\",C):\"\"!==O&&\"\"!==I||(D=!1),D&&(this.diagnostics={runnable:N,material:r,programLog:C,vertexShader:{log:O,prefix:v},fragmentShader:{log:I,prefix:y}}),h.deleteShader(A),h.deleteShader(L),this.getUniforms=function(){return void 0===R&&(R=new vr(h,w,t)),R},this.getAttributes=function(){return void 0===P&&(P=function(t,e){for(var n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=t.getActiveAttrib(e,i).name;n[a]=t.getAttribLocation(e,a)}return n}(h,w)),P},this.destroy=function(){h.deleteProgram(w),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn(\"THREE.WebGLProgram: .uniforms is now .getUniforms().\"),this.getUniforms()}},attributes:{get:function(){return console.warn(\"THREE.WebGLProgram: .attributes is now .getAttributes().\"),this.getAttributes()}}}),this.name=i.name,this.id=xr++,this.code=n,this.usedTimes=1,this.program=w,this.vertexShader=A,this.fragmentShader=L,this}function Lr(t,e,n){var r=[],i={MeshDepthMaterial:\"depth\",MeshDistanceMaterial:\"distanceRGBA\",MeshNormalMaterial:\"normal\",MeshBasicMaterial:\"basic\",MeshLambertMaterial:\"lambert\",MeshPhongMaterial:\"phong\",MeshToonMaterial:\"phong\",MeshStandardMaterial:\"physical\",MeshPhysicalMaterial:\"physical\",MeshMatcapMaterial:\"matcap\",LineBasicMaterial:\"basic\",LineDashedMaterial:\"dashed\",PointsMaterial:\"points\",ShadowMaterial:\"shadow\",SpriteMaterial:\"sprite\"},a=[\"precision\",\"supportsVertexTextures\",\"map\",\"mapEncoding\",\"matcapEncoding\",\"envMap\",\"envMapMode\",\"envMapEncoding\",\"lightMap\",\"aoMap\",\"emissiveMap\",\"emissiveMapEncoding\",\"bumpMap\",\"normalMap\",\"objectSpaceNormalMap\",\"displacementMap\",\"specularMap\",\"roughnessMap\",\"metalnessMap\",\"gradientMap\",\"alphaMap\",\"combine\",\"vertexColors\",\"fog\",\"useFog\",\"fogExp\",\"flatShading\",\"sizeAttenuation\",\"logarithmicDepthBuffer\",\"skinning\",\"maxBones\",\"useVertexTexture\",\"morphTargets\",\"morphNormals\",\"maxMorphTargets\",\"maxMorphNormals\",\"premultipliedAlpha\",\"numDirLights\",\"numPointLights\",\"numSpotLights\",\"numHemiLights\",\"numRectAreaLights\",\"shadowMapEnabled\",\"shadowMapType\",\"toneMapping\",\"physicallyCorrectLights\",\"alphaTest\",\"doubleSided\",\"flipSided\",\"numClippingPlanes\",\"numClipIntersection\",\"depthPacking\",\"dithering\"];function o(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn(\"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\"),n=t.texture.encoding):n=le,n===le&&e&&(n=pe),n}this.getParameters=function(e,r,a,s,c,h,p){var d=i[e.type],f=p.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(n.floatVertexTextures)return 1024;var r=n.maxVertexUniforms,i=Math.floor((r-20)/4),a=Math.min(i,e.length);return a<e.length?(console.warn(\"THREE.WebGLRenderer: Skeleton has \"+e.length+\" bones. This GPU supports \"+a+\".\"),0):a}(p):0,m=n.precision;null!==e.precision&&(m=n.getMaxPrecision(e.precision))!==e.precision&&console.warn(\"THREE.WebGLProgram.getParameters:\",e.precision,\"not supported, using\",m,\"instead.\");var g=t.getRenderTarget();return{shaderID:d,precision:m,supportsVertexTextures:n.vertexTextures,outputEncoding:o(g?g.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:o(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:o(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:o(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===it||e.envMap.mapping===at),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:o(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:e.normalMapType===be,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,combine:e.combine,vertexColors:e.vertexColors,fog:!!s,useFog:e.fog,fogExp:s&&s.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&f>0,maxBones:f,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:r.directional.length,numPointLights:r.point.length,numSpotLights:r.spot.length,numRectAreaLights:r.rectArea.length,numHemiLights:r.hemi.length,numClippingPlanes:c,numClipIntersection:h,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&p.receiveShadow&&a.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===u,flipSided:e.side===l,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var r=[];if(n.shaderID?r.push(n.shaderID):(r.push(e.fragmentShader),r.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)r.push(i),r.push(e.defines[i]);for(var o=0;o<a.length;o++)r.push(n[a[o]]);return r.push(e.onBeforeCompile.toString()),r.push(t.gammaOutput),r.join()},this.acquireProgram=function(i,a,o,s){for(var c,h=0,l=r.length;h<l;h++){var u=r[h];if(u.code===s){++(c=u).usedTimes;break}}return void 0===c&&(c=new Ar(t,e,s,i,a,o,n),r.push(c)),c},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=r.indexOf(t);r[e]=r[r.length-1],r.pop(),t.destroy()}},this.programs=r}function Rr(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program&&e.program&&t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Pr(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Cr(){var t={};return{get:function(e,n){var r=e.id+\",\"+n.id,i=t[r];return void 0===i&&(i=new function(){var t=[],e=0,n=[],r=[];return{opaque:n,transparent:r,init:function(){e=0,n.length=0,r.length=0},push:function(i,a,o,s,c){var h=t[e];void 0===h?(h={id:i.id,object:i,geometry:a,material:o,program:o.program,renderOrder:i.renderOrder,z:s,group:c},t[e]=h):(h.id=i.id,h.object=i,h.geometry=a,h.material=o,h.program=o.program,h.renderOrder=i.renderOrder,h.z=s,h.group=c),(!0===o.transparent?r:n).push(h),e++},sort:function(){n.length>1&&n.sort(Rr),r.length>1&&r.sort(Pr)}}},t[r]=i),i},dispose:function(){t={}}}}var Or,Ir=0;function Nr(){var t=new function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case\"DirectionalLight\":n={direction:new Te,color:new Ge,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new we};break;case\"SpotLight\":n={position:new Te,direction:new Te,color:new Ge,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new we};break;case\"PointLight\":n={position:new Te,color:new Ge,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new we,shadowCameraNear:1,shadowCameraFar:1e3};break;case\"HemisphereLight\":n={direction:new Te,skyColor:new Ge,groundColor:new Ge};break;case\"RectAreaLight\":n={color:new Ge,position:new Te,halfWidth:new Te,halfHeight:new Te}}return t[e.id]=n,n}}},e={id:Ir++,hash:{stateID:-1,directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,shadowsLength:-1},ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},n=new Te,r=new Me,i=new Me;return{setup:function(a,o,s){for(var c=0,h=0,l=0,u=0,p=0,d=0,f=0,m=0,g=s.matrixWorldInverse,v=0,y=a.length;v<y;v++){var x=a[v],b=x.color,_=x.intensity,w=x.distance,M=x.shadow&&x.shadow.map?x.shadow.map.texture:null;if(x.isAmbientLight)c+=b.r*_,h+=b.g*_,l+=b.b*_;else if(x.isDirectionalLight){if((T=t.get(x)).color.copy(x.color).multiplyScalar(x.intensity),T.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.shadow=x.castShadow,x.castShadow){var E=x.shadow;T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize}e.directionalShadowMap[u]=M,e.directionalShadowMatrix[u]=x.shadow.matrix,e.directional[u]=T,u++}else if(x.isSpotLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(b).multiplyScalar(_),T.distance=w,T.direction.setFromMatrixPosition(x.matrixWorld),n.setFromMatrixPosition(x.target.matrixWorld),T.direction.sub(n),T.direction.transformDirection(g),T.coneCos=Math.cos(x.angle),T.penumbraCos=Math.cos(x.angle*(1-x.penumbra)),T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize),e.spotShadowMap[d]=M,e.spotShadowMatrix[d]=x.shadow.matrix,e.spot[d]=T,d++;else if(x.isRectAreaLight)(T=t.get(x)).color.copy(b).multiplyScalar(_),T.position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),i.identity(),r.copy(x.matrixWorld),r.premultiply(g),i.extractRotation(r),T.halfWidth.set(.5*x.width,0,0),T.halfHeight.set(0,.5*x.height,0),T.halfWidth.applyMatrix4(i),T.halfHeight.applyMatrix4(i),e.rectArea[f]=T,f++;else if(x.isPointLight)(T=t.get(x)).position.setFromMatrixPosition(x.matrixWorld),T.position.applyMatrix4(g),T.color.copy(x.color).multiplyScalar(x.intensity),T.distance=x.distance,T.decay=x.decay,T.shadow=x.castShadow,x.castShadow&&(E=x.shadow,T.shadowBias=E.bias,T.shadowRadius=E.radius,T.shadowMapSize=E.mapSize,T.shadowCameraNear=E.camera.near,T.shadowCameraFar=E.camera.far),e.pointShadowMap[p]=M,e.pointShadowMatrix[p]=x.shadow.matrix,e.point[p]=T,p++;else if(x.isHemisphereLight){var T;(T=t.get(x)).direction.setFromMatrixPosition(x.matrixWorld),T.direction.transformDirection(g),T.direction.normalize(),T.skyColor.copy(x.color).multiplyScalar(_),T.groundColor.copy(x.groundColor).multiplyScalar(_),e.hemi[m]=T,m++}}e.ambient[0]=c,e.ambient[1]=h,e.ambient[2]=l,e.directional.length=u,e.spot.length=d,e.rectArea.length=f,e.point.length=p,e.hemi.length=m,e.hash.stateID=e.id,e.hash.directionalLength=u,e.hash.pointLength=p,e.hash.spotLength=d,e.hash.rectAreaLength=f,e.hash.hemiLength=m,e.hash.shadowsLength=o.length},state:e}}function Dr(){var t=new Nr,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(r){t.setup(e,n,r)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function Ur(t){xn.call(this),this.type=\"MeshDepthMaterial\",this.depthPacking=ve,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)}function Br(t){xn.call(this),this.type=\"MeshDistanceMaterial\",this.referencePosition=new Te,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(t)}function Fr(t,e,n){for(var r=new Be,i=new Me,a=new we,o=new we(n,n),c=new Te,p=new Te,d=1,f=2,m=1+(d|f),g=new Array(m),v=new Array(m),y={},x={0:l,1:h,2:u},b=[new Te(1,0,0),new Te(-1,0,0),new Te(0,0,1),new Te(0,0,-1),new Te(0,1,0),new Te(0,-1,0)],_=[new Te(0,1,0),new Te(0,1,0),new Te(0,1,0),new Te(0,1,0),new Te(0,0,1),new Te(0,0,-1)],w=[new Pe,new Pe,new Pe,new Pe,new Pe,new Pe],M=0;M!==m;++M){var E=0!=(M&d),T=0!=(M&f),S=new Ur({depthPacking:ye,morphTargets:E,skinning:T});g[M]=S;var A=new Br({morphTargets:E,skinning:T});v[M]=A}var L=this;function R(e,n,r,i,a,o){var s=e.geometry,c=null,h=g,l=e.customDepthMaterial;if(r&&(h=v,l=e.customDistanceMaterial),l)c=l;else{var u=!1;n.morphTargets&&(s&&s.isBufferGeometry?u=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(u=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn(\"THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:\",e);var p=e.isSkinnedMesh&&n.skinning,m=0;u&&(m|=d),p&&(m|=f),c=h[m]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var b=c.uuid,_=n.uuid,w=y[b];void 0===w&&(w={},y[b]=w);var M=w[_];void 0===M&&(M=c.clone(),w[_]=M),c=M}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=null!=n.shadowSide?n.shadowSide:x[n.side],c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,r&&c.isMeshDistanceMaterial&&(c.referencePosition.copy(i),c.nearDistance=a,c.farDistance=o),c}function P(n,i,a,o){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&n.castShadow&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=e.update(n),c=n.material;if(Array.isArray(c))for(var h=s.groups,l=0,u=h.length;l<u;l++){var d=h[l],f=c[d.materialIndex];if(f&&f.visible){var m=R(n,f,o,p,a.near,a.far);t.renderBufferDirect(a,null,s,m,n,d)}}else if(c.visible){m=R(n,c,o,p,a.near,a.far);t.renderBufferDirect(a,null,s,m,n,null)}}for(var g=n.children,v=0,y=g.length;v<y;v++)P(g[v],i,a,o)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=s,this.render=function(e,n,s){if(!1!==L.enabled&&(!1!==L.autoUpdate||!1!==L.needsUpdate)&&0!==e.length){var h,l=t.context,u=t.state;u.disable(l.BLEND),u.buffers.color.setClear(1,1,1,1),u.buffers.depth.setTest(!0),u.setScissorTest(!1);for(var d=0,f=e.length;d<f;d++){var m=e[d],g=m.shadow,v=m&&m.isPointLight;if(void 0!==g){var y=g.camera;if(a.copy(g.mapSize),a.min(o),v){var x=a.x,M=a.y;w[0].set(2*x,M,x,M),w[1].set(0,M,x,M),w[2].set(3*x,M,x,M),w[3].set(x,M,x,M),w[4].set(3*x,0,x,M),w[5].set(x,0,x,M),a.x*=4,a.y*=2}if(null===g.map){var E={minFilter:ht,magFilter:ht,format:Rt};g.map=new Ce(a.x,a.y,E),g.map.texture.name=m.name+\".shadowMap\",y.updateProjectionMatrix()}g.isSpotLightShadow&&g.update(m);var T=g.map,S=g.matrix;p.setFromMatrixPosition(m.matrixWorld),y.position.copy(p),v?(h=6,S.makeTranslation(-p.x,-p.y,-p.z)):(h=1,c.setFromMatrixPosition(m.target.matrixWorld),y.lookAt(c),y.updateMatrixWorld(),S.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),S.multiply(y.projectionMatrix),S.multiply(y.matrixWorldInverse)),t.setRenderTarget(T),t.clear();for(var A=0;A<h;A++){if(v){c.copy(y.position),c.add(b[A]),y.up.copy(_[A]),y.lookAt(c),y.updateMatrixWorld();var R=w[A];u.viewport(R)}i.multiplyMatrices(y.projectionMatrix,y.matrixWorldInverse),r.setFromMatrix(i),P(n,s,y,v)}}else console.warn(\"THREE.WebGLShadowMap:\",m,\"has no shadow.\")}L.needsUpdate=!1}}}function zr(t,e,n,r,i,a,o){var s,c={};function h(t,e){if(t.width>e||t.height>e){if(\"data\"in t)return void console.warn(\"THREE.WebGLRenderer: image in DataTexture is too big (\"+t.width+\"x\"+t.height+\").\");var n=e/Math.max(t.width,t.height),r=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext(\"2d\").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),console.warn(\"THREE.WebGLRenderer: image is too big (\"+t.width+\"x\"+t.height+\"). Resized to \"+r.width+\"x\"+r.height),r}return t}function l(t){return _e.isPowerOfTwo(t.width)&&_e.isPowerOfTwo(t.height)}function u(t,e){return t.generateMipmaps&&e&&t.minFilter!==ht&&t.minFilter!==pt}function p(e,n,i,a){t.generateMipmap(e),r.get(n).__maxMipLevel=Math.log(Math.max(i,a))*Math.LOG2E}function d(e,n){if(!i.isWebGL2)return e;if(e===t.RED){if(n===t.FLOAT)return t.R32F;if(n===t.HALF_FLOAT)return t.R16F;if(n===t.UNSIGNED_BYTE)return t.R8}if(e===t.RGB){if(n===t.FLOAT)return t.RGB32F;if(n===t.HALF_FLOAT)return t.RGB16F;if(n===t.UNSIGNED_BYTE)return t.RGB8}if(e===t.RGBA){if(n===t.FLOAT)return t.RGBA32F;if(n===t.HALF_FLOAT)return t.RGBA16F;if(n===t.UNSIGNED_BYTE)return t.RGBA8}return e}function f(e){return e===ht||e===lt||e===ut?t.NEAREST:t.LINEAR}function m(e){var n=e.target;n.removeEventListener(\"dispose\",m),function(e){var n=r.get(e);if(e.image&&n.__image__webglTextureCube)t.deleteTexture(n.__image__webglTextureCube);else{if(void 0===n.__webglInit)return;t.deleteTexture(n.__webglTexture)}r.remove(e)}(n),n.isVideoTexture&&delete c[n.id],o.memory.textures--}function g(e){var n=e.target;n.removeEventListener(\"dispose\",g),function(e){var n=r.get(e),i=r.get(e.texture);if(!e)return;void 0!==i.__webglTexture&&t.deleteTexture(i.__webglTexture);e.depthTexture&&e.depthTexture.dispose();if(e.isWebGLRenderTargetCube)for(var a=0;a<6;a++)t.deleteFramebuffer(n.__webglFramebuffer[a]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[a]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);r.remove(e.texture),r.remove(e)}(n),o.memory.textures--}function v(e,i){var a=r.get(e);if(e.isVideoTexture&&function(t){var e=t.id,n=o.render.frame;c[e]!==n&&(c[e]=n,t.update())}(e),e.version>0&&a.__version!==e.version){var s=e.image;if(void 0===s)console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is undefined\");else{if(!1!==s.complete)return void x(a,e,i);console.warn(\"THREE.WebGLRenderer: Texture marked for update but image is incomplete\")}}n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_2D,a.__webglTexture)}function y(n,o,s){var c;if(s?(t.texParameteri(n,t.TEXTURE_WRAP_S,a.convert(o.wrapS)),t.texParameteri(n,t.TEXTURE_WRAP_T,a.convert(o.wrapT)),t.texParameteri(n,t.TEXTURE_MAG_FILTER,a.convert(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,a.convert(o.minFilter))):(t.texParameteri(n,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(n,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),o.wrapS===st&&o.wrapT===st||console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.\"),t.texParameteri(n,t.TEXTURE_MAG_FILTER,f(o.magFilter)),t.texParameteri(n,t.TEXTURE_MIN_FILTER,f(o.minFilter)),o.minFilter!==ht&&o.minFilter!==pt&&console.warn(\"THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.\")),c=e.get(\"EXT_texture_filter_anisotropic\")){if(o.type===_t&&null===e.get(\"OES_texture_float_linear\"))return;if(o.type===wt&&null===(i.isWebGL2||e.get(\"OES_texture_half_float_linear\")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(t.texParameterf(n,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function x(e,r,c){var f;f=r.isDataTexture3D?t.TEXTURE_3D:t.TEXTURE_2D,void 0===e.__webglInit&&(e.__webglInit=!0,r.addEventListener(\"dispose\",m),e.__webglTexture=t.createTexture(),o.memory.textures++),n.activeTexture(t.TEXTURE0+c),n.bindTexture(f,e.__webglTexture),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,r.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,r.unpackAlignment);var g=h(r.image,i.maxTextureSize);(function(t){return!i.isWebGL2&&(t.wrapS!==st||t.wrapT!==st||t.minFilter!==ht&&t.minFilter!==pt)})(r)&&!1===l(g)&&(g=function(t){return t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageBitmap?(void 0===s&&(s=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\")),s.width=_e.floorPowerOfTwo(t.width),s.height=_e.floorPowerOfTwo(t.height),s.getContext(\"2d\").drawImage(t,0,0,s.width,s.height),console.warn(\"THREE.WebGLRenderer: image is not power of two (\"+t.width+\"x\"+t.height+\"). Resized to \"+s.width+\"x\"+s.height),s):t}(g));var v=l(g),x=a.convert(r.format),b=a.convert(r.type),_=d(x,b);y(f,r,v);var w,M=r.mipmaps;if(r.isDepthTexture){if(_=t.DEPTH_COMPONENT,r.type===_t){if(!i.isWebGL2)throw new Error(\"Float Depth Texture only supported in WebGL2.0\");_=t.DEPTH_COMPONENT32F}else i.isWebGL2&&(_=t.DEPTH_COMPONENT16);r.format===It&&_===t.DEPTH_COMPONENT&&r.type!==yt&&r.type!==bt&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.\"),r.type=yt,b=a.convert(r.type)),r.format===Nt&&(_=t.DEPTH_STENCIL,r.type!==St&&(console.warn(\"THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.\"),r.type=St,b=a.convert(r.type))),n.texImage2D(t.TEXTURE_2D,0,_,g.width,g.height,0,x,b,null)}else if(r.isDataTexture)if(M.length>0&&v){for(var E=0,T=M.length;E<T;E++)w=M[E],n.texImage2D(t.TEXTURE_2D,E,_,w.width,w.height,0,x,b,w.data);r.generateMipmaps=!1,e.__maxMipLevel=M.length-1}else n.texImage2D(t.TEXTURE_2D,0,_,g.width,g.height,0,x,b,g.data),e.__maxMipLevel=0;else if(r.isCompressedTexture){for(E=0,T=M.length;E<T;E++)w=M[E],r.format!==Rt&&r.format!==Lt?n.getCompressedTextureFormats().indexOf(x)>-1?n.compressedTexImage2D(t.TEXTURE_2D,E,_,w.width,w.height,0,w.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()\"):n.texImage2D(t.TEXTURE_2D,E,_,w.width,w.height,0,x,b,w.data);e.__maxMipLevel=M.length-1}else if(r.isDataTexture3D)n.texImage3D(t.TEXTURE_3D,0,_,g.width,g.height,g.depth,0,x,b,g.data),e.__maxMipLevel=0;else if(M.length>0&&v){for(E=0,T=M.length;E<T;E++)w=M[E],n.texImage2D(t.TEXTURE_2D,E,_,x,b,w);r.generateMipmaps=!1,e.__maxMipLevel=M.length-1}else n.texImage2D(t.TEXTURE_2D,0,_,x,b,g),e.__maxMipLevel=0;u(r,v)&&p(t.TEXTURE_2D,r,g.width,g.height),e.__version=r.version,r.onUpdate&&r.onUpdate(r)}function b(e,i,o,s){var c=a.convert(i.texture.format),h=a.convert(i.texture.type),l=d(c,h);n.texImage2D(s,0,l,i.width,i.height,0,c,h,null),t.bindFramebuffer(t.FRAMEBUFFER,e),t.framebufferTexture2D(t.FRAMEBUFFER,o,s,r.get(i.texture).__webglTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}function _(e,n){t.bindRenderbuffer(t.RENDERBUFFER,e),n.depthBuffer&&!n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e)):n.depthBuffer&&n.stencilBuffer?(t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,n.width,n.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e)):t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,n.width,n.height),t.bindRenderbuffer(t.RENDERBUFFER,null)}function w(e){var n=r.get(e),i=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(i)throw new Error(\"target.depthTexture not supported in Cube render targets\");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error(\"Depth Texture with cube render targets is not supported\");if(t.bindFramebuffer(t.FRAMEBUFFER,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error(\"renderTarget.depthTexture must be an instance of THREE.DepthTexture\");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),v(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===It)t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,i,0);else{if(n.depthTexture.format!==Nt)throw new Error(\"Unknown depthTexture format\");t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,i,0)}}(n.__webglFramebuffer,e)}else if(i){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),_(n.__webglDepthbuffer[a],e)}else t.bindFramebuffer(t.FRAMEBUFFER,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),_(n.__webglDepthbuffer,e);t.bindFramebuffer(t.FRAMEBUFFER,null)}this.setTexture2D=v,this.setTexture3D=function(e,i){var a=r.get(e);e.version>0&&a.__version!==e.version?x(a,e,i):(n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_3D,a.__webglTexture))},this.setTextureCube=function(e,s){var c=r.get(e);if(6===e.image.length)if(e.version>0&&c.__version!==e.version){c.__image__webglTextureCube||(e.addEventListener(\"dispose\",m),c.__image__webglTextureCube=t.createTexture(),o.memory.textures++),n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var f=e&&e.isCompressedTexture,g=e.image[0]&&e.image[0].isDataTexture,v=[],x=0;x<6;x++)v[x]=f||g?g?e.image[x].image:e.image[x]:h(e.image[x],i.maxCubemapSize);var b=v[0],_=l(b),w=a.convert(e.format),M=a.convert(e.type),E=d(w,M);for(y(t.TEXTURE_CUBE_MAP,e,_),x=0;x<6;x++)if(f)for(var T,S=v[x].mipmaps,A=0,L=S.length;A<L;A++)T=S[A],e.format!==Rt&&e.format!==Lt?n.getCompressedTextureFormats().indexOf(w)>-1?n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,A,E,T.width,T.height,0,T.data):console.warn(\"THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()\"):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,A,E,T.width,T.height,0,w,M,T.data);else g?n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,E,v[x].width,v[x].height,0,w,M,v[x].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+x,0,E,w,M,v[x]);c.__maxMipLevel=f?S.length-1:0,u(e,_)&&p(t.TEXTURE_CUBE_MAP,e,b.width,b.height),c.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(t.TEXTURE0+s),n.bindTexture(t.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)},this.setTextureCubeDynamic=function(e,i){n.activeTexture(t.TEXTURE0+i),n.bindTexture(t.TEXTURE_CUBE_MAP,r.get(e).__webglTexture)},this.setupRenderTarget=function(e){var i=r.get(e),a=r.get(e.texture);e.addEventListener(\"dispose\",g),a.__webglTexture=t.createTexture(),o.memory.textures++;var s=!0===e.isWebGLRenderTargetCube,c=l(e);if(s){i.__webglFramebuffer=[];for(var h=0;h<6;h++)i.__webglFramebuffer[h]=t.createFramebuffer()}else i.__webglFramebuffer=t.createFramebuffer();if(s){for(n.bindTexture(t.TEXTURE_CUBE_MAP,a.__webglTexture),y(t.TEXTURE_CUBE_MAP,e.texture,c),h=0;h<6;h++)b(i.__webglFramebuffer[h],e,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+h);u(e.texture,c)&&p(t.TEXTURE_CUBE_MAP,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_CUBE_MAP,null)}else n.bindTexture(t.TEXTURE_2D,a.__webglTexture),y(t.TEXTURE_2D,e.texture,c),b(i.__webglFramebuffer,e,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),u(e.texture,c)&&p(t.TEXTURE_2D,e.texture,e.width,e.height),n.bindTexture(t.TEXTURE_2D,null);e.depthBuffer&&w(e)},this.updateRenderTargetMipmap=function(e){var i=e.texture;if(u(i,l(e))){var a=e.isWebGLRenderTargetCube?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,o=r.get(i).__webglTexture;n.bindTexture(a,o),p(a,i,e.width,e.height),n.bindTexture(a,null)}}}function Hr(t,e,n){return{convert:function(r){var i;if(r===ot)return t.REPEAT;if(r===st)return t.CLAMP_TO_EDGE;if(r===ct)return t.MIRRORED_REPEAT;if(r===ht)return t.NEAREST;if(r===lt)return t.NEAREST_MIPMAP_NEAREST;if(r===ut)return t.NEAREST_MIPMAP_LINEAR;if(r===pt)return t.LINEAR;if(r===dt)return t.LINEAR_MIPMAP_NEAREST;if(r===ft)return t.LINEAR_MIPMAP_LINEAR;if(r===mt)return t.UNSIGNED_BYTE;if(r===Mt)return t.UNSIGNED_SHORT_4_4_4_4;if(r===Et)return t.UNSIGNED_SHORT_5_5_5_1;if(r===Tt)return t.UNSIGNED_SHORT_5_6_5;if(r===gt)return t.BYTE;if(r===vt)return t.SHORT;if(r===yt)return t.UNSIGNED_SHORT;if(r===xt)return t.INT;if(r===bt)return t.UNSIGNED_INT;if(r===_t)return t.FLOAT;if(r===wt){if(n.isWebGL2)return t.HALF_FLOAT;if(null!==(i=e.get(\"OES_texture_half_float\")))return i.HALF_FLOAT_OES}if(r===At)return t.ALPHA;if(r===Lt)return t.RGB;if(r===Rt)return t.RGBA;if(r===Pt)return t.LUMINANCE;if(r===Ct)return t.LUMINANCE_ALPHA;if(r===It)return t.DEPTH_COMPONENT;if(r===Nt)return t.DEPTH_STENCIL;if(r===Dt)return t.RED;if(r===_)return t.FUNC_ADD;if(r===w)return t.FUNC_SUBTRACT;if(r===M)return t.FUNC_REVERSE_SUBTRACT;if(r===S)return t.ZERO;if(r===A)return t.ONE;if(r===L)return t.SRC_COLOR;if(r===R)return t.ONE_MINUS_SRC_COLOR;if(r===P)return t.SRC_ALPHA;if(r===C)return t.ONE_MINUS_SRC_ALPHA;if(r===O)return t.DST_ALPHA;if(r===I)return t.ONE_MINUS_DST_ALPHA;if(r===N)return t.DST_COLOR;if(r===D)return t.ONE_MINUS_DST_COLOR;if(r===U)return t.SRC_ALPHA_SATURATE;if((r===Ut||r===Bt||r===Ft||r===zt)&&null!==(i=e.get(\"WEBGL_compressed_texture_s3tc\"))){if(r===Ut)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Bt)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Ft)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===zt)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((r===Ht||r===Gt||r===Vt||r===kt)&&null!==(i=e.get(\"WEBGL_compressed_texture_pvrtc\"))){if(r===Ht)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Gt)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Vt)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===kt)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===jt&&null!==(i=e.get(\"WEBGL_compressed_texture_etc1\")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((r===Wt||r===Xt||r===qt||r===Yt||r===Zt||r===Jt||r===Qt||r===Kt||r===$t||r===te||r===ee||r===ne||r===re||r===ie)&&null!==(i=e.get(\"WEBGL_compressed_texture_astc\")))return r;if(r===E||r===T){if(n.isWebGL2){if(r===E)return t.MIN;if(r===T)return t.MAX}if(null!==(i=e.get(\"EXT_blend_minmax\"))){if(r===E)return i.MIN_EXT;if(r===T)return i.MAX_EXT}}if(r===St){if(n.isWebGL2)return t.UNSIGNED_INT_24_8;if(null!==(i=e.get(\"WEBGL_depth_texture\")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Gr(){Je.call(this),this.type=\"Group\"}function Vr(){Je.call(this),this.type=\"Camera\",this.matrixWorldInverse=new Me,this.projectionMatrix=new Me,this.projectionMatrixInverse=new Me}function kr(t,e,n,r){Vr.call(this),this.type=\"PerspectiveCamera\",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function jr(t){kr.call(this),this.cameras=t||[]}function Wr(t){var e=this,n=null,r=null,i=null,a=[],o=new Me,s=new Me,c=\"stage\";\"undefined\"!=typeof window&&\"VRFrameData\"in window&&(r=new window.VRFrameData,window.addEventListener(\"vrdisplaypresentchange\",y,!1));var h=new Me,l=new Ee,u=new Te,p=new kr;p.bounds=new Pe(0,0,.5,1),p.layers.enable(1);var d=new kr;d.bounds=new Pe(.5,0,.5,1),d.layers.enable(2);var f,m,g=new jr([p,d]);function v(){return null!==n&&!0===n.isPresenting}function y(){if(v()){var r=n.getEyeParameters(\"left\"),i=r.renderWidth,a=r.renderHeight;m=t.getPixelRatio(),f=t.getSize(),t.setDrawingBufferSize(2*i,a,1),_.start()}else e.enabled&&t.setDrawingBufferSize(f.width,f.height,m),_.stop()}g.layers.enable(1),g.layers.enable(2);var x=[];function b(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,r=0,i=e.length;n<i;n++){var a=e[n];if(a&&(\"Daydream Controller\"===a.id||\"Gear VR Controller\"===a.id||\"Oculus Go Controller\"===a.id||\"OpenVR Gamepad\"===a.id||a.id.startsWith(\"Oculus Touch\")||a.id.startsWith(\"Spatial Controller\"))){if(r===t)return a;r++}}}this.enabled=!1,this.getController=function(t){var e=a[t];return void 0===e&&((e=new Gr).matrixAutoUpdate=!1,e.visible=!1,a[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),_.setContext(t)},this.setFrameOfReferenceType=function(t){c=t},this.setPoseTarget=function(t){void 0!==t&&(i=t)},this.getCamera=function(t){var e=\"stage\"===c?1.6:0;if(null===n)return t.position.set(0,e,0),t;if(n.depthNear=t.near,n.depthFar=t.far,n.getFrameData(r),\"stage\"===c){var f=n.stageParameters;f?o.fromArray(f.sittingToStandingTransform):o.makeTranslation(0,e,0)}var m=r.pose,v=null!==i?i:t;if(v.matrix.copy(o),v.matrix.decompose(v.position,v.quaternion,v.scale),null!==m.orientation&&(l.fromArray(m.orientation),v.quaternion.multiply(l)),null!==m.position&&(l.setFromRotationMatrix(o),u.fromArray(m.position),u.applyQuaternion(l),v.position.add(u)),v.updateMatrixWorld(),!1===n.isPresenting)return t;p.near=t.near,d.near=t.near,p.far=t.far,d.far=t.far,g.matrixWorld.copy(t.matrixWorld),g.matrixWorldInverse.copy(t.matrixWorldInverse),p.matrixWorldInverse.fromArray(r.leftViewMatrix),d.matrixWorldInverse.fromArray(r.rightViewMatrix),s.getInverse(o),\"stage\"===c&&(p.matrixWorldInverse.multiply(s),d.matrixWorldInverse.multiply(s));var y=v.parent;null!==y&&(h.getInverse(y.matrixWorld),p.matrixWorldInverse.multiply(h),d.matrixWorldInverse.multiply(h)),p.matrixWorld.getInverse(p.matrixWorldInverse),d.matrixWorld.getInverse(d.matrixWorldInverse),p.projectionMatrix.fromArray(r.leftProjectionMatrix),d.projectionMatrix.fromArray(r.rightProjectionMatrix),g.projectionMatrix.copy(p.projectionMatrix);var _=n.getLayers();if(_.length){var w=_[0];null!==w.leftBounds&&4===w.leftBounds.length&&p.bounds.fromArray(w.leftBounds),null!==w.rightBounds&&4===w.rightBounds.length&&d.bounds.fromArray(w.rightBounds)}return function(){for(var t=0;t<a.length;t++){var e=a[t],n=b(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var r=n.pose;!1===r.hasPosition&&e.position.set(.2,-.6,-.05),null!==r.position&&e.position.fromArray(r.position),null!==r.orientation&&e.quaternion.fromArray(r.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(o),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var i=\"Daydream Controller\"===n.id?0:1;x[t]!==n.buttons[i].pressed&&(x[t]=n.buttons[i].pressed,!0===x[t]?e.dispatchEvent({type:\"selectstart\"}):(e.dispatchEvent({type:\"selectend\"}),e.dispatchEvent({type:\"select\"})))}else e.visible=!1}}(),g},this.getStandingMatrix=function(){return o},this.isPresenting=v;var _=new je;this.setAnimationLoop=function(t){_.setAnimationLoop(t)},this.submitFrame=function(){v()&&n.submitFrame()},this.dispose=function(){\"undefined\"!=typeof window&&window.removeEventListener(\"vrdisplaypresentchange\",y)}}function Xr(t){console.log(\"THREE.WebGLRenderer\",n);var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),o=void 0!==t.context?t.context:null,s=void 0!==t.alpha&&t.alpha,c=void 0===t.depth||t.depth,p=void 0===t.stencil||t.stencil,d=void 0!==t.antialias&&t.antialias,f=void 0===t.premultipliedAlpha||t.premultipliedAlpha,w=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,M=void 0!==t.powerPreference?t.powerPreference:\"default\",E=null,T=null;this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Z,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var S,A,L,R,P,C,O,I,N,D,U,W,X,q,Y,J,Q,K,$=this,tt=!1,et=null,nt=null,rt=null,it=-1,at={geometry:null,program:null,wireframe:!1},ot=null,st=null,ct=new Pe,ht=new Pe,lt=null,ut=0,pt=e.width,dt=e.height,ft=1,gt=new Pe(0,0,pt,dt),vt=new Pe(0,0,pt,dt),yt=!1,xt=new Be,bt=new function(){var t=this,e=null,n=0,r=!1,i=!1,a=new Ue,o=new Se,s={value:null,needsUpdate:!1};function c(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function h(e,n,r,i){var c=null!==e?e.length:0,h=null;if(0!==c){if(h=s.value,!0!==i||null===h){var l=r+4*c,u=n.matrixWorldInverse;o.getNormalMatrix(u),(null===h||h.length<l)&&(h=new Float32Array(l));for(var p=0,d=r;p!==c;++p,d+=4)a.copy(e[p]).applyMatrix4(u,o),a.normal.toArray(h,d),h[d+3]=a.constant}s.value=h,s.needsUpdate=!0}return t.numPlanes=c,h}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,i,a){var o=0!==t.length||i||0!==n||r;return r=i,e=h(t,a,0),n=t.length,o},this.beginShadows=function(){i=!0,h(null)},this.endShadows=function(){i=!1,c()},this.setState=function(t,a,o,l,u,p){if(!r||null===t||0===t.length||i&&!o)i?h(null):c();else{var d=i?0:n,f=4*d,m=u.clippingState||null;s.value=m,m=h(t,l,f,p);for(var g=0;g!==f;++g)m[g]=e[g];u.clippingState=m,this.numIntersection=a?this.numPlanes:0,this.numPlanes+=d}}},Mt=!1,Et=!1,Tt=new Me,St=new Te;function At(){return null===nt?ft:1}try{var Lt={alpha:s,depth:c,stencil:p,antialias:d,premultipliedAlpha:f,preserveDrawingBuffer:w,powerPreference:M};if(e.addEventListener(\"webglcontextlost\",It,!1),e.addEventListener(\"webglcontextrestored\",Nt,!1),null===(S=o||e.getContext(\"webgl\",Lt)||e.getContext(\"experimental-webgl\",Lt)))throw null!==e.getContext(\"webgl\")?new Error(\"Error creating WebGL context with your selected attributes.\"):new Error(\"Error creating WebGL context.\");void 0===S.getShaderPrecisionFormat&&(S.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){console.error(\"THREE.WebGLRenderer: \"+t.message)}function Pt(){A=new function(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var r;switch(n){case\"WEBGL_depth_texture\":r=t.getExtension(\"WEBGL_depth_texture\")||t.getExtension(\"MOZ_WEBGL_depth_texture\")||t.getExtension(\"WEBKIT_WEBGL_depth_texture\");break;case\"EXT_texture_filter_anisotropic\":r=t.getExtension(\"EXT_texture_filter_anisotropic\")||t.getExtension(\"MOZ_EXT_texture_filter_anisotropic\")||t.getExtension(\"WEBKIT_EXT_texture_filter_anisotropic\");break;case\"WEBGL_compressed_texture_s3tc\":r=t.getExtension(\"WEBGL_compressed_texture_s3tc\")||t.getExtension(\"MOZ_WEBGL_compressed_texture_s3tc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_s3tc\");break;case\"WEBGL_compressed_texture_pvrtc\":r=t.getExtension(\"WEBGL_compressed_texture_pvrtc\")||t.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\");break;default:r=t.getExtension(n)}return null===r&&console.warn(\"THREE.WebGLRenderer: \"+n+\" extension not supported.\"),e[n]=r,r}}}(S),(L=new function(t,e,n){var r;function i(e){if(\"highp\"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return\"highp\";e=\"mediump\"}return\"mediump\"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?\"mediump\":\"lowp\"}var a=\"undefined\"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,o=void 0!==n.precision?n.precision:\"highp\",s=i(o);s!==o&&(console.warn(\"THREE.WebGLRenderer:\",o,\"not supported, using\",s,\"instead.\"),o=s);var c=!0===n.logarithmicDepthBuffer,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),l=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),u=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),d=t.getParameter(t.MAX_VERTEX_ATTRIBS),f=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),g=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),v=l>0,y=a||!!e.get(\"OES_texture_float\");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=e.get(\"EXT_texture_filter_anisotropic\");return r=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:l,maxTextureSize:u,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y}}(S,A,t)).isWebGL2||(A.get(\"WEBGL_depth_texture\"),A.get(\"OES_texture_float\"),A.get(\"OES_texture_half_float\"),A.get(\"OES_texture_half_float_linear\"),A.get(\"OES_standard_derivatives\"),A.get(\"OES_element_index_uint\"),A.get(\"ANGLE_instanced_arrays\")),A.get(\"OES_texture_float_linear\"),K=new Hr(S,A,L),(R=new function(t,e,n,o){var s=new function(){var e=!1,n=new Pe,r=null,i=new Pe(0,0,0,0);return{setMask:function(n){r===n||e||(t.colorMask(n,n,n,n),r=n)},setLocked:function(t){e=t},setClear:function(e,r,a,o,s){!0===s&&(e*=o,r*=o,a*=o),n.set(e,r,a,o),!1===i.equals(n)&&(t.clearColor(e,r,a,o),i.copy(n))},reset:function(){e=!1,r=null,i.set(-1,0,0,0)}}},c=new function(){var e=!1,n=null,r=null,i=null;return{setTest:function(e){e?at(t.DEPTH_TEST):ot(t.DEPTH_TEST)},setMask:function(r){n===r||e||(t.depthMask(r),n=r)},setFunc:function(e){if(r!==e){if(e)switch(e){case B:t.depthFunc(t.NEVER);break;case F:t.depthFunc(t.ALWAYS);break;case z:t.depthFunc(t.LESS);break;case H:t.depthFunc(t.LEQUAL);break;case G:t.depthFunc(t.EQUAL);break;case V:t.depthFunc(t.GEQUAL);break;case k:t.depthFunc(t.GREATER);break;case j:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);r=e}},setLocked:function(t){e=t},setClear:function(e){i!==e&&(t.clearDepth(e),i=e)},reset:function(){e=!1,n=null,r=null,i=null}}},h=new function(){var e=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,h=null;return{setTest:function(e){e?at(t.STENCIL_TEST):ot(t.STENCIL_TEST)},setMask:function(r){n===r||e||(t.stencilMask(r),n=r)},setFunc:function(e,n,o){r===e&&i===n&&a===o||(t.stencilFunc(e,n,o),r=e,i=n,a=o)},setOp:function(e,n,r){o===e&&s===n&&c===r||(t.stencilOp(e,n,r),o=e,s=n,c=r)},setLocked:function(t){e=t},setClear:function(e){h!==e&&(t.clearStencil(e),h=e)},reset:function(){e=!1,n=null,r=null,i=null,a=null,o=null,s=null,c=null,h=null}}},p=t.getParameter(t.MAX_VERTEX_ATTRIBS),d=new Uint8Array(p),f=new Uint8Array(p),w=new Uint8Array(p),M={},E=null,T=null,S=null,A=null,L=null,R=null,P=null,C=null,O=null,I=null,N=!1,D=null,U=null,W=null,X=null,q=null,Y=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),Z=!1,J=0,Q=t.getParameter(t.VERSION);-1!==Q.indexOf(\"WebGL\")?(J=parseFloat(/^WebGL\\ ([0-9])/.exec(Q)[1]),Z=J>=1):-1!==Q.indexOf(\"OpenGL ES\")&&(J=parseFloat(/^OpenGL\\ ES\\ ([0-9])/.exec(Q)[1]),Z=J>=2);var K=null,$={},tt=new Pe,et=new Pe;function nt(e,n,r){var i=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<r;o++)t.texImage2D(n+o,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,i);return a}var rt={};function it(n,r){d[n]=1,0===f[n]&&(t.enableVertexAttribArray(n),f[n]=1),w[n]!==r&&((o.isWebGL2?t:e.get(\"ANGLE_instanced_arrays\"))[o.isWebGL2?\"vertexAttribDivisor\":\"vertexAttribDivisorANGLE\"](n,r),w[n]=r)}function at(e){!0!==M[e]&&(t.enable(e),M[e]=!0)}function ot(e){!1!==M[e]&&(t.disable(e),M[e]=!1)}function st(e,r,i,a,o,s,c,h){if(e!==m){if(S||(at(t.BLEND),S=!0),e===b)o=o||r,s=s||i,c=c||a,r===L&&o===C||(t.blendEquationSeparate(n.convert(r),n.convert(o)),L=r,C=o),i===R&&a===P&&s===O&&c===I||(t.blendFuncSeparate(n.convert(i),n.convert(a),n.convert(s),n.convert(c)),R=i,P=a,O=s,I=c),A=e,N=null;else if(e!==A||h!==N){if(L===_&&C===_||(t.blendEquation(t.FUNC_ADD),L=_,C=_),h)switch(e){case g:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case v:t.blendFunc(t.ONE,t.ONE);break;case y:t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA);break;case x:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",e)}else switch(e){case g:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case v:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case y:t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR);break;case x:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error(\"THREE.WebGLState: Invalid blending: \",e)}R=null,P=null,O=null,I=null,A=e,N=h}}else S&&(ot(t.BLEND),S=!1)}function ct(e){D!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),D=e)}function ht(e){e!==r?(at(t.CULL_FACE),e!==U&&(e===i?t.cullFace(t.BACK):e===a?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ot(t.CULL_FACE),U=e}function lt(e,n,r){e?(at(t.POLYGON_OFFSET_FILL),X===n&&q===r||(t.polygonOffset(n,r),X=n,q=r)):ot(t.POLYGON_OFFSET_FILL)}function ut(e){void 0===e&&(e=t.TEXTURE0+Y-1),K!==e&&(t.activeTexture(e),K=e)}return rt[t.TEXTURE_2D]=nt(t.TEXTURE_2D,t.TEXTURE_2D,1),rt[t.TEXTURE_CUBE_MAP]=nt(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),s.setClear(0,0,0,1),c.setClear(1),h.setClear(0),at(t.DEPTH_TEST),c.setFunc(H),ct(!1),ht(i),at(t.CULL_FACE),st(m),{buffers:{color:s,depth:c,stencil:h},initAttributes:function(){for(var t=0,e=d.length;t<e;t++)d[t]=0},enableAttribute:function(t){it(t,0)},enableAttributeAndDivisor:it,disableUnusedAttributes:function(){for(var e=0,n=f.length;e!==n;++e)f[e]!==d[e]&&(t.disableVertexAttribArray(e),f[e]=0)},enable:at,disable:ot,getCompressedTextureFormats:function(){if(null===E&&(E=[],e.get(\"WEBGL_compressed_texture_pvrtc\")||e.get(\"WEBGL_compressed_texture_s3tc\")||e.get(\"WEBGL_compressed_texture_etc1\")||e.get(\"WEBGL_compressed_texture_astc\")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)E.push(n[r]);return E},useProgram:function(e){return T!==e&&(t.useProgram(e),T=e,!0)},setBlending:st,setMaterial:function(e,n){e.side===u?ot(t.CULL_FACE):at(t.CULL_FACE);var r=e.side===l;n&&(r=!r),ct(r),e.blending===g&&!1===e.transparent?st(m):st(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),c.setFunc(e.depthFunc),c.setTest(e.depthTest),c.setMask(e.depthWrite),s.setMask(e.colorWrite),lt(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:ct,setCullFace:ht,setLineWidth:function(e){e!==W&&(Z&&t.lineWidth(e),W=e)},setPolygonOffset:lt,setScissorTest:function(e){e?at(t.SCISSOR_TEST):ot(t.SCISSOR_TEST)},activeTexture:ut,bindTexture:function(e,n){null===K&&ut();var r=$[K];void 0===r&&(r={type:void 0,texture:void 0},$[K]=r),r.type===e&&r.texture===n||(t.bindTexture(e,n||rt[e]),r.type=e,r.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error(\"THREE.WebGLState:\",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error(\"THREE.WebGLState:\",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error(\"THREE.WebGLState:\",t)}},scissor:function(e){!1===tt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),tt.copy(e))},viewport:function(e){!1===et.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),et.copy(e))},reset:function(){for(var e=0;e<f.length;e++)1===f[e]&&(t.disableVertexAttribArray(e),f[e]=0);M={},E=null,K=null,$={},T=null,A=null,D=null,U=null,s.reset(),c.reset(),h.reset()}}}(S,A,K,L)).scissor(ht.copy(vt).multiplyScalar(ft)),R.viewport(ct.copy(gt).multiplyScalar(ft)),P=new function(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(n,r,i){switch(i=i||1,e.calls++,r){case t.TRIANGLES:e.triangles+=i*(n/3);break;case t.TRIANGLE_STRIP:case t.TRIANGLE_FAN:e.triangles+=i*(n-2);break;case t.LINES:e.lines+=i*(n/2);break;case t.LINE_STRIP:e.lines+=i*(n-1);break;case t.LINE_LOOP:e.lines+=i*n;break;case t.POINTS:e.points+=i*n;break;default:console.error(\"THREE.WebGLInfo: Unknown draw mode:\",r)}}}}(S),C=new function(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,r){t.get(e)[n]=r},dispose:function(){t=new WeakMap}}},O=new zr(S,A,R,C,L,K,P),I=new We(S),N=new function(t,e,n){var r={},i={};function a(t){var o=t.target,s=r[o.id];for(var c in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[c]);o.removeEventListener(\"dispose\",a),delete r[o.id];var h=i[s.id];h&&(e.remove(h),delete i[s.id]),n.memory.geometries--}return{get:function(t,e){var i=r[e.id];return i||(e.addEventListener(\"dispose\",a),e.isBufferGeometry?i=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new dn).setFromObject(t)),i=e._bufferGeometry),r[e.id]=i,n.memory.geometries++,i)},update:function(n){var r=n.index,i=n.attributes;for(var a in null!==r&&e.update(r,t.ELEMENT_ARRAY_BUFFER),i)e.update(i[a],t.ARRAY_BUFFER);var o=n.morphAttributes;for(var a in o)for(var s=o[a],c=0,h=s.length;c<h;c++)e.update(s[c],t.ARRAY_BUFFER)},getWireframeAttribute:function(n){var r=i[n.id];if(r)return r;var a,o=[],s=n.index,c=n.attributes;if(null!==s)for(var h=0,l=(a=s.array).length;h<l;h+=3){var u=a[h+0],p=a[h+1],d=a[h+2];o.push(u,p,p,d,d,u)}else for(h=0,l=(a=c.position.array).length/3-1;h<l;h+=3)u=h+0,p=h+1,d=h+2,o.push(u,p,p,d,d,u);return r=new(un(o)>65535?sn:an)(o,1),e.update(r,t.ELEMENT_ARRAY_BUFFER),i[n.id]=r,r}}}(S,I,P),D=new function(t,e){var n={};return{update:function(r){var i=e.render.frame,a=r.geometry,o=t.get(r,a);return n[o.id]!==i&&(a.isGeometry&&o.updateFromObject(r),t.update(o),n[o.id]=i),o},dispose:function(){n={}}}}(N,P),Y=new function(t){var e={},n=new Float32Array(8);return{update:function(r,i,a,o){var s=r.morphTargetInfluences,c=s.length,h=e[i.id];if(void 0===h){h=[];for(var l=0;l<c;l++)h[l]=[l,0];e[i.id]=h}var u=a.morphTargets&&i.morphAttributes.position,p=a.morphNormals&&i.morphAttributes.normal;for(l=0;l<c;l++)0!==(d=h[l])[1]&&(u&&i.removeAttribute(\"morphTarget\"+l),p&&i.removeAttribute(\"morphNormal\"+l));for(l=0;l<c;l++)(d=h[l])[0]=l,d[1]=s[l];for(h.sort(Tn),l=0;l<8;l++){var d;if(d=h[l]){var f=d[0],m=d[1];if(m){u&&i.addAttribute(\"morphTarget\"+l,u[f]),p&&i.addAttribute(\"morphNormal\"+l,p[f]),n[l]=m;continue}}n[l]=0}o.getUniforms().setValue(t,\"morphTargetInfluences\",n)}}}(S),U=new Lr($,A,L),W=new Cr,X=new function(){var t={};return{get:function(e,n){var r;return void 0===t[e.id]?(r=new Dr,t[e.id]={},t[e.id][n.id]=r):void 0===t[e.id][n.id]?(r=new Dr,t[e.id][n.id]=r):r=t[e.id][n.id],r},dispose:function(){t={}}}},q=new function(t,e,n,r){var i,a,o=new Ge(0),s=0;function c(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,r)}return{getClearColor:function(){return o},setClearColor:function(t,e){o.set(t),c(o,s=void 0!==e?e:1)},getClearAlpha:function(){return s},setClearAlpha:function(t){c(o,s=t)},render:function(e,r,u,p){var d=r.background;null===d?c(o,s):d&&d.isColor&&(c(d,1),p=!0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),d&&d.isCubeTexture?(void 0===a&&((a=new En(new mn(1,1,1),new bn({uniforms:ze.clone(ke.cube.uniforms),vertexShader:ke.cube.vertexShader,fragmentShader:ke.cube.fragmentShader,side:l,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute(\"normal\"),a.geometry.removeAttribute(\"uv\"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},n.update(a)),a.material.uniforms.tCube.value=d,e.push(a,a.geometry,a.material,0,null)):d&&d.isTexture&&(void 0===i&&((i=new En(new vn(2,2),new bn({uniforms:ze.clone(ke.background.uniforms),vertexShader:ke.background.vertexShader,fragmentShader:ke.background.fragmentShader,side:h,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute(\"normal\"),n.update(i)),i.material.uniforms.t2D.value=d,e.push(i,i.geometry,i.material,0,null))}}}($,R,D,f),J=new function(t,e,n,r){var i;this.setMode=function(t){i=t},this.render=function(e,r){t.drawArrays(i,e,r),n.update(r,i)},this.renderInstances=function(a,o,s){var c;if(r.isWebGL2)c=t;else if(null===(c=e.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");c[r.isWebGL2?\"drawArraysInstanced\":\"drawArraysInstancedANGLE\"](i,o,s,a.maxInstancedCount),n.update(s,i,a.maxInstancedCount)}}(S,A,P,L),Q=new function(t,e,n,r){var i,a,o;this.setMode=function(t){i=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,r){t.drawElements(i,r,a,e*o),n.update(r,i)},this.renderInstances=function(s,c,h){var l;if(r.isWebGL2)l=t;else if(null===(l=e.get(\"ANGLE_instanced_arrays\")))return void console.error(\"THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");l[r.isWebGL2?\"drawElementsInstanced\":\"drawElementsInstancedANGLE\"](i,h,a,c*o,s.maxInstancedCount),n.update(h,i,s.maxInstancedCount)}}(S,A,P,L),P.programs=U.programs,$.context=S,$.capabilities=L,$.extensions=A,$.properties=C,$.renderLists=W,$.state=R,$.info=P}Pt();var Ct=null;\"undefined\"!=typeof navigator&&(Ct=\"xr\"in navigator?new function(t){var e=t.context,n=null,r=null,i=null,a=\"stage\",o=null,s=[],c=[];function h(){return null!==r&&null!==i}var l=new kr;l.layers.enable(1),l.viewport=new Pe;var u=new kr;u.layers.enable(2),u.viewport=new Pe;var p=new jr([l,u]);function d(t){var e=s[c.indexOf(t.inputSource)];e&&e.dispatchEvent({type:t.type})}function f(){t.setFramebuffer(null),v.stop()}function m(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Gr).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return n},this.setDevice=function(t){void 0!==t&&(n=t),t instanceof XRDevice&&e.setCompatibleXRDevice(t)},this.setFrameOfReferenceType=function(t){a=t},this.setSession=function(n){null!==(r=n)&&(r.addEventListener(\"select\",d),r.addEventListener(\"selectstart\",d),r.addEventListener(\"selectend\",d),r.addEventListener(\"end\",f),r.baseLayer=new XRWebGLLayer(r,e),r.requestFrameOfReference(a).then(function(e){i=e,t.setFramebuffer(r.baseLayer.framebuffer),v.setContext(r),v.start()}),c=r.getInputSources(),r.addEventListener(\"inputsourceschange\",function(){c=r.getInputSources(),console.log(c)}))},this.getCamera=function(t){if(h()){var e=t.parent,n=p.cameras;m(p,e);for(var r=0;r<n.length;r++)m(n[r],e);t.matrixWorld.copy(p.matrixWorld);for(var i=t.children,a=(r=0,i.length);r<a;r++)i[r].updateMatrixWorld(!0);return p}return t},this.isPresenting=h;var g=null,v=new je;v.setAnimationLoop(function(t,e){if(null!==(o=e.getDevicePose(i)))for(var n=r.baseLayer,a=e.views,h=0;h<a.length;h++){var l=a[h],u=n.getViewport(l),d=o.getViewMatrix(l),f=p.cameras[h];f.matrix.fromArray(d).getInverse(f.matrix),f.projectionMatrix.fromArray(l.projectionMatrix),f.viewport.set(u.x,u.y,u.width,u.height),0===h&&(p.matrix.copy(f.matrix),p.projectionMatrix.copy(f.projectionMatrix))}for(h=0;h<s.length;h++){var m=s[h],v=c[h];if(v){var y=e.getInputPose(v,i);if(null!==y){\"targetRay\"in y?m.matrix.elements=y.targetRay.transformMatrix:\"pointerMatrix\"in y&&(m.matrix.elements=y.pointerMatrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.visible=!0;continue}}m.visible=!1}g&&g(t)}),this.setAnimationLoop=function(t){g=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn(\"THREE.WebXRManager: getStandingMatrix() is no longer needed.\"),new THREE.Matrix4},this.submitFrame=function(){}}($):new Wr($)),this.vr=Ct;var Ot=new Fr($,D,L.maxTextureSize);function It(t){t.preventDefault(),console.log(\"THREE.WebGLRenderer: Context Lost.\"),tt=!0}function Nt(){console.log(\"THREE.WebGLRenderer: Context Restored.\"),tt=!1,Pt()}function Dt(t){var e=t.target;e.removeEventListener(\"dispose\",Dt),function(t){Ut(t),C.remove(t)}(e)}function Ut(t){var e=C.get(t).program;t.program=void 0,void 0!==e&&U.releaseProgram(e)}this.shadowMap=Ot,this.getContext=function(){return S},this.getContextAttributes=function(){return S.getContextAttributes()},this.forceContextLoss=function(){var t=A.get(\"WEBGL_lose_context\");t&&t.loseContext()},this.forceContextRestore=function(){var t=A.get(\"WEBGL_lose_context\");t&&t.restoreContext()},this.getPixelRatio=function(){return ft},this.setPixelRatio=function(t){void 0!==t&&(ft=t,this.setSize(pt,dt,!1))},this.getSize=function(){return{width:pt,height:dt}},this.setSize=function(t,n,r){Ct.isPresenting()?console.warn(\"THREE.WebGLRenderer: Can't change size while VR device is presenting.\"):(pt=t,dt=n,e.width=t*ft,e.height=n*ft,!1!==r&&(e.style.width=t+\"px\",e.style.height=n+\"px\"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(){return{width:pt*ft,height:dt*ft}},this.setDrawingBufferSize=function(t,n,r){pt=t,dt=n,ft=r,e.width=t*r,e.height=n*r,this.setViewport(0,0,t,n)},this.getCurrentViewport=function(){return ct},this.setViewport=function(t,e,n,r){gt.set(t,dt-e-r,n,r),R.viewport(ct.copy(gt).multiplyScalar(ft))},this.setScissor=function(t,e,n,r){vt.set(t,dt-e-r,n,r),R.scissor(ht.copy(vt).multiplyScalar(ft))},this.setScissorTest=function(t){R.setScissorTest(yt=t)},this.getClearColor=function(){return q.getClearColor()},this.setClearColor=function(){q.setClearColor.apply(q,arguments)},this.getClearAlpha=function(){return q.getClearAlpha()},this.setClearAlpha=function(){q.setClearAlpha.apply(q,arguments)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=S.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=S.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=S.STENCIL_BUFFER_BIT),S.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener(\"webglcontextlost\",It,!1),e.removeEventListener(\"webglcontextrestored\",Nt,!1),W.dispose(),X.dispose(),C.dispose(),D.dispose(),Ct.dispose(),Ft.stop()},this.renderBufferImmediate=function(t,e){R.initAttributes();var n=C.get(t);t.hasPositions&&!n.position&&(n.position=S.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=S.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=S.createBuffer()),t.hasColors&&!n.color&&(n.color=S.createBuffer());var r=e.getAttributes();t.hasPositions&&(S.bindBuffer(S.ARRAY_BUFFER,n.position),S.bufferData(S.ARRAY_BUFFER,t.positionArray,S.DYNAMIC_DRAW),R.enableAttribute(r.position),S.vertexAttribPointer(r.position,3,S.FLOAT,!1,0,0)),t.hasNormals&&(S.bindBuffer(S.ARRAY_BUFFER,n.normal),S.bufferData(S.ARRAY_BUFFER,t.normalArray,S.DYNAMIC_DRAW),R.enableAttribute(r.normal),S.vertexAttribPointer(r.normal,3,S.FLOAT,!1,0,0)),t.hasUvs&&(S.bindBuffer(S.ARRAY_BUFFER,n.uv),S.bufferData(S.ARRAY_BUFFER,t.uvArray,S.DYNAMIC_DRAW),R.enableAttribute(r.uv),S.vertexAttribPointer(r.uv,2,S.FLOAT,!1,0,0)),t.hasColors&&(S.bindBuffer(S.ARRAY_BUFFER,n.color),S.bufferData(S.ARRAY_BUFFER,t.colorArray,S.DYNAMIC_DRAW),R.enableAttribute(r.color),S.vertexAttribPointer(r.color,3,S.FLOAT,!1,0,0)),R.disableUnusedAttributes(),S.drawArrays(S.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,a){var o=i.isMesh&&i.normalMatrix.determinant()<0;R.setMaterial(r,o);var s=Vt(t,e,r,i),c=!1;at.geometry===n.id&&at.program===s.id&&at.wireframe===(!0===r.wireframe)||(at.geometry=n.id,at.program=s.id,at.wireframe=!0===r.wireframe,c=!0),i.morphTargetInfluences&&(Y.update(i,n,r,s),c=!0);var h,l=n.index,u=n.attributes.position,p=1;!0===r.wireframe&&(l=N.getWireframeAttribute(n),p=2);var d=J;null!==l&&(h=I.get(l),(d=Q).setIndex(h)),c&&(!function(t,e,n){if(n&&n.isInstancedBufferGeometry&!L.isWebGL2&&null===A.get(\"ANGLE_instanced_arrays\"))return void console.error(\"THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.\");R.initAttributes();var r=n.attributes,i=e.getAttributes(),a=t.defaultAttributeValues;for(var o in i){var s=i[o];if(s>=0){var c=r[o];if(void 0!==c){var h=c.normalized,l=c.itemSize,u=I.get(c);if(void 0===u)continue;var p=u.buffer,d=u.type,f=u.bytesPerElement;if(c.isInterleavedBufferAttribute){var m=c.data,g=m.stride,v=c.offset;m&&m.isInstancedInterleavedBuffer?(R.enableAttributeAndDivisor(s,m.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=m.meshPerAttribute*m.count)):R.enableAttribute(s),S.bindBuffer(S.ARRAY_BUFFER,p),S.vertexAttribPointer(s,l,d,h,g*f,v*f)}else c.isInstancedBufferAttribute?(R.enableAttributeAndDivisor(s,c.meshPerAttribute),void 0===n.maxInstancedCount&&(n.maxInstancedCount=c.meshPerAttribute*c.count)):R.enableAttribute(s),S.bindBuffer(S.ARRAY_BUFFER,p),S.vertexAttribPointer(s,l,d,h,0,0)}else if(void 0!==a){var y=a[o];if(void 0!==y)switch(y.length){case 2:S.vertexAttrib2fv(s,y);break;case 3:S.vertexAttrib3fv(s,y);break;case 4:S.vertexAttrib4fv(s,y);break;default:S.vertexAttrib1fv(s,y)}}}}R.disableUnusedAttributes()}(r,s,n),null!==l&&S.bindBuffer(S.ELEMENT_ARRAY_BUFFER,h.buffer));var f=1/0;null!==l?f=l.count:void 0!==u&&(f=u.count);var m=n.drawRange.start*p,g=n.drawRange.count*p,v=null!==a?a.start*p:0,y=null!==a?a.count*p:1/0,x=Math.max(m,v),b=Math.min(f,m+g,v+y)-1,_=Math.max(0,b-x+1);if(0!==_){if(i.isMesh)if(!0===r.wireframe)R.setLineWidth(r.wireframeLinewidth*At()),d.setMode(S.LINES);else switch(i.drawMode){case se:d.setMode(S.TRIANGLES);break;case ce:d.setMode(S.TRIANGLE_STRIP);break;case he:d.setMode(S.TRIANGLE_FAN)}else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),R.setLineWidth(w*At()),i.isLineSegments?d.setMode(S.LINES):i.isLineLoop?d.setMode(S.LINE_LOOP):d.setMode(S.LINE_STRIP)}else i.isPoints?d.setMode(S.POINTS):i.isSprite&&d.setMode(S.TRIANGLES);n&&n.isInstancedBufferGeometry?n.maxInstancedCount>0&&d.renderInstances(n,x,_):d.render(x,_)}},this.compile=function(t,e){(T=X.get(t,e)).init(),t.traverse(function(t){t.isLight&&(T.pushLight(t),t.castShadow&&T.pushShadow(t))}),T.setupLights(e),t.traverse(function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)Gt(e.material[n],t.fog,e);else Gt(e.material,t.fog,e)})};var Bt=null;var Ft=new je;function zt(t,e,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,c=o.geometry,h=void 0===r?o.material:r,l=o.group;if(n.isArrayCamera){st=n;for(var u=n.cameras,p=0,d=u.length;p<d;p++){var f=u[p];if(s.layers.test(f.layers)){if(\"viewport\"in f)R.viewport(ct.copy(f.viewport));else{var m=f.bounds,g=m.x*pt,v=m.y*dt,y=m.z*pt,x=m.w*dt;R.viewport(ct.set(g,v,y,x).multiplyScalar(ft))}T.setupLights(f),Ht(s,e,f,c,h,l)}}}else st=null,Ht(s,e,n,c,h,l)}}function Ht(t,e,n,r,i,a){if(t.onBeforeRender($,e,n,r,i,a),T=X.get(e,st||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){R.setMaterial(i);var o=Vt(n,e.fog,i,t);at.geometry=null,at.program=null,at.wireframe=!1,function(t,e){t.render(function(t){$.renderBufferImmediate(t,e)})}(t,o)}else $.renderBufferDirect(n,e.fog,r,i,t,a);t.onAfterRender($,e,n,r,i,a),T=X.get(e,st||n)}function Gt(t,e,n){var r=C.get(t),i=T.state.lights,a=T.state.shadowsArray,o=r.lightsHash,s=i.state.hash,c=U.getParameters(t,i.state,a,e,bt.numPlanes,bt.numIntersection,n),h=U.getProgramCode(t,c),l=r.program,u=!0;if(void 0===l)t.addEventListener(\"dispose\",Dt);else if(l.code!==h)Ut(t);else if(o.stateID!==s.stateID||o.directionalLength!==s.directionalLength||o.pointLength!==s.pointLength||o.spotLength!==s.spotLength||o.rectAreaLength!==s.rectAreaLength||o.hemiLength!==s.hemiLength||o.shadowsLength!==s.shadowsLength)o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,u=!1;else{if(void 0!==c.shaderID)return;u=!1}if(u){if(c.shaderID){var p=ke[c.shaderID];r.shader={name:t.type,uniforms:ze.clone(p.uniforms),vertexShader:p.vertexShader,fragmentShader:p.fragmentShader}}else r.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(r.shader,$),h=U.getProgramCode(t,c),l=U.acquireProgram(t,r.shader,c,h),r.program=l,t.program=l}var d=l.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<$.maxMorphTargets;f++)d[\"morphTarget\"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(f=0;f<$.maxMorphNormals;f++)d[\"morphNormal\"+f]>=0&&t.numSupportedMorphNormals++}var m=r.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=bt.numPlanes,r.numIntersection=bt.numIntersection,m.clippingPlanes=bt.uniform),r.fog=e,void 0===o&&(r.lightsHash=o={}),o.stateID=s.stateID,o.directionalLength=s.directionalLength,o.pointLength=s.pointLength,o.spotLength=s.spotLength,o.rectAreaLength=s.rectAreaLength,o.hemiLength=s.hemiLength,o.shadowsLength=s.shadowsLength,t.lights&&(m.ambientLightColor.value=i.state.ambient,m.directionalLights.value=i.state.directional,m.spotLights.value=i.state.spot,m.rectAreaLights.value=i.state.rectArea,m.pointLights.value=i.state.point,m.hemisphereLights.value=i.state.hemi,m.directionalShadowMap.value=i.state.directionalShadowMap,m.directionalShadowMatrix.value=i.state.directionalShadowMatrix,m.spotShadowMap.value=i.state.spotShadowMap,m.spotShadowMatrix.value=i.state.spotShadowMatrix,m.pointShadowMap.value=i.state.pointShadowMap,m.pointShadowMatrix.value=i.state.pointShadowMatrix);var g=r.program.getUniforms(),v=vr.seqWithValue(g.seq,m);r.uniformsList=v}function Vt(t,e,n,r){ut=0;var i=C.get(n),a=T.state.lights,o=i.lightsHash,s=a.state.hash;if(Mt&&(Et||t!==ot)){var c=t===ot&&n.id===it;bt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,i,c)}!1===n.needsUpdate&&(void 0===i.program?n.needsUpdate=!0:n.fog&&i.fog!==e?n.needsUpdate=!0:(!n.lights||o.stateID===s.stateID&&o.directionalLength===s.directionalLength&&o.pointLength===s.pointLength&&o.spotLength===s.spotLength&&o.rectAreaLength===s.rectAreaLength&&o.hemiLength===s.hemiLength&&o.shadowsLength===s.shadowsLength)&&(void 0===i.numClippingPlanes||i.numClippingPlanes===bt.numPlanes&&i.numIntersection===bt.numIntersection)||(n.needsUpdate=!0)),n.needsUpdate&&(Gt(n,e,r),n.needsUpdate=!1);var h=!1,u=!1,p=!1,d=i.program,f=d.getUniforms(),m=i.shader.uniforms;if(R.useProgram(d.program)&&(h=!0,u=!0,p=!0),n.id!==it&&(it=n.id,u=!0),h||ot!==t){if(f.setValue(S,\"projectionMatrix\",t.projectionMatrix),L.logarithmicDepthBuffer&&f.setValue(S,\"logDepthBufFC\",2/(Math.log(t.far+1)/Math.LN2)),ot!==t&&(ot=t,u=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var g=f.map.cameraPosition;void 0!==g&&g.setValue(S,St.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&f.setValue(S,\"viewMatrix\",t.matrixWorldInverse)}if(n.skinning){f.setOptional(S,r,\"bindMatrix\"),f.setOptional(S,r,\"bindMatrixInverse\");var v=r.skeleton;if(v){var y=v.bones;if(L.floatVertexTextures){if(void 0===v.boneTexture){var x=Math.sqrt(4*y.length);x=_e.ceilPowerOfTwo(x),x=Math.max(x,4);var b=new Float32Array(x*x*4);b.set(v.boneMatrices);var _=new Ie(b,x,x,Rt,_t);_.needsUpdate=!0,v.boneMatrices=b,v.boneTexture=_,v.boneTextureSize=x}f.setValue(S,\"boneTexture\",v.boneTexture),f.setValue(S,\"boneTextureSize\",v.boneTextureSize)}else f.setOptional(S,v,\"boneMatrices\")}}return u&&(f.setValue(S,\"toneMappingExposure\",$.toneMappingExposure),f.setValue(S,\"toneMappingWhitePoint\",$.toneMappingWhitePoint),n.lights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(m,p),e&&n.fog&&function(t,e){t.fogColor.value=e.color,e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(m,e),n.isMeshBasicMaterial?kt(m,n):n.isMeshLambertMaterial?(kt(m,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(m,n)):n.isMeshPhongMaterial?(kt(m,n),n.isMeshToonMaterial?function(t,e){jt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(m,n):jt(m,n)):n.isMeshStandardMaterial?(kt(m,n),n.isMeshPhysicalMaterial?function(t,e){Wt(t,e),t.reflectivity.value=e.reflectivity,t.clearCoat.value=e.clearCoat,t.clearCoatRoughness.value=e.clearCoatRoughness}(m,n):Wt(m,n)):n.isMeshMatcapMaterial?(kt(m,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===l&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===l&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(m,n)):n.isMeshDepthMaterial?(kt(m,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(m,n)):n.isMeshDistanceMaterial?(kt(m,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias);t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(m,n)):n.isMeshNormalMaterial?(kt(m,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===l&&(t.bumpScale.value*=-1));e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===l&&t.normalScale.value.negate());e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(m,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}(m,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(m,n)):n.isPointsMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.size.value=e.size*ft,t.scale.value=.5*dt,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(m,n):n.isSpriteMaterial?function(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(m,n):n.isShadowMaterial&&(m.color.value=n.color,m.opacity.value=n.opacity),void 0!==m.ltc_1&&(m.ltc_1.value=Ve.LTC_1),void 0!==m.ltc_2&&(m.ltc_2.value=Ve.LTC_2),vr.upload(S,i.uniformsList,m,$)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(vr.upload(S,i.uniformsList,m,$),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&f.setValue(S,\"center\",r.center),f.setValue(S,\"modelViewMatrix\",r.modelViewMatrix),f.setValue(S,\"normalMatrix\",r.normalMatrix),f.setValue(S,\"modelMatrix\",r.matrixWorld),d}function kt(t,e){var n;t.opacity.value=e.opacity,e.color&&(t.diffuse.value=e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap&&e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=C.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function jt(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===l&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===l&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Wt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===l&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===l&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}Ft.setAnimationLoop(function(t){Ct.isPresenting()||Bt&&Bt(t)}),\"undefined\"!=typeof window&&Ft.setContext(window),this.setAnimationLoop=function(t){Bt=t,Ct.setAnimationLoop(t),Ft.start()},this.render=function(t,e,n,r){if(e&&e.isCamera){if(!tt){at.geometry=null,at.program=null,at.wireframe=!1,it=-1,ot=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),Ct.enabled&&(e=Ct.getCamera(e)),(T=X.get(t,e)).init(),t.onBeforeRender($,t,e,n),Tt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),xt.setFromMatrix(Tt),Et=this.localClippingEnabled,Mt=bt.init(this.clippingPlanes,Et,e),(E=W.get(t,e)).init(),function t(e,n,r){if(!1===e.visible)return;var i=e.layers.test(n.layers);if(i)if(e.isLight)T.pushLight(e),e.castShadow&&T.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||xt.intersectsSprite(e)){r&&St.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Tt);var a=D.update(e),o=e.material;E.push(e,a,o,St.z,null)}}else if(e.isImmediateRenderObject)r&&St.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Tt),E.push(e,null,e.material,St.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.update(),!e.frustumCulled||xt.intersectsObject(e))){r&&St.setFromMatrixPosition(e.matrixWorld).applyMatrix4(Tt);var a=D.update(e),o=e.material;if(Array.isArray(o))for(var s=a.groups,c=0,h=s.length;c<h;c++){var l=s[c],u=o[l.materialIndex];u&&u.visible&&E.push(e,a,u,St.z,l)}else o.visible&&E.push(e,a,o,St.z,null)}var p=e.children;for(var c=0,h=p.length;c<h;c++)t(p[c],n,r)}(t,e,$.sortObjects),!0===$.sortObjects&&E.sort(),Mt&&bt.beginShadows();var i=T.state.shadowsArray;Ot.render(i,t,e),T.setupLights(e),Mt&&bt.endShadows(),this.info.autoReset&&this.info.reset(),void 0===n&&(n=null),this.setRenderTarget(n),q.render(E,t,e,r);var a=E.opaque,o=E.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;a.length&&zt(a,t,e,s),o.length&&zt(o,t,e,s)}else a.length&&zt(a,t,e),o.length&&zt(o,t,e);n&&O.updateRenderTargetMipmap(n),R.buffers.depth.setTest(!0),R.buffers.depth.setMask(!0),R.buffers.color.setMask(!0),R.setPolygonOffset(!1),t.onAfterRender($,t,e),Ct.enabled&&Ct.submitFrame(),E=null,T=null}}else console.error(\"THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.\")},this.allocTextureUnit=function(){var t=ut;return t>=L.maxTextures&&console.warn(\"THREE.WebGLRenderer: Trying to use \"+t+\" texture units while this GPU supports only \"+L.maxTextures),ut+=1,t},this.setTexture2D=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTarget&&(t||(console.warn(\"THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.\"),t=!0),e=e.texture),O.setTexture2D(e,n)}}(),this.setTexture3D=function(t,e){O.setTexture3D(t,e)},this.setTexture=function(){var t=!1;return function(e,n){t||(console.warn(\"THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.\"),t=!0),O.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e&&e.isWebGLRenderTargetCube&&(t||(console.warn(\"THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.\"),t=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?O.setTextureCube(e,n):O.setTextureCubeDynamic(e,n)}}(),this.setFramebuffer=function(t){et=t},this.getRenderTarget=function(){return nt},this.setRenderTarget=function(t){nt=t,t&&void 0===C.get(t).__webglFramebuffer&&O.setupRenderTarget(t);var e=et,n=!1;if(t){var r=C.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(e=r[t.activeCubeFace],n=!0):e=r,ct.copy(t.viewport),ht.copy(t.scissor),lt=t.scissorTest}else ct.copy(gt).multiplyScalar(ft),ht.copy(vt).multiplyScalar(ft),lt=yt;if(rt!==e&&(S.bindFramebuffer(S.FRAMEBUFFER,e),rt=e),R.viewport(ct),R.scissor(ht),R.setScissorTest(lt),n){var i=C.get(t.texture);S.framebufferTexture2D(S.FRAMEBUFFER,S.COLOR_ATTACHMENT0,S.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,a){if(t&&t.isWebGLRenderTarget){var o=C.get(t).__webglFramebuffer;if(o){var s=!1;o!==rt&&(S.bindFramebuffer(S.FRAMEBUFFER,o),s=!0);try{var c=t.texture,h=c.format,l=c.type;if(h!==Rt&&K.convert(h)!==S.getParameter(S.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.\");if(!(l===mt||K.convert(l)===S.getParameter(S.IMPLEMENTATION_COLOR_READ_TYPE)||l===_t&&(L.isWebGL2||A.get(\"OES_texture_float\")||A.get(\"WEBGL_color_buffer_float\"))||l===wt&&(L.isWebGL2?A.get(\"EXT_color_buffer_float\"):A.get(\"EXT_color_buffer_half_float\"))))return void console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.\");S.checkFramebufferStatus(S.FRAMEBUFFER)===S.FRAMEBUFFER_COMPLETE?e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&S.readPixels(e,n,r,i,K.convert(h),K.convert(l),a):console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.\")}finally{s&&S.bindFramebuffer(S.FRAMEBUFFER,rt)}}}else console.error(\"THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.\")},this.copyFramebufferToTexture=function(t,e,n){var r=e.image.width,i=e.image.height,a=K.convert(e.format);this.setTexture2D(e,0),S.copyTexImage2D(S.TEXTURE_2D,n||0,a,t.x,t.y,r,i,0)},this.copyTextureToTexture=function(t,e,n,r){var i=e.image.width,a=e.image.height,o=K.convert(n.format),s=K.convert(n.type);this.setTexture2D(n,0),e.isDataTexture?S.texSubImage2D(S.TEXTURE_2D,r||0,t.x,t.y,i,a,o,s,e.image.data):S.texSubImage2D(S.TEXTURE_2D,r||0,t.x,t.y,o,s,e.image)}}function qr(t,e){this.name=\"\",this.color=new Ge(t),this.density=void 0!==e?e:25e-5}function Yr(t,e,n){this.name=\"\",this.color=new Ge(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Zr(){Je.call(this),this.type=\"Scene\",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Jr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Qr(t,e,n,r){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===r}function Kr(t){xn.call(this),this.type=\"SpriteMaterial\",this.color=new Ge(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.lights=!1,this.transparent=!0,this.setValues(t)}function $r(t){if(Je.call(this),this.type=\"Sprite\",void 0===Or){Or=new dn;var e=new Jr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Or.setIndex([0,1,2,0,2,3]),Or.addAttribute(\"position\",new Qr(e,3,0,!1)),Or.addAttribute(\"uv\",new Qr(e,2,3,!1))}this.geometry=Or,this.material=void 0!==t?t:new Kr,this.center=new we(.5,.5)}function ti(){Je.call(this),this.type=\"LOD\",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function ei(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn(\"THREE.Skeleton boneInverses is the wrong length.\"),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new Me)}}function ni(){Je.call(this),this.type=\"Bone\"}function ri(t,e){En.call(this,t,e),this.type=\"SkinnedMesh\",this.bindMode=\"attached\",this.bindMatrix=new Me,this.bindMatrixInverse=new Me;var n=new ei(this.initBones());this.bind(n,this.matrixWorld),this.normalizeSkinWeights()}function ii(t){xn.call(this),this.type=\"LineBasicMaterial\",this.color=new Ge(16777215),this.linewidth=1,this.linecap=\"round\",this.linejoin=\"round\",this.lights=!1,this.setValues(t)}function ai(t,e,n){1===n&&console.error(\"THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.\"),Je.call(this),this.type=\"Line\",this.geometry=void 0!==t?t:new dn,this.material=void 0!==e?e:new ii({color:16777215*Math.random()})}function oi(t,e){ai.call(this,t,e),this.type=\"LineSegments\"}function si(t,e){ai.call(this,t,e),this.type=\"LineLoop\"}function ci(t){xn.call(this),this.type=\"PointsMaterial\",this.color=new Ge(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.lights=!1,this.setValues(t)}function hi(t,e){Je.call(this),this.type=\"Points\",this.geometry=void 0!==t?t:new dn,this.material=void 0!==e?e:new ci({color:16777215*Math.random()})}function li(t,e,n,r,i,a,o,s,c){Re.call(this,t,e,n,r,i,a,o,s,c),this.generateMipmaps=!1}function ui(t,e,n,r,i,a,o,s,c,h,l,u){Re.call(this,null,a,o,s,c,h,r,i,l,u),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function pi(t,e,n,r,i,a,o,s,c){Re.call(this,t,e,n,r,i,a,o,s,c),this.needsUpdate=!0}function di(t,e,n,r,i,a,o,s,c,h){if((h=void 0!==h?h:It)!==It&&h!==Nt)throw new Error(\"DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat\");void 0===n&&h===It&&(n=yt),void 0===n&&h===Nt&&(n=St),Re.call(this,null,r,i,a,o,s,h,n,c),this.image={width:t,height:e},this.magFilter=void 0!==o?o:ht,this.minFilter=void 0!==s?s:ht,this.flipY=!1,this.generateMipmaps=!1}function fi(t){dn.call(this),this.type=\"WireframeGeometry\";var e,n,r,i,a,o,s,c,h,l,u=[],p=[0,0],d={},f=[\"a\",\"b\",\"c\"];if(t&&t.isGeometry){var m=t.faces;for(e=0,r=m.length;e<r;e++){var g=m[e];for(n=0;n<3;n++)s=g[f[n]],c=g[f[(n+1)%3]],p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+\",\"+p[1]]&&(d[h]={index1:p[0],index2:p[1]})}for(h in d)o=d[h],l=t.vertices[o.index1],u.push(l.x,l.y,l.z),l=t.vertices[o.index2],u.push(l.x,l.y,l.z)}else if(t&&t.isBufferGeometry){var v,y,x,b,_,w,M;if(l=new Te,null!==t.index){for(v=t.attributes.position,y=t.index,0===(x=t.groups).length&&(x=[{start:0,count:y.count,materialIndex:0}]),i=0,a=x.length;i<a;++i)for(e=_=(b=x[i]).start,r=_+b.count;e<r;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),c=y.getX(e+(n+1)%3),p[0]=Math.min(s,c),p[1]=Math.max(s,c),void 0===d[h=p[0]+\",\"+p[1]]&&(d[h]={index1:p[0],index2:p[1]});for(h in d)o=d[h],l.fromBufferAttribute(v,o.index1),u.push(l.x,l.y,l.z),l.fromBufferAttribute(v,o.index2),u.push(l.x,l.y,l.z)}else for(e=0,r=(v=t.attributes.position).count/3;e<r;e++)for(n=0;n<3;n++)w=3*e+n,l.fromBufferAttribute(v,w),u.push(l.x,l.y,l.z),M=3*e+(n+1)%3,l.fromBufferAttribute(v,M),u.push(l.x,l.y,l.z)}this.addAttribute(\"position\",new cn(u,3))}function mi(t,e,n){Ke.call(this),this.type=\"ParametricGeometry\",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new gi(t,e,n)),this.mergeVertices()}function gi(t,e,n){dn.call(this),this.type=\"ParametricBufferGeometry\",this.parameters={func:t,slices:e,stacks:n};var r,i,a=[],o=[],s=[],c=[],h=new Te,l=new Te,u=new Te,p=new Te,d=new Te;t.length<3&&console.error(\"THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.\");var f=e+1;for(r=0;r<=n;r++){var m=r/n;for(i=0;i<=e;i++){var g=i/e;t(g,m,l),o.push(l.x,l.y,l.z),g-1e-5>=0?(t(g-1e-5,m,u),p.subVectors(l,u)):(t(g+1e-5,m,u),p.subVectors(u,l)),m-1e-5>=0?(t(g,m-1e-5,u),d.subVectors(l,u)):(t(g,m+1e-5,u),d.subVectors(u,l)),h.crossVectors(p,d).normalize(),s.push(h.x,h.y,h.z),c.push(g,m)}}for(r=0;r<n;r++)for(i=0;i<e;i++){var v=r*f+i,y=r*f+i+1,x=(r+1)*f+i+1,b=(r+1)*f+i;a.push(v,y,b),a.push(y,x,b)}this.setIndex(a),this.addAttribute(\"position\",new cn(o,3)),this.addAttribute(\"normal\",new cn(s,3)),this.addAttribute(\"uv\",new cn(c,2))}function vi(t,e,n,r){Ke.call(this),this.type=\"PolyhedronGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:r},this.fromBufferGeometry(new yi(t,e,n,r)),this.mergeVertices()}function yi(t,e,n,r){dn.call(this),this.type=\"PolyhedronBufferGeometry\",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1;var i=[],a=[];function o(t,e,n,r){var i,a,o=Math.pow(2,r),c=[];for(i=0;i<=o;i++){c[i]=[];var h=t.clone().lerp(n,i/o),l=e.clone().lerp(n,i/o),u=o-i;for(a=0;a<=u;a++)c[i][a]=0===a&&i===o?h:h.clone().lerp(l,a/u)}for(i=0;i<o;i++)for(a=0;a<2*(o-i)-1;a++){var p=Math.floor(a/2);a%2==0?(s(c[i][p+1]),s(c[i+1][p]),s(c[i][p])):(s(c[i][p+1]),s(c[i+1][p+1]),s(c[i+1][p]))}}function s(t){i.push(t.x,t.y,t.z)}function c(e,n){var r=3*e;n.x=t[r+0],n.y=t[r+1],n.z=t[r+2]}function h(t,e,n,r){r<0&&1===t.x&&(a[e]=t.x-1),0===n.x&&0===n.z&&(a[e]=r/2/Math.PI+.5)}function l(t){return Math.atan2(t.z,-t.x)}function u(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}!function(t){for(var n=new Te,r=new Te,i=new Te,a=0;a<e.length;a+=3)c(e[a+0],n),c(e[a+1],r),c(e[a+2],i),o(n,r,i,t)}(r=r||0),function(t){for(var e=new Te,n=0;n<i.length;n+=3)e.x=i[n+0],e.y=i[n+1],e.z=i[n+2],e.normalize().multiplyScalar(t),i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z}(n),function(){for(var t=new Te,e=0;e<i.length;e+=3){t.x=i[e+0],t.y=i[e+1],t.z=i[e+2];var n=l(t)/2/Math.PI+.5,r=u(t)/Math.PI+.5;a.push(n,1-r)}(function(){for(var t=new Te,e=new Te,n=new Te,r=new Te,o=new we,s=new we,c=new we,u=0,p=0;u<i.length;u+=9,p+=6){t.set(i[u+0],i[u+1],i[u+2]),e.set(i[u+3],i[u+4],i[u+5]),n.set(i[u+6],i[u+7],i[u+8]),o.set(a[p+0],a[p+1]),s.set(a[p+2],a[p+3]),c.set(a[p+4],a[p+5]),r.copy(t).add(e).add(n).divideScalar(3);var d=l(r);h(o,p+0,t,d),h(s,p+2,e,d),h(c,p+4,n,d)}})(),function(){for(var t=0;t<a.length;t+=6){var e=a[t+0],n=a[t+2],r=a[t+4],i=Math.max(e,n,r),o=Math.min(e,n,r);i>.9&&o<.1&&(e<.2&&(a[t+0]+=1),n<.2&&(a[t+2]+=1),r<.2&&(a[t+4]+=1))}}()}(),this.addAttribute(\"position\",new cn(i,3)),this.addAttribute(\"normal\",new cn(i.slice(),3)),this.addAttribute(\"uv\",new cn(a,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function xi(t,e){Ke.call(this),this.type=\"TetrahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new bi(t,e)),this.mergeVertices()}function bi(t,e){yi.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type=\"TetrahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function _i(t,e){Ke.call(this),this.type=\"OctahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new wi(t,e)),this.mergeVertices()}function wi(t,e){yi.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type=\"OctahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Mi(t,e){Ke.call(this),this.type=\"IcosahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Ei(t,e)),this.mergeVertices()}function Ei(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];yi.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type=\"IcosahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Ti(t,e){Ke.call(this),this.type=\"DodecahedronGeometry\",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Si(t,e)),this.mergeVertices()}function Si(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];yi.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type=\"DodecahedronBufferGeometry\",this.parameters={radius:t,detail:e}}function Ai(t,e,n,r,i,a){Ke.call(this),this.type=\"TubeGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},void 0!==a&&console.warn(\"THREE.TubeGeometry: taper has been removed.\");var o=new Li(t,e,n,r,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals,this.fromBufferGeometry(o),this.mergeVertices()}function Li(t,e,n,r,i){dn.call(this),this.type=\"TubeBufferGeometry\",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:r,closed:i},e=e||64,n=n||1,r=r||8,i=i||!1;var a=t.computeFrenetFrames(e,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;var o,s,c=new Te,h=new Te,l=new we,u=new Te,p=[],d=[],f=[],m=[];function g(i){u=t.getPointAt(i/e,u);var o=a.normals[i],l=a.binormals[i];for(s=0;s<=r;s++){var f=s/r*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);h.x=g*o.x+m*l.x,h.y=g*o.y+m*l.y,h.z=g*o.z+m*l.z,h.normalize(),d.push(h.x,h.y,h.z),c.x=u.x+n*h.x,c.y=u.y+n*h.y,c.z=u.z+n*h.z,p.push(c.x,c.y,c.z)}}!function(){for(o=0;o<e;o++)g(o);g(!1===i?e:0),function(){for(o=0;o<=e;o++)for(s=0;s<=r;s++)l.x=o/e,l.y=s/r,f.push(l.x,l.y)}(),function(){for(s=1;s<=e;s++)for(o=1;o<=r;o++){var t=(r+1)*(s-1)+(o-1),n=(r+1)*s+(o-1),i=(r+1)*s+o,a=(r+1)*(s-1)+o;m.push(t,n,a),m.push(n,i,a)}}()}(),this.setIndex(m),this.addAttribute(\"position\",new cn(p,3)),this.addAttribute(\"normal\",new cn(d,3)),this.addAttribute(\"uv\",new cn(f,2))}function Ri(t,e,n,r,i,a,o){Ke.call(this),this.type=\"TorusKnotGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},void 0!==o&&console.warn(\"THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.\"),this.fromBufferGeometry(new Pi(t,e,n,r,i,a)),this.mergeVertices()}function Pi(t,e,n,r,i,a){dn.call(this),this.type=\"TorusKnotBufferGeometry\",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},t=t||1,e=e||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,a=a||3;var o,s,c=[],h=[],l=[],u=[],p=new Te,d=new Te,f=new Te,m=new Te,g=new Te,v=new Te,y=new Te;for(o=0;o<=n;++o){var x=o/n*i*Math.PI*2;for(A(x,i,a,t,f),A(x+.01,i,a,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=r;++s){var b=s/r*Math.PI*2,_=-e*Math.cos(b),w=e*Math.sin(b);p.x=f.x+(_*y.x+w*g.x),p.y=f.y+(_*y.y+w*g.y),p.z=f.z+(_*y.z+w*g.z),h.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),l.push(d.x,d.y,d.z),u.push(o/n),u.push(s/r)}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var M=(r+1)*(s-1)+(o-1),E=(r+1)*s+(o-1),T=(r+1)*s+o,S=(r+1)*(s-1)+o;c.push(M,E,S),c.push(E,T,S)}function A(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,c=Math.cos(s);i.x=r*(2+c)*.5*a,i.y=r*(2+c)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(c),this.addAttribute(\"position\",new cn(h,3)),this.addAttribute(\"normal\",new cn(l,3)),this.addAttribute(\"uv\",new cn(u,2))}function Ci(t,e,n,r,i){Ke.call(this),this.type=\"TorusGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new Oi(t,e,n,r,i)),this.mergeVertices()}function Oi(t,e,n,r,i){dn.call(this),this.type=\"TorusBufferGeometry\",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||1,e=e||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=[],c=[],h=[],l=[],u=new Te,p=new Te,d=new Te;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var f=o/r*i,m=a/n*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),c.push(p.x,p.y,p.z),u.x=t*Math.cos(f),u.y=t*Math.sin(f),d.subVectors(p,u).normalize(),h.push(d.x,d.y,d.z),l.push(o/r),l.push(a/n)}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var g=(r+1)*a+o-1,v=(r+1)*(a-1)+o-1,y=(r+1)*(a-1)+o,x=(r+1)*a+o;s.push(g,v,x),s.push(v,y,x)}this.setIndex(s),this.addAttribute(\"position\",new cn(c,3)),this.addAttribute(\"normal\",new cn(h,3)),this.addAttribute(\"uv\",new cn(l,2))}Ur.prototype=Object.create(xn.prototype),Ur.prototype.constructor=Ur,Ur.prototype.isMeshDepthMaterial=!0,Ur.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Br.prototype=Object.create(xn.prototype),Br.prototype.constructor=Br,Br.prototype.isMeshDistanceMaterial=!0,Br.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Gr.prototype=Object.assign(Object.create(Je.prototype),{constructor:Gr,isGroup:!0}),Vr.prototype=Object.assign(Object.create(Je.prototype),{constructor:Vr,isCamera:!0,copy:function(t,e){return Je.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn(\"THREE.Camera: .getWorldDirection() target is now required\"),t=new Te),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Je.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),kr.prototype=Object.assign(Object.create(Vr.prototype),{constructor:kr,isPerspectiveCamera:!0,copy:function(t,e){return Vr.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*_e.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*_e.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*_e.RAD2DEG*Math.atan(Math.tan(.5*_e.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*_e.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var c=this.filmOffset;0!==c&&(i+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Je.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),jr.prototype=Object.assign(Object.create(kr.prototype),{constructor:jr,isArrayCamera:!0}),qr.prototype.isFogExp2=!0,qr.prototype.clone=function(){return new qr(this.color,this.density)},qr.prototype.toJSON=function(){return{type:\"FogExp2\",color:this.color.getHex(),density:this.density}},Yr.prototype.isFog=!0,Yr.prototype.clone=function(){return new Yr(this.color,this.near,this.far)},Yr.prototype.toJSON=function(){return{type:\"Fog\",color:this.color.getHex(),near:this.near,far:this.far}},Zr.prototype=Object.assign(Object.create(Je.prototype),{constructor:Zr,copy:function(t,e){return Je.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=Je.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}),Object.defineProperty(Jr.prototype,\"needsUpdate\",{set:function(t){!0===t&&this.version++}}),Object.assign(Jr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setArray:function(t){if(Array.isArray(t))throw new TypeError(\"THREE.BufferAttribute: array should be a Typed Array.\");return this.count=void 0!==t?t.length/this.stride:0,this.array=t,this},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Qr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Qr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}}),Kr.prototype=Object.create(xn.prototype),Kr.prototype.constructor=Kr,Kr.prototype.isSpriteMaterial=!0,Kr.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this},$r.prototype=Object.assign(Object.create(Je.prototype),{constructor:$r,isSprite:!0,raycast:function(){var t=new Te,e=new Te,n=new Te,r=new we,i=new we,a=new Me,o=new Te,s=new Te,c=new Te,h=new we,l=new we,u=new we;function p(t,e,n,o,s,c){r.subVectors(t,n).addScalar(.5).multiply(o),void 0!==s?(i.x=c*r.x-s*r.y,i.y=s*r.x+c*r.y):i.copy(r),t.copy(e),t.x+=i.x,t.y+=i.y,t.applyMatrix4(a)}return function(r,i){e.setFromMatrixScale(this.matrixWorld),a.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),n.setFromMatrixPosition(this.modelViewMatrix);var d,f,m=this.material.rotation;0!==m&&(f=Math.cos(m),d=Math.sin(m));var g=this.center;p(o.set(-.5,-.5,0),n,g,e,d,f),p(s.set(.5,-.5,0),n,g,e,d,f),p(c.set(.5,.5,0),n,g,e,d,f),h.set(0,0),l.set(1,0),u.set(1,1);var v=r.ray.intersectTriangle(o,s,c,!1,t);if(null!==v||(p(s.set(-.5,.5,0),n,g,e,d,f),l.set(0,1),null!==(v=r.ray.intersectTriangle(o,c,s,!1,t)))){var y=r.ray.origin.distanceTo(t);y<r.near||y>r.far||i.push({distance:y,point:t.clone(),uv:wn.getUV(t,o,s,c,h,l,u,new we),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return Je.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}}),ti.prototype=Object.assign(Object.create(Je.prototype),{constructor:ti,copy:function(t){Je.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(){var t=new Te;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.origin.distanceTo(t);this.getObjectForDistance(r).raycast(e,n)}}(),update:function(){var t=new Te,e=new Te;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=Je.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),Object.assign(ei.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new Me;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){var t=new Me,e=new Me;return function(){for(var n=this.bones,r=this.boneInverses,i=this.boneMatrices,a=this.boneTexture,o=0,s=n.length;o<s;o++){var c=n[o]?n[o].matrixWorld:e;t.multiplyMatrices(c,r[o]),t.toArray(i,16*o)}void 0!==a&&(a.needsUpdate=!0)}}(),clone:function(){return new ei(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var r=this.bones[e];if(r.name===t)return r}}}),ni.prototype=Object.assign(Object.create(Je.prototype),{constructor:ni,isBone:!0}),ri.prototype=Object.assign(Object.create(En.prototype),{constructor:ri,isSkinnedMesh:!0,initBones:function(){var t,e,n,r,i=[];if(this.geometry&&void 0!==this.geometry.bones){for(n=0,r=this.geometry.bones.length;n<r;n++)e=this.geometry.bones[n],t=new ni,i.push(t),t.name=e.name,t.position.fromArray(e.pos),t.quaternion.fromArray(e.rotq),void 0!==e.scl&&t.scale.fromArray(e.scl);for(n=0,r=this.geometry.bones.length;n<r;n++)-1!==(e=this.geometry.bones[n]).parent&&null!==e.parent&&void 0!==i[e.parent]?i[e.parent].add(i[n]):this.add(i[n])}return this.updateMatrixWorld(!0),i},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var t,e;if(this.geometry&&this.geometry.isGeometry)for(e=0;e<this.geometry.skinWeights.length;e++){var n=this.geometry.skinWeights[e];(t=1/n.manhattanLength())!==1/0?n.multiplyScalar(t):n.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new Pe,i=this.geometry.attributes.skinWeight;for(e=0;e<i.count;e++)r.x=i.getX(e),r.y=i.getY(e),r.z=i.getZ(e),r.w=i.getW(e),(t=1/r.manhattanLength())!==1/0?r.multiplyScalar(t):r.set(1,0,0,0),i.setXYZW(e,r.x,r.y,r.z,r.w)}},updateMatrixWorld:function(t){En.prototype.updateMatrixWorld.call(this,t),\"attached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):\"detached\"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn(\"THREE.SkinnedMesh: Unrecognized bindMode: \"+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ii.prototype=Object.create(xn.prototype),ii.prototype.constructor=ii,ii.prototype.isLineBasicMaterial=!0,ii.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},ai.prototype=Object.assign(Object.create(Je.prototype),{constructor:ai,isLine:!0,computeLineDistances:function(){var t=new Te,e=new Te;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[0],a=1,o=r.count;a<o;a++)t.fromBufferAttribute(r,a-1),e.fromBufferAttribute(r,a),i[a]=i[a-1],i[a]+=t.distanceTo(e);n.addAttribute(\"lineDistance\",new cn(i,1))}else console.warn(\"THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else if(n.isGeometry){var s=n.vertices;(i=n.lineDistances)[0]=0;for(a=1,o=s.length;a<o;a++)i[a]=i[a-1],i[a]+=s[a-1].distanceTo(s[a])}return this}}(),raycast:function(){var t=new Me,e=new _n,n=new De;return function(r,i){var a=r.linePrecision,o=this.geometry,s=this.matrixWorld;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=a,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var c=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=c*c,l=new Te,u=new Te,p=new Te,d=new Te,f=this&&this.isLineSegments?2:1;if(o.isBufferGeometry){var m=o.index,g=o.attributes.position.array;if(null!==m)for(var v=m.array,y=0,x=v.length-1;y<x;y+=f){var b=v[y],_=v[y+1];if(l.fromArray(g,3*b),u.fromArray(g,3*_),!(e.distanceSqToSegment(l,u,d,p)>h))d.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(d))<r.near||E>r.far||i.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,x=g.length/3-1;y<x;y+=f){if(l.fromArray(g,3*y),u.fromArray(g,3*y+3),!(e.distanceSqToSegment(l,u,d,p)>h))d.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(d))<r.near||E>r.far||i.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(o.isGeometry){var w=o.vertices,M=w.length;for(y=0;y<M-1;y+=f){var E;if(!(e.distanceSqToSegment(w[y],w[y+1],d,p)>h))d.applyMatrix4(this.matrixWorld),(E=r.ray.origin.distanceTo(d))<r.near||E>r.far||i.push({distance:E,point:p.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),oi.prototype=Object.assign(Object.create(ai.prototype),{constructor:oi,isLineSegments:!0,computeLineDistances:function(){var t=new Te,e=new Te;return function(){var n=this.geometry;if(n.isBufferGeometry)if(null===n.index){for(var r=n.attributes.position,i=[],a=0,o=r.count;a<o;a+=2)t.fromBufferAttribute(r,a),e.fromBufferAttribute(r,a+1),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+t.distanceTo(e);n.addAttribute(\"lineDistance\",new cn(i,1))}else console.warn(\"THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.\");else if(n.isGeometry){var s=n.vertices;for(i=n.lineDistances,a=0,o=s.length;a<o;a+=2)t.copy(s[a]),e.copy(s[a+1]),i[a]=0===a?0:i[a-1],i[a+1]=i[a]+t.distanceTo(e)}return this}}()}),si.prototype=Object.assign(Object.create(ai.prototype),{constructor:si,isLineLoop:!0}),ci.prototype=Object.create(xn.prototype),ci.prototype.constructor=ci,ci.prototype.isPointsMaterial=!0,ci.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this},hi.prototype=Object.assign(Object.create(Je.prototype),{constructor:hi,isPoints:!0,raycast:function(){var t=new Me,e=new _n,n=new De;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,c=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),n.radius+=c,!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var h=c/((this.scale.x+this.scale.y+this.scale.z)/3),l=h*h,u=new Te,p=new Te;if(o.isBufferGeometry){var d=o.index,f=o.attributes.position.array;if(null!==d)for(var m=d.array,g=0,v=m.length;g<v;g++){var y=m[g];u.fromArray(f,3*y),_(u,y)}else{g=0;for(var x=f.length/3;g<x;g++)u.fromArray(f,3*g),_(u,g)}}else{var b=o.vertices;for(g=0,x=b.length;g<x;g++)_(b[g],g)}}function _(t,n){var o=e.distanceSqToPoint(t);if(o<l){e.closestPointToPoint(t,p),p.applyMatrix4(s);var c=r.ray.origin.distanceTo(p);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:p.clone(),index:n,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),li.prototype=Object.assign(Object.create(Re.prototype),{constructor:li,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ui.prototype=Object.create(Re.prototype),ui.prototype.constructor=ui,ui.prototype.isCompressedTexture=!0,pi.prototype=Object.create(Re.prototype),pi.prototype.constructor=pi,pi.prototype.isCanvasTexture=!0,di.prototype=Object.create(Re.prototype),di.prototype.constructor=di,di.prototype.isDepthTexture=!0,fi.prototype=Object.create(dn.prototype),fi.prototype.constructor=fi,mi.prototype=Object.create(Ke.prototype),mi.prototype.constructor=mi,gi.prototype=Object.create(dn.prototype),gi.prototype.constructor=gi,vi.prototype=Object.create(Ke.prototype),vi.prototype.constructor=vi,yi.prototype=Object.create(dn.prototype),yi.prototype.constructor=yi,xi.prototype=Object.create(Ke.prototype),xi.prototype.constructor=xi,bi.prototype=Object.create(yi.prototype),bi.prototype.constructor=bi,_i.prototype=Object.create(Ke.prototype),_i.prototype.constructor=_i,wi.prototype=Object.create(yi.prototype),wi.prototype.constructor=wi,Mi.prototype=Object.create(Ke.prototype),Mi.prototype.constructor=Mi,Ei.prototype=Object.create(yi.prototype),Ei.prototype.constructor=Ei,Ti.prototype=Object.create(Ke.prototype),Ti.prototype.constructor=Ti,Si.prototype=Object.create(yi.prototype),Si.prototype.constructor=Si,Ai.prototype=Object.create(Ke.prototype),Ai.prototype.constructor=Ai,Li.prototype=Object.create(dn.prototype),Li.prototype.constructor=Li,Ri.prototype=Object.create(Ke.prototype),Ri.prototype.constructor=Ri,Pi.prototype=Object.create(dn.prototype),Pi.prototype.constructor=Pi,Ci.prototype=Object.create(Ke.prototype),Ci.prototype.constructor=Ci,Oi.prototype=Object.create(dn.prototype),Oi.prototype.constructor=Oi;var Ii=function(t,e,n){n=n||2;var r,i,a,o,s,c,h,l=e&&e.length,u=l?e[0]*n:t.length,p=Ni(t,0,u,n,!0),d=[];if(!p)return d;if(l&&(p=function(t,e,n,r){var i,a,o,s,c,h=[];for(i=0,a=e.length;i<a;i++)o=e[i]*r,s=i<a-1?e[i+1]*r:t.length,(c=Ni(t,o,s,r,!1))===c.next&&(c.steiner=!0),h.push(ji(c));for(h.sort(Gi),i=0;i<h.length;i++)Vi(h[i],n),n=Di(n,n.next);return n}(t,e,p,n)),t.length>80*n){r=a=t[0],i=o=t[1];for(var f=n;f<u;f+=n)s=t[f],c=t[f+1],s<r&&(r=s),c<i&&(i=c),s>a&&(a=s),c>o&&(o=c);h=0!==(h=Math.max(a-r,o-i))?1/h:0}return Ui(p,d,n,r,i,h),d};function Ni(t,e,n,r,i){var a,o;if(i===function(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}(t,e,n,r)>0)for(a=e;a<n;a+=r)o=Ki(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=Ki(a,t[a],t[a+1],o);return o&&Yi(o,o.next)&&($i(o),o=o.next),o}function Di(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!Yi(r,r.next)&&0!==qi(r.prev,r,r.next))r=r.next;else{if($i(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function Ui(t,e,n,r,i,a,o){if(t){!o&&a&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=ki(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,c,h=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<h&&(s++,r=r.nextZ);e++);for(c=h;s>0||c>0&&r;)0!==s&&(0===c||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,c--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,h*=2}while(o>1)}(i)}(t,r,i,a);for(var s,c,h=t;t.prev!==t.next;)if(s=t.prev,c=t.next,a?Fi(t,r,i,a):Bi(t))e.push(s.i/n),e.push(t.i/n),e.push(c.i/n),$i(t),t=c.next,h=c.next;else if((t=c)===h){o?1===o?Ui(t=zi(t,e,n),e,n,r,i,a,2):2===o&&Hi(t,e,n,r,i,a):Ui(Di(t),e,n,r,i,a,1);break}}}function Bi(t){var e=t.prev,n=t,r=t.next;if(qi(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Wi(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&qi(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Fi(t,e,n,r){var i=t.prev,a=t,o=t.next;if(qi(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,c=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,h=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,l=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,u=ki(s,c,e,n,r),p=ki(h,l,e,n,r),d=t.nextZ;d&&d.z<=p;){if(d!==t.prev&&d!==t.next&&Wi(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&qi(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=u;){if(d!==t.prev&&d!==t.next&&Wi(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&qi(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function zi(t,e,n){var r=t;do{var i=r.prev,a=r.next.next;!Yi(i,a)&&Zi(i,r,r.next,a)&&Ji(i,a)&&Ji(a,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(a.i/n),$i(r),$i(r.next),r=t=a),r=r.next}while(r!==t);return r}function Hi(t,e,n,r,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Xi(o,s)){var c=Qi(o,s);return o=Di(o,o.next),c=Di(c,c.next),Ui(o,e,n,r,i,a),void Ui(c,e,n,r,i,a)}s=s.next}o=o.next}while(o!==t)}function Gi(t,e){return t.x-e.x}function Vi(t,e){if(e=function(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n.prev;var c,h=n,l=n.x,u=n.y,p=1/0;r=n.next;for(;r!==h;)i>=r.x&&r.x>=l&&i!==r.x&&Wi(a<u?i:o,a,l,u,a<u?o:i,a,r.x,r.y)&&((c=Math.abs(a-r.y)/(i-r.x))<p||c===p&&r.x>n.x)&&Ji(r,t)&&(n=r,p=c),r=r.next;return n}(t,e)){var n=Qi(e,t);Di(n,n.next)}}function ki(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ji(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function Wi(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function Xi(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Zi(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&Ji(t,e)&&Ji(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)}function qi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Yi(t,e){return t.x===e.x&&t.y===e.y}function Zi(t,e,n,r){return!!(Yi(t,e)&&Yi(n,r)||Yi(t,r)&&Yi(n,e))||qi(t,e,n)>0!=qi(t,e,r)>0&&qi(n,r,t)>0!=qi(n,r,e)>0}function Ji(t,e){return qi(t.prev,t,t.next)<0?qi(t,e,t.next)>=0&&qi(t,t.prev,e)>=0:qi(t,e,t.prev)<0||qi(t,t.next,e)<0}function Qi(t,e){var n=new ta(t.i,t.x,t.y),r=new ta(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function Ki(t,e,n,r){var i=new ta(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function $i(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ta(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ea={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},isClockWise:function(t){return ea.area(t)<0},triangulateShape:function(t,e){var n=[],r=[],i=[];na(t),ra(n,t);var a=t.length;e.forEach(na);for(var o=0;o<e.length;o++)r.push(a),a+=e[o].length,ra(n,e[o]);var s=Ii(n,r);for(o=0;o<s.length;o+=3)i.push(s.slice(o,o+3));return i}};function na(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ra(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function ia(t,e){Ke.call(this),this.type=\"ExtrudeGeometry\",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new aa(t,e)),this.mergeVertices()}function aa(t,e){dn.call(this),this.type=\"ExtrudeBufferGeometry\",this.parameters={shapes:t,options:e};for(var n=this,r=[],i=[],a=0,o=(t=Array.isArray(t)?t:[t]).length;a<o;a++){s(t[a])}function s(t){var a=[],o=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,c=void 0!==e.depth?e.depth:100,h=void 0===e.bevelEnabled||e.bevelEnabled,l=void 0!==e.bevelThickness?e.bevelThickness:6,u=void 0!==e.bevelSize?e.bevelSize:l-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,d=e.extrudePath,f=void 0!==e.UVGenerator?e.UVGenerator:oa;void 0!==e.amount&&(console.warn(\"THREE.ExtrudeBufferGeometry: amount has been renamed to depth.\"),c=e.amount);var m,g,v,y,x,b,_,w,M=!1;d&&(m=d.getSpacedPoints(s),M=!0,h=!1,g=d.computeFrenetFrames(s,!1),v=new Te,y=new Te,x=new Te),h||(p=0,l=0,u=0);var E=t.extractPoints(o),T=E.shape,S=E.holes;if(!ea.isClockWise(T))for(T=T.reverse(),_=0,w=S.length;_<w;_++)b=S[_],ea.isClockWise(b)&&(S[_]=b.reverse());var A=ea.triangulateShape(T,S),L=T;for(_=0,w=S.length;_<w;_++)b=S[_],T=T.concat(b);function R(t,e,n){return e||console.error(\"THREE.ExtrudeGeometry: vec does not exist\"),e.clone().multiplyScalar(n).add(t)}var P,C,O,I,N,D,U=T.length,B=A.length;function F(t,e,n){var r,i,a,o=t.x-e.x,s=t.y-e.y,c=n.x-t.x,h=n.y-t.y,l=o*o+s*s,u=o*h-s*c;if(Math.abs(u)>Number.EPSILON){var p=Math.sqrt(l),d=Math.sqrt(c*c+h*h),f=e.x-s/p,m=e.y+o/p,g=((n.x-h/d-f)*h-(n.y+c/d-m)*c)/(o*h-s*c),v=(r=f+o*g-t.x)*r+(i=m+s*g-t.y)*i;if(v<=2)return new we(r,i);a=Math.sqrt(v/2)}else{var y=!1;o>Number.EPSILON?c>Number.EPSILON&&(y=!0):o<-Number.EPSILON?c<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(h)&&(y=!0),y?(r=-s,i=o,a=Math.sqrt(l)):(r=o,i=s,a=Math.sqrt(l/2))}return new we(r/a,i/a)}for(var z=[],H=0,G=L.length,V=G-1,k=H+1;H<G;H++,V++,k++)V===G&&(V=0),k===G&&(k=0),z[H]=F(L[H],L[V],L[k]);var j,W,X=[],q=z.concat();for(_=0,w=S.length;_<w;_++){for(b=S[_],j=[],H=0,V=(G=b.length)-1,k=H+1;H<G;H++,V++,k++)V===G&&(V=0),k===G&&(k=0),j[H]=F(b[H],b[V],b[k]);X.push(j),q=q.concat(j)}for(P=0;P<p;P++){for(O=P/p,I=l*Math.cos(O*Math.PI/2),C=u*Math.sin(O*Math.PI/2),H=0,G=L.length;H<G;H++)Z((N=R(L[H],z[H],C)).x,N.y,-I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],H=0,G=b.length;H<G;H++)Z((N=R(b[H],j[H],C)).x,N.y,-I)}for(C=u,H=0;H<U;H++)N=h?R(T[H],q[H],C):T[H],M?(y.copy(g.normals[0]).multiplyScalar(N.x),v.copy(g.binormals[0]).multiplyScalar(N.y),x.copy(m[0]).add(y).add(v),Z(x.x,x.y,x.z)):Z(N.x,N.y,0);for(W=1;W<=s;W++)for(H=0;H<U;H++)N=h?R(T[H],q[H],C):T[H],M?(y.copy(g.normals[W]).multiplyScalar(N.x),v.copy(g.binormals[W]).multiplyScalar(N.y),x.copy(m[W]).add(y).add(v),Z(x.x,x.y,x.z)):Z(N.x,N.y,c/s*W);for(P=p-1;P>=0;P--){for(O=P/p,I=l*Math.cos(O*Math.PI/2),C=u*Math.sin(O*Math.PI/2),H=0,G=L.length;H<G;H++)Z((N=R(L[H],z[H],C)).x,N.y,c+I);for(_=0,w=S.length;_<w;_++)for(b=S[_],j=X[_],H=0,G=b.length;H<G;H++)N=R(b[H],j[H],C),M?Z(N.x,N.y+m[s-1].y,m[s-1].x+I):Z(N.x,N.y,c+I)}function Y(t,e){var n,r;for(H=t.length;--H>=0;){n=H,(r=H-1)<0&&(r=t.length-1);var i=0,a=s+2*p;for(i=0;i<a;i++){var o=U*i,c=U*(i+1);Q(e+n+o,e+r+o,e+r+c,e+n+c)}}}function Z(t,e,n){a.push(t),a.push(e),a.push(n)}function J(t,e,i){K(t),K(e),K(i);var a=r.length/3,o=f.generateTopUV(n,r,a-3,a-2,a-1);$(o[0]),$(o[1]),$(o[2])}function Q(t,e,i,a){K(t),K(e),K(a),K(e),K(i),K(a);var o=r.length/3,s=f.generateSideWallUV(n,r,o-6,o-3,o-2,o-1);$(s[0]),$(s[1]),$(s[3]),$(s[1]),$(s[2]),$(s[3])}function K(t){r.push(a[3*t+0]),r.push(a[3*t+1]),r.push(a[3*t+2])}function $(t){i.push(t.x),i.push(t.y)}!function(){var t=r.length/3;if(h){var e=0,i=U*e;for(H=0;H<B;H++)J((D=A[H])[2]+i,D[1]+i,D[0]+i);for(i=U*(e=s+2*p),H=0;H<B;H++)J((D=A[H])[0]+i,D[1]+i,D[2]+i)}else{for(H=0;H<B;H++)J((D=A[H])[2],D[1],D[0]);for(H=0;H<B;H++)J((D=A[H])[0]+U*s,D[1]+U*s,D[2]+U*s)}n.addGroup(t,r.length/3-t,0)}(),function(){var t=r.length/3,e=0;for(Y(L,e),e+=L.length,_=0,w=S.length;_<w;_++)Y(b=S[_],e),e+=b.length;n.addGroup(t,r.length/3-t,1)}()}this.addAttribute(\"position\",new cn(r,3)),this.addAttribute(\"uv\",new cn(i,2)),this.computeVertexNormals()}ia.prototype=Object.create(Ke.prototype),ia.prototype.constructor=ia,ia.prototype.toJSON=function(){var t=Ke.prototype.toJSON.call(this);return sa(this.parameters.shapes,this.parameters.options,t)},aa.prototype=Object.create(dn.prototype),aa.prototype.constructor=aa,aa.prototype.toJSON=function(){var t=dn.prototype.toJSON.call(this);return sa(this.parameters.shapes,this.parameters.options,t)};var oa={generateTopUV:function(t,e,n,r,i){var a=e[3*n],o=e[3*n+1],s=e[3*r],c=e[3*r+1],h=e[3*i],l=e[3*i+1];return[new we(a,o),new we(s,c),new we(h,l)]},generateSideWallUV:function(t,e,n,r,i,a){var o=e[3*n],s=e[3*n+1],c=e[3*n+2],h=e[3*r],l=e[3*r+1],u=e[3*r+2],p=e[3*i],d=e[3*i+1],f=e[3*i+2],m=e[3*a],g=e[3*a+1],v=e[3*a+2];return Math.abs(s-l)<.01?[new we(o,1-c),new we(h,1-u),new we(p,1-f),new we(m,1-v)]:[new we(s,1-c),new we(l,1-u),new we(d,1-f),new we(g,1-v)]}};function sa(t,e,n){if(n.shapes=[],Array.isArray(t))for(var r=0,i=t.length;r<i;r++){var a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function ca(t,e){Ke.call(this),this.type=\"TextGeometry\",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new ha(t,e)),this.mergeVertices()}function ha(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error(\"THREE.TextGeometry: font parameter is not an instance of THREE.Font.\"),new Ke;var r=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),aa.call(this,r,e),this.type=\"TextBufferGeometry\"}function la(t,e,n,r,i,a,o){Ke.call(this),this.type=\"SphereGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new ua(t,e,n,r,i,a,o)),this.mergeVertices()}function ua(t,e,n,r,i,a,o){dn.call(this),this.type=\"SphereBufferGeometry\",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;var s,c,h=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),l=0,u=[],p=new Te,d=new Te,f=[],m=[],g=[],v=[];for(c=0;c<=n;c++){var y=[],x=c/n;for(s=0;s<=e;s++){var b=s/e;p.x=-t*Math.cos(r+b*i)*Math.sin(a+x*o),p.y=t*Math.cos(a+x*o),p.z=t*Math.sin(r+b*i)*Math.sin(a+x*o),m.push(p.x,p.y,p.z),d.set(p.x,p.y,p.z).normalize(),g.push(d.x,d.y,d.z),v.push(b,1-x),y.push(l++)}u.push(y)}for(c=0;c<n;c++)for(s=0;s<e;s++){var _=u[c][s+1],w=u[c][s],M=u[c+1][s],E=u[c+1][s+1];(0!==c||a>0)&&f.push(_,w,E),(c!==n-1||h<Math.PI)&&f.push(w,M,E)}this.setIndex(f),this.addAttribute(\"position\",new cn(m,3)),this.addAttribute(\"normal\",new cn(g,3)),this.addAttribute(\"uv\",new cn(v,2))}function pa(t,e,n,r,i,a){Ke.call(this),this.type=\"RingGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new da(t,e,n,r,i,a)),this.mergeVertices()}function da(t,e,n,r,i,a){dn.call(this),this.type=\"RingBufferGeometry\",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},t=t||.5,e=e||1,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var o,s,c,h=[],l=[],u=[],p=[],d=t,f=(e-t)/(r=void 0!==r?Math.max(1,r):1),m=new Te,g=new we;for(s=0;s<=r;s++){for(c=0;c<=n;c++)o=i+c/n*a,m.x=d*Math.cos(o),m.y=d*Math.sin(o),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<r;s++){var v=s*(n+1);for(c=0;c<n;c++){var y=o=c+v,x=o+n+1,b=o+n+2,_=o+1;h.push(y,x,_),h.push(x,b,_)}}this.setIndex(h),this.addAttribute(\"position\",new cn(l,3)),this.addAttribute(\"normal\",new cn(u,3)),this.addAttribute(\"uv\",new cn(p,2))}function fa(t,e,n,r){Ke.call(this),this.type=\"LatheGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new ma(t,e,n,r)),this.mergeVertices()}function ma(t,e,n,r){dn.call(this),this.type=\"LatheBufferGeometry\",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=_e.clamp(r,0,2*Math.PI);var i,a,o,s=[],c=[],h=[],l=1/e,u=new Te,p=new we;for(a=0;a<=e;a++){var d=n+a*l*r,f=Math.sin(d),m=Math.cos(d);for(o=0;o<=t.length-1;o++)u.x=t[o].x*f,u.y=t[o].y,u.z=t[o].x*m,c.push(u.x,u.y,u.z),p.x=a/e,p.y=o/(t.length-1),h.push(p.x,p.y)}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var g=i=o+a*t.length,v=i+t.length,y=i+t.length+1,x=i+1;s.push(g,v,x),s.push(v,y,x)}if(this.setIndex(s),this.addAttribute(\"position\",new cn(c,3)),this.addAttribute(\"uv\",new cn(h,2)),this.computeVertexNormals(),r===2*Math.PI){var b=this.attributes.normal.array,_=new Te,w=new Te,M=new Te;for(i=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)_.x=b[o+0],_.y=b[o+1],_.z=b[o+2],w.x=b[i+o+0],w.y=b[i+o+1],w.z=b[i+o+2],M.addVectors(_,w).normalize(),b[o+0]=b[i+o+0]=M.x,b[o+1]=b[i+o+1]=M.y,b[o+2]=b[i+o+2]=M.z}}function ga(t,e){Ke.call(this),this.type=\"ShapeGeometry\",\"object\"===(void 0===e?\"undefined\":o(e))&&(console.warn(\"THREE.ShapeGeometry: Options parameter has been removed.\"),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new va(t,e)),this.mergeVertices()}function va(t,e){dn.call(this),this.type=\"ShapeBufferGeometry\",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],r=[],i=[],a=[],o=0,s=0;if(!1===Array.isArray(t))h(t);else for(var c=0;c<t.length;c++)h(t[c]),this.addGroup(o,s,c),o+=s,s=0;function h(t){var o,c,h,l=r.length/3,u=t.extractPoints(e),p=u.shape,d=u.holes;if(!1===ea.isClockWise(p))for(p=p.reverse(),o=0,c=d.length;o<c;o++)h=d[o],!0===ea.isClockWise(h)&&(d[o]=h.reverse());var f=ea.triangulateShape(p,d);for(o=0,c=d.length;o<c;o++)h=d[o],p=p.concat(h);for(o=0,c=p.length;o<c;o++){var m=p[o];r.push(m.x,m.y,0),i.push(0,0,1),a.push(m.x,m.y)}for(o=0,c=f.length;o<c;o++){var g=f[o],v=g[0]+l,y=g[1]+l,x=g[2]+l;n.push(v,y,x),s+=3}}this.setIndex(n),this.addAttribute(\"position\",new cn(r,3)),this.addAttribute(\"normal\",new cn(i,3)),this.addAttribute(\"uv\",new cn(a,2))}function ya(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,r=t.length;n<r;n++){var i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}function xa(t,e){dn.call(this),this.type=\"EdgesGeometry\",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,r,i,a,o=[],s=Math.cos(_e.DEG2RAD*e),c=[0,0],h={},l=[\"a\",\"b\",\"c\"];t.isBufferGeometry?(a=new Ke).fromBufferGeometry(t):a=t.clone(),a.mergeVertices(),a.computeFaceNormals();for(var u=a.vertices,p=a.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)n=m[l[g]],r=m[l[(g+1)%3]],c[0]=Math.min(n,r),c[1]=Math.max(n,r),void 0===h[i=c[0]+\",\"+c[1]]?h[i]={index1:c[0],index2:c[1],face1:d,face2:void 0}:h[i].face2=d;for(i in h){var v=h[i];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=u[v.index1];o.push(y.x,y.y,y.z),y=u[v.index2],o.push(y.x,y.y,y.z)}}this.addAttribute(\"position\",new cn(o,3))}function ba(t,e,n,r,i,a,o,s){Ke.call(this),this.type=\"CylinderGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new _a(t,e,n,r,i,a,o,s)),this.mergeVertices()}function _a(t,e,n,r,i,a,o,s){dn.call(this),this.type=\"CylinderBufferGeometry\",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var c=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var h=[],l=[],u=[],p=[],d=0,f=[],m=n/2,g=0;function v(n){var i,a,f,v=new we,y=new Te,x=0,b=!0===n?t:e,_=!0===n?1:-1;for(a=d,i=1;i<=r;i++)l.push(0,m*_,0),u.push(0,_,0),p.push(.5,.5),d++;for(f=d,i=0;i<=r;i++){var w=i/r*s+o,M=Math.cos(w),E=Math.sin(w);y.x=b*E,y.y=m*_,y.z=b*M,l.push(y.x,y.y,y.z),u.push(0,_,0),v.x=.5*M+.5,v.y=.5*E*_+.5,p.push(v.x,v.y),d++}for(i=0;i<r;i++){var T=a+i,S=f+i;!0===n?h.push(S,S+1,T):h.push(S+1,S,T),x+=3}c.addGroup(g,x,!0===n?1:2),g+=x}!function(){var a,v,y=new Te,x=new Te,b=0,_=(e-t)/n;for(v=0;v<=i;v++){var w=[],M=v/i,E=M*(e-t)+t;for(a=0;a<=r;a++){var T=a/r,S=T*s+o,A=Math.sin(S),L=Math.cos(S);x.x=E*A,x.y=-M*n+m,x.z=E*L,l.push(x.x,x.y,x.z),y.set(A,_,L).normalize(),u.push(y.x,y.y,y.z),p.push(T,1-M),w.push(d++)}f.push(w)}for(a=0;a<r;a++)for(v=0;v<i;v++){var R=f[v][a],P=f[v+1][a],C=f[v+1][a+1],O=f[v][a+1];h.push(R,P,O),h.push(P,C,O),b+=6}c.addGroup(g,b,0),g+=b}(),!1===a&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(h),this.addAttribute(\"position\",new cn(l,3)),this.addAttribute(\"normal\",new cn(u,3)),this.addAttribute(\"uv\",new cn(p,2))}function wa(t,e,n,r,i,a,o){ba.call(this,0,t,e,n,r,i,a,o),this.type=\"ConeGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Ma(t,e,n,r,i,a,o){_a.call(this,0,t,e,n,r,i,a,o),this.type=\"ConeBufferGeometry\",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}}function Ea(t,e,n,r){Ke.call(this),this.type=\"CircleGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new Ta(t,e,n,r)),this.mergeVertices()}function Ta(t,e,n,r){dn.call(this),this.type=\"CircleBufferGeometry\",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i,a,o=[],s=[],c=[],h=[],l=new Te,u=new we;for(s.push(0,0,0),c.push(0,0,1),h.push(.5,.5),a=0,i=3;a<=e;a++,i+=3){var p=n+a/e*r;l.x=t*Math.cos(p),l.y=t*Math.sin(p),s.push(l.x,l.y,l.z),c.push(0,0,1),u.x=(s[i]/t+1)/2,u.y=(s[i+1]/t+1)/2,h.push(u.x,u.y)}for(i=1;i<=e;i++)o.push(i,i+1,0);this.setIndex(o),this.addAttribute(\"position\",new cn(s,3)),this.addAttribute(\"normal\",new cn(c,3)),this.addAttribute(\"uv\",new cn(h,2))}ca.prototype=Object.create(Ke.prototype),ca.prototype.constructor=ca,ha.prototype=Object.create(aa.prototype),ha.prototype.constructor=ha,la.prototype=Object.create(Ke.prototype),la.prototype.constructor=la,ua.prototype=Object.create(dn.prototype),ua.prototype.constructor=ua,pa.prototype=Object.create(Ke.prototype),pa.prototype.constructor=pa,da.prototype=Object.create(dn.prototype),da.prototype.constructor=da,fa.prototype=Object.create(Ke.prototype),fa.prototype.constructor=fa,ma.prototype=Object.create(dn.prototype),ma.prototype.constructor=ma,ga.prototype=Object.create(Ke.prototype),ga.prototype.constructor=ga,ga.prototype.toJSON=function(){var t=Ke.prototype.toJSON.call(this);return ya(this.parameters.shapes,t)},va.prototype=Object.create(dn.prototype),va.prototype.constructor=va,va.prototype.toJSON=function(){var t=dn.prototype.toJSON.call(this);return ya(this.parameters.shapes,t)},xa.prototype=Object.create(dn.prototype),xa.prototype.constructor=xa,ba.prototype=Object.create(Ke.prototype),ba.prototype.constructor=ba,_a.prototype=Object.create(dn.prototype),_a.prototype.constructor=_a,wa.prototype=Object.create(ba.prototype),wa.prototype.constructor=wa,Ma.prototype=Object.create(_a.prototype),Ma.prototype.constructor=Ma,Ea.prototype=Object.create(Ke.prototype),Ea.prototype.constructor=Ea,Ta.prototype=Object.create(dn.prototype),Ta.prototype.constructor=Ta;var Sa=Object.freeze({WireframeGeometry:fi,ParametricGeometry:mi,ParametricBufferGeometry:gi,TetrahedronGeometry:xi,TetrahedronBufferGeometry:bi,OctahedronGeometry:_i,OctahedronBufferGeometry:wi,IcosahedronGeometry:Mi,IcosahedronBufferGeometry:Ei,DodecahedronGeometry:Ti,DodecahedronBufferGeometry:Si,PolyhedronGeometry:vi,PolyhedronBufferGeometry:yi,TubeGeometry:Ai,TubeBufferGeometry:Li,TorusKnotGeometry:Ri,TorusKnotBufferGeometry:Pi,TorusGeometry:Ci,TorusBufferGeometry:Oi,TextGeometry:ca,TextBufferGeometry:ha,SphereGeometry:la,SphereBufferGeometry:ua,RingGeometry:pa,RingBufferGeometry:da,PlaneGeometry:gn,PlaneBufferGeometry:vn,LatheGeometry:fa,LatheBufferGeometry:ma,ShapeGeometry:ga,ShapeBufferGeometry:va,ExtrudeGeometry:ia,ExtrudeBufferGeometry:aa,EdgesGeometry:xa,ConeGeometry:wa,ConeBufferGeometry:Ma,CylinderGeometry:ba,CylinderBufferGeometry:_a,CircleGeometry:Ea,CircleBufferGeometry:Ta,BoxGeometry:fn,BoxBufferGeometry:mn});function Aa(t){xn.call(this),this.type=\"ShadowMaterial\",this.color=new Ge(0),this.transparent=!0,this.setValues(t)}function La(t){bn.call(this,t),this.type=\"RawShaderMaterial\"}function Ra(t){xn.call(this),this.defines={STANDARD:\"\"},this.type=\"MeshStandardMaterial\",this.color=new Ge(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Pa(t){Ra.call(this),this.defines={PHYSICAL:\"\"},this.type=\"MeshPhysicalMaterial\",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(t)}function Ca(t){xn.call(this),this.type=\"MeshPhongMaterial\",this.color=new Ge(16777215),this.specular=new Ge(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Oa(t){Ca.call(this),this.defines={TOON:\"\"},this.type=\"MeshToonMaterial\",this.gradientMap=null,this.setValues(t)}function Ia(t){xn.call(this),this.type=\"MeshNormalMaterial\",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Na(t){xn.call(this),this.type=\"MeshLambertMaterial\",this.color=new Ge(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ge(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap=\"round\",this.wireframeLinejoin=\"round\",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Da(t){if(xn.call(this),this.defines={MATCAP:\"\"},this.type=\"MeshMatcapMaterial\",this.color=new Ge(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xe,this.normalScale=new we(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.lights=!1,this.setValues(t),null===this.matcap){var e=document.createElement(\"canvas\");e.width=1,e.height=1;var n=e.getContext(\"2d\");n.fillStyle=\"#fff\",n.fillRect(0,0,1,1),this.matcap=new THREE.CanvasTexture(e)}}function Ua(t){ii.call(this),this.type=\"LineDashedMaterial\",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Aa.prototype=Object.create(xn.prototype),Aa.prototype.constructor=Aa,Aa.prototype.isShadowMaterial=!0,Aa.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this},La.prototype=Object.create(bn.prototype),La.prototype.constructor=La,La.prototype.isRawShaderMaterial=!0,Ra.prototype=Object.create(xn.prototype),Ra.prototype.constructor=Ra,Ra.prototype.isMeshStandardMaterial=!0,Ra.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.defines={STANDARD:\"\"},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Pa.prototype=Object.create(Ra.prototype),Pa.prototype.constructor=Pa,Pa.prototype.isMeshPhysicalMaterial=!0,Pa.prototype.copy=function(t){return Ra.prototype.copy.call(this,t),this.defines={PHYSICAL:\"\"},this.reflectivity=t.reflectivity,this.clearCoat=t.clearCoat,this.clearCoatRoughness=t.clearCoatRoughness,this},Ca.prototype=Object.create(xn.prototype),Ca.prototype.constructor=Ca,Ca.prototype.isMeshPhongMaterial=!0,Ca.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Oa.prototype=Object.create(Ca.prototype),Oa.prototype.constructor=Oa,Oa.prototype.isMeshToonMaterial=!0,Oa.prototype.copy=function(t){return Ca.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},Ia.prototype=Object.create(xn.prototype),Ia.prototype.constructor=Ia,Ia.prototype.isMeshNormalMaterial=!0,Ia.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Na.prototype=Object.create(xn.prototype),Na.prototype.constructor=Na,Na.prototype.isMeshLambertMaterial=!0,Na.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Da.prototype=Object.create(xn.prototype),Da.prototype.constructor=Da,Da.prototype.isMeshMatcapMaterial=!0,Da.prototype.copy=function(t){return xn.prototype.copy.call(this,t),this.defines={MATCAP:\"\"},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ua.prototype=Object.create(ii.prototype),Ua.prototype.constructor=Ua,Ua.prototype.isLineDashedMaterial=!0,Ua.prototype.copy=function(t){return ii.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var Ba=Object.freeze({ShadowMaterial:Aa,SpriteMaterial:Kr,RawShaderMaterial:La,ShaderMaterial:bn,PointsMaterial:ci,MeshPhysicalMaterial:Pa,MeshStandardMaterial:Ra,MeshPhongMaterial:Ca,MeshToonMaterial:Oa,MeshNormalMaterial:Ia,MeshLambertMaterial:Na,MeshDepthMaterial:Ur,MeshDistanceMaterial:Br,MeshBasicMaterial:Mn,MeshMatcapMaterial:Da,LineDashedMaterial:Ua,LineBasicMaterial:ii,Material:xn}),Fa={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function za(t,e,n){var r=this,i=!1,a=0,o=0,s=void 0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===i&&void 0!==r.onStart&&r.onStart(t,a,o),i=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this}}var Ha=new za,Ga={};function Va(t){this.manager=void 0!==t?t:Ha}function ka(t){this.manager=void 0!==t?t:Ha,this._parser=null}function ja(t){this.manager=void 0!==t?t:Ha,this._parser=null}function Wa(t){this.manager=void 0!==t?t:Ha}function Xa(t){this.manager=void 0!==t?t:Ha}function qa(t){this.manager=void 0!==t?t:Ha}function Ya(){this.type=\"Curve\",this.arcLengthDivisions=200}function Za(t,e,n,r,i,a,o,s){Ya.call(this),this.type=\"EllipseCurve\",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=a||2*Math.PI,this.aClockwise=o||!1,this.aRotation=s||0}function Ja(t,e,n,r,i,a){Za.call(this,t,e,n,n,r,i,a),this.type=\"ArcCurve\"}function Qa(){var t=0,e=0,n=0,r=0;function i(i,a,o,s){t=i,e=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(t,e,n,r,a){i(e,n,a*(n-t),a*(r-e))},initNonuniformCatmullRom:function(t,e,n,r,a,o,s){var c=(e-t)/a-(n-t)/(a+o)+(n-e)/o,h=(n-e)/o-(r-e)/(o+s)+(r-n)/s;i(e,n,c*=o,h*=o)},calc:function(i){var a=i*i;return t+e*i+n*a+r*(a*i)}}}Object.assign(Va.prototype,{load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=Fa.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout(function(){e&&e(a),i.manager.itemEnd(t)},0),a;if(void 0===Ga[t]){var o=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(o){var s=o[1],c=!!o[2],h=o[3];h=window.decodeURIComponent(h),c&&(h=window.atob(h));try{var l,u=(this.responseType||\"\").toLowerCase();switch(u){case\"arraybuffer\":case\"blob\":for(var p=new Uint8Array(h.length),d=0;d<h.length;d++)p[d]=h.charCodeAt(d);l=\"blob\"===u?new Blob([p.buffer],{type:s}):p.buffer;break;case\"document\":var f=new DOMParser;l=f.parseFromString(h,s);break;case\"json\":l=JSON.parse(h);break;default:l=h}window.setTimeout(function(){e&&e(l),i.manager.itemEnd(t)},0)}catch(e){window.setTimeout(function(){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)},0)}}else{Ga[t]=[],Ga[t].push({onLoad:e,onProgress:n,onError:r});var m=new XMLHttpRequest;for(var g in m.open(\"GET\",t,!0),m.addEventListener(\"load\",function(e){var n=this.response;Fa.add(t,n);var r=Ga[t];if(delete Ga[t],200===this.status||0===this.status){0===this.status&&console.warn(\"THREE.FileLoader: HTTP Status 0 received.\");for(var a=0,o=r.length;a<o;a++){(s=r[a]).onLoad&&s.onLoad(n)}i.manager.itemEnd(t)}else{for(a=0,o=r.length;a<o;a++){var s;(s=r[a]).onError&&s.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)}},!1),m.addEventListener(\"progress\",function(e){for(var n=Ga[t],r=0,i=n.length;r<i;r++){var a=n[r];a.onProgress&&a.onProgress(e)}},!1),m.addEventListener(\"error\",function(e){var n=Ga[t];delete Ga[t];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)},!1),m.addEventListener(\"abort\",function(e){var n=Ga[t];delete Ga[t];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(e)}i.manager.itemEnd(t),i.manager.itemError(t)},!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:\"text/plain\"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return i.manager.itemStart(t),m}Ga[t].push({onLoad:e,onProgress:n,onError:r})},setPath:function(t){return this.path=t,this},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Object.assign(ka.prototype,{load:function(t,e,n,r){var i=this,a=[],o=new ui;o.image=a;var s=new Va(this.manager);function c(c){s.load(t[c],function(t){var n=i._parser(t,!0);a[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(h+=1)&&(1===n.mipmapCount&&(o.minFilter=pt),o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,r)}if(s.setPath(this.path),s.setResponseType(\"arraybuffer\"),Array.isArray(t))for(var h=0,l=0,u=t.length;l<u;++l)c(l);else s.load(t,function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var c=0;c<n.mipmapCount;c++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+c]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=pt),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,r);return o},setPath:function(t){return this.path=t,this}}),Object.assign(ja.prototype,{load:function(t,e,n,r){var i=this,a=new Ie,o=new Va(this.manager);return o.setResponseType(\"arraybuffer\"),o.load(t,function(t){var n=i._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:st,a.wrapT=void 0!==n.wrapT?n.wrapT:st,a.magFilter=void 0!==n.magFilter?n.magFilter:pt,a.minFilter=void 0!==n.minFilter?n.minFilter:ft,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=pt),a.needsUpdate=!0,e&&e(a,n))},n,r),a}}),Object.assign(Wa.prototype,{crossOrigin:\"anonymous\",load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=Fa.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout(function(){e&&e(a),i.manager.itemEnd(t)},0),a;var o=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"img\");function s(){o.removeEventListener(\"load\",s,!1),o.removeEventListener(\"error\",c,!1),Fa.add(t,this),e&&e(this),i.manager.itemEnd(t)}function c(e){o.removeEventListener(\"load\",s,!1),o.removeEventListener(\"error\",c,!1),r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)}return o.addEventListener(\"load\",s,!1),o.addEventListener(\"error\",c,!1),\"data:\"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Xa.prototype,{crossOrigin:\"anonymous\",load:function(t,e,n,r){var i=new Sn,a=new Wa(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],function(t){i.images[n]=t,6===++o&&(i.needsUpdate=!0,e&&e(i))},void 0,r)}for(var c=0;c<t.length;++c)s(c);return i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(qa.prototype,{crossOrigin:\"anonymous\",load:function(t,e,n,r){var i=new Re,a=new Wa(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){i.image=n;var r=t.search(/\\.jpe?g$/i)>0||0===t.search(/^data\\:image\\/jpeg/);i.format=r?Lt:Rt,i.needsUpdate=!0,void 0!==e&&e(i)},n,r),i},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this}}),Object.assign(Ya.prototype,{getPoint:function(){return console.warn(\"THREE.Curve: .getPoint() not implemented.\"),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=t;n++)a+=(e=this.getPoint(n/t)).distanceTo(i),r.push(a),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,c=a-1;s<=c;)if((o=r[i=Math.floor(s+(c-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){c=i;break}c=i-1}if(r[i=c]===n)return i/(a-1);var h=r[i];return(i+(n-h)/(r[i+1]-h))/(a-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,r,i,a=new Te,o=[],s=[],c=[],h=new Te,l=new Me;for(n=0;n<=t;n++)r=n/t,o[n]=this.getTangentAt(r),o[n].normalize();s[0]=new Te,c[0]=new Te;var u=Number.MAX_VALUE,p=Math.abs(o[0].x),d=Math.abs(o[0].y),f=Math.abs(o[0].z);for(p<=u&&(u=p,a.set(1,0,0)),d<=u&&(u=d,a.set(0,1,0)),f<=u&&a.set(0,0,1),h.crossVectors(o[0],a).normalize(),s[0].crossVectors(o[0],h),c[0].crossVectors(o[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),c[n]=c[n-1].clone(),h.crossVectors(o[n-1],o[n]),h.length()>Number.EPSILON&&(h.normalize(),i=Math.acos(_e.clamp(o[n-1].dot(o[n]),-1,1)),s[n].applyMatrix4(l.makeRotationAxis(h,i))),c[n].crossVectors(o[n],s[n]);if(!0===e)for(i=Math.acos(_e.clamp(s[0].dot(s[t]),-1,1)),i/=t,o[0].dot(h.crossVectors(s[0],s[t]))>0&&(i=-i),n=1;n<=t;n++)s[n].applyMatrix4(l.makeRotationAxis(o[n],i*n)),c[n].crossVectors(o[n],s[n]);return{tangents:o,normals:s,binormals:c}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:\"Curve\",generator:\"Curve.toJSON\"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Za.prototype=Object.create(Ya.prototype),Za.prototype.constructor=Za,Za.prototype.isEllipseCurve=!0,Za.prototype.getPoint=function(t,e){for(var n=e||new we,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+t*i,s=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var h=Math.cos(this.aRotation),l=Math.sin(this.aRotation),u=s-this.aX,p=c-this.aY;s=u*h-p*l+this.aX,c=u*l+p*h+this.aY}return n.set(s,c)},Za.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Za.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Za.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Ja.prototype=Object.create(Za.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isArcCurve=!0;var Ka=new Te,$a=new Qa,to=new Qa,eo=new Qa;function no(t,e,n,r){Ya.call(this),this.type=\"CatmullRomCurve3\",this.points=t||[],this.closed=e||!1,this.curveType=n||\"centripetal\",this.tension=r||.5}function ro(t,e,n,r,i){var a=.5*(r-e),o=.5*(i-n),s=t*t;return(2*n-2*r+a+o)*(t*s)+(-3*n+3*r-2*a-o)*s+a*t+n}function io(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)}function ao(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}function oo(t,e,n,r){Ya.call(this),this.type=\"CubicBezierCurve\",this.v0=t||new we,this.v1=e||new we,this.v2=n||new we,this.v3=r||new we}function so(t,e,n,r){Ya.call(this),this.type=\"CubicBezierCurve3\",this.v0=t||new Te,this.v1=e||new Te,this.v2=n||new Te,this.v3=r||new Te}function co(t,e){Ya.call(this),this.type=\"LineCurve\",this.v1=t||new we,this.v2=e||new we}function ho(t,e){Ya.call(this),this.type=\"LineCurve3\",this.v1=t||new Te,this.v2=e||new Te}function lo(t,e,n){Ya.call(this),this.type=\"QuadraticBezierCurve\",this.v0=t||new we,this.v1=e||new we,this.v2=n||new we}function uo(t,e,n){Ya.call(this),this.type=\"QuadraticBezierCurve3\",this.v0=t||new Te,this.v1=e||new Te,this.v2=n||new Te}function po(t){Ya.call(this),this.type=\"SplineCurve\",this.points=t||[]}no.prototype=Object.create(Ya.prototype),no.prototype.constructor=no,no.prototype.isCatmullRomCurve3=!0,no.prototype.getPoint=function(t,e){var n,r,i,a,o=e||new Te,s=this.points,c=s.length,h=(c-(this.closed?0:1))*t,l=Math.floor(h),u=h-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/c)+1)*c:0===u&&l===c-1&&(l=c-2,u=1),this.closed||l>0?n=s[(l-1)%c]:(Ka.subVectors(s[0],s[1]).add(s[0]),n=Ka),r=s[l%c],i=s[(l+1)%c],this.closed||l+2<c?a=s[(l+2)%c]:(Ka.subVectors(s[c-1],s[c-2]).add(s[c-1]),a=Ka),\"centripetal\"===this.curveType||\"chordal\"===this.curveType){var p=\"chordal\"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(r),p),f=Math.pow(r.distanceToSquared(i),p),m=Math.pow(i.distanceToSquared(a),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),$a.initNonuniformCatmullRom(n.x,r.x,i.x,a.x,d,f,m),to.initNonuniformCatmullRom(n.y,r.y,i.y,a.y,d,f,m),eo.initNonuniformCatmullRom(n.z,r.z,i.z,a.z,d,f,m)}else\"catmullrom\"===this.curveType&&($a.initCatmullRom(n.x,r.x,i.x,a.x,this.tension),to.initCatmullRom(n.y,r.y,i.y,a.y,this.tension),eo.initCatmullRom(n.z,r.z,i.z,a.z,this.tension));return o.set($a.calc(u),to.calc(u),eo.calc(u)),o},no.prototype.copy=function(t){Ya.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},no.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},no.prototype.fromJSON=function(t){Ya.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new Te).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},oo.prototype=Object.create(Ya.prototype),oo.prototype.constructor=oo,oo.prototype.isCubicBezierCurve=!0,oo.prototype.getPoint=function(t,e){var n=e||new we,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ao(t,r.x,i.x,a.x,o.x),ao(t,r.y,i.y,a.y,o.y)),n},oo.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},oo.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},oo.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},so.prototype=Object.create(Ya.prototype),so.prototype.constructor=so,so.prototype.isCubicBezierCurve3=!0,so.prototype.getPoint=function(t,e){var n=e||new Te,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(ao(t,r.x,i.x,a.x,o.x),ao(t,r.y,i.y,a.y,o.y),ao(t,r.z,i.z,a.z,o.z)),n},so.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},so.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},so.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},co.prototype=Object.create(Ya.prototype),co.prototype.constructor=co,co.prototype.isLineCurve=!0,co.prototype.getPoint=function(t,e){var n=e||new we;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},co.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},co.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},co.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},co.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},co.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ho.prototype=Object.create(Ya.prototype),ho.prototype.constructor=ho,ho.prototype.isLineCurve3=!0,ho.prototype.getPoint=function(t,e){var n=e||new Te;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},ho.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ho.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ho.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ho.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},lo.prototype=Object.create(Ya.prototype),lo.prototype.constructor=lo,lo.prototype.isQuadraticBezierCurve=!0,lo.prototype.getPoint=function(t,e){var n=e||new we,r=this.v0,i=this.v1,a=this.v2;return n.set(io(t,r.x,i.x,a.x),io(t,r.y,i.y,a.y)),n},lo.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},lo.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},lo.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},uo.prototype=Object.create(Ya.prototype),uo.prototype.constructor=uo,uo.prototype.isQuadraticBezierCurve3=!0,uo.prototype.getPoint=function(t,e){var n=e||new Te,r=this.v0,i=this.v1,a=this.v2;return n.set(io(t,r.x,i.x,a.x),io(t,r.y,i.y,a.y),io(t,r.z,i.z,a.z)),n},uo.prototype.copy=function(t){return Ya.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},uo.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},uo.prototype.fromJSON=function(t){return Ya.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},po.prototype=Object.create(Ya.prototype),po.prototype.constructor=po,po.prototype.isSplineCurve=!0,po.prototype.getPoint=function(t,e){var n=e||new we,r=this.points,i=(r.length-1)*t,a=Math.floor(i),o=i-a,s=r[0===a?a:a-1],c=r[a],h=r[a>r.length-2?r.length-1:a+1],l=r[a>r.length-3?r.length-1:a+2];return n.set(ro(o,s.x,c.x,h.x,l.x),ro(o,s.y,c.y,h.y,l.y)),n},po.prototype.copy=function(t){Ya.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push(r.clone())}return this},po.prototype.toJSON=function(){var t=Ya.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var r=this.points[e];t.points.push(r.toArray())}return t},po.prototype.fromJSON=function(t){Ya.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var r=t.points[e];this.points.push((new we).fromArray(r))}return this};var fo=Object.freeze({ArcCurve:Ja,CatmullRomCurve3:no,CubicBezierCurve:oo,CubicBezierCurve3:so,EllipseCurve:Za,LineCurve:co,LineCurve3:ho,QuadraticBezierCurve:lo,QuadraticBezierCurve3:uo,SplineCurve:po});function mo(){Ya.call(this),this.type=\"CurvePath\",this.curves=[],this.autoClose=!1}function go(t){mo.call(this),this.type=\"Path\",this.currentPoint=new we,t&&this.setFromPoints(t)}function vo(t){go.call(this,t),this.uuid=_e.generateUUID(),this.type=\"Shape\",this.holes=[]}function yo(t,e){Je.call(this),this.type=\"Light\",this.color=new Ge(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function xo(t,e,n){yo.call(this,t,n),this.type=\"HemisphereLight\",this.castShadow=void 0,this.position.copy(Je.DefaultUp),this.updateMatrix(),this.groundColor=new Ge(e)}function bo(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new we(512,512),this.map=null,this.matrix=new Me}function _o(){bo.call(this,new kr(50,1,.5,500))}function wo(t,e,n,r,i,a){yo.call(this,t,e),this.type=\"SpotLight\",this.position.copy(Je.DefaultUp),this.updateMatrix(),this.target=new Je,Object.defineProperty(this,\"power\",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new _o}function Mo(t,e,n,r){yo.call(this,t,e),this.type=\"PointLight\",Object.defineProperty(this,\"power\",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new bo(new kr(90,1,.5,500))}function Eo(t,e,n,r,i,a){Vr.call(this),this.type=\"OrthographicCamera\",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()}function To(){bo.call(this,new Eo(-5,5,5,-5,.5,500))}function So(t,e){yo.call(this,t,e),this.type=\"DirectionalLight\",this.position.copy(Je.DefaultUp),this.updateMatrix(),this.target=new Je,this.shadow=new To}function Ao(t,e){yo.call(this,t,e),this.type=\"AmbientLight\",this.castShadow=void 0}function Lo(t,e,n,r){yo.call(this,t,e),this.type=\"RectAreaLight\",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}mo.prototype=Object.assign(Object.create(Ya.prototype),{constructor:mo,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new co(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,a=this.curves[r],o=a.getLength(),s=0===o?0:1-i/o;return a.getPointAt(s)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a&&a.isEllipseCurve?2*t:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),c=0;c<s.length;c++){var h=s[c];e&&e.equals(h)||(n.push(h),e=h)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Ya.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push(r.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Ya.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var r=this.curves[e];t.curves.push(r.toJSON())}return t},fromJSON:function(t){Ya.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var r=t.curves[e];this.curves.push((new fo[r.type]).fromJSON(r))}return this}}),go.prototype=Object.assign(Object.create(mo.prototype),{constructor:go,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new co(this.currentPoint.clone(),new we(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,r){var i=new lo(this.currentPoint.clone(),new we(t,e),new we(n,r));this.curves.push(i),this.currentPoint.set(n,r)},bezierCurveTo:function(t,e,n,r,i,a){var o=new oo(this.currentPoint.clone(),new we(t,e),new we(n,r),new we(i,a));this.curves.push(o),this.currentPoint.set(i,a)},splineThru:function(t){var e=new po([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+o,e+s,n,r,i,a)},absarc:function(t,e,n,r,i,a){this.absellipse(t,e,n,n,r,i,a)},ellipse:function(t,e,n,r,i,a,o,s){var c=this.currentPoint.x,h=this.currentPoint.y;this.absellipse(t+c,e+h,n,r,i,a,o,s)},absellipse:function(t,e,n,r,i,a,o,s){var c=new Za(t,e,n,r,i,a,o,s);if(this.curves.length>0){var h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);var l=c.getPoint(1);this.currentPoint.copy(l)},copy:function(t){return mo.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=mo.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return mo.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),vo.prototype=Object.assign(Object.create(go.prototype),{constructor:vo,getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){go.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push(r.clone())}return this},toJSON:function(){var t=go.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var r=this.holes[e];t.holes.push(r.toJSON())}return t},fromJSON:function(t){go.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var r=t.holes[e];this.holes.push((new go).fromJSON(r))}return this}}),yo.prototype=Object.assign(Object.create(Je.prototype),{constructor:yo,isLight:!0,copy:function(t){return Je.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=Je.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),xo.prototype=Object.assign(Object.create(yo.prototype),{constructor:xo,isHemisphereLight:!0,copy:function(t){return yo.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(bo.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),_o.prototype=Object.assign(Object.create(bo.prototype),{constructor:_o,isSpotLightShadow:!0,update:function(t){var e=this.camera,n=2*_e.RAD2DEG*t.angle,r=this.mapSize.width/this.mapSize.height,i=t.distance||e.far;n===e.fov&&r===e.aspect&&i===e.far||(e.fov=n,e.aspect=r,e.far=i,e.updateProjectionMatrix())}}),wo.prototype=Object.assign(Object.create(yo.prototype),{constructor:wo,isSpotLight:!0,copy:function(t){return yo.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Mo.prototype=Object.assign(Object.create(yo.prototype),{constructor:Mo,isPointLight:!0,copy:function(t){return yo.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),Eo.prototype=Object.assign(Object.create(Vr.prototype),{constructor:Eo,isOrthographicCamera:!0,copy:function(t,e){return Vr.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-t,a=n+t,o=r+e,s=r-e;if(null!==this.view&&this.view.enabled){var c=this.zoom/(this.view.width/this.view.fullWidth),h=this.zoom/(this.view.height/this.view.fullHeight),l=(this.right-this.left)/this.view.width,u=(this.top-this.bottom)/this.view.height;a=(i+=l*(this.view.offsetX/c))+l*(this.view.width/c),s=(o-=u*(this.view.offsetY/h))-u*(this.view.height/h)}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=Je.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),To.prototype=Object.assign(Object.create(bo.prototype),{constructor:To}),So.prototype=Object.assign(Object.create(yo.prototype),{constructor:So,isDirectionalLight:!0,copy:function(t){return yo.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),Ao.prototype=Object.assign(Object.create(yo.prototype),{constructor:Ao,isAmbientLight:!0}),Lo.prototype=Object.assign(Object.create(yo.prototype),{constructor:Lo,isRectAreaLight:!0,copy:function(t){return yo.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=yo.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});var Ro={arraySlice:function(t,e,n){return Ro.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:\"number\"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*e,c=0;c!==e;++c)i[o++]=t[s+c];return i},flattenJSON:function(t,e,n,r){for(var i=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),n.push.apply(n,o)),a=t[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),n.push(o)),a=t[i++]}while(void 0!==a)}}};function Po(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function Co(t,e,n,r){Po.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Oo(t,e,n,r){Po.call(this,t,e,n,r)}function Io(t,e,n,r){Po.call(this,t,e,n,r)}function No(t,e,n,r){if(void 0===t)throw new Error(\"THREE.KeyframeTrack: track name is undefined\");if(void 0===e||0===e.length)throw new Error(\"THREE.KeyframeTrack: no keyframes in track named \"+t);this.name=t,this.times=Ro.convertArray(e,this.TimeBufferType),this.values=Ro.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Do(t,e,n){No.call(this,t,e,n)}function Uo(t,e,n,r){No.call(this,t,e,n,r)}function Bo(t,e,n,r){No.call(this,t,e,n,r)}function Fo(t,e,n,r){Po.call(this,t,e,n,r)}function zo(t,e,n,r){No.call(this,t,e,n,r)}function Ho(t,e,n,r){No.call(this,t,e,n,r)}function Go(t,e,n,r){No.call(this,t,e,n,r)}function Vo(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=_e.generateUUID(),this.duration<0&&this.resetDuration()}function ko(t){if(void 0===t.type)throw new Error(\"THREE.KeyframeTrack: track type undefined, can not parse\");var e=function(t){switch(t.toLowerCase()){case\"scalar\":case\"double\":case\"float\":case\"number\":case\"integer\":return Bo;case\"vector\":case\"vector2\":case\"vector3\":case\"vector4\":return Go;case\"color\":return Uo;case\"quaternion\":return zo;case\"bool\":case\"boolean\":return Do;case\"string\":return Ho}throw new Error(\"THREE.KeyframeTrack: Unsupported typeName: \"+t)}(t.type);if(void 0===t.times){var n=[],r=[];Ro.flattenJSON(t.keys,n,r,\"value\"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}function jo(t){this.manager=void 0!==t?t:Ha,this.textures={}}function Wo(t){this.manager=void 0!==t?t:Ha}Object.assign(Po.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var a;n:{r:if(!(t<r)){for(var o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,t<(r=e[++n]))break e}a=e.length;break n}if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,t>=(i=e[--n-1]))break e}a=n,n=0}for(;n<a;){var c=n+a>>>1;t<e[c]?a=c:n=c+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,a=0;a!==r;++a)e[a]=n[i+a];return e},interpolate_:function(){throw new Error(\"call to abstract method\")},intervalChanged_:function(){}}),//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign(Po.prototype,{beforeStart_:Po.prototype.copySampleValue_,afterEnd_:Po.prototype.copySampleValue_}),Co.prototype=Object.assign(Object.create(Po.prototype),{constructor:Co,DefaultSettings_:{endingStart:oe,endingEnd:oe},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:i=t,o=2*e-n;break;case 2402:o=e+r[i=r.length-2]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:a=t,s=2*n-e;break;case 2402:a=1,s=n+r[1]-r[0];break;default:a=t-1,s=e}var c=.5*(n-e),h=this.valueSize;this._weightPrev=c/(e-o),this._weightNext=c/(s-n),this._offsetPrev=i*h,this._offsetNext=a*h},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=this._offsetPrev,l=this._offsetNext,u=this._weightPrev,p=this._weightNext,d=(n-e)/(r-e),f=d*d,m=f*d,g=-u*m+2*u*f-u*d,v=(1+u)*m+(-1.5-2*u)*f+(-.5+u)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,x=p*m-p*f,b=0;b!==o;++b)i[b]=g*a[h+b]+v*a[c+b]+y*a[s+b]+x*a[l+b];return i}}),Oo.prototype=Object.assign(Object.create(Po.prototype),{constructor:Oo,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=s-o,h=(n-e)/(r-e),l=1-h,u=0;u!==o;++u)i[u]=a[c+u]*l+a[s+u]*h;return i}}),Io.prototype=Object.assign(Object.create(Po.prototype),{constructor:Io,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(No,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:Ro.convertArray(t.times,Array),values:Ro.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e}}),Object.assign(No.prototype,{constructor:No,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Io(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new Oo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new Co(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n=\"unsupported interpolation for \"+this.ValueTypeName+\" keyframe track named \"+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn(\"THREE.KeyframeTrack:\",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ro.arraySlice(n,i,a),this.values=Ro.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error(\"THREE.KeyframeTrack: Invalid value size in track.\",this),t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error(\"THREE.KeyframeTrack: Track is empty.\",this),t=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if(\"number\"==typeof s&&isNaN(s)){console.error(\"THREE.KeyframeTrack: Time is not a valid number.\",this,o,s),t=!1;break}if(null!==a&&a>s){console.error(\"THREE.KeyframeTrack: Out of order keys.\",this,o,s,a),t=!1;break}a=s}if(void 0!==r&&Ro.isTypedArray(r)){o=0;for(var c=r.length;o!==c;++o){var h=r[o];if(isNaN(h)){console.error(\"THREE.KeyframeTrack: Value is not a valid number.\",this,o,h),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=2302===this.getInterpolation(),i=1,a=t.length-1,o=1;o<a;++o){var s=!1,c=t[o];if(c!==t[o+1]&&(1!==o||c!==c[0]))if(r)s=!0;else for(var h=o*n,l=h-n,u=h+n,p=0;p!==n;++p){var d=e[h+p];if(d!==e[l+p]||d!==e[u+p]){s=!0;break}}if(s){if(o!==i){t[i]=t[o];var f=o*n,m=i*n;for(p=0;p!==n;++p)e[m+p]=e[f+p]}++i}}if(a>0){t[i]=t[a];for(f=a*n,m=i*n,p=0;p!==n;++p)e[m+p]=e[f+p];++i}return i!==t.length&&(this.times=Ro.arraySlice(t,0,i),this.values=Ro.arraySlice(e,0,i*n)),this}}),Do.prototype=Object.assign(Object.create(No.prototype),{constructor:Do,ValueTypeName:\"bool\",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Uo.prototype=Object.assign(Object.create(No.prototype),{constructor:Uo,ValueTypeName:\"color\"}),Bo.prototype=Object.assign(Object.create(No.prototype),{constructor:Bo,ValueTypeName:\"number\"}),Fo.prototype=Object.assign(Object.create(Po.prototype),{constructor:Fo,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,c=(n-e)/(r-e),h=s+o;s!==h;s+=4)Ee.slerpFlat(i,0,a,s-o,a,s,c);return i}}),zo.prototype=Object.assign(Object.create(No.prototype),{constructor:zo,ValueTypeName:\"quaternion\",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new Fo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Ho.prototype=Object.assign(Object.create(No.prototype),{constructor:Ho,ValueTypeName:\"string\",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Go.prototype=Object.assign(Object.create(No.prototype),{constructor:Go,ValueTypeName:\"vector\"}),Object.assign(Vo,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,a=n.length;i!==a;++i)e.push(ko(n[i]).scale(r));return new Vo(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},i=0,a=n.length;i!==a;++i)e.push(No.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,a=[],o=0;o<i;o++){var s=[],c=[];s.push((o+i-1)%i,o,(o+1)%i),c.push(0,1,0);var h=Ro.getKeyframeOrder(s);s=Ro.sortedArray(s,1,h),c=Ro.sortedArray(c,1,h),r||0!==s[0]||(s.push(i),c.push(c[0])),a.push(new Bo(\".morphTargetInfluences[\"+e[o].name+\"]\",s,c).scale(1/n))}return new Vo(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\\w-]*?)([\\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],c=s.name.match(i);if(c&&c.length>1){var h=r[u=c[1]];h||(r[u]=h=[]),h.push(s)}}var l=[];for(var u in r)l.push(Vo.CreateFromMorphTargetSequence(u,r[u],e,n));return l},parseAnimation:function(t,e){if(!t)return console.error(\"THREE.AnimationClip: No animation in JSONLoader data.\"),null;for(var n=function(t,e,n,r,i){if(0!==n.length){var a=[],o=[];Ro.flattenJSON(n,a,o,r),0!==a.length&&i.push(new t(e,a,o))}},r=[],i=t.name||\"default\",a=t.length||-1,o=t.fps||30,s=t.hierarchy||[],c=0;c<s.length;c++){var h=s[c].keys;if(h&&0!==h.length)if(h[0].morphTargets){for(var l={},u=0;u<h.length;u++)if(h[u].morphTargets)for(var p=0;p<h[u].morphTargets.length;p++)l[h[u].morphTargets[p]]=-1;for(var d in l){var f=[],m=[];for(p=0;p!==h[u].morphTargets.length;++p){var g=h[u];f.push(g.time),m.push(g.morphTarget===d?1:0)}r.push(new Bo(\".morphTargetInfluence[\"+d+\"]\",f,m))}a=l.length*(o||1)}else{var v=\".bones[\"+e[c].name+\"]\";n(Go,v+\".position\",h,\"pos\",r),n(zo,v+\".quaternion\",h,\"rot\",r),n(Go,v+\".scale\",h,\"scl\",r)}}return 0===r.length?null:new Vo(i,a,r)}}),Object.assign(Vo.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}}),Object.assign(jo.prototype,{load:function(t,e,n,r){var i=this;new Va(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},setTextures:function(t){this.textures=t},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn(\"THREE.MaterialLoader: Undefined texture\",t),e[t]}var r=new Ba[t.type];if(void 0!==t.uuid&&(r.uuid=t.uuid),void 0!==t.name&&(r.name=t.name),void 0!==t.color&&r.color.setHex(t.color),void 0!==t.roughness&&(r.roughness=t.roughness),void 0!==t.metalness&&(r.metalness=t.metalness),void 0!==t.emissive&&r.emissive.setHex(t.emissive),void 0!==t.specular&&r.specular.setHex(t.specular),void 0!==t.shininess&&(r.shininess=t.shininess),void 0!==t.clearCoat&&(r.clearCoat=t.clearCoat),void 0!==t.clearCoatRoughness&&(r.clearCoatRoughness=t.clearCoatRoughness),void 0!==t.vertexColors&&(r.vertexColors=t.vertexColors),void 0!==t.fog&&(r.fog=t.fog),void 0!==t.flatShading&&(r.flatShading=t.flatShading),void 0!==t.blending&&(r.blending=t.blending),void 0!==t.combine&&(r.combine=t.combine),void 0!==t.side&&(r.side=t.side),void 0!==t.opacity&&(r.opacity=t.opacity),void 0!==t.transparent&&(r.transparent=t.transparent),void 0!==t.alphaTest&&(r.alphaTest=t.alphaTest),void 0!==t.depthTest&&(r.depthTest=t.depthTest),void 0!==t.depthWrite&&(r.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(r.colorWrite=t.colorWrite),void 0!==t.wireframe&&(r.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(r.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(r.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(r.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(r.rotation=t.rotation),1!==t.linewidth&&(r.linewidth=t.linewidth),void 0!==t.dashSize&&(r.dashSize=t.dashSize),void 0!==t.gapSize&&(r.gapSize=t.gapSize),void 0!==t.scale&&(r.scale=t.scale),void 0!==t.polygonOffset&&(r.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(r.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(r.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(r.skinning=t.skinning),void 0!==t.morphTargets&&(r.morphTargets=t.morphTargets),void 0!==t.dithering&&(r.dithering=t.dithering),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.uniforms)for(var i in t.uniforms){var a=t.uniforms[i];switch(r.uniforms[i]={},a.type){case\"t\":r.uniforms[i].value=n(a.value);break;case\"c\":r.uniforms[i].value=(new Ge).setHex(a.value);break;case\"v2\":r.uniforms[i].value=(new we).fromArray(a.value);break;case\"v3\":r.uniforms[i].value=(new Te).fromArray(a.value);break;case\"v4\":r.uniforms[i].value=(new Pe).fromArray(a.value);break;case\"m4\":r.uniforms[i].value=(new Me).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==t.defines&&(r.defines=t.defines),void 0!==t.vertexShader&&(r.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(r.fragmentShader=t.fragmentShader),void 0!==t.shading&&(r.flatShading=1===t.shading),void 0!==t.size&&(r.size=t.size),void 0!==t.sizeAttenuation&&(r.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(r.map=n(t.map)),void 0!==t.alphaMap&&(r.alphaMap=n(t.alphaMap),r.transparent=!0),void 0!==t.bumpMap&&(r.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(r.bumpScale=t.bumpScale),void 0!==t.normalMap&&(r.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(r.normalMapType=t.normalMapType),void 0!==t.normalScale){var o=t.normalScale;!1===Array.isArray(o)&&(o=[o,o]),r.normalScale=(new we).fromArray(o)}return void 0!==t.displacementMap&&(r.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(r.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(r.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(r.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(r.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(r.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(r.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(r.specularMap=n(t.specularMap)),void 0!==t.envMap&&(r.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(r.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(r.reflectivity=t.reflectivity),void 0!==t.lightMap&&(r.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(r.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(r.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(r.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(r.gradientMap=n(t.gradientMap)),r}}),Object.assign(Wo.prototype,{load:function(t,e,n,r){var i=this;new Va(i.manager).load(t,function(t){e(i.parse(JSON.parse(t)))},n,r)},parse:function(t){var e=new dn,n=t.data.index;if(void 0!==n){var r=new Xo[n.type](n.array);e.setIndex(new $e(r,1))}var i=t.data.attributes;for(var a in i){var o=i[a];r=new Xo[o.type](o.array);e.addAttribute(a,new $e(r,o.itemSize,o.normalized))}var s=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==s)for(var c=0,h=s.length;c!==h;++c){var l=s[c];e.addGroup(l.start,l.count,l.materialIndex)}var u=t.data.boundingSphere;if(void 0!==u){var p=new Te;void 0!==u.center&&p.fromArray(u.center),e.boundingSphere=new De(p,u.radius)}return e}});var Xo={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:\"undefined\"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function qo(){}qo.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],a=e[n+1];if(i.test(t))return a}return null}},Object.assign(qo.prototype,{crossOrigin:\"anonymous\",onLoadStart:function(){},onLoadProgress:function(){},onLoadComplete:function(){},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(){var t={NoBlending:m,NormalBlending:g,AdditiveBlending:v,SubtractiveBlending:y,MultiplyBlending:x,CustomBlending:b},e=new Ge,n=new qa,r=new jo;return function(i,a,o){var s={};function c(t,e,r,i,c){var h,l=a+t,u=qo.Handlers.get(l);null!==u?h=u.load(l):(n.setCrossOrigin(o),h=n.load(l)),void 0!==e&&(h.repeat.fromArray(e),1!==e[0]&&(h.wrapS=ot),1!==e[1]&&(h.wrapT=ot)),void 0!==r&&h.offset.fromArray(r),void 0!==i&&(\"repeat\"===i[0]&&(h.wrapS=ot),\"mirror\"===i[0]&&(h.wrapS=ct),\"repeat\"===i[1]&&(h.wrapT=ot),\"mirror\"===i[1]&&(h.wrapT=ct)),void 0!==c&&(h.anisotropy=c);var p=_e.generateUUID();return s[p]=h,p}var h={uuid:_e.generateUUID(),type:\"MeshLambertMaterial\"};for(var p in i){var m=i[p];switch(p){case\"DbgColor\":case\"DbgIndex\":case\"opticalDensity\":case\"illumination\":break;case\"DbgName\":h.name=m;break;case\"blending\":h.blending=t[m];break;case\"colorAmbient\":case\"mapAmbient\":console.warn(\"THREE.Loader.createMaterial:\",p,\"is no longer supported.\");break;case\"colorDiffuse\":h.color=e.fromArray(m).getHex();break;case\"colorSpecular\":h.specular=e.fromArray(m).getHex();break;case\"colorEmissive\":h.emissive=e.fromArray(m).getHex();break;case\"specularCoef\":h.shininess=m;break;case\"shading\":\"basic\"===m.toLowerCase()&&(h.type=\"MeshBasicMaterial\"),\"phong\"===m.toLowerCase()&&(h.type=\"MeshPhongMaterial\"),\"standard\"===m.toLowerCase()&&(h.type=\"MeshStandardMaterial\");break;case\"mapDiffuse\":h.map=c(m,i.mapDiffuseRepeat,i.mapDiffuseOffset,i.mapDiffuseWrap,i.mapDiffuseAnisotropy);break;case\"mapDiffuseRepeat\":case\"mapDiffuseOffset\":case\"mapDiffuseWrap\":case\"mapDiffuseAnisotropy\":break;case\"mapEmissive\":h.emissiveMap=c(m,i.mapEmissiveRepeat,i.mapEmissiveOffset,i.mapEmissiveWrap,i.mapEmissiveAnisotropy);break;case\"mapEmissiveRepeat\":case\"mapEmissiveOffset\":case\"mapEmissiveWrap\":case\"mapEmissiveAnisotropy\":break;case\"mapLight\":h.lightMap=c(m,i.mapLightRepeat,i.mapLightOffset,i.mapLightWrap,i.mapLightAnisotropy);break;case\"mapLightRepeat\":case\"mapLightOffset\":case\"mapLightWrap\":case\"mapLightAnisotropy\":break;case\"mapAO\":h.aoMap=c(m,i.mapAORepeat,i.mapAOOffset,i.mapAOWrap,i.mapAOAnisotropy);break;case\"mapAORepeat\":case\"mapAOOffset\":case\"mapAOWrap\":case\"mapAOAnisotropy\":break;case\"mapBump\":h.bumpMap=c(m,i.mapBumpRepeat,i.mapBumpOffset,i.mapBumpWrap,i.mapBumpAnisotropy);break;case\"mapBumpScale\":h.bumpScale=m;break;case\"mapBumpRepeat\":case\"mapBumpOffset\":case\"mapBumpWrap\":case\"mapBumpAnisotropy\":break;case\"mapNormal\":h.normalMap=c(m,i.mapNormalRepeat,i.mapNormalOffset,i.mapNormalWrap,i.mapNormalAnisotropy);break;case\"mapNormalFactor\":h.normalScale=m;break;case\"mapNormalRepeat\":case\"mapNormalOffset\":case\"mapNormalWrap\":case\"mapNormalAnisotropy\":break;case\"mapSpecular\":h.specularMap=c(m,i.mapSpecularRepeat,i.mapSpecularOffset,i.mapSpecularWrap,i.mapSpecularAnisotropy);break;case\"mapSpecularRepeat\":case\"mapSpecularOffset\":case\"mapSpecularWrap\":case\"mapSpecularAnisotropy\":break;case\"mapMetalness\":h.metalnessMap=c(m,i.mapMetalnessRepeat,i.mapMetalnessOffset,i.mapMetalnessWrap,i.mapMetalnessAnisotropy);break;case\"mapMetalnessRepeat\":case\"mapMetalnessOffset\":case\"mapMetalnessWrap\":case\"mapMetalnessAnisotropy\":break;case\"mapRoughness\":h.roughnessMap=c(m,i.mapRoughnessRepeat,i.mapRoughnessOffset,i.mapRoughnessWrap,i.mapRoughnessAnisotropy);break;case\"mapRoughnessRepeat\":case\"mapRoughnessOffset\":case\"mapRoughnessWrap\":case\"mapRoughnessAnisotropy\":break;case\"mapAlpha\":h.alphaMap=c(m,i.mapAlphaRepeat,i.mapAlphaOffset,i.mapAlphaWrap,i.mapAlphaAnisotropy);break;case\"mapAlphaRepeat\":case\"mapAlphaOffset\":case\"mapAlphaWrap\":case\"mapAlphaAnisotropy\":break;case\"flipSided\":h.side=l;break;case\"doubleSided\":h.side=u;break;case\"transparency\":console.warn(\"THREE.Loader.createMaterial: transparency has been renamed to opacity\"),h.opacity=m;break;case\"depthTest\":case\"depthWrite\":case\"colorWrite\":case\"opacity\":case\"reflectivity\":case\"transparent\":case\"visible\":case\"wireframe\":h[p]=m;break;case\"vertexColors\":!0===m&&(h.vertexColors=f),\"face\"===m&&(h.vertexColors=d);break;default:console.error(\"THREE.Loader.createMaterial: Unsupported\",p,m)}}return\"MeshBasicMaterial\"===h.type&&delete h.emissive,\"MeshPhongMaterial\"!==h.type&&delete h.specular,h.opacity<1&&(h.transparent=!0),r.setTextures(s),r.parse(h)}}()});var Yo={decodeText:function(t){if(\"undefined\"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e=\"\",n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);return decodeURIComponent(escape(e))},extractUrlBase:function(t){var e=t.lastIndexOf(\"/\");return-1===e?\"./\":t.substr(0,e+1)}};function Zo(t){\"boolean\"==typeof t&&(console.warn(\"THREE.JSONLoader: showStatus parameter has been removed from constructor.\"),t=void 0),this.manager=void 0!==t?t:Ha,this.withCredentials=!1}function Jo(t){this.manager=void 0!==t?t:Ha,this.texturePath=\"\"}Object.assign(Zo.prototype,{crossOrigin:\"anonymous\",load:function(t,e,n,r){var i=this,a=void 0===this.path?Yo.extractUrlBase(t):this.path,o=new Va(this.manager);o.setPath(this.path),o.setWithCredentials(this.withCredentials),o.load(t,function(n){var r=JSON.parse(n),o=r.metadata;if(void 0!==o){var s=o.type;if(void 0!==s&&\"object\"===s.toLowerCase())return void console.error(\"THREE.JSONLoader: \"+t+\" should be loaded with THREE.ObjectLoader instead.\")}var c=i.parse(r,a);e(c.geometry,c.materials)},n,r)},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(){return function(t,e){void 0!==t.data&&(t=t.data),void 0!==t.scale?t.scale=1/t.scale:t.scale=1;var n=new Ke;return function(t,e){function n(t,e){return t&1<<e}var r,i,a,o,s,c,h,l,u,p,d,f,m,g,v,y,x,b,_,w,M,E,T,S,A,L=t.faces,R=t.vertices,P=t.normals,C=t.colors,O=t.scale,I=0;if(void 0!==t.uvs){for(r=0;r<t.uvs.length;r++)t.uvs[r].length&&I++;for(r=0;r<I;r++)e.faceVertexUvs[r]=[]}for(o=0,s=R.length;o<s;)(b=new Te).x=R[o++]*O,b.y=R[o++]*O,b.z=R[o++]*O,e.vertices.push(b);for(o=0,s=L.length;o<s;)if(d=n(p=L[o++],0),f=n(p,1),m=n(p,3),g=n(p,4),v=n(p,5),y=n(p,6),x=n(p,7),d){if((w=new Xe).a=L[o],w.b=L[o+1],w.c=L[o+3],(M=new Xe).a=L[o+1],M.b=L[o+2],M.c=L[o+3],o+=4,f&&(u=L[o++],w.materialIndex=u,M.materialIndex=u),a=e.faces.length,m)for(r=0;r<I;r++)for(S=t.uvs[r],e.faceVertexUvs[r][a]=[],e.faceVertexUvs[r][a+1]=[],i=0;i<4;i++)A=new we(S[2*(l=L[o++])],S[2*l+1]),2!==i&&e.faceVertexUvs[r][a].push(A),0!==i&&e.faceVertexUvs[r][a+1].push(A);if(g&&(h=3*L[o++],w.normal.set(P[h++],P[h++],P[h]),M.normal.copy(w.normal)),v)for(r=0;r<4;r++)h=3*L[o++],T=new Te(P[h++],P[h++],P[h]),2!==r&&w.vertexNormals.push(T),0!==r&&M.vertexNormals.push(T);if(y&&(E=C[c=L[o++]],w.color.setHex(E),M.color.setHex(E)),x)for(r=0;r<4;r++)E=C[c=L[o++]],2!==r&&w.vertexColors.push(new Ge(E)),0!==r&&M.vertexColors.push(new Ge(E));e.faces.push(w),e.faces.push(M)}else{if((_=new Xe).a=L[o++],_.b=L[o++],_.c=L[o++],f&&(u=L[o++],_.materialIndex=u),a=e.faces.length,m)for(r=0;r<I;r++)for(S=t.uvs[r],e.faceVertexUvs[r][a]=[],i=0;i<3;i++)A=new we(S[2*(l=L[o++])],S[2*l+1]),e.faceVertexUvs[r][a].push(A);if(g&&(h=3*L[o++],_.normal.set(P[h++],P[h++],P[h])),v)for(r=0;r<3;r++)h=3*L[o++],T=new Te(P[h++],P[h++],P[h]),_.vertexNormals.push(T);if(y&&(c=L[o++],_.color.setHex(C[c])),x)for(r=0;r<3;r++)c=L[o++],_.vertexColors.push(new Ge(C[c]));e.faces.push(_)}}(t,n),function(t,e){var n=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=n){var a=t.skinWeights[r],o=n>1?t.skinWeights[r+1]:0,s=n>2?t.skinWeights[r+2]:0,c=n>3?t.skinWeights[r+3]:0;e.skinWeights.push(new Pe(a,o,s,c))}if(t.skinIndices)for(r=0,i=t.skinIndices.length;r<i;r+=n){var h=t.skinIndices[r],l=n>1?t.skinIndices[r+1]:0,u=n>2?t.skinIndices[r+2]:0,p=n>3?t.skinIndices[r+3]:0;e.skinIndices.push(new Pe(h,l,u,p))}e.bones=t.bones,e.bones&&e.bones.length>0&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn(\"When skinning, number of vertices (\"+e.vertices.length+\"), skinIndices (\"+e.skinIndices.length+\"), and skinWeights (\"+e.skinWeights.length+\") should match.\")}(t,n),function(t,e){var n=t.scale;if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){e.morphTargets[r]={},e.morphTargets[r].name=t.morphTargets[r].name,e.morphTargets[r].vertices=[];for(var a=e.morphTargets[r].vertices,o=t.morphTargets[r].vertices,s=0,c=o.length;s<c;s+=3){var h=new Te;h.x=o[s]*n,h.y=o[s+1]*n,h.z=o[s+2]*n,a.push(h)}}if(void 0!==t.morphColors&&t.morphColors.length>0){console.warn('THREE.JSONLoader: \"morphColors\" no longer supported. Using them as face colors.');var l=e.faces,u=t.morphColors[0].colors;for(r=0,i=l.length;r<i;r++)l[r].color.fromArray(u,3*r)}}(t,n),function(t,e){var n=[],r=[];void 0!==t.animation&&r.push(t.animation),void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var a=Vo.parseAnimation(r[i],e.bones);a&&n.push(a)}if(e.morphTargets){var o=Vo.CreateClipsFromMorphTargetSequences(e.morphTargets,10);n=n.concat(o)}n.length>0&&(e.animations=n)}(t,n),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length?{geometry:n}:{geometry:n,materials:qo.prototype.initMaterials(t.materials,this.resourcePath||e,this.crossOrigin)}}}()}),Object.assign(Jo.prototype,{crossOrigin:\"anonymous\",load:function(t,e,n,r){\"\"===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf(\"/\")+1));var i=this;new Va(i.manager).load(t,function(n){var a=null;try{a=JSON.parse(n)}catch(e){return void 0!==r&&r(e),void console.error(\"THREE:ObjectLoader: Can't parse \"+t+\".\",e.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&\"geometry\"!==o.type.toLowerCase()?i.parse(a,e):console.error(\"THREE.ObjectLoader: Can't load \"+t+\". Use THREE.JSONLoader instead.\")},n,r)},setTexturePath:function(t){return this.texturePath=t,this},setCrossOrigin:function(t){return this.crossOrigin=t,this},parse:function(t,e){var n=this.parseShape(t.shapes),r=this.parseGeometries(t.geometries,n),i=this.parseImages(t.images,function(){void 0!==e&&e(s)}),a=this.parseTextures(t.textures,i),o=this.parseMaterials(t.materials,a),s=this.parseObject(t.object,r,o);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,r=t.length;n<r;n++){var i=(new vo).fromJSON(t[n]);e[i.uuid]=i}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var r=new Zo,i=new Wo,a=0,o=t.length;a<o;a++){var s,c=t[a];switch(c.type){case\"PlaneGeometry\":case\"PlaneBufferGeometry\":s=new Sa[c.type](c.width,c.height,c.widthSegments,c.heightSegments);break;case\"BoxGeometry\":case\"BoxBufferGeometry\":case\"CubeGeometry\":s=new Sa[c.type](c.width,c.height,c.depth,c.widthSegments,c.heightSegments,c.depthSegments);break;case\"CircleGeometry\":case\"CircleBufferGeometry\":s=new Sa[c.type](c.radius,c.segments,c.thetaStart,c.thetaLength);break;case\"CylinderGeometry\":case\"CylinderBufferGeometry\":s=new Sa[c.type](c.radiusTop,c.radiusBottom,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case\"ConeGeometry\":case\"ConeBufferGeometry\":s=new Sa[c.type](c.radius,c.height,c.radialSegments,c.heightSegments,c.openEnded,c.thetaStart,c.thetaLength);break;case\"SphereGeometry\":case\"SphereBufferGeometry\":s=new Sa[c.type](c.radius,c.widthSegments,c.heightSegments,c.phiStart,c.phiLength,c.thetaStart,c.thetaLength);break;case\"DodecahedronGeometry\":case\"DodecahedronBufferGeometry\":case\"IcosahedronGeometry\":case\"IcosahedronBufferGeometry\":case\"OctahedronGeometry\":case\"OctahedronBufferGeometry\":case\"TetrahedronGeometry\":case\"TetrahedronBufferGeometry\":s=new Sa[c.type](c.radius,c.detail);break;case\"RingGeometry\":case\"RingBufferGeometry\":s=new Sa[c.type](c.innerRadius,c.outerRadius,c.thetaSegments,c.phiSegments,c.thetaStart,c.thetaLength);break;case\"TorusGeometry\":case\"TorusBufferGeometry\":s=new Sa[c.type](c.radius,c.tube,c.radialSegments,c.tubularSegments,c.arc);break;case\"TorusKnotGeometry\":case\"TorusKnotBufferGeometry\":s=new Sa[c.type](c.radius,c.tube,c.tubularSegments,c.radialSegments,c.p,c.q);break;case\"LatheGeometry\":case\"LatheBufferGeometry\":s=new Sa[c.type](c.points,c.segments,c.phiStart,c.phiLength);break;case\"PolyhedronGeometry\":case\"PolyhedronBufferGeometry\":s=new Sa[c.type](c.vertices,c.indices,c.radius,c.details);break;case\"ShapeGeometry\":case\"ShapeBufferGeometry\":for(var h=[],l=0,u=c.shapes.length;l<u;l++){var p=e[c.shapes[l]];h.push(p)}s=new Sa[c.type](h,c.curveSegments);break;case\"ExtrudeGeometry\":case\"ExtrudeBufferGeometry\":for(h=[],l=0,u=c.shapes.length;l<u;l++){p=e[c.shapes[l]];h.push(p)}var d=c.options.extrudePath;void 0!==d&&(c.options.extrudePath=(new fo[d.type]).fromJSON(d)),s=new Sa[c.type](h,c.options);break;case\"BufferGeometry\":s=i.parse(c);break;case\"Geometry\":s=r.parse(c,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type \"'+c.type+'\"');continue}s.uuid=c.uuid,void 0!==c.name&&(s.name=c.name),!0===s.isBufferGeometry&&void 0!==c.userData&&(s.userData=c.userData),n[c.uuid]=s}return n},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new jo;r.setTextures(e);for(var i=0,a=t.length;i<a;i++){var o=t[i];if(\"MultiMaterial\"===o.type){for(var s=[],c=0;c<o.materials.length;c++)s.push(r.parse(o.materials[c]));n[o.uuid]=s}else n[o.uuid]=r.parse(o)}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=Vo.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),e.push(i)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),a.load(t,function(){n.manager.itemEnd(t)},void 0,function(){n.manager.itemEnd(t),n.manager.itemError(t)})}if(void 0!==t&&t.length>0){var a=new Wa(new za(e));a.setCrossOrigin(this.crossOrigin);for(var o=0,s=t.length;o<s;o++){var c=t[o],h=c.url;if(Array.isArray(h)){r[c.uuid]=[];for(var l=0,u=h.length;l<u;l++){var p=h[l],d=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(p)?p:n.texturePath+p;r[c.uuid].push(i(d))}}else{d=/^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(c.url)?c.url:n.texturePath+c.url;r[c.uuid]=i(d)}}}return r},parseTextures:function(t,e){function n(t,e){return\"number\"==typeof t?t:(console.warn(\"THREE.ObjectLoader.parseTexture: Constant should be in numeric form.\",t),e[t])}var r={};if(void 0!==t)for(var i=0,a=t.length;i<a;i++){var o,s=t[i];void 0===s.image&&console.warn('THREE.ObjectLoader: No \"image\" specified for',s.uuid),void 0===e[s.image]&&console.warn(\"THREE.ObjectLoader: Undefined image\",s.image),(o=Array.isArray(e[s.image])?new Sn(e[s.image]):new Re(e[s.image])).needsUpdate=!0,o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),void 0!==s.mapping&&(o.mapping=n(s.mapping,Ko)),void 0!==s.offset&&o.offset.fromArray(s.offset),void 0!==s.repeat&&o.repeat.fromArray(s.repeat),void 0!==s.center&&o.center.fromArray(s.center),void 0!==s.rotation&&(o.rotation=s.rotation),void 0!==s.wrap&&(o.wrapS=n(s.wrap[0],$o),o.wrapT=n(s.wrap[1],$o)),void 0!==s.format&&(o.format=s.format),void 0!==s.minFilter&&(o.minFilter=n(s.minFilter,ts)),void 0!==s.magFilter&&(o.magFilter=n(s.magFilter,ts)),void 0!==s.anisotropy&&(o.anisotropy=s.anisotropy),void 0!==s.flipY&&(o.flipY=s.flipY),r[s.uuid]=o}return r},parseObject:function(t,e,n){var r;function i(t){return void 0===e[t]&&console.warn(\"THREE.ObjectLoader: Undefined geometry\",t),e[t]}function a(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],r=0,i=t.length;r<i;r++){var a=t[r];void 0===n[a]&&console.warn(\"THREE.ObjectLoader: Undefined material\",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn(\"THREE.ObjectLoader: Undefined material\",t),n[t]}}switch(t.type){case\"Scene\":r=new Zr,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new Ge(t.background)),void 0!==t.fog&&(\"Fog\"===t.fog.type?r.fog=new Yr(t.fog.color,t.fog.near,t.fog.far):\"FogExp2\"===t.fog.type&&(r.fog=new qr(t.fog.color,t.fog.density)));break;case\"PerspectiveCamera\":r=new kr(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case\"OrthographicCamera\":r=new Eo(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case\"AmbientLight\":r=new Ao(t.color,t.intensity);break;case\"DirectionalLight\":r=new So(t.color,t.intensity);break;case\"PointLight\":r=new Mo(t.color,t.intensity,t.distance,t.decay);break;case\"RectAreaLight\":r=new Lo(t.color,t.intensity,t.width,t.height);break;case\"SpotLight\":r=new wo(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case\"HemisphereLight\":r=new xo(t.color,t.groundColor,t.intensity);break;case\"SkinnedMesh\":console.warn(\"THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.\");case\"Mesh\":var o=i(t.geometry),s=a(t.material);r=o.bones&&o.bones.length>0?new ri(o,s):new En(o,s);break;case\"LOD\":r=new ti;break;case\"Line\":r=new ai(i(t.geometry),a(t.material),t.mode);break;case\"LineLoop\":r=new si(i(t.geometry),a(t.material));break;case\"LineSegments\":r=new oi(i(t.geometry),a(t.material));break;case\"PointCloud\":case\"Points\":r=new hi(i(t.geometry),a(t.material));break;case\"Sprite\":r=new $r(a(t.material));break;case\"Group\":r=new Gr;break;default:r=new Je}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,h=0;h<c.length;h++)r.add(this.parseObject(c[h],e,n));if(\"LOD\"===t.type)for(var l=t.levels,u=0;u<l.length;u++){var p=l[u],d=r.getObjectByProperty(\"uuid\",p.object);void 0!==d&&r.addLevel(d,p.distance)}return r}});var Qo,Ko={UVMapping:300,CubeReflectionMapping:$,CubeRefractionMapping:tt,EquirectangularReflectionMapping:et,EquirectangularRefractionMapping:nt,SphericalReflectionMapping:rt,CubeUVReflectionMapping:it,CubeUVRefractionMapping:at},$o={RepeatWrapping:ot,ClampToEdgeWrapping:st,MirroredRepeatWrapping:ct},ts={NearestFilter:ht,NearestMipMapNearestFilter:lt,NearestMipMapLinearFilter:ut,LinearFilter:pt,LinearMipMapNearestFilter:dt,LinearMipMapLinearFilter:ft};function es(t){\"undefined\"==typeof createImageBitmap&&console.warn(\"THREE.ImageBitmapLoader: createImageBitmap() not supported.\"),\"undefined\"==typeof fetch&&console.warn(\"THREE.ImageBitmapLoader: fetch() not supported.\"),this.manager=void 0!==t?t:Ha,this.options=void 0}function ns(){this.type=\"ShapePath\",this.color=new Ge,this.subPaths=[],this.currentPath=null}function rs(t){this.type=\"Font\",this.data=t}function is(t,e,n,r,i){var a=i.glyphs[t]||i.glyphs[\"?\"];if(a){var o,s,c,h,l,u,p,d,f=new ns;if(a.o)for(var m=a._cachedOutline||(a._cachedOutline=a.o.split(\" \")),g=0,v=m.length;g<v;){switch(m[g++]){case\"m\":o=m[g++]*e+n,s=m[g++]*e+r,f.moveTo(o,s);break;case\"l\":o=m[g++]*e+n,s=m[g++]*e+r,f.lineTo(o,s);break;case\"q\":c=m[g++]*e+n,h=m[g++]*e+r,l=m[g++]*e+n,u=m[g++]*e+r,f.quadraticCurveTo(l,u,c,h);break;case\"b\":c=m[g++]*e+n,h=m[g++]*e+r,l=m[g++]*e+n,u=m[g++]*e+r,p=m[g++]*e+n,d=m[g++]*e+r,f.bezierCurveTo(l,u,p,d,c,h)}}return{offsetX:a.ha*e,path:f}}}function as(t){this.manager=void 0!==t?t:Ha}es.prototype={constructor:es,setOptions:function(t){return this.options=t,this},load:function(t,e,n,r){void 0===t&&(t=\"\"),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var i=this,a=Fa.get(t);if(void 0!==a)return i.manager.itemStart(t),setTimeout(function(){e&&e(a),i.manager.itemEnd(t)},0),a;fetch(t).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,i.options)}).then(function(n){Fa.add(t,n),e&&e(n),i.manager.itemEnd(t)}).catch(function(e){r&&r(e),i.manager.itemEnd(t),i.manager.itemError(t)})},setCrossOrigin:function(){return this},setPath:function(t){return this.path=t,this}},Object.assign(ns.prototype,{moveTo:function(t,e){this.currentPath=new go,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,r){this.currentPath.quadraticCurveTo(t,e,n,r)},bezierCurveTo:function(t,e,n,r,i,a){this.currentPath.bezierCurveTo(t,e,n,r,i,a)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new vo;a.curves=i.curves,e.push(a)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],c=s.x-o.x,h=s.y-o.y;if(Math.abs(h)>Number.EPSILON){if(h<0&&(o=e[a],c=-c,s=e[i],h=-h),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var l=h*(t.x-o.x)-c*(t.y-o.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var i=ea.isClockWise,a=this.subPaths;if(0===a.length)return[];if(!0===e)return n(a);var o,s,c,h=[];if(1===a.length)return s=a[0],(c=new vo).curves=s.curves,h.push(c),h;var l=!i(a[0].getPoints());l=t?!l:l;var u,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=a.length;v<y;v++)o=i(u=(s=a[v]).getPoints()),(o=t?!o:o)?(!l&&f[g]&&g++,f[g]={s:new vo,p:u},f[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:u[0]});if(!f[0])return n(a);if(f.length>1){for(var x=!1,b=[],_=0,w=f.length;_<w;_++)d[_]=[];for(_=0,w=f.length;_<w;_++)for(var M=m[_],E=0;E<M.length;E++){for(var T=M[E],S=!0,A=0;A<f.length;A++)r(T.p,f[A].p)&&(_!==A&&b.push({froms:_,tos:A,hole:E}),S?(S=!1,d[A].push(T)):x=!0);S&&d[_].push(T)}b.length>0&&(x||(m=d))}v=0;for(var L=f.length;v<L;v++){c=f[v].s,h.push(c);for(var R=0,P=(p=m[v]).length;R<P;R++)c.holes.push(p[R].h)}return h}}),Object.assign(rs.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],r=function(t,e,n){for(var r=Array.from?Array.from(t):String(t).split(\"\"),i=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,o=[],s=0,c=0,h=0;h<r.length;h++){var l=r[h];if(\"\\n\"===l)s=0,c-=a;else{var u=is(l,i,s,c,n);s+=u.offsetX,o.push(u.path)}}return o}(t,e,this.data),i=0,a=r.length;i<a;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),Object.assign(as.prototype,{load:function(t,e,n,r){var i=this,a=new Va(this.manager);a.setPath(this.path),a.load(t,function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn(\"THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.\"),n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)},n,r)},parse:function(t){return new rs(t)},setPath:function(t){return this.path=t,this}});var os={getContext:function(){return void 0===Qo&&(Qo=new(window.AudioContext||window.webkitAudioContext)),Qo},setContext:function(t){Qo=t}};function ss(t){this.manager=void 0!==t?t:Ha}function cs(){this.type=\"StereoCamera\",this.aspect=1,this.eyeSep=.064,this.cameraL=new kr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new kr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}function hs(t,e,n){Je.call(this),this.type=\"CubeCamera\";var r=new kr(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new Te(1,0,0)),this.add(r);var i=new kr(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new Te(-1,0,0)),this.add(i);var a=new kr(90,1,t,e);a.up.set(0,0,1),a.lookAt(new Te(0,1,0)),this.add(a);var o=new kr(90,1,t,e);o.up.set(0,0,-1),o.lookAt(new Te(0,-1,0)),this.add(o);var s=new kr(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new Te(0,0,1)),this.add(s);var c=new kr(90,1,t,e);c.up.set(0,-1,0),c.lookAt(new Te(0,0,-1)),this.add(c);var h={format:Lt,magFilter:pt,minFilter:pt};this.renderTarget=new Oe(n,n,h),this.renderTarget.texture.name=\"CubeCamera\",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,a,n),n.activeCubeFace=3,t.render(e,o,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=h,n.activeCubeFace=5,t.render(e,c,n),t.setRenderTarget(null)},this.clear=function(t,e,n,r){for(var i=this.renderTarget,a=0;a<6;a++)i.activeCubeFace=a,t.setRenderTarget(i),t.clear(e,n,r);t.setRenderTarget(null)}}function ls(){Je.call(this),this.type=\"AudioListener\",this.context=os.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function us(t){Je.call(this),this.type=\"Audio\",this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType=\"empty\",this.filters=[]}function ps(t){us.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function ds(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function fs(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case\"quaternion\":r=this._slerp;break;case\"string\":case\"bool\":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Object.assign(ss.prototype,{load:function(t,e,n,r){var i=new Va(this.manager);i.setResponseType(\"arraybuffer\"),i.load(t,function(t){var n=t.slice(0);os.getContext().decodeAudioData(n,function(t){e(t)})},n,r)}}),Object.assign(cs.prototype,{update:function(){var t,e,n,r,i,a,o,s,c=new Me,h=new Me;return function(l){if(t!==this||e!==l.focus||n!==l.fov||r!==l.aspect*this.aspect||i!==l.near||a!==l.far||o!==l.zoom||s!==this.eyeSep){t=this,e=l.focus,n=l.fov,r=l.aspect*this.aspect,i=l.near,a=l.far,o=l.zoom;var u,p,d=l.projectionMatrix.clone(),f=(s=this.eyeSep/2)*i/e,m=i*Math.tan(_e.DEG2RAD*n*.5)/o;h.elements[12]=-s,c.elements[12]=s,u=-m*r+f,p=m*r+f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraL.projectionMatrix.copy(d),u=-m*r-f,p=m*r-f,d.elements[0]=2*i/(p-u),d.elements[8]=(p+u)/(p-u),this.cameraR.projectionMatrix.copy(d)}this.cameraL.matrixWorld.copy(l.matrixWorld).multiply(h),this.cameraR.matrixWorld.copy(l.matrixWorld).multiply(c)}}()}),hs.prototype=Object.create(Je.prototype),hs.prototype.constructor=hs,ls.prototype=Object.assign(Object.create(Je.prototype),{constructor:ls,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(){var t=new Te,e=new Ee,n=new Te,r=new Te;return function(i){Je.prototype.updateMatrixWorld.call(this,i);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),a.positionX?(a.positionX.setValueAtTime(t.x,this.context.currentTime),a.positionY.setValueAtTime(t.y,this.context.currentTime),a.positionZ.setValueAtTime(t.z,this.context.currentTime),a.forwardX.setValueAtTime(r.x,this.context.currentTime),a.forwardY.setValueAtTime(r.y,this.context.currentTime),a.forwardZ.setValueAtTime(r.z,this.context.currentTime),a.upX.setValueAtTime(o.x,this.context.currentTime),a.upY.setValueAtTime(o.y,this.context.currentTime),a.upZ.setValueAtTime(o.z,this.context.currentTime)):(a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z,o.x,o.y,o.z))}}()}),us.prototype=Object.assign(Object.create(Je.prototype),{constructor:us,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType=\"audioNode\",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType=\"mediaNode\",this.source=this.context.createMediaElementSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType=\"buffer\",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),t.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset),this.isPlaying=!0,this.source=t,this.connect()}console.warn(\"THREE.Audio: this Audio has no playback control.\")}else console.warn(\"THREE.Audio: Audio is already playing.\")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn(\"THREE.Audio: this Audio has no playback control.\"),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn(\"THREE.Audio: this Audio has no playback control.\")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}),ps.prototype=Object.assign(Object.create(us.prototype),{constructor:ps,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(){var t=new Te,e=new Ee,n=new Te,r=new Te;return function(i){Je.prototype.updateMatrixWorld.call(this,i);var a=this.panner;this.matrixWorld.decompose(t,e,n),r.set(0,0,1).applyQuaternion(e),a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z)}}()}),Object.assign(ds.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(fs.prototype,{accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*e;this._mixBufferRegion(n,r,o,1-i,e)}for(var s=e,c=e+e;s!==c;++s)if(n[s]!==n[s+e]){a.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,a=r;i!==a;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,r){Ee.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*r}}});var ms,gs;function vs(t,e,n){var r=n||ys.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}function ys(t,e,n){this.path=e,this.parsedPath=n||ys.parseTrackName(e),this.node=ys.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function xs(){this.uuid=_e.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function bs(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,a=new Array(i),o={endingStart:oe,endingEnd:oe},s=0;s!==i;++s){var c=r[s].createInterpolant(null);a[s]=c,c.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ae,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function _s(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function ws(t){\"string\"==typeof t&&(console.warn(\"THREE.Uniform: Type parameter is no longer needed.\"),t=arguments[1]),this.value=t}function Ms(){dn.call(this),this.type=\"InstancedBufferGeometry\",this.maxInstancedCount=void 0}function Es(t,e,n){Jr.call(this,t,e),this.meshPerAttribute=n||1}function Ts(t,e,n,r){\"number\"==typeof n&&(r=n,n=!1,console.error(\"THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.\")),$e.call(this,t,e,n),this.meshPerAttribute=r||1}function Ss(t,e,n,r){this.ray=new _n(t,e),this.near=n||0,this.far=r||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn(\"THREE.Raycaster: params.PointCloud has been renamed to params.Points.\"),this.Points}}})}function As(t,e){return t.distance-e.distance}function Ls(t,e,n,r){if(!1!==t.visible&&(t.raycast(e,n),!0===r))for(var i=t.children,a=0,o=i.length;a<o;a++)Ls(i[a],e,n,!0)}function Rs(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}function Ps(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}function Cs(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}function Os(t,e){this.min=void 0!==t?t:new we(1/0,1/0),this.max=void 0!==e?e:new we(-1/0,-1/0)}function Is(t,e){this.start=void 0!==t?t:new Te,this.end=void 0!==e?e:new Te}function Ns(t){Je.call(this),this.material=t,this.render=function(){}}function Ds(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=3*s.faces.length:s&&s.isBufferGeometry&&(o=s.attributes.normal.count);var c=new dn,h=new cn(2*o*3,3);c.addAttribute(\"position\",h),oi.call(this,c,new ii({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function Us(t,e){Je.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new dn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,a=1;i<32;i++,a++){var o=i/32*Math.PI*2,s=a/32*Math.PI*2;r.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}n.addAttribute(\"position\",new cn(r,3));var c=new ii({fog:!1});this.cone=new oi(n,c),this.add(this.cone),this.update()}function Bs(t){for(var e=function t(e){var n=[];e&&e.isBone&&n.push(e);for(var r=0;r<e.children.length;r++)n.push.apply(n,t(e.children[r]));return n}(t),n=new dn,r=[],i=[],a=new Ge(0,0,1),o=new Ge(0,1,0),s=0;s<e.length;s++){var c=e[s];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(a.r,a.g,a.b),i.push(o.r,o.g,o.b))}n.addAttribute(\"position\",new cn(r,3)),n.addAttribute(\"color\",new cn(i,3));var h=new ii({vertexColors:f,depthTest:!1,depthWrite:!1,transparent:!0});oi.call(this,n,h),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Fs(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var r=new ua(e,4,2),i=new Mn({wireframe:!0,fog:!1});En.call(this,r,i),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function zs(t,e){Je.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;var n=new ii({fog:!1}),r=new dn;r.addAttribute(\"position\",new $e(new Float32Array(15),3)),this.line=new ai(r,n),this.add(this.line),this.update()}function Hs(t,e,n){Je.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new wi(e);r.rotateY(.5*Math.PI),this.material=new Mn({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=f);var i=r.getAttribute(\"position\"),a=new Float32Array(3*i.count);r.addAttribute(\"color\",new $e(a,3)),this.add(new En(r,this.material)),this.update()}function Gs(t,e,n,r){t=t||10,e=e||10,n=new Ge(void 0!==n?n:4473924),r=new Ge(void 0!==r?r:8947848);for(var i=e/2,a=t/e,o=t/2,s=[],c=[],h=0,l=0,u=-o;h<=e;h++,u+=a){s.push(-o,0,u,o,0,u),s.push(u,0,-o,u,0,o);var p=h===i?n:r;p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3,p.toArray(c,l),l+=3}var d=new dn;d.addAttribute(\"position\",new cn(s,3)),d.addAttribute(\"color\",new cn(c,3));var m=new ii({vertexColors:f});oi.call(this,d,m)}function Vs(t,e,n,r,i,a){t=t||10,e=e||16,n=n||8,r=r||64,i=new Ge(void 0!==i?i:4473924),a=new Ge(void 0!==a?a:8947848);var o,s,c,h,l,u,p,d=[],m=[];for(h=0;h<=e;h++)c=h/e*(2*Math.PI),o=Math.sin(c)*t,s=Math.cos(c)*t,d.push(0,0,0),d.push(o,0,s),p=1&h?i:a,m.push(p.r,p.g,p.b),m.push(p.r,p.g,p.b);for(h=0;h<=n;h++)for(p=1&h?i:a,u=t-t/n*h,l=0;l<r;l++)c=l/r*(2*Math.PI),o=Math.sin(c)*u,s=Math.cos(c)*u,d.push(o,0,s),m.push(p.r,p.g,p.b),c=(l+1)/r*(2*Math.PI),o=Math.sin(c)*u,s=Math.cos(c)*u,d.push(o,0,s),m.push(p.r,p.g,p.b);var g=new dn;g.addAttribute(\"position\",new cn(d,3)),g.addAttribute(\"color\",new cn(m,3));var v=new ii({vertexColors:f});oi.call(this,g,v)}function ks(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s&&s.isGeometry?o=s.faces.length:console.warn(\"THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.\");var c=new dn,h=new cn(2*o*3,3);c.addAttribute(\"position\",h),oi.call(this,c,new ii({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()}function js(t,e,n){Je.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var r=new dn;r.addAttribute(\"position\",new cn([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var i=new ii({fog:!1});this.lightPlane=new ai(r,i),this.add(this.lightPlane),(r=new dn).addAttribute(\"position\",new cn([0,0,0,0,0,1],3)),this.targetLine=new ai(r,i),this.add(this.targetLine),this.update()}function Ws(t){var e=new dn,n=new ii({color:16777215,vertexColors:d}),r=[],i=[],a={},o=new Ge(16755200),s=new Ge(16711680),c=new Ge(43775),h=new Ge(16777215),l=new Ge(3355443);function u(t,e,n){p(t,n),p(e,n)}function p(t,e){r.push(0,0,0),i.push(e.r,e.g,e.b),void 0===a[t]&&(a[t]=[]),a[t].push(r.length/3-1)}u(\"n1\",\"n2\",o),u(\"n2\",\"n4\",o),u(\"n4\",\"n3\",o),u(\"n3\",\"n1\",o),u(\"f1\",\"f2\",o),u(\"f2\",\"f4\",o),u(\"f4\",\"f3\",o),u(\"f3\",\"f1\",o),u(\"n1\",\"f1\",o),u(\"n2\",\"f2\",o),u(\"n3\",\"f3\",o),u(\"n4\",\"f4\",o),u(\"p\",\"n1\",s),u(\"p\",\"n2\",s),u(\"p\",\"n3\",s),u(\"p\",\"n4\",s),u(\"u1\",\"u2\",c),u(\"u2\",\"u3\",c),u(\"u3\",\"u1\",c),u(\"c\",\"t\",h),u(\"p\",\"c\",l),u(\"cn1\",\"cn2\",l),u(\"cn3\",\"cn4\",l),u(\"cf1\",\"cf2\",l),u(\"cf3\",\"cf4\",l),e.addAttribute(\"position\",new cn(r,3)),e.addAttribute(\"color\",new cn(i,3)),oi.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update()}function Xs(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new dn;i.setIndex(new $e(n,1)),i.addAttribute(\"position\",new $e(r,3)),oi.call(this,i,new ii({color:e})),this.matrixAutoUpdate=!1,this.update()}function qs(t,e){this.type=\"Box3Helper\",this.box=t;var n=void 0!==e?e:16776960,r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new dn;i.setIndex(new $e(r,1)),i.addAttribute(\"position\",new cn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),oi.call(this,i,new ii({color:n})),this.geometry.computeBoundingSphere()}function Ys(t,e,n){this.type=\"PlaneHelper\",this.plane=t,this.size=void 0===e?1:e;var r=void 0!==n?n:16776960,i=new dn;i.addAttribute(\"position\",new cn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),ai.call(this,i,new ii({color:r}));var a=new dn;a.addAttribute(\"position\",new cn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),a.computeBoundingSphere(),this.add(new En(a,new Mn({color:r,opacity:.2,transparent:!0,depthWrite:!1})))}function Zs(t,e,n,r,i,a){Je.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),void 0===i&&(i=.2*n),void 0===a&&(a=.2*i),void 0===ms&&((ms=new dn).addAttribute(\"position\",new cn([0,0,0,0,1,0],3)),(gs=new _a(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new ai(ms,new ii({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new En(gs,new Mn({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,i,a)}function Js(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new dn;n.addAttribute(\"position\",new cn(e,3)),n.addAttribute(\"color\",new cn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new ii({vertexColors:f});oi.call(this,n,r)}Object.assign(vs.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(ys,{Composite:vs,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new ys.Composite(t,e,n):new ys(t,e,n)},sanitizeNodeName:function(){var t=new RegExp(\"[\\\\[\\\\]\\\\.:\\\\/]\",\"g\");return function(e){return e.replace(/\\s/g,\"_\").replace(t,\"\")}}(),parseTrackName:function(){var t=\"[^\\\\[\\\\]\\\\.:\\\\/]\",e=\"[^\"+\"\\\\[\\\\]\\\\.:\\\\/\".replace(\"\\\\.\",\"\")+\"]\",n=/((?:WC+[\\/:])*)/.source.replace(\"WC\",t),r=/(WCOD+)?/.source.replace(\"WCOD\",e),i=/(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace(\"WC\",t),a=/\\.(WC+)(?:\\[(.+)\\])?/.source.replace(\"WC\",t),o=new RegExp(\"^\"+n+r+i+a+\"$\"),s=[\"material\",\"materials\",\"bones\"];return function(t){var e=o.exec(t);if(!e)throw new Error(\"PropertyBinding: Cannot parse trackName: \"+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},r=n.nodeName&&n.nodeName.lastIndexOf(\".\");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==s.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error(\"PropertyBinding: can not parse propertyName from trackName: \"+t);return n}}(),findNode:function(t,e){if(!e||\"\"===e||\"root\"===e||\".\"===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var r=function t(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===e||i.uuid===e)return i;var a=t(i.children);if(a)return a}return null}(t.children);if(r)return r}return null}}),Object.assign(ys.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=ys.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case\"materials\":if(!t.material)return void console.error(\"THREE.PropertyBinding: Can not bind to material as node does not have a material.\",this);if(!t.material.materials)return void console.error(\"THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.\",this);t=t.material.materials;break;case\"bones\":if(!t.skeleton)return void console.error(\"THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.\",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error(\"THREE.PropertyBinding: Can not bind to objectName of node undefined.\",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error(\"THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.\",this,t);t=t[a]}}var s=t[r];if(void 0!==s){var c=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?c=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate);var h=this.BindingType.Direct;if(void 0!==i){if(\"morphTargetInfluences\"===r){if(!t.geometry)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.\",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.\",this);for(o=0;o<this.node.geometry.morphAttributes.position.length;o++)if(t.geometry.morphAttributes.position[o].name===i){i=o;break}}else{if(!t.geometry.morphTargets)return void console.error(\"THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.\",this);for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===i){i=o;break}}}h=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(h=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(h=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][c]}else{var l=e.nodeName;console.error(\"THREE.PropertyBinding: Trying to update property for track: \"+l+\".\"+r+\" but it wasn't found.\",t)}}else console.error(\"THREE.PropertyBinding: Trying to update node for track: \"+this.path+\" but it wasn't found.\")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign(ys.prototype,{_getValue_unbound:ys.prototype.getValue,_setValue_unbound:ys.prototype.setValue}),Object.assign(xs.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length,c=void 0,h=0,l=arguments.length;h!==l;++h){var u=arguments[h],p=u.uuid,d=r[p];if(void 0===d){d=e++,r[p]=d,t.push(u);for(var f=0,m=s;f!==m;++f)o[f].push(new ys(u,i[f],a[f]))}else if(d<n){c=t[d];var g=--n,v=t[g];r[v.uuid]=d,t[d]=v,r[p]=g,t[g]=u;for(f=0,m=s;f!==m;++f){var y=o[f],x=y[g],b=y[d];y[d]=x,void 0===b&&(b=new ys(u,i[f],a[f])),y[g]=b}}else t[d]!==c&&console.error(\"THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.\")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,r=this._bindings,i=r.length,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],c=s.uuid,h=n[c];if(void 0!==h&&h>=e){var l=e++,u=t[l];n[u.uuid]=h,t[h]=u,n[c]=l,t[l]=s;for(var p=0,d=i;p!==d;++p){var f=r[p],m=f[l],g=f[h];f[h]=m,f[l]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var c=arguments[o].uuid,h=r[c];if(void 0!==h)if(delete r[c],h<n){var l=--n,u=t[l],p=t[v=--e];r[u.uuid]=h,t[h]=u,r[p.uuid]=l,t[l]=p,t.pop();for(var d=0,f=a;d!==f;++d){var m=(y=i[d])[l],g=y[v];y[h]=m,y[l]=g,y.pop()}}else{var v;r[(p=t[v=--e]).uuid]=h,t[h]=p,t.pop();for(d=0,f=a;d!==f;++d){var y;(y=i[d])[h]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,h=this.nCachedObjects_,l=new Array(c);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(l);for(var u=h,p=s.length;u!==p;++u){var d=s[u];l[u]=new ys(d,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}),Object.assign(bs.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,c=a.sampleValues;return s[0]=i,s[1]=i+n,c[0]=t/o,c[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(t-i)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var c=this._interpolants,h=this._propertyBindings,l=0,u=c.length;l!==u;++l)c[l].evaluate(o),h[l].accumulate(r,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,r=this.loop,i=this._loopCount,a=2202===r;if(0===t)return-1===i?e:a&&1==(1&i)?n-e:e;if(2200===r){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t<0?-1:1})}}else{if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:\"finished\",action:this,direction:t>0?1:-1});else{if(1===s){var c=t<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:\"loop\",action:this,loopDelta:o})}}if(a&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=t?this.zeroSlopeAtStart?2401:oe:2402,r.endingEnd=e?this.zeroSlopeAtEnd?2401:oe:2402)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=e,o[1]=i+t,s[1]=n,this}}),_s.prototype=Object.assign(Object.create(e.prototype),{constructor:_s,_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,c=this._bindingsByRootAndName,h=c[s];void 0===h&&(h={},c[s]=h);for(var l=0;l!==i;++l){var u=r[l],p=u.name,d=h[p];if(void 0!==d)a[l]=d;else{if(void 0!==(d=a[l])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;++(d=new fs(ys.create(n,p,f),u.ValueTypeName,u.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),a[l]=d}o[l].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,a=i[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,c=s[s.length-1],h=t._byClipCacheIndex;c._byClipCacheIndex=h,s[h]=c,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],a=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],c=t._cacheIndex;s._cacheIndex=c,e[c]=s,e.pop(),delete o[i];t:{for(var h in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Oo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,r=n.uuid,i=\"string\"==typeof t?Vo.findByName(n,t):t,a=null!==i?i.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var c=o.actionByRoot[r];if(void 0!==c)return c;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var h=new bs(this,i,e);return this._bindAction(h,s),this._addInactiveAction(h,a,r),h},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i=\"string\"==typeof t?Vo.findByName(n,t):t,a=i?i.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o){e[o]._update(r,t,i,a)}var s=this._bindings,c=this._nActiveBindings;for(o=0;o!==c;++o)s[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var h=c._cacheIndex,l=e[e.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,l._cacheIndex=h,e[h]=l,e.pop(),this._removeInactiveBindingsForAction(c)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),ws.prototype.clone=function(){return new ws(void 0===this.value.clone?this.value:this.value.clone())},Ms.prototype=Object.assign(Object.create(dn.prototype),{constructor:Ms,isInstancedBufferGeometry:!0,copy:function(t){return dn.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Es.prototype=Object.assign(Object.create(Jr.prototype),{constructor:Es,isInstancedInterleavedBuffer:!0,copy:function(t){return Jr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Ts.prototype=Object.assign(Object.create($e.prototype),{constructor:Ts,isInstancedBufferAttribute:!0,copy:function(t){return $e.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(Ss.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize()):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld)):console.error(\"THREE.Raycaster: Unsupported camera type.\")},intersectObject:function(t,e,n){var r=n||[];return Ls(t,this,r,e),r.sort(As),r},intersectObjects:function(t,e,n){var r=n||[];if(!1===Array.isArray(t))return console.warn(\"THREE.Raycaster.intersectObjects: objects is not an Array.\"),r;for(var i=0,a=t.length;i<a;i++)Ls(t[i],this,r,e);return r.sort(As),r}}),Object.assign(Rs.prototype,{start:function(){this.startTime=(\"undefined\"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=(\"undefined\"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}),Object.assign(Ps.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(_e.clamp(e/this.radius,-1,1))),this}}),Object.assign(Cs.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}}),Object.assign(Os.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new we;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn(\"THREE.Box2: .getCenter() target is now required\"),t=new we),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn(\"THREE.Box2: .getSize() target is now required\"),t=new we),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn(\"THREE.Box2: .getParameter() target is now required\"),e=new we),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn(\"THREE.Box2: .clampPoint() target is now required\"),e=new we),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new we;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}),Object.assign(Is.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn(\"THREE.Line3: .getCenter() target is now required\"),t=new Te),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn(\"THREE.Line3: .delta() target is now required\"),t=new Te),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn(\"THREE.Line3: .at() target is now required\"),e=new Te),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(){var t=new Te,e=new Te;return function(n,r){t.subVectors(n,this.start),e.subVectors(this.end,this.start);var i=e.dot(e),a=e.dot(t)/i;return r&&(a=_e.clamp(a,0,1)),a}}(),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn(\"THREE.Line3: .closestPointToPoint() target is now required\"),n=new Te),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),Ns.prototype=Object.create(Je.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isImmediateRenderObject=!0,Ds.prototype=Object.create(oi.prototype),Ds.prototype.constructor=Ds,Ds.prototype.update=function(){var t=new Te,e=new Te,n=new Se;return function(){var r=[\"a\",\"b\",\"c\"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o&&o.isGeometry)for(var s=o.vertices,c=o.faces,h=0,l=0,u=c.length;l<u;l++)for(var p=c[l],d=0,f=p.vertexNormals.length;d<f;d++){var m=s[p[r[d]]],g=p.vertexNormals[d];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1}else if(o&&o.isBufferGeometry){var v=o.attributes.position,y=o.attributes.normal;for(h=0,d=0,f=v.count;d<f;d++)t.set(v.getX(d),v.getY(d),v.getZ(d)).applyMatrix4(i),e.set(y.getX(d),y.getY(d),y.getZ(d)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(h,t.x,t.y,t.z),h+=1,a.setXYZ(h,e.x,e.y,e.z),h+=1}a.needsUpdate=!0}}(),Us.prototype=Object.create(Je.prototype),Us.prototype.constructor=Us,Us.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Us.prototype.update=function(){var t=new Te,e=new Te;return function(){this.light.updateMatrixWorld();var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),Bs.prototype=Object.create(oi.prototype),Bs.prototype.constructor=Bs,Bs.prototype.updateMatrixWorld=function(){var t=new Te,e=new Me,n=new Me;return function(r){var i=this.bones,a=this.geometry,o=a.getAttribute(\"position\");n.getInverse(this.root.matrixWorld);for(var s=0,c=0;s<i.length;s++){var h=i[s];h.parent&&h.parent.isBone&&(e.multiplyMatrices(n,h.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(c,t.x,t.y,t.z),e.multiplyMatrices(n,h.parent.matrixWorld),t.setFromMatrixPosition(e),o.setXYZ(c+1,t.x,t.y,t.z),c+=2)}a.getAttribute(\"position\").needsUpdate=!0,Je.prototype.updateMatrixWorld.call(this,r)}}(),Fs.prototype=Object.create(En.prototype),Fs.prototype.constructor=Fs,Fs.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Fs.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},zs.prototype=Object.create(Je.prototype),zs.prototype.constructor=zs,zs.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},zs.prototype.update=function(){var t=.5*this.light.width,e=.5*this.light.height,n=this.line.geometry.attributes.position,r=n.array;r[0]=t,r[1]=-e,r[2]=0,r[3]=t,r[4]=e,r[5]=0,r[6]=-t,r[7]=e,r[8]=0,r[9]=-t,r[10]=-e,r[11]=0,r[12]=t,r[13]=-e,r[14]=0,n.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},Hs.prototype=Object.create(Je.prototype),Hs.prototype.constructor=Hs,Hs.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Hs.prototype.update=function(){var t=new Te,e=new Ge,n=new Ge;return function(){var r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var i=r.geometry.getAttribute(\"color\");e.copy(this.light.color),n.copy(this.light.groundColor);for(var a=0,o=i.count;a<o;a++){var s=a<o/2?e:n;i.setXYZ(a,s.r,s.g,s.b)}i.needsUpdate=!0}r.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),Gs.prototype=Object.create(oi.prototype),Gs.prototype.constructor=Gs,Vs.prototype=Object.create(oi.prototype),Vs.prototype.constructor=Vs,ks.prototype=Object.create(oi.prototype),ks.prototype.constructor=ks,ks.prototype.update=function(){var t=new Te,e=new Te,n=new Se;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,c=0,h=0,l=s.length;h<l;h++){var u=s[h],p=u.normal;t.copy(o[u.a]).add(o[u.b]).add(o[u.c]).divideScalar(3).applyMatrix4(r),e.copy(p).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(c,t.x,t.y,t.z),c+=1,i.setXYZ(c,e.x,e.y,e.z),c+=1}i.needsUpdate=!0}}(),js.prototype=Object.create(Je.prototype),js.prototype.constructor=js,js.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},js.prototype.update=function(){var t=new Te,e=new Te,n=new Te;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t),this.lightPlane.lookAt(n),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(n),this.targetLine.scale.z=n.length()}}(),Ws.prototype=Object.create(oi.prototype),Ws.prototype.constructor=Ws,Ws.prototype.update=function(){var t,e,n=new Te,r=new Vr;function i(i,a,o,s){n.set(a,o,s).unproject(r);var c=e[i];if(void 0!==c)for(var h=t.getAttribute(\"position\"),l=0,u=c.length;l<u;l++)h.setXYZ(c[l],n.x,n.y,n.z)}return function(){t=this.geometry,e=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i(\"c\",0,0,-1),i(\"t\",0,0,1),i(\"n1\",-1,-1,-1),i(\"n2\",1,-1,-1),i(\"n3\",-1,1,-1),i(\"n4\",1,1,-1),i(\"f1\",-1,-1,1),i(\"f2\",1,-1,1),i(\"f3\",-1,1,1),i(\"f4\",1,1,1),i(\"u1\",.7,1.1,-1),i(\"u2\",-.7,1.1,-1),i(\"u3\",0,2,-1),i(\"cf1\",-1,0,1),i(\"cf2\",1,0,1),i(\"cf3\",0,-1,1),i(\"cf4\",0,1,1),i(\"cn1\",-1,0,-1),i(\"cn2\",1,0,-1),i(\"cn3\",0,-1,-1),i(\"cn4\",0,1,-1),t.getAttribute(\"position\").needsUpdate=!0}}(),Xs.prototype=Object.create(oi.prototype),Xs.prototype.constructor=Xs,Xs.prototype.update=function(){var t=new Ne;return function(e){if(void 0!==e&&console.warn(\"THREE.BoxHelper: .update() has no longer arguments.\"),void 0!==this.object&&t.setFromObject(this.object),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),Xs.prototype.setFromObject=function(t){return this.object=t,this.update(),this},qs.prototype=Object.create(oi.prototype),qs.prototype.constructor=qs,qs.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),Je.prototype.updateMatrixWorld.call(this,t))},Ys.prototype=Object.create(ai.prototype),Ys.prototype.constructor=Ys,Ys.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?l:h,this.lookAt(this.plane.normal),Je.prototype.updateMatrixWorld.call(this,t)},Zs.prototype=Object.create(Je.prototype),Zs.prototype.constructor=Zs,Zs.prototype.setDirection=function(){var t,e=new Te;return function(n){n.y>.99999?this.quaternion.set(0,0,0,1):n.y<-.99999?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),Zs.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},Zs.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},Js.prototype=Object.create(oi.prototype),Js.prototype.constructor=Js;function Qs(t){console.warn(\"THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"),no.call(this,t),this.type=\"catmullrom\",this.closed=!0}function Ks(t){console.warn(\"THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.\"),no.call(this,t),this.type=\"catmullrom\"}function $s(t){console.warn(\"THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.\"),no.call(this,t),this.type=\"catmullrom\"}Ya.create=function(t,e){return console.log(\"THREE.Curve.create() has been deprecated\"),t.prototype=Object.create(Ya.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(mo.prototype,{createPointsGeometry:function(t){console.warn(\"THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn(\"THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn(\"THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.\");for(var e=new Ke,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new Te(i.x,i.y,i.z||0))}return e}}),Object.assign(go.prototype,{fromPoints:function(t){console.warn(\"THREE.Path: .fromPoints() has been renamed to .setFromPoints().\"),this.setFromPoints(t)}}),Qs.prototype=Object.create(no.prototype),Ks.prototype=Object.create(no.prototype),$s.prototype=Object.create(no.prototype),Object.assign($s.prototype,{initFromArray:function(){console.error(\"THREE.Spline: .initFromArray() has been removed.\")},getControlPointsArray:function(){console.error(\"THREE.Spline: .getControlPointsArray() has been removed.\")},reparametrizeByArcLength:function(){console.error(\"THREE.Spline: .reparametrizeByArcLength() has been removed.\")}}),Gs.prototype.setColors=function(){console.error(\"THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.\")},Bs.prototype.update=function(){console.error(\"THREE.SkeletonHelper: update() no longer needs to be called.\")},Object.assign(qo.prototype,{extractUrlBase:function(t){return console.warn(\"THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.\"),Yo.extractUrlBase(t)}}),Object.assign(Zo.prototype,{setTexturePath:function(t){return console.warn(\"THREE.JSONLoader: .setTexturePath() has been renamed to .setResourcePath().\"),this.setResourcePath(t)}}),Object.assign(Os.prototype,{center:function(t){return console.warn(\"THREE.Box2: .center() has been renamed to .getCenter().\"),this.getCenter(t)},empty:function(){return console.warn(\"THREE.Box2: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\"THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},size:function(t){return console.warn(\"THREE.Box2: .size() has been renamed to .getSize().\"),this.getSize(t)}}),Object.assign(Ne.prototype,{center:function(t){return console.warn(\"THREE.Box3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},empty:function(){return console.warn(\"THREE.Box3: .empty() has been renamed to .isEmpty().\"),this.isEmpty()},isIntersectionBox:function(t){return console.warn(\"THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn(\"THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)},size:function(t){return console.warn(\"THREE.Box3: .size() has been renamed to .getSize().\"),this.getSize(t)}}),Is.prototype.center=function(t){return console.warn(\"THREE.Line3: .center() has been renamed to .getCenter().\"),this.getCenter(t)},Object.assign(_e,{random16:function(){return console.warn(\"THREE.Math: .random16() has been deprecated. Use Math.random() instead.\"),Math.random()},nearestPowerOfTwo:function(t){return console.warn(\"THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().\"),_e.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn(\"THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().\"),_e.ceilPowerOfTwo(t)}}),Object.assign(Se.prototype,{flattenToArrayOffset:function(t,e){return console.warn(\"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},multiplyVector3:function(t){return console.warn(\"THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.\"),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error(\"THREE.Matrix3: .multiplyVector3Array() has been removed.\")},applyToBuffer:function(t){return console.warn(\"THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error(\"THREE.Matrix3: .applyToVector3Array() has been removed.\")}}),Object.assign(Me.prototype,{extractPosition:function(t){return console.warn(\"THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().\"),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn(\"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\"),this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new Te),console.warn(\"THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.\"),t.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(t){return console.warn(\"THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().\"),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn(\"THREE.Matrix4: .multiplyToArray() has been removed.\")},multiplyVector3:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn(\"THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error(\"THREE.Matrix4: .multiplyVector3Array() has been removed.\")},rotateAxis:function(t){console.warn(\"THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.\"),t.transformDirection(this)},crossVector:function(t){return console.warn(\"THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.\"),t.applyMatrix4(this)},translate:function(){console.error(\"THREE.Matrix4: .translate() has been removed.\")},rotateX:function(){console.error(\"THREE.Matrix4: .rotateX() has been removed.\")},rotateY:function(){console.error(\"THREE.Matrix4: .rotateY() has been removed.\")},rotateZ:function(){console.error(\"THREE.Matrix4: .rotateZ() has been removed.\")},rotateByAxis:function(){console.error(\"THREE.Matrix4: .rotateByAxis() has been removed.\")},applyToBuffer:function(t){return console.warn(\"THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead.\"),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error(\"THREE.Matrix4: .applyToVector3Array() has been removed.\")},makeFrustum:function(t,e,n,r,i,a){return console.warn(\"THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.\"),this.makePerspective(t,e,r,n,i,a)}}),Ue.prototype.isIntersectionLine=function(t){return console.warn(\"THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().\"),this.intersectsLine(t)},Ee.prototype.multiplyVector3=function(t){return console.warn(\"THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.\"),t.applyQuaternion(this)},Object.assign(_n.prototype,{isIntersectionBox:function(t){return console.warn(\"THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().\"),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn(\"THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().\"),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn(\"THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().\"),this.intersectsSphere(t)}}),Object.assign(wn.prototype,{area:function(){return console.warn(\"THREE.Triangle: .area() has been renamed to .getArea().\"),this.getArea()},barycoordFromPoint:function(t,e){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),this.getBarycoord(t,e)},midpoint:function(t){return console.warn(\"THREE.Triangle: .midpoint() has been renamed to .getMidpoint().\"),this.getMidpoint(t)},normal:function(t){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),this.getNormal(t)},plane:function(t){return console.warn(\"THREE.Triangle: .plane() has been renamed to .getPlane().\"),this.getPlane(t)}}),Object.assign(wn,{barycoordFromPoint:function(t,e,n,r,i){return console.warn(\"THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().\"),wn.getBarycoord(t,e,n,r,i)},normal:function(t,e,n,r){return console.warn(\"THREE.Triangle: .normal() has been renamed to .getNormal().\"),wn.getNormal(t,e,n,r)}}),Object.assign(vo.prototype,{extractAllPoints:function(t){return console.warn(\"THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.\"),this.extractPoints(t)},extrude:function(t){return console.warn(\"THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.\"),new ia(this,t)},makeGeometry:function(t){return console.warn(\"THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.\"),new ga(this,t)}}),Object.assign(we.prototype,{fromAttribute:function(t,e,n){return console.warn(\"THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn(\"THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn(\"THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(Te.prototype,{setEulerFromRotationMatrix:function(){console.error(\"THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.\")},setEulerFromQuaternion:function(){console.error(\"THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.\")},getPositionFromMatrix:function(t){return console.warn(\"THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().\"),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn(\"THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().\"),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn(\"THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().\"),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn(\"THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.\"),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn(\"THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn(\"THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().\"),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn(\"THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(Pe.prototype,{fromAttribute:function(t,e,n){return console.warn(\"THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().\"),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn(\"THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().\"),this.manhattanLength()}}),Object.assign(Ke.prototype,{computeTangents:function(){console.error(\"THREE.Geometry: .computeTangents() has been removed.\")},computeLineDistances:function(){console.error(\"THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.\")}}),Object.assign(Je.prototype,{getChildByName:function(t){return console.warn(\"THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().\"),this.getObjectByName(t)},renderDepth:function(){console.warn(\"THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.\")},translate:function(t,e){return console.warn(\"THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.\"),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error(\"THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.\")}}),Object.defineProperties(Je.prototype,{eulerOrder:{get:function(){return console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order},set:function(t){console.warn(\"THREE.Object3D: .eulerOrder is now .rotation.order.\"),this.rotation.order=t}},useQuaternion:{get:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")},set:function(){console.warn(\"THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.\")}}}),Object.defineProperties(ti.prototype,{objects:{get:function(){return console.warn(\"THREE.LOD: .objects has been renamed to .levels.\"),this.levels}}}),Object.defineProperty(ei.prototype,\"useVertexTexture\",{get:function(){console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\")},set:function(){console.warn(\"THREE.Skeleton: useVertexTexture has been removed.\")}}),Object.defineProperty(Ya.prototype,\"__arcLengthDivisions\",{get:function(){return console.warn(\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"),this.arcLengthDivisions},set:function(t){console.warn(\"THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.\"),this.arcLengthDivisions=t}}),kr.prototype.setLens=function(t,e){console.warn(\"THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.\"),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(yo.prototype,{onlyShadow:{set:function(){console.warn(\"THREE.Light: .onlyShadow has been removed.\")}},shadowCameraFov:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFov is now .shadow.camera.fov.\"),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn(\"THREE.Light: .shadowCameraLeft is now .shadow.camera.left.\"),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn(\"THREE.Light: .shadowCameraRight is now .shadow.camera.right.\"),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn(\"THREE.Light: .shadowCameraTop is now .shadow.camera.top.\"),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn(\"THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.\"),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn(\"THREE.Light: .shadowCameraNear is now .shadow.camera.near.\"),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn(\"THREE.Light: .shadowCameraFar is now .shadow.camera.far.\"),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn(\"THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.\")}},shadowBias:{set:function(t){console.warn(\"THREE.Light: .shadowBias is now .shadow.bias.\"),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn(\"THREE.Light: .shadowDarkness has been removed.\")}},shadowMapWidth:{set:function(t){console.warn(\"THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.\"),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn(\"THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.\"),this.shadow.mapSize.height=t}}}),Object.defineProperties($e.prototype,{length:{get:function(){return console.warn(\"THREE.BufferAttribute: .length has been deprecated. Use .count instead.\"),this.array.length}},copyIndicesArray:function(){console.error(\"THREE.BufferAttribute: .copyIndicesArray() has been removed.\")}}),Object.assign(dn.prototype,{addIndex:function(t){console.warn(\"THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().\"),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn(\"THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.\"),console.warn(\"THREE.BufferGeometry: .addDrawCall() is now .addGroup().\"),this.addGroup(t,e)},clearDrawCalls:function(){console.warn(\"THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().\"),this.clearGroups()},computeTangents:function(){console.warn(\"THREE.BufferGeometry: .computeTangents() has been removed.\")},computeOffsets:function(){console.warn(\"THREE.BufferGeometry: .computeOffsets() has been removed.\")}}),Object.defineProperties(dn.prototype,{drawcalls:{get:function(){return console.error(\"THREE.BufferGeometry: .drawcalls has been renamed to .groups.\"),this.groups}},offsets:{get:function(){return console.warn(\"THREE.BufferGeometry: .offsets has been renamed to .groups.\"),this.groups}}}),Object.assign(aa.prototype,{getArrays:function(){console.error(\"THREE.ExtrudeBufferGeometry: .getArrays() has been removed.\")},addShapeList:function(){console.error(\"THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.\")},addShape:function(){console.error(\"THREE.ExtrudeBufferGeometry: .addShape() has been removed.\")}}),Object.defineProperties(ws.prototype,{dynamic:{set:function(){console.warn(\"THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.\")}},onUpdate:{value:function(){return console.warn(\"THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.\"),this}}}),Object.defineProperties(xn.prototype,{wrapAround:{get:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")},set:function(){console.warn(\"THREE.Material: .wrapAround has been removed.\")}},wrapRGB:{get:function(){return console.warn(\"THREE.Material: .wrapRGB has been removed.\"),new Ge}},shading:{get:function(){console.error(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\")},set:function(t){console.warn(\"THREE.\"+this.type+\": .shading has been removed. Use the boolean .flatShading instead.\"),this.flatShading=1===t}}}),Object.defineProperties(Ca.prototype,{metal:{get:function(){return console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.\"),!1},set:function(){console.warn(\"THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead\")}}}),Object.defineProperties(bn.prototype,{derivatives:{get:function(){return console.warn(\"THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives},set:function(t){console.warn(\"THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.\"),this.extensions.derivatives=t}}}),Object.assign(Xr.prototype,{clearTarget:function(t,e,n,r){console.warn(\"THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.\"),this.setRenderTarget(t),this.clear(e,n,r)},animate:function(t){console.warn(\"THREE.WebGLRenderer: .animate() is now .setAnimationLoop().\"),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn(\"THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().\"),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn(\"THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().\"),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn(\"THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.\"),this.capabilities.precision},resetGLState:function(){return console.warn(\"THREE.WebGLRenderer: .resetGLState() is now .state.reset().\"),this.state.reset()},supportsFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).\"),this.extensions.get(\"OES_texture_float\")},supportsHalfFloatTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).\"),this.extensions.get(\"OES_texture_half_float\")},supportsStandardDerivatives:function(){return console.warn(\"THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).\"),this.extensions.get(\"OES_standard_derivatives\")},supportsCompressedTextureS3TC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_s3tc\")},supportsCompressedTexturePVRTC:function(){return console.warn(\"THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).\"),this.extensions.get(\"WEBGL_compressed_texture_pvrtc\")},supportsBlendMinMax:function(){return console.warn(\"THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).\"),this.extensions.get(\"EXT_blend_minmax\")},supportsVertexTextures:function(){return console.warn(\"THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.\"),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn(\"THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).\"),this.extensions.get(\"ANGLE_instanced_arrays\")},enableScissorTest:function(t){console.warn(\"THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().\"),this.setScissorTest(t)},initMaterial:function(){console.warn(\"THREE.WebGLRenderer: .initMaterial() has been removed.\")},addPrePlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPrePlugin() has been removed.\")},addPostPlugin:function(){console.warn(\"THREE.WebGLRenderer: .addPostPlugin() has been removed.\")},updateShadowMap:function(){console.warn(\"THREE.WebGLRenderer: .updateShadowMap() has been removed.\")},setFaceCulling:function(){console.warn(\"THREE.WebGLRenderer: .setFaceCulling() has been removed.\")}}),Object.defineProperties(Xr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.\"),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn(\"THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.\"),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.\")}}}),Object.defineProperties(Fr.prototype,{cullFace:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.\")}},renderReverseSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.\")}},renderSingleSided:{get:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")},set:function(){console.warn(\"THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.\")}}}),Object.defineProperties(Ce.prototype,{wrapS:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.\"),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.\"),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.\"),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.\"),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.\"),this.texture.anisotropy=t}},offset:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .offset is now .texture.offset.\"),this.texture.offset=t}},repeat:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .repeat is now .texture.repeat.\"),this.texture.repeat=t}},format:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .format is now .texture.format.\"),this.texture.format=t}},type:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .type is now .texture.type.\"),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps},set:function(t){console.warn(\"THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.\"),this.texture.generateMipmaps=t}}}),Object.defineProperties(Wr.prototype,{standing:{set:function(){console.warn(\"THREE.WebVRManager: .standing has been removed.\")}},userHeight:{set:function(){console.warn(\"THREE.WebVRManager: .userHeight has been removed.\")}}}),us.prototype.load=function(t){console.warn(\"THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.\");var e=this;return(new ss).load(t,function(t){e.setBuffer(t)}),this},ds.prototype.getData=function(){return console.warn(\"THREE.AudioAnalyser: .getData() is now .getFrequencyData().\"),this.getFrequencyData()},hs.prototype.updateCubeMap=function(t,e){return console.warn(\"THREE.CubeCamera: .updateCubeMap() is now .update().\"),this.update(t,e)};var tc={merge:function(t,e,n){var r;console.warn(\"THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.\"),e.isMesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return console.warn(\"THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.\"),t.center()}};Ae.crossOrigin=void 0,Ae.loadTexture=function(t,e,n,r){console.warn(\"THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.\");var i=new qa;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},Ae.loadTextureCube=function(t,e,n,r){console.warn(\"THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.\");var i=new Xa;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},Ae.loadCompressedTexture=function(){console.error(\"THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.\")},Ae.loadCompressedTextureCube=function(){console.error(\"THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.\")};var ec={createMultiMaterialObject:function(){console.error(\"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\")},detach:function(){console.error(\"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\")},attach:function(){console.error(\"THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js\")}};t.WebGLRenderTargetCube=Oe,t.WebGLRenderTarget=Ce,t.WebGLRenderer=Xr,t.ShaderLib=ke,t.UniformsLib=Ve,t.UniformsUtils=ze,t.ShaderChunk=Fe,t.FogExp2=qr,t.Fog=Yr,t.Scene=Zr,t.Sprite=$r,t.LOD=ti,t.SkinnedMesh=ri,t.Skeleton=ei,t.Bone=ni,t.Mesh=En,t.LineSegments=oi,t.LineLoop=si,t.Line=ai,t.Points=hi,t.Group=Gr,t.VideoTexture=li,t.DataTexture=Ie,t.DataTexture3D=An,t.CompressedTexture=ui,t.CubeTexture=Sn,t.CanvasTexture=pi,t.DepthTexture=di,t.Texture=Re,t.CompressedTextureLoader=ka,t.DataTextureLoader=ja,t.CubeTextureLoader=Xa,t.TextureLoader=qa,t.ObjectLoader=Jo,t.MaterialLoader=jo,t.BufferGeometryLoader=Wo,t.DefaultLoadingManager=Ha,t.LoadingManager=za,t.JSONLoader=Zo,t.ImageLoader=Wa,t.ImageBitmapLoader=es,t.FontLoader=as,t.FileLoader=Va,t.Loader=qo,t.LoaderUtils=Yo,t.Cache=Fa,t.AudioLoader=ss,t.SpotLightShadow=_o,t.SpotLight=wo,t.PointLight=Mo,t.RectAreaLight=Lo,t.HemisphereLight=xo,t.DirectionalLightShadow=To,t.DirectionalLight=So,t.AmbientLight=Ao,t.LightShadow=bo,t.Light=yo,t.StereoCamera=cs,t.PerspectiveCamera=kr,t.OrthographicCamera=Eo,t.CubeCamera=hs,t.ArrayCamera=jr,t.Camera=Vr,t.AudioListener=ls,t.PositionalAudio=ps,t.AudioContext=os,t.AudioAnalyser=ds,t.Audio=us,t.VectorKeyframeTrack=Go,t.StringKeyframeTrack=Ho,t.QuaternionKeyframeTrack=zo,t.NumberKeyframeTrack=Bo,t.ColorKeyframeTrack=Uo,t.BooleanKeyframeTrack=Do,t.PropertyMixer=fs,t.PropertyBinding=ys,t.KeyframeTrack=No,t.AnimationUtils=Ro,t.AnimationObjectGroup=xs,t.AnimationMixer=_s,t.AnimationClip=Vo,t.Uniform=ws,t.InstancedBufferGeometry=Ms,t.BufferGeometry=dn,t.Geometry=Ke,t.InterleavedBufferAttribute=Qr,t.InstancedInterleavedBuffer=Es,t.InterleavedBuffer=Jr,t.InstancedBufferAttribute=Ts,t.Face3=Xe,t.Object3D=Je,t.Raycaster=Ss,t.Layers=Ye,t.EventDispatcher=e,t.Clock=Rs,t.QuaternionLinearInterpolant=Fo,t.LinearInterpolant=Oo,t.DiscreteInterpolant=Io,t.CubicInterpolant=Co,t.Interpolant=Po,t.Triangle=wn,t.Math=_e,t.Spherical=Ps,t.Cylindrical=Cs,t.Plane=Ue,t.Frustum=Be,t.Sphere=De,t.Ray=_n,t.Matrix4=Me,t.Matrix3=Se,t.Box3=Ne,t.Box2=Os,t.Line3=Is,t.Euler=qe,t.Vector4=Pe,t.Vector3=Te,t.Vector2=we,t.Quaternion=Ee,t.Color=Ge,t.ImmediateRenderObject=Ns,t.VertexNormalsHelper=Ds,t.SpotLightHelper=Us,t.SkeletonHelper=Bs,t.PointLightHelper=Fs,t.RectAreaLightHelper=zs,t.HemisphereLightHelper=Hs,t.GridHelper=Gs,t.PolarGridHelper=Vs,t.FaceNormalsHelper=ks,t.DirectionalLightHelper=js,t.CameraHelper=Ws,t.BoxHelper=Xs,t.Box3Helper=qs,t.PlaneHelper=Ys,t.ArrowHelper=Zs,t.AxesHelper=Js,t.Shape=vo,t.Path=go,t.ShapePath=ns,t.Font=rs,t.CurvePath=mo,t.Curve=Ya,t.ImageUtils=Ae,t.ShapeUtils=ea,t.WebGLUtils=Hr,t.WireframeGeometry=fi,t.ParametricGeometry=mi,t.ParametricBufferGeometry=gi,t.TetrahedronGeometry=xi,t.TetrahedronBufferGeometry=bi,t.OctahedronGeometry=_i,t.OctahedronBufferGeometry=wi,t.IcosahedronGeometry=Mi,t.IcosahedronBufferGeometry=Ei,t.DodecahedronGeometry=Ti,t.DodecahedronBufferGeometry=Si,t.PolyhedronGeometry=vi,t.PolyhedronBufferGeometry=yi,t.TubeGeometry=Ai,t.TubeBufferGeometry=Li,t.TorusKnotGeometry=Ri,t.TorusKnotBufferGeometry=Pi,t.TorusGeometry=Ci,t.TorusBufferGeometry=Oi,t.TextGeometry=ca,t.TextBufferGeometry=ha,t.SphereGeometry=la,t.SphereBufferGeometry=ua,t.RingGeometry=pa,t.RingBufferGeometry=da,t.PlaneGeometry=gn,t.PlaneBufferGeometry=vn,t.LatheGeometry=fa,t.LatheBufferGeometry=ma,t.ShapeGeometry=ga,t.ShapeBufferGeometry=va,t.ExtrudeGeometry=ia,t.ExtrudeBufferGeometry=aa,t.EdgesGeometry=xa,t.ConeGeometry=wa,t.ConeBufferGeometry=Ma,t.CylinderGeometry=ba,t.CylinderBufferGeometry=_a,t.CircleGeometry=Ea,t.CircleBufferGeometry=Ta,t.BoxGeometry=fn,t.BoxBufferGeometry=mn,t.ShadowMaterial=Aa,t.SpriteMaterial=Kr,t.RawShaderMaterial=La,t.ShaderMaterial=bn,t.PointsMaterial=ci,t.MeshPhysicalMaterial=Pa,t.MeshStandardMaterial=Ra,t.MeshPhongMaterial=Ca,t.MeshToonMaterial=Oa,t.MeshNormalMaterial=Ia,t.MeshLambertMaterial=Na,t.MeshDepthMaterial=Ur,t.MeshDistanceMaterial=Br,t.MeshBasicMaterial=Mn,t.MeshMatcapMaterial=Da,t.LineDashedMaterial=Ua,t.LineBasicMaterial=ii,t.Material=xn,t.Float64BufferAttribute=hn,t.Float32BufferAttribute=cn,t.Uint32BufferAttribute=sn,t.Int32BufferAttribute=on,t.Uint16BufferAttribute=an,t.Int16BufferAttribute=rn,t.Uint8ClampedBufferAttribute=nn,t.Uint8BufferAttribute=en,t.Int8BufferAttribute=tn,t.BufferAttribute=$e,t.ArcCurve=Ja,t.CatmullRomCurve3=no,t.CubicBezierCurve=oo,t.CubicBezierCurve3=so,t.EllipseCurve=Za,t.LineCurve=co,t.LineCurve3=ho,t.QuadraticBezierCurve=lo,t.QuadraticBezierCurve3=uo,t.SplineCurve=po,t.REVISION=n,t.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},t.CullFaceNone=r,t.CullFaceBack=i,t.CullFaceFront=a,t.CullFaceFrontBack=3,t.FrontFaceDirectionCW=0,t.FrontFaceDirectionCCW=1,t.BasicShadowMap=0,t.PCFShadowMap=s,t.PCFSoftShadowMap=c,t.FrontSide=h,t.BackSide=l,t.DoubleSide=u,t.FlatShading=1,t.SmoothShading=2,t.NoColors=p,t.FaceColors=d,t.VertexColors=f,t.NoBlending=m,t.NormalBlending=g,t.AdditiveBlending=v,t.SubtractiveBlending=y,t.MultiplyBlending=x,t.CustomBlending=b,t.AddEquation=_,t.SubtractEquation=w,t.ReverseSubtractEquation=M,t.MinEquation=E,t.MaxEquation=T,t.ZeroFactor=S,t.OneFactor=A,t.SrcColorFactor=L,t.OneMinusSrcColorFactor=R,t.SrcAlphaFactor=P,t.OneMinusSrcAlphaFactor=C,t.DstAlphaFactor=O,t.OneMinusDstAlphaFactor=I,t.DstColorFactor=N,t.OneMinusDstColorFactor=D,t.SrcAlphaSaturateFactor=U,t.NeverDepth=B,t.AlwaysDepth=F,t.LessDepth=z,t.LessEqualDepth=H,t.EqualDepth=G,t.GreaterEqualDepth=V,t.GreaterDepth=k,t.NotEqualDepth=j,t.MultiplyOperation=W,t.MixOperation=X,t.AddOperation=q,t.NoToneMapping=Y,t.LinearToneMapping=Z,t.ReinhardToneMapping=J,t.Uncharted2ToneMapping=Q,t.CineonToneMapping=K,t.UVMapping=300,t.CubeReflectionMapping=$,t.CubeRefractionMapping=tt,t.EquirectangularReflectionMapping=et,t.EquirectangularRefractionMapping=nt,t.SphericalReflectionMapping=rt,t.CubeUVReflectionMapping=it,t.CubeUVRefractionMapping=at,t.RepeatWrapping=ot,t.ClampToEdgeWrapping=st,t.MirroredRepeatWrapping=ct,t.NearestFilter=ht,t.NearestMipMapNearestFilter=lt,t.NearestMipMapLinearFilter=ut,t.LinearFilter=pt,t.LinearMipMapNearestFilter=dt,t.LinearMipMapLinearFilter=ft,t.UnsignedByteType=mt,t.ByteType=gt,t.ShortType=vt,t.UnsignedShortType=yt,t.IntType=xt,t.UnsignedIntType=bt,t.FloatType=_t,t.HalfFloatType=wt,t.UnsignedShort4444Type=Mt,t.UnsignedShort5551Type=Et,t.UnsignedShort565Type=Tt,t.UnsignedInt248Type=St,t.AlphaFormat=At,t.RGBFormat=Lt,t.RGBAFormat=Rt,t.LuminanceFormat=Pt,t.LuminanceAlphaFormat=Ct,t.RGBEFormat=Ot,t.DepthFormat=It,t.DepthStencilFormat=Nt,t.RedFormat=Dt,t.RGB_S3TC_DXT1_Format=Ut,t.RGBA_S3TC_DXT1_Format=Bt,t.RGBA_S3TC_DXT3_Format=Ft,t.RGBA_S3TC_DXT5_Format=zt,t.RGB_PVRTC_4BPPV1_Format=Ht,t.RGB_PVRTC_2BPPV1_Format=Gt,t.RGBA_PVRTC_4BPPV1_Format=Vt,t.RGBA_PVRTC_2BPPV1_Format=kt,t.RGB_ETC1_Format=jt,t.RGBA_ASTC_4x4_Format=Wt,t.RGBA_ASTC_5x4_Format=Xt,t.RGBA_ASTC_5x5_Format=qt,t.RGBA_ASTC_6x5_Format=Yt,t.RGBA_ASTC_6x6_Format=Zt,t.RGBA_ASTC_8x5_Format=Jt,t.RGBA_ASTC_8x6_Format=Qt,t.RGBA_ASTC_8x8_Format=Kt,t.RGBA_ASTC_10x5_Format=$t,t.RGBA_ASTC_10x6_Format=te,t.RGBA_ASTC_10x8_Format=ee,t.RGBA_ASTC_10x10_Format=ne,t.RGBA_ASTC_12x10_Format=re,t.RGBA_ASTC_12x12_Format=ie,t.LoopOnce=2200,t.LoopRepeat=ae,t.LoopPingPong=2202,t.InterpolateDiscrete=2300,t.InterpolateLinear=2301,t.InterpolateSmooth=2302,t.ZeroCurvatureEnding=oe,t.ZeroSlopeEnding=2401,t.WrapAroundEnding=2402,t.TrianglesDrawMode=se,t.TriangleStripDrawMode=ce,t.TriangleFanDrawMode=he,t.LinearEncoding=le,t.sRGBEncoding=ue,t.GammaEncoding=pe,t.RGBEEncoding=de,t.LogLuvEncoding=3003,t.RGBM7Encoding=fe,t.RGBM16Encoding=me,t.RGBDEncoding=ge,t.BasicDepthPacking=ve,t.RGBADepthPacking=ye,t.TangentSpaceNormalMap=xe,t.ObjectSpaceNormalMap=be,t.CubeGeometry=fn,t.Face4=function(t,e,n,r,i,a,o){return console.warn(\"THREE.Face4 has been removed. A THREE.Face3 will be created instead.\"),new Xe(t,e,n,i,a,o)},t.LineStrip=0,t.LinePieces=1,t.MeshFaceMaterial=function(t){return console.warn(\"THREE.MeshFaceMaterial has been removed. Use an Array instead.\"),t},t.MultiMaterial=function(t){return void 0===t&&(t=[]),console.warn(\"THREE.MultiMaterial has been removed. Use an Array instead.\"),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t},t.PointCloud=function(t,e){return console.warn(\"THREE.PointCloud has been renamed to THREE.Points.\"),new hi(t,e)},t.Particle=function(t){return console.warn(\"THREE.Particle has been renamed to THREE.Sprite.\"),new $r(t)},t.ParticleSystem=function(t,e){return console.warn(\"THREE.ParticleSystem has been renamed to THREE.Points.\"),new hi(t,e)},t.PointCloudMaterial=function(t){return console.warn(\"THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.\"),new ci(t)},t.ParticleBasicMaterial=function(t){return console.warn(\"THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.\"),new ci(t)},t.ParticleSystemMaterial=function(t){return console.warn(\"THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.\"),new ci(t)},t.Vertex=function(t,e,n){return console.warn(\"THREE.Vertex has been removed. Use THREE.Vector3 instead.\"),new Te(t,e,n)},t.DynamicBufferAttribute=function(t,e){return console.warn(\"THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.\"),new $e(t,e).setDynamic(!0)},t.Int8Attribute=function(t,e){return console.warn(\"THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.\"),new tn(t,e)},t.Uint8Attribute=function(t,e){return console.warn(\"THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.\"),new en(t,e)},t.Uint8ClampedAttribute=function(t,e){return console.warn(\"THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.\"),new nn(t,e)},t.Int16Attribute=function(t,e){return console.warn(\"THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.\"),new rn(t,e)},t.Uint16Attribute=function(t,e){return console.warn(\"THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.\"),new an(t,e)},t.Int32Attribute=function(t,e){return console.warn(\"THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.\"),new on(t,e)},t.Uint32Attribute=function(t,e){return console.warn(\"THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.\"),new sn(t,e)},t.Float32Attribute=function(t,e){return console.warn(\"THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.\"),new cn(t,e)},t.Float64Attribute=function(t,e){return console.warn(\"THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.\"),new hn(t,e)},t.ClosedSplineCurve3=Qs,t.SplineCurve3=Ks,t.Spline=$s,t.AxisHelper=function(t){return console.warn(\"THREE.AxisHelper has been renamed to THREE.AxesHelper.\"),new Js(t)},t.BoundingBoxHelper=function(t,e){return console.warn(\"THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.\"),new Xs(t,e)},t.EdgesHelper=function(t,e){return console.warn(\"THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.\"),new oi(new xa(t.geometry),new ii({color:void 0!==e?e:16777215}))},t.WireframeHelper=function(t,e){return console.warn(\"THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.\"),new oi(new fi(t.geometry),new ii({color:void 0!==e?e:16777215}))},t.XHRLoader=function(t){return console.warn(\"THREE.XHRLoader has been renamed to THREE.FileLoader.\"),new Va(t)},t.BinaryTextureLoader=function(t){return console.warn(\"THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.\"),new ja(t)},t.GeometryUtils=tc,t.Projector=function(){console.error(\"THREE.Projector has been moved to /examples/js/renderers/Projector.js.\"),this.projectVector=function(t,e){console.warn(\"THREE.Projector: .projectVector() is now vector.project().\"),t.project(e)},this.unprojectVector=function(t,e){console.warn(\"THREE.Projector: .unprojectVector() is now vector.unproject().\"),t.unproject(e)},this.pickingRay=function(){console.error(\"THREE.Projector: .pickingRay() is now raycaster.setFromCamera().\")}},t.CanvasRenderer=function(){console.error(\"THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js\"),this.domElement=document.createElementNS(\"http://www.w3.org/1999/xhtml\",\"canvas\"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},t.SceneUtils=ec,t.LensFlare=function(){console.error(\"THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js\")},Object.defineProperty(t,\"__esModule\",{value:!0})})}]);","extractedComments":[]}